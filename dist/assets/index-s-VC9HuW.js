(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var kp={exports:{}},ru={};var a_;function C2(){if(a_)return ru;a_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return ru.Fragment=t,ru.jsx=i,ru.jsxs=i,ru}var o_;function R2(){return o_||(o_=1,kp.exports=C2()),kp.exports}var y=R2(),Bp={exports:{}},kt={};var l_;function I2(){if(l_)return kt;l_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,F={};function Y(D,G,rt){this.props=D,this.context=G,this.refs=F,this.updater=rt||N}Y.prototype.isReactComponent={},Y.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},Y.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=Y.prototype;function U(D,G,rt){this.props=D,this.context=G,this.refs=F,this.updater=rt||N}var K=U.prototype=new k;K.constructor=U,P(K,Y.prototype),K.isPureReactComponent=!0;var $=Array.isArray;function J(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,G,rt){var dt=rt.ref;return{$$typeof:n,type:D,key:G,ref:dt!==void 0?dt:null,props:rt}}function V(D,G){return R(D.type,G,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function L(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return G[rt]})}var I=/\/+/g;function bt(D,G){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):G.toString(36)}function wt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(J,J):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,G,rt,dt,gt){var mt=typeof D;(mt==="undefined"||mt==="boolean")&&(D=null);var St=!1;if(D===null)St=!0;else switch(mt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(D.$$typeof){case n:case t:St=!0;break;case v:return St=D._init,H(St(D._payload),G,rt,dt,gt)}}if(St)return gt=gt(D),St=dt===""?"."+bt(D,0):dt,$(gt)?(rt="",St!=null&&(rt=St.replace(I,"$&/")+"/"),H(gt,G,rt,"",function(vn){return vn})):gt!=null&&(M(gt)&&(gt=V(gt,rt+(gt.key==null||D&&D.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+St)),G.push(gt)),1;St=0;var Jt=dt===""?".":dt+":";if($(D))for(var Wt=0;Wt<D.length;Wt++)dt=D[Wt],mt=Jt+bt(dt,Wt),St+=H(dt,G,rt,mt,gt);else if(Wt=j(D),typeof Wt=="function")for(D=Wt.call(D),Wt=0;!(dt=D.next()).done;)dt=dt.value,mt=Jt+bt(dt,Wt++),St+=H(dt,G,rt,mt,gt);else if(mt==="object"){if(typeof D.then=="function")return H(wt(D),G,rt,dt,gt);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return St}function tt(D,G,rt){if(D==null)return D;var dt=[],gt=0;return H(D,dt,"","",function(mt){return G.call(rt,mt,gt++)}),dt}function et(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},it={map:tt,forEach:function(D,G,rt){tt(D,function(){G.apply(this,arguments)},rt)},count:function(D){var G=0;return tt(D,function(){G++}),G},toArray:function(D){return tt(D,function(G){return G})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return kt.Activity=b,kt.Children=it,kt.Component=Y,kt.Fragment=i,kt.Profiler=o,kt.PureComponent=U,kt.StrictMode=r,kt.Suspense=m,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,kt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},kt.cache=function(D){return function(){return D.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(D,G,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var dt=P({},D.props),gt=D.key;if(G!=null)for(mt in G.key!==void 0&&(gt=""+G.key),G)!A.call(G,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&G.ref===void 0||(dt[mt]=G[mt]);var mt=arguments.length-2;if(mt===1)dt.children=rt;else if(1<mt){for(var St=Array(mt),Jt=0;Jt<mt;Jt++)St[Jt]=arguments[Jt+2];dt.children=St}return R(D.type,gt,dt)},kt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},kt.createElement=function(D,G,rt){var dt,gt={},mt=null;if(G!=null)for(dt in G.key!==void 0&&(mt=""+G.key),G)A.call(G,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(gt[dt]=G[dt]);var St=arguments.length-2;if(St===1)gt.children=rt;else if(1<St){for(var Jt=Array(St),Wt=0;Wt<St;Wt++)Jt[Wt]=arguments[Wt+2];gt.children=Jt}if(D&&D.defaultProps)for(dt in St=D.defaultProps,St)gt[dt]===void 0&&(gt[dt]=St[dt]);return R(D,mt,gt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(D){return{$$typeof:d,render:D}},kt.isValidElement=M,kt.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:et}},kt.memo=function(D,G){return{$$typeof:g,type:D,compare:G===void 0?null:G}},kt.startTransition=function(D){var G=C.T,rt={};C.T=rt;try{var dt=D(),gt=C.S;gt!==null&&gt(rt,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(J,pt)}catch(mt){pt(mt)}finally{G!==null&&rt.types!==null&&(G.types=rt.types),C.T=G}},kt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},kt.use=function(D){return C.H.use(D)},kt.useActionState=function(D,G,rt){return C.H.useActionState(D,G,rt)},kt.useCallback=function(D,G){return C.H.useCallback(D,G)},kt.useContext=function(D){return C.H.useContext(D)},kt.useDebugValue=function(){},kt.useDeferredValue=function(D,G){return C.H.useDeferredValue(D,G)},kt.useEffect=function(D,G){return C.H.useEffect(D,G)},kt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},kt.useId=function(){return C.H.useId()},kt.useImperativeHandle=function(D,G,rt){return C.H.useImperativeHandle(D,G,rt)},kt.useInsertionEffect=function(D,G){return C.H.useInsertionEffect(D,G)},kt.useLayoutEffect=function(D,G){return C.H.useLayoutEffect(D,G)},kt.useMemo=function(D,G){return C.H.useMemo(D,G)},kt.useOptimistic=function(D,G){return C.H.useOptimistic(D,G)},kt.useReducer=function(D,G,rt){return C.H.useReducer(D,G,rt)},kt.useRef=function(D){return C.H.useRef(D)},kt.useState=function(D){return C.H.useState(D)},kt.useSyncExternalStore=function(D,G,rt){return C.H.useSyncExternalStore(D,G,rt)},kt.useTransition=function(){return C.H.useTransition()},kt.version="19.2.3",kt}var u_;function pg(){return u_||(u_=1,Bp.exports=I2()),Bp.exports}var z=pg(),zp={exports:{}},au={},Up={exports:{}},Fp={};var c_;function D2(){return c_||(c_=1,(function(n){function t(H,tt){var et=H.length;H.push(tt);t:for(;0<et;){var pt=et-1>>>1,it=H[pt];if(0<o(it,tt))H[pt]=tt,H[et]=it,et=pt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var tt=H[0],et=H.pop();if(et!==tt){H[0]=et;t:for(var pt=0,it=H.length,D=it>>>1;pt<D;){var G=2*(pt+1)-1,rt=H[G],dt=G+1,gt=H[dt];if(0>o(rt,et))dt<it&&0>o(gt,rt)?(H[pt]=gt,H[dt]=et,pt=dt):(H[pt]=rt,H[G]=et,pt=G);else if(dt<it&&0>o(gt,et))H[pt]=gt,H[dt]=et,pt=dt;else break t}}return tt}function o(H,tt){var et=H.sortIndex-tt.sortIndex;return et!==0?et:H.id-tt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,S=3,j=!1,N=!1,P=!1,F=!1,Y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(H){for(var tt=i(g);tt!==null;){if(tt.callback===null)r(g);else if(tt.startTime<=H)r(g),tt.sortIndex=tt.expirationTime,t(m,tt);else break;tt=i(g)}}function $(H){if(P=!1,K(H),!N)if(i(m)!==null)N=!0,J||(J=!0,L());else{var tt=i(g);tt!==null&&wt($,tt.startTime-H)}}var J=!1,C=-1,A=5,R=-1;function V(){return F?!0:!(n.unstable_now()-R<A)}function M(){if(F=!1,J){var H=n.unstable_now();R=H;var tt=!0;try{t:{N=!1,P&&(P=!1,k(C),C=-1),j=!0;var et=S;try{e:{for(K(H),b=i(m);b!==null&&!(b.expirationTime>H&&V());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,S=b.priorityLevel;var it=pt(b.expirationTime<=H);if(H=n.unstable_now(),typeof it=="function"){b.callback=it,K(H),tt=!0;break e}b===i(m)&&r(m),K(H)}else r(m);b=i(m)}if(b!==null)tt=!0;else{var D=i(g);D!==null&&wt($,D.startTime-H),tt=!1}}break t}finally{b=null,S=et,j=!1}tt=void 0}}finally{tt?L():J=!1}}}var L;if(typeof U=="function")L=function(){U(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,bt=I.port2;I.port1.onmessage=M,L=function(){bt.postMessage(null)}}else L=function(){Y(M,0)};function wt(H,tt){C=Y(function(){H(n.unstable_now())},tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(H){switch(S){case 1:case 2:case 3:var tt=3;break;default:tt=S}var et=S;S=tt;try{return H()}finally{S=et}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var et=S;S=H;try{return tt()}finally{S=et}},n.unstable_scheduleCallback=function(H,tt,et){var pt=n.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?pt+et:pt):et=pt,H){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=et+it,H={id:v++,callback:tt,priorityLevel:H,startTime:et,expirationTime:it,sortIndex:-1},et>pt?(H.sortIndex=et,t(g,H),i(m)===null&&H===i(g)&&(P?(k(C),C=-1):P=!0,wt($,et-pt))):(H.sortIndex=it,t(m,H),N||j||(N=!0,J||(J=!0,L()))),H},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(H){var tt=S;return function(){var et=S;S=tt;try{return H.apply(this,arguments)}finally{S=et}}}})(Fp)),Fp}var h_;function V2(){return h_||(h_=1,Up.exports=D2()),Up.exports}var qp={exports:{}},xn={};var f_;function j2(){if(f_)return xn;f_=1;var n=pg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},xn.flushSync=function(m){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=v,r.d.f()}},xn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},xn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},xn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:j}):v==="script"&&r.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},xn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},xn.requestFormReset=function(m){r.d.r(m)},xn.unstable_batchedUpdates=function(m,g){return m(g)},xn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},xn.useFormStatus=function(){return c.H.useHostTransitionStatus()},xn.version="19.2.3",xn}var d_;function M2(){if(d_)return qp.exports;d_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qp.exports=j2(),qp.exports}var p_;function O2(){if(p_)return au;p_=1;var n=V2(),t=pg(),i=M2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),e;if(p===l)return m(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,l=p;break}if(E===l){x=!0,l=f,a=p;break}E=E.sibling}if(!x){for(E=p.child;E;){if(E===a){x=!0,a=p,l=f;break}if(E===l){x=!0,l=p,a=f;break}E=E.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case Y:return"Profiler";case F:return"StrictMode";case $:return"Suspense";case J:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case U:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case K:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return s=e.displayName||null,s!==null?s:bt(e.type)||"Memo";case A:s=e._payload,e=e._init;try{return bt(e(s))}catch{}}return null}var wt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},pt=[],it=-1;function D(e){return{current:e}}function G(e){0>it||(e.current=pt[it],pt[it]=null,it--)}function rt(e,s){it++,pt[it]=e.current,e.current=s}var dt=D(null),gt=D(null),mt=D(null),St=D(null);function Jt(e,s){switch(rt(mt,s),rt(gt,e),rt(dt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?I1(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=I1(s),e=D1(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(dt),rt(dt,e)}function Wt(){G(dt),G(gt),G(mt)}function vn(e){e.memoizedState!==null&&rt(St,e);var s=dt.current,a=D1(s,e.type);s!==a&&(rt(gt,e),rt(dt,a))}function zn(e){gt.current===e&&(G(dt),G(gt)),St.current===e&&(G(St),eu._currentValue=et)}var Un,_n;function bn(e){if(Un===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Un=s&&s[1]||"",_n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+e+_n}var ni=!1;function Si(e,s){if(!e||ni)return"";ni=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(st){var Z=st}Reflect.construct(e,[],ht)}else{try{ht.call()}catch(st){Z=st}e.call(ht.prototype)}}else{try{throw Error()}catch(st){Z=st}(ht=e())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(st){if(st&&Z&&typeof st.stack=="string")return[st.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),x=p[0],E=p[1];if(x&&E){var O=x.split(`
`),W=E.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===W.length)for(l=O.length-1,f=W.length-1;1<=l&&0<=f&&O[l]!==W[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==W[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==W[f]){var at=`
`+O[l].replace(" at new "," at ");return e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",e.displayName)),at}while(1<=l&&0<=f);break}}}finally{ni=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bn(a):""}function Ei(e,s){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==s&&s!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Si(e.type,!1);case 11:return Si(e.type.render,!1);case 1:return Si(e.type,!0);case 31:return bn("Activity");default:return""}}function vs(e){try{var s="",a=null;do s+=Ei(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,ot=n.unstable_cancelCallback,Rt=n.unstable_shouldYield,At=n.unstable_requestPaint,ee=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ii=n.unstable_UserBlockingPriority,Ys=n.unstable_NormalPriority,Uf=n.unstable_LowPriority,Ku=n.unstable_IdlePriority,Xu=n.log,Wu=n.unstable_setDisableYieldValue,Ai=null,ln=null;function si(e){if(typeof Xu=="function"&&Wu(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ai,e)}catch{}}var Me=Math.clz32?Math.clz32:Zu,$u=Math.log,Fa=Math.LN2;function Zu(e){return e>>>=0,e===0?32:31-($u(e)/Fa|0)|0}var Fi=256,Kr=262144,Be=4194304;function qi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,p=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?f=qi(l):(x&=E,x!==0?f=qi(x):a||(a=E&~e,a!==0&&(f=qi(a))))):(E=l&~p,E!==0?f=qi(E):x!==0?f=qi(x):a||(a=l&~e,a!==0&&(f=qi(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function wi(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Ff(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function Gi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Xr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qf(e,s,a,l,f,p){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,O=e.expirationTimes,W=e.hiddenUpdates;for(a=x&~a;0<a;){var at=31-Me(a),ht=1<<at;E[at]=0,O[at]=-1;var Z=W[at];if(Z!==null)for(W[at]=null,at=0;at<Z.length;at++){var st=Z[at];st!==null&&(st.lane&=-536870913)}a&=~ht}l!==0&&Wr(e,l,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(x&~s))}function Wr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Me(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function al(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Me(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function ol(e,s){var a=s&-s;return a=(a&42)!==0?1:$r(a),(a&(e.suspendedLanes|s))!==0?0:a}function $r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:J1(e.type))}function Ci(e,s){var a=tt.p;try{return tt.p=e,s()}finally{tt.p=a}}var Ri=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ri,en="__reactProps$"+Ri,Yi="__reactContainer$"+Ri,qa="__reactEvents$"+Ri,Hf="__reactListeners$"+Ri,ec="__reactHandles$"+Ri,nc="__reactResources$"+Ri,Qi="__reactMarker$"+Ri;function Ha(e){delete e[ze],delete e[en],delete e[qa],delete e[Hf],delete e[ec]}function Ki(e){var s=e[ze];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Yi]||a[ze]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=P1(e);e!==null;){if(a=e[ze])return a;e=P1(e)}return s}e=a,a=e.parentNode}return null}function ri(e){if(e=e[ze]||e[Yi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Fn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Xi(e){var s=e[nc];return s||(s=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(e){e[Qi]=!0}var ll=new Set,ul={};function Wi(e,s){$i(e,s),$i(e+"Capture",s)}function $i(e,s){for(ul[e]=s,e=0;e<s.length;e++)ll.add(s[e])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function ic(e){return re.call(fl,e)?!0:re.call(hl,e)?!1:cl.test(e)?fl[e]=!0:(hl[e]=!0,!1)}function Ga(e,s,a){if(ic(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function qn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Fe(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qs(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dl(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,p.call(this,x)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function he(e){if(!e._valueTracker){var s=Qs(e)?"checked":"value";e._valueTracker=dl(e,s,""+e[s])}}function Zr(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Qs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function Zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jr=/[\n"\\]/g;function Dn(e){return e.replace(Jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ya(e,s,a,l,f,p,x,E){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),s!=null?x==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+nn(s)):e.value!==""+nn(s)&&(e.value=""+nn(s)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),s!=null?pl(e,x,nn(s)):a!=null?pl(e,x,nn(a)):l!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function sc(e,s,a,l,f,p,x,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){he(e);return}a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,E||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),he(e)}function pl(e,s,a){s==="number"&&Zi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ks(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function rc(e,s,a){if(s!=null&&(s=""+nn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+nn(a):""}function Xs(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(wt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),he(e)}function Vn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||ac.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function gl(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ml(e,f,l)}else for(var p in s)s.hasOwnProperty(p)&&ml(e,p,s[p])}function Qa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(e){return Ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ii(){}var yl=null;function ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $s=null,Ji=null;function ta(e){var s=ri(e);if(s&&(e=s.stateNode)){var a=e[en]||null;t:switch(e=s.stateNode,s.type){case"input":if(Ya(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[en]||null;if(!f)throw Error(r(90));Ya(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Zr(l)}break t;case"textarea":rc(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ks(e,!!a.multiple,s,!1)}}}var Xa=!1;function Zs(e,s,a){if(Xa)return e(s,a);Xa=!0;try{var l=e(s);return l}finally{if(Xa=!1,($s!==null||Ji!==null)&&(th(),$s&&(s=$s,e=Ji,Ji=$s=null,ta(s),e)))for(s=0;s<e.length;s++)ta(e[s])}}function Di(e,s){var a=e.stateNode;if(a===null)return null;var l=a[en]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(oi)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){ea=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{ea=!1}var ts=null,vl=null,na=null;function _l(){if(na)return na;var e,s=vl,a=s.length,l,f="value"in ts?ts.value:ts.textContent,p=f.length;for(e=0;e<a&&s[e]===f[e];e++);var x=a-e;for(l=1;l<=x&&s[a-l]===f[p-l];l++);return na=f.slice(e,1<l?1-l:void 0)}function ia(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function Vi(){return!1}function un(e){function s(a,l,f,p,x){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bs:Vi,this.isPropagationStopped=Vi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),s}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=un(xs),Js=b({},xs,{view:0,detail:0}),bl=un(Js),tr,Wa,ns,$a=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(tr=e.screenX-ns.screenX,Wa=e.screenY-ns.screenY):Wa=tr=0,ns=e),tr)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),xl=un($a),sa=b({},$a,{dataTransfer:0}),lc=un(sa),uc=b({},Js,{relatedTarget:0}),ra=un(uc),Tl=b({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=un(Tl),Za=b({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hc=un(Za),fc=b({},xs,{data:0}),is=un(fc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=mc[e])?!!s[e]:!1}function er(){return gc}var wn=b({},Js,{key:function(e){if(e.key){var s=dc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yc=un(wn),vc=b({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=un(vc),h=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),_=un(h),T=b({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=un(T),Q=b({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=un(Q),yt=b({},xs,{newState:0,oldState:0}),zt=un(yt),Oe=[9,13,27,32],oe=oi&&"CompositionEvent"in window,Ee=null;oi&&"documentMode"in document&&(Ee=document.documentMode);var li=oi&&"TextEvent"in window&&!Ee,ss=oi&&(!oe||Ee&&8<Ee&&11>=Ee),ji=" ",Mi=!1;function aa(e,s){switch(e){case"keyup":return Oe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function $A(e,s){switch(e){case"compositionend":return Ja(s);case"keypress":return s.which!==32?null:(Mi=!0,ji);case"textInput":return e=s.data,e===ji&&Mi?null:e;default:return null}}function ZA(e,s){if(to)return e==="compositionend"||!oe&&aa(e,s)?(e=_l(),na=vl=ts=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ss&&s.locale!=="ko"?null:s.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!JA[e.type]:s==="textarea"}function Uy(e,s,a,l){$s?Ji?Ji.push(l):Ji=[l]:$s=l,s=oh(s,"onChange"),0<s.length&&(a=new es("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Sl=null,El=null;function tw(e){S1(e,0)}function _c(e){var s=Fn(e);if(Zr(s))return e}function Fy(e,s){if(e==="change")return s}var qy=!1;if(oi){var Gf;if(oi){var Yf="oninput"in document;if(!Yf){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Yf=typeof Hy.oninput=="function"}Gf=Yf}else Gf=!1;qy=Gf&&(!document.documentMode||9<document.documentMode)}function Gy(){Sl&&(Sl.detachEvent("onpropertychange",Yy),El=Sl=null)}function Yy(e){if(e.propertyName==="value"&&_c(El)){var s=[];Uy(s,El,e,ai(e)),Zs(tw,s)}}function ew(e,s,a){e==="focusin"?(Gy(),Sl=s,El=a,Sl.attachEvent("onpropertychange",Yy)):e==="focusout"&&Gy()}function nw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(El)}function iw(e,s){if(e==="click")return _c(s)}function sw(e,s){if(e==="input"||e==="change")return _c(s)}function rw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Hn=typeof Object.is=="function"?Object.is:rw;function Al(e,s){if(Hn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!re.call(s,f)||!Hn(e[f],s[f]))return!1}return!0}function Qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ky(e,s){var a=Qy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qy(a)}}function Xy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Xy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Wy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Zi(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Zi(e.document)}return s}function Qf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var aw=oi&&"documentMode"in document&&11>=document.documentMode,eo=null,Kf=null,wl=null,Xf=!1;function $y(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||eo==null||eo!==Zi(l)||(l=eo,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&Al(wl,l)||(wl=l,l=oh(Kf,"onSelect"),0<l.length&&(s=new es("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=eo)))}function oa(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var no={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Wf={},Zy={};oi&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function la(e){if(Wf[e])return Wf[e];if(!no[e])return e;var s=no[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Zy)return Wf[e]=s[a];return e}var Jy=la("animationend"),t0=la("animationiteration"),e0=la("animationstart"),ow=la("transitionrun"),lw=la("transitionstart"),uw=la("transitioncancel"),n0=la("transitionend"),i0=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function Oi(e,s){i0.set(e,s),Wi(s,[e])}var bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ui=[],io=0,Zf=0;function xc(){for(var e=io,s=Zf=io=0;s<e;){var a=ui[s];ui[s++]=null;var l=ui[s];ui[s++]=null;var f=ui[s];ui[s++]=null;var p=ui[s];if(ui[s++]=null,l!==null&&f!==null){var x=l.pending;x===null?f.next=f:(f.next=x.next,x.next=f),l.pending=f}p!==0&&s0(a,f,p)}}function Tc(e,s,a,l){ui[io++]=e,ui[io++]=s,ui[io++]=a,ui[io++]=l,Zf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jf(e,s,a,l){return Tc(e,s,a,l),Sc(e)}function ua(e,s){return Tc(e,null,null,s),Sc(e)}function s0(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=e.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&s!==null&&(f=31-Me(a),e=p.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Sc(e){if(50<Kl)throw Kl=0,lp=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var so={};function cw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,s,a,l){return new cw(e,s,a,l)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ss(e,s){var a=e.alternate;return a===null?(a=Gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function r0(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Ec(e,s,a,l,f,p){var x=0;if(l=e,typeof e=="function")td(e)&&(x=1);else if(typeof e=="string")x=m2(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Gn(31,a,s,f),e.elementType=R,e.lanes=p,e;case P:return ca(a.children,f,p,s);case F:x=8,f|=24;break;case Y:return e=Gn(12,a,s,f|2),e.elementType=Y,e.lanes=p,e;case $:return e=Gn(13,a,s,f),e.elementType=$,e.lanes=p,e;case J:return e=Gn(19,a,s,f),e.elementType=J,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:x=10;break t;case k:x=9;break t;case K:x=11;break t;case C:x=14;break t;case A:x=16,l=null;break t}x=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Gn(x,a,s,f),s.elementType=e,s.type=l,s.lanes=p,s}function ca(e,s,a,l){return e=Gn(7,e,l,s),e.lanes=a,e}function ed(e,s,a){return e=Gn(6,e,null,s),e.lanes=a,e}function a0(e){var s=Gn(18,null,null,0);return s.stateNode=e,s}function nd(e,s,a){return s=Gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var o0=new WeakMap;function ci(e,s){if(typeof e=="object"&&e!==null){var a=o0.get(e);return a!==void 0?a:(s={value:e,source:s,stack:vs(s)},o0.set(e,s),s)}return{value:e,source:s,stack:vs(s)}}var ro=[],ao=0,Ac=null,Cl=0,hi=[],fi=0,nr=null,rs=1,as="";function Es(e,s){ro[ao++]=Cl,ro[ao++]=Ac,Ac=e,Cl=s}function l0(e,s,a){hi[fi++]=rs,hi[fi++]=as,hi[fi++]=nr,nr=e;var l=rs;e=as;var f=32-Me(l)-1;l&=~(1<<f),a+=1;var p=32-Me(s)+f;if(30<p){var x=f-f%5;p=(l&(1<<x)-1).toString(32),l>>=x,f-=x,rs=1<<32-Me(s)+f|a<<f|l,as=p+e}else rs=1<<p|a<<f|l,as=e}function id(e){e.return!==null&&(Es(e,1),l0(e,1,0))}function sd(e){for(;e===Ac;)Ac=ro[--ao],ro[ao]=null,Cl=ro[--ao],ro[ao]=null;for(;e===nr;)nr=hi[--fi],hi[fi]=null,as=hi[--fi],hi[fi]=null,rs=hi[--fi],hi[fi]=null}function u0(e,s){hi[fi++]=rs,hi[fi++]=as,hi[fi++]=nr,rs=s.id,as=s.overflow,nr=e}var cn=null,xe=null,Xt=!1,ir=null,di=!1,rd=Error(r(519));function sr(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(ci(s,e)),rd}function c0(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[ze]=e,s[en]=l,a){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(a=0;a<Wl.length;a++)Ht(Wl[a],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),sc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),Xs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||C1(s.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),l.onScroll!=null&&Ht("scroll",s),l.onScrollEnd!=null&&Ht("scrollend",s),l.onClick!=null&&(s.onclick=Ii),s=!0):s=!1,s||sr(e,!0)}function h0(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:cn=cn.return}}function oo(e){if(e!==cn)return!1;if(!Xt)return h0(e),Xt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sp(e.type,e.memoizedProps)),a=!a),a&&xe&&sr(e),h0(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xe=L1(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xe=L1(e)}else s===27?(s=xe,vr(e.type)?(e=Rp,Rp=null,xe=e):xe=s):xe=cn?mi(e.stateNode.nextSibling):null;return!0}function ha(){xe=cn=null,Xt=!1}function ad(){var e=ir;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),ir=null),e}function Rl(e){ir===null?ir=[e]:ir.push(e)}var od=D(null),fa=null,As=null;function rr(e,s,a){rt(od,s._currentValue),s._currentValue=a}function ws(e){e._currentValue=od.current,G(od)}function ld(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function ud(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var x=f.child;p=p.firstContext;t:for(;p!==null;){var E=p;p=f;for(var O=0;O<s.length;O++)if(E.context===s[O]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),ld(p.return,a,e),l||(x=null);break t}p=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(r(341));x.lanes|=a,p=x.alternate,p!==null&&(p.lanes|=a),ld(x,a,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function lo(e,s,a,l){e=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var E=f.type;Hn(f.pendingProps.value,x.value)||(e!==null?e.push(E):e=[E])}}else if(f===St.current){if(x=f.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(eu):e=[eu])}f=f.return}e!==null&&ud(s,e,a,l),s.flags|=262144}function wc(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,As=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function hn(e){return f0(fa,e)}function Cc(e,s){return fa===null&&da(e),f0(e,s)}function f0(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},As===null){if(e===null)throw Error(r(308));As=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else As=As.next=s;return a}var hw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},fw=n.unstable_scheduleCallback,dw=n.unstable_NormalPriority,qe={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new hw,data:new Map,refCount:0}}function Il(e){e.refCount--,e.refCount===0&&fw(dw,function(){e.controller.abort()})}var Dl=null,hd=0,uo=0,co=null;function pw(e,s){if(Dl===null){var a=Dl=[];hd=0,uo=pp(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hd++,s.then(d0,d0),s}function d0(){if(--hd===0&&Dl!==null){co!==null&&(co.status="fulfilled");var e=Dl;Dl=null,uo=0,co=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function mw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var p0=H.S;H.S=function(e,s){$v=ee(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pw(e,s),p0!==null&&p0(e,s)};var pa=D(null);function fd(){var e=pa.current;return e!==null?e:ve.pooledCache}function Rc(e,s){s===null?rt(pa,pa.current):rt(pa,s.pool)}function m0(){var e=fd();return e===null?null:{parent:qe._currentValue,pool:e}}var ho=Error(r(460)),dd=Error(r(474)),Ic=Error(r(542)),Dc={then:function(){}};function g0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function y0(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Ii,Ii),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_0(e),e;default:if(typeof s.status=="string")s.then(Ii,Ii);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_0(e),e}throw ga=s,ho}}function ma(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ga=a,ho):a}}var ga=null;function v0(){if(ga===null)throw Error(r(459));var e=ga;return ga=null,e}function _0(e){if(e===ho||e===Ic)throw Error(r(483))}var fo=null,Vl=0;function Vc(e){var s=Vl;return Vl+=1,fo===null&&(fo=[]),y0(fo,e,s)}function jl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function jc(e,s){throw s.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function b0(e){function s(q,B){if(e){var X=q.deletions;X===null?(q.deletions=[B],q.flags|=16):X.push(B)}}function a(q,B){if(!e)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function f(q,B){return q=Ss(q,B),q.index=0,q.sibling=null,q}function p(q,B,X){return q.index=X,e?(X=q.alternate,X!==null?(X=X.index,X<B?(q.flags|=67108866,B):X):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function x(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function E(q,B,X,lt){return B===null||B.tag!==6?(B=ed(X,q.mode,lt),B.return=q,B):(B=f(B,X),B.return=q,B)}function O(q,B,X,lt){var It=X.type;return It===P?at(q,B,X.props.children,lt,X.key):B!==null&&(B.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&ma(It)===B.type)?(B=f(B,X.props),jl(B,X),B.return=q,B):(B=Ec(X.type,X.key,X.props,null,q.mode,lt),jl(B,X),B.return=q,B)}function W(q,B,X,lt){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=nd(X,q.mode,lt),B.return=q,B):(B=f(B,X.children||[]),B.return=q,B)}function at(q,B,X,lt,It){return B===null||B.tag!==7?(B=ca(X,q.mode,lt,It),B.return=q,B):(B=f(B,X),B.return=q,B)}function ht(q,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ed(""+B,q.mode,X),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return X=Ec(B.type,B.key,B.props,null,q.mode,X),jl(X,B),X.return=q,X;case N:return B=nd(B,q.mode,X),B.return=q,B;case A:return B=ma(B),ht(q,B,X)}if(wt(B)||L(B))return B=ca(B,q.mode,X,null),B.return=q,B;if(typeof B.then=="function")return ht(q,Vc(B),X);if(B.$$typeof===U)return ht(q,Cc(q,B),X);jc(q,B)}return null}function Z(q,B,X,lt){var It=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return It!==null?null:E(q,B,""+X,lt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return X.key===It?O(q,B,X,lt):null;case N:return X.key===It?W(q,B,X,lt):null;case A:return X=ma(X),Z(q,B,X,lt)}if(wt(X)||L(X))return It!==null?null:at(q,B,X,lt,null);if(typeof X.then=="function")return Z(q,B,Vc(X),lt);if(X.$$typeof===U)return Z(q,B,Cc(q,X),lt);jc(q,X)}return null}function st(q,B,X,lt,It){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return q=q.get(X)||null,E(B,q,""+lt,It);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case j:return q=q.get(lt.key===null?X:lt.key)||null,O(B,q,lt,It);case N:return q=q.get(lt.key===null?X:lt.key)||null,W(B,q,lt,It);case A:return lt=ma(lt),st(q,B,X,lt,It)}if(wt(lt)||L(lt))return q=q.get(X)||null,at(B,q,lt,It,null);if(typeof lt.then=="function")return st(q,B,X,Vc(lt),It);if(lt.$$typeof===U)return st(q,B,X,Cc(B,lt),It);jc(B,lt)}return null}function Et(q,B,X,lt){for(var It=null,ie=null,Ct=B,Ft=B=0,Yt=null;Ct!==null&&Ft<X.length;Ft++){Ct.index>Ft?(Yt=Ct,Ct=null):Yt=Ct.sibling;var se=Z(q,Ct,X[Ft],lt);if(se===null){Ct===null&&(Ct=Yt);break}e&&Ct&&se.alternate===null&&s(q,Ct),B=p(se,B,Ft),ie===null?It=se:ie.sibling=se,ie=se,Ct=Yt}if(Ft===X.length)return a(q,Ct),Xt&&Es(q,Ft),It;if(Ct===null){for(;Ft<X.length;Ft++)Ct=ht(q,X[Ft],lt),Ct!==null&&(B=p(Ct,B,Ft),ie===null?It=Ct:ie.sibling=Ct,ie=Ct);return Xt&&Es(q,Ft),It}for(Ct=l(Ct);Ft<X.length;Ft++)Yt=st(Ct,q,Ft,X[Ft],lt),Yt!==null&&(e&&Yt.alternate!==null&&Ct.delete(Yt.key===null?Ft:Yt.key),B=p(Yt,B,Ft),ie===null?It=Yt:ie.sibling=Yt,ie=Yt);return e&&Ct.forEach(function(Sr){return s(q,Sr)}),Xt&&Es(q,Ft),It}function Vt(q,B,X,lt){if(X==null)throw Error(r(151));for(var It=null,ie=null,Ct=B,Ft=B=0,Yt=null,se=X.next();Ct!==null&&!se.done;Ft++,se=X.next()){Ct.index>Ft?(Yt=Ct,Ct=null):Yt=Ct.sibling;var Sr=Z(q,Ct,se.value,lt);if(Sr===null){Ct===null&&(Ct=Yt);break}e&&Ct&&Sr.alternate===null&&s(q,Ct),B=p(Sr,B,Ft),ie===null?It=Sr:ie.sibling=Sr,ie=Sr,Ct=Yt}if(se.done)return a(q,Ct),Xt&&Es(q,Ft),It;if(Ct===null){for(;!se.done;Ft++,se=X.next())se=ht(q,se.value,lt),se!==null&&(B=p(se,B,Ft),ie===null?It=se:ie.sibling=se,ie=se);return Xt&&Es(q,Ft),It}for(Ct=l(Ct);!se.done;Ft++,se=X.next())se=st(Ct,q,Ft,se.value,lt),se!==null&&(e&&se.alternate!==null&&Ct.delete(se.key===null?Ft:se.key),B=p(se,B,Ft),ie===null?It=se:ie.sibling=se,ie=se);return e&&Ct.forEach(function(w2){return s(q,w2)}),Xt&&Es(q,Ft),It}function ye(q,B,X,lt){if(typeof X=="object"&&X!==null&&X.type===P&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case j:t:{for(var It=X.key;B!==null;){if(B.key===It){if(It=X.type,It===P){if(B.tag===7){a(q,B.sibling),lt=f(B,X.props.children),lt.return=q,q=lt;break t}}else if(B.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&ma(It)===B.type){a(q,B.sibling),lt=f(B,X.props),jl(lt,X),lt.return=q,q=lt;break t}a(q,B);break}else s(q,B);B=B.sibling}X.type===P?(lt=ca(X.props.children,q.mode,lt,X.key),lt.return=q,q=lt):(lt=Ec(X.type,X.key,X.props,null,q.mode,lt),jl(lt,X),lt.return=q,q=lt)}return x(q);case N:t:{for(It=X.key;B!==null;){if(B.key===It)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){a(q,B.sibling),lt=f(B,X.children||[]),lt.return=q,q=lt;break t}else{a(q,B);break}else s(q,B);B=B.sibling}lt=nd(X,q.mode,lt),lt.return=q,q=lt}return x(q);case A:return X=ma(X),ye(q,B,X,lt)}if(wt(X))return Et(q,B,X,lt);if(L(X)){if(It=L(X),typeof It!="function")throw Error(r(150));return X=It.call(X),Vt(q,B,X,lt)}if(typeof X.then=="function")return ye(q,B,Vc(X),lt);if(X.$$typeof===U)return ye(q,B,Cc(q,X),lt);jc(q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(a(q,B.sibling),lt=f(B,X),lt.return=q,q=lt):(a(q,B),lt=ed(X,q.mode,lt),lt.return=q,q=lt),x(q)):a(q,B)}return function(q,B,X,lt){try{Vl=0;var It=ye(q,B,X,lt);return fo=null,It}catch(Ct){if(Ct===ho||Ct===Ic)throw Ct;var ie=Gn(29,Ct,null,q.mode);return ie.lanes=lt,ie.return=q,ie}}}var ya=b0(!0),x0=b0(!1),ar=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function or(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function lr(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Sc(e),s0(e,null,a),s}return Tc(e,l,s,a),Sc(e)}function Ml(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,al(e,a)}}function gd(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=x:p=p.next=x,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var yd=!1;function Ol(){if(yd){var e=co;if(e!==null)throw e}}function Nl(e,s,a,l){yd=!1;var f=e.updateQueue;ar=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,W=O.next;O.next=null,x===null?p=W:x.next=W,x=O;var at=e.alternate;at!==null&&(at=at.updateQueue,E=at.lastBaseUpdate,E!==x&&(E===null?at.firstBaseUpdate=W:E.next=W,at.lastBaseUpdate=O))}if(p!==null){var ht=f.baseState;x=0,at=W=O=null,E=p;do{var Z=E.lane&-536870913,st=Z!==E.lane;if(st?(Gt&Z)===Z:(l&Z)===Z){Z!==0&&Z===uo&&(yd=!0),at!==null&&(at=at.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=e,Vt=E;Z=s;var ye=a;switch(Vt.tag){case 1:if(Et=Vt.payload,typeof Et=="function"){ht=Et.call(ye,ht,Z);break t}ht=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Vt.payload,Z=typeof Et=="function"?Et.call(ye,ht,Z):Et,Z==null)break t;ht=b({},ht,Z);break t;case 2:ar=!0}}Z=E.callback,Z!==null&&(e.flags|=64,st&&(e.flags|=8192),st=f.callbacks,st===null?f.callbacks=[Z]:st.push(Z))}else st={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},at===null?(W=at=st,O=ht):at=at.next=st,x|=Z;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;st=E,E=st.next,st.next=null,f.lastBaseUpdate=st,f.shared.pending=null}}while(!0);at===null&&(O=ht),f.baseState=O,f.firstBaseUpdate=W,f.lastBaseUpdate=at,p===null&&(f.shared.lanes=0),dr|=x,e.lanes=x,e.memoizedState=ht}}function T0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function S0(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)T0(a[e],s)}var po=D(null),Mc=D(0);function E0(e,s){e=Ns,rt(Mc,e),rt(po,s),Ns=e|s.baseLanes}function vd(){rt(Mc,Ns),rt(po,po.current)}function _d(){Ns=Mc.current,G(po),G(Mc)}var Yn=D(null),pi=null;function ur(e){var s=e.alternate;rt(Ne,Ne.current&1),rt(Yn,e),pi===null&&(s===null||po.current!==null||s.memoizedState!==null)&&(pi=e)}function bd(e){rt(Ne,Ne.current),rt(Yn,e),pi===null&&(pi=e)}function A0(e){e.tag===22?(rt(Ne,Ne.current),rt(Yn,e),pi===null&&(pi=e)):cr()}function cr(){rt(Ne,Ne.current),rt(Yn,Yn.current)}function Qn(e){G(Yn),pi===e&&(pi=null),G(Ne)}var Ne=D(0);function Oc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wp(a)||Cp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cs=0,Ut=null,me=null,He=null,Nc=!1,mo=!1,va=!1,Lc=0,Ll=0,go=null,gw=0;function Ie(){throw Error(r(321))}function xd(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Hn(e[a],s[a]))return!1;return!0}function Td(e,s,a,l,f,p){return Cs=p,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=e===null||e.memoizedState===null?lv:Pd,va=!1,p=a(l,f),va=!1,mo&&(p=C0(s,a,l,f)),w0(e),p}function w0(e){H.H=Bl;var s=me!==null&&me.next!==null;if(Cs=0,He=me=Ut=null,Nc=!1,Ll=0,go=null,s)throw Error(r(300));e===null||Ge||(e=e.dependencies,e!==null&&wc(e)&&(Ge=!0))}function C0(e,s,a,l){Ut=e;var f=0;do{if(mo&&(go=null),Ll=0,mo=!1,25<=f)throw Error(r(301));if(f+=1,He=me=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=uv,p=s(a,l)}while(mo);return p}function yw(){var e=H.H,s=e.useState()[0];return s=typeof s.then=="function"?Pl(s):s,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(Ut.flags|=1024),s}function Sd(){var e=Lc!==0;return Lc=0,e}function Ed(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Ad(e){if(Nc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Nc=!1}Cs=0,He=me=Ut=null,mo=!1,Ll=Lc=0,go=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ut.memoizedState=He=e:He=He.next=e,He}function Le(){if(me===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var s=He===null?Ut.memoizedState:He.next;if(s!==null)He=s,me=e;else{if(e===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},He===null?Ut.memoizedState=He=e:He=He.next=e}return He}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var s=Ll;return Ll+=1,go===null&&(go=[]),e=y0(go,e,s),s=Ut,(He===null?s.memoizedState:He.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?lv:Pd),e}function kc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===U)return hn(e)}throw Error(r(438,String(e)))}function wd(e){var s=null,a=Ut.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Pc(),Ut.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=V;return s.index++,a}function Rs(e,s){return typeof s=="function"?s(e):s}function Bc(e){var s=Le();return Cd(s,me,e)}function Cd(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,p=l.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}s.baseQueue=f=p,l.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{s=f.next;var E=x=null,O=null,W=s,at=!1;do{var ht=W.lane&-536870913;if(ht!==W.lane?(Gt&ht)===ht:(Cs&ht)===ht){var Z=W.revertLane;if(Z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ht===uo&&(at=!0);else if((Cs&Z)===Z){W=W.next,Z===uo&&(at=!0);continue}else ht={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(E=O=ht,x=p):O=O.next=ht,Ut.lanes|=Z,dr|=Z;ht=W.action,va&&a(p,ht),p=W.hasEagerState?W.eagerState:a(p,ht)}else Z={lane:ht,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(E=O=Z,x=p):O=O.next=Z,Ut.lanes|=ht,dr|=ht;W=W.next}while(W!==null&&W!==s);if(O===null?x=p:O.next=E,!Hn(p,e.memoizedState)&&(Ge=!0,at&&(a=co,a!==null)))throw a;e.memoizedState=p,e.baseState=x,e.baseQueue=O,l.lastRenderedState=p}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rd(e){var s=Le(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do p=e(p,x.action),x=x.next;while(x!==f);Hn(p,s.memoizedState)||(Ge=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function R0(e,s,a){var l=Ut,f=Le(),p=Xt;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var x=!Hn((me||f).memoizedState,a);if(x&&(f.memoizedState=a,Ge=!0),f=f.queue,Vd(V0.bind(null,l,f,e),[e]),f.getSnapshot!==s||x||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},D0.bind(null,l,f,a,s),null),ve===null)throw Error(r(349));p||(Cs&127)!==0||I0(l,s,a)}return a}function I0(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ut.updateQueue,s===null?(s=Pc(),Ut.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function D0(e,s,a,l){s.value=a,s.getSnapshot=l,j0(s)&&M0(e)}function V0(e,s,a){return a(function(){j0(s)&&M0(e)})}function j0(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Hn(e,a)}catch{return!0}}function M0(e){var s=ua(e,2);s!==null&&Ln(s,e,2)}function Id(e){var s=Cn();if(typeof e=="function"){var a=e;if(e=a(),va){si(!0);try{a()}finally{si(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},s}function O0(e,s,a,l){return e.baseState=a,Cd(e,me,typeof l=="function"?l:Rs)}function vw(e,s,a,l,f){if(Fc(e))throw Error(r(485));if(e=s.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};H.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,N0(s,p)):(p.next=a.next,s.pending=a.next=p)}}function N0(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var p=H.T,x={};H.T=x;try{var E=a(f,l),O=H.S;O!==null&&O(x,E),L0(e,s,E)}catch(W){Dd(e,s,W)}finally{p!==null&&x.types!==null&&(p.types=x.types),H.T=p}}else try{p=a(f,l),L0(e,s,p)}catch(W){Dd(e,s,W)}}function L0(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){P0(e,s,l)},function(l){return Dd(e,s,l)}):P0(e,s,a)}function P0(e,s,a){s.status="fulfilled",s.value=a,k0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,N0(e,a)))}function Dd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,k0(s),s=s.next;while(s!==l)}e.action=null}function k0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function B0(e,s){return s}function z0(e,s){if(Xt){var a=ve.formState;if(a!==null){t:{var l=Ut;if(Xt){if(xe){e:{for(var f=xe,p=di;f.nodeType!==8;){if(!p){f=null;break e}if(f=mi(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){xe=mi(f.nextSibling),l=f.data==="F!";break t}}sr(l)}l=!1}l&&(s=a[0])}}return a=Cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B0,lastRenderedState:s},a.queue=l,a=rv.bind(null,Ut,l),l.dispatch=a,l=Id(!1),p=Ld.bind(null,Ut,!1,l.queue),l=Cn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=vw.bind(null,Ut,f,p,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function U0(e){var s=Le();return F0(s,me,e)}function F0(e,s,a){if(s=Cd(e,s,B0)[0],e=Bc(Rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Pl(s)}catch(x){throw x===ho?Ic:x}else l=s;s=Le();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Ut.flags|=2048,yo(9,{destroy:void 0},_w.bind(null,f,a),null)),[l,p,e]}function _w(e,s){e.action=s}function q0(e){var s=Le(),a=me;if(a!==null)return F0(s,a,e);Le(),s=s.memoizedState,a=Le();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function yo(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Ut.updateQueue,s===null&&(s=Pc(),Ut.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function H0(){return Le().memoizedState}function zc(e,s,a,l){var f=Cn();Ut.flags|=e,f.memoizedState=yo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Uc(e,s,a,l){var f=Le();l=l===void 0?null:l;var p=f.memoizedState.inst;me!==null&&l!==null&&xd(l,me.memoizedState.deps)?f.memoizedState=yo(s,p,a,l):(Ut.flags|=e,f.memoizedState=yo(1|s,p,a,l))}function G0(e,s){zc(8390656,8,e,s)}function Vd(e,s){Uc(2048,8,e,s)}function bw(e){Ut.flags|=4;var s=Ut.updateQueue;if(s===null)s=Pc(),Ut.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Y0(e){var s=Le().memoizedState;return bw({ref:s,nextImpl:e}),function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Q0(e,s){return Uc(4,2,e,s)}function K0(e,s){return Uc(4,4,e,s)}function X0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function W0(e,s,a){a=a!=null?a.concat([e]):null,Uc(4,4,X0.bind(null,s,e),a)}function jd(){}function $0(e,s){var a=Le();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&xd(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Z0(e,s){var a=Le();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&xd(s,l[1]))return l[0];if(l=e(),va){si(!0);try{e()}finally{si(!1)}}return a.memoizedState=[l,s],l}function Md(e,s,a){return a===void 0||(Cs&1073741824)!==0&&(Gt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=Jv(),Ut.lanes|=e,dr|=e,a)}function J0(e,s,a,l){return Hn(a,s)?a:po.current!==null?(e=Md(e,a,l),Hn(e,s)||(Ge=!0),e):(Cs&42)===0||(Cs&1073741824)!==0&&(Gt&261930)===0?(Ge=!0,e.memoizedState=a):(e=Jv(),Ut.lanes|=e,dr|=e,s)}function tv(e,s,a,l,f){var p=tt.p;tt.p=p!==0&&8>p?p:8;var x=H.T,E={};H.T=E,Ld(e,!1,s,a);try{var O=f(),W=H.S;if(W!==null&&W(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var at=mw(O,l);kl(e,s,at,Wn(e))}else kl(e,s,l,Wn(e))}catch(ht){kl(e,s,{then:function(){},status:"rejected",reason:ht},Wn())}finally{tt.p=p,x!==null&&E.types!==null&&(x.types=E.types),H.T=x}}function xw(){}function Od(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=ev(e).queue;tv(e,f,s,et,a===null?xw:function(){return nv(e),a(l)})}function ev(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:et},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function nv(e){var s=ev(e);s.next===null&&(s=e.alternate.memoizedState),kl(e,s.next.queue,{},Wn())}function Nd(){return hn(eu)}function iv(){return Le().memoizedState}function sv(){return Le().memoizedState}function Tw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Wn();e=or(a);var l=lr(s,e,a);l!==null&&(Ln(l,s,a),Ml(l,s,a)),s={cache:cd()},e.payload=s;return}s=s.return}}function Sw(e,s,a){var l=Wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(e)?av(s,a):(a=Jf(e,s,a,l),a!==null&&(Ln(a,e,l),ov(a,s,l)))}function rv(e,s,a){var l=Wn();kl(e,s,a,l)}function kl(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(e))av(s,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var x=s.lastRenderedState,E=p(x,a);if(f.hasEagerState=!0,f.eagerState=E,Hn(E,x))return Tc(e,s,f,0),ve===null&&xc(),!1}catch{}if(a=Jf(e,s,f,l),a!==null)return Ln(a,e,l),ov(a,s,l),!0}return!1}function Ld(e,s,a,l){if(l={lane:2,revertLane:pp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(e)){if(s)throw Error(r(479))}else s=Jf(e,a,l,2),s!==null&&Ln(s,e,2)}function Fc(e){var s=e.alternate;return e===Ut||s!==null&&s===Ut}function av(e,s){mo=Nc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function ov(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,al(e,a)}}var Bl={readContext:hn,use:kc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Bl.useEffectEvent=Ie;var lv={readContext:hn,use:kc,useCallback:function(e,s){return Cn().memoizedState=[e,s===void 0?null:s],e},useContext:hn,useEffect:G0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,zc(4194308,4,X0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return zc(4194308,4,e,s)},useInsertionEffect:function(e,s){zc(4,2,e,s)},useMemo:function(e,s){var a=Cn();s=s===void 0?null:s;var l=e();if(va){si(!0);try{e()}finally{si(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Cn();if(a!==void 0){var f=a(s);if(va){si(!0);try{a(s)}finally{si(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Sw.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var s=Cn();return e={current:e},s.memoizedState=e},useState:function(e){e=Id(e);var s=e.queue,a=rv.bind(null,Ut,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(e,s){var a=Cn();return Md(a,e,s)},useTransition:function(){var e=Id(!1);return e=tv.bind(null,Ut,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Ut,f=Cn();if(Xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ve===null)throw Error(r(349));(Gt&127)!==0||I0(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,G0(V0.bind(null,l,p,e),[e]),l.flags|=2048,yo(9,{destroy:void 0},D0.bind(null,l,p,a,s),null),a},useId:function(){var e=Cn(),s=ve.identifierPrefix;if(Xt){var a=as,l=rs;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=gw++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Nd,useFormState:z0,useActionState:z0,useOptimistic:function(e){var s=Cn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ld.bind(null,Ut,!0,a),a.dispatch=s,[e,s]},useMemoCache:wd,useCacheRefresh:function(){return Cn().memoizedState=Tw.bind(null,Ut)},useEffectEvent:function(e){var s=Cn(),a={impl:e};return s.memoizedState=a,function(){if((le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:hn,use:kc,useCallback:$0,useContext:hn,useEffect:Vd,useImperativeHandle:W0,useInsertionEffect:Q0,useLayoutEffect:K0,useMemo:Z0,useReducer:Bc,useRef:H0,useState:function(){return Bc(Rs)},useDebugValue:jd,useDeferredValue:function(e,s){var a=Le();return J0(a,me.memoizedState,e,s)},useTransition:function(){var e=Bc(Rs)[0],s=Le().memoizedState;return[typeof e=="boolean"?e:Pl(e),s]},useSyncExternalStore:R0,useId:iv,useHostTransitionStatus:Nd,useFormState:U0,useActionState:U0,useOptimistic:function(e,s){var a=Le();return O0(a,me,e,s)},useMemoCache:wd,useCacheRefresh:sv};Pd.useEffectEvent=Y0;var uv={readContext:hn,use:kc,useCallback:$0,useContext:hn,useEffect:Vd,useImperativeHandle:W0,useInsertionEffect:Q0,useLayoutEffect:K0,useMemo:Z0,useReducer:Rd,useRef:H0,useState:function(){return Rd(Rs)},useDebugValue:jd,useDeferredValue:function(e,s){var a=Le();return me===null?Md(a,e,s):J0(a,me.memoizedState,e,s)},useTransition:function(){var e=Rd(Rs)[0],s=Le().memoizedState;return[typeof e=="boolean"?e:Pl(e),s]},useSyncExternalStore:R0,useId:iv,useHostTransitionStatus:Nd,useFormState:q0,useActionState:q0,useOptimistic:function(e,s){var a=Le();return me!==null?O0(a,me,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:sv};uv.useEffectEvent=Y0;function kd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Wn(),f=or(l);f.payload=s,a!=null&&(f.callback=a),s=lr(e,f,l),s!==null&&(Ln(s,e,l),Ml(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Wn(),f=or(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=lr(e,f,l),s!==null&&(Ln(s,e,l),Ml(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Wn(),l=or(a);l.tag=2,s!=null&&(l.callback=s),s=lr(e,l,a),s!==null&&(Ln(s,e,a),Ml(s,e,a))}};function cv(e,s,a,l,f,p,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,x):s.prototype&&s.prototype.isPureReactComponent?!Al(a,l)||!Al(f,p):!0}function hv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Bd.enqueueReplaceState(s,s.state,null)}function _a(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function fv(e){bc(e)}function dv(e){console.error(e)}function pv(e){bc(e)}function qc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function mv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(e,s,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(e,s)},a}function gv(e){return e=or(e),e.tag=3,e}function yv(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;e.payload=function(){return f(p)},e.callback=function(){mv(s,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){mv(s,a,l),typeof f!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Ew(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&lo(s,a,f,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return pi===null?eh():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),hp(e,l,f)),!1;case 22:return a.flags|=65536,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),hp(e,l,f)),!1}throw Error(r(435,a.tag))}return hp(e,l,f),eh(),!1}if(Xt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==rd&&(e=Error(r(422),{cause:l}),Rl(ci(e,a)))):(l!==rd&&(s=Error(r(423),{cause:l}),Rl(ci(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=ci(l,a),f=zd(e.stateNode,l,f),gd(e,f),De!==4&&(De=2)),!1;var p=Error(r(520),{cause:l});if(p=ci(p,a),Ql===null?Ql=[p]:Ql.push(p),De!==4&&(De=2),s===null)return!0;l=ci(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=zd(a.stateNode,l,e),gd(a,e),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(pr===null||!pr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=gv(f),yv(f,e,a,l),gd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(r(461)),Ge=!1;function fn(e,s,a,l){s.child=e===null?x0(s,null,a,l):ya(s,e.child,a,l)}function vv(e,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var x={};for(var E in l)E!=="ref"&&(x[E]=l[E])}else x=l;return da(s),l=Td(e,s,a,x,p,f),E=Sd(),e!==null&&!Ge?(Ed(e,s,f),Is(e,s,f)):(Xt&&E&&id(s),s.flags|=1,fn(e,s,l,f),s.child)}function _v(e,s,a,l,f){if(e===null){var p=a.type;return typeof p=="function"&&!td(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,bv(e,s,p,l,f)):(e=Ec(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(p=e.child,!Xd(e,f)){var x=p.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(x,l)&&e.ref===s.ref)return Is(e,s,f)}return s.flags|=1,e=Ss(p,l),e.ref=s.ref,e.return=s,s.child=e}function bv(e,s,a,l,f){if(e!==null){var p=e.memoizedProps;if(Al(p,l)&&e.ref===s.ref)if(Ge=!1,s.pendingProps=l=p,Xd(e,f))(e.flags&131072)!==0&&(Ge=!0);else return s.lanes=e.lanes,Is(e,s,f)}return Fd(e,s,a,l,f)}function xv(e,s,a,l){var f=l.children,p=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return Tv(e,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rc(s,p!==null?p.cachePool:null),p!==null?E0(s,p):vd(),A0(s);else return l=s.lanes=536870912,Tv(e,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Rc(s,p.cachePool),E0(s,p),cr(),s.memoizedState=null):(e!==null&&Rc(s,null),vd(),cr());return fn(e,s,f,a),s.child}function zl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Tv(e,s,a,l,f){var p=fd();return p=p===null?null:{parent:qe._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},e!==null&&Rc(s,null),vd(),A0(s),e!==null&&lo(e,s,l,!0),s.childLanes=f,null}function Hc(e,s){return s=Yc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Sv(e,s,a){return ya(s,e.child,null,a),e=Hc(s,s.pendingProps),e.flags|=2,Qn(s),s.memoizedState=null,e}function Aw(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Xt){if(l.mode==="hidden")return e=Hc(s,l),s.lanes=536870912,zl(null,e);if(bd(s),(e=xe)?(e=N1(e,di),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:nr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=a0(e),a.return=s,s.child=a,cn=s,xe=null)):e=null,e===null)throw sr(s);return s.lanes=536870912,null}return Hc(s,l)}var p=e.memoizedState;if(p!==null){var x=p.dehydrated;if(bd(s),f)if(s.flags&256)s.flags&=-257,s=Sv(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ge||lo(e,s,a,!1),f=(a&e.childLanes)!==0,Ge||f){if(l=ve,l!==null&&(x=ol(l,a),x!==0&&x!==p.retryLane))throw p.retryLane=x,ua(e,x),Ln(l,e,x),Ud;eh(),s=Sv(e,s,a)}else e=p.treeContext,xe=mi(x.nextSibling),cn=s,Xt=!0,ir=null,di=!1,e!==null&&u0(s,e),s=Hc(s,l),s.flags|=4096;return s}return e=Ss(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Gc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Fd(e,s,a,l,f){return da(s),a=Td(e,s,a,l,void 0,f),l=Sd(),e!==null&&!Ge?(Ed(e,s,f),Is(e,s,f)):(Xt&&l&&id(s),s.flags|=1,fn(e,s,a,f),s.child)}function Ev(e,s,a,l,f,p){return da(s),s.updateQueue=null,a=C0(s,l,a,f),w0(e),l=Sd(),e!==null&&!Ge?(Ed(e,s,p),Is(e,s,p)):(Xt&&l&&id(s),s.flags|=1,fn(e,s,a,p),s.child)}function Av(e,s,a,l,f){if(da(s),s.stateNode===null){var p=so,x=a.contextType;typeof x=="object"&&x!==null&&(p=hn(x)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},pd(s),x=a.contextType,p.context=typeof x=="object"&&x!==null?hn(x):so,p.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(kd(s,a,x,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Bd.enqueueReplaceState(p,p.state,null),Nl(s,l,p,f),Ol(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){p=s.stateNode;var E=s.memoizedProps,O=_a(a,E);p.props=O;var W=p.context,at=a.contextType;x=so,typeof at=="object"&&at!==null&&(x=hn(at));var ht=a.getDerivedStateFromProps;at=typeof ht=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,at||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||W!==x)&&hv(s,p,l,x),ar=!1;var Z=s.memoizedState;p.state=Z,Nl(s,l,p,f),Ol(),W=s.memoizedState,E||Z!==W||ar?(typeof ht=="function"&&(kd(s,a,ht,l),W=s.memoizedState),(O=ar||cv(s,a,O,l,Z,W,x))?(at||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=W),p.props=l,p.state=W,p.context=x,l=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,md(e,s),x=s.memoizedProps,at=_a(a,x),p.props=at,ht=s.pendingProps,Z=p.context,W=a.contextType,O=so,typeof W=="object"&&W!==null&&(O=hn(W)),E=a.getDerivedStateFromProps,(W=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==ht||Z!==O)&&hv(s,p,l,O),ar=!1,Z=s.memoizedState,p.state=Z,Nl(s,l,p,f),Ol();var st=s.memoizedState;x!==ht||Z!==st||ar||e!==null&&e.dependencies!==null&&wc(e.dependencies)?(typeof E=="function"&&(kd(s,a,E,l),st=s.memoizedState),(at=ar||cv(s,a,at,l,Z,st,O)||e!==null&&e.dependencies!==null&&wc(e.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,st,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,st,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=st),p.props=l,p.state=st,p.context=O,l=at):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(s.flags|=1024),l=!1)}return p=l,Gc(e,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,e!==null&&l?(s.child=ya(s,e.child,null,f),s.child=ya(s,null,a,f)):fn(e,s,a,f),s.memoizedState=p.state,e=s.child):e=Is(e,s,f),e}function wv(e,s,a,l){return ha(),s.flags|=256,fn(e,s,a,l),s.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:m0()}}function Gd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Xn),e}function Cv(e,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),x&&(f=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,e===null){if(Xt){if(f?ur(s):cr(),(e=xe)?(e=N1(e,di),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:nr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=a0(e),a.return=s,s.child=a,cn=s,xe=null)):e=null,e===null)throw sr(s);return Cp(e)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(cr(),f=s.mode,E=Yc({mode:"hidden",children:E},f),l=ca(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Hd(a),l.childLanes=Gd(e,x,a),s.memoizedState=qd,zl(null,l)):(ur(s),Yd(s,E))}var O=e.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(p)s.flags&256?(ur(s),s.flags&=-257,s=Qd(e,s,a)):s.memoizedState!==null?(cr(),s.child=e.child,s.flags|=128,s=null):(cr(),E=l.fallback,f=s.mode,l=Yc({mode:"visible",children:l.children},f),E=ca(E,f,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,ya(s,e.child,null,a),l=s.child,l.memoizedState=Hd(a),l.childLanes=Gd(e,x,a),s.memoizedState=qd,s=zl(null,l));else if(ur(s),Cp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var W=x.dgst;x=W,l=Error(r(419)),l.stack="",l.digest=x,Rl({value:l,source:null,stack:null}),s=Qd(e,s,a)}else if(Ge||lo(e,s,a,!1),x=(a&e.childLanes)!==0,Ge||x){if(x=ve,x!==null&&(l=ol(x,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ua(e,l),Ln(x,e,l),Ud;wp(E)||eh(),s=Qd(e,s,a)}else wp(E)?(s.flags|=192,s.child=e.child,s=null):(e=O.treeContext,xe=mi(E.nextSibling),cn=s,Xt=!0,ir=null,di=!1,e!==null&&u0(s,e),s=Yd(s,l.children),s.flags|=4096);return s}return f?(cr(),E=l.fallback,f=s.mode,O=e.child,W=O.sibling,l=Ss(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,W!==null?E=Ss(W,E):(E=ca(E,f,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,zl(null,l),l=s.child,E=e.child.memoizedState,E===null?E=Hd(a):(f=E.cachePool,f!==null?(O=qe._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=m0(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Gd(e,x,a),s.memoizedState=qd,zl(e.child,l)):(ur(s),a=e.child,e=a.sibling,a=Ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(x=s.deletions,x===null?(s.deletions=[e],s.flags|=16):x.push(e)),s.child=a,s.memoizedState=null,a)}function Yd(e,s){return s=Yc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Yc(e,s){return e=Gn(22,e,null,s),e.lanes=0,e}function Qd(e,s,a){return ya(s,e.child,null,a),e=Yd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Rv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),ld(e.return,s,a)}function Kd(e,s,a,l,f,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=f,x.treeForkCount=p)}function Iv(e,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var x=Ne.current,E=(x&2)!==0;if(E?(x=x&1|2,s.flags|=128):x&=1,rt(Ne,x),fn(e,s,l,a),l=Xt?Cl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rv(e,a,s);else if(e.tag===19)Rv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&Oc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Kd(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Oc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Kd(s,!0,a,null,p,l);break;case"together":Kd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Is(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),dr|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(lo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ss(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ss(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Xd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&wc(e)))}function ww(e,s,a){switch(s.tag){case 3:Jt(s,s.stateNode.containerInfo),rr(s,qe,e.memoizedState.cache),ha();break;case 27:case 5:vn(s);break;case 4:Jt(s,s.stateNode.containerInfo);break;case 10:rr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cv(e,s,a):(ur(s),e=Is(e,s,a),e!==null?e.sibling:null);ur(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(lo(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Iv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Ne,Ne.current),l)break;return null;case 22:return s.lanes=0,xv(e,s,a,s.pendingProps);case 24:rr(s,qe,e.memoizedState.cache)}return Is(e,s,a)}function Dv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ge=!0;else{if(!Xd(e,a)&&(s.flags&128)===0)return Ge=!1,ww(e,s,a);Ge=(e.flags&131072)!==0}else Ge=!1,Xt&&(s.flags&1048576)!==0&&l0(s,Cl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=ma(s.elementType),s.type=e,typeof e=="function")td(e)?(l=_a(e,l),s.tag=1,s=Av(null,s,e,l,a)):(s.tag=0,s=Fd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===K){s.tag=11,s=vv(null,s,e,l,a);break t}else if(f===C){s.tag=14,s=_v(null,s,e,l,a);break t}}throw s=bt(e)||e,Error(r(306,s,""))}}return s;case 0:return Fd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=_a(l,s.pendingProps),Av(e,s,l,f,a);case 3:t:{if(Jt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,md(e,s),Nl(s,l,null,a);var x=s.memoizedState;if(l=x.cache,rr(s,qe,l),l!==p.cache&&ud(s,[qe],a,!0),Ol(),l=x.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=wv(e,s,l,a);break t}else if(l!==f){f=ci(Error(r(424)),s),Rl(f),s=wv(e,s,l,a);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xe=mi(e.firstChild),cn=s,Xt=!0,ir=null,di=!0,a=x0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ha(),l===f){s=Is(e,s,a);break t}fn(e,s,l,a)}s=s.child}return s;case 26:return Gc(e,s),e===null?(a=U1(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xt||(a=s.type,e=s.pendingProps,l=lh(mt.current).createElement(a),l[ze]=s,l[en]=e,dn(l,a,e),Ue(l),s.stateNode=l):s.memoizedState=U1(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return vn(s),e===null&&Xt&&(l=s.stateNode=k1(s.type,s.pendingProps,mt.current),cn=s,di=!0,f=xe,vr(s.type)?(Rp=f,xe=mi(l.firstChild)):xe=f),fn(e,s,s.pendingProps.children,a),Gc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Xt&&((f=l=xe)&&(l=n2(l,s.type,s.pendingProps,di),l!==null?(s.stateNode=l,cn=s,xe=mi(l.firstChild),di=!1,f=!0):f=!1),f||sr(s)),vn(s),f=s.type,p=s.pendingProps,x=e!==null?e.memoizedProps:null,l=p.children,Sp(f,p)?l=null:x!==null&&Sp(f,x)&&(s.flags|=32),s.memoizedState!==null&&(f=Td(e,s,yw,null,null,a),eu._currentValue=f),Gc(e,s),fn(e,s,l,a),s.child;case 6:return e===null&&Xt&&((e=a=xe)&&(a=i2(a,s.pendingProps,di),a!==null?(s.stateNode=a,cn=s,xe=null,e=!0):e=!1),e||sr(s)),null;case 13:return Cv(e,s,a);case 4:return Jt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=ya(s,null,l,a):fn(e,s,l,a),s.child;case 11:return vv(e,s,s.type,s.pendingProps,a);case 7:return fn(e,s,s.pendingProps,a),s.child;case 8:return fn(e,s,s.pendingProps.children,a),s.child;case 12:return fn(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,rr(s,s.type,l.value),fn(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,da(s),f=hn(f),l=l(f),s.flags|=1,fn(e,s,l,a),s.child;case 14:return _v(e,s,s.type,s.pendingProps,a);case 15:return bv(e,s,s.type,s.pendingProps,a);case 19:return Iv(e,s,a);case 31:return Aw(e,s,a);case 22:return xv(e,s,a,s.pendingProps);case 24:return da(s),l=hn(qe),e===null?(f=fd(),f===null&&(f=ve,p=cd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},pd(s),rr(s,qe,f)):((e.lanes&a)!==0&&(md(e,s),Nl(s,null,null,a),Ol()),f=e.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rr(s,qe,l)):(l=p.cache,rr(s,qe,l),l!==f.cache&&ud(s,[qe],a,!0))),fn(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ds(e){e.flags|=4}function Wd(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(i1())e.flags|=8192;else throw ga=Dc,dd}else e.flags&=-16777217}function Vv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Y1(s))if(i1())e.flags|=8192;else throw ga=Dc,dd}function Qc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Ju():536870912,e.lanes|=s,xo|=s)}function Ul(e,s){if(!Xt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Te(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Cw(e,s,a){var l=s.pendingProps;switch(sd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(s),null;case 1:return Te(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ws(qe),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oo(s)?Ds(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),Te(s),null;case 26:var f=s.type,p=s.memoizedState;return e===null?(Ds(s),p!==null?(Te(s),Vv(s,p)):(Te(s),Wd(s,f,null,l,a))):p?p!==e.memoizedState?(Ds(s),Te(s),Vv(s,p)):(Te(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ds(s),Te(s),Wd(s,f,e,l,a)),null;case 27:if(zn(s),a=mt.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}e=dt.current,oo(s)?c0(s):(e=k1(f,l,a),s.stateNode=e,Ds(s))}return Te(s),null;case 5:if(zn(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}if(p=dt.current,oo(s))c0(s);else{var x=lh(mt.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?x.createElement(f,{is:l.is}):x.createElement(f)}}p[ze]=s,p[en]=l;t:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break t;for(;x.sibling===null;){if(x.return===null||x.return===s)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=p;t:switch(dn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ds(s)}}return Te(s),Wd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=mt.current,oo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[ze]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C1(e.nodeValue,a)),e||sr(s,!0)}else e=lh(e).createTextNode(l),e[ze]=s,s.stateNode=e}return Te(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=oo(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ze]=s}else ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),e=!1}else a=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Qn(s),s):(Qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Te(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=oo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ze]=s}else ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),f=!1}else f=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Qn(s),s):(Qn(s),null)}return Qn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Qc(s,s.updateQueue),Te(s),null);case 4:return Wt(),e===null&&vp(s.stateNode.containerInfo),Te(s),null;case 10:return ws(s.type),Te(s),null;case 19:if(G(Ne),l=s.memoizedState,l===null)return Te(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Ul(l,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(p=Oc(e),p!==null){for(s.flags|=128,Ul(l,!1),e=p.updateQueue,s.updateQueue=e,Qc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)r0(a,e),a=a.sibling;return rt(Ne,Ne.current&1|2),Xt&&Es(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&ee()>Zc&&(s.flags|=128,f=!0,Ul(l,!1),s.lanes=4194304)}else{if(!f)if(e=Oc(p),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,Qc(s,e),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Xt)return Te(s),null}else 2*ee()-l.renderingStartTime>Zc&&a!==536870912&&(s.flags|=128,f=!0,Ul(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(e=l.last,e!==null?e.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ee(),e.sibling=null,a=Ne.current,rt(Ne,f?a&1|2:a&1),Xt&&Es(s,l.treeForkCount),e):(Te(s),null);case 22:case 23:return Qn(s),_d(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Te(s),s.subtreeFlags&6&&(s.flags|=8192)):Te(s),a=s.updateQueue,a!==null&&Qc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&G(pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ws(qe),Te(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Rw(e,s){switch(sd(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ws(qe),Wt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return zn(s),null;case 31:if(s.memoizedState!==null){if(Qn(s),s.alternate===null)throw Error(r(340));ha()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Qn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ha()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return G(Ne),null;case 4:return Wt(),null;case 10:return ws(s.type),null;case 22:case 23:return Qn(s),_d(),e!==null&&G(pa),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ws(qe),null;case 25:return null;default:return null}}function jv(e,s){switch(sd(s),s.tag){case 3:ws(qe),Wt();break;case 26:case 27:case 5:zn(s);break;case 4:Wt();break;case 31:s.memoizedState!==null&&Qn(s);break;case 13:Qn(s);break;case 19:G(Ne);break;case 10:ws(s.type);break;case 22:case 23:Qn(s),_d(),e!==null&&G(pa);break;case 24:ws(qe)}}function Fl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var p=a.create,x=a.inst;l=p(),x.destroy=l}a=a.next}while(a!==f)}}catch(E){de(s,s.return,E)}}function hr(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&e)===e){var x=l.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=s;var O=a,W=E;try{W()}catch(at){de(f,O,at)}}}l=l.next}while(l!==p)}}catch(at){de(s,s.return,at)}}function Mv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{S0(s,a)}catch(l){de(e,e.return,l)}}}function Ov(e,s,a){a.props=_a(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){de(e,s,l)}}function ql(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){de(e,s,f)}}function os(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){de(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){de(e,s,f)}else a.current=null}function Nv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){de(e,e.return,f)}}function $d(e,s,a){try{var l=e.stateNode;Ww(l,e.type,a,s),l[en]=s}catch(f){de(e,e.return,f)}}function Lv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ii));else if(l!==4&&(l===27&&vr(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Jd(e,s,a),e=e.sibling;e!==null;)Jd(e,s,a),e=e.sibling}function Kc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Kc(e,s,a),e=e.sibling;e!==null;)Kc(e,s,a),e=e.sibling}function Pv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);dn(s,l,a),s[ze]=e,s[en]=a}catch(p){de(e,e.return,p)}}var Vs=!1,Ye=!1,tp=!1,kv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Iw(e,s){if(e=e.containerInfo,xp=mh,e=Wy(e),Qf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var x=0,E=-1,O=-1,W=0,at=0,ht=e,Z=null;e:for(;;){for(var st;ht!==a||f!==0&&ht.nodeType!==3||(E=x+f),ht!==p||l!==0&&ht.nodeType!==3||(O=x+l),ht.nodeType===3&&(x+=ht.nodeValue.length),(st=ht.firstChild)!==null;)Z=ht,ht=st;for(;;){if(ht===e)break e;if(Z===a&&++W===f&&(E=x),Z===p&&++at===l&&(O=x),(st=ht.nextSibling)!==null)break;ht=Z,Z=ht.parentNode}ht=st}a=E===-1||O===-1?null:{start:E,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tp={focusedElem:e,selectionRange:a},mh=!1,sn=s;sn!==null;)if(s=sn,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,sn=e;else for(;sn!==null;){switch(s=sn,p=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Et=_a(a.type,f);e=l.getSnapshotBeforeUpdate(Et,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){de(a,a.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Ap(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ap(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,sn=e;break}sn=s.return}}function Bv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ms(e,a),l&4&&Fl(5,a);break;case 1:if(Ms(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(x){de(a,a.return,x)}else{var f=_a(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(x){de(a,a.return,x)}}l&64&&Mv(a),l&512&&ql(a,a.return);break;case 3:if(Ms(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{S0(e,s)}catch(x){de(a,a.return,x)}}break;case 27:s===null&&l&4&&Pv(a);case 26:case 5:Ms(e,a),s===null&&l&4&&Nv(a),l&512&&ql(a,a.return);break;case 12:Ms(e,a);break;case 31:Ms(e,a),l&4&&Fv(e,a);break;case 13:Ms(e,a),l&4&&qv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kw.bind(null,a),s2(e,a))));break;case 22:if(l=a.memoizedState!==null||Vs,!l){s=s!==null&&s.memoizedState!==null||Ye,f=Vs;var p=Ye;Vs=l,(Ye=s)&&!p?Os(e,a,(a.subtreeFlags&8772)!==0):Ms(e,a),Vs=f,Ye=p}break;case 30:break;default:Ms(e,a)}}function zv(e){var s=e.alternate;s!==null&&(e.alternate=null,zv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Ha(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,jn=!1;function js(e,s,a){for(a=a.child;a!==null;)Uv(e,s,a),a=a.sibling}function Uv(e,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 26:Ye||os(a,s),js(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||os(a,s);var l=Ae,f=jn;vr(a.type)&&(Ae=a.stateNode,jn=!1),js(e,s,a),Zl(a.stateNode),Ae=l,jn=f;break;case 5:Ye||os(a,s);case 6:if(l=Ae,f=jn,Ae=null,js(e,s,a),Ae=l,jn=f,Ae!==null)if(jn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(p){de(a,s,p)}else try{Ae.removeChild(a.stateNode)}catch(p){de(a,s,p)}break;case 18:Ae!==null&&(jn?(e=Ae,M1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Io(e)):M1(Ae,a.stateNode));break;case 4:l=Ae,f=jn,Ae=a.stateNode.containerInfo,jn=!0,js(e,s,a),Ae=l,jn=f;break;case 0:case 11:case 14:case 15:hr(2,a,s),Ye||hr(4,a,s),js(e,s,a);break;case 1:Ye||(os(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ov(a,s,l)),js(e,s,a);break;case 21:js(e,s,a);break;case 22:Ye=(l=Ye)||a.memoizedState!==null,js(e,s,a),Ye=l;break;default:js(e,s,a)}}function Fv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Io(e)}catch(a){de(s,s.return,a)}}}function qv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Io(e)}catch(a){de(s,s.return,a)}}function Dw(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new kv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new kv),s;default:throw Error(r(435,e.tag))}}function Xc(e,s){var a=Dw(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Bw.bind(null,e,l);l.then(f,f)}})}function Mn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=e,x=s,E=x;t:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){Ae=E.stateNode,jn=!1;break t}break;case 5:Ae=E.stateNode,jn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,jn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));Uv(p,x,f),Ae=null,jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Hv(s,e),s=s.sibling}var Ni=null;function Hv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(s,e),On(e),l&4&&(hr(3,e,e.return),Fl(3,e),hr(5,e,e.return));break;case 1:Mn(s,e),On(e),l&512&&(Ye||a===null||os(a,a.return)),l&64&&Vs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ni;if(Mn(s,e),On(e),l&512&&(Ye||a===null||os(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Qi]||p[ze]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),dn(p,l,a),p[ze]=e,Ue(p),l=p;break t;case"link":var x=H1("link","href",f).get(l+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(p=x[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break e}}p=f.createElement(l),dn(p,l,a),f.head.appendChild(p);break;case"meta":if(x=H1("meta","content",f).get(l+(a.content||""))){for(E=0;E<x.length;E++)if(p=x[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break e}}p=f.createElement(l),dn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[ze]=e,Ue(p),l=p}e.stateNode=l}else G1(f,e.type,e.stateNode);else e.stateNode=q1(f,l,e.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?G1(f,e.type,e.stateNode):q1(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$d(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mn(s,e),On(e),l&512&&(Ye||a===null||os(a,a.return)),a!==null&&l&4&&$d(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mn(s,e),On(e),l&512&&(Ye||a===null||os(a,a.return)),e.flags&32){f=e.stateNode;try{Vn(f,"")}catch(Et){de(e,e.return,Et)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,$d(e,f,a!==null?a.memoizedProps:f)),l&1024&&(tp=!0);break;case 6:if(Mn(s,e),On(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Et){de(e,e.return,Et)}}break;case 3:if(hh=null,f=Ni,Ni=uh(s.containerInfo),Mn(s,e),Ni=f,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(Et){de(e,e.return,Et)}tp&&(tp=!1,Gv(e));break;case 4:l=Ni,Ni=uh(e.stateNode.containerInfo),Mn(s,e),On(e),Ni=l;break;case 12:Mn(s,e),On(e);break;case 31:Mn(s,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xc(e,l)));break;case 13:Mn(s,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($c=ee()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xc(e,l)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,W=Vs,at=Ye;if(Vs=W||f,Ye=at||O,Mn(s,e),Ye=at,Vs=W,On(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||Vs||Ye||ba(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(p=O.stateNode,f)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=O.stateNode;var ht=O.memoizedProps.style,Z=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Et){de(O,O.return,Et)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Et){de(O,O.return,Et)}}}else if(s.tag===18){if(a===null){O=s;try{var st=O.stateNode;f?O1(st,!0):O1(O.stateNode,!1)}catch(Et){de(O,O.return,Et)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xc(e,a))));break;case 19:Mn(s,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xc(e,l)));break;case 30:break;case 21:break;default:Mn(s,e),On(e)}}function On(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Lv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=Zd(e);Kc(e,p,f);break;case 5:var x=a.stateNode;a.flags&32&&(Vn(x,""),a.flags&=-33);var E=Zd(e);Kc(e,E,x);break;case 3:case 4:var O=a.stateNode.containerInfo,W=Zd(e);Jd(e,W,O);break;default:throw Error(r(161))}}catch(at){de(e,e.return,at)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Gv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Gv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ms(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bv(e,s.alternate,s),s=s.sibling}function ba(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:hr(4,s,s.return),ba(s);break;case 1:os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Ov(s,s.return,a),ba(s);break;case 27:Zl(s.stateNode);case 26:case 5:os(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}e=e.sibling}}function Os(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,p=s,x=p.flags;switch(p.tag){case 0:case 11:case 15:Os(f,p,a),Fl(4,p);break;case 1:if(Os(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){de(l,l.return,W)}if(l=p,f=l.updateQueue,f!==null){var E=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)T0(O[f],E)}catch(W){de(l,l.return,W)}}a&&x&64&&Mv(p),ql(p,p.return);break;case 27:Pv(p);case 26:case 5:Os(f,p,a),a&&l===null&&x&4&&Nv(p),ql(p,p.return);break;case 12:Os(f,p,a);break;case 31:Os(f,p,a),a&&x&4&&Fv(f,p);break;case 13:Os(f,p,a),a&&x&4&&qv(f,p);break;case 22:p.memoizedState===null&&Os(f,p,a),ql(p,p.return);break;case 30:break;default:Os(f,p,a)}s=s.sibling}}function ep(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Il(a))}function np(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Il(e))}function Li(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yv(e,s,a,l),s=s.sibling}function Yv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s,a,l),f&2048&&Fl(9,s);break;case 1:Li(e,s,a,l);break;case 3:Li(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Il(e)));break;case 12:if(f&2048){Li(e,s,a,l),e=s.stateNode;try{var p=s.memoizedProps,x=p.id,E=p.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){de(s,s.return,O)}}else Li(e,s,a,l);break;case 31:Li(e,s,a,l);break;case 13:Li(e,s,a,l);break;case 23:break;case 22:p=s.stateNode,x=s.alternate,s.memoizedState!==null?p._visibility&2?Li(e,s,a,l):Hl(e,s):p._visibility&2?Li(e,s,a,l):(p._visibility|=2,vo(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&ep(x,s);break;case 24:Li(e,s,a,l),f&2048&&np(s.alternate,s);break;default:Li(e,s,a,l)}}function vo(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=e,x=s,E=a,O=l,W=x.flags;switch(x.tag){case 0:case 11:case 15:vo(p,x,E,O,f),Fl(8,x);break;case 23:break;case 22:var at=x.stateNode;x.memoizedState!==null?at._visibility&2?vo(p,x,E,O,f):Hl(p,x):(at._visibility|=2,vo(p,x,E,O,f)),f&&W&2048&&ep(x.alternate,x);break;case 24:vo(p,x,E,O,f),f&&W&2048&&np(x.alternate,x);break;default:vo(p,x,E,O,f)}s=s.sibling}}function Hl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:Hl(a,l),f&2048&&ep(l.alternate,l);break;case 24:Hl(a,l),f&2048&&np(l.alternate,l);break;default:Hl(a,l)}s=s.sibling}}var Gl=8192;function _o(e,s,a){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Qv(e,s,a),e=e.sibling}function Qv(e,s,a){switch(e.tag){case 26:_o(e,s,a),e.flags&Gl&&e.memoizedState!==null&&g2(a,Ni,e.memoizedState,e.memoizedProps);break;case 5:_o(e,s,a);break;case 3:case 4:var l=Ni;Ni=uh(e.stateNode.containerInfo),_o(e,s,a),Ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,_o(e,s,a),Gl=l):_o(e,s,a));break;default:_o(e,s,a)}}function Kv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Yl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,Wv(l,e)}Kv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xv(e),e=e.sibling}function Xv(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&hr(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Wc(e)):Yl(e);break;default:Yl(e)}}function Wc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,Wv(l,e)}Kv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:hr(8,s,s.return),Wc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(s));break;default:Wc(s)}e=e.sibling}}function Wv(e,s){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:hr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else t:for(a=e;sn!==null;){l=sn;var f=l.sibling,p=l.return;if(zv(l),l===a){sn=null;break t}if(f!==null){f.return=p,sn=f;break t}sn=p}}}var Vw={getCacheForType:function(e){var s=hn(qe),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return hn(qe).controller.signal}},jw=typeof WeakMap=="function"?WeakMap:Map,le=0,ve=null,qt=null,Gt=0,fe=0,Kn=null,fr=!1,bo=!1,ip=!1,Ns=0,De=0,dr=0,xa=0,sp=0,Xn=0,xo=0,Ql=null,Nn=null,rp=!1,$c=0,$v=0,Zc=1/0,Jc=null,pr=null,Ze=0,mr=null,To=null,Ls=0,ap=0,op=null,Zv=null,Kl=0,lp=null;function Wn(){return(le&2)!==0&&Gt!==0?Gt&-Gt:H.T!==null?pp():tc()}function Jv(){if(Xn===0)if((Gt&536870912)===0||Xt){var e=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Xn=e}else Xn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Xn}function Ln(e,s,a){(e===ve&&(fe===2||fe===9)||e.cancelPendingCommit!==null)&&(So(e,0),gr(e,Gt,Xn,!1)),Xr(e,a),((le&2)===0||e!==ve)&&(e===ve&&((le&2)===0&&(xa|=a),De===4&&gr(e,Gt,Xn,!1)),ls(e))}function t1(e,s,a){if((le&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||wi(e,s),f=l?Nw(e,s):cp(e,s,!0),p=l;do{if(f===0){bo&&!l&&gr(e,s,0,!1);break}else{if(a=e.current.alternate,p&&!Mw(a)){f=cp(e,s,!1),p=!1;continue}if(f===2){if(p=s,e.errorRecoveryDisabledLanes&p)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var E=e;f=Ql;var O=E.current.memoizedState.isDehydrated;if(O&&(So(E,x).flags|=256),x=cp(E,x,!1),x!==2){if(ip&&!O){E.errorRecoveryDisabledLanes|=p,xa|=p,f=4;break t}p=Nn,Nn=f,p!==null&&(Nn===null?Nn=p:Nn.push.apply(Nn,p))}f=x}if(p=!1,f!==2)continue}}if(f===1){So(e,0),gr(e,s,0,!0);break}t:{switch(l=e,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:gr(l,s,Xn,!fr);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=$c+300-ee(),10<f)){if(gr(l,s,Xn,!fr),Hi(l,0,!0)!==0)break t;Ls=s,l.timeoutHandle=V1(e1.bind(null,l,a,Nn,Jc,rp,s,Xn,xa,xo,fr,p,"Throttled",-0,0),f);break t}e1(l,a,Nn,Jc,rp,s,Xn,xa,xo,fr,p,null,-0,0)}}break}while(!0);ls(e)}function e1(e,s,a,l,f,p,x,E,O,W,at,ht,Z,st){if(e.timeoutHandle=-1,ht=s.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},Qv(s,p,ht);var Et=(p&62914560)===p?$c-ee():(p&4194048)===p?$v-ee():0;if(Et=y2(ht,Et),Et!==null){Ls=p,e.cancelPendingCommit=Et(u1.bind(null,e,s,p,a,l,f,x,E,O,at,ht,null,Z,st)),gr(e,p,x,!W);return}}u1(e,s,p,a,l,f,x,E,O)}function Mw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Hn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gr(e,s,a,l){s&=~sp,s&=~xa,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var p=31-Me(f),x=1<<p;l[p]=-1,f&=~x}a!==0&&Wr(e,a,s)}function th(){return(le&6)===0?(Xl(0),!1):!0}function up(){if(qt!==null){if(fe===0)var e=qt.return;else e=qt,As=fa=null,Ad(e),fo=null,Vl=0,e=qt;for(;e!==null;)jv(e.alternate,e),e=e.return;qt=null}}function So(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Jw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ls=0,up(),ve=e,qt=a=Ss(e.current,null),Gt=s,fe=0,Kn=null,fr=!1,bo=wi(e,s),ip=!1,xo=Xn=sp=xa=dr=De=0,Nn=Ql=null,rp=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Me(l),p=1<<f;s|=e[f],l&=~p}return Ns=s,xc(),a}function n1(e,s){Ut=null,H.H=Bl,s===ho||s===Ic?(s=v0(),fe=3):s===dd?(s=v0(),fe=4):fe=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,qt===null&&(De=1,qc(e,ci(s,e.current)))}function i1(){var e=Yn.current;return e===null?!0:(Gt&4194048)===Gt?pi===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?e===pi:!1}function s1(){var e=H.H;return H.H=Bl,e===null?Bl:e}function r1(){var e=H.A;return H.A=Vw,e}function eh(){De=4,fr||(Gt&4194048)!==Gt&&Yn.current!==null||(bo=!0),(dr&134217727)===0&&(xa&134217727)===0||ve===null||gr(ve,Gt,Xn,!1)}function cp(e,s,a){var l=le;le|=2;var f=s1(),p=r1();(ve!==e||Gt!==s)&&(Jc=null,So(e,s)),s=!1;var x=De;t:do try{if(fe!==0&&qt!==null){var E=qt,O=Kn;switch(fe){case 8:up(),x=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var W=fe;if(fe=0,Kn=null,Eo(e,E,O,W),a&&bo){x=0;break t}break;default:W=fe,fe=0,Kn=null,Eo(e,E,O,W)}}Ow(),x=De;break}catch(at){n1(e,at)}while(!0);return s&&e.shellSuspendCounter++,As=fa=null,le=l,H.H=f,H.A=p,qt===null&&(ve=null,Gt=0,xc()),x}function Ow(){for(;qt!==null;)a1(qt)}function Nw(e,s){var a=le;le|=2;var l=s1(),f=r1();ve!==e||Gt!==s?(Jc=null,Zc=ee()+500,So(e,s)):bo=wi(e,s);t:do try{if(fe!==0&&qt!==null){s=qt;var p=Kn;e:switch(fe){case 1:fe=0,Kn=null,Eo(e,s,p,1);break;case 2:case 9:if(g0(p)){fe=0,Kn=null,o1(s);break}s=function(){fe!==2&&fe!==9||ve!==e||(fe=7),ls(e)},p.then(s,s);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:g0(p)?(fe=0,Kn=null,o1(s)):(fe=0,Kn=null,Eo(e,s,p,7));break;case 5:var x=null;switch(qt.tag){case 26:x=qt.memoizedState;case 5:case 27:var E=qt;if(x?Y1(x):E.stateNode.complete){fe=0,Kn=null;var O=E.sibling;if(O!==null)qt=O;else{var W=E.return;W!==null?(qt=W,nh(W)):qt=null}break e}}fe=0,Kn=null,Eo(e,s,p,5);break;case 6:fe=0,Kn=null,Eo(e,s,p,6);break;case 8:up(),De=6;break t;default:throw Error(r(462))}}Lw();break}catch(at){n1(e,at)}while(!0);return As=fa=null,H.H=l,H.A=f,le=a,qt!==null?0:(ve=null,Gt=0,xc(),De)}function Lw(){for(;qt!==null&&!Rt();)a1(qt)}function a1(e){var s=Dv(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,s===null?nh(e):qt=s}function o1(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Ev(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=Ev(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:Ad(s);default:jv(a,s),s=qt=r0(s,Ns),s=Dv(a,s,Ns)}e.memoizedProps=e.pendingProps,s===null?nh(e):qt=s}function Eo(e,s,a,l){As=fa=null,Ad(s),fo=null,Vl=0;var f=s.return;try{if(Ew(e,f,s,a,Gt)){De=1,qc(e,ci(a,e.current)),qt=null;return}}catch(p){if(f!==null)throw qt=f,p;De=1,qc(e,ci(a,e.current)),qt=null;return}s.flags&32768?(Xt||l===1?e=!0:bo||(Gt&536870912)!==0?e=!1:(fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),l1(s,e)):nh(s)}function nh(e){var s=e;do{if((s.flags&32768)!==0){l1(s,fr);return}e=s.return;var a=Cw(s.alternate,s,Ns);if(a!==null){qt=a;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=e}while(s!==null);De===0&&(De=5)}function l1(e,s){do{var a=Rw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);De=6,qt=null}function u1(e,s,a,l,f,p,x,E,O){e.cancelPendingCommit=null;do ih();while(Ze!==0);if((le&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Zf,qf(e,a,p,x,E,O),e===ve&&(qt=ve=null,Gt=0),To=s,mr=e,Ls=a,ap=p,op=f,Zv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zw(Ys,function(){return p1(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=tt.p,tt.p=2,x=le,le|=4;try{Iw(e,s,a)}finally{le=x,tt.p=f,H.T=l}}Ze=1,c1(),h1(),f1()}}function c1(){if(Ze===1){Ze=0;var e=mr,s=To,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var f=le;le|=4;try{Hv(s,e);var p=Tp,x=Wy(e.containerInfo),E=p.focusedElem,O=p.selectionRange;if(x!==E&&E&&E.ownerDocument&&Xy(E.ownerDocument.documentElement,E)){if(O!==null&&Qf(E)){var W=O.start,at=O.end;if(at===void 0&&(at=W),"selectionStart"in E)E.selectionStart=W,E.selectionEnd=Math.min(at,E.value.length);else{var ht=E.ownerDocument||document,Z=ht&&ht.defaultView||window;if(Z.getSelection){var st=Z.getSelection(),Et=E.textContent.length,Vt=Math.min(O.start,Et),ye=O.end===void 0?Vt:Math.min(O.end,Et);!st.extend&&Vt>ye&&(x=ye,ye=Vt,Vt=x);var q=Ky(E,Vt),B=Ky(E,ye);if(q&&B&&(st.rangeCount!==1||st.anchorNode!==q.node||st.anchorOffset!==q.offset||st.focusNode!==B.node||st.focusOffset!==B.offset)){var X=ht.createRange();X.setStart(q.node,q.offset),st.removeAllRanges(),Vt>ye?(st.addRange(X),st.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),st.addRange(X))}}}}for(ht=[],st=E;st=st.parentNode;)st.nodeType===1&&ht.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ht.length;E++){var lt=ht[E];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}mh=!!xp,Tp=xp=null}finally{le=f,tt.p=l,H.T=a}}e.current=s,Ze=2}}function h1(){if(Ze===2){Ze=0;var e=mr,s=To,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var f=le;le|=4;try{Bv(e,s.alternate,s)}finally{le=f,tt.p=l,H.T=a}}Ze=3}}function f1(){if(Ze===4||Ze===3){Ze=0,At();var e=mr,s=To,a=Ls,l=Zv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,To=mr=null,d1(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(pr=null),_s(a),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,f=tt.p,tt.p=2,H.T=null;try{for(var p=e.onRecoverableError,x=0;x<l.length;x++){var E=l[x];p(E.value,{componentStack:E.stack})}}finally{H.T=s,tt.p=f}}(Ls&3)!==0&&ih(),ls(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===lp?Kl++:(Kl=0,lp=e):Kl=0,Xl(0)}}function d1(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Il(s)))}function ih(){return c1(),h1(),f1(),p1()}function p1(){if(Ze!==5)return!1;var e=mr,s=ap;ap=0;var a=_s(Ls),l=H.T,f=tt.p;try{tt.p=32>a?32:a,H.T=null,a=op,op=null;var p=mr,x=Ls;if(Ze=0,To=mr=null,Ls=0,(le&6)!==0)throw Error(r(331));var E=le;if(le|=4,Xv(p.current),Yv(p,p.current,x,a),le=E,Xl(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ai,p)}catch{}return!0}finally{tt.p=f,H.T=l,d1(e,s)}}function m1(e,s,a){s=ci(a,s),s=zd(e.stateNode,s,2),e=lr(e,s,2),e!==null&&(Xr(e,2),ls(e))}function de(e,s,a){if(e.tag===3)m1(e,e,a);else for(;s!==null;){if(s.tag===3){m1(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pr===null||!pr.has(l))){e=ci(a,e),a=gv(2),l=lr(s,a,2),l!==null&&(yv(a,l,s,e),Xr(l,2),ls(l));break}}s=s.return}}function hp(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new jw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(ip=!0,f.add(a),e=Pw.bind(null,e,s,a),s.then(e,e))}function Pw(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ve===e&&(Gt&a)===a&&(De===4||De===3&&(Gt&62914560)===Gt&&300>ee()-$c?(le&2)===0&&So(e,0):sp|=a,xo===Gt&&(xo=0)),ls(e)}function g1(e,s){s===0&&(s=Ju()),e=ua(e,s),e!==null&&(Xr(e,s),ls(e))}function kw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),g1(e,a)}function Bw(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),g1(e,a)}function zw(e,s){return be(e,s)}var sh=null,Ao=null,fp=!1,rh=!1,dp=!1,yr=0;function ls(e){e!==Ao&&e.next===null&&(Ao===null?sh=Ao=e:Ao=Ao.next=e),rh=!0,fp||(fp=!0,Fw())}function Xl(e,s){if(!dp&&rh){dp=!0;do for(var a=!1,l=sh;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var x=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Me(42|e)+1)-1,p&=f&~(x&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,b1(l,p))}else p=Gt,p=Hi(l,l===ve?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||wi(l,p)||(a=!0,b1(l,p));l=l.next}while(a);dp=!1}}function Uw(){y1()}function y1(){rh=fp=!1;var e=0;yr!==0&&Zw()&&(e=yr);for(var s=ee(),a=null,l=sh;l!==null;){var f=l.next,p=v1(l,s);p===0?(l.next=null,a===null?sh=f:a.next=f,f===null&&(Ao=a)):(a=l,(e!==0||(p&3)!==0)&&(rh=!0)),l=f}Ze!==0&&Ze!==5||Xl(e),yr!==0&&(yr=0)}function v1(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var x=31-Me(p),E=1<<x,O=f[x];O===-1?((E&a)===0||(E&l)!==0)&&(f[x]=Ff(E,s)):O<=s&&(e.expiredLanes|=E),p&=~E}if(s=ve,a=Gt,a=Hi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(fe===2||fe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ot(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wi(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&ot(l),_s(a)){case 2:case 8:a=ii;break;case 32:a=Ys;break;case 268435456:a=Ku;break;default:a=Ys}return l=_1.bind(null,e),a=be(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&ot(l),e.callbackPriority=2,e.callbackNode=null,2}function _1(e,s){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ih()&&e.callbackNode!==a)return null;var l=Gt;return l=Hi(e,e===ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(t1(e,l,s),v1(e,ee()),e.callbackNode!=null&&e.callbackNode===a?_1.bind(null,e):null)}function b1(e,s){if(ih())return null;t1(e,s,!0)}function Fw(){t2(function(){(le&6)!==0?be(ne,Uw):y1()})}function pp(){if(yr===0){var e=uo;e===0&&(e=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),yr=e}return yr}function x1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ka(""+e)}function T1(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function qw(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=x1((f[en]||null).action),x=l.submitter;x&&(s=(s=x[en]||null)?x1(s.formAction):x.getAttribute("formAction"),s!==null&&(p=s,x=null));var E=new es("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var O=x?T1(f,x):new FormData(f);Od(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(E.preventDefault(),O=x?T1(f,x):new FormData(f),Od(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var mp=0;mp<$f.length;mp++){var gp=$f[mp],Hw=gp.toLowerCase(),Gw=gp[0].toUpperCase()+gp.slice(1);Oi(Hw,"on"+Gw)}Oi(Jy,"onAnimationEnd"),Oi(t0,"onAnimationIteration"),Oi(e0,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(ow,"onTransitionRun"),Oi(lw,"onTransitionStart"),Oi(uw,"onTransitionCancel"),Oi(n0,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function S1(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var x=l.length-1;0<=x;x--){var E=l[x],O=E.instance,W=E.currentTarget;if(E=E.listener,O!==p&&f.isPropagationStopped())break t;p=E,f.currentTarget=W;try{p(f)}catch(at){bc(at)}f.currentTarget=null,p=O}else for(x=0;x<l.length;x++){if(E=l[x],O=E.instance,W=E.currentTarget,E=E.listener,O!==p&&f.isPropagationStopped())break t;p=E,f.currentTarget=W;try{p(f)}catch(at){bc(at)}f.currentTarget=null,p=O}}}}function Ht(e,s){var a=s[qa];a===void 0&&(a=s[qa]=new Set);var l=e+"__bubble";a.has(l)||(E1(s,e,2,!1),a.add(l))}function yp(e,s,a){var l=0;s&&(l|=4),E1(a,e,l,s)}var ah="_reactListening"+Math.random().toString(36).slice(2);function vp(e){if(!e[ah]){e[ah]=!0,ll.forEach(function(a){a!=="selectionchange"&&(Yw.has(a)||yp(a,!1,e),yp(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[ah]||(s[ah]=!0,yp("selectionchange",!1,s))}}function E1(e,s,a,l){switch(J1(s)){case 2:var f=b2;break;case 8:f=x2;break;default:f=Mp}a=f.bind(null,s,a,e),f=void 0,!ea||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function _p(e,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var E=l.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=l.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=Ki(E),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){l=p=x;continue t}E=E.parentNode}}l=l.return}Zs(function(){var W=p,at=ai(a),ht=[];t:{var Z=i0.get(e);if(Z!==void 0){var st=es,Et=e;switch(e){case"keypress":if(ia(a)===0)break t;case"keydown":case"keyup":st=yc;break;case"focusin":Et="focus",st=ra;break;case"focusout":Et="blur",st=ra;break;case"beforeblur":case"afterblur":st=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=_;break;case Jy:case t0:case e0:st=cc;break;case n0:st=w;break;case"scroll":case"scrollend":st=bl;break;case"wheel":st=nt;break;case"copy":case"cut":case"paste":st=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Ts;break;case"toggle":case"beforetoggle":st=zt}var Vt=(s&4)!==0,ye=!Vt&&(e==="scroll"||e==="scrollend"),q=Vt?Z!==null?Z+"Capture":null:Z;Vt=[];for(var B=W,X;B!==null;){var lt=B;if(X=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||X===null||q===null||(lt=Di(B,q),lt!=null&&Vt.push($l(B,lt,X))),ye)break;B=B.return}0<Vt.length&&(Z=new st(Z,Et,null,a,at),ht.push({event:Z,listeners:Vt}))}}if((s&7)===0){t:{if(Z=e==="mouseover"||e==="pointerover",st=e==="mouseout"||e==="pointerout",Z&&a!==yl&&(Et=a.relatedTarget||a.fromElement)&&(Ki(Et)||Et[Yi]))break t;if((st||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,st?(Et=a.relatedTarget||a.toElement,st=W,Et=Et?Ki(Et):null,Et!==null&&(ye=u(Et),Vt=Et.tag,Et!==ye||Vt!==5&&Vt!==27&&Vt!==6)&&(Et=null)):(st=null,Et=W),st!==Et)){if(Vt=xl,lt="onMouseLeave",q="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=Ts,lt="onPointerLeave",q="onPointerEnter",B="pointer"),ye=st==null?Z:Fn(st),X=Et==null?Z:Fn(Et),Z=new Vt(lt,B+"leave",st,a,at),Z.target=ye,Z.relatedTarget=X,lt=null,Ki(at)===W&&(Vt=new Vt(q,B+"enter",Et,a,at),Vt.target=X,Vt.relatedTarget=ye,lt=Vt),ye=lt,st&&Et)e:{for(Vt=Qw,q=st,B=Et,X=0,lt=q;lt;lt=Vt(lt))X++;lt=0;for(var It=B;It;It=Vt(It))lt++;for(;0<X-lt;)q=Vt(q),X--;for(;0<lt-X;)B=Vt(B),lt--;for(;X--;){if(q===B||B!==null&&q===B.alternate){Vt=q;break e}q=Vt(q),B=Vt(B)}Vt=null}else Vt=null;st!==null&&A1(ht,Z,st,Vt,!1),Et!==null&&ye!==null&&A1(ht,ye,Et,Vt,!0)}}t:{if(Z=W?Fn(W):window,st=Z.nodeName&&Z.nodeName.toLowerCase(),st==="select"||st==="input"&&Z.type==="file")var ie=Fy;else if(zy(Z))if(qy)ie=sw;else{ie=nw;var Ct=ew}else st=Z.nodeName,!st||st.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Qa(W.elementType)&&(ie=Fy):ie=iw;if(ie&&(ie=ie(e,W))){Uy(ht,ie,a,at);break t}Ct&&Ct(e,Z,W),e==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&pl(Z,"number",Z.value)}switch(Ct=W?Fn(W):window,e){case"focusin":(zy(Ct)||Ct.contentEditable==="true")&&(eo=Ct,Kf=W,wl=null);break;case"focusout":wl=Kf=eo=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,$y(ht,a,at);break;case"selectionchange":if(aw)break;case"keydown":case"keyup":$y(ht,a,at)}var Ft;if(oe)t:{switch(e){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else to?aa(e,a)&&(Yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Yt="onCompositionStart");Yt&&(ss&&a.locale!=="ko"&&(to||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&to&&(Ft=_l()):(ts=at,vl="value"in ts?ts.value:ts.textContent,to=!0)),Ct=oh(W,Yt),0<Ct.length&&(Yt=new is(Yt,e,null,a,at),ht.push({event:Yt,listeners:Ct}),Ft?Yt.data=Ft:(Ft=Ja(a),Ft!==null&&(Yt.data=Ft)))),(Ft=li?$A(e,a):ZA(e,a))&&(Yt=oh(W,"onBeforeInput"),0<Yt.length&&(Ct=new is("onBeforeInput","beforeinput",null,a,at),ht.push({event:Ct,listeners:Yt}),Ct.data=Ft)),qw(ht,e,W,a,at)}S1(ht,s)})}function $l(e,s,a){return{instance:e,listener:s,currentTarget:a}}function oh(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Di(e,a),f!=null&&l.unshift($l(e,f,p)),f=Di(e,s),f!=null&&l.push($l(e,f,p))),e.tag===3)return l;e=e.return}return[]}function Qw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A1(e,s,a,l,f){for(var p=s._reactName,x=[];a!==null&&a!==l;){var E=a,O=E.alternate,W=E.stateNode;if(E=E.tag,O!==null&&O===l)break;E!==5&&E!==26&&E!==27||W===null||(O=W,f?(W=Di(a,p),W!=null&&x.unshift($l(a,W,O))):f||(W=Di(a,p),W!=null&&x.push($l(a,W,O)))),a=a.return}x.length!==0&&e.push({event:s,listeners:x})}var Kw=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function w1(e){return(typeof e=="string"?e:""+e).replace(Kw,`
`).replace(Xw,"")}function C1(e,s){return s=w1(s),w1(e)===s}function ge(e,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vn(e,""+l);break;case"className":qn(e,"class",l);break;case"tabIndex":qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,a,l);break;case"style":gl(e,l,p);break;case"data":if(s!=="object"){qn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&ge(e,s,"name",f.name,f,null),ge(e,s,"formEncType",f.formEncType,f,null),ge(e,s,"formMethod",f.formMethod,f,null),ge(e,s,"formTarget",f.formTarget,f,null)):(ge(e,s,"encType",f.encType,f,null),ge(e,s,"method",f.method,f,null),ge(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ii);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ka(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Ga(e,"popover",l);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oc.get(a)||a,Ga(e,a,l))}}function bp(e,s,a,l,f,p){switch(a){case"style":gl(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=e[en]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ga(e,a,l)}}}function dn(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var x=a[p];if(x!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,p,x,a,null)}}f&&ge(e,s,"srcSet",a.srcSet,a,null),l&&ge(e,s,"src",a.src,a,null);return;case"input":Ht("invalid",e);var E=p=x=f=null,O=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var at=a[l];if(at!=null)switch(l){case"name":f=at;break;case"type":x=at;break;case"checked":O=at;break;case"defaultChecked":W=at;break;case"value":p=at;break;case"defaultValue":E=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:ge(e,s,l,at,a,null)}}sc(e,p,E,O,W,x,f,!1);return;case"select":Ht("invalid",e),l=x=p=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":x=E;break;case"multiple":l=E;default:ge(e,s,f,E,a,null)}s=p,a=x,e.multiple=!!l,s!=null?Ks(e,!!l,s,!1):a!=null&&Ks(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),p=f=l=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":l=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ge(e,s,x,E,a,null)}Xs(e,l,f,p);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ge(e,s,O,l,a,null));return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Wl.length;l++)Ht(Wl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,W,l,a,null)}return;default:if(Qa(s)){for(at in a)a.hasOwnProperty(at)&&(l=a[at],l!==void 0&&bp(e,s,at,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ge(e,s,E,l,a,null))}function Ww(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,x=null,E=null,O=null,W=null,at=null;for(st in a){var ht=a[st];if(a.hasOwnProperty(st)&&ht!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":O=ht;default:l.hasOwnProperty(st)||ge(e,s,st,null,l,ht)}}for(var Z in l){var st=l[Z];if(ht=a[Z],l.hasOwnProperty(Z)&&(st!=null||ht!=null))switch(Z){case"type":p=st;break;case"name":f=st;break;case"checked":W=st;break;case"defaultChecked":at=st;break;case"value":x=st;break;case"defaultValue":E=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:st!==ht&&ge(e,s,Z,st,l,ht)}}Ya(e,x,E,O,W,at,p,f);return;case"select":st=x=E=Z=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":st=O;default:l.hasOwnProperty(p)||ge(e,s,p,null,l,O)}for(f in l)if(p=l[f],O=a[f],l.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":Z=p;break;case"defaultValue":E=p;break;case"multiple":x=p;default:p!==O&&ge(e,s,f,p,l,O)}s=E,a=x,l=st,Z!=null?Ks(e,!!a,Z,!1):!!l!=!!a&&(s!=null?Ks(e,!!a,s,!0):Ks(e,!!a,a?[]:"",!1));return;case"textarea":st=Z=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ge(e,s,E,null,l,f)}for(x in l)if(f=l[x],p=a[x],l.hasOwnProperty(x)&&(f!=null||p!=null))switch(x){case"value":Z=f;break;case"defaultValue":st=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&ge(e,s,x,f,l,p)}rc(e,Z,st);return;case"option":for(var Et in a)Z=a[Et],a.hasOwnProperty(Et)&&Z!=null&&!l.hasOwnProperty(Et)&&(Et==="selected"?e.selected=!1:ge(e,s,Et,null,l,Z));for(O in l)Z=l[O],st=a[O],l.hasOwnProperty(O)&&Z!==st&&(Z!=null||st!=null)&&(O==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ge(e,s,O,Z,l,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in a)Z=a[Vt],a.hasOwnProperty(Vt)&&Z!=null&&!l.hasOwnProperty(Vt)&&ge(e,s,Vt,null,l,Z);for(W in l)if(Z=l[W],st=a[W],l.hasOwnProperty(W)&&Z!==st&&(Z!=null||st!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ge(e,s,W,Z,l,st)}return;default:if(Qa(s)){for(var ye in a)Z=a[ye],a.hasOwnProperty(ye)&&Z!==void 0&&!l.hasOwnProperty(ye)&&bp(e,s,ye,void 0,l,Z);for(at in l)Z=l[at],st=a[at],!l.hasOwnProperty(at)||Z===st||Z===void 0&&st===void 0||bp(e,s,at,Z,l,st);return}}for(var q in a)Z=a[q],a.hasOwnProperty(q)&&Z!=null&&!l.hasOwnProperty(q)&&ge(e,s,q,null,l,Z);for(ht in l)Z=l[ht],st=a[ht],!l.hasOwnProperty(ht)||Z===st||Z==null&&st==null||ge(e,s,ht,Z,l,st)}function R1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $w(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,x=f.initiatorType,E=f.duration;if(p&&E&&R1(x)){for(x=0,E=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],W=O.startTime;if(W>E)break;var at=O.transferSize,ht=O.initiatorType;at&&R1(ht)&&(O=O.responseEnd,x+=at*(O<E?1:(E-W)/(O-W)))}if(--l,s+=8*(p+x)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xp=null,Tp=null;function lh(e){return e.nodeType===9?e:e.ownerDocument}function I1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D1(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Sp(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ep=null;function Zw(){var e=window.event;return e&&e.type==="popstate"?e===Ep?!1:(Ep=e,!0):(Ep=null,!1)}var V1=typeof setTimeout=="function"?setTimeout:void 0,Jw=typeof clearTimeout=="function"?clearTimeout:void 0,j1=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof j1<"u"?function(e){return j1.resolve(null).then(e).catch(e2)}:V1;function e2(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function M1(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),Io(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Zl(a);for(var p=a.firstChild;p;){var x=p.nextSibling,E=p.nodeName;p[Qi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=x}}else a==="body"&&Zl(e.ownerDocument.body);a=f}while(a);Io(s)}function O1(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ap(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ap(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function n2(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=mi(e.nextSibling),e===null)break}return null}function i2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=mi(e.nextSibling),e===null))return null;return e}function N1(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=mi(e.nextSibling),e===null))return null;return e}function wp(e){return e.data==="$?"||e.data==="$~"}function Cp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function s2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function mi(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Rp=null;function L1(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return mi(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function P1(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function k1(e,s,a){switch(s=lh(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Ha(e)}var gi=new Map,B1=new Set;function uh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ps=tt.d;tt.d={f:r2,r:a2,D:o2,C:l2,L:u2,m:c2,X:f2,S:h2,M:d2};function r2(){var e=Ps.f(),s=th();return e||s}function a2(e){var s=ri(e);s!==null&&s.tag===5&&s.type==="form"?nv(s):Ps.r(e)}var wo=typeof document>"u"?null:document;function z1(e,s,a){var l=wo;if(l&&typeof s=="string"&&s){var f=Dn(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),B1.has(f)||(B1.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),dn(s,"link",e),Ue(s),l.head.appendChild(s)))}}function o2(e){Ps.D(e),z1("dns-prefetch",e,null)}function l2(e,s){Ps.C(e,s),z1("preconnect",e,s)}function u2(e,s,a){Ps.L(e,s,a);var l=wo;if(l&&e&&s){var f='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Dn(a.imageSizes)+'"]')):f+='[href="'+Dn(e)+'"]';var p=f;switch(s){case"style":p=Co(e);break;case"script":p=Ro(e)}gi.has(p)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),gi.set(p,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Jl(p))||s==="script"&&l.querySelector(tu(p))||(s=l.createElement("link"),dn(s,"link",e),Ue(s),l.head.appendChild(s)))}}function c2(e,s){Ps.m(e,s);var a=wo;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(e)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ro(e)}if(!gi.has(p)&&(e=b({rel:"modulepreload",href:e},s),gi.set(p,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tu(p)))return}l=a.createElement("link"),dn(l,"link",e),Ue(l),a.head.appendChild(l)}}}function h2(e,s,a){Ps.S(e,s,a);var l=wo;if(l&&e){var f=Xi(l).hoistableStyles,p=Co(e);s=s||"default";var x=f.get(p);if(!x){var E={loading:0,preload:null};if(x=l.querySelector(Jl(p)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=gi.get(p))&&Ip(e,a);var O=x=l.createElement("link");Ue(O),dn(O,"link",e),O._p=new Promise(function(W,at){O.onload=W,O.onerror=at}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ch(x,s,l)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(p,x)}}}function f2(e,s){Ps.X(e,s);var a=wo;if(a&&e){var l=Xi(a).hoistableScripts,f=Ro(e),p=l.get(f);p||(p=a.querySelector(tu(f)),p||(e=b({src:e,async:!0},s),(s=gi.get(f))&&Dp(e,s),p=a.createElement("script"),Ue(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function d2(e,s){Ps.M(e,s);var a=wo;if(a&&e){var l=Xi(a).hoistableScripts,f=Ro(e),p=l.get(f);p||(p=a.querySelector(tu(f)),p||(e=b({src:e,async:!0,type:"module"},s),(s=gi.get(f))&&Dp(e,s),p=a.createElement("script"),Ue(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function U1(e,s,a,l){var f=(f=mt.current)?uh(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Co(a.href),a=Xi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Co(a.href);var p=Xi(f).hoistableStyles,x=p.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,x),(p=f.querySelector(Jl(e)))&&!p._p&&(x.instance=p,x.state.loading=5),gi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(e,a),p||p2(f,e,a,x.state))),s&&l===null)throw Error(r(528,""));return x}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(a),a=Xi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Co(e){return'href="'+Dn(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function F1(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function p2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dn(s,"link",a),Ue(s),e.head.appendChild(s))}function Ro(e){return'[src="'+Dn(e)+'"]'}function tu(e){return"script[async]"+e}function q1(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Dn(a.href)+'"]');if(l)return s.instance=l,Ue(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),dn(l,"style",f),ch(l,a.precedence,e),s.instance=l;case"stylesheet":f=Co(a.href);var p=e.querySelector(Jl(f));if(p)return s.state.loading|=4,s.instance=p,Ue(p),p;l=F1(a),(f=gi.get(f))&&Ip(l,f),p=(e.ownerDocument||e).createElement("link"),Ue(p);var x=p;return x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),dn(p,"link",l),s.state.loading|=4,ch(p,a.precedence,e),s.instance=p;case"script":return p=Ro(a.src),(f=e.querySelector(tu(p)))?(s.instance=f,Ue(f),f):(l=a,(f=gi.get(p))&&(l=b({},a),Dp(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ue(f),dn(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ch(l,a.precedence,e));return s.instance}function ch(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,x=0;x<l.length;x++){var E=l[x];if(E.dataset.precedence===s)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Ip(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Dp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var hh=null;function H1(e,s,a){if(hh===null){var l=new Map,f=hh=new Map;f.set(a,l)}else f=hh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var p=a[f];if(!(p[Qi]||p[ze]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(s)||"";x=e+x;var E=l.get(x);E?E.push(p):l.set(x,[p])}}return l}function G1(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function m2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Y1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function g2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Co(l.href),p=s.querySelector(Jl(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=fh.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=p,Ue(p);return}p=s.ownerDocument||s,l=F1(l),(f=gi.get(f))&&Ip(l,f),p=p.createElement("link"),Ue(p);var x=p;x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),dn(p,"link",l),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=fh.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vp=0;function y2(e,s){return e.stylesheets&&e.count===0&&ph(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ph(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+s);0<e.imgBytes&&Vp===0&&(Vp=62500*$w());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ph(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Vp?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dh=null;function ph(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dh=new Map,s.forEach(v2,e),dh=null,fh.call(e))}function v2(e,s){if(!(s.state.loading&4)){var a=dh.get(e);if(a)var l=a.get(null);else{a=new Map,dh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var x=f[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}f=s.instance,x=f.getAttribute("data-precedence"),p=a.get(x)||l,p===l&&a.set(null,f),a.set(x,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var eu={$$typeof:U,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function _2(e,s,a,l,f,p,x,E,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Q1(e,s,a,l,f,p,x,E,O,W,at,ht){return e=new _2(e,s,a,x,O,W,at,ht,E),s=1,p===!0&&(s|=24),p=Gn(3,null,null,s),e.current=p,p.stateNode=e,s=cd(),s.refCount++,e.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},pd(p),e}function K1(e){return e?(e=so,e):so}function X1(e,s,a,l,f,p){f=K1(f),l.context===null?l.context=f:l.pendingContext=f,l=or(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=lr(e,l,s),a!==null&&(Ln(a,e,s),Ml(a,e,s))}function W1(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function jp(e,s){W1(e,s),(e=e.alternate)&&W1(e,s)}function $1(e){if(e.tag===13||e.tag===31){var s=ua(e,67108864);s!==null&&Ln(s,e,67108864),jp(e,67108864)}}function Z1(e){if(e.tag===13||e.tag===31){var s=Wn();s=$r(s);var a=ua(e,s);a!==null&&Ln(a,e,s),jp(e,s)}}var mh=!0;function b2(e,s,a,l){var f=H.T;H.T=null;var p=tt.p;try{tt.p=2,Mp(e,s,a,l)}finally{tt.p=p,H.T=f}}function x2(e,s,a,l){var f=H.T;H.T=null;var p=tt.p;try{tt.p=8,Mp(e,s,a,l)}finally{tt.p=p,H.T=f}}function Mp(e,s,a,l){if(mh){var f=Op(l);if(f===null)_p(e,s,l,gh,a),t_(e,l);else if(S2(f,e,s,a,l))l.stopPropagation();else if(t_(e,l),s&4&&-1<T2.indexOf(e)){for(;f!==null;){var p=ri(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=qi(p.pendingLanes);if(x!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var O=1<<31-Me(x);E.entanglements[1]|=O,x&=~O}ls(p),(le&6)===0&&(Zc=ee()+500,Xl(0))}}break;case 31:case 13:E=ua(p,2),E!==null&&Ln(E,p,2),th(),jp(p,2)}if(p=Op(l),p===null&&_p(e,s,l,gh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else _p(e,s,l,null,a)}}function Op(e){return e=ai(e),Np(e)}var gh=null;function Np(e){if(gh=null,e=Ki(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=d(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return gh=e,null}function J1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case ne:return 2;case ii:return 8;case Ys:case Uf:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var Lp=!1,_r=null,br=null,xr=null,nu=new Map,iu=new Map,Tr=[],T2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(e,s){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(s.pointerId)}}function su(e,s,a,l,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=ri(s),s!==null&&$1(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function S2(e,s,a,l,f){switch(s){case"focusin":return _r=su(_r,e,s,a,l,f),!0;case"dragenter":return br=su(br,e,s,a,l,f),!0;case"mouseover":return xr=su(xr,e,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return nu.set(p,su(nu.get(p)||null,e,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,iu.set(p,su(iu.get(p)||null,e,s,a,l,f)),!0}return!1}function e_(e){var s=Ki(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Ci(e.priority,function(){Z1(a)});return}}else if(s===31){if(s=d(a),s!==null){e.blockedOn=s,Ci(e.priority,function(){Z1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yh(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Op(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return s=ri(a),s!==null&&$1(s),e.blockedOn=a,!1;s.shift()}return!0}function n_(e,s,a){yh(e)&&a.delete(s)}function E2(){Lp=!1,_r!==null&&yh(_r)&&(_r=null),br!==null&&yh(br)&&(br=null),xr!==null&&yh(xr)&&(xr=null),nu.forEach(n_),iu.forEach(n_)}function vh(e,s){e.blockedOn===s&&(e.blockedOn=null,Lp||(Lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,E2)))}var _h=null;function i_(e){_h!==e&&(_h=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Np(l||a)===null)continue;break}var p=ri(a);p!==null&&(e.splice(s,3),s-=3,Od(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Io(e){function s(O){return vh(O,e)}_r!==null&&vh(_r,e),br!==null&&vh(br,e),xr!==null&&vh(xr,e),nu.forEach(s),iu.forEach(s);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&Tr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],x=f[en]||null;if(typeof p=="function")x||i_(a);else if(x){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,x=p[en]||null)E=x.formAction;else if(Np(f)!==null)continue}else E=x.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),i_(a)}}}function s_(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Pp(e){this._internalRoot=e}bh.prototype.render=Pp.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Wn();X1(a,l,e,s,null,null)},bh.prototype.unmount=Pp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;X1(e.current,2,null,e,null,null),th(),s[Yi]=null}};function bh(e){this._internalRoot=e}bh.prototype.unstable_scheduleHydration=function(e){if(e){var s=tc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Tr.length&&s!==0&&s<Tr[a].priority;a++);Tr.splice(a,0,e),a===0&&e_(e)}};var r_=t.version;if(r_!=="19.2.3")throw Error(r(527,r_,"19.2.3"));tt.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var A2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Ai=xh.inject(A2),ln=xh}catch{}}return au.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=fv,p=dv,x=pv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Q1(e,1,!1,null,null,a,l,null,f,p,x,s_),e[Yi]=s.current,vp(e),new Pp(s)},au.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",p=fv,x=dv,E=pv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=Q1(e,1,!0,s,a??null,l,f,O,p,x,E,s_),s.context=K1(null),a=s.current,l=Wn(),l=$r(l),f=or(l),f.callback=null,lr(a,f,l),a=l,s.current.lanes=a,Xr(s,a),ls(s),e[Yi]=s.current,vp(e),new bh(s)},au.version="19.2.3",au}var m_;function N2(){if(m_)return zp.exports;m_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zp.exports=O2(),zp.exports}var L2=N2();const P2=()=>{};var g_={};const iT=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},k2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],d=n[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,j=g&63;m||(j=64,c||(S=64)),r.push(i[v],i[b],i[S],i[j])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(iT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):k2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new B2;const S=u<<2|d>>4;if(r.push(S),g!==64){const j=d<<4&240|g>>2;if(r.push(j),b!==64){const N=g<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(n){const t=iT(n);return sT.encodeByteArray(t,!0)},qh=function(n){return z2(n).replace(/\./g,"")},U2=function(n){try{return sT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function F2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q2=()=>F2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof g_>"u")return;const n=g_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},G2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&U2(n[1]);return t&&JSON.parse(t)},mg=()=>{try{return P2()||q2()||H2()||G2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y2=n=>mg()?.emulatorHosts?.[n],Q2=n=>{const t=Y2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},rT=()=>mg()?.config;class K2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function gg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X2(n){return(await fetch(n,{credentials:"include"})).ok}function W2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[qh(JSON.stringify(i)),qh(JSON.stringify(c)),""].join(".")}const du={};function $2(){const n={prod:[],emulator:[]};for(const t of Object.keys(du))du[t]?n.emulator.push(t):n.prod.push(t);return n}function Z2(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let y_=!1;function J2(n,t){if(typeof window>"u"||typeof document>"u"||!gg(window.location.host)||du[n]===t||du[n]||y_)return;du[n]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=$2().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{y_=!0,c()},S}function v(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Z2(r),j=i("text"),N=document.getElementById(j)||document.createElement("span"),P=i("learnmore"),F=document.getElementById(P)||document.createElement("a"),Y=i("preprendIcon"),k=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const U=S.element;d(U),v(F,P);const K=g();m(k,Y),U.append(k,N,F,K),document.body.appendChild(U)}u?(N.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eC(){const n=mg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aT(){try{return typeof indexedDB=="object"}catch{return!1}}function oT(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function sC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const rC="FirebaseError";class qr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=rC,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?aC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new qr(o,d,r)}}function aC(n,t){return n.replace(oC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const oC=/\{\$([^}]+)}/g;function Tu(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(v_(u)&&v_(c)){if(!Tu(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function v_(n){return n!==null&&typeof n=="object"}const lC=1e3,uC=2,cC=14400*1e3,hC=.5;function __(n,t=lC,i=uC){const r=t*Math.pow(i,n),o=Math.round(hC*r*(Math.random()-.5)*2);return Math.min(cC,r+o)}function ei(n){return n&&n._delegate?n._delegate:n}class zs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Aa="[DEFAULT]";class fC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new K2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pC(t))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Aa){return this.instances.has(t)}getOptions(t=Aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Aa){return this.component?this.component.multipleInstances?t:Aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dC(n){return n===Aa?void 0:n}function pC(n){return n.instantiationMode==="EAGER"}class mC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Zt||(Zt={}));const gC={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},yC=Zt.INFO,vC={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},_C=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=vC[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yg{constructor(t){this.name=t,this._logLevel=yC,this._logHandler=_C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const bC=(n,t)=>t.some(i=>n instanceof i);let b_,x_;function xC(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,xm=new WeakMap,uT=new WeakMap,Hp=new WeakMap,vg=new WeakMap;function SC(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Rr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&lT.set(i,n)}).catch(()=>{}),vg.set(t,n),t}function EC(n){if(xm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});xm.set(n,t)}let Tm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return xm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||uT.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rr(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function AC(n){Tm=n(Tm)}function wC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Gp(this),t,...i);return uT.set(r,t.sort?t.sort():[t]),Rr(r)}:TC().includes(n)?function(...t){return n.apply(Gp(this),t),Rr(lT.get(this))}:function(...t){return Rr(n.apply(Gp(this),t))}}function CC(n){return typeof n=="function"?wC(n):(n instanceof IDBTransaction&&EC(n),bC(n,xC())?new Proxy(n,Tm):n)}function Rr(n){if(n instanceof IDBRequest)return SC(n);if(Hp.has(n))return Hp.get(n);const t=CC(n);return t!==n&&(Hp.set(n,t),vg.set(t,n)),t}const Gp=n=>vg.get(n);function cT(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=Rr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Rr(c.result),m.oldVersion,m.newVersion,Rr(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const RC=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],Yp=new Map;function T_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Yp.get(t))return Yp.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=IC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||RC.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&m.done]))[0]};return Yp.set(t,u),u}AC(n=>({...n,get:(t,i,r)=>T_(t,i)||n.get(t,i,r),has:(t,i)=>!!T_(t,i)||n.has(t,i)}));class DC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function VC(n){return n.getComponent()?.type==="VERSION"}const Sm="@firebase/app",S_="0.14.6";const Us=new yg("@firebase/app"),jC="@firebase/app-compat",MC="@firebase/analytics-compat",OC="@firebase/analytics",NC="@firebase/app-check-compat",LC="@firebase/app-check",PC="@firebase/auth",kC="@firebase/auth-compat",BC="@firebase/database",zC="@firebase/data-connect",UC="@firebase/database-compat",FC="@firebase/functions",qC="@firebase/functions-compat",HC="@firebase/installations",GC="@firebase/installations-compat",YC="@firebase/messaging",QC="@firebase/messaging-compat",KC="@firebase/performance",XC="@firebase/performance-compat",WC="@firebase/remote-config",$C="@firebase/remote-config-compat",ZC="@firebase/storage",JC="@firebase/storage-compat",tR="@firebase/firestore",eR="@firebase/ai",nR="@firebase/firestore-compat",iR="firebase",sR="12.6.0";const Em="[DEFAULT]",rR={[Sm]:"fire-core",[jC]:"fire-core-compat",[OC]:"fire-analytics",[MC]:"fire-analytics-compat",[LC]:"fire-app-check",[NC]:"fire-app-check-compat",[PC]:"fire-auth",[kC]:"fire-auth-compat",[BC]:"fire-rtdb",[zC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[FC]:"fire-fn",[qC]:"fire-fn-compat",[HC]:"fire-iid",[GC]:"fire-iid-compat",[YC]:"fire-fcm",[QC]:"fire-fcm-compat",[KC]:"fire-perf",[XC]:"fire-perf-compat",[WC]:"fire-rc",[$C]:"fire-rc-compat",[ZC]:"fire-gcs",[JC]:"fire-gcs-compat",[tR]:"fire-fst",[nR]:"fire-fst-compat",[eR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};const Hh=new Map,aR=new Map,Am=new Map;function E_(n,t){try{n.container.addComponent(t)}catch(i){Us.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Mr(n){const t=n.name;if(Am.has(t))return Us.debug(`There were multiple attempts to register component ${t}.`),!1;Am.set(t,n);for(const i of Hh.values())E_(i,n);for(const i of aR.values())E_(i,n);return!0}function Pu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function oR(n){return n==null?!1:n.settings!==void 0}const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new df("app","Firebase",lR);class uR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const cR=sR;function hT(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Em,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ir.create("bad-app-name",{appName:String(o)});if(i||(i=rT()),!i)throw Ir.create("no-options");const u=Hh.get(o);if(u){if(Tu(i,u.options)&&Tu(r,u.config))return u;throw Ir.create("duplicate-app",{appName:o})}const c=new mC(o);for(const m of Am.values())c.addComponent(m);const d=new uR(i,r,c);return Hh.set(o,d),d}function fT(n=Em){const t=Hh.get(n);if(!t&&n===Em&&rT())return hT();if(!t)throw Ir.create("no-app",{appName:n});return t}function cs(n,t,i){let r=rR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Us.warn(c.join(" "));return}Mr(new zs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const hR="firebase-heartbeat-database",fR=1,Su="firebase-heartbeat-store";let Qp=null;function dT(){return Qp||(Qp=cT(hR,fR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Su)}catch(i){console.warn(i)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),Qp}async function dR(n){try{const i=(await dT()).transaction(Su),r=await i.objectStore(Su).get(pT(n));return await i.done,r}catch(t){if(t instanceof qr)Us.warn(t.message);else{const i=Ir.create("idb-get",{originalErrorMessage:t?.message});Us.warn(i.message)}}}async function A_(n,t){try{const r=(await dT()).transaction(Su,"readwrite");await r.objectStore(Su).put(t,pT(n)),await r.done}catch(i){if(i instanceof qr)Us.warn(i.message);else{const r=Ir.create("idb-set",{originalErrorMessage:i?.message});Us.warn(r.message)}}}function pT(n){return`${n.name}!${n.options.appId}`}const pR=1024,mR=30;class gR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>mR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=w_(),{heartbeatsToSend:i,unsentEntries:r}=yR(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Us.warn(t),""}}}function w_(){return new Date().toISOString().substring(0,10)}function yR(n,t=pR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),C_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class vR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aT()?oT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function C_(n){return qh(JSON.stringify({version:2,heartbeats:n})).length}function _R(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}function bR(n){Mr(new zs("platform-logger",t=>new DC(t),"PRIVATE")),Mr(new zs("heartbeat",t=>new gR(t),"PRIVATE")),cs(Sm,S_,n),cs(Sm,S_,"esm2020"),cs("fire-js","")}bR("");var xR="firebase",TR="12.7.0";cs(xR,TR,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dr,mT;(function(){var n;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,M,L){for(var I=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)I[bt-2]=arguments[bt];return A.prototype[M].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)V[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)V[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],I;I=A+(L^R&(M^L))+V[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+V[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+V[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+V[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(M^L&(R^M))+V[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+V[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+V[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+V[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(R^M^L)+V[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+V[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+V[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+V[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(M^(R|~L))+V[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+V[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+V[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+V[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(V[M++]=C.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<A;)if(V[M++]=C[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[A++]=this.g[R]>>>V&255;return C};function u(C,A){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function c(C,A){this.h=A;const R=[];let V=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;V&&L==A||(R[M]=L,V=!1)}this.g=R}var d={};function m(C){return-128<=C&&C<128?u(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return F(g(-C));const A=[];let R=1;for(let V=0;C>=R;V++)A[V]=C/R|0,R*=4294967296;return new c(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return F(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let V=b;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+M),A);M<8?(M=g(Math.pow(A,M)),V=V.j(M).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var b=m(0),S=m(1),j=m(16777216);n=c.prototype,n.m=function(){if(P(this))return-F(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+F(this).toString(C);const A=g(Math.pow(C,6));var R=this;let V="";for(;;){const M=K(R,A).g;R=Y(R,M.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,N(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function P(C){return C.h==-1}n.l=function(C){return C=Y(this,C),P(C)?-1:N(C)?0:1};function F(C){const A=C.g.length,R=[];for(let V=0;V<A;V++)R[V]=~C.g[V];return new c(R,~C.h).add(S)}n.abs=function(){return P(this)?F(this):this},n.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let M=0;M<=A;M++){let L=V+(this.i(M)&65535)+(C.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=I>>>16,L&=65535,I&=65535,R[M]=I<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(C,A){return C.add(F(A))}n.j=function(C){if(N(this)||N(C))return b;if(P(this))return P(C)?F(this).j(F(C)):F(F(this).j(C));if(P(C))return F(this.j(F(C)));if(this.l(j)<0&&C.l(j)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const L=this.i(V)>>>16,I=this.i(V)&65535,bt=C.i(M)>>>16,wt=C.i(M)&65535;R[2*V+2*M]+=I*wt,k(R,2*V+2*M),R[2*V+2*M+1]+=L*wt,k(R,2*V+2*M+1),R[2*V+2*M+1]+=I*bt,k(R,2*V+2*M+1),R[2*V+2*M+2]+=L*bt,k(R,2*V+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new c(R,0)};function k(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function U(C,A){this.g=C,this.h=A}function K(C,A){if(N(A))throw Error("division by zero");if(N(C))return new U(b,b);if(P(C))return A=K(F(C),A),new U(F(A.g),F(A.h));if(P(A))return A=K(C,F(A)),new U(F(A.g),A.h);if(C.g.length>30){if(P(C)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,V=A;V.l(C)<=0;)R=$(R),V=$(V);var M=J(R,1),L=J(V,1);for(V=J(V,2),R=J(R,2);!N(V);){var I=L.add(V);I.l(C)<=0&&(M=M.add(R),L=I),V=J(V,1),R=J(R,1)}return A=Y(C,M.j(A)),new U(M,A)}for(M=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(R),I=L.j(A);P(I)||I.l(C)>0;)R-=V,L=g(R),I=L.j(A);N(L)&&(L=S),M=M.add(L),C=Y(C,I)}return new U(M,C)}n.B=function(C){return K(this,C).h},n.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&C.i(V);return new c(R,this.h&C.h)},n.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|C.i(V);return new c(R,this.h|C.h)},n.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^C.i(V);return new c(R,this.h^C.h)};function $(C){const A=C.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(R,C.h)}function J(C,A){const R=A>>5;A%=32;const V=C.g.length-R,M=[];for(let L=0;L<V;L++)M[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new c(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Dr=c}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gT,lu,yT,jh,wm,vT,_T,bT;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,_){if(_)t:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var Q=h[w];if(!(Q in T))break t;T=T[Q]}h=h[h.length-1],w=T[h],_=_(w),_!=w&&_!=null&&t(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});var u=u||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=m,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,Q,nt){for(var yt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)yt[zt-2]=arguments[zt];return _.prototype[Q].apply(w,yt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const _=h.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=h[w];return T}return[]}function N(h,_){for(let w=1;w<arguments.length;w++){const Q=arguments[w];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const nt=Q.length||0;h.length=T+nt;for(let yt=0;yt<nt;yt++)h[T+yt]=Q[yt]}else h.push(Q)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class k{constructor(){this.h=this.g=null}add(_,T){const w=U.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var U=new P(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,J=!1,C=new k,A=()=>{const h=Promise.resolve(void 0);$=()=>{h.then(R)}};function R(){for(var h;h=Y();){try{h.h.call(h.g)}catch(T){F(T)}var _=U;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}J=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function bt(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(bt,M),bt.prototype.init=function(h,_){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(h,_,T,w,Q){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=Q,this.key=++H,this.da=this.fa=!1}function et(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pt(h,_,T){for(const w in h)_.call(T,h[w],w,h)}function it(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function D(h){const _={};for(const T in h)_[T]=h[T];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(h,_){let T,w;for(let Q=1;Q<arguments.length;Q++){w=arguments[Q];for(T in w)h[T]=w[T];for(let nt=0;nt<G.length;nt++)T=G[nt],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,T,w,Q){const nt=h.toString();h=this.g[nt],h||(h=this.g[nt]=[],this.h++);const yt=mt(h,_,w,Q);return yt>-1?(_=h[yt],T||(_.fa=!1)):(_=new tt(_,this.src,nt,!!w,Q),_.fa=T,h.push(_)),_};function gt(h,_){const T=_.type;if(T in h.g){var w=h.g[T],Q=Array.prototype.indexOf.call(w,_,void 0),nt;(nt=Q>=0)&&Array.prototype.splice.call(w,Q,1),nt&&(et(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function mt(h,_,T,w){for(let Q=0;Q<h.length;++Q){const nt=h[Q];if(!nt.da&&nt.listener==_&&nt.capture==!!T&&nt.ha==w)return Q}return-1}var St="closure_lm_"+(Math.random()*1e6|0),Jt={};function Wt(h,_,T,w,Q){if(Array.isArray(_)){for(let nt=0;nt<_.length;nt++)Wt(h,_[nt],T,w,Q);return null}return T=vs(T),h&&h[wt]?h.J(_,T,d(w)?!!w.capture:!1,Q):vn(h,_,T,!1,w,Q)}function vn(h,_,T,w,Q,nt){if(!_)throw Error("Invalid event type");const yt=d(Q)?!!Q.capture:!!Q;let zt=Si(h);if(zt||(h[St]=zt=new dt(h)),T=zt.add(_,T,w,yt,nt),T.proxy)return T;if(w=zn(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)L||(Q=yt),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),w,Q);else if(h.attachEvent)h.attachEvent(bn(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zn(){function h(T){return _.call(h.src,h.listener,T)}const _=ni;return h}function Un(h,_,T,w,Q){if(Array.isArray(_))for(var nt=0;nt<_.length;nt++)Un(h,_[nt],T,w,Q);else w=d(w)?!!w.capture:!!w,T=vs(T),h&&h[wt]?(h=h.i,nt=String(_).toString(),nt in h.g&&(_=h.g[nt],T=mt(_,T,w,Q),T>-1&&(et(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[nt],h.h--)))):h&&(h=Si(h))&&(_=h.g[_.toString()],h=-1,_&&(h=mt(_,T,w,Q)),(T=h>-1?_[h]:null)&&_n(T))}function _n(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[wt])gt(_.i,h);else{var T=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(T,w,h.capture):_.detachEvent?_.detachEvent(bn(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Si(_))?(gt(T,h),T.h==0&&(T.src=null,_[St]=null)):et(h)}}}function bn(h){return h in Jt?Jt[h]:Jt[h]="on"+h}function ni(h,_){if(h.da)h=!0;else{_=new bt(_,this);const T=h.listener,w=h.ha||h.src;h.fa&&_n(h),h=T.call(w,_)}return h}function Si(h){return h=h[St],h instanceof dt?h:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function vs(h){return typeof h=="function"?h:(h[Ei]||(h[Ei]=function(_){return h.handleEvent(_)}),h[Ei])}function re(){V.call(this),this.i=new dt(this),this.M=this,this.G=null}b(re,V),re.prototype[wt]=!0,re.prototype.removeEventListener=function(h,_,T,w){Un(this,h,_,T,w)};function be(h,_){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var Q=_;_=new M(w,h),rt(_,Q)}Q=!0;let nt,yt;if(T)for(yt=T.length-1;yt>=0;yt--)nt=_.g=T[yt],Q=ot(nt,w,!0,_)&&Q;if(nt=_.g=h,Q=ot(nt,w,!0,_)&&Q,Q=ot(nt,w,!1,_)&&Q,T)for(yt=0;yt<T.length;yt++)nt=_.g=T[yt],Q=ot(nt,w,!1,_)&&Q}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let w=0;w<T.length;w++)et(T[w]);delete h.g[_],h.h--}}this.G=null},re.prototype.J=function(h,_,T,w){return this.i.add(String(h),_,!1,T,w)},re.prototype.K=function(h,_,T,w){return this.i.add(String(h),_,!0,T,w)};function ot(h,_,T,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let nt=0;nt<_.length;++nt){const yt=_[nt];if(yt&&!yt.da&&yt.capture==T){const zt=yt.listener,Oe=yt.ha||yt.src;yt.fa&&gt(h.i,yt),Q=zt.call(Oe,w)!==!1&&Q}}return Q&&!w.defaultPrevented}function Rt(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function At(h){h.g=Rt(()=>{h.g=null,h.i&&(h.i=!1,At(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class ee extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(h){V.call(this),this.h=h,this.g={}}b(ae,V);var ne=[];function ii(h){pt(h.g,function(_,T){this.g.hasOwnProperty(T)&&_n(_)},h),h.g={}}ae.prototype.N=function(){ae.Z.N.call(this),ii(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=c.JSON.stringify,Uf=c.JSON.parse,Ku=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Xu(){}function Wu(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}b(ln,M);function si(){M.call(this,"c")}b(si,M);var Me={},$u=null;function Fa(){return $u=$u||new re}Me.Ia="serverreachability";function Zu(h){M.call(this,Me.Ia,h)}b(Zu,M);function Fi(h){const _=Fa();be(_,new Zu(_))}Me.STAT_EVENT="statevent";function Kr(h,_){M.call(this,Me.STAT_EVENT,h),this.stat=_}b(Kr,M);function Be(h){const _=Fa();be(_,new Kr(_,h))}Me.Ja="timingevent";function qi(h,_){M.call(this,Me.Ja,h),this.size=_}b(qi,M);function Hi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function Ff(h,_,T,w,Q,nt){h.info(function(){if(h.g)if(nt){var yt="",zt=nt.split("&");for(let oe=0;oe<zt.length;oe++){var Oe=zt[oe].split("=");if(Oe.length>1){const Ee=Oe[0];Oe=Oe[1];const li=Ee.split("_");yt=li.length>=2&&li[1]=="type"?yt+(Ee+"="+Oe+"&"):yt+(Ee+"=redacted&")}}}else yt=null;else yt=nt;return"XMLHTTP REQ ("+w+") [attempt "+Q+"]: "+_+`
`+T+`
`+yt})}function Ju(h,_,T,w,Q,nt,yt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+Q+"]: "+_+`
`+T+`
`+nt+" "+yt})}function Gi(h,_,T,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+qf(h,T)+(w?" "+w:"")})}function Xr(h,_){h.info(function(){return"TIMEOUT: "+_})}wi.prototype.info=function(){};function qf(h,_){if(!h.g)return _;if(!_)return null;try{const nt=JSON.parse(_);if(nt){for(h=0;h<nt.length;h++)if(Array.isArray(nt[h])){var T=nt[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var Q=w[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let yt=1;yt<w.length;yt++)w[yt]=""}}}}return Ys(nt)}catch{return _}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function $r(){}b($r,Xu),$r.prototype.g=function(){return new XMLHttpRequest},ol=new $r;function _s(h){return encodeURIComponent(String(h))}function tc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Ci(h,_,T,w){this.j=h,this.i=_,this.l=T,this.S=w||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var ze={},en={};function Yi(h,_,T){h.M=1,h.A=Zr(Fe(_)),h.u=T,h.R=!0,qa(h,null)}function qa(h,_){h.F=Date.now(),Qi(h),h.B=Fe(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Qa(T.i,"t",w),h.C=0,T=h.j.L,h.h=new Ri,h.g=mc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new ee(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,w=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ne[0]=Q.toString()),Q=ne);for(let nt=0;nt<Q.length;nt++){const yt=Wt(T,Q[nt],w||_.handleEvent,!1,_.h||_);if(!yt)break;_.g[yt.key]=yt}_=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Fi(),Ff(h.i,h.v,h.B,h.l,h.S,h.u)}Ci.prototype.ba=function(h){h=h.target;const _=this.O;_&&Vi(h)==3?_.j():this.Y(h)},Ci.prototype.Y=function(h){try{if(h==this.g)t:{const zt=Vi(this.g),Oe=this.g.ya(),oe=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||zt!=4||Oe==7||(Oe==8||oe<=0?Fi(3):Fi(2)),Ki(this);var _=this.g.ca();this.X=_;var T=Hf(this);if(this.o=_==200,Ju(this.i,this.v,this.B,this.l,this.S,zt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,Q=this.g;if((w=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var nt=w;break e}}nt=null}if(h=nt)Gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,h);else{this.o=!1,this.m=3,Be(12),Fn(this),ri(this);break t}}if(this.R){h=!0;let Ee;for(;!this.K&&this.C<T.length;)if(Ee=nc(this,T),Ee==en){zt==4&&(this.m=4,Be(14),h=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==ze){this.m=4,Be(15),Gi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Gi(this.i,this.l,Ee,null),Xi(this,Ee);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||T.length!=0||this.h.h||(this.m=1,Be(16),h=!1),this.o=this.o&&h,!h)Gi(this.i,this.l,T,"[Invalid Chunked Response]"),Fn(this),ri(this);else if(T.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Tl(yt),yt.P=!0,Be(11))}}else Gi(this.i,this.l,T,null),Xi(this,T);zt==4&&Fn(this),this.o&&!this.K&&(zt==4?hc(this.j,this):(this.o=!1,Qi(this)))}else xs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),Fn(this),ri(this)}}}catch{}};function Hf(h){if(!ec(h))return h.g.la();const _=un(h.g);if(_==="")return"";let T="";const w=_.length,Q=Vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),ri(h),"";h.h.i=new c.TextDecoder}for(let nt=0;nt<w;nt++)h.h.h=!0,T+=h.h.i.decode(_[nt],{stream:!(Q&&nt==w-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function ec(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nc(h,_){var T=h.C,w=_.indexOf(`
`,T);return w==-1?en:(T=Number(_.substring(T,w)),isNaN(T)?ze:(w+=1,w+T>_.length?en:(_=_.slice(w,w+T),h.C=w+T,_)))}Ci.prototype.cancel=function(){this.K=!0,Fn(this)};function Qi(h){h.T=Date.now()+h.H,Ha(h,h.H)}function Ha(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Hi(g(h.aa,h),_)}function Ki(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ci.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Xr(this.i,this.B),this.M!=2&&(Fi(),Be(17)),Fn(this),this.m=2,ri(this)):Ha(this,this.T-h)};function ri(h){h.j.I==0||h.K||hc(h.j,h)}function Fn(h){Ki(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ii(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Xi(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||$i(T.h,h))){if(!h.L&&$i(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var Q=w;if(Q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Za(T),tr(T);else break t;ra(T),Be(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Hi(g(T.Va,T),6e3));Wi(T.h)<=1&&T.ta&&(T.ta=void 0)}else is(T,11)}else if((h.L||T.g==h)&&Za(T),!I(_))for(Q=T.Ba.g.parse(_),_=0;_<Q.length;_++){let oe=Q[_];const Ee=oe[0];if(!(Ee<=T.K))if(T.K=Ee,oe=oe[1],T.I==2)if(oe[0]=="c"){T.M=oe[1],T.ba=oe[2];const li=oe[3];li!=null&&(T.ka=li,T.j.info("VER="+T.ka));const ss=oe[4];ss!=null&&(T.za=ss,T.j.info("SVER="+T.za));const ji=oe[5];ji!=null&&typeof ji=="number"&&ji>0&&(w=1.5*ji,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const Mi=h.g;if(Mi){const aa=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var nt=w.h;nt.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(cl(nt,nt.h),nt.h=null))}if(w.G){const Ja=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(w.wa=Ja,he(w.J,w.G,Ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var yt=h;if(w.na=pc(w,w.L?w.ba:null,w.W),yt.L){hl(w.h,yt);var zt=yt,Oe=w.O;Oe&&(zt.H=Oe),zt.D&&(Ki(zt),Qi(zt)),w.g=yt}else uc(w);T.i.length>0&&ns(T)}else oe[0]!="stop"&&oe[0]!="close"||is(T,7);else T.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?is(T,7):bl(T):oe[0]!="noop"&&T.l&&T.l.qa(oe),T.A=0)}}Fi(4)}catch{}}var Ue=class{constructor(h,_){this.g=h,this.map=_}};function ll(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Wi(h){return h.h?1:h.g?h.g.size:0}function $i(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function cl(h,_){h.g?h.g.add(_):h.h=_}function hl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ll.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return j(h.i)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let Q,nt=null;w>=0?(Q=h[T].substring(0,w),nt=h[T].substring(w+1)):Q=h[T],_(Q,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof qn?(this.l=h.l,nn(this,h.j),this.o=h.o,this.g=h.g,Qs(this,h.u),this.h=h.h,dl(this,oc(h.i)),this.m=h.m):h&&(_=String(h).match(ic))?(this.l=!1,nn(this,_[1]||"",!0),this.o=Zi(_[2]||""),this.g=Zi(_[3]||"",!0),Qs(this,_[4]),this.h=Zi(_[5]||"",!0),dl(this,_[6]||"",!0),this.m=Zi(_[7]||"")):(this.l=!1,this.i=new Xs(null,this.l))}qn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Jr(_,Ya,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Jr(_,Ya,!0),"@"),h.push(_s(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Jr(T,T.charAt(0)=="/"?pl:sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Jr(T,rc)),h.join("")},qn.prototype.resolve=function(h){const _=Fe(this);let T=!!h.j;T?nn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var w=h.h;if(T)Qs(_,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(w=_.h.slice(0,Q+1)+w)}if(Q=w,Q==".."||Q==".")w="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){w=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const nt=[];for(let yt=0;yt<Q.length;){const zt=Q[yt++];zt=="."?w&&yt==Q.length&&nt.push(""):zt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),w&&yt==Q.length&&nt.push("")):(nt.push(zt),w=!0)}w=nt.join("/")}else w=Q}return T?_.h=w:T=h.i.toString()!=="",T?dl(_,oc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Fe(h){return new qn(h)}function nn(h,_,T){h.j=T?Zi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Qs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function dl(h,_,T){_ instanceof Xs?(h.i=_,Ka(h.i,h.l)):(T||(_=Jr(_,Ks)),h.i=new Xs(_,h.l))}function he(h,_,T){h.i.set(_,T)}function Zr(h){return he(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Jr(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Dn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,sc=/[#\?:]/g,pl=/[#\?]/g,Ks=/[#\?@]/g,rc=/#/g;function Xs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ga(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Xs.prototype,n.add=function(h,_){Vn(this),this.i=null,h=Ws(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function ac(h,_){Vn(h),_=Ws(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ml(h,_){return Vn(h),_=Ws(h,_),h.g.has(_)}n.forEach=function(h,_){Vn(this),this.g.forEach(function(T,w){T.forEach(function(Q){h.call(_,Q,w,this)},this)},this)};function gl(h,_){Vn(h);let T=[];if(typeof _=="string")ml(h,_)&&(T=T.concat(h.g.get(Ws(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}n.set=function(h,_){return Vn(this),this.i=null,h=Ws(this,h),ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=gl(this,h),h.length>0?String(h[0]):_):_};function Qa(h,_,T){ac(h,_),T.length>0&&(h.i=null,h.g.set(Ws(h,_),j(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const Q=_s(T);T=gl(this,T);for(let nt=0;nt<T.length;nt++){let yt=Q;T[nt]!==""&&(yt+="="+_s(T[nt])),h.push(yt)}}return this.i=h.join("&")};function oc(h){const _=new Xs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ws(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ka(h,_){_&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(T,w){const Q=w.toLowerCase();w!=Q&&(ac(this,w),Qa(this,Q,T))},h)),h.j=_}function Ii(h,_){const T=new wi;if(c.Image){const w=new Image;w.onload=v(ai,T,"TestLoadImage: loaded",!0,_,w),w.onerror=v(ai,T,"TestLoadImage: error",!1,_,w),w.onabort=v(ai,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=v(ai,T,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function yl(h,_){const T=new wi,w=new AbortController,Q=setTimeout(()=>{w.abort(),ai(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(nt=>{clearTimeout(Q),nt.ok?ai(T,"TestPingServer: ok",!0,_):ai(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),ai(T,"TestPingServer: error",!1,_)})}function ai(h,_,T,w,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),w(T)}catch{}}function $s(){this.g=new Ku}function Ji(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ji,Xu),Ji.prototype.g=function(){return new ta(this.i,this.h)};function ta(h,_){re.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ta,re),n=ta.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Di(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Zs(this):Di(this),this.readyState==3&&Xa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Zs(this))},n.Na=function(h){this.g&&(this.response=h,Zs(this))},n.ga=function(){this.g&&Zs(this)};function Zs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Di(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oi(h){let _="";return pt(h,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function ea(h,_,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=oi(T),typeof h=="string"?T!=null&&_s(T):he(h,_,T))}function pe(h){re.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(pe,re);var ts=/^https?$/i,vl=["POST","PUT"];n=pe.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(nt){na(this,nt);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var Q in w)T.set(Q,w[Q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const nt of w.keys())T.set(nt,w.get(nt));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(nt=>nt.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(vl,_,void 0)>=0)||w||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,yt]of T)this.g.setRequestHeader(nt,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(nt){na(this,nt)}};function na(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,_l(h),bs(h)}function _l(h){h.A||(h.A=!0,be(h,"complete"),be(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,be(this,"complete"),be(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),pe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},n.Xa=function(){ia(this)};function ia(h){if(h.h&&typeof u<"u"){if(h.v&&Vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(be(h,"readystatechange"),Vi(h)==4){h.h=!1;try{const nt=h.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var w;if(w=nt===0){let yt=String(h.D).match(ic)[1]||null;!yt&&c.self&&c.self.location&&(yt=c.self.location.protocol.slice(0,-1)),w=!ts.test(yt?yt.toLowerCase():"")}T=w}if(T)be(h,"complete"),be(h,"success");else{h.o=6;try{var Q=Vi(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",_l(h)}}finally{bs(h)}}}}function bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||be(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Vi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Uf(_)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(h){const _={};h=(h.g&&Vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(I(h[w]))continue;var T=tc(h[w]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const nt=_[Q]||[];_[Q]=nt,nt.push(T)}it(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Js(h){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,h),this.Za=es("retryDelaySeedMs",1e4,h),this.Ta=es("forwardChannelMaxRetries",2,h),this.va=es("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(h&&h.concurrentRequestLimit),this.Ba=new $s,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Js.prototype,n.ka=8,n.I=1,n.connect=function(h,_,T,w){Be(0),this.W=h,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=pc(this,null,this.W),ns(this)};function bl(h){if(Wa(h),h.I==3){var _=h.V++,T=Fe(h.J);if(he(T,"SID",h.M),he(T,"RID",_),he(T,"TYPE","terminate"),sa(h,T),_=new Ci(h,h.j,_),_.M=2,_.A=Zr(Fe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=mc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Qi(_)}dc(h)}function tr(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function Wa(h){tr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ns(h){if(!ul(h.h)&&!h.m){h.m=!0;var _=h.Ea;$||A(),J||($(),J=!0),C.add(_,h),h.D=0}}function $a(h,_){return Wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Hi(g(h.Ea,h,_),fc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Ci(this,this.j,h);let nt=this.o;if(this.U&&(nt?(nt=D(nt),rt(nt,this.U)):nt=this.U),this.u!==null||this.R||(Q.J=nt,nt=null),this.S)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=lc(this,Q,_),T=Fe(this.J),he(T,"RID",h),he(T,"CVER",22),this.G&&he(T,"X-HTTP-Session-Id",this.G),sa(this,T),nt&&(this.R?_="headers="+_s(oi(nt))+"&"+_:this.u&&ea(T,this.u,nt)),cl(this.h,Q),this.Ra&&he(T,"TYPE","init"),this.S?(he(T,"$req",_),he(T,"SID","null"),Q.U=!0,Yi(Q,T,null)):Yi(Q,T,_),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||ul(this.h)||xl(this))};function xl(h,_){var T;_?T=_.l:T=h.V++;const w=Fe(h.J);he(w,"SID",h.M),he(w,"RID",T),he(w,"AID",h.K),sa(h,w),h.u&&h.o&&ea(w,h.u,h.o),T=new Ci(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=lc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),cl(h.h,T),Yi(T,w,_)}function sa(h,_){h.H&&pt(h.H,function(T,w){he(_,w,T)}),h.l&&pt({},function(T,w){he(_,w,T)})}function lc(h,_,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var Q=h.i;let zt=-1;for(;;){const Oe=["count="+T];zt==-1?T>0?(zt=Q[0].g,Oe.push("ofs="+zt)):zt=0:Oe.push("ofs="+zt);let oe=!0;for(let Ee=0;Ee<T;Ee++){var nt=Q[Ee].g;const li=Q[Ee].map;if(nt-=zt,nt<0)zt=Math.max(0,Q[Ee].g-100),oe=!1;else try{nt="req"+nt+"_"||"";try{var yt=li instanceof Map?li:Object.entries(li);for(const[ss,ji]of yt){let Mi=ji;d(ji)&&(Mi=Ys(ji)),Oe.push(nt+ss+"="+encodeURIComponent(Mi))}}catch(ss){throw Oe.push(nt+"type="+encodeURIComponent("_badmap")),ss}}catch{w&&w(li)}}if(oe){yt=Oe.join("&");break t}}yt=void 0}return h=h.i.splice(0,T),_.G=h,yt}function uc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;$||A(),J||($(),J=!0),C.add(_,h),h.A=0}}function ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Hi(g(h.Da,h),fc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Hi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),tr(this),cc(this))};function Tl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function cc(h){h.g=new Ci(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Fe(h.na);he(_,"RID","rpc"),he(_,"SID",h.M),he(_,"AID",h.K),he(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&he(_,"TO",h.ia),he(_,"TYPE","xmlhttp"),sa(h,_),h.u&&h.o&&ea(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Zr(Fe(_)),T.u=null,T.R=!0,qa(T,h)}n.Va=function(){this.C!=null&&(this.C=null,tr(this),ra(this),Be(19))};function Za(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hc(h,_){var T=null;if(h.g==_){Za(h),Tl(h),h.g=null;var w=2}else if($i(h.h,_))T=_.G,hl(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Q=h.D;w=Fa(),be(w,new qi(w,T)),ns(h)}else uc(h);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(w==1&&$a(h,_)||w==2&&ra(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),Q){case 1:is(h,5);break;case 4:is(h,10);break;case 3:is(h,6);break;default:is(h,2)}}}function fc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function is(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),w=h.Ua;const Q=!w;w=new qn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(w,"https"),Zr(w),Q?Ii(w.toString(),T):yl(w.toString(),T)}else Be(2);h.I=0,h.l&&h.l.pa(_),dc(h),Wa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function dc(h){if(h.I=0,h.ja=[],h.l){const _=fl(h.h);(_.length!=0||h.i.length!=0)&&(N(h.ja,_),N(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function pc(h,_,T){var w=T instanceof qn?Fe(T):new qn(T);if(w.g!="")_&&(w.g=_+"."+w.g),Qs(w,w.u);else{var Q=c.location;w=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const nt=new qn(null);w&&nn(nt,w),_&&(nt.g=_),Q&&Qs(nt,Q),T&&(nt.h=T),w=nt}return T=h.G,_=h.wa,T&&_&&he(w,T,_),he(w,"VER",h.ka),sa(h,w),w}function mc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new pe(new Ji({ab:T})):new pe(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function er(){}er.prototype.g=function(h,_){return new wn(h,_)};function wn(h,_){re.call(this),this.g=new Js(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ts(this)}b(wn,re),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){bl(this.g)},wn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ys(h),h=T);_.i.push(new Ue(_.Ya++,h)),_.I==3&&ns(_)},wn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,wn.Z.N.call(this)};function yc(h){ln.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const T in _){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(yc,ln);function vc(){si.call(this),this.status=1}b(vc,si);function Ts(h){this.g=h}b(Ts,gc),Ts.prototype.ra=function(){be(this.g,"a")},Ts.prototype.qa=function(h){be(this.g,new yc(h))},Ts.prototype.pa=function(h){be(this.g,new vc)},Ts.prototype.oa=function(){be(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,bT=function(){return new er},_T=function(){return Fa()},vT=Me,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,jh=Wr,al.COMPLETE="complete",yT=al,Wu.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",re.prototype.listen=re.prototype.J,lu=Wu,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,gT=pe}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",D_="4.9.3";class Sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let Zo="12.7.0";const Na=new yg("@firebase/firestore");function Vo(){return Na.logLevel}function Tt(n,...t){if(Na.logLevel<=Zt.DEBUG){const i=t.map(_g);Na.debug(`Firestore (${Zo}): ${n}`,...i)}}function Fs(n,...t){if(Na.logLevel<=Zt.ERROR){const i=t.map(_g);Na.error(`Firestore (${Zo}): ${n}`,...i)}}function Ho(n,...t){if(Na.logLevel<=Zt.WARN){const i=t.map(_g);Na.warn(`Firestore (${Zo}): ${n}`,...i)}}function _g(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function Mt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,xT(n,r,i)}function xT(n,t,i){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Fs(r),new Error(r)}function ce(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||xT(t,o,r)}function Bt(n,t){return n}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends qr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Sn.UNAUTHENTICATED)))}shutdown(){}}class ER{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class AR{constructor(t){this.t=t,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ce(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let u=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new TT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new Sn(t)}}class wR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new wR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ce(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}class bg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=IR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Qt(n,t){return n<t?-1:n>t?1:0}function Cm(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Kp(o)===Kp(u)?Qt(o,u):Kp(o)?1:-1}return Qt(n.length,t.length)}const DR=55296,VR=57343;function Kp(n){const t=n.charCodeAt(0);return t>=DR&&t<=VR}function Go(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}const j_="__name__";class us{constructor(t,i,r){i===void 0?i=0:i>t.length&&Mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return us.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof us?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=us.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Qt(t.length,i.length)}static compareSegments(t,i){const r=us.isNumericId(t),o=us.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?us.extractNumericId(t).compare(us.extractNumericId(i)):Cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Dr.fromString(t.substring(4,t.length-2))}}class _e extends us{construct(t,i,r){return new _e(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new vt(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends us{construct(t,i,r){return new gn(t,i,r)}static isValidIdentifier(t){return jR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new gn([j_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new vt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new vt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new vt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new vt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(i)}static emptyPath(){return new gn([])}}class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(_e.fromString(t))}static fromName(t){return new Dt(_e.fromString(t).popFirst(5))}static empty(){return new Dt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new _e(t.slice()))}}function ST(n,t,i){if(!i)throw new vt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function MR(n,t,i,r){if(t===!0&&r===!0)throw new vt(ct.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function M_(n){if(!Dt.isDocumentKey(n))throw new vt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function O_(n){if(Dt.isDocumentKey(n))throw new vt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ET(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function bi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pf(n);throw new vt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function OR(n,t){if(t<=0)throw new vt(ct.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function $e(n,t){const i={typeString:n};return t&&(i.value=t),i}function ku(n,t){if(!ET(n))throw new vt(ct.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new vt(ct.INVALID_ARGUMENT,i);return!0}const N_=-62135596800,L_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*L_);return new Se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<N_)throw new vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ku(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-N_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:$e("string",Se._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Se(0,0))}static max(){return new Pt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function NR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new Or(o,Dt.empty(),t)}function LR(n){return new Or(n.readTime,n.key,Eu)}class Or{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Or(Pt.min(),Dt.empty(),Eu)}static max(){return new Or(Pt.max(),Dt.empty(),Eu)}}function PR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Dt.comparator(n.documentKey,t.documentKey),i!==0?i:Qt(n.largestBatchId,t.largestBatchId))}const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jo(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==kR)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ft(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ft?i:ft.resolve(i)}catch(i){return ft.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.reject(i)}static resolve(t){return new ft(((i,r)=>{i(t)}))}static reject(t){return new ft(((i,r)=>{r(t)}))}static waitFor(t){return new ft(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(m=>r(m)))})),c=!0,u===o&&i()}))}static or(t){let i=ft.resolve(!1);for(const r of t)i=i.next((o=>o?ft.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new ft(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;i(t[g]).next((v=>{c[g]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new ft(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function zR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function tl(n){return n.name==="IndexedDbTransactionError"}class mf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mf.ce=-1;const xg=-1;function gf(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function UR(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const AT="";function FR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=P_(t)),t=qR(n.get(i),t);return P_(t)}function qR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case AT:i+="";break;default:i+=u}}return i}function P_(n){return n+AT+""}function k_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function Hr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function wT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Re{constructor(t,i){this.comparator=t,this.root=i||mn.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sh(this.root,t,this.comparator,!0)}}class Sh{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new mn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new mn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(t){return new B_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new tn(this.comparator);return i.data=t,i}}class B_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new tn(gn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new CT("Invalid base64 string: "+u):u}})(t);return new yn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new yn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const HR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(ce(!!n,39018),typeof n=="string"){let t=0;const i=HR.exec(n);if(ce(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lr(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const RT="server_timestamp",IT="__type__",DT="__previous_value__",VT="__local_write_time__";function Tg(n){return(n?.mapValue?.fields||{})[IT]?.stringValue===RT}function yf(n){const t=n.mapValue.fields[DT];return Tg(t)?yf(t):t}function Au(n){const t=Nr(n.mapValue.fields[VT].timestampValue);return new Se(t.seconds,t.nanos)}class GR{constructor(t,i,r,o,u,c,d,m,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Yh="(default)";class wu{constructor(t,i){this.projectId=t,this.database=i||Yh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(t){return t instanceof wu&&t.projectId===this.projectId&&t.database===this.database}}const jT="__type__",YR="__max__",Eh={mapValue:{}},MT="__vector__",Qh="value";function Pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tg(n)?4:KR(n)?9007199254740991:QR(n)?10:11:Mt(28295,{value:n})}function ys(n,t){if(n===t)return!0;const i=Pr(n);if(i!==Pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Au(n).isEqual(Au(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Nr(o.timestampValue),d=Nr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Lr(o.bytesValue).isEqual(Lr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return ke(o.geoPointValue.latitude)===ke(u.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ke(o.integerValue)===ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ke(o.doubleValue),d=ke(u.doubleValue);return c===d?Gh(c)===Gh(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Go(n.arrayValue.values||[],t.arrayValue.values||[],ys);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(k_(c)!==k_(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ys(c[m],d[m])))return!1;return!0})(n,t);default:return Mt(52216,{left:n})}}function Cu(n,t){return(n.values||[]).find((i=>ys(i,t)))!==void 0}function Yo(n,t){if(n===t)return 0;const i=Pr(n),r=Pr(t);if(i!==r)return Qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=ke(u.integerValue||u.doubleValue),m=ke(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,t);case 3:return z_(n.timestampValue,t.timestampValue);case 4:return z_(Au(n),Au(t));case 5:return Cm(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Lr(u),m=Lr(c);return d.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Qt(d[g],m[g]);if(v!==0)return v}return Qt(d.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Qt(ke(u.latitude),ke(c.latitude));return d!==0?d:Qt(ke(u.longitude),ke(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return U_(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[Qh]?.arrayValue,v=m[Qh]?.arrayValue,b=Qt(g?.values?.length||0,v?.values?.length||0);return b!==0?b:U_(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Eh.mapValue&&c===Eh.mapValue)return 0;if(u===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const S=Cm(m[b],v[b]);if(S!==0)return S;const j=Yo(d[m[b]],g[v[b]]);if(j!==0)return j}return Qt(m.length,v.length)})(n.mapValue,t.mapValue);default:throw Mt(23264,{he:i})}}function z_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Qt(n,t);const i=Nr(n),r=Nr(t),o=Qt(i.seconds,r.seconds);return o!==0?o:Qt(i.nanos,r.nanos)}function U_(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Yo(i[o],r[o]);if(u)return u}return Qt(i.length,r.length)}function Qo(n){return Rm(n)}function Rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return Lr(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Dt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Rm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Rm(i.fields[c])}`;return o+"}"})(n.mapValue):Mt(61005,{value:n})}function Mh(n){switch(Pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yf(n);return t?16+Mh(t):16;case 5:return 2*n.stringValue.length;case 6:return Lr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Hr(r.fields,((u,c)=>{o+=u.length+Mh(c)})),o})(n.mapValue);default:throw Mt(13486,{value:n})}}function F_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Im(n){return!!n&&"integerValue"in n}function Sg(n){return!!n&&"arrayValue"in n}function q_(n){return!!n&&"nullValue"in n}function H_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oh(n){return!!n&&"mapValue"in n}function QR(n){return(n?.mapValue?.fields||{})[jT]?.stringValue===MT}function pu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Hr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=pu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pu(n.arrayValue.values[i]);return t}return{...n}}function KR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===YR}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Oh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(i)}setAll(t){let i=gn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=pu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Oh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ys(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Hr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new kn(pu(this.value))}}function OT(n){const t=[];return Hr(n.fields,((i,r)=>{const o=new gn([i]);if(Oh(r)){const u=OT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Jn(t)}class En{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new En(t,0,Pt.min(),Pt.min(),Pt.min(),kn.empty(),0)}static newFoundDocument(t,i,r,o){return new En(t,1,i,Pt.min(),r,o,0)}static newNoDocument(t,i){return new En(t,2,i,Pt.min(),Pt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new En(t,3,i,Pt.min(),Pt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(t,i){this.position=t,this.inclusive=i}}function G_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=Dt.comparator(Dt.fromName(c.referenceValue),i.key):r=Yo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!ys(n.position[i],t.position[i]))return!1;return!0}class Ru{constructor(t,i="asc"){this.field=t,this.dir=i}}function XR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class NT{}class We extends NT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new $R(t,i,r):i==="array-contains"?new tI(t,r):i==="in"?new eI(t,r):i==="not-in"?new nI(t,r):i==="array-contains-any"?new iI(t,r):new We(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new ZR(t,r):new JR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Yo(i,this.value)):i!==null&&Pr(this.value)===Pr(i)&&this.matchesComparison(Yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends NT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return LT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(n){return n.op==="and"}function PT(n){return WR(n)&&LT(n)}function WR(n){for(const t of n.filters)if(t instanceof Ui)return!1;return!0}function Dm(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(PT(n))return n.filters.map((t=>Dm(t))).join(",");{const t=n.filters.map((i=>Dm(i))).join(",");return`${n.op}(${t})`}}function kT(n,t){return n instanceof We?(function(r,o){return o instanceof We&&r.op===o.op&&r.field.isEqual(o.field)&&ys(r.value,o.value)})(n,t):n instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&kT(c,o.filters[d])),!0):!1})(n,t):void Mt(19439)}function BT(n){return n instanceof We?(function(i){return`${i.field.canonicalString()} ${i.op} ${Qo(i.value)}`})(n):n instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(BT).join(" ,")+"}"})(n):"Filter"}class $R extends We{constructor(t,i,r){super(t,i,r),this.key=Dt.fromName(r.referenceValue)}matches(t){const i=Dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ZR extends We{constructor(t,i){super(t,"in",i),this.keys=zT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class JR extends We{constructor(t,i){super(t,"not-in",i),this.keys=zT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zT(n,t){return(t.arrayValue?.values||[]).map((i=>Dt.fromName(i.referenceValue)))}class tI extends We{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sg(i)&&Cu(i.arrayValue,this.value)}}class eI extends We{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cu(this.value.arrayValue,i)}}class nI extends We{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cu(this.value.arrayValue,i)}}class iI extends We{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Cu(this.value.arrayValue,r)))}}class sI{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function Q_(n,t=null,i=[],r=[],o=null,u=null,c=null){return new sI(n,t,i,r,o,u,c)}function Eg(n){const t=Bt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),gf(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Qo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Qo(r))).join(",")),t.Te=i}return t.Te}function Ag(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!XR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!kT(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Y_(n.startAt,t.startAt)&&Y_(n.endAt,t.endAt)}function Vm(n){return Dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class el{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rI(n,t,i,r,o,u,c,d){return new el(n,t,i,r,o,u,c,d)}function vf(n){return new el(n)}function K_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UT(n){return n.collectionGroup!==null}function mu(n){const t=Bt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(gn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ru(u,r))})),i.has(gn.keyField().canonicalString())||t.Ie.push(new Ru(gn.keyField(),r))}return t.Ie}function hs(n){const t=Bt(n);return t.Ee||(t.Ee=aI(t,mu(n))),t.Ee}function aI(n,t){if(n.limitType==="F")return Q_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const i=n.endAt?new Kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kh(n.startAt.position,n.startAt.inclusive):null;return Q_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function jm(n,t){const i=n.filters.concat([t]);return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Xh(n,t,i){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function _f(n,t){return Ag(hs(n),hs(t))&&n.limitType===t.limitType}function FT(n){return`${Eg(hs(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>BT(o))).join(", ")}]`),gf(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Qo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Qo(o))).join(",")),`Target(${r})`})(hs(n))}; limitType=${n.limitType})`}function bf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Dt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of mu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,m){const g=G_(c,d,m);return c.inclusive?g<=0:g<0})(r.startAt,mu(r),o)||r.endAt&&!(function(c,d,m){const g=G_(c,d,m);return c.inclusive?g>=0:g>0})(r.endAt,mu(r),o))})(n,t)}function oI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qT(n){return(t,i)=>{let r=!1;for(const o of mu(n)){const u=lI(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function lI(n,t,i){const r=n.field.isKeyField()?Dt.comparator(t.key,i.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Yo(m,g):Mt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:n.dir})}}class Ba{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}const uI=new Re(Dt.comparator);function qs(){return uI}const HT=new Re(Dt.comparator);function uu(...n){let t=HT;for(const i of n)t=t.insert(i.key,i);return t}function GT(n){let t=HT;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Ca(){return gu()}function YT(){return gu()}function gu(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const cI=new Re(Dt.comparator),hI=new tn(Dt.comparator);function Kt(...n){let t=hI;for(const i of n)t=t.add(i);return t}const fI=new tn(Qt);function dI(){return fI}function wg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(t)?"-0":t}}function QT(n){return{integerValue:""+n}}function pI(n,t){return UR(t)?QT(t):wg(n,t)}class xf{constructor(){this._=void 0}}function mI(n,t,i){return n instanceof Wh?(function(o,u){const c={fields:{[IT]:{stringValue:RT},[VT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tg(u)&&(u=yf(u)),u&&(c.fields[DT]=u),{mapValue:c}})(i,t):n instanceof Iu?XT(n,t):n instanceof Du?WT(n,t):(function(o,u){const c=KT(o,u),d=X_(c)+X_(o.Ae);return Im(c)&&Im(o.Ae)?QT(d):wg(o.serializer,d)})(n,t)}function gI(n,t,i){return n instanceof Iu?XT(n,t):n instanceof Du?WT(n,t):i}function KT(n,t){return n instanceof $h?(function(r){return Im(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Wh extends xf{}class Iu extends xf{constructor(t){super(),this.elements=t}}function XT(n,t){const i=$T(t);for(const r of n.elements)i.some((o=>ys(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Du extends xf{constructor(t){super(),this.elements=t}}function WT(n,t){let i=$T(t);for(const r of n.elements)i=i.filter((o=>!ys(o,r)));return{arrayValue:{values:i}}}class $h extends xf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function X_(n){return ke(n.integerValue||n.doubleValue)}function $T(n){return Sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Iu&&o instanceof Iu||r instanceof Du&&o instanceof Du?Go(r.elements,o.elements,ys):r instanceof $h&&o instanceof $h?ys(r.Ae,o.Ae):r instanceof Wh&&o instanceof Wh})(n.transform,t.transform)}class vI{constructor(t,i){this.version=t,this.transformResults=i}}class xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Tf{}function ZT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Cg(n.key,xi.none()):new Bu(n.key,n.data,xi.none());{const i=n.data,r=kn.empty();let o=new tn(gn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Gr(n.key,r,new Jn(o.toArray()),xi.none())}}function _I(n,t,i){n instanceof Bu?(function(o,u,c){const d=o.value.clone(),m=$_(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,i):n instanceof Gr?(function(o,u,c){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=$_(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(JT(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function yu(n,t,i,r){return n instanceof Bu?(function(u,c,d,m){if(!Nh(u.precondition,c))return d;const g=u.value.clone(),v=Z_(u.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof Gr?(function(u,c,d,m){if(!Nh(u.precondition,c))return d;const g=Z_(u.fieldTransforms,m,c),v=c.data;return v.setAll(JT(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,d){return Nh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,i)}function bI(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=KT(r.transform,o||null);u!=null&&(i===null&&(i=kn.empty()),i.set(r.field,u))}return i||null}function W_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Go(r,o,((u,c)=>yI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Bu extends Tf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gr extends Tf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JT(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function $_(n,t,i){const r=new Map;ce(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,gI(c,d,i[o]))}return r}function Z_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,mI(u,c,t))}return r}class Cg extends Tf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends Tf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&_I(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=yu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=yu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=YT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const m=ZT(c,d);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Pt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,((i,r)=>W_(i,r)))&&Go(this.baseMutations,t.baseMutations,((i,r)=>W_(i,r)))}}class Rg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return cI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Rg(t,i,r,o)}}class SI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ke,$t;function AI(n){switch(n){case ct.OK:return Mt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function tS(n){if(n===void 0)return Fs("GRPC error has no .code"),ct.UNKNOWN;switch(n){case Ke.OK:return ct.OK;case Ke.CANCELLED:return ct.CANCELLED;case Ke.UNKNOWN:return ct.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return ct.INTERNAL;case Ke.UNAVAILABLE:return ct.UNAVAILABLE;case Ke.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Ke.NOT_FOUND:return ct.NOT_FOUND;case Ke.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Ke.ABORTED:return ct.ABORTED;case Ke.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Ke.DATA_LOSS:return ct.DATA_LOSS;default:return Mt(39323,{code:n})}}($t=Ke||(Ke={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function wI(){return new TextEncoder}const CI=new Dr([4294967295,4294967295],0);function J_(n){const t=wI().encode(n),i=new mT;return i.update(t),new Uint8Array(i.digest())}function tb(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Dr([i,r],0),new Dr([o,u],0)]}class Ig{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new cu(`Invalid padding: ${i}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new cu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Dr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Dr.fromNumber(r)));return o.compare(CI)===1&&(o=new Dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=J_(t),[r,o]=tb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Ig(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=J_(t),[r,o]=tb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sf(Pt.min(),o,new Re(Qt),qs(),Kt())}}class zu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new zu(r,i,Kt(),Kt(),Kt())}}class Lh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class eS{constructor(t,i){this.targetId=t,this.Ce=i}}class nS{constructor(t,i,r=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class eb{constructor(){this.ve=0,this.Fe=nb(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),i=Kt(),r=Kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Mt(38017,{changeType:u})}})),new zu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=nb()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RI{constructor(t){this.Ge=t,this.ze=new Map,this.je=qs(),this.Je=Ah(),this.He=Ah(),this.Ye=new Re(Qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Vm(u))if(r===0){const c=new Dt(u.path);this.et(i,c,En.newNoDocument(c,Pt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=Lr(r).toUint8Array()}catch(m){if(m instanceof CT)return Ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ig(c,o,u)}catch(m){return Ho(m instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Vm(d.target)){const m=new Dt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,En.newNoDocument(m,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Kt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Sf(t,i,this.Ye,this.je,r);return this.je=qs(),this.Je=Ah(),this.He=Ah(),this.Ye=new Re(Qt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new eb,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new tn(Qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new tn(Qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||Tt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eb),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ah(){return new Re(Dt.comparator)}function nb(){return new Re(Dt.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},DI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VI={and:"AND",or:"OR"};class jI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Mm(n,t){return n.useProto3Json||gf(t)?t:{value:t}}function Zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function MI(n,t){return Zh(n,t.toTimestamp())}function fs(n){return ce(!!n,49232),Pt.fromTimestamp((function(i){const r=Nr(i);return new Se(r.seconds,r.nanos)})(n))}function Dg(n,t){return Om(n,t).canonicalString()}function Om(n,t){const i=(function(o){return new _e(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function sS(n){const t=_e.fromString(n);return ce(uS(t),10190,{key:t.toString()}),t}function Nm(n,t){return Dg(n.databaseId,t.path)}function Xp(n,t){const i=sS(t);if(i.get(1)!==n.databaseId.projectId)throw new vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Dt(aS(i))}function rS(n,t){return Dg(n.databaseId,t)}function OI(n){const t=sS(n);return t.length===4?_e.emptyPath():aS(t)}function Lm(n){return new _e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aS(n){return ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ib(n,t,i){return{name:Nm(n,t),fields:i.value.mapValue.fields}}function NI(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Mt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ce(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ct.UNKNOWN:tS(g.code);return new vt(v,g.message||"")})(c);i=new nS(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xp(n,r.document.name),u=fs(r.document.updateTime),c=r.document.createTime?fs(r.document.createTime):Pt.min(),d=new kn({mapValue:{fields:r.document.fields}}),m=En.newFoundDocument(o,u,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Lh(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Xp(n,r.document),u=r.readTime?fs(r.readTime):Pt.min(),c=En.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Lh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Xp(n,r.document),u=r.removedTargetIds||[];i=new Lh([],u,o,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new EI(o,u),d=r.targetId;i=new eS(d,c)}}return i}function LI(n,t){let i;if(t instanceof Bu)i={update:ib(n,t.key,t.value)};else if(t instanceof Cg)i={delete:Nm(n,t.key)};else if(t instanceof Gr)i={update:ib(n,t.key,t.data),updateMask:GI(t.fieldMask)};else{if(!(t instanceof xI))return Mt(16599,{Vt:t.type});i={verify:Nm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Wh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $h)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Mt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:MI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt(27497)})(n,t.precondition)),i}function PI(n,t){return n&&n.length>0?(ce(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?fs(o.updateTime):fs(u);return c.isEqual(Pt.min())&&(c=fs(u)),new vI(c,o.transformResults||[])})(i,t)))):[]}function kI(n,t){return{documents:[rS(n,t.path)]}}function BI(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=rS(n,o);const u=(function(g){if(g.length!==0)return lS(Ui.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Mo(S.field),direction:FI(S.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=Mm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function zI(n){let t=OI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ce(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const S=oS(b);return S instanceof Ui&&PT(S)?S.getFilters():[S]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((S=>(function(N){return new Ru(Oo(N.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(i.orderBy));let d=null;i.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,gf(S)?null:S})(i.limit));let m=null;i.startAt&&(m=(function(b){const S=!!b.before,j=b.values||[];return new Kh(j,S)})(i.startAt));let g=null;return i.endAt&&(g=(function(b){const S=!b.before,j=b.values||[];return new Kh(j,S)})(i.endAt)),rI(t,o,c,u,d,"F",m,g)}function UI(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oS(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Oo(i.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(i.unaryFilter.field);return We.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(i.unaryFilter.field);return We.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(i.unaryFilter.field);return We.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return We.create(Oo(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((r=>oS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(i.compositeFilter.op))})(n):Mt(30097,{filter:n})}function FI(n){return II[n]}function qI(n){return DI[n]}function HI(n){return VI[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return gn.fromServerFormat(n.fieldPath)}function lS(n){return n instanceof We?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(i.field),op:qI(i.op),value:i.value}}})(n):n instanceof Ui?(function(i){const r=i.getFilters().map((o=>lS(o)));return r.length===1?r[0]:{compositeFilter:{op:HI(i.op),filters:r}}})(n):Mt(54877,{filter:n})}function GI(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function uS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ar{constructor(t,i,r,o,u=Pt.min(),c=Pt.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YI{constructor(t){this.yt=t}}function QI(n){const t=zI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xh(t,t.limit,"L"):t}class KI{constructor(){this.Cn=new XI}addToCollectionParentIndex(t,i){return this.Cn.add(i),ft.resolve()}getCollectionParents(t,i){return ft.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ft.resolve()}deleteFieldIndex(t,i){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,i){return ft.resolve()}getDocumentsMatchingTarget(t,i){return ft.resolve(null)}getIndexType(t,i){return ft.resolve(0)}getFieldIndexes(t,i){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,i){return ft.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,i){return ft.resolve(Or.min())}updateCollectionGroup(t,i,r){return ft.resolve()}updateIndexEntries(t,i){return ft.resolve()}}class XI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new tn(_e.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(_e.comparator)).toArray()}}const sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class Pn{static withCacheSize(t){return new Pn(t,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(cS,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class Ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}const rb="LruGarbageCollector",WI=1048576;function ab([n,t],[i,r]){const o=Qt(n,i);return o===0?Qt(t,r):o}class $I{constructor(t){this.Ir=t,this.buffer=new tn(ab),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();ab(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(rb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){tl(i)?Tt(rb,"Ignoring IndexedDB error during garbage collection: ",i):await Jo(i)}await this.Vr(3e5)}))}}class JI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return ft.resolve(mf.ce);const r=new $I(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(sb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sb):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,d=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(g=Date.now(),Vo()<=Zt.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function tD(n,t){return new JI(n,t)}class eD{constructor(){this.changes=new Ba((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ft.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class iD{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&yu(r.mutation,o,Jn.empty(),Se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Kt()){const o=Ca();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=uu();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=Ca();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Kt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=qs();const c=gu(),d=(function(){return gu()})();return i.forEach(((m,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Gr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),yu(v.mutation,g,v.mutation.getFieldMask(),Se.now())):c.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>d.set(g,new nD(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=gu();let o=new Re(((c,d)=>c-d)),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=i.get(m);if(g===null)return;let v=r.get(m)||Jn.empty();v=d.applyToLocalView(g,v),r.set(m,v);const b=(o.get(d.batchId)||Kt()).add(m);o=o.insert(d.batchId,b)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=YT();v.forEach((S=>{if(!u.has(S)){const j=ZT(i.get(S),r.get(S));j!==null&&b.set(S,j),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return ft.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return Dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):UT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ft.resolve(Ca());let d=Eu,m=u;return c.next((g=>ft.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ft.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{m=m.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,Kt()))).next((v=>({batchId:d,changes:GT(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Dt(i)).next((r=>{let o=uu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(t,u).next((d=>ft.forEach(d,(m=>{const g=(function(b,S){return new el(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))}));let d=uu();return c.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&yu(v.mutation,g,Jn.empty(),Se.now()),bf(i,g)&&(d=d.insert(m,g))})),d}))}}class sD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return ft.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(i)),ft.resolve()}getNamedQuery(t,i){return ft.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:QI(o.bundledQuery),readTime:fs(o.readTime)}})(i)),ft.resolve()}}class rD{constructor(){this.overlays=new Re(Dt.comparator),this.qr=new Map}getOverlay(t,i){return ft.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Ca();return ft.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),ft.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ft.resolve()}getOverlaysForCollection(t,i,r){const o=Ca(),u=i.length+1,c=new Dt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ft.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Re(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Ca(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ca(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return ft.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new SI(i,r));let u=this.qr.get(i);u===void 0&&(u=Kt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class aD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ft.resolve()}}class Vg{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new on(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new on(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Dt(new _e([])),r=new on(i,t),o=new on(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Dt(new _e([])),r=new on(i,t),o=new on(i,t+1);let u=Kt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new on(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Dt.comparator(t.key,i.key)||Qt(t.Yr,i.Yr)}static Kr(t,i){return Qt(t.Yr,i.Yr)||Dt.comparator(t.key,i.key)}}class oD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TI(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new on(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ft.resolve(c)}lookupMutationBatch(t,i){return ft.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return ft.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?xg:this.tr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ft.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new tn(Qt);return i.forEach((o=>{const u=new on(o,0),c=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),ft.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Dt.isDocumentKey(u)||(u=u.child(""));const c=new on(new Dt(u),0);let d=new tn(Qt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),ft.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ce(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ft.forEach(i.mutations,(o=>{const u=new on(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new on(i,0),o=this.Zr.firstAfterOrEqual(r);return ft.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lD{constructor(t){this.ri=t,this.docs=(function(){return new Re(Dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ft.resolve(r?r.document.mutableCopy():En.newInvalidDocument(i))}getEntries(t,i){let r=qs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),ft.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=qs();const c=i.path,d=new Dt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||PR(LR(v),r)<=0||(o.has(v.key)||bf(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ft.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Mt(9500)}ii(t,i){return ft.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new uD(this)}getSize(t){return ft.resolve(this.size)}}class uD extends eD{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ft.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class cD{constructor(t){this.persistence=t,this.si=new Ba((i=>Eg(i)),Ag),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ft.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ko(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,ft.resolve()}updateTargetData(t,i){return this.Pr(i),ft.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),ft.waitFor(u).next((()=>o))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return ft.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),ft.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ft.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),ft.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return ft.resolve(r)}containsKey(t,i){return ft.resolve(this._i.containsKey(i))}}class hS{constructor(t,i){this.ui={},this.overlays={},this.ci=new mf(0),this.li=!1,this.li=!0,this.hi=new aD,this.referenceDelegate=t(this),this.Pi=new cD(this),this.indexManager=new KI,this.remoteDocumentCache=(function(o){return new lD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YI(i),this.Ii=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new oD(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){Tt("MemoryPersistence","Starting transaction:",t);const o=new hD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return ft.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class hD extends BR{constructor(t){super(),this.currentSequenceNumber=t}}class jg{constructor(t){this.persistence=t,this.Ri=new Vg,this.Vi=null}static mi(t){return new jg(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ft.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ft.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),ft.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.fi,(r=>{const o=Dt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return ft.or([()=>ft.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jh{constructor(t,i){this.persistence=t,this.pi=new Ba((r=>FR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=tD(this,i)}static mi(t,i){return new Jh(t,i)}Ei(){}di(t){return ft.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return ft.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ft.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Pt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mh(t.data.value)),i}br(t,i,r){return ft.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return ft.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Kt(),o=Kt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mg(t,i.fromCache,r,o)}}class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iC()?8:zR(tC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new fD;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Vo()<=Zt.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ft.resolve()):(Vo()<=Zt.DEBUG&&Tt("QueryEngine","Query:",jo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Vo()<=Zt.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hs(i))):ft.resolve())}ys(t,i){if(K_(i))return ft.resolve(null);let r=hs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Xh(i,null,"F"),r=hs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Kt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.Ds(i,d);return this.Cs(i,g,c,m.readTime)?this.ys(t,Xh(i,null,"F")):this.vs(t,g,i,m)}))))})))))}ws(t,i,r,o){return K_(i)||o.isEqual(Pt.min())?ft.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?ft.resolve(null):(Vo()<=Zt.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(i)),this.vs(t,c,i,NR(o,Eu)).next((d=>d)))}))}Ds(t,i){let r=new tn(qT(t));return i.forEach(((o,u)=>{bf(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Vo()<=Zt.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",jo(i)),this.ps.getDocumentsMatchingQuery(t,i,Or.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Og="LocalStore",pD=3e8;class mD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Re(Qt),this.xs=new Ba((u=>Eg(u)),Ag),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function gD(n,t,i,r){return new mD(n,t,i,r)}async function fS(n,t){const i=Bt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let m=Kt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return i.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function yD(n,t){const i=Bt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const b=g.batch,S=b.keys();let j=ft.resolve();return S.forEach((N=>{j=j.next((()=>v.getEntry(m,N))).next((P=>{const F=g.docVersions.get(N);ce(F!==null,48541),P.version.compareTo(F)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),j.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=Kt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function dS(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function vD(n,t){const i=Bt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((v,b)=>{const S=o.get(b);if(!S)return;d.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let j=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(yn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,r)),o=o.insert(b,j),(function(P,F,Y){return P.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=pD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,j,v)&&d.push(i.Pi.updateTargetData(u,j))}));let m=qs(),g=Kt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(_D(u,c,t.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!r.isEqual(Pt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return ft.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(i.Ms=o,u)))}function _D(n,t,i){let r=Kt(),o=Kt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=qs();return i.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Pt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):Tt(Og,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function bD(n,t){const i=Bt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=xg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function xD(n,t){const i=Bt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,ft.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Ar(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Pm(n,t,i){const r=Bt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;Tt(Og,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ob(n,t,i){const r=Bt(n);let o=Pt.min(),u=Kt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Bt(m),S=b.xs.get(v);return S!==void 0?ft.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,v)})(r,c,hs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Pt.min(),i?u:Kt()))).next((d=>(TD(r,oI(t),d),{documents:d,Qs:u})))))}function TD(n,t,i){let r=n.Os.get(t)||Pt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class lb{constructor(){this.activeTargetIds=dI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SD{constructor(){this.Mo=new lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lb,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ED{Oo(t){}shutdown(){}}const ub="ConnectivityMonitor";class cb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(ub,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(ub,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function km(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const Wp="RestConnection",AD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=km(),d=this.zo(t,i.toUriEncodedString());Tt(Wp,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),v=gg(g);return this.Jo(t,d,m,r,v).then((b=>(Tt(Wp,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw Ho(Wp,`RPC '${t}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=AD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class CD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Tn="WebChannelConnection";class RD extends wD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=km();return new Promise(((d,m)=>{const g=new gT;g.setWithCredentials(!0),g.listenOnce(yT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const b=g.getResponseJson();Tt(Tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case jh.TIMEOUT:Tt(Tn,`RPC '${t}' ${c} timed out`),m(new vt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const S=g.getStatus();if(Tt(Tn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const N=j?.error;if(N&&N.status&&N.message){const P=(function(Y){const k=Y.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(k)>=0?k:ct.UNKNOWN})(N.status);m(new vt(P,N.message))}else m(new vt(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new vt(ct.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Tt(Tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);Tt(Tn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=bT(),d=_T(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const v=u.join("");Tt(Tn,`Creating RPC '${t}' stream ${o}: ${v}`,m);const b=c.createWebChannel(v,m);this.I_(b);let S=!1,j=!1;const N=new CD({Yo:F=>{j?Tt(Tn,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(S||(Tt(Tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),Tt(Tn,`RPC '${t}' stream ${o} sending:`,F),b.send(F))},Zo:()=>b.close()}),P=(F,Y,k)=>{F.listen(Y,(U=>{try{k(U)}catch(K){setTimeout((()=>{throw K}),0)}}))};return P(b,lu.EventType.OPEN,(()=>{j||(Tt(Tn,`RPC '${t}' stream ${o} transport opened.`),N.o_())})),P(b,lu.EventType.CLOSE,(()=>{j||(j=!0,Tt(Tn,`RPC '${t}' stream ${o} transport closed`),N.a_(),this.E_(b))})),P(b,lu.EventType.ERROR,(F=>{j||(j=!0,Ho(Tn,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),N.a_(new vt(ct.UNAVAILABLE,"The operation could not be completed")))})),P(b,lu.EventType.MESSAGE,(F=>{if(!j){const Y=F.data[0];ce(!!Y,16349);const k=Y,U=k?.error||k[0]?.error;if(U){Tt(Tn,`RPC '${t}' stream ${o} received error:`,U);const K=U.status;let $=(function(A){const R=Ke[A];if(R!==void 0)return tS(R)})(K),J=U.message;$===void 0&&($=ct.INTERNAL,J="Unknown error status: "+K+" with message "+U.message),j=!0,N.a_(new vt($,J)),b.close()}else Tt(Tn,`RPC '${t}' stream ${o} received:`,Y),N.u_(Y)}})),P(d,vT.STAT_EVENT,(F=>{F.stat===wm.PROXY?Tt(Tn,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===wm.NOPROXY&&Tt(Tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $p(){return typeof document<"u"?document:null}function Ef(n){return new jI(n,!0)}class pS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&Tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hb="PersistentStream";class mS{constructor(t,i,r,o,u,c,d,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ct.RESOURCE_EXHAUSTED?(Fs(i.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new vt(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Tt(hb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(Tt(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ID extends mS{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=NI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Pt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?fs(c.readTime):Pt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Lm(this.serializer),i.addTarget=(function(u,c){let d;const m=c.target;if(d=Vm(m)?{documents:kI(u,m)}:{query:BI(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iS(u,c.resumeToken);const g=Mm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Pt.min())>0){d.readTime=Zh(u,c.snapshotVersion.toTimestamp());const g=Mm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=UI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Lm(this.serializer),i.removeTarget=t,this.q_(i)}}class DD extends mS{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=PI(t.writeResults,t.commitTime),r=fs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>LI(this.serializer,r)))};this.q_(i)}}class VD{}class jD extends VD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new vt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Om(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(ct.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Om(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(i),this.aa=!1):Tt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class OD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{za(this)&&(Tt(La,"Restarting streams for network reachability change."),await(async function(m){const g=Bt(m);g.Ea.add(4),await Uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Af(g)})(this))}))})),this.Ra=new MD(r,o)}}async function Af(n){if(za(n))for(const t of n.da)await t(!0)}async function Uu(n){for(const t of n.da)await t(!1)}function gS(n,t){const i=Bt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),kg(i)?Pg(i):nl(i).O_()&&Lg(i,t))}function Ng(n,t){const i=Bt(n),r=nl(i);i.Ia.delete(t),r.O_()&&yS(i,t),i.Ia.size===0&&(r.O_()?r.L_():za(i)&&i.Ra.set("Unknown"))}function Lg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}nl(n).Y_(t)}function yS(n,t){n.Va.Ue(t),nl(n).Z_(t)}function Pg(n){n.Va=new RI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),nl(n).start(),n.Ra.ua()}function kg(n){return za(n)&&!nl(n).x_()&&n.Ia.size>0}function za(n){return Bt(n).Ea.size===0}function vS(n){n.Va=void 0}async function ND(n){n.Ra.set("Online")}async function LD(n){n.Ia.forEach(((t,i)=>{Lg(n,t)}))}async function PD(n,t){vS(n),kg(n)?(n.Ra.ha(t),Pg(n)):n.Ra.set("Unknown")}async function kD(n,t,i){if(n.Ra.set("Online"),t instanceof nS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(r){Tt(La,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await tf(n,r)}else if(t instanceof Lh?n.Va.Ze(t):t instanceof eS?n.Va.st(t):n.Va.tt(t),!i.isEqual(Pt.min()))try{const r=await dS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),yS(u,m);const b=new Ar(v.target,m,g,v.sequenceNumber);Lg(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(n,i)}catch(r){Tt(La,"Failed to raise snapshot:",r),await tf(n,r)}}async function tf(n,t,i){if(!tl(t))throw t;n.Ea.add(1),await Uu(n),n.Ra.set("Offline"),i||(i=()=>dS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Tt(La,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Af(n)}))}function _S(n,t){return t().catch((i=>tf(n,i,t)))}async function wf(n){const t=Bt(n),i=kr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xg;for(;BD(t);)try{const o=await bD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,zD(t,o)}catch(o){await tf(t,o)}bS(t)&&xS(t)}function BD(n){return za(n)&&n.Ta.length<10}function zD(n,t){n.Ta.push(t);const i=kr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function bS(n){return za(n)&&!kr(n).x_()&&n.Ta.length>0}function xS(n){kr(n).start()}async function UD(n){kr(n).ra()}async function FD(n){const t=kr(n);for(const i of n.Ta)t.ea(i.mutations)}async function qD(n,t,i){const r=n.Ta.shift(),o=Rg.from(r,t,i);await _S(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await wf(n)}async function HD(n,t){t&&kr(n).X_&&await(async function(r,o){if((function(c){return AI(c)&&c!==ct.ABORTED})(o.code)){const u=r.Ta.shift();kr(r).B_(),await _S(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wf(r)}})(n,t),bS(n)&&xS(n)}async function fb(n,t){const i=Bt(n);i.asyncQueue.verifyOperationInProgress(),Tt(La,"RemoteStore received new credentials");const r=za(i);i.Ea.add(3),await Uu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Af(i)}async function GD(n,t){const i=Bt(n);t?(i.Ea.delete(2),await Af(i)):t||(i.Ea.add(2),await Uu(i),i.Ra.set("Unknown"))}function nl(n){return n.ma||(n.ma=(function(i,r,o){const u=Bt(i);return u.sa(),new ID(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:ND.bind(null,n),t_:LD.bind(null,n),r_:PD.bind(null,n),H_:kD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),kg(n)?Pg(n):n.Ra.set("Unknown")):(await n.ma.stop(),vS(n))}))),n.ma}function kr(n){return n.fa||(n.fa=(function(i,r,o){const u=Bt(i);return u.sa(),new DD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UD.bind(null,n),r_:HD.bind(null,n),ta:FD.bind(null,n),na:qD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await wf(n)):(await n.fa.stop(),n.Ta.length>0&&(Tt(La,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Bg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new Bg(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,t){if(Fs("AsyncQueue",`${t}: ${n}`),tl(n))return new vt(ct.UNAVAILABLE,`${t}: ${n}`);throw n}class zo{static emptySet(t){return new zo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Dt.comparator(i.key,r.key):(i,r)=>Dt.comparator(i.key,r.key),this.keyedMap=uu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof zo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new zo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class db{constructor(){this.ga=new Re(Dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Xo{constructor(t,i,r,o,u,c,d,m,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Xo(t,i,zo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class YD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QD{constructor(){this.queries=pb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Bt(i),u=o.queries;o.queries=pb(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new vt(ct.ABORTED,"Firestore shutting down"))}}function pb(){return new Ba((n=>FT(n)),_f)}async function TS(n,t){const i=Bt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new YD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=zg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Ug(i)}async function SS(n,t){const i=Bt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function KD(n,t){const i=Bt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&Ug(i)}function XD(n,t,i){const r=Bt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Ug(n){n.Ca.forEach((t=>{t.next()}))}var Bm,mb;(mb=Bm||(Bm={})).Ma="default",mb.Cache="cache";class ES{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bm.Cache}}class AS{constructor(t){this.key=t}}class wS{constructor(t){this.key=t}}class WD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=qT(t),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new db,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const S=o.get(v),j=bf(this.query,b)?b:null,N=!!S&&this.mutatedKeys.has(S.key),P=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let F=!1;S&&j?S.data.isEqual(j.data)?N!==P&&(r.track({type:3,doc:j}),F=!0):this.su(S,j)||(r.track({type:2,doc:j}),F=!0,(m&&this.eu(j,m)>0||g&&this.eu(j,g)<0)&&(d=!0)):!S&&j?(r.track({type:0,doc:j}),F=!0):S&&!j&&(r.track({type:1,doc:S}),F=!0,(m||g)&&(d=!0)),F&&(j?(c=c.add(j),u=P?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(j,N){const P=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:F})}};return P(j)-P(N)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Xo(this.query,t.tu,u,c,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new db,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new wS(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new AS(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fg="SyncEngine";class $D{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class ZD{constructor(t){this.key=t,this.hu=!1}}class JD{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((d=>FT(d)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new Re(Dt.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tV(n,t,i=!0){const r=jS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CS(r,t,i,!0),o}async function eV(n,t){const i=jS(n);await CS(i,t,!0,!1)}async function CS(n,t,i,r){const o=await xD(n.localStore,hs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await nV(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&gS(n.remoteStore,o),d}async function nV(n,t,i,r,o){n.pu=(b,S,j)=>(async function(P,F,Y,k){let U=F.view.ru(Y);U.Cs&&(U=await ob(P.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,U))));const K=k&&k.targetChanges.get(F.targetId),$=k&&k.targetMismatches.get(F.targetId)!=null,J=F.view.applyChanges(U,P.isPrimaryClient,K,$);return yb(P,F.targetId,J.au),J.snapshot})(n,b,S,j);const u=await ob(n.localStore,t,!0),c=new WD(t,u.Qs),d=c.ru(u.documents),m=zu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,m);yb(n,i,g.au);const v=new $D(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function iV(n,t,i){const r=Bt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!_f(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ng(r.remoteStore,o.targetId),zm(r,o.targetId)})).catch(Jo)):(zm(r,o.targetId),await Pm(r.localStore,o.targetId,!0))}async function sV(n,t){const i=Bt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(i.remoteStore,r.targetId))}async function rV(n,t,i){const r=fV(n);try{const o=await(function(c,d){const m=Bt(c),g=Se.now(),v=d.reduce(((j,N)=>j.add(N.key)),Kt());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let N=qs(),P=Kt();return m.Ns.getEntries(j,v).next((F=>{N=F,N.forEach(((Y,k)=>{k.isValidDocument()||(P=P.add(Y))}))})).next((()=>m.localDocuments.getOverlayedDocuments(j,N))).next((F=>{b=F;const Y=[];for(const k of d){const U=bI(k,b.get(k.key).overlayedDocument);U!=null&&Y.push(new Gr(k.key,U,OT(U.value.mapValue),xi.exists(!0)))}return m.mutationQueue.addMutationBatch(j,g,Y,d)})).next((F=>{S=F;const Y=F.applyToLocalDocumentSet(b,P);return m.documentOverlayCache.saveOverlays(j,F.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:GT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Re(Qt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await Fu(r,o.changes),await wf(r.remoteStore)}catch(o){const u=zg(o,"Failed to persist write");i.reject(u)}}async function RS(n,t){const i=Bt(n);try{const r=await vD(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await Fu(i,r,t)}catch(r){await Jo(r)}}function gb(n,t,i){const r=Bt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Bt(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(d)&&(g=!0)})),g&&Ug(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aV(n,t,i){const r=Bt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Re(Dt.comparator);c=c.insert(u,En.newNoDocument(u,Pt.min()));const d=Kt().add(u),m=new Sf(Pt.min(),new Map,new Re(Qt),c,d);await RS(r,m),r.du=r.du.remove(u),r.Au.delete(t),qg(r)}else await Pm(r.localStore,t,!1).then((()=>zm(r,t,i))).catch(Jo)}async function oV(n,t){const i=Bt(n),r=t.batch.batchId;try{const o=await yD(i.localStore,t);DS(i,r,null),IS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(i,o)}catch(o){await Jo(o)}}async function lV(n,t,i){const r=Bt(n);try{const o=await(function(c,d){const m=Bt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(ce(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);DS(r,t,i),IS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Fu(r,o)}catch(o){await Jo(o)}}function IS(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function DS(n,t,i){const r=Bt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function zm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||VS(n,r)}))}function VS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(Ng(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),qg(n))}function yb(n,t,i){for(const r of i)r instanceof AS?(n.Ru.addReference(r.key,t),uV(n,r)):r instanceof wS?(Tt(Fg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||VS(n,r.key)):Mt(19791,{wu:r})}function uV(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(Tt(Fg,"New document in limbo: "+i),n.Eu.add(r),qg(n))}function qg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new Dt(_e.fromString(t)),r=n.fu.next();n.Au.set(r,new ZD(i)),n.du=n.du.insert(i,r),gS(n.remoteStore,new Ar(hs(vf(i.path)),r,"TargetPurposeLimboResolution",mf.ce))}}async function Fu(n,t,i){const r=Bt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const v=g?!g.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Mg.As(m.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,g){const v=Bt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ft.forEach(g,(S=>ft.forEach(S.Es,(j=>v.persistence.referenceDelegate.addReference(b,S.targetId,j))).next((()=>ft.forEach(S.ds,(j=>v.persistence.referenceDelegate.removeReference(b,S.targetId,j)))))))))}catch(b){if(!tl(b))throw b;Tt(Og,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const j=v.Ms.get(S),N=j.snapshotVersion,P=j.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,P)}}})(r.localStore,u))}async function cV(n,t){const i=Bt(n);if(!i.currentUser.isEqual(t)){Tt(Fg,"User change. New user:",t.toKey());const r=await fS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new vt(ct.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fu(i,r.Ls)}}function hV(n,t){const i=Bt(n),r=i.Au.get(t);if(r&&r.hu)return Kt().add(r.key);{let o=Kt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function jS(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aV.bind(null,t),t.Pu.H_=KD.bind(null,t.eventManager),t.Pu.yu=XD.bind(null,t.eventManager),t}function fV(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lV.bind(null,t),t}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return gD(this.persistence,new dD,t.initialUser,this.serializer)}Cu(t){return new hS(jg.mi,this.serializer)}Du(t){return new SD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class dV extends ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ce(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new hS((r=>Jh.mi(r,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,this.syncEngine),await GD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QD})()}createDatastore(t){const i=Ef(t.databaseInfo.databaseId),r=(function(u){return new RD(u)})(t.databaseInfo);return(function(u,c,d,m){return new jD(u,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new OD(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>gb(this.syncEngine,i,0)),(function(){return cb.v()?new cb:new ED})())}createSyncEngine(t,i){return(function(o,u,c,d,m,g,v){const b=new JD(o,u,c,d,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Bt(i);Tt(La,"RemoteStore shutting down."),r.Ea.add(5),await Uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class MS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Br="FirestoreClient";class pV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Tt(Br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Tt(Br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=zg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Zp(n,t){n.asyncQueue.verifyOperationInProgress(),Tt(Br,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await fS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function vb(n,t){n.asyncQueue.verifyOperationInProgress();const i=await mV(n);Tt(Br,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>fb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>fb(t.remoteStore,o))),n._onlineComponents=t}async function mV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt(Br,"Using user provided OfflineComponentProvider");try{await Zp(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ho("Error using user provided cache. Falling back to memory cache: "+i),await Zp(n,new ef)}}else Tt(Br,"Using default OfflineComponentProvider"),await Zp(n,new dV(void 0));return n._offlineComponents}async function OS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt(Br,"Using user provided OnlineComponentProvider"),await vb(n,n._uninitializedComponentsProvider._online)):(Tt(Br,"Using default OnlineComponentProvider"),await vb(n,new Um))),n._onlineComponents}function gV(n){return OS(n).then((t=>t.syncEngine))}async function Fm(n){const t=await OS(n),i=t.eventManager;return i.onListen=tV.bind(null,t.syncEngine),i.onUnlisten=iV.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eV.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sV.bind(null,t.syncEngine),i}function yV(n,t,i={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,g){const v=new MS({next:S=>{v.Nu(),c.enqueueAndForget((()=>SS(u,b)));const j=S.docs.has(d);!j&&S.fromCache?g.reject(new vt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&m&&m.source==="server"?g.reject(new vt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new ES(vf(d.path),v,{includeMetadataChanges:!0,qa:!0});return TS(u,b)})(await Fm(n),n.asyncQueue,t,i,r))),r.promise}function NS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const _b=new Map;const LS="firestore.googleapis.com",bb=!0;class xb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=bb}else this.host=t.host,this.ssl=t.ssl??bb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WI)throw new vt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cf{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SR;switch(r.type){case"firstParty":return new CR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_b.get(i);r&&(Tt("ComponentProvider","Removing Datastore"),_b.delete(i),r.terminate())})(this),Promise.resolve()}}function vV(n,t,i,r={}){n=bi(n,Cf);const o=gg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${i}`;o&&(X2(`https://${d}`),J2("Firestore",!0)),u.host!==LS&&u.host!==d&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:r};if(!Tu(m,c)&&(n._setSettings(m),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Sn.MOCK_USER;else{g=W2(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new vt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Sn(b)}n._authCredentials=new ER(new TT(g,v))}}class Yr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yr(this.firestore,t,this._query)}}class je{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ku(i,je._jsonSchema))return new je(t,r||null,new Dt(_e.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:$e("string",je._jsonSchemaVersion),referencePath:$e("string")};class jr extends Yr{constructor(t,i,r){super(t,i,vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Dt(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function Zn(n,t,...i){if(n=ei(n),ST("collection","path",t),n instanceof Cf){const r=_e.fromString(t,...i);return O_(r),new jr(n,null,r)}{if(!(n instanceof je||n instanceof jr))throw new vt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_e.fromString(t,...i));return O_(r),new jr(n.firestore,null,r)}}function Pe(n,t,...i){if(n=ei(n),arguments.length===1&&(t=bg.newId()),ST("doc","path",t),n instanceof Cf){const r=_e.fromString(t,...i);return M_(r),new je(n,null,new Dt(r))}{if(!(n instanceof je||n instanceof jr))throw new vt(ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_e.fromString(t,...i));return M_(r),new je(n.firestore,n instanceof jr?n.converter:null,new Dt(r))}}const Tb="AsyncQueue";class Sb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pS(this,"async_queue_retry"),this._c=()=>{const r=$p();r&&Tt(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$p();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$p();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tl(t))throw t;Tt(Tb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",Eb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Bg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:Eb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Eb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Ab(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class zr extends Cf{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Sb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Sb(t),this._firestoreClient=void 0,await t}}}function _V(n,t){const i=typeof n=="object"?n:fT(),r=typeof n=="string"?n:Yh,o=Pu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Q2("firestore");u&&vV(o,...u)}return o}function Hg(n){if(n._terminated)throw new vt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bV(n),n._firestoreClient}function bV(n){const t=n._freezeSettings(),i=(function(o,u,c,d){return new GR(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new pV(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(yn.fromBase64String(t))}catch(i){throw new vt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new vi(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ku(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:$e("string",vi._jsonSchemaVersion),bytes:$e("string")};class Rf{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gg{constructor(t){this._methodName=t}}class ds{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(t){if(ku(t,ds._jsonSchema))return new ds(t.latitude,t.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:$e("string",ds._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};class ps{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ku(t,ps._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ps(t.vectorValues);throw new vt(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:$e("string",ps._jsonSchemaVersion),vectorValues:$e("object")};const xV=/^__.*__$/;class TV{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bu(t,this.data,i,this.fieldTransforms)}}class PS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:n})}}class Yg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kS(this.Ac)&&xV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ef(t)}Cc(t,i,r,o=!1){return new Yg({Ac:t,methodName:i,Dc:r,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(n){const t=n._freezeSettings(),i=Ef(n._databaseId);return new SV(n._databaseId,!!t.ignoreUndefinedProperties,i)}function BS(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);Qg("Data must be an object, but it was:",c,r);const d=zS(r,c);let m,g;if(u.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=qm(t,b,i);if(!c.contains(S))throw new vt(ct.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);FS(v,S)||v.push(S)}m=new Jn(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new TV(new kn(d),m,g)}class Df extends Gg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Df}}function EV(n,t,i,r){const o=n.Cc(1,t,i);Qg("Data must be an object, but it was:",o,r);const u=[],c=kn.empty();Hr(r,((m,g)=>{const v=Kg(t,m,i);g=ei(g);const b=o.yc(v);if(g instanceof Df)u.push(v);else{const S=qu(g,b);S!=null&&(u.push(v),c.set(v,S))}}));const d=new Jn(u);return new PS(c,d,o.fieldTransforms)}function AV(n,t,i,r,o,u){const c=n.Cc(1,t,i),d=[qm(t,r,i)],m=[o];if(u.length%2!=0)throw new vt(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(qm(t,u[S])),m.push(u[S+1]);const g=[],v=kn.empty();for(let S=d.length-1;S>=0;--S)if(!FS(g,d[S])){const j=d[S];let N=m[S];N=ei(N);const P=c.yc(j);if(N instanceof Df)g.push(j);else{const F=qu(N,P);F!=null&&(g.push(j),v.set(j,F))}}const b=new Jn(g);return new PS(v,b,c.fieldTransforms)}function wV(n,t,i,r=!1){return qu(i,n.Cc(r?4:3,t))}function qu(n,t){if(US(n=ei(n)))return Qg("Unsupported field value:",t,n),zS(n,t);if(n instanceof Gg)return(function(r,o){if(!kS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let m=qu(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Se.fromDate(r);return{timestampValue:Zh(o.serializer,u)}}if(r instanceof Se){const u=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(r instanceof ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:iS(o.serializer,r._byteString)};if(r instanceof je){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ps)return(function(c,d){return{mapValue:{fields:{[jT]:{stringValue:MT},[Qh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return wg(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${pf(r)}`)})(n,t)}function zS(n,t){const i={};return wT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(n,((r,o)=>{const u=qu(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function US(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Se||n instanceof ds||n instanceof vi||n instanceof je||n instanceof Gg||n instanceof ps)}function Qg(n,t,i){if(!US(i)||!ET(i)){const r=pf(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function qm(n,t,i){if((t=ei(t))instanceof Rf)return t._internalPath;if(typeof t=="string")return Kg(n,t);throw nf("Field path arguments must be of type string or ",n,!1,void 0,i)}const CV=new RegExp("[~\\*/\\[\\]]");function Kg(n,t,i){if(t.search(CV)>=0)throw nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Rf(...t.split("."))._internalPath}catch{throw nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function nf(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new vt(ct.INVALID_ARGUMENT,d+n+m)}function FS(n,t){return n.some((i=>i.isEqual(t)))}class qS{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Vf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RV extends qS{data(){return super.data()}}function Vf(n,t){return typeof t=="string"?Kg(n,t):t instanceof Rf?t._internalPath:t._delegate._internalPath}function IV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class Wg extends Xg{}function Ra(n,t,...i){let r=[];t instanceof Xg&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((m=>m instanceof $g)).length,d=u.filter((m=>m instanceof jf)).length;if(c>1||c>0&&d>0)throw new vt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class jf extends Wg{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new jf(t,i,r)}_apply(t){const i=this._parse(t);return HS(t._query,i),new Yr(t.firestore,t.converter,jm(t._query,i))}_parse(t){const i=If(t.firestore);return(function(u,c,d,m,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new vt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Rb(b,v);const N=[];for(const P of b)N.push(Cb(m,u,P));S={arrayValue:{values:N}}}else S=Cb(m,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Rb(b,v),S=wV(d,c,b,v==="in"||v==="not-in");return We.create(g,v,S)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Jp(n,t,i){const r=t,o=Vf("where",n);return jf._create(o,r,i)}class $g extends Xg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new $g(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ui.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const m of d)HS(c,m),c=jm(c,m)})(t._query,i),new Yr(t.firestore,t.converter,jm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends Wg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Zg(t,i)}_apply(t){const i=(function(o,u,c){if(o.startAt!==null)throw new vt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new vt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,c)})(t._query,this._field,this._direction);return new Yr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Ch(n,t="asc"){const i=t,r=Vf("orderBy",n);return Zg._create(r,i)}class Jg extends Wg{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new Jg(t,i,r)}_apply(t){return new Yr(t.firestore,t.converter,Xh(t._query,this._limit,this._limitType))}}function wb(n){return OR("limit",n),Jg._create("limit",n,"F")}function Cb(n,t,i){if(typeof(i=ei(i))=="string"){if(i==="")throw new vt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(t)&&i.indexOf("/")!==-1)throw new vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(_e.fromString(i));if(!Dt.isDocumentKey(r))throw new vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F_(n,new Dt(r))}if(i instanceof je)return F_(n,i._key);throw new vt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(i)}.`)}function Rb(n,t){if(!Array.isArray(n)||n.length===0)throw new vt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HS(n,t){const i=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new vt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class DV{convertValue(t,i="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Hr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Qh].arrayValue?.values?.map((r=>ke(r.doubleValue)));return new ps(i)}convertGeoPoint(t){return new ds(ke(t.latitude),ke(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yf(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Au(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=_e.fromString(t);ce(uS(r),9688,{name:t});const o=new wu(r.get(1),r.get(3)),u=new Dt(r.popFirst(5));return o.isEqual(i)||Fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function GS(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}class hu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends qS{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Vf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ja._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:$e("string",ja._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Ph extends ja{data(t={}){return super.data(t)}}class Uo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Ph(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new Ph(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new Ph(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:VV(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}function wr(n){n=bi(n,je);const t=bi(n.firestore,zr);return yV(Hg(t),n._key).then((i=>QS(t,n,i)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:$e("string",Uo._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class YS extends DV{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function kh(n,t,i){n=bi(n,je);const r=bi(n.firestore,zr),o=GS(n.converter,t,i);return Mf(r,[BS(If(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,xi.none())])}function Cr(n,t,i,...r){n=bi(n,je);const o=bi(n.firestore,zr),u=If(o);let c;return c=typeof(t=ei(t))=="string"||t instanceof Rf?AV(u,"updateDoc",n._key,t,i,r):EV(u,"updateDoc",n._key,t),Mf(o,[c.toMutation(n._key,xi.exists(!0))])}function tm(n){return Mf(bi(n.firestore,zr),[new Cg(n._key,xi.none())])}function Vu(n,t){const i=bi(n.firestore,zr),r=Pe(n),o=GS(n.converter,t);return Mf(i,[BS(If(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then((()=>r))}function ks(n,...t){n=ei(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Ab(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ab(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let u,c,d;if(n instanceof je)c=bi(n.firestore,zr),d=vf(n._key.path),u={next:m=>{t[r]&&t[r](QS(c,n,m))},error:t[r+1],complete:t[r+2]};else{const m=bi(n,Yr);c=bi(m.firestore,zr),d=m._query;const g=new YS(c);u={next:v=>{t[r]&&t[r](new Uo(c,g,m,v))},error:t[r+1],complete:t[r+2]},IV(n._query)}return(function(g,v,b,S){const j=new MS(S),N=new ES(v,j,b);return g.asyncQueue.enqueueAndForget((async()=>TS(await Fm(g),N))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>SS(await Fm(g),N)))}})(Hg(c),d,o,u)}function Mf(n,t){return(function(r,o){const u=new Vr;return r.asyncQueue.enqueueAndForget((async()=>rV(await gV(r),o,u))),u.promise})(Hg(n),t)}function QS(n,t,i){const r=i.docs.get(t._key),o=new YS(n);return new ja(n,o,t._key,r,new hu(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Zo=o})(cR),Mr(new zs("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new zr(new AR(r.getProvider("auth-internal")),new RR(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new vt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),cs(I_,D_,t),cs(I_,D_,"esm2020")})();const KS="@firebase/installations",ty="0.6.19";const XS=1e4,WS=`w:${ty}`,$S="FIS_v2",jV="https://firebaseinstallations.googleapis.com/v1",MV=3600*1e3,OV="installations",NV="Installations";const LV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new df(OV,NV,LV);function ZS(n){return n instanceof qr&&n.code.includes("request-failed")}function JS({projectId:n}){return`${jV}/projects/${n}/installations`}function tE(n){return{token:n.token,requestStatus:2,expiresIn:kV(n.expiresIn),creationTime:Date.now()}}async function eE(n,t){const r=(await t.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function PV(n,{refreshToken:t}){const i=nE(n);return i.append("Authorization",BV(t)),i}async function iE(n){const t=await n();return t.status>=500&&t.status<600?n():t}function kV(n){return Number(n.replace("s","000"))}function BV(n){return`${$S} ${n}`}async function zV({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=JS(n),o=nE(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:i,authVersion:$S,appId:n.appId,sdkVersion:WS},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await iE(()=>fetch(r,d));if(m.ok){const g=await m.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:tE(g.authToken)}}else throw await eE("Create Installation",m)}function sE(n){return new Promise(t=>{setTimeout(t,n)})}function UV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const FV=/^[cdef][\w-]{21}$/,Hm="";function qV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=HV(n);return FV.test(i)?i:Hm}catch{return Hm}}function HV(n){return UV(n).substr(0,22)}function Of(n){return`${n.appName}!${n.appId}`}const rE=new Map;function aE(n,t){const i=Of(n);oE(i,t),GV(i,t)}function oE(n,t){const i=rE.get(n);if(i)for(const r of i)r(t)}function GV(n,t){const i=YV();i&&i.postMessage({key:n,fid:t}),QV()}let Ia=null;function YV(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=n=>{oE(n.data.key,n.data.fid)}),Ia}function QV(){rE.size===0&&Ia&&(Ia.close(),Ia=null)}const KV="firebase-installations-database",XV=1,ka="firebase-installations-store";let em=null;function ey(){return em||(em=cT(KV,XV,{upgrade:(n,t)=>{t===0&&n.createObjectStore(ka)}})),em}async function sf(n,t){const i=Of(n),o=(await ey()).transaction(ka,"readwrite"),u=o.objectStore(ka),c=await u.get(i);return await u.put(t,i),await o.done,(!c||c.fid!==t.fid)&&aE(n,t.fid),t}async function lE(n){const t=Of(n),r=(await ey()).transaction(ka,"readwrite");await r.objectStore(ka).delete(t),await r.done}async function Nf(n,t){const i=Of(n),o=(await ey()).transaction(ka,"readwrite"),u=o.objectStore(ka),c=await u.get(i),d=t(c);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!c||c.fid!==d.fid)&&aE(n,d.fid),d}async function ny(n){let t;const i=await Nf(n.appConfig,r=>{const o=WV(r),u=$V(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Hm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function WV(n){const t=n||{fid:qV(),registrationStatus:0};return uE(t)}function $V(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=ZV(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:JV(n)}:{installationEntry:t}}async function ZV(n,t){try{const i=await zV(n,t);return sf(n.appConfig,i)}catch(i){throw ZS(i)&&i.customData.serverCode===409?await lE(n.appConfig):await sf(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function JV(n){let t=await Ib(n.appConfig);for(;t.registrationStatus===1;)await sE(100),t=await Ib(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await ny(n);return r||i}return t}function Ib(n){return Nf(n,t=>{if(!t)throw Pa.create("installation-not-found");return uE(t)})}function uE(n){return tj(n)?{fid:n.fid,registrationStatus:0}:n}function tj(n){return n.registrationStatus===1&&n.registrationTime+XS<Date.now()}async function ej({appConfig:n,heartbeatServiceProvider:t},i){const r=nj(n,i),o=PV(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:WS,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await iE(()=>fetch(r,d));if(m.ok){const g=await m.json();return tE(g)}else throw await eE("Generate Auth Token",m)}function nj(n,{fid:t}){return`${JS(n)}/${t}/authTokens:generate`}async function iy(n,t=!1){let i;const r=await Nf(n.appConfig,u=>{if(!cE(u))throw Pa.create("not-registered");const c=u.authToken;if(!t&&rj(c))return u;if(c.requestStatus===1)return i=ij(n,t),u;{if(!navigator.onLine)throw Pa.create("app-offline");const d=oj(u);return i=sj(n,d),d}});return i?await i:r.authToken}async function ij(n,t){let i=await Db(n.appConfig);for(;i.authToken.requestStatus===1;)await sE(100),i=await Db(n.appConfig);const r=i.authToken;return r.requestStatus===0?iy(n,t):r}function Db(n){return Nf(n,t=>{if(!cE(t))throw Pa.create("not-registered");const i=t.authToken;return lj(i)?{...t,authToken:{requestStatus:0}}:t})}async function sj(n,t){try{const i=await ej(n,t),r={...t,authToken:i};return await sf(n.appConfig,r),i}catch(i){if(ZS(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await lE(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await sf(n.appConfig,r)}throw i}}function cE(n){return n!==void 0&&n.registrationStatus===2}function rj(n){return n.requestStatus===2&&!aj(n)}function aj(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+MV}function oj(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function lj(n){return n.requestStatus===1&&n.requestTime+XS<Date.now()}async function uj(n){const t=n,{installationEntry:i,registrationPromise:r}=await ny(t);return r?r.catch(console.error):iy(t).catch(console.error),i.fid}async function cj(n,t=!1){const i=n;return await hj(i),(await iy(i,t)).token}async function hj(n){const{registrationPromise:t}=await ny(n);t&&await t}function fj(n){if(!n||!n.options)throw nm("App Configuration");if(!n.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw nm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function nm(n){return Pa.create("missing-app-config-values",{valueName:n})}const hE="installations",dj="installations-internal",pj=n=>{const t=n.getProvider("app").getImmediate(),i=fj(t),r=Pu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mj=n=>{const t=n.getProvider("app").getImmediate(),i=Pu(t,hE).getImmediate();return{getId:()=>uj(i),getToken:o=>cj(i,o)}};function gj(){Mr(new zs(hE,pj,"PUBLIC")),Mr(new zs(dj,mj,"PRIVATE"))}gj();cs(KS,ty);cs(KS,ty,"esm2020");const rf="analytics",yj="firebase_id",vj="origin",_j=60*1e3,bj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sy="https://www.googletagmanager.com/gtag/js";const In=new yg("@firebase/analytics");const xj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ti=new df("analytics","Analytics",xj);function Tj(n){if(!n.startsWith(sy)){const t=ti.create("invalid-gtag-resource",{gtagURL:n});return In.warn(t.message),""}return n}function fE(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function Sj(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function Ej(n,t){const i=Sj("firebase-js-sdk-policy",{createScriptURL:Tj}),r=document.createElement("script"),o=`${sy}?l=${n}&id=${t}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Aj(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function wj(n,t,i,r,o,u){const c=r[o];try{if(c)await t[c];else{const m=(await fE(i)).find(g=>g.measurementId===o);m&&await t[m.appId]}}catch(d){In.error(d)}n("config",o,u)}async function Cj(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await fE(i);for(const m of c){const g=d.find(b=>b.measurementId===m),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){In.error(u)}}function Rj(n,t,i,r){async function o(u,...c){try{if(u==="event"){const[d,m]=c;await Cj(n,t,i,d,m)}else if(u==="config"){const[d,m]=c;await wj(n,t,i,r,d,m)}else if(u==="consent"){const[d,m]=c;n("consent",d,m)}else if(u==="get"){const[d,m,g]=c;n("get",d,m,g)}else if(u==="set"){const[d]=c;n("set",d)}else n(u,...c)}catch(d){In.error(d)}}return o}function Ij(n,t,i,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Rj(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function Dj(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(sy)&&i.src.includes(n))return i;return null}const Vj=30,jj=1e3;class Mj{constructor(t={},i=jj){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const dE=new Mj;function Oj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Nj(n){const{appId:t,apiKey:i}=n,r={method:"GET",headers:Oj(i)},o=bj.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function Lj(n,t=dE,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ti.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ti.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Bj;return setTimeout(async()=>{d.abort()},_j),pE({appId:r,apiKey:o,measurementId:u},c,d,t)}async function pE(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=dE){const{appId:u,measurementId:c}=n;try{await Pj(r,t)}catch(d){if(c)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await Nj(n);return o.deleteThrottleMetadata(u),d}catch(d){const m=d;if(!kj(m)){if(o.deleteThrottleMetadata(u),c)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?__(i,o.intervalMillis,Vj):__(i,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:i+1};return o.setThrottleMetadata(u,v),In.debug(`Calling attemptFetch again in ${g} millis`),pE(n,v,r,o)}}function Pj(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(ti.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function kj(n){if(!(n instanceof qr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class Bj{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function zj(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,c={...r,send_to:u};n("event",i,c)}}async function Uj(n,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:i})}}async function Fj(){if(aT())try{await oT()}catch(n){return In.warn(ti.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return In.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qj(n,t,i,r,o,u,c){const d=Lj(n);d.then(S=>{i[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>In.error(S)),t.push(d);const m=Fj().then(S=>{if(S)return r.getId()}),[g,v]=await Promise.all([d,m]);Dj(u)||Ej(u,g.measurementId),o("js",new Date);const b=c?.config??{};return b[vj]="firebase",b.update=!0,v!=null&&(b[yj]=v),o("config",g.measurementId,b),g.measurementId}class Hj{constructor(t){this.app=t}_delete(){return delete Fo[this.app.options.appId],Promise.resolve()}}let Fo={},Vb=[];const jb={};let im="dataLayer",Gj="gtag",Mb,ry,Ob=!1;function Yj(){const n=[];if(nC()&&n.push("This is a browser extension environment."),sC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=ti.create("invalid-analytics-context",{errorInfo:t});In.warn(i.message)}}function Qj(n,t,i){Yj();const r=n.options.appId;if(!r)throw ti.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ti.create("no-api-key");if(Fo[r]!=null)throw ti.create("already-exists",{id:r});if(!Ob){Aj(im);const{wrappedGtag:u,gtagCore:c}=Ij(Fo,Vb,jb,im,Gj);ry=u,Mb=c,Ob=!0}return Fo[r]=qj(n,Vb,jb,t,Mb,im,i),new Hj(n)}function Kj(n=fT()){n=ei(n);const t=Pu(n,rf);return t.isInitialized()?t.getImmediate():Xj(n)}function Xj(n,t={}){const i=Pu(n,rf);if(i.isInitialized()){const o=i.getImmediate();if(Tu(t,i.getOptions()))return o;throw ti.create("already-initialized")}return i.initialize({options:t})}function Wj(n,t,i){n=ei(n),Uj(ry,Fo[n.app.options.appId],t,i).catch(r=>In.error(r))}function $j(n,t,i,r){n=ei(n),zj(ry,Fo[n.app.options.appId],t,i,r).catch(o=>In.error(o))}const Nb="@firebase/analytics",Lb="0.10.19";function Zj(){Mr(new zs(rf,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return Qj(r,o,i)},"PUBLIC")),Mr(new zs("analytics-internal",n,"PRIVATE")),cs(Nb,Lb),cs(Nb,Lb,"esm2020");function n(t){try{const i=t.getProvider(rf).getImmediate();return{logEvent:(r,o,u)=>$j(i,r,o,u),setUserProperties:(r,o)=>Wj(i,r,o)}}catch(i){throw ti.create("interop-component-reg-failed",{reason:i})}}}Zj();const Jj={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},mE=hT(Jj);Kj(mE);const te=_V(mE);function tM({t:n,lang:t,users:i,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:d,logo:m,logoSize:g,logoPos:v,styles:b,isAdmin:S,syncToFirebase:j}){const[N,P]=z.useState("login"),[F,Y]=z.useState(""),[k,U]=z.useState(""),[K,$]=z.useState(""),J=async()=>{if(!F||!k||!K)return alert(t==="ko"?"  .":"Please fill all info.");const R=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(H=>H.code===K),V=i.find(H=>H.id===K);if(!R&&!V&&!(K==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(i.find(H=>H.id===F))return alert(t==="ko"?"  .":"ID already exists.");const I=(2783982189+i.length).toString(),bt={id:F,pw:k,no:I,referral:K,diamond:0,refCode:F,agentName:R?R.name:"",joinedAt:new Date().toISOString()},wt=[...i,bt];r(wt),j&&await j({users:wt}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),Y(""),U(""),$(""),P("login")},C=A=>{A.key==="Enter"&&(N==="login"?o(F,k):J())};return y.jsxs("div",{style:{...b.landingWrapper,minHeight:"100dvh"},children:[y.jsxs("div",{style:{...b.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[y.jsx("div",{style:b.bgOverlay}),c.mode==="image"&&c.imageSrc&&y.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&d&&y.jsx("video",{src:d,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...b.bgVideo,height:"100dvh",objectFit:"cover"}},d)]}),y.jsx("div",{style:{...b.logoContainer,left:`${v.x}px`,top:`${v.y}px`,transition:"all 0.3s ease"},children:m?y.jsx("img",{src:m,alt:"logo",style:{height:`${g}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):y.jsx("strong",{style:b.defaultLogo,children:"DAISY"})}),y.jsxs("div",{style:b.mainContent,children:[y.jsxs("div",{style:b.heroSection,children:[y.jsx("h1",{style:b.mainTitle,children:c.title[t]}),y.jsx("p",{style:b.subTitle,children:c.desc[t]})]}),!S&&y.jsx("div",{style:b.authWrap,children:y.jsxs("div",{style:{...b.authCard,padding:"50px 40px"},children:[y.jsx("h2",{style:{...b.authTitle,fontSize:"28px",marginBottom:"35px"},children:N==="login"?n.login:n.signup}),y.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:F,onChange:A=>Y(A.target.value),onKeyDown:C}),y.jsx("input",{type:"password",style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:k,onChange:A=>U(A.target.value),onKeyDown:C}),N==="signup"&&y.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:K,onChange:A=>$(A.target.value),onKeyDown:C}),y.jsx("button",{style:{...b.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>N==="login"?o(F,k):J(),children:N==="login"?n.login:n.signup}),N==="login"&&y.jsx("button",{style:{...b.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),y.jsx("div",{style:{...b.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{P(N==="login"?"signup":"login"),Y(""),U(""),$("")},children:N==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Pb=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function eM({members:n=[],slideImages:t=[],innerLogo:i,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:d}){const[m,g]=z.useState(0),v=z.useRef(null);z.useEffect(()=>{if(!t||t.length<=1)return;const N=setInterval(()=>{g(P=>(P+1)%t.length)},4e3);return()=>clearInterval(N)},[t]);const b=z.useMemo(()=>!n||n.length===0?[]:[...n,...n,...n],[n]),S=N=>{v.current&&v.current.scrollBy({left:N==="left"?-300:300,behavior:"smooth"})},j=N=>{const P=v.current;if(!P)return;let F=!0,Y=N.pageX-P.offsetLeft,k=P.scrollLeft;const U=$=>{if(!F)return;$.preventDefault();const C=($.pageX-P.offsetLeft-Y)*2;P.scrollLeft=k-C},K=()=>{F=!1,window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",K)};window.addEventListener("mousemove",U),window.addEventListener("mouseup",K)};return y.jsxs("div",{style:jt.container,children:[y.jsx("div",{className:"bg-glow"}),y.jsx("div",{className:"bg-pattern"}),y.jsxs("header",{style:jt.header,children:[y.jsx("div",{style:jt.logoArea,children:i?y.jsx("img",{src:i,style:jt.logoImg,alt:"logo"}):y.jsxs("h1",{style:jt.defaultLogo,children:["DAISY",y.jsx("br",{}),y.jsx("span",{children:"LOUNGE"})]})}),y.jsxs("div",{style:jt.statusBadge,children:[y.jsx("div",{className:"dot-pulse-wrap",children:y.jsx("span",{className:"dot-pulse"})}),y.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),y.jsxs("b",{style:jt.countText,children:[c," MEMBERS"]})]})]}),y.jsxs("div",{style:jt.introTextArea,children:[y.jsx("div",{style:jt.introSub,children:"WELCOME TO THE PRIVATE"}),y.jsxs("div",{style:jt.introMain,children:[d.welcome.replace(" ",""),y.jsx("span",{style:jt.introSparkle,children:""})]})]}),t&&t.length>0&&y.jsx("div",{style:jt.sliderContainer,children:y.jsxs("div",{style:jt.sliderWrap,children:[t.map((N,P)=>{const F=N.url||N,Y=P===m;return y.jsx("div",{style:{...jt.slide,opacity:Y?1:0,visibility:Y?"visible":"hidden"},children:y.jsxs("div",{style:jt.imageBorderWrapper,children:[y.jsx("img",{src:F,style:jt.actualImg,alt:"slide",draggable:"false"}),y.jsx("div",{style:jt.slideOverlay}),y.jsx("div",{style:jt.adTag,children:"PREMIUM PICK"})]})},P)}),y.jsx("div",{style:jt.indicatorWrap,children:t.map((N,P)=>y.jsx("div",{style:{...jt.dot,width:P===m?20:6,backgroundColor:P===m?"#FFD700":"rgba(255,255,255,0.3)"}},P))})]})}),y.jsxs("div",{style:jt.welcomeBox,children:[y.jsx("div",{style:jt.welcomeLine}),y.jsx("span",{style:jt.welcomeText,children:d.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),y.jsx("div",{style:jt.welcomeLine})]}),y.jsxs("div",{style:jt.sectionLabel,children:[y.jsxs("div",{style:jt.labelLeft,children:[y.jsx("span",{className:"shine-text",style:jt.labelIcon,children:""}),y.jsxs("span",{style:jt.labelText,children:["DAISY ",d.manager.toUpperCase()]})]}),y.jsx("div",{onClick:()=>o&&o("manager"),style:jt.moreBtn,children:"VIEW ALL "})]}),y.jsxs("div",{style:{position:"relative",width:"100%"},children:[y.jsx("div",{ref:v,className:"snap-container",style:jt.scrollArea,onMouseDown:j,children:b.map((N,P)=>y.jsxs("div",{style:jt.card,onClick:()=>u&&u(N),children:[y.jsxs("div",{style:jt.cardImgWrap,children:[y.jsx("img",{src:N.img,style:jt.cardImg,alt:N.name||"member",draggable:"false"}),y.jsx("div",{style:jt.cardOverlay}),y.jsx("div",{style:jt.cardBadge,children:Pb[P%Pb.length]})]}),y.jsxs("div",{style:jt.cardInfo,children:[y.jsx("div",{style:jt.cardName,children:N.name}),y.jsxs("div",{style:jt.cardSpecs,children:[y.jsx("span",{style:jt.specText,children:N.loc||N.region||(d.home===""?"":"Area")}),y.jsx("span",{style:jt.specDivider,children:""}),y.jsx("span",{style:jt.specText,children:N.age?`${N.age}${d.home===""?"":""}`:d.home===""?"20":"20s"})]}),y.jsxs("div",{style:{...jt.cardSpecs,marginTop:"5px"},children:[y.jsx("span",{style:jt.specText,children:N.height?N.height+"cm":"cm"}),y.jsx("span",{style:jt.specDivider,children:""}),y.jsx("span",{style:jt.specText,children:N.weight?N.weight+"kg":"kg"}),y.jsx("span",{style:jt.specDivider,children:""}),y.jsx("span",{style:jt.specText,children:N.bust||N.size||"Size"})]})]})]},P))}),y.jsxs("div",{className:"pc-arrows-wrap",children:[y.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("left")},children:""}),y.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("right")},children:""})]})]}),y.jsxs("div",{style:jt.footerBtnArea,children:[y.jsxs("button",{onClick:r,className:"shimmer-btn",style:jt.teleBtn,children:[" ",d.home===""?"  ":"Connect Real-time Chat"]}),y.jsx("p",{style:jt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),y.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const jt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function nM({filteredMembers:n,regions:t,selectedRegion:i,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[d,m]=z.useState(null),[g,v]=z.useState(null);z.useEffect(()=>{o&&(m(o),window.history.pushState({isDetail:!0},""))},[o]),z.useEffect(()=>{const k=()=>{g?v(null):d&&S()};return window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)},[g,d]);const b=(k,U)=>{v({type:k,url:U}),window.history.pushState({isFull:!0},"")},S=()=>{m(null),u&&u()},j=k=>k&&(k.includes("/video/upload/")||k.match(/\.(mp4|webm|mov|avi)$/i)),N={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},P=c.home==="",F=k=>P?k:N[k]||k,Y=k=>{const U=P?[`${k}        .`,`     ${k}  .`,`      ${k} .`]:[`${k} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${k}, who boasts a visual perfected through thorough self-management.`,`${k} promises a comfortable time with bright energy and consideration.`];let K=(k||"").split("").reduce(($,J)=>$+J.charCodeAt(0),0);return U[K%U.length]};return y.jsxs("div",{style:Lt.container,children:[y.jsx("div",{style:Lt.filterWrapper,children:y.jsx("div",{style:Lt.filterScroll,children:t.map(k=>y.jsx("div",{onClick:()=>r(k),style:{...Lt.filterItem,color:i===k?"#000":"#888",background:i===k?"#FFD700":"transparent",borderColor:i===k?"#FFD700":"#333"},children:F(k)},k))})}),y.jsx("div",{style:Lt.grid,children:n.map((k,U)=>y.jsxs("div",{style:Lt.card,onClick:()=>{m(k),window.history.pushState({isDetail:!0},"")},children:[y.jsxs("div",{style:Lt.cardImgWrap,children:[y.jsx("img",{src:k.img,style:Lt.cardImg,alt:k.name}),y.jsx("div",{style:Lt.cardOverlay}),y.jsx("div",{style:Lt.cardBadge,children:"PREMIUM"})]}),y.jsxs("div",{style:Lt.cardInfo,children:[y.jsx("div",{style:Lt.cardName,children:k.name}),y.jsxs("div",{style:Lt.cardSpecs,children:[F(k.loc||k.region||(P?"":"LOC")),"  ",k.age?`${k.age}${P?"":""}`:P?"20":"20s"]}),y.jsxs("div",{style:{...Lt.cardSpecs,marginTop:"4px"},children:[k.height?k.height+"cm":"cm","  ",k.bust||k.size||"Size"]})]})]},U))}),d&&y.jsx("div",{style:Lt.modalOverlay,onClick:S,children:y.jsxs("div",{style:Lt.modalContent,onClick:k=>k.stopPropagation(),children:[y.jsxs("div",{style:Lt.modalImageWrap,onClick:()=>b("img",d.img),children:[y.jsx("img",{src:d.img,style:Lt.modalActualImg,alt:""}),y.jsxs("div",{style:Lt.luxTag,children:[" ",P?" ":"CLICK TO ZOOM"]})]}),y.jsxs("div",{style:Lt.modalBody,children:[y.jsx("h2",{style:Lt.modalName,children:d.name}),y.jsxs("div",{style:Lt.specGrid,children:[y.jsxs("div",{style:Lt.specItem,children:["LOC",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:F(d.loc||d.region||(P?"":"TBA"))})]}),y.jsxs("div",{style:Lt.specItem,children:["AGE",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.age?`${d.age}${P?"":""}`:"20s"})]}),y.jsxs("div",{style:Lt.specItem,children:["HEIGHT",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.height?d.height+"cm":"cm"})]}),y.jsxs("div",{style:Lt.specItem,children:["WEIGHT",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.weight?d.weight+"kg":"kg"})]}),y.jsxs("div",{style:Lt.specItem,children:["SIZE",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.bust||d.size||"Size"})]})]}),y.jsxs("div",{style:Lt.introBox,children:[y.jsx("div",{style:Lt.introTitle,children:"INTRO"}),y.jsx("p",{style:Lt.introText,children:d.desc||Y(d.name)})]}),(d.video||j(d.img))&&y.jsxs("div",{style:Lt.videoArea,onClick:()=>b("video",d.video||d.img),children:[y.jsxs("div",{style:Lt.introTitle,children:["PRIVATE MOVIE (",P?" ":"CLICK TO ENLARGE",")"]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("video",{src:d.video||d.img,style:Lt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),y.jsxs("div",{style:Lt.videoOverlay,children:[" ",P?" ":"TAP TO FULL VIEW"]})]})]}),y.jsx("button",{style:Lt.closeBtn,onClick:S,children:P?"":"CLOSE"})]})]})}),g&&y.jsxs("div",{id:"full-screen-view",style:Lt.fullScreenOverlay,onClick:()=>v(null),children:[y.jsxs("button",{style:Lt.fullScreenClose,onClick:()=>v(null),children:[" ",P?"":"CLOSE"]}),y.jsx("div",{style:Lt.fullScreenContent,onClick:k=>k.stopPropagation(),children:g.type==="video"?y.jsx("video",{src:g.url,style:Lt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):y.jsx("img",{src:g.url,style:Lt.fullMedia,alt:""})})]})]})}const Lt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function iM({videoCategories:n=[],selectedCategory:t,setSelectedCategory:i,filteredVideos:r=[],t:o}){const[u,c]=z.useState(null),[d,m]=z.useState(1),g=10,v=o.home==="",b={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},S=K=>v?K:b[K]||K;z.useEffect(()=>{m(1)},[t]);const j=d*g,N=j-g,P=r.slice(N,j),F=Math.ceil(r.length/g),Y=t==="ALL";z.useEffect(()=>{const K=()=>{u&&c(null)};return window.addEventListener("popstate",K),()=>window.removeEventListener("popstate",K)},[u]);const k=K=>{c(K),window.history.pushState({isFullVideo:!0},"")},U=()=>{c(null)};return y.jsxs("div",{style:Qe.pagePadding,children:[y.jsx("h2",{style:Qe.tabDisplayTitle,children:v?" ":"PREMIUM GALLERY"}),y.jsxs("div",{style:Qe.videoCategoryBar,children:[y.jsxs("span",{onClick:()=>i("ALL"),style:{...Qe.videoCatItem,color:Y?"#ffb347":"#555",borderBottom:Y?"2px solid #ffb347":"2px solid transparent"},children:[" ",S("ALL")," "]}),n.map(K=>y.jsxs("span",{onClick:()=>i(K),style:{...Qe.videoCatItem,color:t===K?"#ffb347":"#555",borderBottom:t===K?"2px solid #ffb347":"2px solid transparent"},children:[" ",S(K)," "]},K))]}),y.jsx("div",{style:Qe.videoGrid,children:P.length>0?P.map(K=>y.jsxs("div",{style:Qe.videoCard,onClick:()=>k(K.url),children:[y.jsxs("div",{style:Qe.videoWrapper,children:[y.jsx("video",{src:K.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:Qe.videoEl,poster:K.poster||""}),y.jsxs("div",{style:Qe.playOverlay,children:[" ",v?"":"FULL VIEW"]})]}),y.jsxs("div",{style:Qe.videoDesc,children:[y.jsx("span",{style:Qe.descBadge,children:"EXCLUSIVE"}),y.jsx("p",{style:Qe.descText,children:K.description||(v?` ${K.category} `:`PREMIUM ${S(K.category)} SHOW`)})]})]},K.id)):y.jsx("div",{style:Qe.noData,children:v?"    .":"Videos in this category are coming soon."})}),F>1&&y.jsx("div",{style:Qe.pagination,children:Array.from({length:F},(K,$)=>$+1).map(K=>y.jsxs("button",{onClick:()=>{m(K),window.scrollTo(0,0)},style:{...Qe.pageBtn,background:d===K?"#ffb347":"#1a1a1a",color:d===K?"#000":"#888"},children:[" ",K," "]},K))}),u&&y.jsxs("div",{id:"full-screen-view",style:Qe.fullOverlay,onClick:U,children:[y.jsxs("button",{style:Qe.closeFull,onClick:U,children:[" ",v?"":"CLOSE"]}),y.jsx("div",{style:Qe.fullContent,onClick:K=>K.stopPropagation(),children:y.jsx("video",{src:u,style:Qe.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const Qe={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},ay=z.createContext({});function Lf(n){const t=z.useRef(null);return t.current===null&&(t.current=n()),t.current}const oy=typeof window<"u",ly=oy?z.useLayoutEffect:z.useEffect,Pf=z.createContext(null);function uy(n,t){n.indexOf(t)===-1&&n.push(t)}function cy(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Hs=(n,t,i)=>i>t?t:i<n?n:i;let hy=()=>{};const Gs={},gE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function yE(n){return typeof n=="object"&&n!==null}const vE=n=>/^0[^.\s]+$/u.test(n);function fy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ti=n=>n,sM=(n,t)=>i=>t(n(i)),Hu=(...n)=>n.reduce(sM),ju=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class dy{constructor(){this.subscriptions=[]}add(t){return uy(this.subscriptions,t),()=>cy(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=n=>n*1e3,_i=n=>n/1e3;function _E(n,t){return t?n*(1e3/t):0}const bE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,rM=1e-7,aM=12;function oM(n,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=bE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>rM&&++d<aM);return c}function Gu(n,t,i,r){if(n===t&&i===r)return Ti;const o=u=>oM(u,0,1,n,i);return u=>u===0||u===1?u:bE(o(u),t,r)}const xE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,TE=n=>t=>1-n(1-t),SE=Gu(.33,1.53,.69,.99),py=TE(SE),EE=xE(py),AE=n=>(n*=2)<1?.5*py(n):.5*(2-Math.pow(2,-10*(n-1))),my=n=>1-Math.sin(Math.acos(n)),wE=TE(my),CE=xE(my),lM=Gu(.42,0,1,1),uM=Gu(0,0,.58,1),RE=Gu(.42,0,.58,1),cM=n=>Array.isArray(n)&&typeof n[0]!="number",IE=n=>Array.isArray(n)&&typeof n[0]=="number",hM={linear:Ti,easeIn:lM,easeInOut:RE,easeOut:uM,circIn:my,circInOut:CE,circOut:wE,backIn:py,backInOut:EE,backOut:SE,anticipate:AE},fM=n=>typeof n=="string",kb=n=>{if(IE(n)){hy(n.length===4);const[t,i,r,o]=n;return Gu(t,i,r,o)}else if(fM(n))return hM[n];return n},Rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function dM(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,b=!1,S=!1)=>{const N=S&&o?i:r;return b&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const pM=40;function DE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Rh.reduce((U,K)=>(U[K]=dM(u),U),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:S,render:j,postRender:N}=c,P=()=>{const U=Gs.useManualTiming?o.timestamp:performance.now();i=!1,Gs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(U-o.timestamp,pM),1)),o.timestamp=U,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),v.process(o),b.process(o),S.process(o),j.process(o),N.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(P))},F=()=>{i=!0,r=!0,o.isProcessing||n(P)};return{schedule:Rh.reduce((U,K)=>{const $=c[K];return U[K]=(J,C=!1,A=!1)=>(i||F(),$.schedule(J,C,A)),U},{}),cancel:U=>{for(let K=0;K<Rh.length;K++)c[Rh[K]].cancel(U)},state:o,steps:c}}const{schedule:we,cancel:Ur,state:pn,steps:sm}=DE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let Bh;function mM(){Bh=void 0}const Bn={now:()=>(Bh===void 0&&Bn.set(pn.isProcessing||Gs.useManualTiming?pn.timestamp:performance.now()),Bh),set:n=>{Bh=n,queueMicrotask(mM)}},VE=n=>t=>typeof t=="string"&&t.startsWith(n),jE=VE("--"),gM=VE("var(--"),gy=n=>gM(n)?yM.test(n.split("/*")[0].trim()):!1,yM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Mu={...il,transform:n=>Hs(0,1,n)},Ih={...il,default:1},vu=n=>Math.round(n*1e5)/1e5,yy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vM(n){return n==null}const _M=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vy=(n,t)=>i=>!!(typeof i=="string"&&_M.test(i)&&i.startsWith(n)||t&&!vM(i)&&Object.prototype.hasOwnProperty.call(i,t)),ME=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(yy);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},bM=n=>Hs(0,255,n),rm={...il,transform:n=>Math.round(bM(n))},Da={test:vy("rgb","red"),parse:ME("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+rm.transform(n)+", "+rm.transform(t)+", "+rm.transform(i)+", "+vu(Mu.transform(r))+")"};function xM(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Gm={test:vy("#"),parse:xM,transform:Da.transform},Yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Er=Yu("deg"),gs=Yu("%"),Ot=Yu("px"),TM=Yu("vh"),SM=Yu("vw"),Bb={...gs,parse:n=>gs.parse(n)/100,transform:n=>gs.transform(n*100)},No={test:vy("hsl","hue"),parse:ME("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+gs.transform(vu(t))+", "+gs.transform(vu(i))+", "+vu(Mu.transform(r))+")"},Xe={test:n=>Da.test(n)||Gm.test(n)||No.test(n),parse:n=>Da.test(n)?Da.parse(n):No.test(n)?No.parse(n):Gm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Da.transform(n):No.transform(n),getAnimatableNone:n=>{const t=Xe.parse(n);return t.alpha=0,Xe.transform(t)}},EM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AM(n){return isNaN(n)&&typeof n=="string"&&(n.match(yy)?.length||0)+(n.match(EM)?.length||0)>0}const OE="number",NE="color",wM="var",CM="var(",zb="${}",RM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ou(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(RM,m=>(Xe.test(m)?(r.color.push(u),o.push(NE),i.push(Xe.parse(m))):m.startsWith(CM)?(r.var.push(u),o.push(wM),i.push(m)):(r.number.push(u),o.push(OE),i.push(parseFloat(m))),++u,zb)).split(zb);return{values:i,split:d,indexes:r,types:o}}function LE(n){return Ou(n).values}function PE(n){const{split:t,types:i}=Ou(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===OE?u+=vu(o[c]):d===NE?u+=Xe.transform(o[c]):u+=o[c]}return u}}const IM=n=>typeof n=="number"?0:Xe.test(n)?Xe.getAnimatableNone(n):n;function DM(n){const t=LE(n);return PE(n)(t.map(IM))}const Fr={test:AM,parse:LE,createTransformer:PE,getAnimatableNone:DM};function am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function VM({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;o=am(m,d,n+1/3),u=am(m,d,n),c=am(m,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function af(n,t){return i=>i>0?t:n}const Ce=(n,t,i)=>n+(t-n)*i,om=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},jM=[Gm,Da,No],MM=n=>jM.find(t=>t.test(n));function Ub(n){const t=MM(n);if(!t)return!1;let i=t.parse(n);return t===No&&(i=VM(i)),i}const Fb=(n,t)=>{const i=Ub(n),r=Ub(t);if(!i||!r)return af(n,t);const o={...i};return u=>(o.red=om(i.red,r.red,u),o.green=om(i.green,r.green,u),o.blue=om(i.blue,r.blue,u),o.alpha=Ce(i.alpha,r.alpha,u),Da.transform(o))},Ym=new Set(["none","hidden"]);function OM(n,t){return Ym.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function NM(n,t){return i=>Ce(n,t,i)}function _y(n){return typeof n=="number"?NM:typeof n=="string"?gy(n)?af:Xe.test(n)?Fb:kM:Array.isArray(n)?kE:typeof n=="object"?Xe.test(n)?Fb:LM:af}function kE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>_y(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function LM(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=_y(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function PM(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],d=n.values[c]??0;i[o]=d,r[u]++}return i}const kM=(n,t)=>{const i=Fr.createTransformer(t),r=Ou(n),o=Ou(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Ym.has(n)&&!o.values.length||Ym.has(t)&&!r.values.length?OM(n,t):Hu(kE(PM(r,o),o.values),i):af(n,t)};function BE(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Ce(n,t,i):_y(n)(n,t)}const BM=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>we.update(t,i),stop:()=>Ur(t),now:()=>pn.isProcessing?pn.timestamp:Bn.now()}},zE=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},of=2e4;function by(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<of;)t+=i,r=n.next(t);return t>=of?1/0:t}function zM(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(by(r),of);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:_i(o)}}const UM=5;function UE(n,t,i){const r=Math.max(t-UM,0);return _E(i-n(r),t-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function FM({duration:n=Ve.duration,bounce:t=Ve.bounce,velocity:i=Ve.velocity,mass:r=Ve.mass}){let o,u,c=1-t;c=Hs(Ve.minDamping,Ve.maxDamping,c),n=Hs(Ve.minDuration,Ve.maxDuration,_i(n)),c<1?(o=g=>{const v=g*c,b=v*n,S=v-i,j=Qm(g,c),N=Math.exp(-b);return lm-S/j*N},u=g=>{const b=g*c*n,S=b*i+i,j=Math.pow(c,2)*Math.pow(g,2)*n,N=Math.exp(-b),P=Qm(Math.pow(g,2),c);return(-o(g)+lm>0?-1:1)*((S-j)*N)/P}):(o=g=>{const v=Math.exp(-g*n),b=(g-i)*n+1;return-lm+v*b},u=g=>{const v=Math.exp(-g*n),b=(i-g)*(n*n);return v*b});const d=5/n,m=HM(o,u,d);if(n=ms(n),isNaN(m))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:n};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const qM=12;function HM(n,t,i){let r=i;for(let o=1;o<qM;o++)r=r-n(r)/t(r);return r}function Qm(n,t){return n*Math.sqrt(1-t*t)}const GM=["duration","bounce"],YM=["stiffness","damping","mass"];function qb(n,t){return t.some(i=>n[i]!==void 0)}function QM(n){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...n};if(!qb(n,YM)&&qb(n,GM))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Hs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ve.mass,stiffness:o,damping:u}}else{const i=FM(n);t={...t,...i,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function lf(n=Ve.visualDuration,t=Ve.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:b,velocity:S,isResolvedFromDuration:j}=QM({...i,velocity:-_i(i.velocity||0)}),N=S||0,P=g/(2*Math.sqrt(m*v)),F=c-u,Y=_i(Math.sqrt(m/v)),k=Math.abs(F)<5;r||(r=k?Ve.restSpeed.granular:Ve.restSpeed.default),o||(o=k?Ve.restDelta.granular:Ve.restDelta.default);let U;if(P<1){const $=Qm(Y,P);U=J=>{const C=Math.exp(-P*Y*J);return c-C*((N+P*Y*F)/$*Math.sin($*J)+F*Math.cos($*J))}}else if(P===1)U=$=>c-Math.exp(-Y*$)*(F+(N+Y*F)*$);else{const $=Y*Math.sqrt(P*P-1);U=J=>{const C=Math.exp(-P*Y*J),A=Math.min($*J,300);return c-C*((N+P*Y*F)*Math.sinh(A)+$*F*Math.cosh(A))/$}}const K={calculatedDuration:j&&b||null,next:$=>{const J=U($);if(j)d.done=$>=b;else{let C=$===0?N:0;P<1&&(C=$===0?ms(N):UE(U,$,J));const A=Math.abs(C)<=r,R=Math.abs(c-J)<=o;d.done=A&&R}return d.value=d.done?c:J,d},toString:()=>{const $=Math.min(by(K),of),J=zE(C=>K.next($*C).value,$,30);return $+"ms "+J},toTransition:()=>{}};return K}lf.applyToOptions=n=>{const t=zM(n,100,lf);return n.ease=t.ease,n.duration=ms(t.duration),n.type="keyframes",n};function Km({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const b=n[0],S={done:!1,value:b},j=A=>d!==void 0&&A<d||m!==void 0&&A>m,N=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let P=i*t;const F=b+P,Y=c===void 0?F:c(F);Y!==F&&(P=Y-b);const k=A=>-P*Math.exp(-A/r),U=A=>Y+k(A),K=A=>{const R=k(A),V=U(A);S.done=Math.abs(R)<=g,S.value=S.done?Y:V};let $,J;const C=A=>{j(S.value)&&($=A,J=lf({keyframes:[S.value,N(S.value)],velocity:UE(U,A,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!J&&$===void 0&&(R=!0,K(A),C(A)),$!==void 0&&A>=$?J.next(A-$):(!R&&K(A),S)}}}function KM(n,t,i){const r=[],o=i||Gs.mix||BE,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||Ti:t;d=Hu(m,d)}r.push(d)}return r}function XM(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(hy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=KM(t,r,o),m=d.length,g=v=>{if(c&&v<n[0])return t[0];let b=0;if(m>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const S=ju(n[b],n[b+1],v);return d[b](S)};return i?v=>g(Hs(n[0],n[u-1],v)):g}function WM(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=ju(0,t,r);n.push(Ce(i,1,o))}}function $M(n){const t=[0];return WM(t,n.length-1),t}function ZM(n,t){return n.map(i=>i*t)}function JM(n,t){return n.map(()=>t||RE).splice(0,n.length-1)}function _u({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=cM(r)?r.map(kb):kb(r),u={done:!1,value:t[0]},c=ZM(i&&i.length===t.length?i:$M(t),n),d=XM(c,t,{ease:Array.isArray(o)?o:JM(t,o)});return{calculatedDuration:n,next:m=>(u.value=d(m),u.done=m>=n,u)}}const t5=n=>n!==null;function xy(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(t5),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const e5={decay:Km,inertia:Km,tween:_u,keyframes:_u,spring:lf};function FE(n){typeof n.type=="string"&&(n.type=e5[n.type])}class Ty{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const n5=n=>n/100;class Sy extends Ty{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;FE(t);const{type:i=_u,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=i||_u;m!==_u&&typeof d[0]!="number"&&(this.mixKeyframes=Hu(n5,BE(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=by(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:j,type:N,onUpdate:P,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-g*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?Y<0:Y>o;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let U=this.currentTime,K=r;if(b){const A=Math.min(this.currentTime,o)/d;let R=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&R--,R=Math.min(R,b+1),R%2&&(S==="reverse"?(V=1-V,j&&(V-=j/d)):S==="mirror"&&(K=c)),U=Hs(0,1,V)*d}const $=k?{done:!1,value:v[0]}:K.next(U);u&&($.value=u($.value));let{done:J}=$;!k&&m!==null&&(J=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return C&&N!==Km&&($.value=xy(v,this.options,F,this.speed)),P&&P($.value),C&&this.finish(),$}then(t,i){return this.finished.then(t,i)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){t=ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=BM,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function i5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Va=n=>n*180/Math.PI,Xm=n=>{const t=Va(Math.atan2(n[1],n[0]));return Wm(t)},s5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Xm,rotateZ:Xm,skewX:n=>Va(Math.atan(n[1])),skewY:n=>Va(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Wm=n=>(n=n%360,n<0&&(n+=360),n),Hb=Xm,Gb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Yb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),r5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gb,scaleY:Yb,scale:n=>(Gb(n)+Yb(n))/2,rotateX:n=>Wm(Va(Math.atan2(n[6],n[5]))),rotateY:n=>Wm(Va(Math.atan2(-n[2],n[0]))),rotateZ:Hb,rotate:Hb,skewX:n=>Va(Math.atan(n[4])),skewY:n=>Va(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function $m(n){return n.includes("scale")?1:0}function Zm(n,t){if(!n||n==="none")return $m(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=r5,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=s5,o=d}if(!o)return $m(t);const u=r[t],c=o[1].split(",").map(o5);return typeof u=="function"?u(c):c[u]}const a5=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return Zm(i,t)};function o5(n){return parseFloat(n.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rl=new Set(sl),Qb=n=>n===il||n===Ot,l5=new Set(["x","y","z"]),u5=sl.filter(n=>!l5.has(n));function c5(n){const t=[];return u5.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Ma={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Zm(t,"x"),y:(n,{transform:t})=>Zm(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Oa=new Set;let Jm=!1,tg=!1,eg=!1;function qE(){if(tg){const n=Array.from(Oa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=c5(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tg=!1,Jm=!1,Oa.forEach(n=>n.complete(eg)),Oa.clear()}function HE(){Oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(tg=!0)})}function h5(){eg=!0,HE(),qE(),eg=!1}class Ey{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),Jm||(Jm=!0,we.read(HE),we.resolveKeyframes(qE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}i5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const f5=n=>n.startsWith("--");function d5(n,t,i){f5(t)?n.style.setProperty(t,i):n.style[t]=i}const p5=fy(()=>window.ScrollTimeline!==void 0),m5={};function g5(n,t){const i=fy(n);return()=>m5[t]??i()}const GE=g5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fu=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Kb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function YE(n,t){if(n)return typeof n=="function"?GE()?zE(n,t):"ease-out":IE(n)?fu(n):Array.isArray(n)?n.map(i=>YE(i,t)||Kb.easeOut):Kb[n]}function y5(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[t]:i};m&&(v.offset=m);const b=YE(d,o);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function QE(n){return typeof n=="function"&&"applyToOptions"in n}function v5({type:n,...t}){return QE(n)&&GE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _5 extends Ty{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,hy(typeof t.type!="string");const g=v5(t);this.animation=y5(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=xy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):d5(i,r,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&p5()?(this.animation.timeline=t,Ti):i(this)}}const KE={anticipate:AE,backInOut:EE,circInOut:CE};function b5(n){return n in KE}function x5(n){typeof n.ease=="string"&&b5(n.ease)&&(n.ease=KE[n.ease])}const Xb=10;class T5 extends _5{constructor(t){x5(t),FE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Sy({...c,autoplay:!1}),m=ms(this.finishedTime??this.time);i.setWithVelocity(d.sample(m-Xb).value,d.sample(m).value,Xb),d.stop()}}const Wb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Fr.test(n)||n==="0")&&!n.startsWith("url("));function S5(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function E5(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=Wb(o,t),d=Wb(u,t);return!c||!d?!1:S5(n)||(i==="spring"||QE(i))&&r}function ng(n){n.duration=0,n.type="keyframes"}const A5=new Set(["opacity","clipPath","filter","transform"]),w5=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C5(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return w5()&&i&&A5.has(i)&&(i!=="transform"||!g)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const R5=40;class I5 extends Ty{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:v,...b},j=v?.KeyframeResolver||Ey;this.keyframeResolver=new j(d,(N,P,F)=>this.onKeyframesResolved(N,P,S,!F),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Bn.now(),E5(t,u,c,d)||((Gs.instantAnimations||!m)&&v?.(xy(t,r,i)),t[0]=t[t.length-1],ng(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>R5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},j=!g&&C5(S)?new T5({...S,element:S.motionValue.owner.current}):new Sy(S);j.finished.then(()=>this.notifyFinished()).catch(Ti),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),h5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const D5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V5(n){const t=D5.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function XE(n,t,i=1){const[r,o]=V5(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return gE(c)?parseFloat(c):c}return gy(o)?XE(o,t,i+1):o}function Ay(n,t){return n?.[t]??n?.default??n}const WE=new Set(["width","height","top","left","right","bottom",...sl]),j5={test:n=>n==="auto",parse:n=>n},$E=n=>t=>t.test(n),ZE=[il,Ot,gs,Er,SM,TM,j5],$b=n=>ZE.find($E(n));function M5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vE(n):!0}const O5=new Set(["brightness","contrast","saturate","opacity"]);function N5(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(yy)||[];if(!r)return n;const o=i.replace(r,"");let u=O5.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const L5=/\b([a-z-]*)\(.*?\)/gu,ig={...Fr,getAnimatableNone:n=>{const t=n.match(L5);return t?t.map(N5).join(" "):n}},Zb={...il,transform:Math.round},P5={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:Er,skewX:Er,skewY:Er,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Mu,originX:Bb,originY:Bb,originZ:Ot},wy={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...P5,zIndex:Zb,fillOpacity:Mu,strokeOpacity:Mu,numOctaves:Zb},k5={...wy,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:ig,WebkitFilter:ig},JE=n=>k5[n];function tA(n,t){let i=JE(n);return i!==ig&&(i=Fr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const B5=new Set(["auto","none","0"]);function z5(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!B5.has(u)&&Ou(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=tA(i,o)}class U5 extends Ey{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),gy(g))){const v=XE(g,i.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!WE.has(r)||t.length!==2)return;const[o,u]=t,c=$b(o),d=$b(u);if(c!==d)if(Qb(c)&&Qb(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Ma[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||M5(t[o]))&&r.push(o);r.length&&z5(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ma[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function F5(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const eA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function nA(n){return yE(n)&&"offsetHeight"in n}const Jb=30,q5=n=>!isNaN(parseFloat(n));class H5{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Bn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new dy);const r=this.events[t].add(i);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Jb)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Jb);return _E(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(n,t){return new H5(n,t)}const{schedule:Cy}=DE(queueMicrotask,!1),Bi={x:!1,y:!1};function iA(){return Bi.x||Bi.y}function G5(n){return n==="x"||n==="y"?Bi[n]?null:(Bi[n]=!0,()=>{Bi[n]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function sA(n,t){const i=F5(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function tx(n){return!(n.pointerType==="touch"||iA())}function Y5(n,t,i={}){const[r,o,u]=sA(n,i),c=d=>{if(!tx(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const v=b=>{tx(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const rA=(n,t)=>t?n===t?!0:rA(n,t.parentElement):!1,Ry=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Q5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function K5(n){return Q5.has(n.tagName)||n.tabIndex!==-1}const zh=new WeakSet;function ex(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const X5=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=ex(()=>{if(zh.has(i))return;um(i,"down");const o=ex(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function nx(n){return Ry(n)&&!iA()}function W5(n,t,i={}){const[r,o,u]=sA(n,i),c=d=>{const m=d.currentTarget;if(!nx(d))return;zh.add(m);const g=t(m,d),v=(j,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),zh.has(m)&&zh.delete(m),nx(j)&&typeof g=="function"&&g(j,{success:N})},b=j=>{v(j,m===window||m===document||i.useGlobalTarget||rA(m,j.target))},S=j=>{v(j,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),nA(d)&&(d.addEventListener("focus",g=>X5(g,o)),!K5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function aA(n){return yE(n)&&"ownerSVGElement"in n}function $5(n){return aA(n)&&n.tagName==="svg"}const An=n=>!!(n&&n.getVelocity),Z5=[...ZE,Xe,Fr],J5=n=>Z5.find($E(n)),Iy=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function ix(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function t4(...n){return t=>{let i=!1;const r=n.map(o=>{const u=ix(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():ix(n[o],null)}}}}function e4(...n){return z.useCallback(t4(...n),n)}class n4 extends z.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=nA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function i4({children:n,isPresent:t,anchorX:i,root:r}){const o=z.useId(),u=z.useRef(null),c=z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=z.useContext(Iy),m=e4(u,n?.ref);return z.useInsertionEffect(()=>{const{width:g,height:v,top:b,left:S,right:j}=c.current;if(t||!u.current||!g||!v)return;const N=i==="left"?`left: ${S}`:`right: ${j}`;u.current.dataset.motionPopId=o;const P=document.createElement("style");d&&(P.nonce=d);const F=r??document.head;return F.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${b}px !important;
          }
        `),()=>{F.contains(P)&&F.removeChild(P)}},[t]),y.jsx(n4,{isPresent:t,childRef:u,sizeRef:c,children:z.cloneElement(n,{ref:m})})}const s4=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:m})=>{const g=Lf(r4),v=z.useId();let b=!0,S=z.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:j=>{g.set(j,!0);for(const N of g.values())if(!N)return;r&&r()},register:j=>(g.set(j,!1),()=>g.delete(j))}),[i,g,r]);return u&&b&&(S={...S}),z.useMemo(()=>{g.forEach((j,N)=>g.set(N,!1))},[i]),z.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),c==="popLayout"&&(n=y.jsx(i4,{isPresent:i,anchorX:d,root:m,children:n})),y.jsx(Pf.Provider,{value:S,children:n})};function r4(){return new Map}function oA(n=!0){const t=z.useContext(Pf);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=z.useId();z.useEffect(()=>{if(n)return o(u)},[n]);const c=z.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const Dh=n=>n.key||"";function sx(n){const t=[];return z.Children.forEach(n,i=>{z.isValidElement(i)&&t.push(i)}),t}const cm=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,v]=oA(c),b=z.useMemo(()=>sx(n),[n]),S=c&&!g?[]:b.map(Dh),j=z.useRef(!0),N=z.useRef(b),P=Lf(()=>new Map),[F,Y]=z.useState(b),[k,U]=z.useState(b);ly(()=>{j.current=!1,N.current=b;for(let J=0;J<k.length;J++){const C=Dh(k[J]);S.includes(C)?P.delete(C):P.get(C)!==!0&&P.set(C,!1)}},[k,S.length,S.join("-")]);const K=[];if(b!==F){let J=[...b];for(let C=0;C<k.length;C++){const A=k[C],R=Dh(A);S.includes(R)||(J.splice(C,0,A),K.push(A))}return u==="wait"&&K.length&&(J=K),U(sx(J)),Y(b),null}const{forceRender:$}=z.useContext(ay);return y.jsx(y.Fragment,{children:k.map(J=>{const C=Dh(J),A=c&&!g?!1:b===k||S.includes(C),R=()=>{if(P.has(C))P.set(C,!0);else return;let V=!0;P.forEach(M=>{M||(V=!1)}),V&&($?.(),U(N.current),c&&v?.(),r&&r())};return y.jsx(s4,{isPresent:A,initial:!j.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:A?void 0:R,anchorX:d,children:J},C)})})},lA=z.createContext({strict:!1}),rx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const n in rx)$o[n]={isEnabled:t=>rx[n].some(i=>!!t[i])};function a4(n){for(const t in n)$o[t]={...$o[t],...n[t]}}const o4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||o4.has(n)}let uA=n=>!uf(n);function l4(n){typeof n=="function"&&(uA=t=>t.startsWith("on")?!uf(t):n(t))}try{l4(require("@emotion/is-prop-valid").default)}catch{}function u4(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(uA(o)||i===!0&&uf(o)||!t&&!uf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const kf=z.createContext({});function Bf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Nu(n){return typeof n=="string"||Array.isArray(n)}const Dy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vy=["initial",...Dy];function zf(n){return Bf(n.animate)||Vy.some(t=>Nu(n[t]))}function cA(n){return!!(zf(n)||n.variants)}function c4(n,t){if(zf(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Nu(i)?i:void 0,animate:Nu(r)?r:void 0}}return n.inherit!==!1?t:{}}function h4(n){const{initial:t,animate:i}=c4(n,z.useContext(kf));return z.useMemo(()=>({initial:t,animate:i}),[ax(t),ax(i)])}function ax(n){return Array.isArray(n)?n.join(" "):n}function ox(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ou={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ot.test(n))n=parseFloat(n);else return n;const i=ox(n,t.target.x),r=ox(n,t.target.y);return`${i}% ${r}%`}},f4={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Fr.parse(n);if(o.length>5)return r;const u=Fr.createTransformer(n),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=Ce(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},sg={borderRadius:{...ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:f4};function hA(n,{layout:t,layoutId:i}){return rl.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!sg[n]||n==="opacity")}const d4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p4=sl.length;function m4(n,t,i){let r="",o=!0;for(let u=0;u<p4;u++){const c=sl[u],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||i){const g=eA(d,wy[c]);if(!m){o=!1;const v=d4[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function jy(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const m in t){const g=t[m];if(rl.has(m)){c=!0;continue}else if(jE(m)){o[m]=g;continue}else{const v=eA(g,wy[m]);m.startsWith("origin")?(d=!0,u[m]=v):r[m]=v}}if(t.transform||(c||i?r.transform=m4(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${m} ${g} ${v}`}}const My=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fA(n,t,i){for(const r in t)!An(t[r])&&!hA(r,i)&&(n[r]=t[r])}function g4({transformTemplate:n},t){return z.useMemo(()=>{const i=My();return jy(i,t,n),Object.assign({},i.vars,i.style)},[t])}function y4(n,t){const i=n.style||{},r={};return fA(r,i,n),Object.assign(r,g4(n,t)),r}function v4(n,t){const i={},r=y4(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const _4={offset:"stroke-dashoffset",array:"stroke-dasharray"},b4={offset:"strokeDashoffset",array:"strokeDasharray"};function x4(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?_4:b4;n[u.offset]=Ot.transform(-r);const c=Ot.transform(t),d=Ot.transform(i);n[u.array]=`${c} ${d}`}function dA(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,g,v){if(jy(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:S}=n;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&x4(b,o,u,c,!1)}const pA=()=>({...My(),attrs:{}}),mA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function T4(n,t,i,r){const o=z.useMemo(()=>{const u=pA();return dA(u,t,mA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};fA(u,n.style,n),o.style={...u,...o.style}}return o}const S4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oy(n){return typeof n!="string"||n.includes("-")?!1:!!(S4.indexOf(n)>-1||/[A-Z]/u.test(n))}function E4(n,t,i,{latestValues:r},o,u=!1){const d=(Oy(n)?T4:v4)(t,r,o,n),m=u4(t,typeof n=="string",u),g=n!==z.Fragment?{...m,...d,ref:i}:{},{children:v}=t,b=z.useMemo(()=>An(v)?v.get():v,[v]);return z.createElement(n,{...g,children:b})}function lx(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Ny(n,t,i,r){if(typeof t=="function"){const[o,u]=lx(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=lx(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function Uh(n){return An(n)?n.get():n}function A4({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:w4(i,r,o,n),renderState:t()}}function w4(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=Uh(u[S]);let{initial:c,animate:d}=n;const m=zf(n),g=cA(n);t&&g&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Bf(b)){const S=Array.isArray(b)?b:[b];for(let j=0;j<S.length;j++){const N=Ny(n,S[j]);if(N){const{transitionEnd:P,transition:F,...Y}=N;for(const k in Y){let U=Y[k];if(Array.isArray(U)){const K=v?U.length-1:0;U=U[K]}U!==null&&(o[k]=U)}for(const k in P)o[k]=P[k]}}}return o}const gA=n=>(t,i)=>{const r=z.useContext(kf),o=z.useContext(Pf),u=()=>A4(n,t,r,o);return i?u():Lf(u)};function Ly(n,t,i){const{style:r}=n,o={};for(const u in r)(An(r[u])||t.style&&An(t.style[u])||hA(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const C4=gA({scrapeMotionValuesFromProps:Ly,createRenderState:My});function yA(n,t,i){const r=Ly(n,t,i);for(const o in n)if(An(n[o])||An(t[o])){const u=sl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const R4=gA({scrapeMotionValuesFromProps:yA,createRenderState:pA}),I4=Symbol.for("motionComponentSymbol");function Lo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function D4(n,t,i){return z.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Lo(i)&&(i.current=r))},[t])}const Py=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V4="framerAppearId",vA="data-"+Py(V4),_A=z.createContext({});function j4(n,t,i,r,o){const{visualElement:u}=z.useContext(kf),c=z.useContext(lA),d=z.useContext(Pf),m=z.useContext(Iy).reducedMotion,g=z.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=z.useContext(_A);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&M4(g.current,i,o,b);const S=z.useRef(!1);z.useInsertionEffect(()=>{v&&S.current&&v.update(i,d)});const j=i[vA],N=z.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return ly(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),z.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),N.current=!1),v.enteringChildren=void 0)}),v}function M4(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:bA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Lo(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:m,layoutRoot:g})}function bA(n){if(n)return n.options.allowProjection!==!1?n.projection:bA(n.parent)}function hm(n,{forwardMotionProps:t=!1}={},i,r){i&&a4(i);const o=Oy(n)?R4:C4;function u(d,m){let g;const v={...z.useContext(Iy),...d,layoutId:O4(d)},{isStatic:b}=v,S=h4(d),j=o(d,b);if(!b&&oy){N4();const N=L4(v);g=N.MeasureLayout,S.visualElement=j4(n,j,v,r,N.ProjectionNode)}return y.jsxs(kf.Provider,{value:S,children:[g&&S.visualElement?y.jsx(g,{visualElement:S.visualElement,...v}):null,E4(n,d,D4(j,S.visualElement,m),j,b,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=z.forwardRef(u);return c[I4]=n,c}function O4({layoutId:n}){const t=z.useContext(ay).id;return t&&n!==void 0?t+"-"+n:n}function N4(n,t){z.useContext(lA).strict}function L4(n){const{drag:t,layout:i}=$o;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function P4(n,t){if(typeof Proxy>"u")return hm;const i=new Map,r=(u,c)=>hm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,hm(c,void 0,n,t)),i.get(c))})}function xA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function k4({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function B4(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function fm(n){return n===void 0||n===1}function rg({scale:n,scaleX:t,scaleY:i}){return!fm(n)||!fm(t)||!fm(i)}function wa(n){return rg(n)||TA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function TA(n){return ux(n.x)||ux(n.y)}function ux(n){return n&&n!=="0%"}function cf(n,t,i){const r=n-i,o=t*r;return i+o}function cx(n,t,i,r,o){return o!==void 0&&(n=cf(n,o,r)),cf(n,i,r)+t}function ag(n,t=0,i=1,r,o){n.min=cx(n.min,t,i,r,o),n.max=cx(n.max,t,i,r,o)}function SA(n,{x:t,y:i}){ag(n.x,t.translate,t.scale,t.originPoint),ag(n.y,i.translate,i.scale,i.originPoint)}const hx=.999999999999,fx=1.0000000000001;function z4(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ko(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,SA(n,c)),r&&wa(u.latestValues)&&ko(n,u.latestValues))}t.x<fx&&t.x>hx&&(t.x=1),t.y<fx&&t.y>hx&&(t.y=1)}function Po(n,t){n.min=n.min+t,n.max=n.max+t}function dx(n,t,i,r,o=.5){const u=Ce(n.min,n.max,o);ag(n,t,i,u,r)}function ko(n,t){dx(n.x,t.x,t.scaleX,t.scale,t.originX),dx(n.y,t.y,t.scaleY,t.scale,t.originY)}function EA(n,t){return xA(B4(n.getBoundingClientRect(),t))}function U4(n,t,i){const r=EA(n,i),{scroll:o}=t;return o&&(Po(r.x,o.offset.x),Po(r.y,o.offset.y)),r}const px=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:px(),y:px()}),mx=()=>({min:0,max:0}),Je=()=>({x:mx(),y:mx()}),og={current:null},AA={current:!1};function F4(){if(AA.current=!0,!!oy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>og.current=n.matches;n.addEventListener("change",t),t()}else og.current=!1}const q4=new WeakMap;function H4(n,t,i){for(const r in t){const o=t[r],u=i[r];if(An(o))n.addValue(r,o);else if(An(u))n.addValue(r,Wo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Wo(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const gx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G4{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Bn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,we.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=zf(i),this.isVariantNode=cA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in b){const j=b[S];m[S]!==void 0&&An(j)&&j.set(m[S])}}mount(t){this.current=t,q4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),AA.current||F4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:og.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ur(this.notifyUpdate),Ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=rl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const i=$o[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<gx.length;r++){const o=gx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=H4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Wo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(gE(r)||vE(r))?r=parseFloat(r):!J5(r)&&Fr.test(i)&&(r=tA(t,i)),this.setBaseTarget(t,An(r)?r.get():r)),An(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Ny(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!An(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new dy),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Cy.render(this.render)}}class wA extends G4{constructor(){super(...arguments),this.KeyframeResolver=U5}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function CA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function Y4(n){return window.getComputedStyle(n)}class Q4 extends wA{constructor(){super(...arguments),this.type="html",this.renderInstance=CA}readValueFromInstance(t,i){if(rl.has(i))return this.projection?.isProjecting?$m(i):a5(t,i);{const r=Y4(t),o=(jE(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return EA(t,i)}build(t,i,r){jy(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Ly(t,i,r)}}const RA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K4(n,t,i,r){CA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(RA.has(o)?o:Py(o),t.attrs[o])}class X4 extends wA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(rl.has(i)){const r=JE(i);return r&&r.default||0}return i=RA.has(i)?i:Py(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return yA(t,i,r)}build(t,i,r){dA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){K4(t,i,r,o)}mount(t){this.isSVGTag=mA(t.tagName),super.mount(t)}}const W4=(n,t)=>Oy(n)?new X4(t):new Q4(t,{allowProjection:n!==z.Fragment});function qo(n,t,i){const r=n.getProps();return Ny(r,t,i!==void 0?i:r.custom,n)}const lg=n=>Array.isArray(n);function $4(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Wo(i))}function Z4(n){return lg(n)?n[n.length-1]||0:n}function ky(n,t){const i=qo(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=Z4(u[c]);$4(n,c,d)}}function J4(n){return!!(An(n)&&n.add)}function ug(n,t){const i=n.getValue("willChange");if(J4(i))return i.add(t);if(!i&&Gs.WillChange){const r=new Gs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function IA(n){return n.props[vA]}const t3=n=>n!==null;function e3(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(t3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const n3={type:"spring",stiffness:500,damping:25,restSpeed:10},i3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),s3={type:"keyframes",duration:.8},r3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a3=(n,{keyframes:t})=>t.length>2?s3:rl.has(n)?n.startsWith("scale")?i3(t[1]):n3:r3;function o3({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const By=(n,t,i,r={},o,u)=>c=>{const d=Ay(r,n)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ms(m);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};o3(d)||Object.assign(v,a3(n,v)),v.duration&&(v.duration=ms(v.duration)),v.repeatDelay&&(v.repeatDelay=ms(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(ng(v),v.delay===0&&(b=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(b=!0,ng(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!u&&t.get()!==void 0){const S=e3(v.keyframes,d);if(S!==void 0){we.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new Sy(v):new I5(v)};function l3({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function DA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const m=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const b=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||g&&l3(g,v))continue;const j={delay:i,...Ay(u||{},v)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===N&&!j.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const Y=IA(n);if(Y){const k=window.MotionHandoffAnimation(Y,v,we);k!==null&&(j.startTime=k,P=!0)}}ug(n,v),b.start(By(v,b,S,n.shouldReduceMotion&&WE.has(v)?{type:!1}:j,n,P));const F=b.animation;F&&m.push(F)}return c&&Promise.all(m).then(()=>{we.update(()=>{c&&ky(n,c)})}),m}function VA(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function cg(n,t,i={}){const r=qo(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(DA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=o;return u3(n,t,m,g,v,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,g]=d==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function u3(n,t,i=0,r=0,o=0,u=1,c){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),d.push(cg(m,t,{...c,delay:i+(typeof r=="function"?0:r)+VA(n.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function jA(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>cg(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=cg(n,t,i);else{const o=typeof t=="function"?qo(n,t,i.custom):t;r=Promise.all(DA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function MA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const c3=Vy.length;function OA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?OA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<c3;i++){const r=Vy[i],o=n.props[r];(Nu(o)||o===!1)&&(t[r]=o)}return t}const h3=[...Dy].reverse(),f3=Dy.length;function d3(n){return t=>Promise.all(t.map(({animation:i,options:r})=>jA(n,i,r)))}function p3(n){let t=d3(n),i=yx(),r=!0;const o=m=>(g,v)=>{const b=qo(n,v,m==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:j,...N}=b;g={...g,...N,...j}}return g};function u(m){t=m(n)}function c(m){const{props:g}=n,v=OA(n.parent)||{},b=[],S=new Set;let j={},N=1/0;for(let F=0;F<f3;F++){const Y=h3[F],k=i[Y],U=g[Y]!==void 0?g[Y]:v[Y],K=Nu(U),$=Y===m?k.isActive:null;$===!1&&(N=F);let J=U===v[Y]&&U!==g[Y]&&K;if(J&&r&&n.manuallyAnimateOnMount&&(J=!1),k.protectedKeys={...j},!k.isActive&&$===null||!U&&!k.prevProp||Bf(U)||typeof U=="boolean")continue;const C=m3(k.prevProp,U);let A=C||Y===m&&k.isActive&&!J&&K||F>N&&K,R=!1;const V=Array.isArray(U)?U:[U];let M=V.reduce(o(Y),{});$===!1&&(M={});const{prevResolvedValues:L={}}=k,I={...L,...M},bt=tt=>{A=!0,S.has(tt)&&(R=!0,S.delete(tt)),k.needsAnimating[tt]=!0;const et=n.getValue(tt);et&&(et.liveStyle=!1)};for(const tt in I){const et=M[tt],pt=L[tt];if(j.hasOwnProperty(tt))continue;let it=!1;lg(et)&&lg(pt)?it=!MA(et,pt):it=et!==pt,it?et!=null?bt(tt):S.add(tt):et!==void 0&&S.has(tt)?bt(tt):k.protectedKeys[tt]=!0}k.prevProp=U,k.prevResolvedValues=M,k.isActive&&(j={...j,...M}),r&&n.blockInitialAnimation&&(A=!1);const wt=J&&C;A&&(!wt||R)&&b.push(...V.map(tt=>{const et={type:Y};if(typeof tt=="string"&&r&&!wt&&n.manuallyAnimateOnMount&&n.parent){const{parent:pt}=n,it=qo(pt,tt);if(pt.enteringChildren&&it){const{delayChildren:D}=it.transition||{};et.delay=VA(pt.enteringChildren,n,D)}}return{animation:tt,options:et}}))}if(S.size){const F={};if(typeof g.initial!="boolean"){const Y=qo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Y&&Y.transition&&(F.transition=Y.transition)}S.forEach(Y=>{const k=n.getBaseTarget(Y),U=n.getValue(Y);U&&(U.liveStyle=!0),F[Y]=k??null}),b.push({animation:F})}let P=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(P=!1),r=!1,P?t(b):Promise.resolve()}function d(m,g){if(i[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),i[m].isActive=g;const v=c(m);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=yx()}}}function m3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!MA(t,n):!1}function Ta(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yx(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class Qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class g3 extends Qr{constructor(t){super(t),t.animationState||(t.animationState=p3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let y3=0;class v3 extends Qr{constructor(){super(...arguments),this.id=y3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _3={animation:{Feature:g3},exit:{Feature:v3}};function Lu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Qu(n){return{point:{x:n.pageX,y:n.pageY}}}const b3=n=>t=>Ry(t)&&n(t,Qu(t));function bu(n,t,i,r){return Lu(n,t,b3(i),r)}const NA=1e-4,x3=1-NA,T3=1+NA,LA=.01,S3=0-LA,E3=0+LA;function Rn(n){return n.max-n.min}function A3(n,t,i){return Math.abs(n-t)<=i}function vx(n,t,i,r=.5){n.origin=r,n.originPoint=Ce(t.min,t.max,n.origin),n.scale=Rn(i)/Rn(t),n.translate=Ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=x3&&n.scale<=T3||isNaN(n.scale))&&(n.scale=1),(n.translate>=S3&&n.translate<=E3||isNaN(n.translate))&&(n.translate=0)}function xu(n,t,i,r){vx(n.x,t.x,i.x,r?r.originX:void 0),vx(n.y,t.y,i.y,r?r.originY:void 0)}function _x(n,t,i){n.min=i.min+t.min,n.max=n.min+Rn(t)}function w3(n,t,i){_x(n.x,t.x,i.x),_x(n.y,t.y,i.y)}function bx(n,t,i){n.min=t.min-i.min,n.max=n.min+Rn(t)}function hf(n,t,i){bx(n.x,t.x,i.x),bx(n.y,t.y,i.y)}function yi(n){return[n("x"),n("y")]}const PA=({current:n})=>n?n.ownerDocument.defaultView:null,xx=(n,t)=>Math.abs(n-t);function C3(n,t){const i=xx(n.x,t.x),r=xx(n.y,t.y);return Math.sqrt(i**2+r**2)}class kA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pm(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,N=C3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!N)return;const{point:P}=S,{timestamp:F}=pn;this.history.push({...P,timestamp:F});const{onStart:Y,onMove:k}=this.handlers;j||(Y&&Y(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,S)},this.handlePointerMove=(S,j)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=dm(j,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(S,j)=>{this.end();const{onEnd:N,onSessionEnd:P,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=pm(S.type==="pointercancel"?this.lastMoveEventInfo:dm(j,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,Y),P&&P(S,Y)},!Ry(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Qu(t),m=dm(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=pn;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,pm(m,this.history)),this.removeListeners=Hu(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ur(this.updatePoint)}}function dm(n,t){return t?{point:t(n.point)}:n}function Tx(n,t){return{x:n.x-t.x,y:n.y-t.y}}function pm({point:n},t){return{point:n,delta:Tx(n,BA(t)),offset:Tx(n,R3(t)),velocity:I3(t,.1)}}function R3(n){return n[0]}function BA(n){return n[n.length-1]}function I3(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=BA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>ms(t)));)i--;if(!r)return{x:0,y:0};const u=_i(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function D3(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Ce(i,n,r.max):Math.min(n,i)),n}function Sx(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function V3(n,{top:t,left:i,bottom:r,right:o}){return{x:Sx(n.x,i,o),y:Sx(n.y,t,r)}}function Ex(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function j3(n,t){return{x:Ex(n.x,t.x),y:Ex(n.y,t.y)}}function M3(n,t){let i=.5;const r=Rn(n),o=Rn(t);return o>r?i=ju(t.min,t.max-r,n.min):r>o&&(i=ju(n.min,n.max-o,t.min)),Hs(0,1,i)}function O3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const hg=.35;function N3(n=hg){return n===!1?n=0:n===!0&&(n=hg),{x:Ax(n,"left","right"),y:Ax(n,"top","bottom")}}function Ax(n,t,i){return{min:wx(n,t),max:wx(n,i)}}function wx(n,t){return typeof n=="number"?n:n[t]||0}const L3=new WeakMap;class P3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Qu(b).point)},c=(b,S)=>{const{drag:j,dragPropagation:N,onDragStart:P}=this.getProps();if(j&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G5(j),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(Y=>{let k=this.getAxisMotionValue(Y).get()||0;if(gs.test(k)){const{projection:U}=this.visualElement;if(U&&U.layout){const K=U.layout.layoutBox[Y];K&&(k=Rn(K)*(parseFloat(k)/100))}}this.originPoint[Y]=k}),P&&we.postRender(()=>P(b,S)),ug(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:j,dragDirectionLock:N,onDirectionLock:P,onDrag:F}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:Y}=S;if(N&&this.currentDirection===null){this.currentDirection=k3(Y),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",S.point,Y),this.updateAxis("y",S.point,Y),this.visualElement.render(),F&&F(b,S)},m=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>yi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new kA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:PA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&we.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Vh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=D3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Lo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=V3(r.layoutBox,t):this.constraints=!1,this.elastic=N3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=O3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Lo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=U4(r,o.root,this.visualElement.getTransformPagePoint());let c=j3(o.layout.layoutBox,u);if(i){const d=i(k4(c));this.hasMutatedConstraints=!!d,d&&(c=xA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=yi(v=>{if(!Vh(v,i,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const S=o?200:1e6,j=o?40:1e7,N={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return ug(this.visualElement,t),r.start(By(t,r,0,i,this.visualElement,!1))}stopAnimation(){yi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yi(i=>{const{drag:r}=this.getProps();if(!Vh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Lo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};yi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=M3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yi(c=>{if(!Vh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(Ce(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;L3.set(this.visualElement,this);const t=this.visualElement.current,i=bu(t,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Lo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),we.read(r);const c=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(yi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=hg,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Vh(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function k3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class B3 extends Qr{constructor(t){super(t),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new P3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cx=n=>(t,i)=>{n&&we.postRender(()=>n(t,i))};class z3 extends Qr{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(t){this.session=new kA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Cx(t),onStart:Cx(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&we.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let mm=!1;class U3 extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),mm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,mm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||we.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;mm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zA(n){const[t,i]=oA(),r=z.useContext(ay);return y.jsx(U3,{...n,layoutGroup:r,switchLayoutGroup:z.useContext(_A),isPresent:t,safeToRemove:i})}function F3(n,t,i){const r=An(n)?n:Wo(n);return r.start(By("",r,t,i)),r.animation}const q3=(n,t)=>n.depth-t.depth;class H3{constructor(){this.children=[],this.isDirty=!1}add(t){uy(this.children,t),this.isDirty=!0}remove(t){cy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(q3),this.isDirty=!1,this.children.forEach(t)}}function G3(n,t){const i=Bn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Ur(r),n(u-t))};return we.setup(r,!0),()=>Ur(r)}const UA=["TopLeft","TopRight","BottomLeft","BottomRight"],Y3=UA.length,Rx=n=>typeof n=="string"?parseFloat(n):n,Ix=n=>typeof n=="number"||Ot.test(n);function Q3(n,t,i,r,o,u){o?(n.opacity=Ce(0,i.opacity??1,K3(r)),n.opacityExit=Ce(t.opacity??1,0,X3(r))):u&&(n.opacity=Ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<Y3;c++){const d=`border${UA[c]}Radius`;let m=Dx(t,d),g=Dx(i,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Ix(m)===Ix(g)?(n[d]=Math.max(Ce(Rx(m),Rx(g),r),0),(gs.test(g)||gs.test(m))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=Ce(t.rotate||0,i.rotate||0,r))}function Dx(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const K3=FA(0,.5,wE),X3=FA(.5,.95,Ti);function FA(n,t,i){return r=>r<n?0:r>t?1:i(ju(n,t,r))}function Vx(n,t){n.min=t.min,n.max=t.max}function Pi(n,t){Vx(n.x,t.x),Vx(n.y,t.y)}function jx(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function Mx(n,t,i,r,o){return n-=t,n=cf(n,1/i,r),o!==void 0&&(n=cf(n,1/o,r)),n}function W3(n,t=0,i=1,r=.5,o,u=n,c=n){if(gs.test(t)&&(t=parseFloat(t),t=Ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ce(u.min,u.max,r);n===u&&(d-=t),n.min=Mx(n.min,t,i,d,o),n.max=Mx(n.max,t,i,d,o)}function Ox(n,t,[i,r,o],u,c){W3(n,t[i],t[r],t[o],t.scale,u,c)}const $3=["x","scaleX","originX"],Z3=["y","scaleY","originY"];function Nx(n,t,i,r){Ox(n.x,t,$3,i?i.x:void 0,r?r.x:void 0),Ox(n.y,t,Z3,i?i.y:void 0,r?r.y:void 0)}function Lx(n){return n.translate===0&&n.scale===1}function qA(n){return Lx(n.x)&&Lx(n.y)}function Px(n,t){return n.min===t.min&&n.max===t.max}function J3(n,t){return Px(n.x,t.x)&&Px(n.y,t.y)}function kx(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function HA(n,t){return kx(n.x,t.x)&&kx(n.y,t.y)}function Bx(n){return Rn(n.x)/Rn(n.y)}function zx(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class tO{constructor(){this.members=[]}add(t){uy(this.members,t),t.scheduleRender()}remove(t){if(cy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eO(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:S,skewX:j,skewY:N}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),j&&(r+=`skewX(${j}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const gm=["","X","Y","Z"],nO=1e3;let iO=0;function ym(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function GA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=IA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",we,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&GA(r)}function YA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=iO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aO),this.nodes.forEach(cO),this.nodes.forEach(hO),this.nodes.forEach(oO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new H3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=aA(c)&&!$5(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;we.read(()=>{b=window.innerWidth}),n(c,()=>{const j=window.innerWidth;j!==b&&(b=j,this.root.updateBlockedByResize=!0,v&&v(),v=G3(S,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(qx)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||gO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:F}=g.getProps(),Y=!this.targetLayout||!HA(this.targetLayout,j),k=!b&&S;if(this.options.layoutRoot||this.resumeFrom||k||b&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...Ay(N,"layout"),onPlay:P,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(v,k)}else b||qx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ux);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uO),this.nodes.forEach(sO),this.nodes.forEach(rO)):this.nodes.forEach(Fx),this.clearAllSnapshots();const d=Bn.now();pn.delta=Hs(0,1e3/60,d-pn.timestamp),pn.timestamp=d,pn.isProcessing=!0,sm.update.process(pn),sm.preRender.process(pn),sm.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lO),this.sharedNodes.forEach(dO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!qA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||wa(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),yO(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Je();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vO))){const{scroll:g}=this.root;g&&(Po(d.x,g.offset.x),Po(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Je();if(Pi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Pi(d,c),Po(d.x,v.offset.x),Po(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=Je();Pi(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ko(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),wa(v.latestValues)&&ko(m,v.latestValues)}return wa(this.latestValues)&&ko(m,this.latestValues),m}removeTransform(c){const d=Je();Pi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!wa(g.latestValues))continue;rg(g.latestValues)&&g.updateSnapshot();const v=Je(),b=g.measurePageBox();Pi(v,b),Nx(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return wa(this.latestValues)&&Nx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=pn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),SA(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||TA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),hf(this.relativeTargetOrigin,d,m),Pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Pi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;z4(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Je());const{target:j}=c;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jx(this.prevProjectionDelta.x,this.projectionDelta.x),jx(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Je(),j=m?m.source:void 0,N=this.layout?this.layout.source:void 0,P=j!==N,F=this.getStack(),Y=!F||F.members.length<=1,k=!!(P&&!Y&&this.options.crossfade===!0&&!this.path.some(mO));this.animationProgress=0;let U;this.mixTargetDelta=K=>{const $=K/1e3;Hx(b.x,c.x,$),Hx(b.y,c.y,$),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pO(this.relativeTarget,this.relativeTargetOrigin,S,$),U&&J3(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Je()),Pi(U,this.relativeTarget)),P&&(this.animationValues=v,Q3(v,g,this.latestValues,$,k,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=F3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&QA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Je();const b=Rn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const S=Rn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}Pi(d,m),ko(d,v),xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new tO),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&ym("z",c,g,this.animationValues);for(let v=0;v<gm.length;v++)ym(`rotate${gm[v]}`,c,g,this.animationValues),ym(`skew${gm[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uh(d?.pointerEvents)||""),this.hasProjected&&!wa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=eO(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x:S,y:j}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${j.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in sg){if(v[N]===void 0)continue;const{correct:P,applyTo:F,isCSSVariable:Y}=sg[N],k=b==="none"?v[N]:P(v[N],g);if(F){const U=F.length;for(let K=0;K<U;K++)c[F[K]]=k}else Y?this.options.visualElement.renderState.vars[N]=k:c[N]=k}this.options.layoutId&&(c.pointerEvents=g===this?Uh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Ux),this.root.sharedNodes.clear()}}}function sO(n){n.updateLayout()}function rO(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?yi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(b);b.min=i[v].min,b.max=b.min+S}):QA(o,t.layoutBox,i)&&yi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(i[v]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=Bo();xu(c,i,t.layoutBox);const d=Bo();u?xu(d,n.applyTransform(r,!0),t.measuredBox):xu(d,i,t.layoutBox);const m=!qA(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const j=Je();hf(j,t.layoutBox,b.layoutBox);const N=Je();hf(N,i,S.layoutBox),HA(j,N)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=j,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function aO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function oO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lO(n){n.clearSnapshot()}function Ux(n){n.clearMeasurements()}function Fx(n){n.isLayoutDirty=!1}function uO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function qx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function cO(n){n.resolveTargetDelta()}function hO(n){n.calcProjection()}function fO(n){n.resetSkewAndRotation()}function dO(n){n.removeLeadSnapshot()}function Hx(n,t,i){n.translate=Ce(t.translate,0,i),n.scale=Ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function Gx(n,t,i,r){n.min=Ce(t.min,i.min,r),n.max=Ce(t.max,i.max,r)}function pO(n,t,i,r){Gx(n.x,t.x,i.x,r),Gx(n.y,t.y,i.y,r)}function mO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gO={duration:.45,ease:[.4,0,.1,1]},Yx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Qx=Yx("applewebkit/")&&!Yx("chrome/")?Math.round:Ti;function Kx(n){n.min=Qx(n.min),n.max=Qx(n.max)}function yO(n){Kx(n.x),Kx(n.y)}function QA(n,t,i){return n==="position"||n==="preserve-aspect"&&!A3(Bx(t),Bx(i),.2)}function vO(n){return n!==n.root&&n.scroll?.wasRoot}const _O=YA({attachResizeListener:(n,t)=>Lu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},KA=YA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vm.current){const n=new _O({});n.mount(window),n.setOptions({layoutScroll:!0}),vm.current=n}return vm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),bO={pan:{Feature:z3},drag:{Feature:B3,ProjectionNode:KA,MeasureLayout:zA}};function Xx(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&we.postRender(()=>u(t,Qu(t)))}class xO extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=Y5(t,(i,r)=>(Xx(this.node,r,"Start"),o=>Xx(this.node,o,"End"))))}unmount(){}}class TO extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wx(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&we.postRender(()=>u(t,Qu(t)))}class SO extends Qr{mount(){const{current:t}=this.node;t&&(this.unmount=W5(t,(i,r)=>(Wx(this.node,r,"Start"),(o,{success:u})=>Wx(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fg=new WeakMap,_m=new WeakMap,EO=n=>{const t=fg.get(n.target);t&&t(n)},AO=n=>{n.forEach(EO)};function wO({root:n,...t}){const i=n||document;_m.has(i)||_m.set(i,{});const r=_m.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(AO,{root:n,...t})),r[o]}function CO(n,t,i){const r=wO(t);return fg.set(n,i),r.observe(n),()=>{fg.delete(n),r.unobserve(n)}}const RO={some:0,all:1};class IO extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:RO[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=g?v:b;S&&S(m)};return CO(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(DO(t,i))&&this.startObserver()}unmount(){}}function DO({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const VO={inView:{Feature:IO},tap:{Feature:SO},focus:{Feature:TO},hover:{Feature:xO}},jO={layout:{ProjectionNode:KA,MeasureLayout:zA}},MO={..._3,...VO,...bO,...jO},ki=P4(MO,W4);function OO(n){n.values.forEach(t=>t.stop())}function dg(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&ky(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{dg(u,t)})})}function NO(n,t){if(Array.isArray(t))return dg(n,t);if(typeof t=="string")return dg(n,[t]);ky(n,t)}function LO(){const n=new Set,t={subscribe(i){return n.add(i),()=>{n.delete(i)}},start(i,r){const o=[];return n.forEach(u=>{o.push(jA(u,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return n.forEach(r=>{NO(r,i)})},stop(){n.forEach(i=>{OO(i)})},mount(){return()=>{t.stop()}}};return t}function PO(){const n=Lf(LO);return ly(n.mount,[]),n}const kO=PO,Bs=[{name:"",nameEn:"Rocket",icon:"",color:"#6366f1",label:"x2.0 / x4.0",desc:" ",descEn:"High Score Chance"},{name:"",nameEn:"Heart",icon:"",color:"#f43f5e",label:"x2.0 / x4.0",desc:" ",descEn:"Symbol of Luck"},{name:"",nameEn:"Yacht",icon:"",color:"#0ea5e9",label:"x2.0 / x4.0",desc:" ",descEn:"Premium Pick"},{name:"",nameEn:"Rose",icon:"",color:"#ef4444",label:"x2.0 / x4.0",desc:" ",descEn:"Passion Payout"}],Sa={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()};class BO{constructor(){this.ctx=null}init(){if(!this.ctx){const t=window.AudioContext||window.webkitAudioContext;this.ctx=new t}return this.ctx.state==="suspended"&&this.ctx.resume(),this.ctx}play(t){try{const i=this.init(),r=i.createOscillator(),o=i.createGain();r.connect(o),o.connect(i.destination);const u=i.currentTime;t==="draw"?(r.type="sine",r.frequency.setValueAtTime(150,u),r.frequency.exponentialRampToValueAtTime(40,u+3),o.gain.setValueAtTime(.1,u),o.gain.exponentialRampToValueAtTime(.01,u+3),r.start(u),r.stop(u+3)):t==="win"?(r.type="triangle",[523.25,659.25,783.99].forEach((c,d)=>r.frequency.setValueAtTime(c,u+d*.1)),o.gain.setValueAtTime(.2,u),o.gain.exponentialRampToValueAtTime(.01,u+.5),r.start(u),r.stop(u+.5)):t==="lose"&&(r.type="sawtooth",r.frequency.setValueAtTime(200,u),r.frequency.linearRampToValueAtTime(100,u+.4),o.gain.setValueAtTime(.1,u),o.gain.exponentialRampToValueAtTime(.01,u+.4),r.start(u),r.stop(u+.4))}catch{}}}const bm=new BO,zi={getCurrentRoundInfo:()=>{const t=Date.now()-Sa.START_TIME,i=Sa.ROUND_DURATION*1e3,r=Sa.BASE_ROUND+Math.floor(t/i),o=i-t%i;let u=Math.floor(o/1e3);return u>=Sa.ROUND_DURATION&&(u=0),{round:r,timeLeft:u,isDrawingPhase:u<=5}},getFixedResult:async n=>{try{const t=JSON.parse(localStorage.getItem("event_manipulation_queue")||"{}");if(t[n])return t[n].map(o=>Bs.find(u=>u.name===o)).filter(Boolean);const i=Pe(te,"event_manipulation",String(n)),r=await wr(i);if(r.exists())return r.data().items.map(u=>Bs.find(c=>c.name===u)).filter(Boolean)}catch(t){console.error("Result Fetch Error:",t)}return null},generateResult:n=>{const t=o=>{let u=0;const c=n.toString()+o+"daisy-secret";for(let d=0;d<c.length;d++)u=(u<<5)-u+c.charCodeAt(d),u|=0;return Math.abs(Math.sin(u*.123456+n)*1e4)%100};return Bs.map(o=>({...o,luckScore:t(o.name)})).sort((o,u)=>u.luckScore-o.luckScore).slice(0,2).map(({luckScore:o,...u})=>u)},getMissedHistory:async(n,t)=>{const i=[],r=Math.max(n+1,t-30);for(let o=r;o<t;o++){const c=await zi.getFixedResult(o)||zi.generateResult(o),d=new Date(Sa.START_TIME+(o-Sa.BASE_ROUND)*Sa.ROUND_DURATION*1e3);i.push({round:o,winItems:c.map(m=>`${m.icon} ${m.name}`),date:d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})})}return i},calculateStats:n=>{const t=n.length*2;if(t===0)return{};const i={};n.forEach(o=>{o.winItems.forEach(u=>{const c=u.split(" ")[1];c&&(i[c]=(i[c]||0)+1)})});const r={};return Bs.forEach(o=>{r[o.name]=Math.round((i[o.name]||0)/(t||1)*100)}),r}};function zO(n,t,i,r){const o=z.useRef(!1),u=z.useRef(t),c=z.useRef(null),d=z.useRef(0);z.useEffect(()=>{u.current=t},[t]);const[m,g]=z.useState([]);z.useEffect(()=>{(async()=>{const{round:M}=zi.getCurrentRoundInfo(),L=JSON.parse(localStorage.getItem("event_total_history")||"[]"),I=L.length>0?L[0].round:M-1;if(M>I+1){const H=[...(await zi.getMissedHistory(I,M)).reverse(),...L].slice(0,100);g(H),localStorage.setItem("event_total_history",JSON.stringify(H))}else g(L);const bt=localStorage.getItem(`pending_bet_${n?.id}`);if(bt){const wt=JSON.parse(bt);if(wt.round<M){const tt=await zi.getFixedResult(wt.round)||zi.generateResult(wt.round),et=tt.map(mt=>mt.name),{items:pt,perAmount:it,totalCost:D}=wt,G=pt.filter(mt=>et.includes(mt)).length;let rt=0;pt.length===1?G>=1&&(rt=it*2):pt.length===2&&(G===1?rt=D:G===2&&(rt=D*4));const dt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),gt={round:wt.round,selected:[...pt],winNames:et,winIcons:tt.map(mt=>mt.icon),earn:rt,cost:D,date:dt,status:""};b(mt=>{if(mt.find(Jt=>Jt.round===wt.round))return mt;const St=[gt,...mt].slice(0,100);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(St)),St}),rt>0&&J(u.current+rt),localStorage.removeItem(`pending_bet_${n?.id}`)}else c.current=wt,Y(wt)}})()},[n?.id]);const[v,b]=z.useState(()=>{const V=localStorage.getItem(`event_my_history_${n?.id}`);return V?JSON.parse(V):[]}),[S,j]=z.useState({round:0,timeLeft:60,isDrawing:!1}),[N,P]=z.useState(["",""]),[F,Y]=z.useState(null),[k,U]=z.useState(null),[K,$]=z.useState(" !"),J=z.useCallback(V=>{i&&(i(V),r&&r.start({scale:[1,1.2,1],transition:{duration:.3}}))},[i,r]);z.useEffect(()=>{const V=M=>{n&&M.detail&&M.detail.userId===n.id&&J(M.detail.point)};return window.addEventListener("user_point_update",V),()=>window.removeEventListener("user_point_update",V)},[n,J]),z.useEffect(()=>{const V=()=>{const M=localStorage.getItem("event_total_history");M&&g(JSON.parse(M))};return window.addEventListener("event_history_update",V),()=>window.removeEventListener("event_history_update",V)},[]);const C=V=>{c.current=V,Y(V),V?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify(V)):localStorage.removeItem(`pending_bet_${n?.id}`)},A=z.useCallback(async V=>{if(o.current)return;o.current=!0,j(I=>({...I,isDrawing:!0,timeLeft:0})),bm.play("draw");const M=setInterval(()=>{const I=zi.generateResult(Math.random()).map(bt=>bt.icon);P(I)},120),L=await zi.getFixedResult(V);setTimeout(()=>{clearInterval(M);const I=L||zi.generateResult(V),bt=I.map(tt=>tt.name),wt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});P(I.map(tt=>tt.icon)),g(tt=>{const pt=[{round:V,winItems:I.map(it=>`${it.icon} ${it.name}`),date:wt},...tt].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(pt)),pt});const H=c.current;if(H&&H.round===V){const{items:tt,perAmount:et,totalCost:pt}=H,it=tt.filter(dt=>bt.includes(dt)).length;let D=0;tt.length===1?it>=1&&(D=et*2):tt.length===2&&(it===1?D=pt:it===2&&(D=pt*4));const G=D>pt,rt=D===pt&&pt>0;G?(bm.play("win"),navigator.vibrate&&navigator.vibrate([100,50,150])):!rt&&pt>0&&bm.play("lose"),J(u.current+D),U({winItems:I.map(dt=>`${dt.icon} ${dt.name}`),winAmount:D,betTotal:pt,isWin:G,isDraw:rt}),b(dt=>{const gt=[{round:V,selected:[...tt],winNames:bt,winIcons:I.map(mt=>mt.icon),earn:D,cost:pt,date:wt},...dt].slice(0,100);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(gt)),gt})}setTimeout(()=>{C(null),o.current=!1},2e3)},3e3)},[n?.id,J]);z.useEffect(()=>{const V=()=>{const{round:L,timeLeft:I,isDrawingPhase:bt}=zi.getCurrentRoundInfo();d.current!==0&&L>d.current&&!o.current&&A(d.current),d.current=L,j(wt=>o.current?wt:wt.round!==L||wt.timeLeft!==I?{round:L,timeLeft:I,isDrawing:bt}:wt)},M=setInterval(V,1e3);return V(),()=>clearInterval(M)},[A]),z.useEffect(()=>{const V=()=>{const I=Math.random();if(I<.3){const bt=["","","","","","","","","","","","","",""],wt=["","","","","","","","","","","",""];return`${bt[Math.floor(Math.random()*bt.length)]}*${wt[Math.floor(Math.random()*wt.length)]}`}else{if(I<.6)return`010-****-${Math.floor(1e3+Math.random()*8999)}`;{const bt=["Super","King","God","Win","Lucky"];return`${bt[Math.floor(Math.random()*bt.length)]}${Math.floor(Math.random()*999)}`}}},M=[" !"," !"," !","!"," !"],L=setInterval(()=>{const I=V(),bt=Bs[Math.floor(Math.random()*Bs.length)],wt=M[Math.floor(Math.random()*M.length)];$(`${I} ${bt.icon} ${bt.name} ${wt}`)},6e3+Math.random()*4e3);return()=>clearInterval(L)},[]);const R=z.useMemo(()=>zi.calculateStats(m),[m]);return{round:S.round,timeLeft:S.timeLeft,isDrawing:S.isDrawing||o.current,drawingItems:N,totalHistory:m,myHistory:v,myPendingBet:F,setMyPendingBet:C,showResult:k,setShowResult:U,liveNoti:K,stats:R,updatePointWithAnim:J}}function XA({user:n,userPoint:t=0,confirmedImage:i,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const d=kO(),[m,g]=z.useState(t),v=z.useRef(null),b=c&&c.home==="",S=it=>{if(!it)return"";const D=it.split(" ");let G=it,rt="";D.length>1&&isNaN(D[0])&&(rt=D[0]+" ",G=D[1]);const dt=Bs.find(gt=>gt.name===G);if(dt){const gt=b?dt.name:dt.nameEn;return rt+gt}return it},{round:j,timeLeft:N,totalHistory:P,myHistory:F,myPendingBet:Y,setMyPendingBet:k,isDrawing:U,drawingItems:K,showResult:$,setShowResult:J,liveNoti:C,stats:A,updatePointWithAnim:R}=zO(n,t,u,d),[V,M]=z.useState([]),[L,I]=z.useState(""),[bt,wt]=z.useState("mine");z.useEffect(()=>{g(t)},[t]),z.useEffect(()=>{const it=D=>{n&&D.detail&&D.detail.userId===n.id&&(g(D.detail.point),R(D.detail.point))};return window.addEventListener("user_point_update",it),()=>window.removeEventListener("user_point_update",it)},[n,R]);const H=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],tt=z.useMemo(()=>{if(i)return i;const it=r||0;return`https://api.dicebear.com/7.x/${H[it]}/svg?seed=${n?.id}_${it}&backgroundColor=2a2a2e`},[i,r,n?.id]),et=async()=>{const it=parseInt(L),D=it*V.length;if(V.length===0)return alert(b?" .":"Please select items.");if(!it||it<=0)return alert(b?" .":"Please enter amount.");if(D>m)return alert(b?"  .":"Check your diamond balance.");const G=m-D;g(G),R(G),k({round:j,items:[...V],perAmount:it,totalCost:D});try{await Vu(Zn(te,"event_bets"),{round:j,userId:n.id,betAmount:D,items:[...V],win:null,timestamp:new Date().toISOString()})}catch(rt){console.error("  :",rt)}M([]),I("")},pt=(parseInt(L)||0)*(V.length||0);return y.jsxs("div",{style:_t.screenContainer,children:[y.jsxs("div",{style:_t.fixedHeader,children:[y.jsxs("div",{style:_t.navLeft,onClick:o,children:[y.jsx("span",{style:_t.backBtn,children:""}),y.jsx("span",{style:_t.navTitle,children:"DIAMOND EVENT"})]}),y.jsxs("div",{style:_t.navRight,children:[y.jsxs(ki.div,{animate:d,style:_t.pointBadge,children:[y.jsx("span",{style:_t.coinIcon,children:""}),y.jsx("span",{style:_t.headerPoint,children:m.toLocaleString()})]}),y.jsx("div",{style:_t.profileCircle,children:y.jsx("img",{src:tt,alt:"profile",style:{..._t.profileImg,objectFit:"cover"}})})]})]}),y.jsxs("div",{style:_t.scrollBody,ref:v,children:[y.jsx("div",{style:_t.liveTicker,children:y.jsxs(ki.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:_t.tickerText,children:[" ",C]},C)}),y.jsxs(ki.div,{style:{..._t.eventBanner,background:U?"linear-gradient(135deg, #1a1a1a 0%, #000 100%)":_t.eventBanner.background},animate:U?{x:[-1,1,-1,1,0],transition:{repeat:1/0,duration:.1}}:{},children:[y.jsx("div",{style:_t.radarContainer,children:U&&[0,1,2].map(it=>y.jsx(ki.div,{style:_t.radarCircle,initial:{width:0,height:0,opacity:.8},animate:{width:600,height:600,opacity:0},transition:{duration:3,repeat:1/0,delay:it*1,ease:"easeOut"}},`radar-${it}`))}),y.jsx(cm,{children:U&&y.jsxs(y.Fragment,{children:[y.jsx(ki.div,{style:{position:"absolute",left:"-10%",fontSize:"80px",zIndex:5,pointerEvents:"none"},initial:{x:0,opacity:0},animate:{x:300,opacity:[0,1,0],scale:[.5,1.2,.8]},exit:{opacity:0},transition:{duration:2.5,repeat:1/0,ease:"circIn"},children:""}),y.jsx(ki.div,{style:{position:"absolute",right:"-10%",fontSize:"80px",zIndex:5,pointerEvents:"none"},initial:{x:0,opacity:0},animate:{x:-300,opacity:[0,1,0],scale:[.5,1.2,.8]},exit:{opacity:0},transition:{duration:2.5,repeat:1/0,ease:"circIn",delay:1.25},children:""})]})}),y.jsxs("div",{style:_t.bannerContent,children:[y.jsxs("div",{style:_t.bannerTop,children:[y.jsx("div",{style:{..._t.liveBadge,background:U?"#ffb347":"#ff3b30"},children:U?"DRAWING":"LIVE"}),y.jsxs("span",{style:_t.roundInfo,children:[b?` ${j}`:`Round ${j}`," ",Y?b?"()":"(Joined)":""]})]}),y.jsx("div",{style:_t.timerDisplay,children:U?y.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center",margin:"15px 0"},children:K.map((it,D)=>y.jsx(ki.div,{initial:{scale:.5,opacity:0},animate:{scale:1.2,opacity:1},style:{fontSize:"50px"},children:it},D))}):y.jsx("h2",{style:_t.timeLeftNum,children:`${Math.floor(N/60)}:${(N%60).toString().padStart(2,"0")}`})}),y.jsxs("div",{style:_t.lastResultBar,children:[y.jsxs("span",{style:_t.lastLabel,children:[j-1,b?" :":" Result:"]}),y.jsx("div",{style:{display:"flex",gap:"5px"},children:P[0]?.winItems.map((it,D)=>y.jsx("span",{style:_t.resTag,children:S(it)},D))||(b?"":"Waiting")})]})]})]}),y.jsxs("div",{style:_t.sectionLabel,children:[y.jsx("span",{style:_t.labelBar})," ",b?" ":"Select Item",y.jsx("small",{style:_t.subLabel,children:b?" 100 ":"Last 100 Stats"})]}),y.jsx("div",{style:_t.grid,children:Bs.map(it=>{const D=V.includes(it.name);return y.jsxs(ki.div,{whileTap:Y?{}:{scale:.95},onClick:()=>!Y&&M(G=>G.includes(it.name)?G.filter(rt=>rt!==it.name):[...G,it.name].slice(0,2)),style:{..._t.itemCard,opacity:Y?.5:1,background:D?`linear-gradient(145deg, ${it.color}88, #111)`:"#161616",border:D?`2px solid ${it.color}`:"2px solid #252525"},children:[y.jsx("div",{style:_t.multiplier,children:it.label}),y.jsxs("div",{style:_t.statBadge,children:[A[it.name]||0,"%"]}),y.jsx("div",{style:_t.itemIcon,children:it.icon}),y.jsxs("div",{style:_t.itemInfoText,children:[y.jsx("span",{style:_t.itemName,children:b?it.name:it.nameEn}),y.jsx("span",{style:_t.itemDesc,children:b?it.desc:it.descEn})]}),D&&y.jsx("div",{style:{..._t.checkBadge,background:it.color},children:""})]},it.name)})}),y.jsxs("div",{style:_t.tabSection,children:[y.jsxs("div",{style:_t.tabHeader,children:[y.jsx("button",{style:{..._t.tabBtn,color:bt==="mine"?"#fff":"#666",borderBottom:bt==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>wt("mine"),children:b?"  ":"My History"}),y.jsx("button",{style:{..._t.tabBtn,color:bt==="total"?"#fff":"#666",borderBottom:bt==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>wt("total"),children:b?" ":"All Results"})]}),y.jsxs("div",{style:_t.tabContent,children:[(bt==="mine"?F:P).sort((it,D)=>D.round-it.round).slice(0,20).map((it,D)=>y.jsxs("div",{style:_t.histItem,children:[y.jsxs("div",{style:_t.histLeft,children:[y.jsxs("div",{style:_t.histRound,children:[it.round,b?"":" Rd"]}),y.jsx("div",{style:_t.histDetail,children:it.date})]}),y.jsx("div",{style:_t.histRight,children:bt==="mine"?y.jsx("div",{style:{color:it.earn>0?"#34D399":"#FB7185",fontWeight:"bold"},children:it.earn>0?`+${it.earn.toLocaleString()}`:`-${it.cost.toLocaleString()}`}):y.jsx("div",{style:_t.histWinIcons,children:it.winItems?.map(G=>S(G)).join(" ")})})]},D)),(bt==="mine"?F:P).length===0&&y.jsx("div",{style:_t.emptyText,children:b?" .":"No records found."})]})]})]}),y.jsx(cm,{children:(V.length>0||Y)&&y.jsx(ki.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:_t.bottomPanel,children:Y?y.jsxs("div",{style:_t.pendingContainer,children:[y.jsxs("div",{style:_t.pendingInfo,children:[y.jsxs("div",{style:_t.pendingTitle,children:[j,b?"  ...":" Round Joined..."]}),y.jsxs("div",{style:_t.pendingDetail,children:[b?":":"Pick:"," ",y.jsx("b",{style:{color:"#fff"},children:Y.items.map(it=>S(it)).join(", ")})," | ",Y.totalCost.toLocaleString()," DIA"]})]}),y.jsx("button",{style:_t.cancelBtn,onClick:()=>{const it=m+Y.totalCost;g(it),R(it),k(null)},children:b?"":"Cancel"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:_t.panelTop,children:[y.jsxs("span",{style:_t.selectionText,children:[b?":":"Selected:"," ",y.jsx("b",{style:{color:"#ffb347"},children:V.map(it=>S(it)).join(", ")})]}),y.jsx("button",{style:_t.clearBtn,onClick:()=>M([]),children:b?"":"Reset"})]}),y.jsx("div",{style:_t.amountPresets,children:["10%","50%","MAX","CLEAR"].map(it=>y.jsx("button",{onClick:()=>{if(it==="CLEAR")I("");else{let D=Math.floor(it==="10%"?m*.1:it==="50%"?m*.5:m/V.length);I(D>0?D.toString():"")}},style:_t.presetBtn,children:it},it))}),y.jsxs("div",{style:_t.betInputGroup,children:[y.jsx("input",{type:"number",value:L,onChange:it=>I(it.target.value),style:_t.mainInput,placeholder:b?" ":"Enter amount"}),y.jsx("button",{style:_t.finalBtn,onClick:et,disabled:!L,children:pt>0?`${pt.toLocaleString()} DIA ${b?"":"BET"}`:b?"":"BET"})]})]})})}),y.jsx(cm,{children:$&&y.jsx(ki.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:_t.modalOverlay,onClick:()=>J(null),children:y.jsxs(ki.div,{initial:{scale:.8},animate:{scale:1},style:_t.modalCard,onClick:it=>it.stopPropagation(),children:[y.jsx("div",{style:_t.modalTitle,children:$.isWin?b?"  !":" YOU WIN!":$.isDraw?b?"  !":" DRAW!":b?" ":" YOU LOSE"}),y.jsx("div",{style:{fontSize:"50px",margin:"20px 0"},children:$.winItems.map(it=>S(it)).join(" ")}),y.jsxs("div",{style:_t.modalInfoBox,children:[y.jsxs("div",{children:[b?"":"Bet",": ",$.betTotal.toLocaleString()]}),y.jsxs("div",{children:[b?"":"Result",": ",$.winAmount.toLocaleString()]})]}),y.jsxs("div",{style:{..._t.modalAmount,color:$.winAmount-$.betTotal>0?"#34D399":$.winAmount-$.betTotal===0?"#fff":"#FB7185"},children:[$.winAmount-$.betTotal>0?"+":"",($.winAmount-$.betTotal).toLocaleString()," DIA"]}),y.jsx("button",{style:_t.modalCloseBtn,onClick:()=>J(null),children:b?"":"CLOSE"})]})})})]})}const _t={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:10,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},eventBanner:{background:"linear-gradient(135deg, #ffdeeb 0%, #fbc2eb 100%)",borderRadius:"28px",padding:"25px",border:"1px solid #ffb6c1",textAlign:"center",position:"relative",overflow:"hidden",height:"190px",display:"flex",alignItems:"center",justifyContent:"center"},radarContainer:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},radarCircle:{position:"absolute",borderRadius:"50%",border:"8px solid rgba(255, 255, 255, 0.6)"},bannerContent:{position:"relative",zIndex:10,width:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},liveBadge:{color:"#fff",fontSize:"10px",fontWeight:"900",padding:"2px 8px",borderRadius:"4px"},roundInfo:{fontSize:"12px",color:"#555",fontWeight:"700"},timeLeftNum:{fontSize:"52px",fontWeight:"900",margin:"5px 0",color:"#333",letterSpacing:"-1px"},lastResultBar:{background:"rgba(255,255,255,0.6)",padding:"8px 15px",borderRadius:"12px",display:"inline-flex",alignItems:"center",gap:"10px",marginTop:"10px"},lastLabel:{fontSize:"11px",color:"#333",fontWeight:"600"},resTag:{fontSize:"12px",fontWeight:"800",color:"#000"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"35px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},subLabel:{opacity:.4,marginLeft:"5px",fontWeight:"400",fontSize:"12px",color:"#fff"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},itemCard:{height:"145px",borderRadius:"24px",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden",transition:"all 0.2s ease"},multiplier:{position:"absolute",top:12,left:15,fontSize:"11px",fontWeight:"900",color:"rgba(255,255,255,0.3)"},statBadge:{position:"absolute",top:12,right:12,fontSize:"10px",color:"#ffb347",fontWeight:"bold",background:"rgba(0,0,0,0.5)",padding:"2px 6px",borderRadius:"4px"},itemIcon:{fontSize:"44px",marginBottom:"8px"},itemInfoText:{textAlign:"center"},itemName:{fontSize:"16px",fontWeight:"900",display:"block",color:"#fff"},itemDesc:{fontSize:"10px",color:"#777",marginTop:"2px"},checkBadge:{position:"absolute",top:12,right:12,width:"22px",height:"22px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"900",zIndex:2},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},histLeft:{display:"flex",flexDirection:"column",gap:"4px"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDetail:{fontSize:"11px",color:"#555"},histRight:{textAlign:"right"},histWinIcons:{fontSize:"10px",color:"#666",marginTop:"2px"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"absolute",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},panelTop:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"center"},selectionText:{fontSize:"13px",color:"#888"},clearBtn:{background:"none",border:"none",color:"#ff3b30",fontSize:"13px",fontWeight:"700"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},pendingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},pendingInfo:{display:"flex",flexDirection:"column",gap:"4px"},pendingTitle:{fontSize:"15px",fontWeight:"900",color:"#ffb347"},pendingDetail:{fontSize:"12px",color:"#888"},cancelBtn:{background:"#ff3b30",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:"900",fontSize:"13px"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"20px",fontWeight:"900",color:"#fff"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"12px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},ut={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},ff=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],WA=(n,t)=>{const i=n>=0&&n<ff.length?n:0;return`https://api.dicebear.com/7.x/${ff[i]}/svg?seed=${t}_${i}&backgroundColor=2a2a2e`},UO=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},FO=({userId:n,tempSelectedIdx:t,tempUploadedImg:i,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:d})=>{const m=z.useRef(null);return y.jsxs("div",{style:ut.avatarPicker,children:[y.jsxs("div",{style:ut.pickerHeader,children:[y.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:d,style:ut.randomBtn,children:" "}),y.jsx("button",{onClick:u,style:ut.closeBtn,children:""})]})]}),y.jsx("div",{style:ut.charGrid,children:ff.map((g,v)=>y.jsx("div",{onClick:()=>{o(null),r(v)},style:{...ut.pickerItem,border:t===v&&!i?"2px solid #D4AF37":"1px solid #333"},children:y.jsx("img",{src:WA(v,n),alt:"char",style:{width:"85%"}})},v))}),y.jsx("input",{type:"file",accept:"image/*",ref:m,onChange:g=>{const v=g.target.files[0];if(v){const b=new FileReader;b.onloadend=()=>{o(b.result),r(-1)},b.readAsDataURL(v)}},style:{display:"none"}}),y.jsx("button",{onClick:()=>m.current.click(),style:ut.uploadBtn,children:"   "}),y.jsx("button",{onClick:c,style:ut.applyBtn,children:""})]})},$x=new BroadcastChannel("daisy_global_channel"),qO=(n,t,i)=>{const[r,o]=z.useState(n||null),[u,c]=z.useState(()=>{if(!n)return!1;const k=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===k}),[d,m]=z.useState([]),[g,v]=z.useState([]);z.useEffect(()=>{n&&o(n)},[n]),z.useEffect(()=>{const k=(K,$)=>{o(J=>J&&J.id===K?{...J,diamond:$}:J)},U=K=>{const{userId:$,point:J}=K.detail||{};$&&k($,J)};return window.addEventListener("user_point_update",U),$x.onmessage=K=>{const{type:$,userId:J,point:C}=K.data||{};$==="POINT_UPDATE"&&J&&k(J,C)},()=>window.removeEventListener("user_point_update",U)},[]),z.useEffect(()=>{if(!r?.id)return;const k=Ra(Zn(te,"deposit_requests"),Jp("userId","==",r.id)),U=Ra(Zn(te,"withdraw_requests"),Jp("userId","==",r.id)),K=Ra(Zn(te,"finance_history"),Jp("userId","==",r.id));let $=[],J=[],C=[];const A=()=>{const L=C.filter(H=>H.type==="").map(H=>({...H,status:""})),I=[...$,...L].sort((H,tt)=>new Date(tt.timestamp||tt.completedAt)-new Date(H.timestamp||H.completedAt));m(I);const bt=C.filter(H=>H.type==="").map(H=>({...H,status:""})),wt=[...J,...bt].sort((H,tt)=>new Date(tt.timestamp||tt.completedAt)-new Date(H.timestamp||H.completedAt));v(wt)},R=ks(k,L=>{$=L.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),V=ks(U,L=>{J=L.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),M=ks(K,L=>{C=L.docs.map(I=>({id:I.id,...I.data()})),A()});return()=>{R(),V(),M()}},[r?.id]);const b=z.useCallback(k=>{window.speechSynthesis.cancel();const U=new SpeechSynthesisUtterance(k),K=window.speechSynthesis.getVoices(),$=K.find(J=>J.lang.includes("ko")&&J.name.includes("Google"))||K.find(J=>J.lang.includes("ko")&&(J.name.includes("Female")||J.name.includes("")))||K.find(J=>J.lang.includes("ko"));$&&(U.voice=$),U.lang=i?"ko-KR":"en-US",U.rate=1.1,U.pitch=1,window.speechSynthesis.speak(U)},[i]);return{userInfo:r,isCheckedIn:u,myDeposits:d,myWithdraws:g,handleDailyCheckIn:async()=>{if(!u)try{const k=Pe(te,"settings","global"),U=await wr(k);if(!U.exists())throw new Error("Database Error");const K=U.data().users||[],$=Math.floor(Math.random()*1901)+100;let J=0;const C=K.map(R=>R.id===r.id?(J=(R.diamond||0)+$,{...R,diamond:J}):R);await Cr(k,{users:C}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(R=>({...R,diamond:J})),t&&t(J),$x.postMessage({type:"POINT_UPDATE",userId:r.id,point:J});const A=i?`  ${$}  .`:`Daily bonus ${$} diamonds paid.`;b(A),alert(i?`! ${$.toLocaleString()} DIA .`:`Congrats! ${$.toLocaleString()} DIA paid.`)}catch(k){console.error(k);const U=1e3;o(K=>({...K,diamond:(K.diamond||0)+U})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(i?`( ) ${U} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(k,U)=>{if(!k.trim()||!U)return alert(i?" .":"Enter info.");try{return await Vu(Zn(te,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:k,amount:Number(U),status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Deposit requested."),alert(i?" !":"Done!"),!0}catch(K){return alert("Error: "+K.message),!1}},requestWithdraw:async(k,U,K)=>{const $=localStorage.getItem(`user_pin_${r.id}`);if(K!==$)return alert(i?" ":"PIN mismatch");if(Number(k)>r.diamond)return alert(i?" ":"Not enough balance");try{return await Vu(Zn(te,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(k),bankInfo:U,status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Withdrawal requested."),alert(i?" !":"Done!"),!0}catch(J){return alert("Error: "+J.message),!1}},updatePassword:async(k,U,K)=>{if(!k||U!==K)return alert(i?"  .":"Check inputs.");try{const $=Pe(te,"settings","global"),J=await wr($);if(J.exists()){const A=(J.data().users||[]).map(R=>R.id===r.id?{...R,password:U}:R);await Cr($,{users:A})}return alert(i?"  ":"Success"),!0}catch($){return alert("Error: "+$.message),!1}},updatePin:async(k,U,K)=>{const $=localStorage.getItem(`user_pin_${r.id}`);if($&&k!==$)return alert(i?" PIN ":"Old PIN wrong");if(U!==K||U.length!==6)return alert(i?" PIN  ":"Check New PIN");try{const J=Pe(te,"settings","global"),C=await wr(J);if(C.exists()){const A=C.data().users.map(R=>R.id===r.id?{...R,pin:U}:R);await Cr(J,{users:A})}return localStorage.setItem(`user_pin_${r.id}`,U),alert(i?" ":"Done"),!0}catch(J){return alert("Error: "+J.message),!1}},updateAvatar:async(k,U,K)=>{const $={image:k,idx:U};try{const J=Pe(te,"settings","global"),C=await wr(J);if(C.exists()){const A=C.data().users.map(R=>R.id===r.id?{...R,avatar:$}:R);await Cr(J,{users:A})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify($)),K&&K(k,U),alert(i?"  ":"Updated"),!0}catch(J){return alert("Error: "+J.message),!1}}}},Ua=({title:n,onBack:t})=>y.jsxs("div",{style:ut.subHeader,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.subTitle,children:n}),y.jsx("div",{style:{width:30}})]}),HO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),[m,g]=z.useState(""),v=async()=>{await i(o,c,m)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Change Password",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"ID"}),y.jsx("input",{style:ut.inputDisabled,value:r.id,disabled:!0})]}),y.jsx("div",{style:{height:20}}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Old Password"}),y.jsx("input",{type:"password",style:ut.input,value:o,onChange:b=>u(b.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"New Password"}),y.jsx("input",{type:"password",style:ut.input,value:c,onChange:b=>d(b.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Confirm"}),y.jsx("input",{type:"password",style:ut.input,value:m,onChange:b=>g(b.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:v,children:t?"":"Save"})]})]})},GO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),[m,g]=z.useState(""),v=localStorage.getItem(`user_pin_${r.id}`),b=async()=>{await i(o,c,m)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:v?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[v?y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN":"Old PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:S=>u(S.target.value.replace(/[^0-9]/g,""))})]}):null,y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN (6)":"New PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:S=>d(S.target.value.replace(/[^0-9]/g,""))})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"PIN ":"Confirm"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:m,onChange:S=>g(S.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:ut.saveBtn,onClick:b,children:t?"":"Done"})]})]})},YO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),m=async()=>{await i(o,c)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Deposit",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Name"}),y.jsx("input",{style:ut.input,value:o,onChange:g=>u(g.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:c,onChange:g=>d(g.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:m,children:t?"":"Request"})]})]})},QO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),[m,g]=z.useState(""),[v,b]=z.useState(""),[S,j]=z.useState(""),N=async()=>{await i(o,{bank:c,account:m,holder:v},S)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Withdraw",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:o,onChange:P=>u(P.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Bank Info"}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:P=>d(P.target.value)}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Account No",value:m,onChange:P=>g(P.target.value)}),y.jsx("input",{style:ut.input,placeholder:t?"":"Holder",value:v,onChange:P=>b(P.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:S,onChange:P=>j(P.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:{...ut.saveBtn,background:"#D4AF37",color:"#000"},onClick:N,children:t?"":"Request"})]})]})},Zx=({onBack:n,isKo:t,title:i,data:r})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:i,onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",d=c?"#4cd137":"#fbc531",m=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",g=c?t?"":"Done":t?"":"Pending";return y.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),y.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),y.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),y.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:m,color:d,border:`1px solid ${d}`},children:g})]},u)})})]}),KO=({onBack:n,isKo:t,userId:i})=>{const r=z.useMemo(()=>{if(!i)return[];const o=localStorage.getItem(`event_my_history_${i}`);return o?JSON.parse(o):[]},[i]);return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"History",onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>y.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[y.jsxs("span",{children:[o.round,t?"":"R"]}),y.jsx("span",{children:o.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),y.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},XO=({onBack:n,isKo:t,onChangeView:i})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Settings",onBack:n}),y.jsxs("div",{style:ut.settingList,children:[y.jsxs("div",{style:ut.settingItem,onClick:()=>i("profile"),children:[y.jsx("span",{style:ut.settingText,children:t?"  ":"Change Password"}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.settingItem,onClick:()=>i("payment_pin"),children:[y.jsx("span",{style:ut.settingText,children:t?" (PIN) ":"Setup PIN"}),y.jsx("span",{style:ut.arrow,children:""})]})]})]});function WO({user:n,onBack:t,onLogout:i,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:d}){const[m,g]=z.useState("main"),v=d.home==="",{userInfo:b,isCheckedIn:S,myDeposits:j,myWithdraws:N,handleDailyCheckIn:P,requestDeposit:F,requestWithdraw:Y,updatePassword:k,updatePin:U,updateAvatar:K}=qO(n,c,v),[$,J]=z.useState(o||0),[C,A]=z.useState(r||null),[R,V]=z.useState(!1);if(!b)return y.jsx("div",{style:ut.loading,children:"SECRET MEMBERSHIP..."});const M=UO(b.diamond);return m==="profile"?y.jsx(HO,{onBack:()=>g("settings"),isKo:v,onSubmit:k,userInfo:b}):m==="payment_pin"?y.jsx(GO,{onBack:()=>g("settings"),isKo:v,onSubmit:U,userInfo:b}):m==="deposit"?y.jsx(YO,{onBack:()=>g("main"),isKo:v,onSubmit:F,onViewHistory:()=>g("deposit_history")}):m==="withdraw"?y.jsx(QO,{onBack:()=>g("main"),isKo:v,onSubmit:Y,onViewHistory:()=>g("withdraw_history")}):m==="deposit_history"?y.jsx(Zx,{onBack:()=>g("deposit"),isKo:v,title:v?"  ":"Deposit History",data:j}):m==="withdraw_history"?y.jsx(Zx,{onBack:()=>g("withdraw"),isKo:v,title:v?"  ":"Withdraw History",data:N}):m==="history"?y.jsx(KO,{onBack:()=>g("main"),isKo:v,userId:b.id}):m==="settings"?y.jsx(XO,{onBack:()=>g("main"),isKo:v,onChangeView:g}):m==="event_donation"?y.jsx(XA,{user:b,userPoint:b.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>g("main"),t:d}):y.jsxs("div",{style:ut.container,children:[y.jsxs("div",{style:ut.topBar,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.topTitle,children:"PRIVATE LOUNGE"}),y.jsx("span",{onClick:()=>g("settings"),style:ut.settingsIcon,children:""})]}),y.jsx("div",{style:ut.profileHeaderMain,children:y.jsxs("div",{style:ut.profileInfoMain,children:[y.jsxs("div",{style:ut.avatarWrapper,children:[y.jsx("div",{style:ut.avatarLarge,children:r?y.jsx("img",{src:r,alt:"profile",style:ut.imgFull}):y.jsx("img",{src:WA(o,b.id),alt:"avatar",style:ut.imgFull})}),y.jsx("button",{style:ut.editBadgeOutside,onClick:()=>V(!0),children:v?"":"Edit"})]}),y.jsxs("div",{style:ut.userTextMain,children:[y.jsxs("div",{style:ut.userIdMain,children:[b.name||b.id," ",y.jsx("span",{style:{...ut.vipBadge,background:M.color,color:"#000"},children:M.name})]}),y.jsxs("div",{style:ut.tierContainer,children:[y.jsxs("div",{style:ut.tierText,children:[v?" ":"Next Tier",": ",M.next.toLocaleString()]}),y.jsx("div",{style:ut.tierBarOuter,children:y.jsx("div",{style:{...ut.tierBarInner,width:`${M.per}%`,background:M.color}})})]}),y.jsxs("div",{style:ut.userNoMain,children:["UID: ",b.no||"000000"]})]})]})}),y.jsxs("div",{style:ut.balanceCard,children:[y.jsxs("div",{style:ut.balanceItem,children:[y.jsx("div",{style:ut.label,children:v?" ":"Diamonds"}),y.jsxs("div",{style:ut.value,children:[" ",b.diamond?.toLocaleString()??0]})]}),y.jsx("div",{style:ut.divider}),y.jsxs("div",{style:{...ut.balanceItem,cursor:S?"default":"pointer"},onClick:P,children:[y.jsx("div",{style:{...ut.label,color:S?"#444":"#D4AF37"},children:S?v?" ":"Claimed":v?" ":"Daily Bonus"}),y.jsx("div",{style:ut.value,children:S?"":""})]})]}),y.jsxs("div",{style:ut.menuList,children:[y.jsxs("div",{style:ut.goldMenu,onClick:()=>g("event_donation"),children:[y.jsxs("div",{style:ut.goldMenuContent,children:[y.jsx("div",{style:ut.goldTag,children:"HOT"}),y.jsx("span",{style:ut.goldMenuTitle,children:v?"  ":"Join Event"})]}),y.jsx("span",{children:""})]}),y.jsxs("div",{style:ut.menuGroup,children:[y.jsxs("div",{style:ut.menuItem,onClick:()=>g("deposit"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?" ":"Deposit"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>g("withdraw"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?" ":"Withdraw"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>g("history"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?" ":"History"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?"1:1  ":"1:1 Support"]}),y.jsx("span",{style:ut.arrow,children:""})]})]}),y.jsx("button",{onClick:i,style:{...ut.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:v?"":"LOG OUT"})]}),R&&y.jsx(FO,{userId:b.id,tempSelectedIdx:$,tempUploadedImg:C,setTempSelectedIdx:J,setTempUploadedImg:A,onClose:()=>V(!1),onApply:()=>K(C,$,u).then(L=>L&&V(!1)),onRandom:()=>{A(null),J(Math.floor(Math.random()*ff.length))}})]})}function $O({user:n,onUpdatePoint:t,appAvatarImage:i,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:d,dashStyles:m,isGuest:g,members:v=[],regions:b=[],slideImages:S=[],videos:j=[],videoCategories:N=[],innerLogo:P,telegramLink:F="https://t.me/your_address"}){const[Y,k]=z.useState("home"),[U,K]=z.useState(null),[$,J]=z.useState(""),[C,A]=z.useState(""),[R,V]=z.useState(!1),[M,L]=z.useState(!1),I=n||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},bt=j.filter(rt=>$==="ALL"||!$?!0:rt.category===$),wt=v.filter(rt=>!C||C===""||C==="ALL"?!0:rt.region===C),[H,tt]=z.useState(()=>{const rt=localStorage.getItem("live_count"),dt=rt?parseInt(rt):142;return dt>=123&&dt<=179?dt:145});z.useEffect(()=>{const rt=setInterval(()=>{tt(dt=>{const gt=Math.random();let mt=gt<.45?1:gt<.9?-1:gt<.95?2:-2,St=dt+mt;return St<=123&&(St=125),St>=179&&(St=177),localStorage.setItem("live_count",St),St})},5e3);return()=>clearInterval(rt)},[]);const et=z.useCallback(()=>{document.getElementById("full-screen-view")||U||document.getElementById("manager-detail-view")||(Y!=="home"?k("home"):L(!0),window.history.pushState(null,""))},[U,Y]);z.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",et),()=>window.removeEventListener("popstate",et)),[et]);const pt=rt=>{if(g&&(rt==="event"||rt==="mypage")){alert(d==="ko"?"   .":"Authorized Members Only.");return}rt==="event"?(V(!0),k(rt),setTimeout(()=>V(!1),800)):k(rt)},it=rt=>{K(rt),k("manager"),window.history.pushState({isDetail:!0},"")},D=()=>{F?window.open(F,"_blank"):alert(d==="ko"?"   .":"Link not set.")};z.useEffect(()=>{window.scrollTo(0,0)},[Y]);const G=()=>{switch(Y){case"home":return y.jsx(eM,{t:u,innerLogo:P,slideImages:S,members:v,setActiveTab:k,openDetail:it,handleTelegram:D,matchingCount:H});case"manager":return y.jsx(nM,{t:u,regions:b,selectedRegion:C,setSelectedRegion:A,filteredMembers:wt,initialMember:U,onCloseDetail:()=>K(null)});case"event":return R?y.jsxs("div",{style:$n.loadingContainer,children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("div",{style:$n.loadingText,children:d==="ko"?"   ...":"Loading Private Benefits..."})]}):y.jsx(XA,{t:u,user:I,userPoint:I.diamond,onUpdatePoint:t,onBack:()=>k("home"),confirmedImage:i,confirmedAvatarIdx:r});case"video":return y.jsx(iM,{t:u,videoCategories:N,selectedCategory:$,setSelectedCategory:J,filteredVideos:bt});case"mypage":return y.jsx(WO,{t:u,user:I,onBack:()=>k("home"),onLogout:()=>L(!0),confirmedImage:i,confirmedAvatarIdx:r,onAvatarChange:o,s:$n});default:return null}};return y.jsxs("div",{style:{...m.container,background:"#080808",zIndex:10,position:"relative"},children:[y.jsxs("div",{style:{...m.contentArea,background:"transparent"},children:[Y!=="home"&&Y!=="event"&&Y!=="mypage"&&y.jsx("div",{style:$n.topStatus,children:y.jsxs("div",{style:$n.statusInner,children:[y.jsx("span",{className:"dot-active"}),y.jsx("span",{style:$n.statusText,children:"LIVE CONNECTED : "}),y.jsxs("b",{style:$n.statusCount,children:[H," MEMBERS"]})]})}),G()]}),M&&y.jsx("div",{style:$n.modalOverlay,onClick:()=>L(!1),children:y.jsxs("div",{style:{...$n.modalContent,textAlign:"center"},onClick:rt=>rt.stopPropagation(),children:[y.jsx("h3",{style:$n.modalName,children:u.logout}),y.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:d==="ko"?"  ?":"Are you sure you want to log out?"}),y.jsxs("div",{style:$n.modalBtnGroup,children:[y.jsx("button",{onClick:c,style:$n.mMatchBtn,children:u.logout}),y.jsx("button",{onClick:()=>L(!1),style:$n.mCloseBtn,children:d==="ko"?"":"CANCEL"})]})]})}),y.jsx("nav",{style:{...m.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(rt=>y.jsxs("div",{onClick:()=>pt(rt.key),style:{...m.navItem,color:Y===rt.key?"#D4AF37":"#555"},children:[y.jsx("span",{style:{fontSize:22,filter:Y===rt.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:rt.icon}),y.jsx("span",{style:{fontSize:10,fontWeight:800},children:rt.label})]},rt.key))}),y.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const $n={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},ZO="dwla93cgd",JO="daisy_upload",Jx=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",i=new FormData;i.append("file",n),i.append("upload_preset",JO);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${ZO}/${t}/upload`,{method:"POST",body:i})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function tN({adminPreviewMode:n,setAdminPreviewMode:t,hero:i,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:d,logoSize:m,setLogoSize:g,logoPos:v,setLogoPos:b,innerLogo:S,setInnerLogo:j,onExit:N,members:P,setMembers:F,slideImages:Y,setSlideImages:k,videos:U,setVideos:K,adminPw:$,setAdminPw:J,telegramLink:C,setTelegramLink:A,saveToFirebase:R,syncToFirebase:V,openIndependent:M,styles:L}){const I={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},bt=Object.keys(I),wt=["","","","",""],H={name:"",region:"",loc:I.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[tt,et]=z.useState(H),[pt,it]=z.useState(null),[D,G]=z.useState(!1),[rt,dt]=z.useState(""),[gt,mt]=z.useState(""),[St,Jt]=z.useState(!1),[Wt,vn]=z.useState(!1),[zn,Un]=z.useState(null),[_n,bn]=z.useState(""),ni=ot=>{et({...tt,region:ot,loc:I[ot][0]})},Si=ot=>{it(ot.id),et(ot),Jt(!0);const Rt=document.getElementById("manager-modal-scroll");Rt&&Rt.scrollTo({top:0,behavior:"smooth"})},Ei=async()=>{if(D)return alert("  .  .");if(!tt.img||!tt.name)return alert("   .");let ot;pt?(ot=P.map(At=>At.id===pt?{...tt,id:pt}:At),it(null)):ot=[...P,{...tt,id:Date.now()}],F(ot),G(!0);const Rt=await V({members:ot});G(!1),Rt&&(et(H),alert("    ! "))},vs=async()=>{if(!_n)return alert("   .");let ot;zn?(ot=U.map(At=>At.id===zn?{...At,url:_n,category:rt,description:gt}:At),Un(null)):ot=[...U,{id:Date.now(),url:_n,category:rt,description:gt}],K(ot),G(!0);const Rt=await V({videos:ot});G(!1),Rt&&(bn(""),mt(""),alert("   ! "))},re=async(ot,Rt,At)=>{const ee=ot.target.files?.[0];if(ee)try{G(!0);const ae=await Jx(ee);if(ae){At(ae);let ne={};Rt==="logo"?ne={logo:ae}:Rt==="innerLogo"?ne={innerLogo:ae}:Rt==="heroImg"&&(ne={hero:{...i,imageSrc:ae,mode:"image"}}),Object.keys(ne).length>0&&await V(ne)}}catch(ae){console.error("  :",ae)}finally{G(!1),ot.target.value=""}},be=async()=>{G(!0);const ot=await V({telegramLink:C,adminPw:$});G(!1),ot&&alert("      ! ")};return y.jsxs("div",{style:Nt.cms,children:[y.jsxs("div",{style:Nt.toggleArea,children:[y.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Nt.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),y.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Nt.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("h3",{style:Nt.mainTitle,children:"SERVER ADMIN PANEL"}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"    "}),y.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[y.jsx("button",{onClick:()=>r({...i,mode:"image"}),style:{...Nt.modeBtn,background:i.mode==="image"?"#fff":"#333",color:i.mode==="image"?"#000":"#888"},children:" "}),y.jsx("button",{onClick:()=>r({...i,mode:"video"}),style:{...Nt.modeBtn,background:i.mode==="video"?"#fff":"#333",color:i.mode==="video"?"#000":"#888"},children:" "})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>re(ot,"heroImg",Rt=>r({...i,imageSrc:Rt,mode:"image"}))}),i.imageSrc&&y.jsx("img",{src:i.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"video/*",style:Nt.fileInput,onChange:ot=>re(ot,"heroVid",Rt=>{u(Rt),r({...i,mode:"video"})})}),o&&y.jsx("div",{style:{marginTop:5},children:y.jsx("p",{style:Nt.checkText,children:"  "})})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"    "}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>re(ot,"logo",d)}),y.jsxs("div",{style:Nt.rangeRow,children:[y.jsxs("span",{children:[": ",m,"px"]}),y.jsx("input",{type:"range",min:"40",max:"600",value:m,onChange:ot=>g(+ot.target.value)})]}),y.jsxs("div",{style:Nt.rangeGrid,children:[y.jsxs("div",{children:[y.jsx("span",{children:"(Y)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:v.y,onChange:ot=>b({...v,y:+ot.target.value})})]}),y.jsxs("div",{children:[y.jsx("span",{children:"(X)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:v.x,onChange:ot=>b({...v,x:+ot.target.value})})]})]})]})]}),y.jsxs("div",{style:{...Nt.sectionBox,borderColor:"#FFD700"},children:[y.jsx("label",{style:{...Nt.sectionLabel,color:"#FFD700"},children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (Inner Logo)"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>re(ot,"innerLogo",j)}),S&&y.jsx("img",{src:S,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (X  )"}),y.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Nt.fileInput,onChange:async ot=>{const Rt=Array.from(ot.target.files);G(!0);const ee=(await Promise.all(Rt.map(ne=>Jx(ne)))).filter(ne=>ne).map(ne=>({id:Date.now()+Math.random(),url:ne})),ae=[...Y,...ee];k(ae),await V({slideImages:ae}),G(!1),ot.target.value=""}}),y.jsx("div",{style:Nt.bannerList,children:Y.map(ot=>y.jsxs("div",{style:Nt.bannerThumb,children:[y.jsx("img",{src:ot.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:async()=>{const Rt=Y.filter(At=>At.id!==ot.id);k(Rt),await V({slideImages:Rt})},style:Nt.bannerDelBtn,children:""})]},ot.id))})]})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"   "}),y.jsxs("button",{onClick:()=>Jt(!0),style:Nt.modalOpenBtn,children:["   (",P.length,")"]}),y.jsxs("button",{onClick:()=>vn(!0),style:{...Nt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",U.length,")"]}),y.jsx("button",{onClick:()=>M&&M(),style:{...Nt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"@TelegramID",value:C||"",onChange:ot=>A(ot.target.value)})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"  ",value:$||"",onChange:ot=>J(ot.target.value)})]}),y.jsx("button",{onClick:be,style:{...Nt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),y.jsx("button",{style:{...Nt.saveExitBtn,background:D?"#ffb347":"#fff",cursor:D?"wait":"pointer"},onClick:async()=>{if(D)return;G(!0);const ot=setTimeout(()=>{N()},5e3);try{R&&await R(),clearTimeout(ot),N()}catch{N()}finally{G(!1)}},children:D?"   ...":"    "})]}),St&&y.jsx("div",{style:ue.overlay,children:y.jsxs("div",{id:"manager-modal-scroll",style:ue.container,children:[y.jsxs("div",{style:ue.header,children:[y.jsx("h2",{style:{color:"#ffb347"},children:pt?"  ":"  "}),y.jsx("button",{onClick:()=>{Jt(!1),it(null),et(H)},style:ue.closeBtn,children:""})]}),y.jsxs("div",{style:ue.formBox,children:[y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[y.jsx("select",{value:tt.region,onChange:ot=>ni(ot.target.value),style:ue.select,children:bt.map(ot=>y.jsx("option",{value:ot,children:ot},ot))}),y.jsx("select",{value:tt.loc,onChange:ot=>et({...tt,loc:ot.target.value}),style:ue.select,children:I[tt.region].map(ot=>y.jsx("option",{value:ot,children:ot},ot))})]}),y.jsxs("div",{style:{display:"flex",gap:10},children:[y.jsx("input",{style:{...ue.input,flex:2},placeholder:" ",value:tt.name,onChange:ot=>et({...tt,name:ot.target.value})}),y.jsx("input",{style:{...ue.input,flex:1},placeholder:"",value:tt.age,onChange:ot=>et({...tt,age:ot.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[y.jsx("input",{style:ue.input,placeholder:" (cm)",value:tt.height,onChange:ot=>et({...tt,height:ot.target.value})}),y.jsx("input",{style:ue.input,placeholder:" (kg)",value:tt.weight,onChange:ot=>et({...tt,weight:ot.target.value})}),y.jsx("input",{style:ue.input,placeholder:" ()",value:tt.bust,onChange:ot=>et({...tt,bust:ot.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"image/*",onChange:ot=>re(ot,"image",Rt=>et({...tt,img:Rt}))}),tt.img&&y.jsx("img",{src:tt.img,style:ue.previewImg,alt:"p"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"video/*",onChange:ot=>re(ot,"video",Rt=>et({...tt,video:Rt}))}),tt.video&&y.jsx("video",{src:tt.video,style:ue.previewImg,controls:!0})]})]}),y.jsx("button",{onClick:Ei,style:ue.actionBtn,children:pt?" ":" "})]}),y.jsx("div",{style:ue.list,children:P.map(ot=>y.jsxs("div",{style:ue.listItem,children:[y.jsxs("span",{children:["[",ot.loc,"] ",ot.name," (",ot.age?ot.age+"":"",")"]}),y.jsxs("div",{children:[y.jsx("button",{onClick:()=>Si(ot),style:ue.editBtn,children:""}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const Rt=P.filter(At=>At.id!==ot.id);F(Rt),await V({members:Rt})}},style:ue.delBtn,children:""})]})]},ot.id))})]})}),Wt&&y.jsx("div",{style:ue.overlay,children:y.jsxs("div",{id:"video-modal-scroll",style:{...ue.container,border:"2px solid #2196F3"},children:[y.jsxs("div",{style:ue.header,children:[y.jsx("h2",{style:{color:"#2196F3"},children:zn?"  ":"  "}),y.jsx("button",{onClick:()=>{vn(!1),Un(null),mt(""),bn("")},style:ue.closeBtn,children:""})]}),y.jsxs("div",{style:ue.formBox,children:[y.jsx("select",{value:rt,onChange:ot=>dt(ot.target.value),style:ue.select,children:wt.map(ot=>y.jsx("option",{value:ot,children:ot},ot))}),y.jsx("input",{style:{...ue.input,marginTop:10},placeholder:" ",value:gt,onChange:ot=>mt(ot.target.value)}),y.jsx("input",{type:"file",accept:"video/*",onChange:ot=>re(ot,"video",Rt=>bn(Rt))}),_n&&y.jsx("video",{src:_n,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),y.jsx("button",{onClick:vs,style:{...ue.actionBtn,background:"#2196F3"},children:" "})]}),y.jsx("div",{style:ue.list,children:U.map(ot=>y.jsxs("div",{style:ue.listItem,children:[y.jsx("video",{src:ot.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),y.jsx("div",{style:{flex:1,marginLeft:10},children:y.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:ot.description})}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const Rt=U.filter(At=>At.id!==ot.id);K(Rt),await V({videos:Rt})}},style:ue.delBtn,children:""})]},ot.id))})]})})]})}const Nt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ue={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"15px",marginTop:"20px"},adminItemCard:{padding:"20px 5px",borderRadius:"12px",textAlign:"center",cursor:"pointer",transition:"0.2s"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:10,borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center"}},Do={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},eN=(n,t)=>{const[i,r]=z.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[o,u]=z.useState(0),[c,d]=z.useState({}),[m,g]=z.useState([]),[v,b]=z.useState([]),[S,j]=z.useState([]),[N,P]=z.useState([]),[F,Y]=z.useState([]),[k,U]=z.useState([]),[K,$]=z.useState(""),[J,C]=z.useState(""),A=z.useMemo(()=>{const et=Date.now();return n.filter(pt=>pt.lastActive&&et-pt.lastActive<6e4)},[n]),R=async et=>{const pt=JSON.parse(JSON.stringify(et));await kh(Pe(te,"settings","global"),{users:pt},{merge:!0})};return z.useEffect(()=>{const et=ks(Zn(te,"event_manipulation"),gt=>{const mt={};gt.forEach(St=>mt[St.id]=St.data().items),d(mt)}),pt=ks(Ra(Zn(te,"event_bets"),Ch("round","desc"),wb(100)),gt=>{const mt=[];gt.forEach(St=>mt.push({id:St.id,...St.data()})),mt.length>0&&b(mt)}),it=ks(Ra(Zn(te,"deposit_requests"),Ch("timestamp","desc")),gt=>{const mt=[];gt.forEach(St=>mt.push({id:St.id,...St.data()})),j(mt)}),D=ks(Ra(Zn(te,"withdraw_requests"),Ch("timestamp","desc")),gt=>{const mt=[];gt.forEach(St=>mt.push({id:St.id,...St.data()})),P(mt)}),G=ks(Ra(Zn(te,"finance_history"),Ch("completedAt","desc"),wb(50)),gt=>{const mt=[];gt.forEach(St=>mt.push({id:St.id,...St.data()})),Y(mt)});U(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const rt=JSON.parse(localStorage.getItem("event_total_history")||"[]");g(rt.sort((gt,mt)=>mt.round-gt.round));const dt=setInterval(()=>{const mt=Date.now()-Do.START_TIME,St=Do.BASE_ROUND+Math.floor(mt/(Do.ROUND_DURATION*1e3)),Jt=Do.ROUND_DURATION*1e3-mt%(Do.ROUND_DURATION*1e3);let Wt=Math.floor(Jt/1e3);Wt>=Do.ROUND_DURATION&&(Wt=0),r({currentRound:St,timeLeft:Wt,isDrawing:Wt<=5}),u(vn=>vn===0?St+1:vn)},1e3);return()=>{et(),pt(),it(),D(),G(),clearInterval(dt)}},[]),{currentInfo:i,targetRound:o,setTargetRound:u,queue:c,deleteQueue:async et=>{try{await tm(Pe(te,"event_manipulation",String(et)));const pt={...c};delete pt[et],d(pt)}catch{alert(" ")}},gameHistory:m,sponsorships:v,activeUsers:A,depositRequests:S,withdrawRequests:N,financeHistory:F,approveDeposit:async et=>{if(window.confirm(`${et.userId} ${et.amount.toLocaleString()} DIA  ?`))try{const pt=Pe(te,"settings","global"),it=await wr(pt),D=it.exists()?it.data().users||[]:[],G=D.find(mt=>mt.id===et.userId),dt=(G&&G.diamond||0)+et.amount,gt=D.map(mt=>mt.id===et.userId?{...mt,diamond:dt}:mt);t(gt),await R(gt);try{await Cr(Pe(te,"users",et.userId),{diamond:dt})}catch{}await Vu(Zn(te,"finance_history"),{...et,type:"",status:"",completedAt:new Date().toISOString()}),await tm(Pe(te,"deposit_requests",et.id)),alert("  !")}catch(pt){alert(" : "+pt.message)}},approveWithdraw:async et=>{if(window.confirm(`${et.userId}  () ?`))try{const pt=Pe(te,"settings","global"),it=await wr(pt),D=it.exists()?it.data().users||[]:[],G=D.find(mt=>mt.id===et.userId),rt=G&&G.diamond||0;if(rt<et.amount&&!window.confirm(`[]  (${rt}) (${et.amount}) . ?`))return;const dt=rt-et.amount,gt=D.map(mt=>mt.id===et.userId?{...mt,diamond:dt}:mt);t(gt),await R(gt);try{await Cr(Pe(te,"users",et.userId),{diamond:dt})}catch{}await Vu(Zn(te,"finance_history"),{...et,type:"",status:"",completedAt:new Date().toISOString()}),await tm(Pe(te,"withdraw_requests",et.id)),alert("    !")}catch(pt){alert(" : "+pt.message)}},agents:k,newAgentName:K,setNewAgentName:$,newAgentCode:J,setNewAgentCode:C,addAgent:()=>{if(!K)return;const et=[...k,{name:K,code:J,id:Date.now()}];U(et),localStorage.setItem("daisy_agents",JSON.stringify(et)),$(""),C("")},handleApplyManipulation:async et=>{if(et.length!==2)return alert(" 2  ");try{return await kh(Pe(te,"event_manipulation",String(o)),{items:et,updatedAt:new Date().toISOString()}),d({...c,[o]:et}),alert(`[${o}]  `),!0}catch{return alert(""),!1}},updateFullUserInfo:async(et,pt,it,D)=>{const G=parseInt(pt);if(isNaN(G))return alert(" .");try{const rt=n.map(dt=>dt.id===et?{...dt,diamond:G,refCode:it||"",referral:D||""}:dt);t(rt),localStorage.setItem("users",JSON.stringify(rt)),await R(rt);try{await Cr(Pe(te,"users",et),{diamond:G,refCode:it||"",referral:D||""})}catch{}alert(`[${et}]   `)}catch(rt){alert(" : "+rt.message)}},handleChangeUserPassword:async et=>{const pt=window.prompt(`[${et}]   :`);if(pt)try{const it=n.map(D=>D.id===et?{...D,password:pt}:D);t(it),localStorage.setItem("users",JSON.stringify(it)),await R(it);try{await Cr(Pe(te,"users",et),{password:pt})}catch{}alert("  ")}catch{alert(" ")}},handleChangeAdminPassword:async()=>{const et=window.prompt(" ' (game)'   :");if(et)try{await kh(Pe(te,"settings","global"),{gamePw:et},{merge:!0}),localStorage.setItem("daisy_game_password",et),alert(`     ! 
: ${et}`)}catch(pt){alert(" : "+pt.message)}}}},nN=({depositRequests:n,withdrawRequests:t,approveDeposit:i,approveWithdraw:r})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),y.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>i(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),y.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),iN=({financeHistory:n})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),y.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),y.jsx("td",{children:y.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),y.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),y.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),sN=({currentInfo:n,targetRound:t,setTargetRound:i,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,d]=z.useState([]);return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"   "}),y.jsxs("div",{style:xt.monitorBox,children:[y.jsxs("div",{children:[": ",y.jsxs("b",{children:[n.currentRound,""]})]}),y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]})]}),y.jsxs("div",{style:{marginTop:30},children:[y.jsx("input",{type:"number",placeholder:"",value:t,onChange:m=>i(parseInt(m.target.value)),style:xt.adminInput}),y.jsx("div",{style:xt.adminItemGrid,children:Bs.map(m=>y.jsxs("div",{onClick:()=>{const g=c.includes(m.name);d(g?c.filter(v=>v!==m.name):[...c,m.name].slice(0,2))},style:{...xt.adminItemCard,border:c.includes(m.name)?`3px solid ${m.color}`:"3px solid #333",background:c.includes(m.name)?`${m.color}33`:"#1a1a1a"},children:[y.jsx("span",{style:{fontSize:28},children:m.icon}),y.jsx("br",{}),y.jsx("b",{children:m.name})]},m.name))}),y.jsx("button",{onClick:()=>{u(c).then(m=>m&&d([]))},style:xt.applyBtn,children:"  "})]}),y.jsx("div",{style:{marginTop:20},children:Object.entries(r).map(([m,g])=>y.jsxs("div",{style:xt.queueRow,children:[y.jsxs("b",{children:[m,""]}),": ",g.join(", ")," ",y.jsx("button",{onClick:()=>o(m),style:xt.delBtn,children:"X"})]},m))})]})},rN=({users:n,updateFullUserInfo:t,handleChangeUserPassword:i})=>{const[r,o]=z.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("span",{style:{fontSize:24},children:""}),y.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:u.map(c=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?y.jsx("span",{style:{color:"#0f0"},children:""}):y.jsx("span",{style:{color:"#444"},children:""})}),y.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),y.jsxs("td",{style:{color:"#ffb347"},children:[" ",c.diamond?.toLocaleString()]}),y.jsx("td",{children:y.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),y.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[y.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),y.jsx("button",{onClick:()=>i(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},aN=({agents:n,users:t,newAgentName:i,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:d})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("input",{placeholder:"",value:i,onChange:m=>r(m.target.value),style:xt.giantInput}),y.jsx("input",{placeholder:"",value:o,onChange:m=>u(m.target.value),style:xt.giantInput}),y.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(m=>{const g=t.filter(v=>v.referral===m.code);return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347",fontSize:18},children:m.name}),y.jsx("td",{children:m.code}),y.jsx("td",{style:{color:"#00ff00"},children:g.length}),y.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:g.map(v=>v.id).join(", ")}),y.jsx("td",{children:y.jsx("button",{onClick:()=>{const v=n.filter(b=>b.id!==m.id);d(v),localStorage.setItem("daisy_agents",JSON.stringify(v))},style:xt.delBtn,children:""})})]},m.id)})})]})]}),oN=({users:n,updateFullUserInfo:t})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:" "}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(i=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:i.id}),y.jsx("td",{children:y.jsx("input",{id:`rc-${i.id}`,defaultValue:i.refCode||"",style:xt.giantInput})}),y.jsx("td",{children:y.jsx("input",{id:`rf-${i.id}`,defaultValue:i.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>t(i.id,i.diamond,document.getElementById(`rc-${i.id}`).value,document.getElementById(`rf-${i.id}`).value),style:xt.giantBtn,children:""})})]},i.id))})]})]}),lN=({gameHistory:n})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),y.jsx("td",{children:t.winItems?.join(" / ")})]},t.round))})]})]}),uN=({sponsorships:n})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:" () "}),y.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map((t,i)=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347"},children:t.round}),y.jsx("td",{children:y.jsx("b",{children:t.userId})}),y.jsx("td",{style:{color:"#0f0"},children:t.betAmount?.toLocaleString()}),y.jsx("td",{children:t.win===!0?"":t.win===!1?"":""})]},i))})]})})]});function cN({users:n,setUsers:t,onExit:i}){const[r,o]=z.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:d,queue:m,deleteQueue:g,gameHistory:v,sponsorships:b,activeUsers:S,depositRequests:j,withdrawRequests:N,financeHistory:P,approveDeposit:F,approveWithdraw:Y,agents:k,setAgents:U,newAgentName:K,setNewAgentName:$,newAgentCode:J,setNewAgentCode:C,addAgent:A,handleApplyManipulation:R,updateFullUserInfo:V,handleChangeUserPassword:M,handleChangeAdminPassword:L}=eN(n,t);return y.jsxs("div",{style:xt.container,children:[y.jsxs("aside",{style:xt.sidebar,children:[y.jsx("h2",{style:xt.title,children:"MASTER PANEL"}),y.jsxs("div",{style:xt.onlineBadge,children:[y.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),y.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",S.length,""]})]}),y.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",y.jsx("span",{style:xt.countTag,children:j.length+N.length})]}),y.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),y.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:y.jsx("button",{onClick:L,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),y.jsx("button",{onClick:i,style:xt.exitBtn,children:" "})]}),y.jsxs("main",{style:xt.main,children:[r==="requests"&&y.jsx(nN,{depositRequests:j,withdrawRequests:N,approveDeposit:F,approveWithdraw:Y}),r==="finance"&&y.jsx(iN,{financeHistory:P}),r==="event"&&y.jsx(sN,{currentInfo:u,targetRound:c,setTargetRound:d,queue:m,deleteQueue:g,handleApplyManipulation:R}),r==="users"&&y.jsx(rN,{users:n,updateFullUserInfo:V,handleChangeUserPassword:M}),r==="referrals"&&y.jsx(oN,{users:n,updateFullUserInfo:V}),r==="agents"&&y.jsx(aN,{agents:k,setAgents:U,users:n,newAgentName:K,setNewAgentName:$,newAgentCode:J,setNewAgentCode:C,addAgent:A}),r==="history"&&y.jsx(lN,{gameHistory:v}),r==="sponsorships"&&y.jsx(uN,{sponsorships:b})]})]})}const hN=new BroadcastChannel("daisy_global_channel"),tT=[""," "," ","","","","","","",""],eT=["","","","",""],rn=(n,t)=>{try{const i=localStorage.getItem(n);if(!i)return t;const r=JSON.parse(i);return r===null?t:r}catch{return t}},an=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(i){i.name==="QuotaExceededError"&&alert("Storage quota exceeded! Please reduce image sizes.")}},nT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:""},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE"}};function fN(){const[n,t]=z.useState(()=>rn("lang","ko")),[i,r]=z.useState(()=>rn("loggedIn",!1)),[o,u]=z.useState(()=>rn("isAdmin",!1)),[c,d]=z.useState(()=>rn("isGuest",!1)),[m,g]=z.useState(()=>rn("users",[])),[v,b]=z.useState(()=>rn("currentUser",null)),[S,j]=z.useState(null),[N,P]=z.useState(0),[F,Y]=z.useState(!1),[k,U]=z.useState(()=>rn("adminPw","123456")),[K,$]=z.useState(()=>rn("gamePw","1234")),[J,C]=z.useState(()=>rn("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[A,R]=z.useState(!0),[V,M]=z.useState(!1),[L,I]=z.useState(()=>rn("members",[])),[bt,wt]=z.useState(()=>rn("slideImages",[])),[H,tt]=z.useState(()=>rn("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[et,pt]=z.useState(()=>rn("videoURL",null)),[it,D]=z.useState(()=>rn("videos",[])),[G,rt]=z.useState(()=>rn("logo",null)),[dt,gt]=z.useState(()=>rn("logoSize",140)),[mt,St]=z.useState(()=>rn("logoPos",{x:0,y:0})),[Jt,Wt]=z.useState(()=>rn("innerLogo",null)),[vn,zn]=z.useState("dashboard"),Un=z.useMemo(()=>nT[n]||nT.ko,[n]);z.useEffect(()=>{const ot=ks(Pe(te,"settings","global"),Rt=>{if(Rt.exists()){const At=Rt.data();At.hero&&tt(At.hero),At.videoURL!==void 0&&pt(At.videoURL),At.logo!==void 0&&rt(At.logo),At.logoSize&&gt(At.logoSize),At.logoPos&&St(At.logoPos),At.members&&I(At.members),At.slideImages&&wt(At.slideImages),At.videos&&D(At.videos),At.innerLogo!==void 0&&Wt(At.innerLogo),At.adminPassword?U(At.adminPassword):At.adminPw&&U(At.adminPw),At.gamePw&&$(At.gamePw),At.telegramLink&&C(At.telegramLink),At.users&&g(At.users)}});return()=>ot()},[]);const _n=async ot=>{try{const Rt={hero:H,videoURL:et,logo:G,logoSize:dt,logoPos:mt,members:L,slideImages:bt,videos:it,innerLogo:Jt,adminPw:k,gamePw:K,telegramLink:J,users:m,...ot};return await kh(Pe(te,"settings","global"),Rt),console.log(" Server Sync Complete"),!0}catch(Rt){return console.error(" Sync Failed:",Rt),!1}},bn=async()=>await _n({}),ni=z.useCallback((ot,Rt,At,ee)=>{g(ae=>ae.map(ne=>ne.id===ot?{...ne,diamond:Rt,refCode:At,referral:ee}:ne)),b(ae=>ae?.id===ot?{...ae,diamond:Rt,refCode:At,referral:ee}:ae)},[]);z.useEffect(()=>{hN.onmessage=Rt=>{const{type:At,userId:ee,point:ae,refCode:ne,referral:ii}=Rt.data||{};(At==="USER_UPDATE"||At==="POINT_UPDATE")&&ee&&ni(ee,ae,ne,ii)};const ot=Rt=>{const{userId:At,point:ee,refCode:ae,referral:ne}=Rt.detail||{};At&&ni(At,ee,ae,ne)};return window.addEventListener("user_point_update",ot),()=>window.removeEventListener("user_point_update",ot)},[ni]),z.useEffect(()=>{an("lang",n),an("loggedIn",i),an("isAdmin",o),an("isGuest",c),an("users",m),an("currentUser",v),an("members",L),an("hero",H),an("logo",G),an("logoSize",dt),an("logoPos",mt),an("slideImages",bt),an("videoURL",et),an("videos",it),an("innerLogo",Jt),an("adminPw",k),an("gamePw",K),an("telegramLink",J)},[n,i,o,c,m,v,H,G,dt,mt,L,bt,et,it,Jt,k,K,J]);const Si=async(ot,Rt)=>{let At=k,ee=K;try{const ne=await wr(Pe(te,"settings","global"));if(ne.exists()){const ii=ne.data();ii.adminPw&&(At=ii.adminPw),ii.gamePw&&(ee=ii.gamePw),U(At),$(ee)}}catch{console.error("   ")}if(ot==="game")if(Rt===ee){Y(!0),r(!0);return}else return alert("   .");if(ot==="admin")if(Rt===At){u(!0),r(!0),b({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),zn("dashboard");return}else return alert("   .");const ae=m.find(ne=>ne.id===ot&&ne.pw===Rt);if(!ae)return alert(n==="ko"?"  .":"Login Failed");b({...ae}),r(!0),d(!1)},Ei=()=>{r(!1),u(!1),d(!1),Y(!1),b(null)},vs=(ot,Rt)=>{j(ot),P(Rt)};if(F)return y.jsx(cN,{users:m,setUsers:g,onExit:Ei});const re=i&&v,be=!re||o&&vn==="landing";return y.jsxs("div",{style:{...Ea.app,height:"100vh",overflow:"hidden"},children:[A&&!o&&re&&!be&&y.jsx("div",{style:Ea.popupOverlay,children:y.jsxs("div",{style:Ea.popupContent,children:[y.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),y.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),y.jsx("button",{onClick:()=>R(!1),style:Ea.popupBtn,children:Un.close})]})}),be?y.jsx("div",{style:{height:"100%",overflowY:"auto"},children:y.jsx(tM,{t:Un,lang:n,users:m,setUsers:g,hero:H,videoURL:et,logo:G,logoSize:dt,logoPos:mt,styles:Ea,isAdmin:o,setLang:t,onLogin:Si,onGuestLogin:()=>{b({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),d(!0)},syncToFirebase:_n})}):y.jsx($O,{user:v,onUpdatePoint:ot=>ni(v.id,ot,v.refCode,v.referral),appAvatarImage:S,appAvatarIdx:N,onAvatarChange:vs,t:Un,lang:n,isGuest:c,members:L,regions:tT,slideImages:bt,videos:it,videoCategories:eT,innerLogo:Jt,telegramLink:J,onLogout:Ei,dashStyles:dN}),o&&y.jsx(tN,{adminPreviewMode:vn,setAdminPreviewMode:zn,hero:H,setHero:tt,setVideoURL:pt,videoURL:et,logo:G,setLogo:rt,logoSize:dt,setLogoSize:gt,logoPos:mt,setLogoPos:St,members:L,setMembers:I,regions:tT,slideImages:bt,setSlideImages:wt,videos:it,setVideos:D,videoCategories:eT,innerLogo:Jt,setInnerLogo:Wt,onExit:Ei,styles:Ea,adminPw:k,setAdminPw:U,telegramLink:J,setTelegramLink:C,openIndependent:()=>Y(!0),saveToFirebase:bn,syncToFirebase:_n}),!o&&be&&y.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:y.jsx("button",{style:Ea.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Ea={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},dN={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};L2.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(fN,{})}));

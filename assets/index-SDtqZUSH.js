(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Up={exports:{}},au={};var cx;function P2(){if(cx)return au;cx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return au.Fragment=t,au.jsx=e,au.jsxs=e,au}var fx;function k2(){return fx||(fx=1,Up.exports=P2()),Up.exports}var y=k2(),Fp={exports:{}},Lt={};var dx;function L2(){if(dx)return Lt;dx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),_=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function V(P,Q,rt){this.props=P,this.context=Q,this.refs=M,this.updater=rt||E}V.prototype.isReactComponent={},V.prototype.setState=function(P,Q){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Q,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=V.prototype;function k(P,Q,rt){this.props=P,this.context=Q,this.refs=M,this.updater=rt||E}var G=k.prototype=new O;G.constructor=k,C(G,V.prototype),G.isPureReactComponent=!0;var et=Array.isArray;function J(){}var j={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(P,Q,rt){var pt=rt.ref;return{$$typeof:i,type:P,key:Q,ref:pt!==void 0?pt:null,props:rt}}function L(P,Q){return I(P.type,Q,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function U(P){var Q={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(rt){return Q[rt]})}var N=/\/+/g;function wt(P,Q){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):Q.toString(36)}function zt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(J,J):(P.status="pending",P.then(function(Q){P.status==="pending"&&(P.status="fulfilled",P.value=Q)},function(Q){P.status==="pending"&&(P.status="rejected",P.reason=Q)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,Q,rt,pt,gt){var mt=typeof P;(mt==="undefined"||mt==="boolean")&&(P=null);var vt=!1;if(P===null)vt=!0;else switch(mt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(P.$$typeof){case i:case t:vt=!0;break;case x:return vt=P._init,K(vt(P._payload),Q,rt,pt,gt)}}if(vt)return gt=gt(P),vt=pt===""?"."+wt(P,0):pt,et(gt)?(rt="",vt!=null&&(rt=vt.replace(N,"$&/")+"/"),K(gt,Q,rt,"",function(fe){return fe})):gt!=null&&(B(gt)&&(gt=L(gt,rt+(gt.key==null||P&&P.key===gt.key?"":(""+gt.key).replace(N,"$&/")+"/")+vt)),Q.push(gt)),1;vt=0;var jt=pt===""?".":pt+":";if(et(P))for(var qt=0;qt<P.length;qt++)pt=P[qt],mt=jt+wt(pt,qt),vt+=K(pt,Q,rt,mt,gt);else if(qt=S(P),typeof qt=="function")for(P=qt.call(P),qt=0;!(pt=P.next()).done;)pt=pt.value,mt=jt+wt(pt,qt++),vt+=K(pt,Q,rt,mt,gt);else if(mt==="object"){if(typeof P.then=="function")return K(zt(P),Q,rt,pt,gt);throw Q=String(P),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(P,Q,rt){if(P==null)return P;var pt=[],gt=0;return K(P,pt,"","",function(mt){return Q.call(rt,mt,gt++)}),pt}function nt(P){if(P._status===-1){var Q=P._result;Q=Q(),Q.then(function(rt){(P._status===0||P._status===-1)&&(P._status=1,P._result=rt)},function(rt){(P._status===0||P._status===-1)&&(P._status=2,P._result=rt)}),P._status===-1&&(P._status=0,P._result=Q)}if(P._status===1)return P._result.default;throw P._result}var W=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ht={map:H,forEach:function(P,Q,rt){H(P,function(){Q.apply(this,arguments)},rt)},count:function(P){var Q=0;return H(P,function(){Q++}),Q},toArray:function(P){return H(P,function(Q){return Q})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Lt.Activity=f,Lt.Children=ht,Lt.Component=V,Lt.Fragment=e,Lt.Profiler=o,Lt.PureComponent=k,Lt.StrictMode=r,Lt.Suspense=g,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return j.H.useMemoCache(P)}},Lt.cache=function(P){return function(){return P.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(P,Q,rt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var pt=C({},P.props),gt=P.key;if(Q!=null)for(mt in Q.key!==void 0&&(gt=""+Q.key),Q)!R.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(pt[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)pt.children=rt;else if(1<mt){for(var vt=Array(mt),jt=0;jt<mt;jt++)vt[jt]=arguments[jt+2];pt.children=vt}return I(P.type,gt,pt)},Lt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Lt.createElement=function(P,Q,rt){var pt,gt={},mt=null;if(Q!=null)for(pt in Q.key!==void 0&&(mt=""+Q.key),Q)R.call(Q,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(gt[pt]=Q[pt]);var vt=arguments.length-2;if(vt===1)gt.children=rt;else if(1<vt){for(var jt=Array(vt),qt=0;qt<vt;qt++)jt[qt]=arguments[qt+2];gt.children=jt}if(P&&P.defaultProps)for(pt in vt=P.defaultProps,vt)gt[pt]===void 0&&(gt[pt]=vt[pt]);return I(P,mt,gt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(P){return{$$typeof:p,render:P}},Lt.isValidElement=B,Lt.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:nt}},Lt.memo=function(P,Q){return{$$typeof:v,type:P,compare:Q===void 0?null:Q}},Lt.startTransition=function(P){var Q=j.T,rt={};j.T=rt;try{var pt=P(),gt=j.S;gt!==null&&gt(rt,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(J,W)}catch(mt){W(mt)}finally{Q!==null&&rt.types!==null&&(Q.types=rt.types),j.T=Q}},Lt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Lt.use=function(P){return j.H.use(P)},Lt.useActionState=function(P,Q,rt){return j.H.useActionState(P,Q,rt)},Lt.useCallback=function(P,Q){return j.H.useCallback(P,Q)},Lt.useContext=function(P){return j.H.useContext(P)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(P,Q){return j.H.useDeferredValue(P,Q)},Lt.useEffect=function(P,Q){return j.H.useEffect(P,Q)},Lt.useEffectEvent=function(P){return j.H.useEffectEvent(P)},Lt.useId=function(){return j.H.useId()},Lt.useImperativeHandle=function(P,Q,rt){return j.H.useImperativeHandle(P,Q,rt)},Lt.useInsertionEffect=function(P,Q){return j.H.useInsertionEffect(P,Q)},Lt.useLayoutEffect=function(P,Q){return j.H.useLayoutEffect(P,Q)},Lt.useMemo=function(P,Q){return j.H.useMemo(P,Q)},Lt.useOptimistic=function(P,Q){return j.H.useOptimistic(P,Q)},Lt.useReducer=function(P,Q,rt){return j.H.useReducer(P,Q,rt)},Lt.useRef=function(P){return j.H.useRef(P)},Lt.useState=function(P){return j.H.useState(P)},Lt.useSyncExternalStore=function(P,Q,rt){return j.H.useSyncExternalStore(P,Q,rt)},Lt.useTransition=function(){return j.H.useTransition()},Lt.version="19.2.3",Lt}var hx;function vg(){return hx||(hx=1,Fp.exports=L2()),Fp.exports}var q=vg(),Hp={exports:{}},ou={},qp={exports:{}},Gp={};var px;function B2(){return px||(px=1,(function(i){function t(K,H){var nt=K.length;K.push(H);t:for(;0<nt;){var W=nt-1>>>1,ht=K[W];if(0<o(ht,H))K[W]=H,K[nt]=ht,nt=W;else break t}}function e(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var H=K[0],nt=K.pop();if(nt!==H){K[0]=nt;t:for(var W=0,ht=K.length,P=ht>>>1;W<P;){var Q=2*(W+1)-1,rt=K[Q],pt=Q+1,gt=K[pt];if(0>o(rt,nt))pt<ht&&0>o(gt,rt)?(K[W]=gt,K[pt]=nt,W=pt):(K[W]=rt,K[Q]=nt,W=Q);else if(pt<ht&&0>o(gt,nt))K[W]=gt,K[pt]=nt,W=pt;else break t}}return H}function o(K,H){var nt=K.sortIndex-H.sortIndex;return nt!==0?nt:K.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();i.unstable_now=function(){return c.now()-p}}var g=[],v=[],x=1,f=null,_=3,S=!1,E=!1,C=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(K){for(var H=e(v);H!==null;){if(H.callback===null)r(v);else if(H.startTime<=K)r(v),H.sortIndex=H.expirationTime,t(g,H);else break;H=e(v)}}function et(K){if(C=!1,G(K),!E)if(e(g)!==null)E=!0,J||(J=!0,U());else{var H=e(v);H!==null&&zt(et,H.startTime-K)}}var J=!1,j=-1,R=5,I=-1;function L(){return M?!0:!(i.unstable_now()-I<R)}function B(){if(M=!1,J){var K=i.unstable_now();I=K;var H=!0;try{t:{E=!1,C&&(C=!1,O(j),j=-1),S=!0;var nt=_;try{e:{for(G(K),f=e(g);f!==null&&!(f.expirationTime>K&&L());){var W=f.callback;if(typeof W=="function"){f.callback=null,_=f.priorityLevel;var ht=W(f.expirationTime<=K);if(K=i.unstable_now(),typeof ht=="function"){f.callback=ht,G(K),H=!0;break e}f===e(g)&&r(g),G(K)}else r(g);f=e(g)}if(f!==null)H=!0;else{var P=e(v);P!==null&&zt(et,P.startTime-K),H=!1}}break t}finally{f=null,_=nt,S=!1}H=void 0}}finally{H?U():J=!1}}}var U;if(typeof k=="function")U=function(){k(B)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,wt=N.port2;N.port1.onmessage=B,U=function(){wt.postMessage(null)}}else U=function(){V(B,0)};function zt(K,H){j=V(function(){K(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(K){switch(_){case 1:case 2:case 3:var H=3;break;default:H=_}var nt=_;_=H;try{return K()}finally{_=nt}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(K,H){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var nt=_;_=K;try{return H()}finally{_=nt}},i.unstable_scheduleCallback=function(K,H,nt){var W=i.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?W+nt:W):nt=W,K){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=nt+ht,K={id:x++,callback:H,priorityLevel:K,startTime:nt,expirationTime:ht,sortIndex:-1},nt>W?(K.sortIndex=nt,t(v,K),e(g)===null&&K===e(v)&&(C?(O(j),j=-1):C=!0,zt(et,nt-W))):(K.sortIndex=ht,t(g,K),E||S||(E=!0,J||(J=!0,U()))),K},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(K){var H=_;return function(){var nt=_;_=H;try{return K.apply(this,arguments)}finally{_=nt}}}})(Gp)),Gp}var mx;function z2(){return mx||(mx=1,qp.exports=B2()),qp.exports}var Yp={exports:{}},Tn={};var gx;function U2(){if(gx)return Tn;gx=1;var i=vg();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,x){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:g,containerInfo:v,implementation:x}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(g,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(g,v,null,x)},Tn.flushSync=function(g){var v=c.T,x=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=v,r.p=x,r.d.f()}},Tn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},Tn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Tn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var x=v.as,f=p(x,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:f,integrity:_,fetchPriority:S}):x==="script"&&r.d.X(g,{crossOrigin:f,integrity:_,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Tn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},Tn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,f=p(x,v.crossOrigin);r.d.L(g,x,{crossOrigin:f,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Tn.preloadModule=function(g,v){if(typeof g=="string")if(v){var x=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},Tn.requestFormReset=function(g){r.d.r(g)},Tn.unstable_batchedUpdates=function(g,v){return g(v)},Tn.useFormState=function(g,v,x){return c.H.useFormState(g,v,x)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var yx;function F2(){if(yx)return Yp.exports;yx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Yp.exports=U2(),Yp.exports}var vx;function H2(){if(vx)return ou;vx=1;var i=z2(),t=vg(),e=F2();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(r(188))}function v(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),n;if(m===l)return g(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var T=!1,w=h.child;w;){if(w===a){T=!0,a=h,l=m;break}if(w===l){T=!0,l=h,a=m;break}w=w.sibling}if(!T){for(w=m.child;w;){if(w===a){T=!0,a=m,l=h;break}if(w===l){T=!0,l=m,a=h;break}w=w.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function x(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=x(n),s!==null)return s;n=n.sibling}return null}var f=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function wt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case V:return"Profiler";case M:return"StrictMode";case et:return"Suspense";case J:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case k:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return s=n.displayName||null,s!==null?s:wt(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return wt(n(s))}catch{}}return null}var zt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},W=[],ht=-1;function P(n){return{current:n}}function Q(n){0>ht||(n.current=W[ht],W[ht]=null,ht--)}function rt(n,s){ht++,W[ht]=n.current,n.current=s}var pt=P(null),gt=P(null),mt=P(null),vt=P(null);function jt(n,s){switch(rt(mt,s),rt(gt,n),rt(pt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?M_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=M_(s),n=O_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(pt),rt(pt,n)}function qt(){Q(pt),Q(gt),Q(mt)}function fe(n){n.memoizedState!==null&&rt(vt,n);var s=pt.current,a=O_(s,n.type);s!==a&&(rt(gt,n),rt(pt,a))}function be(n){gt.current===n&&(Q(pt),Q(gt)),vt.current===n&&(Q(vt),eu._currentValue=nt)}var Hn,xn;function bn(n){if(Hn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Hn=s&&s[1]||"",xn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+n+xn}var ii=!1;function Ai(n,s){if(!n||ii)return"";ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(st){var tt=st}Reflect.construct(n,[],ft)}else{try{ft.call()}catch(st){tt=st}n.call(ft.prototype)}}else{try{throw Error()}catch(st){tt=st}(ft=n())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(st){if(st&&tt&&typeof st.stack=="string")return[st.stack,tt.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],w=m[1];if(T&&w){var z=T.split(`
`),Z=w.split(`
`);for(h=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===z.length||h===Z.length)for(l=z.length-1,h=Z.length-1;1<=l&&0<=h&&z[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(z[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||z[l]!==Z[h]){var at=`
`+z[l].replace(" at new "," at ");return n.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",n.displayName)),at}while(1<=l&&0<=h);break}}}finally{ii=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?bn(a):""}function Ei(n,s){switch(n.tag){case 26:case 27:case 5:return bn(n.type);case 16:return bn("Lazy");case 13:return n.child!==s&&s!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Ai(n.type,!1);case 11:return Ai(n.type.render,!1);case 1:return Ai(n.type,!0);case 31:return bn("Activity");default:return""}}function _s(n){try{var s="",a=null;do s+=Ei(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,Te=i.unstable_scheduleCallback,ot=i.unstable_cancelCallback,Et=i.unstable_shouldYield,St=i.unstable_requestPaint,te=i.unstable_now,ae=i.unstable_getCurrentPriorityLevel,ee=i.unstable_ImmediatePriority,si=i.unstable_UserBlockingPriority,Ys=i.unstable_NormalPriority,qd=i.unstable_LowPriority,Ku=i.unstable_IdlePriority,Xu=i.log,$u=i.unstable_setDisableYieldValue,wi=null,cn=null;function ri(n){if(typeof Xu=="function"&&$u(n),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(wi,n)}catch{}}var Ne=Math.clz32?Math.clz32:Ju,Zu=Math.log,za=Math.LN2;function Ju(n){return n>>>=0,n===0?32:31-(Zu(n)/za|0)|0}var Fi=256,Qr=262144,ze=4194304;function Hi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?h=Hi(l):(T&=w,T!==0?h=Hi(T):a||(a=w&~n,a!==0&&(h=Hi(a))))):(w=l&~m,w!==0?h=Hi(w):T!==0?h=Hi(T):a||(a=l&~n,a!==0&&(h=Hi(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Ci(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Gd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var n=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),n}function Gi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Wr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yd(n,s,a,l,h,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,z=n.expirationTimes,Z=n.hiddenUpdates;for(a=T&~a;0<a;){var at=31-Ne(a),ft=1<<at;w[at]=0,z[at]=-1;var tt=Z[at];if(tt!==null)for(Z[at]=null,at=0;at<tt.length;at++){var st=tt[at];st!==null&&(st.lane&=-536870913)}a&=~ft}l!==0&&Kr(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~s))}function Kr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Ne(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function al(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Ne(a),h=1<<l;h&s|n[l]&s&&(n[l]|=s),a&=~h}}function ol(n,s){var a=s&-s;return a=(a&42)!==0?1:Xr(a),(a&(n.suspendedLanes|s))!==0?0:a}function Xr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function xs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ec(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:ix(n.type))}function Ri(n,s){var a=H.p;try{return H.p=n,s()}finally{H.p=a}}var Ii=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ii,sn="__reactProps$"+Ii,Yi="__reactContainer$"+Ii,Ua="__reactEvents$"+Ii,Qd="__reactListeners$"+Ii,nc="__reactHandles$"+Ii,ic="__reactResources$"+Ii,Qi="__reactMarker$"+Ii;function Fa(n){delete n[Ue],delete n[sn],delete n[Ua],delete n[Qd],delete n[nc]}function Wi(n){var s=n[Ue];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yi]||a[Ue]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=U_(n);n!==null;){if(a=n[Ue])return a;n=U_(n)}return s}n=a,a=n.parentNode}return null}function ai(n){if(n=n[Ue]||n[Yi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function qn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ki(n){var s=n[ic];return s||(s=n[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Fe(n){n[Qi]=!0}var ll=new Set,ul={};function Xi(n,s){$i(n,s),$i(n+"Capture",s)}function $i(n,s){for(ul[n]=s,n=0;n<s.length;n++)ll.add(s[n])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function sc(n){return re.call(dl,n)?!0:re.call(fl,n)?!1:cl.test(n)?dl[n]=!0:(fl[n]=!0,!1)}function Ha(n,s,a){if(sc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Gn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function He(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function de(n){if(!n._valueTracker){var s=Qs(n)?"checked":"value";n._valueTracker=hl(n,s,""+n[s])}}function $r(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Qs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Zi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zr=/[\n"\\]/g;function Vn(n){return n.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qa(n,s,a,l,h,m,T,w){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+rn(s)):n.value!==""+rn(s)&&(n.value=""+rn(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?pl(n,T,rn(s)):a!=null?pl(n,T,rn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+rn(w):n.removeAttribute("name")}function rc(n,s,a,l,h,m,T,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){de(n);return}a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),de(n)}function pl(n,s,a){s==="number"&&Zi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ws(n,s,a,l){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function ac(n,s,a){if(s!=null&&(s=""+rn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+rn(a):""}function Ks(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(zt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),de(n)}function jn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||oc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function gl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&ml(n,h,l)}else for(var m in s)s.hasOwnProperty(m)&&ml(n,m,s[m])}function Ga(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(n){return Xs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Di(){}var yl=null;function oi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $s=null,Ji=null;function Jr(n){var s=ai(n);if(s&&(n=s.stateNode)){var a=n[sn]||null;t:switch(n=s.stateNode,s.type){case"input":if(qa(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var h=l[sn]||null;if(!h)throw Error(r(90));qa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&$r(l)}break t;case"textarea":ac(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ws(n,!!a.multiple,s,!1)}}}var Qa=!1;function Zs(n,s,a){if(Qa)return n(s,a);Qa=!0;try{var l=n(s);return l}finally{if(Qa=!1,($s!==null||Ji!==null)&&(ef(),$s&&(s=$s,n=Ji,Ji=$s=null,Jr(s),n)))for(s=0;s<n.length;s++)Jr(n[s])}}function Vi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[sn]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(li)try{var me={};Object.defineProperty(me,"passive",{get:function(){ta=!0}}),window.addEventListener("test",me,me),window.removeEventListener("test",me,me)}catch{ta=!1}var ts=null,vl=null,ea=null;function _l(){if(ea)return ea;var n,s=vl,a=s.length,l,h="value"in ts?ts.value:ts.textContent,m=h.length;for(n=0;n<a&&s[n]===h[n];n++);var T=a-n;for(l=1;l<=T&&s[a-l]===h[m-l];l++);return ea=h.slice(n,1<l?1-l:void 0)}function na(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function bs(){return!0}function ji(){return!1}function fn(n){function s(a,l,h,m,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?bs:ji,this.isPropagationStopped=ji,this}return f(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=fn(Ts),Js=f({},Ts,{view:0,detail:0}),xl=fn(Js),tr,Wa,ns,Ka=f({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ns&&(ns&&n.type==="mousemove"?(tr=n.screenX-ns.screenX,Wa=n.screenY-ns.screenY):Wa=tr=0,ns=n),tr)},movementY:function(n){return"movementY"in n?n.movementY:Wa}}),bl=fn(Ka),ia=f({},Ka,{dataTransfer:0}),uc=fn(ia),cc=f({},Js,{relatedTarget:0}),sa=fn(cc),Tl=f({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=fn(Tl),Xa=f({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=fn(Xa),hc=f({},Ts,{data:0}),is=fn(hc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=gc[n])?!!s[n]:!1}function er(){return yc}var Cn=f({},Js,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vc=fn(Cn),_c=f({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=fn(_c),d=f({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),b=fn(d),A=f({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=fn(A),X=f({},Ka,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),it=fn(X),yt=f({},Ts,{newState:0,oldState:0}),Ut=fn(yt),Pe=[9,13,27,32],oe=li&&"CompositionEvent"in window,we=null;li&&"documentMode"in document&&(we=document.documentMode);var ui=li&&"TextEvent"in window&&!we,ss=li&&(!oe||we&&8<we&&11>=we),Mi=" ",Oi=!1;function ra(n,s){switch(n){case"keyup":return Pe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function aw(n,s){switch(n){case"compositionend":return $a(s);case"keypress":return s.which!==32?null:(Oi=!0,Mi);case"textInput":return n=s.data,n===Mi&&Oi?null:n;default:return null}}function ow(n,s){if(Za)return n==="compositionend"||!oe&&ra(n,s)?(n=_l(),ea=vl=ts=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ss&&s.locale!=="ko"?null:s.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!lw[n.type]:s==="textarea"}function Gy(n,s,a,l){$s?Ji?Ji.push(l):Ji=[l]:$s=l,s=uf(s,"onChange"),0<s.length&&(a=new es("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Sl=null,Al=null;function uw(n){C_(n,0)}function xc(n){var s=qn(n);if($r(s))return n}function Yy(n,s){if(n==="change")return s}var Qy=!1;if(li){var Wd;if(li){var Kd="oninput"in document;if(!Kd){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),Kd=typeof Wy.oninput=="function"}Wd=Kd}else Wd=!1;Qy=Wd&&(!document.documentMode||9<document.documentMode)}function Ky(){Sl&&(Sl.detachEvent("onpropertychange",Xy),Al=Sl=null)}function Xy(n){if(n.propertyName==="value"&&xc(Al)){var s=[];Gy(s,Al,n,oi(n)),Zs(uw,s)}}function cw(n,s,a){n==="focusin"?(Ky(),Sl=s,Al=a,Sl.attachEvent("onpropertychange",Xy)):n==="focusout"&&Ky()}function fw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xc(Al)}function dw(n,s){if(n==="click")return xc(s)}function hw(n,s){if(n==="input"||n==="change")return xc(s)}function pw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Yn=typeof Object.is=="function"?Object.is:pw;function El(n,s){if(Yn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!re.call(s,h)||!Yn(n[h],s[h]))return!1}return!0}function $y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zy(n,s){var a=$y(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$y(a)}}function Jy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Jy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function t0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Zi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Zi(n.document)}return s}function Xd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var mw=li&&"documentMode"in document&&11>=document.documentMode,Ja=null,$d=null,wl=null,Zd=!1;function e0(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zd||Ja==null||Ja!==Zi(l)||(l=Ja,"selectionStart"in l&&Xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&El(wl,l)||(wl=l,l=uf($d,"onSelect"),0<l.length&&(s=new es("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ja)))}function aa(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var to={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Jd={},n0={};li&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function oa(n){if(Jd[n])return Jd[n];if(!to[n])return n;var s=to[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in n0)return Jd[n]=s[a];return n}var i0=oa("animationend"),s0=oa("animationiteration"),r0=oa("animationstart"),gw=oa("transitionrun"),yw=oa("transitionstart"),vw=oa("transitioncancel"),a0=oa("transitionend"),o0=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function Ni(n,s){o0.set(n,s),Xi(s,[n])}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ci=[],eo=0,eh=0;function Tc(){for(var n=eo,s=eh=eo=0;s<n;){var a=ci[s];ci[s++]=null;var l=ci[s];ci[s++]=null;var h=ci[s];ci[s++]=null;var m=ci[s];if(ci[s++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}m!==0&&l0(a,h,m)}}function Sc(n,s,a,l){ci[eo++]=n,ci[eo++]=s,ci[eo++]=a,ci[eo++]=l,eh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nh(n,s,a,l){return Sc(n,s,a,l),Ac(n)}function la(n,s){return Sc(n,null,null,s),Ac(n)}function l0(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&s!==null&&(h=31-Ne(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function Ac(n){if(50<Wl)throw Wl=0,fp=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var no={};function _w(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,s,a,l){return new _w(n,s,a,l)}function ih(n){return n=n.prototype,!(!n||!n.isReactComponent)}function As(n,s){var a=n.alternate;return a===null?(a=Qn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function u0(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ec(n,s,a,l,h,m){var T=0;if(l=n,typeof n=="function")ih(n)&&(T=1);else if(typeof n=="string")T=A2(n,a,pt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=Qn(31,a,s,h),n.elementType=I,n.lanes=m,n;case C:return ua(a.children,h,m,s);case M:T=8,h|=24;break;case V:return n=Qn(12,a,s,h|2),n.elementType=V,n.lanes=m,n;case et:return n=Qn(13,a,s,h),n.elementType=et,n.lanes=m,n;case J:return n=Qn(19,a,s,h),n.elementType=J,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:T=10;break t;case O:T=9;break t;case G:T=11;break t;case j:T=14;break t;case R:T=16,l=null;break t}T=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Qn(T,a,s,h),s.elementType=n,s.type=l,s.lanes=m,s}function ua(n,s,a,l){return n=Qn(7,n,l,s),n.lanes=a,n}function sh(n,s,a){return n=Qn(6,n,null,s),n.lanes=a,n}function c0(n){var s=Qn(18,null,null,0);return s.stateNode=n,s}function rh(n,s,a){return s=Qn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var f0=new WeakMap;function fi(n,s){if(typeof n=="object"&&n!==null){var a=f0.get(n);return a!==void 0?a:(s={value:n,source:s,stack:_s(s)},f0.set(n,s),s)}return{value:n,source:s,stack:_s(s)}}var io=[],so=0,wc=null,Cl=0,di=[],hi=0,nr=null,rs=1,as="";function Es(n,s){io[so++]=Cl,io[so++]=wc,wc=n,Cl=s}function d0(n,s,a){di[hi++]=rs,di[hi++]=as,di[hi++]=nr,nr=n;var l=rs;n=as;var h=32-Ne(l)-1;l&=~(1<<h),a+=1;var m=32-Ne(s)+h;if(30<m){var T=h-h%5;m=(l&(1<<T)-1).toString(32),l>>=T,h-=T,rs=1<<32-Ne(s)+h|a<<h|l,as=m+n}else rs=1<<m|a<<h|l,as=n}function ah(n){n.return!==null&&(Es(n,1),d0(n,1,0))}function oh(n){for(;n===wc;)wc=io[--so],io[so]=null,Cl=io[--so],io[so]=null;for(;n===nr;)nr=di[--hi],di[hi]=null,as=di[--hi],di[hi]=null,rs=di[--hi],di[hi]=null}function h0(n,s){di[hi++]=rs,di[hi++]=as,di[hi++]=nr,rs=s.id,as=s.overflow,nr=n}var dn=null,Se=null,$t=!1,ir=null,pi=!1,lh=Error(r(519));function sr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(fi(s,n)),lh}function p0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ue]=n,s[sn]=l,a){case"dialog":Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":case"embed":Yt("load",s);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Yt(Xl[a],s);break;case"source":Yt("error",s);break;case"img":case"image":case"link":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"input":Yt("invalid",s),rc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Yt("invalid",s);break;case"textarea":Yt("invalid",s),Ks(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||V_(s.textContent,a)?(l.popover!=null&&(Yt("beforetoggle",s),Yt("toggle",s)),l.onScroll!=null&&Yt("scroll",s),l.onScrollEnd!=null&&Yt("scrollend",s),l.onClick!=null&&(s.onclick=Di),s=!0):s=!1,s||sr(n,!0)}function m0(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:dn=dn.return}}function ro(n){if(n!==dn)return!1;if(!$t)return m0(n),$t=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||wp(n.type,n.memoizedProps)),a=!a),a&&Se&&sr(n),m0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Se=z_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Se=z_(n)}else s===27?(s=Se,vr(n.type)?(n=Vp,Vp=null,Se=n):Se=s):Se=dn?gi(n.stateNode.nextSibling):null;return!0}function ca(){Se=dn=null,$t=!1}function uh(){var n=ir;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),ir=null),n}function Rl(n){ir===null?ir=[n]:ir.push(n)}var ch=P(null),fa=null,ws=null;function rr(n,s,a){rt(ch,s._currentValue),s._currentValue=a}function Cs(n){n._currentValue=ch.current,Q(ch)}function fh(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function dh(n,s,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=h;for(var z=0;z<s.length;z++)if(w.context===s[z]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),fh(m.return,a,n),l||(T=null);break t}m=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),fh(T,a,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ao(n,s,a,l){n=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var w=h.type;Yn(h.pendingProps.value,T.value)||(n!==null?n.push(w):n=[w])}}else if(h===vt.current){if(T=h.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}h=h.return}n!==null&&dh(s,n,a,l),s.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!Yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){fa=n,ws=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return g0(fa,n)}function Rc(n,s){return fa===null&&da(n),g0(n,s)}function g0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ws===null){if(n===null)throw Error(r(308));ws=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ws=ws.next=s;return a}var xw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},bw=i.unstable_scheduleCallback,Tw=i.unstable_NormalPriority,qe={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new xw,data:new Map,refCount:0}}function Il(n){n.refCount--,n.refCount===0&&bw(Tw,function(){n.controller.abort()})}var Dl=null,ph=0,oo=0,lo=null;function Sw(n,s){if(Dl===null){var a=Dl=[];ph=0,oo=yp(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ph++,s.then(y0,y0),s}function y0(){if(--ph===0&&Dl!==null){lo!==null&&(lo.status="fulfilled");var n=Dl;Dl=null,oo=0,lo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Aw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var v0=K.S;K.S=function(n,s){e_=te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sw(n,s),v0!==null&&v0(n,s)};var ha=P(null);function mh(){var n=ha.current;return n!==null?n:_e.pooledCache}function Ic(n,s){s===null?rt(ha,ha.current):rt(ha,s.pool)}function _0(){var n=mh();return n===null?null:{parent:qe._currentValue,pool:n}}var uo=Error(r(460)),gh=Error(r(474)),Dc=Error(r(542)),Vc={then:function(){}};function x0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function b0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Di,Di),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,S0(n),n;default:if(typeof s.status=="string")s.then(Di,Di);else{if(n=_e,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,S0(n),n}throw ma=s,uo}}function pa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,uo):a}}var ma=null;function T0(){if(ma===null)throw Error(r(459));var n=ma;return ma=null,n}function S0(n){if(n===uo||n===Dc)throw Error(r(483))}var co=null,Vl=0;function jc(n){var s=Vl;return Vl+=1,co===null&&(co=[]),b0(co,n,s)}function jl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Mc(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function A0(n){function s(Y,F){if(n){var $=Y.deletions;$===null?(Y.deletions=[F],Y.flags|=16):$.push(F)}}function a(Y,F){if(!n)return null;for(;F!==null;)s(Y,F),F=F.sibling;return null}function l(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function h(Y,F){return Y=As(Y,F),Y.index=0,Y.sibling=null,Y}function m(Y,F,$){return Y.index=$,n?($=Y.alternate,$!==null?($=$.index,$<F?(Y.flags|=67108866,F):$):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function T(Y){return n&&Y.alternate===null&&(Y.flags|=67108866),Y}function w(Y,F,$,lt){return F===null||F.tag!==6?(F=sh($,Y.mode,lt),F.return=Y,F):(F=h(F,$),F.return=Y,F)}function z(Y,F,$,lt){var Ct=$.type;return Ct===C?at(Y,F,$.props.children,lt,$.key):F!==null&&(F.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===R&&pa(Ct)===F.type)?(F=h(F,$.props),jl(F,$),F.return=Y,F):(F=Ec($.type,$.key,$.props,null,Y.mode,lt),jl(F,$),F.return=Y,F)}function Z(Y,F,$,lt){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=rh($,Y.mode,lt),F.return=Y,F):(F=h(F,$.children||[]),F.return=Y,F)}function at(Y,F,$,lt,Ct){return F===null||F.tag!==7?(F=ua($,Y.mode,lt,Ct),F.return=Y,F):(F=h(F,$),F.return=Y,F)}function ft(Y,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=sh(""+F,Y.mode,$),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return $=Ec(F.type,F.key,F.props,null,Y.mode,$),jl($,F),$.return=Y,$;case E:return F=rh(F,Y.mode,$),F.return=Y,F;case R:return F=pa(F),ft(Y,F,$)}if(zt(F)||U(F))return F=ua(F,Y.mode,$,null),F.return=Y,F;if(typeof F.then=="function")return ft(Y,jc(F),$);if(F.$$typeof===k)return ft(Y,Rc(Y,F),$);Mc(Y,F)}return null}function tt(Y,F,$,lt){var Ct=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ct!==null?null:w(Y,F,""+$,lt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Ct?z(Y,F,$,lt):null;case E:return $.key===Ct?Z(Y,F,$,lt):null;case R:return $=pa($),tt(Y,F,$,lt)}if(zt($)||U($))return Ct!==null?null:at(Y,F,$,lt,null);if(typeof $.then=="function")return tt(Y,F,jc($),lt);if($.$$typeof===k)return tt(Y,F,Rc(Y,$),lt);Mc(Y,$)}return null}function st(Y,F,$,lt,Ct){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Y=Y.get($)||null,w(F,Y,""+lt,Ct);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case S:return Y=Y.get(lt.key===null?$:lt.key)||null,z(F,Y,lt,Ct);case E:return Y=Y.get(lt.key===null?$:lt.key)||null,Z(F,Y,lt,Ct);case R:return lt=pa(lt),st(Y,F,$,lt,Ct)}if(zt(lt)||U(lt))return Y=Y.get($)||null,at(F,Y,lt,Ct,null);if(typeof lt.then=="function")return st(Y,F,$,jc(lt),Ct);if(lt.$$typeof===k)return st(Y,F,$,Rc(F,lt),Ct);Mc(F,lt)}return null}function Tt(Y,F,$,lt){for(var Ct=null,ne=null,At=F,Ht=F=0,Wt=null;At!==null&&Ht<$.length;Ht++){At.index>Ht?(Wt=At,At=null):Wt=At.sibling;var ie=tt(Y,At,$[Ht],lt);if(ie===null){At===null&&(At=Wt);break}n&&At&&ie.alternate===null&&s(Y,At),F=m(ie,F,Ht),ne===null?Ct=ie:ne.sibling=ie,ne=ie,At=Wt}if(Ht===$.length)return a(Y,At),$t&&Es(Y,Ht),Ct;if(At===null){for(;Ht<$.length;Ht++)At=ft(Y,$[Ht],lt),At!==null&&(F=m(At,F,Ht),ne===null?Ct=At:ne.sibling=At,ne=At);return $t&&Es(Y,Ht),Ct}for(At=l(At);Ht<$.length;Ht++)Wt=st(At,Y,Ht,$[Ht],lt),Wt!==null&&(n&&Wt.alternate!==null&&At.delete(Wt.key===null?Ht:Wt.key),F=m(Wt,F,Ht),ne===null?Ct=Wt:ne.sibling=Wt,ne=Wt);return n&&At.forEach(function(Sr){return s(Y,Sr)}),$t&&Es(Y,Ht),Ct}function It(Y,F,$,lt){if($==null)throw Error(r(151));for(var Ct=null,ne=null,At=F,Ht=F=0,Wt=null,ie=$.next();At!==null&&!ie.done;Ht++,ie=$.next()){At.index>Ht?(Wt=At,At=null):Wt=At.sibling;var Sr=tt(Y,At,ie.value,lt);if(Sr===null){At===null&&(At=Wt);break}n&&At&&Sr.alternate===null&&s(Y,At),F=m(Sr,F,Ht),ne===null?Ct=Sr:ne.sibling=Sr,ne=Sr,At=Wt}if(ie.done)return a(Y,At),$t&&Es(Y,Ht),Ct;if(At===null){for(;!ie.done;Ht++,ie=$.next())ie=ft(Y,ie.value,lt),ie!==null&&(F=m(ie,F,Ht),ne===null?Ct=ie:ne.sibling=ie,ne=ie);return $t&&Es(Y,Ht),Ct}for(At=l(At);!ie.done;Ht++,ie=$.next())ie=st(At,Y,Ht,ie.value,lt),ie!==null&&(n&&ie.alternate!==null&&At.delete(ie.key===null?Ht:ie.key),F=m(ie,F,Ht),ne===null?Ct=ie:ne.sibling=ie,ne=ie);return n&&At.forEach(function(N2){return s(Y,N2)}),$t&&Es(Y,Ht),Ct}function ve(Y,F,$,lt){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:t:{for(var Ct=$.key;F!==null;){if(F.key===Ct){if(Ct=$.type,Ct===C){if(F.tag===7){a(Y,F.sibling),lt=h(F,$.props.children),lt.return=Y,Y=lt;break t}}else if(F.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===R&&pa(Ct)===F.type){a(Y,F.sibling),lt=h(F,$.props),jl(lt,$),lt.return=Y,Y=lt;break t}a(Y,F);break}else s(Y,F);F=F.sibling}$.type===C?(lt=ua($.props.children,Y.mode,lt,$.key),lt.return=Y,Y=lt):(lt=Ec($.type,$.key,$.props,null,Y.mode,lt),jl(lt,$),lt.return=Y,Y=lt)}return T(Y);case E:t:{for(Ct=$.key;F!==null;){if(F.key===Ct)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){a(Y,F.sibling),lt=h(F,$.children||[]),lt.return=Y,Y=lt;break t}else{a(Y,F);break}else s(Y,F);F=F.sibling}lt=rh($,Y.mode,lt),lt.return=Y,Y=lt}return T(Y);case R:return $=pa($),ve(Y,F,$,lt)}if(zt($))return Tt(Y,F,$,lt);if(U($)){if(Ct=U($),typeof Ct!="function")throw Error(r(150));return $=Ct.call($),It(Y,F,$,lt)}if(typeof $.then=="function")return ve(Y,F,jc($),lt);if($.$$typeof===k)return ve(Y,F,Rc(Y,$),lt);Mc(Y,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(a(Y,F.sibling),lt=h(F,$),lt.return=Y,Y=lt):(a(Y,F),lt=sh($,Y.mode,lt),lt.return=Y,Y=lt),T(Y)):a(Y,F)}return function(Y,F,$,lt){try{Vl=0;var Ct=ve(Y,F,$,lt);return co=null,Ct}catch(At){if(At===uo||At===Dc)throw At;var ne=Qn(29,At,null,Y.mode);return ne.lanes=lt,ne.return=Y,ne}}}var ga=A0(!0),E0=A0(!1),ar=!1;function yh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function lr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Ac(n),l0(n,null,a),s}return Sc(n,l,s,a),Ac(n)}function Ml(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,al(n,a)}}function _h(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var xh=!1;function Ol(){if(xh){var n=lo;if(n!==null)throw n}}function Nl(n,s,a,l){xh=!1;var h=n.updateQueue;ar=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var z=w,Z=z.next;z.next=null,T===null?m=Z:T.next=Z,T=z;var at=n.alternate;at!==null&&(at=at.updateQueue,w=at.lastBaseUpdate,w!==T&&(w===null?at.firstBaseUpdate=Z:w.next=Z,at.lastBaseUpdate=z))}if(m!==null){var ft=h.baseState;T=0,at=Z=z=null,w=m;do{var tt=w.lane&-536870913,st=tt!==w.lane;if(st?(Qt&tt)===tt:(l&tt)===tt){tt!==0&&tt===oo&&(xh=!0),at!==null&&(at=at.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Tt=n,It=w;tt=s;var ve=a;switch(It.tag){case 1:if(Tt=It.payload,typeof Tt=="function"){ft=Tt.call(ve,ft,tt);break t}ft=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=It.payload,tt=typeof Tt=="function"?Tt.call(ve,ft,tt):Tt,tt==null)break t;ft=f({},ft,tt);break t;case 2:ar=!0}}tt=w.callback,tt!==null&&(n.flags|=64,st&&(n.flags|=8192),st=h.callbacks,st===null?h.callbacks=[tt]:st.push(tt))}else st={lane:tt,tag:w.tag,payload:w.payload,callback:w.callback,next:null},at===null?(Z=at=st,z=ft):at=at.next=st,T|=tt;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;st=w,w=st.next,st.next=null,h.lastBaseUpdate=st,h.shared.pending=null}}while(!0);at===null&&(z=ft),h.baseState=z,h.firstBaseUpdate=Z,h.lastBaseUpdate=at,m===null&&(h.shared.lanes=0),hr|=T,n.lanes=T,n.memoizedState=ft}}function w0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function C0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)w0(a[n],s)}var fo=P(null),Oc=P(0);function R0(n,s){n=Ps,rt(Oc,n),rt(fo,s),Ps=n|s.baseLanes}function bh(){rt(Oc,Ps),rt(fo,fo.current)}function Th(){Ps=Oc.current,Q(fo),Q(Oc)}var Wn=P(null),mi=null;function ur(n){var s=n.alternate;rt(ke,ke.current&1),rt(Wn,n),mi===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(mi=n)}function Sh(n){rt(ke,ke.current),rt(Wn,n),mi===null&&(mi=n)}function I0(n){n.tag===22?(rt(ke,ke.current),rt(Wn,n),mi===null&&(mi=n)):cr()}function cr(){rt(ke,ke.current),rt(Wn,Wn.current)}function Kn(n){Q(Wn),mi===n&&(mi=null),Q(ke)}var ke=P(0);function Nc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ip(a)||Dp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rs=0,Ft=null,ge=null,Ge=null,Pc=!1,ho=!1,ya=!1,kc=0,Pl=0,po=null,Ew=0;function Ve(){throw Error(r(321))}function Ah(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Yn(n[a],s[a]))return!1;return!0}function Eh(n,s,a,l,h,m){return Rs=m,Ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=n===null||n.memoizedState===null?dv:zh,ya=!1,m=a(l,h),ya=!1,ho&&(m=V0(s,a,l,h)),D0(n),m}function D0(n){K.H=Bl;var s=ge!==null&&ge.next!==null;if(Rs=0,Ge=ge=Ft=null,Pc=!1,Pl=0,po=null,s)throw Error(r(300));n===null||Ye||(n=n.dependencies,n!==null&&Cc(n)&&(Ye=!0))}function V0(n,s,a,l){Ft=n;var h=0;do{if(ho&&(po=null),Pl=0,ho=!1,25<=h)throw Error(r(301));if(h+=1,Ge=ge=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=hv,m=s(a,l)}while(ho);return m}function ww(){var n=K.H,s=n.useState()[0];return s=typeof s.then=="function"?kl(s):s,n=n.useState()[0],(ge!==null?ge.memoizedState:null)!==n&&(Ft.flags|=1024),s}function wh(){var n=kc!==0;return kc=0,n}function Ch(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Rh(n){if(Pc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pc=!1}Rs=0,Ge=ge=Ft=null,ho=!1,Pl=kc=0,po=null}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ft.memoizedState=Ge=n:Ge=Ge.next=n,Ge}function Le(){if(ge===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=ge.next;var s=Ge===null?Ft.memoizedState:Ge.next;if(s!==null)Ge=s,ge=n;else{if(n===null)throw Ft.alternate===null?Error(r(467)):Error(r(310));ge=n,n={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ge===null?Ft.memoizedState=Ge=n:Ge=Ge.next=n}return Ge}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(n){var s=Pl;return Pl+=1,po===null&&(po=[]),n=b0(po,n,s),s=Ft,(Ge===null?s.memoizedState:Ge.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?dv:zh),n}function Bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return kl(n);if(n.$$typeof===k)return hn(n)}throw Error(r(438,String(n)))}function Ih(n){var s=null,a=Ft.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ft.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Lc(),Ft.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=L;return s.index++,a}function Is(n,s){return typeof s=="function"?s(n):s}function zc(n){var s=Le();return Dh(s,ge,n)}function Dh(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}s.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{s=h.next;var w=T=null,z=null,Z=s,at=!1;do{var ft=Z.lane&-536870913;if(ft!==Z.lane?(Qt&ft)===ft:(Rs&ft)===ft){var tt=Z.revertLane;if(tt===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ft===oo&&(at=!0);else if((Rs&tt)===tt){Z=Z.next,tt===oo&&(at=!0);continue}else ft={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=ft,T=m):z=z.next=ft,Ft.lanes|=tt,hr|=tt;ft=Z.action,ya&&a(m,ft),m=Z.hasEagerState?Z.eagerState:a(m,ft)}else tt={lane:ft,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=tt,T=m):z=z.next=tt,Ft.lanes|=ft,hr|=ft;Z=Z.next}while(Z!==null&&Z!==s);if(z===null?T=m:z.next=w,!Yn(m,n.memoizedState)&&(Ye=!0,at&&(a=lo,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=z,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Vh(n){var s=Le(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=n(m,T.action),T=T.next;while(T!==h);Yn(m,s.memoizedState)||(Ye=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function j0(n,s,a){var l=Ft,h=Le(),m=$t;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Yn((ge||h).memoizedState,a);if(T&&(h.memoizedState=a,Ye=!0),h=h.queue,Oh(N0.bind(null,l,h,n),[n]),h.getSnapshot!==s||T||Ge!==null&&Ge.memoizedState.tag&1){if(l.flags|=2048,mo(9,{destroy:void 0},O0.bind(null,l,h,a,s),null),_e===null)throw Error(r(349));m||(Rs&127)!==0||M0(l,s,a)}return a}function M0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ft.updateQueue,s===null?(s=Lc(),Ft.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function O0(n,s,a,l){s.value=a,s.getSnapshot=l,P0(s)&&k0(n)}function N0(n,s,a){return a(function(){P0(s)&&k0(n)})}function P0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Yn(n,a)}catch{return!0}}function k0(n){var s=la(n,2);s!==null&&kn(s,n,2)}function jh(n){var s=Rn();if(typeof n=="function"){var a=n;if(n=a(),ya){ri(!0);try{a()}finally{ri(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:n},s}function L0(n,s,a,l){return n.baseState=a,Dh(n,ge,typeof l=="function"?l:Is)}function Cw(n,s,a,l,h){if(Hc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,B0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function B0(n,s){var a=s.action,l=s.payload,h=n.state;if(s.isTransition){var m=K.T,T={};K.T=T;try{var w=a(h,l),z=K.S;z!==null&&z(T,w),z0(n,s,w)}catch(Z){Mh(n,s,Z)}finally{m!==null&&T.types!==null&&(m.types=T.types),K.T=m}}else try{m=a(h,l),z0(n,s,m)}catch(Z){Mh(n,s,Z)}}function z0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){U0(n,s,l)},function(l){return Mh(n,s,l)}):U0(n,s,a)}function U0(n,s,a){s.status="fulfilled",s.value=a,F0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,B0(n,a)))}function Mh(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,F0(s),s=s.next;while(s!==l)}n.action=null}function F0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function H0(n,s){return s}function q0(n,s){if($t){var a=_e.formState;if(a!==null){t:{var l=Ft;if($t){if(Se){e:{for(var h=Se,m=pi;h.nodeType!==8;){if(!m){h=null;break e}if(h=gi(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Se=gi(h.nextSibling),l=h.data==="F!";break t}}sr(l)}l=!1}l&&(s=a[0])}}return a=Rn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:s},a.queue=l,a=uv.bind(null,Ft,l),l.dispatch=a,l=jh(!1),m=Bh.bind(null,Ft,!1,l.queue),l=Rn(),h={state:s,dispatch:null,action:n,pending:null},l.queue=h,a=Cw.bind(null,Ft,h,m,a),h.dispatch=a,l.memoizedState=n,[s,a,!1]}function G0(n){var s=Le();return Y0(s,ge,n)}function Y0(n,s,a){if(s=Dh(n,s,H0)[0],n=zc(Is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=kl(s)}catch(T){throw T===uo?Dc:T}else l=s;s=Le();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Ft.flags|=2048,mo(9,{destroy:void 0},Rw.bind(null,h,a),null)),[l,m,n]}function Rw(n,s){n.action=s}function Q0(n){var s=Le(),a=ge;if(a!==null)return Y0(s,a,n);Le(),s=s.memoizedState,a=Le();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function mo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ft.updateQueue,s===null&&(s=Lc(),Ft.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function W0(){return Le().memoizedState}function Uc(n,s,a,l){var h=Rn();Ft.flags|=n,h.memoizedState=mo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fc(n,s,a,l){var h=Le();l=l===void 0?null:l;var m=h.memoizedState.inst;ge!==null&&l!==null&&Ah(l,ge.memoizedState.deps)?h.memoizedState=mo(s,m,a,l):(Ft.flags|=n,h.memoizedState=mo(1|s,m,a,l))}function K0(n,s){Uc(8390656,8,n,s)}function Oh(n,s){Fc(2048,8,n,s)}function Iw(n){Ft.flags|=4;var s=Ft.updateQueue;if(s===null)s=Lc(),Ft.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function X0(n){var s=Le().memoizedState;return Iw({ref:s,nextImpl:n}),function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function $0(n,s){return Fc(4,2,n,s)}function Z0(n,s){return Fc(4,4,n,s)}function J0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function tv(n,s,a){a=a!=null?a.concat([n]):null,Fc(4,4,J0.bind(null,s,n),a)}function Nh(){}function ev(n,s){var a=Le();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ah(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function nv(n,s){var a=Le();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ah(s,l[1]))return l[0];if(l=n(),ya){ri(!0);try{n()}finally{ri(!1)}}return a.memoizedState=[l,s],l}function Ph(n,s,a){return a===void 0||(Rs&1073741824)!==0&&(Qt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=i_(),Ft.lanes|=n,hr|=n,a)}function iv(n,s,a,l){return Yn(a,s)?a:fo.current!==null?(n=Ph(n,a,l),Yn(n,s)||(Ye=!0),n):(Rs&42)===0||(Rs&1073741824)!==0&&(Qt&261930)===0?(Ye=!0,n.memoizedState=a):(n=i_(),Ft.lanes|=n,hr|=n,s)}function sv(n,s,a,l,h){var m=H.p;H.p=m!==0&&8>m?m:8;var T=K.T,w={};K.T=w,Bh(n,!1,s,a);try{var z=h(),Z=K.S;if(Z!==null&&Z(w,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var at=Aw(z,l);Ll(n,s,at,Zn(n))}else Ll(n,s,l,Zn(n))}catch(ft){Ll(n,s,{then:function(){},status:"rejected",reason:ft},Zn())}finally{H.p=m,T!==null&&w.types!==null&&(T.types=w.types),K.T=T}}function Dw(){}function kh(n,s,a,l){if(n.tag!==5)throw Error(r(476));var h=rv(n).queue;sv(n,h,s,nt,a===null?Dw:function(){return av(n),a(l)})}function rv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:nt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function av(n){var s=rv(n);s.next===null&&(s=n.alternate.memoizedState),Ll(n,s.next.queue,{},Zn())}function Lh(){return hn(eu)}function ov(){return Le().memoizedState}function lv(){return Le().memoizedState}function Vw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Zn();n=or(a);var l=lr(s,n,a);l!==null&&(kn(l,s,a),Ml(l,s,a)),s={cache:hh()},n.payload=s;return}s=s.return}}function jw(n,s,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(n)?cv(s,a):(a=nh(n,s,a,l),a!==null&&(kn(a,n,l),fv(a,s,l)))}function uv(n,s,a){var l=Zn();Ll(n,s,a,l)}function Ll(n,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(n))cv(s,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,w=m(T,a);if(h.hasEagerState=!0,h.eagerState=w,Yn(w,T))return Sc(n,s,h,0),_e===null&&Tc(),!1}catch{}if(a=nh(n,s,h,l),a!==null)return kn(a,n,l),fv(a,s,l),!0}return!1}function Bh(n,s,a,l){if(l={lane:2,revertLane:yp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(n)){if(s)throw Error(r(479))}else s=nh(n,a,l,2),s!==null&&kn(s,n,2)}function Hc(n){var s=n.alternate;return n===Ft||s!==null&&s===Ft}function cv(n,s){ho=Pc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function fv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,al(n,a)}}var Bl={readContext:hn,use:Bc,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Bl.useEffectEvent=Ve;var dv={readContext:hn,use:Bc,useCallback:function(n,s){return Rn().memoizedState=[n,s===void 0?null:s],n},useContext:hn,useEffect:K0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Uc(4194308,4,J0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Uc(4194308,4,n,s)},useInsertionEffect:function(n,s){Uc(4,2,n,s)},useMemo:function(n,s){var a=Rn();s=s===void 0?null:s;var l=n();if(ya){ri(!0);try{n()}finally{ri(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Rn();if(a!==void 0){var h=a(s);if(ya){ri(!0);try{a(s)}finally{ri(!1)}}}else h=s;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=jw.bind(null,Ft,n),[l.memoizedState,n]},useRef:function(n){var s=Rn();return n={current:n},s.memoizedState=n},useState:function(n){n=jh(n);var s=n.queue,a=uv.bind(null,Ft,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Nh,useDeferredValue:function(n,s){var a=Rn();return Ph(a,n,s)},useTransition:function(){var n=jh(!1);return n=sv.bind(null,Ft,n.queue,!0,!1),Rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ft,h=Rn();if($t){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),_e===null)throw Error(r(349));(Qt&127)!==0||M0(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,K0(N0.bind(null,l,m,n),[n]),l.flags|=2048,mo(9,{destroy:void 0},O0.bind(null,l,m,a,s),null),a},useId:function(){var n=Rn(),s=_e.identifierPrefix;if($t){var a=as,l=rs;a=(l&~(1<<32-Ne(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=kc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ew++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Lh,useFormState:q0,useActionState:q0,useOptimistic:function(n){var s=Rn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Bh.bind(null,Ft,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ih,useCacheRefresh:function(){return Rn().memoizedState=Vw.bind(null,Ft)},useEffectEvent:function(n){var s=Rn(),a={impl:n};return s.memoizedState=a,function(){if((le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zh={readContext:hn,use:Bc,useCallback:ev,useContext:hn,useEffect:Oh,useImperativeHandle:tv,useInsertionEffect:$0,useLayoutEffect:Z0,useMemo:nv,useReducer:zc,useRef:W0,useState:function(){return zc(Is)},useDebugValue:Nh,useDeferredValue:function(n,s){var a=Le();return iv(a,ge.memoizedState,n,s)},useTransition:function(){var n=zc(Is)[0],s=Le().memoizedState;return[typeof n=="boolean"?n:kl(n),s]},useSyncExternalStore:j0,useId:ov,useHostTransitionStatus:Lh,useFormState:G0,useActionState:G0,useOptimistic:function(n,s){var a=Le();return L0(a,ge,n,s)},useMemoCache:Ih,useCacheRefresh:lv};zh.useEffectEvent=X0;var hv={readContext:hn,use:Bc,useCallback:ev,useContext:hn,useEffect:Oh,useImperativeHandle:tv,useInsertionEffect:$0,useLayoutEffect:Z0,useMemo:nv,useReducer:Vh,useRef:W0,useState:function(){return Vh(Is)},useDebugValue:Nh,useDeferredValue:function(n,s){var a=Le();return ge===null?Ph(a,n,s):iv(a,ge.memoizedState,n,s)},useTransition:function(){var n=Vh(Is)[0],s=Le().memoizedState;return[typeof n=="boolean"?n:kl(n),s]},useSyncExternalStore:j0,useId:ov,useHostTransitionStatus:Lh,useFormState:Q0,useActionState:Q0,useOptimistic:function(n,s){var a=Le();return ge!==null?L0(a,ge,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:lv};hv.useEffectEvent=X0;function Uh(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:f({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Fh={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Zn(),h=or(l);h.payload=s,a!=null&&(h.callback=a),s=lr(n,h,l),s!==null&&(kn(s,n,l),Ml(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Zn(),h=or(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=lr(n,h,l),s!==null&&(kn(s,n,l),Ml(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Zn(),l=or(a);l.tag=2,s!=null&&(l.callback=s),s=lr(n,l,a),s!==null&&(kn(s,n,a),Ml(s,n,a))}};function pv(n,s,a,l,h,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!El(a,l)||!El(h,m):!0}function mv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Fh.enqueueReplaceState(s,s.state,null)}function va(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=f({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}function gv(n){bc(n)}function yv(n){console.error(n)}function vv(n){bc(n)}function qc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function _v(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hh(n,s,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(n,s)},a}function xv(n){return n=or(n),n.tag=3,n}function bv(n,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){_v(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){_v(s,a,l),typeof h!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Mw(n,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ao(s,a,h,!0),a=Wn.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?nf():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),pp(n,l,h)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),pp(n,l,h)),!1}throw Error(r(435,a.tag))}return pp(n,l,h),nf(),!1}if($t)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==lh&&(n=Error(r(422),{cause:l}),Rl(fi(n,a)))):(l!==lh&&(s=Error(r(423),{cause:l}),Rl(fi(s,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=fi(l,a),h=Hh(n.stateNode,l,h),_h(n,h),je!==4&&(je=2)),!1;var m=Error(r(520),{cause:l});if(m=fi(m,a),Ql===null?Ql=[m]:Ql.push(m),je!==4&&(je=2),s===null)return!0;l=fi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Hh(a.stateNode,l,n),_h(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pr===null||!pr.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xv(h),bv(h,n,a,l),_h(a,h),!1}a=a.return}while(a!==null);return!1}var qh=Error(r(461)),Ye=!1;function pn(n,s,a,l){s.child=n===null?E0(s,null,a,l):ga(s,n.child,a,l)}function Tv(n,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return da(s),l=Eh(n,s,a,T,m,h),w=wh(),n!==null&&!Ye?(Ch(n,s,h),Ds(n,s,h)):($t&&w&&ah(s),s.flags|=1,pn(n,s,l,h),s.child)}function Sv(n,s,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!ih(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Av(n,s,m,l,h)):(n=Ec(a.type,null,l,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Zh(n,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(T,l)&&n.ref===s.ref)return Ds(n,s,h)}return s.flags|=1,n=As(m,l),n.ref=s.ref,n.return=s,s.child=n}function Av(n,s,a,l,h){if(n!==null){var m=n.memoizedProps;if(El(m,l)&&n.ref===s.ref)if(Ye=!1,s.pendingProps=l=m,Zh(n,h))(n.flags&131072)!==0&&(Ye=!0);else return s.lanes=n.lanes,Ds(n,s,h)}return Gh(n,s,a,l,h)}function Ev(n,s,a,l){var h=l.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,n!==null){for(l=s.child=n.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,s.child=null;return wv(n,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ic(s,m!==null?m.cachePool:null),m!==null?R0(s,m):bh(),I0(s);else return l=s.lanes=536870912,wv(n,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ic(s,m.cachePool),R0(s,m),cr(),s.memoizedState=null):(n!==null&&Ic(s,null),bh(),cr());return pn(n,s,h,a),s.child}function zl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function wv(n,s,a,l,h){var m=mh();return m=m===null?null:{parent:qe._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},n!==null&&Ic(s,null),bh(),I0(s),n!==null&&ao(n,s,l,!0),s.childLanes=h,null}function Gc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Cv(n,s,a){return ga(s,n.child,null,a),n=Gc(s,s.pendingProps),n.flags|=2,Kn(s),s.memoizedState=null,n}function Ow(n,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,n===null){if($t){if(l.mode==="hidden")return n=Gc(s,l),s.lanes=536870912,zl(null,n);if(Sh(s),(n=Se)?(n=B_(n,pi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:nr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=c0(n),a.return=s,s.child=a,dn=s,Se=null)):n=null,n===null)throw sr(s);return s.lanes=536870912,null}return Gc(s,l)}var m=n.memoizedState;if(m!==null){var T=m.dehydrated;if(Sh(s),h)if(s.flags&256)s.flags&=-257,s=Cv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ye||ao(n,s,a,!1),h=(a&n.childLanes)!==0,Ye||h){if(l=_e,l!==null&&(T=ol(l,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,la(n,T),kn(l,n,T),qh;nf(),s=Cv(n,s,a)}else n=m.treeContext,Se=gi(T.nextSibling),dn=s,$t=!0,ir=null,pi=!1,n!==null&&h0(s,n),s=Gc(s,l),s.flags|=4096;return s}return n=As(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Yc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Gh(n,s,a,l,h){return da(s),a=Eh(n,s,a,l,void 0,h),l=wh(),n!==null&&!Ye?(Ch(n,s,h),Ds(n,s,h)):($t&&l&&ah(s),s.flags|=1,pn(n,s,a,h),s.child)}function Rv(n,s,a,l,h,m){return da(s),s.updateQueue=null,a=V0(s,l,a,h),D0(n),l=wh(),n!==null&&!Ye?(Ch(n,s,m),Ds(n,s,m)):($t&&l&&ah(s),s.flags|=1,pn(n,s,a,m),s.child)}function Iv(n,s,a,l,h){if(da(s),s.stateNode===null){var m=no,T=a.contextType;typeof T=="object"&&T!==null&&(m=hn(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Fh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},yh(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?hn(T):no,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Uh(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Fh.enqueueReplaceState(m,m.state,null),Nl(s,l,m,h),Ol(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var w=s.memoizedProps,z=va(a,w);m.props=z;var Z=m.context,at=a.contextType;T=no,typeof at=="object"&&at!==null&&(T=hn(at));var ft=a.getDerivedStateFromProps;at=typeof ft=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,at||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Z!==T)&&mv(s,m,l,T),ar=!1;var tt=s.memoizedState;m.state=tt,Nl(s,l,m,h),Ol(),Z=s.memoizedState,w||tt!==Z||ar?(typeof ft=="function"&&(Uh(s,a,ft,l),Z=s.memoizedState),(z=ar||pv(s,a,z,l,tt,Z,T))?(at||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Z),m.props=l,m.state=Z,m.context=T,l=z):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,vh(n,s),T=s.memoizedProps,at=va(a,T),m.props=at,ft=s.pendingProps,tt=m.context,Z=a.contextType,z=no,typeof Z=="object"&&Z!==null&&(z=hn(Z)),w=a.getDerivedStateFromProps,(Z=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ft||tt!==z)&&mv(s,m,l,z),ar=!1,tt=s.memoizedState,m.state=tt,Nl(s,l,m,h),Ol();var st=s.memoizedState;T!==ft||tt!==st||ar||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof w=="function"&&(Uh(s,a,w,l),st=s.memoizedState),(at=ar||pv(s,a,at,l,tt,st,z)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,st,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,st,z)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=st),m.props=l,m.state=st,m.context=z,l=at):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,Yc(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=ga(s,n.child,null,h),s.child=ga(s,null,a,h)):pn(n,s,a,h),s.memoizedState=m.state,n=s.child):n=Ds(n,s,h),n}function Dv(n,s,a,l){return ca(),s.flags|=256,pn(n,s,a,l),s.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(n){return{baseLanes:n,cachePool:_0()}}function Wh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=$n),n}function Vv(n,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(ke.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if($t){if(h?ur(s):cr(),(n=Se)?(n=B_(n,pi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:nr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=c0(n),a.return=s,s.child=a,dn=s,Se=null)):n=null,n===null)throw sr(s);return Dp(n)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(cr(),h=s.mode,w=Qc({mode:"hidden",children:w},h),l=ua(l,h,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Qh(a),l.childLanes=Wh(n,T,a),s.memoizedState=Yh,zl(null,l)):(ur(s),Kh(s,w))}var z=n.memoizedState;if(z!==null&&(w=z.dehydrated,w!==null)){if(m)s.flags&256?(ur(s),s.flags&=-257,s=Xh(n,s,a)):s.memoizedState!==null?(cr(),s.child=n.child,s.flags|=128,s=null):(cr(),w=l.fallback,h=s.mode,l=Qc({mode:"visible",children:l.children},h),w=ua(w,h,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,ga(s,n.child,null,a),l=s.child,l.memoizedState=Qh(a),l.childLanes=Wh(n,T,a),s.memoizedState=Yh,s=zl(null,l));else if(ur(s),Dp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Z=T.dgst;T=Z,l=Error(r(419)),l.stack="",l.digest=T,Rl({value:l,source:null,stack:null}),s=Xh(n,s,a)}else if(Ye||ao(n,s,a,!1),T=(a&n.childLanes)!==0,Ye||T){if(T=_e,T!==null&&(l=ol(T,a),l!==0&&l!==z.retryLane))throw z.retryLane=l,la(n,l),kn(T,n,l),qh;Ip(w)||nf(),s=Xh(n,s,a)}else Ip(w)?(s.flags|=192,s.child=n.child,s=null):(n=z.treeContext,Se=gi(w.nextSibling),dn=s,$t=!0,ir=null,pi=!1,n!==null&&h0(s,n),s=Kh(s,l.children),s.flags|=4096);return s}return h?(cr(),w=l.fallback,h=s.mode,z=n.child,Z=z.sibling,l=As(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?w=As(Z,w):(w=ua(w,h,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,zl(null,l),l=s.child,w=n.child.memoizedState,w===null?w=Qh(a):(h=w.cachePool,h!==null?(z=qe._currentValue,h=h.parent!==z?{parent:z,pool:z}:h):h=_0(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=Wh(n,T,a),s.memoizedState=Yh,zl(n.child,l)):(ur(s),a=n.child,n=a.sibling,a=As(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=a,s.memoizedState=null,a)}function Kh(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=Qn(22,n,null,s),n.lanes=0,n}function Xh(n,s,a){return ga(s,n.child,null,a),n=Kh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function jv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),fh(n.return,s,a)}function $h(n,s,a,l,h,m){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Mv(n,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var T=ke.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,rt(ke,T),pn(n,s,l,a),l=$t?Cl:0,!w&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jv(n,a,s);else if(n.tag===19)jv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&Nc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),$h(s,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Nc(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}$h(s,!0,a,null,m,l);break;case"together":$h(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ds(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),hr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(ao(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=As(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=As(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Zh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function Nw(n,s,a){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),rr(s,qe,n.memoizedState.cache),ca();break;case 27:case 5:fe(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:rr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sh(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Vv(n,s,a):(ur(s),n=Ds(n,s,a),n!==null?n.sibling:null);ur(s);break;case 19:var h=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ao(n,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Mv(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(ke,ke.current),l)break;return null;case 22:return s.lanes=0,Ev(n,s,a,s.pendingProps);case 24:rr(s,qe,n.memoizedState.cache)}return Ds(n,s,a)}function Ov(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ye=!0;else{if(!Zh(n,a)&&(s.flags&128)===0)return Ye=!1,Nw(n,s,a);Ye=(n.flags&131072)!==0}else Ye=!1,$t&&(s.flags&1048576)!==0&&d0(s,Cl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=pa(s.elementType),s.type=n,typeof n=="function")ih(n)?(l=va(n,l),s.tag=1,s=Iv(null,s,n,l,a)):(s.tag=0,s=Gh(null,s,n,l,a));else{if(n!=null){var h=n.$$typeof;if(h===G){s.tag=11,s=Tv(null,s,n,l,a);break t}else if(h===j){s.tag=14,s=Sv(null,s,n,l,a);break t}}throw s=wt(n)||n,Error(r(306,s,""))}}return s;case 0:return Gh(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=va(l,s.pendingProps),Iv(n,s,l,h,a);case 3:t:{if(jt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,vh(n,s),Nl(s,l,null,a);var T=s.memoizedState;if(l=T.cache,rr(s,qe,l),l!==m.cache&&dh(s,[qe],a,!0),Ol(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Dv(n,s,l,a);break t}else if(l!==h){h=fi(Error(r(424)),s),Rl(h),s=Dv(n,s,l,a);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Se=gi(n.firstChild),dn=s,$t=!0,ir=null,pi=!0,a=E0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ca(),l===h){s=Ds(n,s,a);break t}pn(n,s,l,a)}s=s.child}return s;case 26:return Yc(n,s),n===null?(a=G_(s.type,null,s.pendingProps,null))?s.memoizedState=a:$t||(a=s.type,n=s.pendingProps,l=cf(mt.current).createElement(a),l[Ue]=s,l[sn]=n,mn(l,a,n),Fe(l),s.stateNode=l):s.memoizedState=G_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return fe(s),n===null&&$t&&(l=s.stateNode=F_(s.type,s.pendingProps,mt.current),dn=s,pi=!0,h=Se,vr(s.type)?(Vp=h,Se=gi(l.firstChild)):Se=h),pn(n,s,s.pendingProps.children,a),Yc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&$t&&((h=l=Se)&&(l=f2(l,s.type,s.pendingProps,pi),l!==null?(s.stateNode=l,dn=s,Se=gi(l.firstChild),pi=!1,h=!0):h=!1),h||sr(s)),fe(s),h=s.type,m=s.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,wp(h,m)?l=null:T!==null&&wp(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=Eh(n,s,ww,null,null,a),eu._currentValue=h),Yc(n,s),pn(n,s,l,a),s.child;case 6:return n===null&&$t&&((n=a=Se)&&(a=d2(a,s.pendingProps,pi),a!==null?(s.stateNode=a,dn=s,Se=null,n=!0):n=!1),n||sr(s)),null;case 13:return Vv(n,s,a);case 4:return jt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ga(s,null,l,a):pn(n,s,l,a),s.child;case 11:return Tv(n,s,s.type,s.pendingProps,a);case 7:return pn(n,s,s.pendingProps,a),s.child;case 8:return pn(n,s,s.pendingProps.children,a),s.child;case 12:return pn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,rr(s,s.type,l.value),pn(n,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,da(s),h=hn(h),l=l(h),s.flags|=1,pn(n,s,l,a),s.child;case 14:return Sv(n,s,s.type,s.pendingProps,a);case 15:return Av(n,s,s.type,s.pendingProps,a);case 19:return Mv(n,s,a);case 31:return Ow(n,s,a);case 22:return Ev(n,s,a,s.pendingProps);case 24:return da(s),l=hn(qe),n===null?(h=mh(),h===null&&(h=_e,m=hh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},yh(s),rr(s,qe,h)):((n.lanes&a)!==0&&(vh(n,s),Nl(s,null,null,a),Ol()),h=n.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),rr(s,qe,l)):(l=m.cache,rr(s,qe,l),l!==h.cache&&dh(s,[qe],a,!0))),pn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Vs(n){n.flags|=4}function Jh(n,s,a,l,h){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(o_())n.flags|=8192;else throw ma=Vc,gh}else n.flags&=-16777217}function Nv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!X_(s))if(o_())n.flags|=8192;else throw ma=Vc,gh}function Wc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?tc():536870912,n.lanes|=s,_o|=s)}function Ul(n,s){if(!$t)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ae(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Pw(n,s,a){var l=s.pendingProps;switch(oh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(s),null;case 1:return Ae(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Cs(qe),qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ro(s)?Vs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,uh())),Ae(s),null;case 26:var h=s.type,m=s.memoizedState;return n===null?(Vs(s),m!==null?(Ae(s),Nv(s,m)):(Ae(s),Jh(s,h,null,l,a))):m?m!==n.memoizedState?(Vs(s),Ae(s),Nv(s,m)):(Ae(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Vs(s),Ae(s),Jh(s,h,n,l,a)),null;case 27:if(be(s),a=mt.current,h=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Vs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ae(s),null}n=pt.current,ro(s)?p0(s):(n=F_(h,l,a),s.stateNode=n,Vs(s))}return Ae(s),null;case 5:if(be(s),h=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Vs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ae(s),null}if(m=pt.current,ro(s))p0(s);else{var T=cf(mt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}m[Ue]=s,m[sn]=l;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=m;t:switch(mn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Vs(s)}}return Ae(s),Jh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Vs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=mt.current,ro(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Ue]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(n.nodeValue,a)),n||sr(s,!0)}else n=cf(n).createTextNode(l),n[Ue]=s,s.stateNode=n}return Ae(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=ro(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Ue]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ae(s),n=!1}else a=uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ae(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=ro(s),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ue]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ae(s),h=!1}else h=uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Wc(s,s.updateQueue),Ae(s),null);case 4:return qt(),n===null&&bp(s.stateNode.containerInfo),Ae(s),null;case 10:return Cs(s.type),Ae(s),null;case 19:if(Q(ke),l=s.memoizedState,l===null)return Ae(s),null;if(h=(s.flags&128)!==0,m=l.rendering,m===null)if(h)Ul(l,!1);else{if(je!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Nc(n),m!==null){for(s.flags|=128,Ul(l,!1),n=m.updateQueue,s.updateQueue=n,Wc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)u0(a,n),a=a.sibling;return rt(ke,ke.current&1|2),$t&&Es(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&te()>Jc&&(s.flags|=128,h=!0,Ul(l,!1),s.lanes=4194304)}else{if(!h)if(n=Nc(m),n!==null){if(s.flags|=128,h=!0,n=n.updateQueue,s.updateQueue=n,Wc(s,n),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!$t)return Ae(s),null}else 2*te()-l.renderingStartTime>Jc&&a!==536870912&&(s.flags|=128,h=!0,Ul(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(n=l.last,n!==null?n.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=te(),n.sibling=null,a=ke.current,rt(ke,h?a&1|2:a&1),$t&&Es(s,l.treeForkCount),n):(Ae(s),null);case 22:case 23:return Kn(s),Th(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ae(s),s.subtreeFlags&6&&(s.flags|=8192)):Ae(s),a=s.updateQueue,a!==null&&Wc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&Q(ha),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Cs(qe),Ae(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function kw(n,s){switch(oh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Cs(qe),qt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return be(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(r(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Kn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Q(ke),null;case 4:return qt(),null;case 10:return Cs(s.type),null;case 22:case 23:return Kn(s),Th(),n!==null&&Q(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Cs(qe),null;case 25:return null;default:return null}}function Pv(n,s){switch(oh(s),s.tag){case 3:Cs(qe),qt();break;case 26:case 27:case 5:be(s);break;case 4:qt();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:Q(ke);break;case 10:Cs(s.type);break;case 22:case 23:Kn(s),Th(),n!==null&&Q(ha);break;case 24:Cs(qe)}}function Fl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==h)}}catch(w){pe(s,s.return,w)}}function fr(n,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=s;var z=a,Z=w;try{Z()}catch(at){pe(h,z,at)}}}l=l.next}while(l!==m)}}catch(at){pe(s,s.return,at)}}function kv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{C0(s,a)}catch(l){pe(n,n.return,l)}}}function Lv(n,s,a){a.props=va(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){pe(n,s,l)}}function Hl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){pe(n,s,h)}}function os(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){pe(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){pe(n,s,h)}else a.current=null}function Bv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){pe(n,n.return,h)}}function tp(n,s,a){try{var l=n.stateNode;r2(l,n.type,a,s),l[sn]=s}catch(h){pe(n,n.return,h)}}function zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&vr(n.type)||n.tag===4}function ep(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function np(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Di));else if(l!==4&&(l===27&&vr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(np(n,s,a),n=n.sibling;n!==null;)np(n,s,a),n=n.sibling}function Kc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Kc(n,s,a),n=n.sibling;n!==null;)Kc(n,s,a),n=n.sibling}function Uv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);mn(s,l,a),s[Ue]=n,s[sn]=a}catch(m){pe(n,n.return,m)}}var js=!1,Qe=!1,ip=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,an=null;function Lw(n,s){if(n=n.containerInfo,Ap=yf,n=t0(n),Xd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,w=-1,z=-1,Z=0,at=0,ft=n,tt=null;e:for(;;){for(var st;ft!==a||h!==0&&ft.nodeType!==3||(w=T+h),ft!==m||l!==0&&ft.nodeType!==3||(z=T+l),ft.nodeType===3&&(T+=ft.nodeValue.length),(st=ft.firstChild)!==null;)tt=ft,ft=st;for(;;){if(ft===n)break e;if(tt===a&&++Z===h&&(w=T),tt===m&&++at===l&&(z=T),(st=ft.nextSibling)!==null)break;ft=tt,tt=ft.parentNode}ft=st}a=w===-1||z===-1?null:{start:w,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ep={focusedElem:n,selectionRange:a},yf=!1,an=s;an!==null;)if(s=an,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,an=n;else for(;an!==null;){switch(s=an,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)h=n[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Tt=va(a.type,h);n=l.getSnapshotBeforeUpdate(Tt,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(It){pe(a,a.return,It)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Rp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,an=n;break}an=s.return}}function Hv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Os(n,a),l&4&&Fl(5,a);break;case 1:if(Os(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(T){pe(a,a.return,T)}else{var h=va(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){pe(a,a.return,T)}}l&64&&kv(a),l&512&&Hl(a,a.return);break;case 3:if(Os(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{C0(n,s)}catch(T){pe(a,a.return,T)}}break;case 27:s===null&&l&4&&Uv(a);case 26:case 5:Os(n,a),s===null&&l&4&&Bv(a),l&512&&Hl(a,a.return);break;case 12:Os(n,a);break;case 31:Os(n,a),l&4&&Yv(n,a);break;case 13:Os(n,a),l&4&&Qv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Qw.bind(null,a),h2(n,a))));break;case 22:if(l=a.memoizedState!==null||js,!l){s=s!==null&&s.memoizedState!==null||Qe,h=js;var m=Qe;js=l,(Qe=s)&&!m?Ns(n,a,(a.subtreeFlags&8772)!==0):Os(n,a),js=h,Qe=m}break;case 30:break;default:Os(n,a)}}function qv(n){var s=n.alternate;s!==null&&(n.alternate=null,qv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Fa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ce=null,Mn=!1;function Ms(n,s,a){for(a=a.child;a!==null;)Gv(n,s,a),a=a.sibling}function Gv(n,s,a){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(wi,a)}catch{}switch(a.tag){case 26:Qe||os(a,s),Ms(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qe||os(a,s);var l=Ce,h=Mn;vr(a.type)&&(Ce=a.stateNode,Mn=!1),Ms(n,s,a),Zl(a.stateNode),Ce=l,Mn=h;break;case 5:Qe||os(a,s);case 6:if(l=Ce,h=Mn,Ce=null,Ms(n,s,a),Ce=l,Mn=h,Ce!==null)if(Mn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(m){pe(a,s,m)}else try{Ce.removeChild(a.stateNode)}catch(m){pe(a,s,m)}break;case 18:Ce!==null&&(Mn?(n=Ce,k_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Co(n)):k_(Ce,a.stateNode));break;case 4:l=Ce,h=Mn,Ce=a.stateNode.containerInfo,Mn=!0,Ms(n,s,a),Ce=l,Mn=h;break;case 0:case 11:case 14:case 15:fr(2,a,s),Qe||fr(4,a,s),Ms(n,s,a);break;case 1:Qe||(os(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lv(a,s,l)),Ms(n,s,a);break;case 21:Ms(n,s,a);break;case 22:Qe=(l=Qe)||a.memoizedState!==null,Ms(n,s,a),Qe=l;break;default:Ms(n,s,a)}}function Yv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Co(n)}catch(a){pe(s,s.return,a)}}}function Qv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Co(n)}catch(a){pe(s,s.return,a)}}function Bw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Fv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Fv),s;default:throw Error(r(435,n.tag))}}function Xc(n,s){var a=Bw(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ww.bind(null,n,l);l.then(h,h)}})}function On(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,T=s,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(vr(w.type)){Ce=w.stateNode,Mn=!1;break t}break;case 5:Ce=w.stateNode,Mn=!1;break t;case 3:case 4:Ce=w.stateNode.containerInfo,Mn=!0;break t}w=w.return}if(Ce===null)throw Error(r(160));Gv(m,T,h),Ce=null,Mn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Wv(s,n),s=s.sibling}var Pi=null;function Wv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:On(s,n),Nn(n),l&4&&(fr(3,n,n.return),Fl(3,n),fr(5,n,n.return));break;case 1:On(s,n),Nn(n),l&512&&(Qe||a===null||os(a,a.return)),l&64&&js&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pi;if(On(s,n),Nn(n),l&512&&(Qe||a===null||os(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Qi]||m[Ue]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),mn(m,l,a),m[Ue]=n,Fe(m),l=m;break t;case"link":var T=W_("link","href",h).get(l+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(m=T[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break e}}m=h.createElement(l),mn(m,l,a),h.head.appendChild(m);break;case"meta":if(T=W_("meta","content",h).get(l+(a.content||""))){for(w=0;w<T.length;w++)if(m=T[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break e}}m=h.createElement(l),mn(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[Ue]=n,Fe(m),l=m}n.stateNode=l}else K_(h,n.type,n.stateNode);else n.stateNode=Q_(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?K_(h,n.type,n.stateNode):Q_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tp(n,n.memoizedProps,a.memoizedProps)}break;case 27:On(s,n),Nn(n),l&512&&(Qe||a===null||os(a,a.return)),a!==null&&l&4&&tp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(On(s,n),Nn(n),l&512&&(Qe||a===null||os(a,a.return)),n.flags&32){h=n.stateNode;try{jn(h,"")}catch(Tt){pe(n,n.return,Tt)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,tp(n,h,a!==null?a.memoizedProps:h)),l&1024&&(ip=!0);break;case 6:if(On(s,n),Nn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Tt){pe(n,n.return,Tt)}}break;case 3:if(hf=null,h=Pi,Pi=ff(s.containerInfo),On(s,n),Pi=h,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(Tt){pe(n,n.return,Tt)}ip&&(ip=!1,Kv(n));break;case 4:l=Pi,Pi=ff(n.stateNode.containerInfo),On(s,n),Nn(n),Pi=l;break;case 12:On(s,n),Nn(n);break;case 31:On(s,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xc(n,l)));break;case 13:On(s,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=te()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xc(n,l)));break;case 22:h=n.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Z=js,at=Qe;if(js=Z||h,Qe=at||z,On(s,n),Qe=at,js=Z,Nn(n),l&8192)t:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||z||js||Qe||_a(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){z=a=s;try{if(m=z.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=z.stateNode;var ft=z.memoizedProps.style,tt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;w.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Tt){pe(z,z.return,Tt)}}}else if(s.tag===6){if(a===null){z=s;try{z.stateNode.nodeValue=h?"":z.memoizedProps}catch(Tt){pe(z,z.return,Tt)}}}else if(s.tag===18){if(a===null){z=s;try{var st=z.stateNode;h?L_(st,!0):L_(z.stateNode,!1)}catch(Tt){pe(z,z.return,Tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xc(n,a))));break;case 19:On(s,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xc(n,l)));break;case 30:break;case 21:break;default:On(s,n),Nn(n)}}function Nn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=ep(n);Kc(n,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(jn(T,""),a.flags&=-33);var w=ep(n);Kc(n,w,T);break;case 3:case 4:var z=a.stateNode.containerInfo,Z=ep(n);np(n,Z,z);break;default:throw Error(r(161))}}catch(at){pe(n,n.return,at)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Os(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hv(n,s.alternate,s),s=s.sibling}function _a(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:fr(4,s,s.return),_a(s);break;case 1:os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Lv(s,s.return,a),_a(s);break;case 27:Zl(s.stateNode);case 26:case 5:os(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}n=n.sibling}}function Ns(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=n,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ns(h,m,a),Fl(4,m);break;case 1:if(Ns(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){pe(l,l.return,Z)}if(l=m,h=l.updateQueue,h!==null){var w=l.stateNode;try{var z=h.shared.hiddenCallbacks;if(z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<z.length;h++)w0(z[h],w)}catch(Z){pe(l,l.return,Z)}}a&&T&64&&kv(m),Hl(m,m.return);break;case 27:Uv(m);case 26:case 5:Ns(h,m,a),a&&l===null&&T&4&&Bv(m),Hl(m,m.return);break;case 12:Ns(h,m,a);break;case 31:Ns(h,m,a),a&&T&4&&Yv(h,m);break;case 13:Ns(h,m,a),a&&T&4&&Qv(h,m);break;case 22:m.memoizedState===null&&Ns(h,m,a),Hl(m,m.return);break;case 30:break;default:Ns(h,m,a)}s=s.sibling}}function sp(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Il(a))}function rp(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Il(n))}function ki(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(n,s,a,l),s=s.sibling}function Xv(n,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ki(n,s,a,l),h&2048&&Fl(9,s);break;case 1:ki(n,s,a,l);break;case 3:ki(n,s,a,l),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Il(n)));break;case 12:if(h&2048){ki(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,T=m.id,w=m.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){pe(s,s.return,z)}}else ki(n,s,a,l);break;case 31:ki(n,s,a,l);break;case 13:ki(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?ki(n,s,a,l):ql(n,s):m._visibility&2?ki(n,s,a,l):(m._visibility|=2,go(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&sp(T,s);break;case 24:ki(n,s,a,l),h&2048&&rp(s.alternate,s);break;default:ki(n,s,a,l)}}function go(n,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,T=s,w=a,z=l,Z=T.flags;switch(T.tag){case 0:case 11:case 15:go(m,T,w,z,h),Fl(8,T);break;case 23:break;case 22:var at=T.stateNode;T.memoizedState!==null?at._visibility&2?go(m,T,w,z,h):ql(m,T):(at._visibility|=2,go(m,T,w,z,h)),h&&Z&2048&&sp(T.alternate,T);break;case 24:go(m,T,w,z,h),h&&Z&2048&&rp(T.alternate,T);break;default:go(m,T,w,z,h)}s=s.sibling}}function ql(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,h=l.flags;switch(l.tag){case 22:ql(a,l),h&2048&&sp(l.alternate,l);break;case 24:ql(a,l),h&2048&&rp(l.alternate,l);break;default:ql(a,l)}s=s.sibling}}var Gl=8192;function yo(n,s,a){if(n.subtreeFlags&Gl)for(n=n.child;n!==null;)$v(n,s,a),n=n.sibling}function $v(n,s,a){switch(n.tag){case 26:yo(n,s,a),n.flags&Gl&&n.memoizedState!==null&&E2(a,Pi,n.memoizedState,n.memoizedProps);break;case 5:yo(n,s,a);break;case 3:case 4:var l=Pi;Pi=ff(n.stateNode.containerInfo),yo(n,s,a),Pi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,yo(n,s,a),Gl=l):yo(n,s,a));break;default:yo(n,s,a)}}function Zv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Yl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];an=l,t_(l,n)}Zv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jv(n),n=n.sibling}function Jv(n){switch(n.tag){case 0:case 11:case 15:Yl(n),n.flags&2048&&fr(9,n,n.return);break;case 3:Yl(n);break;case 12:Yl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,$c(n)):Yl(n);break;default:Yl(n)}}function $c(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];an=l,t_(l,n)}Zv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:fr(8,s,s.return),$c(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,$c(s));break;default:$c(s)}n=n.sibling}}function t_(n,s){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:fr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,an=l;else t:for(a=n;an!==null;){l=an;var h=l.sibling,m=l.return;if(qv(l),l===a){an=null;break t}if(h!==null){h.return=m,an=h;break t}an=m}}}var zw={getCacheForType:function(n){var s=hn(qe),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return hn(qe).controller.signal}},Uw=typeof WeakMap=="function"?WeakMap:Map,le=0,_e=null,Gt=null,Qt=0,he=0,Xn=null,dr=!1,vo=!1,ap=!1,Ps=0,je=0,hr=0,xa=0,op=0,$n=0,_o=0,Ql=null,Pn=null,lp=!1,Zc=0,e_=0,Jc=1/0,tf=null,pr=null,Je=0,mr=null,xo=null,ks=0,up=0,cp=null,n_=null,Wl=0,fp=null;function Zn(){return(le&2)!==0&&Qt!==0?Qt&-Qt:K.T!==null?yp():ec()}function i_(){if($n===0)if((Qt&536870912)===0||$t){var n=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),$n=n}else $n=536870912;return n=Wn.current,n!==null&&(n.flags|=32),$n}function kn(n,s,a){(n===_e&&(he===2||he===9)||n.cancelPendingCommit!==null)&&(bo(n,0),gr(n,Qt,$n,!1)),Wr(n,a),((le&2)===0||n!==_e)&&(n===_e&&((le&2)===0&&(xa|=a),je===4&&gr(n,Qt,$n,!1)),ls(n))}function s_(n,s,a){if((le&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Ci(n,s),h=l?qw(n,s):hp(n,s,!0),m=l;do{if(h===0){vo&&!l&&gr(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!Fw(a)){h=hp(n,s,!1),m=!1;continue}if(h===2){if(m=s,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var w=n;h=Ql;var z=w.current.memoizedState.isDehydrated;if(z&&(bo(w,T).flags|=256),T=hp(w,T,!1),T!==2){if(ap&&!z){w.errorRecoveryDisabledLanes|=m,xa|=m,h=4;break t}m=Pn,Pn=h,m!==null&&(Pn===null?Pn=m:Pn.push.apply(Pn,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bo(n,0),gr(n,s,0,!0);break}t:{switch(l=n,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:gr(l,s,$n,!dr);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Zc+300-te(),10<h)){if(gr(l,s,$n,!dr),qi(l,0,!0)!==0)break t;ks=s,l.timeoutHandle=N_(r_.bind(null,l,a,Pn,tf,lp,s,$n,xa,_o,dr,m,"Throttled",-0,0),h);break t}r_(l,a,Pn,tf,lp,s,$n,xa,_o,dr,m,null,-0,0)}}break}while(!0);ls(n)}function r_(n,s,a,l,h,m,T,w,z,Z,at,ft,tt,st){if(n.timeoutHandle=-1,ft=s.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},$v(s,m,ft);var Tt=(m&62914560)===m?Zc-te():(m&4194048)===m?e_-te():0;if(Tt=w2(ft,Tt),Tt!==null){ks=m,n.cancelPendingCommit=Tt(h_.bind(null,n,s,m,a,l,h,T,w,z,at,ft,null,tt,st)),gr(n,m,T,!Z);return}}h_(n,s,m,a,l,h,T,w,z)}function Fw(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Yn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gr(n,s,a,l){s&=~op,s&=~xa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var h=s;0<h;){var m=31-Ne(h),T=1<<m;l[m]=-1,h&=~T}a!==0&&Kr(n,a,s)}function ef(){return(le&6)===0?(Kl(0),!1):!0}function dp(){if(Gt!==null){if(he===0)var n=Gt.return;else n=Gt,ws=fa=null,Rh(n),co=null,Vl=0,n=Gt;for(;n!==null;)Pv(n.alternate,n),n=n.return;Gt=null}}function bo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,l2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ks=0,dp(),_e=n,Gt=a=As(n.current,null),Qt=s,he=0,Xn=null,dr=!1,vo=Ci(n,s),ap=!1,_o=$n=op=xa=hr=je=0,Pn=Ql=null,lp=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var h=31-Ne(l),m=1<<h;s|=n[h],l&=~m}return Ps=s,Tc(),a}function a_(n,s){Ft=null,K.H=Bl,s===uo||s===Dc?(s=T0(),he=3):s===gh?(s=T0(),he=4):he=s===qh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,Gt===null&&(je=1,qc(n,fi(s,n.current)))}function o_(){var n=Wn.current;return n===null?!0:(Qt&4194048)===Qt?mi===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?n===mi:!1}function l_(){var n=K.H;return K.H=Bl,n===null?Bl:n}function u_(){var n=K.A;return K.A=zw,n}function nf(){je=4,dr||(Qt&4194048)!==Qt&&Wn.current!==null||(vo=!0),(hr&134217727)===0&&(xa&134217727)===0||_e===null||gr(_e,Qt,$n,!1)}function hp(n,s,a){var l=le;le|=2;var h=l_(),m=u_();(_e!==n||Qt!==s)&&(tf=null,bo(n,s)),s=!1;var T=je;t:do try{if(he!==0&&Gt!==null){var w=Gt,z=Xn;switch(he){case 8:dp(),T=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var Z=he;if(he=0,Xn=null,To(n,w,z,Z),a&&vo){T=0;break t}break;default:Z=he,he=0,Xn=null,To(n,w,z,Z)}}Hw(),T=je;break}catch(at){a_(n,at)}while(!0);return s&&n.shellSuspendCounter++,ws=fa=null,le=l,K.H=h,K.A=m,Gt===null&&(_e=null,Qt=0,Tc()),T}function Hw(){for(;Gt!==null;)c_(Gt)}function qw(n,s){var a=le;le|=2;var l=l_(),h=u_();_e!==n||Qt!==s?(tf=null,Jc=te()+500,bo(n,s)):vo=Ci(n,s);t:do try{if(he!==0&&Gt!==null){s=Gt;var m=Xn;e:switch(he){case 1:he=0,Xn=null,To(n,s,m,1);break;case 2:case 9:if(x0(m)){he=0,Xn=null,f_(s);break}s=function(){he!==2&&he!==9||_e!==n||(he=7),ls(n)},m.then(s,s);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:x0(m)?(he=0,Xn=null,f_(s)):(he=0,Xn=null,To(n,s,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var w=Gt;if(T?X_(T):w.stateNode.complete){he=0,Xn=null;var z=w.sibling;if(z!==null)Gt=z;else{var Z=w.return;Z!==null?(Gt=Z,sf(Z)):Gt=null}break e}}he=0,Xn=null,To(n,s,m,5);break;case 6:he=0,Xn=null,To(n,s,m,6);break;case 8:dp(),je=6;break t;default:throw Error(r(462))}}Gw();break}catch(at){a_(n,at)}while(!0);return ws=fa=null,K.H=l,K.A=h,le=a,Gt!==null?0:(_e=null,Qt=0,Tc(),je)}function Gw(){for(;Gt!==null&&!Et();)c_(Gt)}function c_(n){var s=Ov(n.alternate,n,Ps);n.memoizedProps=n.pendingProps,s===null?sf(n):Gt=s}function f_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Rv(a,s,s.pendingProps,s.type,void 0,Qt);break;case 11:s=Rv(a,s,s.pendingProps,s.type.render,s.ref,Qt);break;case 5:Rh(s);default:Pv(a,s),s=Gt=u0(s,Ps),s=Ov(a,s,Ps)}n.memoizedProps=n.pendingProps,s===null?sf(n):Gt=s}function To(n,s,a,l){ws=fa=null,Rh(s),co=null,Vl=0;var h=s.return;try{if(Mw(n,h,s,a,Qt)){je=1,qc(n,fi(a,n.current)),Gt=null;return}}catch(m){if(h!==null)throw Gt=h,m;je=1,qc(n,fi(a,n.current)),Gt=null;return}s.flags&32768?($t||l===1?n=!0:vo||(Qt&536870912)!==0?n=!1:(dr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(s,n)):sf(s)}function sf(n){var s=n;do{if((s.flags&32768)!==0){d_(s,dr);return}n=s.return;var a=Pw(s.alternate,s,Ps);if(a!==null){Gt=a;return}if(s=s.sibling,s!==null){Gt=s;return}Gt=s=n}while(s!==null);je===0&&(je=5)}function d_(n,s){do{var a=kw(n.alternate,n);if(a!==null){a.flags&=32767,Gt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Gt=n;return}Gt=n=a}while(n!==null);je=6,Gt=null}function h_(n,s,a,l,h,m,T,w,z){n.cancelPendingCommit=null;do rf();while(Je!==0);if((le&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=eh,Yd(n,a,m,T,w,z),n===_e&&(Gt=_e=null,Qt=0),xo=s,mr=n,ks=a,up=m,cp=h,n_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Kw(Ys,function(){return v_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=H.p,H.p=2,T=le,le|=4;try{Lw(n,s,a)}finally{le=T,H.p=h,K.T=l}}Je=1,p_(),m_(),g_()}}function p_(){if(Je===1){Je=0;var n=mr,s=xo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=H.p;H.p=2;var h=le;le|=4;try{Wv(s,n);var m=Ep,T=t0(n.containerInfo),w=m.focusedElem,z=m.selectionRange;if(T!==w&&w&&w.ownerDocument&&Jy(w.ownerDocument.documentElement,w)){if(z!==null&&Xd(w)){var Z=z.start,at=z.end;if(at===void 0&&(at=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(at,w.value.length);else{var ft=w.ownerDocument||document,tt=ft&&ft.defaultView||window;if(tt.getSelection){var st=tt.getSelection(),Tt=w.textContent.length,It=Math.min(z.start,Tt),ve=z.end===void 0?It:Math.min(z.end,Tt);!st.extend&&It>ve&&(T=ve,ve=It,It=T);var Y=Zy(w,It),F=Zy(w,ve);if(Y&&F&&(st.rangeCount!==1||st.anchorNode!==Y.node||st.anchorOffset!==Y.offset||st.focusNode!==F.node||st.focusOffset!==F.offset)){var $=ft.createRange();$.setStart(Y.node,Y.offset),st.removeAllRanges(),It>ve?(st.addRange($),st.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),st.addRange($))}}}}for(ft=[],st=w;st=st.parentNode;)st.nodeType===1&&ft.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ft.length;w++){var lt=ft[w];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}yf=!!Ap,Ep=Ap=null}finally{le=h,H.p=l,K.T=a}}n.current=s,Je=2}}function m_(){if(Je===2){Je=0;var n=mr,s=xo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=H.p;H.p=2;var h=le;le|=4;try{Hv(n,s.alternate,s)}finally{le=h,H.p=l,K.T=a}}Je=3}}function g_(){if(Je===4||Je===3){Je=0,St();var n=mr,s=xo,a=ks,l=n_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Je=5:(Je=0,xo=mr=null,y_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(pr=null),xs(a),s=s.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(wi,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,h=H.p,H.p=2,K.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var w=l[T];m(w.value,{componentStack:w.stack})}}finally{K.T=s,H.p=h}}(ks&3)!==0&&rf(),ls(n),h=n.pendingLanes,(a&261930)!==0&&(h&42)!==0?n===fp?Wl++:(Wl=0,fp=n):Wl=0,Kl(0)}}function y_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Il(s)))}function rf(){return p_(),m_(),g_(),v_()}function v_(){if(Je!==5)return!1;var n=mr,s=up;up=0;var a=xs(ks),l=K.T,h=H.p;try{H.p=32>a?32:a,K.T=null,a=cp,cp=null;var m=mr,T=ks;if(Je=0,xo=mr=null,ks=0,(le&6)!==0)throw Error(r(331));var w=le;if(le|=4,Jv(m.current),Xv(m,m.current,T,a),le=w,Kl(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(wi,m)}catch{}return!0}finally{H.p=h,K.T=l,y_(n,s)}}function __(n,s,a){s=fi(a,s),s=Hh(n.stateNode,s,2),n=lr(n,s,2),n!==null&&(Wr(n,2),ls(n))}function pe(n,s,a){if(n.tag===3)__(n,n,a);else for(;s!==null;){if(s.tag===3){__(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pr===null||!pr.has(l))){n=fi(a,n),a=xv(2),l=lr(s,a,2),l!==null&&(bv(a,l,s,n),Wr(l,2),ls(l));break}}s=s.return}}function pp(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Uw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(ap=!0,h.add(a),n=Yw.bind(null,n,s,a),s.then(n,n))}function Yw(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,_e===n&&(Qt&a)===a&&(je===4||je===3&&(Qt&62914560)===Qt&&300>te()-Zc?(le&2)===0&&bo(n,0):op|=a,_o===Qt&&(_o=0)),ls(n)}function x_(n,s){s===0&&(s=tc()),n=la(n,s),n!==null&&(Wr(n,s),ls(n))}function Qw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),x_(n,a)}function Ww(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),x_(n,a)}function Kw(n,s){return Te(n,s)}var af=null,So=null,mp=!1,of=!1,gp=!1,yr=0;function ls(n){n!==So&&n.next===null&&(So===null?af=So=n:So=So.next=n),of=!0,mp||(mp=!0,$w())}function Kl(n,s){if(!gp&&of){gp=!0;do for(var a=!1,l=af;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var T=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Ne(42|n)+1)-1,m&=h&~(T&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,A_(l,m))}else m=Qt,m=qi(l,l===_e?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ci(l,m)||(a=!0,A_(l,m));l=l.next}while(a);gp=!1}}function Xw(){b_()}function b_(){of=mp=!1;var n=0;yr!==0&&o2()&&(n=yr);for(var s=te(),a=null,l=af;l!==null;){var h=l.next,m=T_(l,s);m===0?(l.next=null,a===null?af=h:a.next=h,h===null&&(So=a)):(a=l,(n!==0||(m&3)!==0)&&(of=!0)),l=h}Je!==0&&Je!==5||Kl(n),yr!==0&&(yr=0)}function T_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Ne(m),w=1<<T,z=h[T];z===-1?((w&a)===0||(w&l)!==0)&&(h[T]=Gd(w,s)):z<=s&&(n.expiredLanes|=w),m&=~w}if(s=_e,a=Qt,a=qi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(he===2||he===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ot(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ci(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&ot(l),xs(a)){case 2:case 8:a=si;break;case 32:a=Ys;break;case 268435456:a=Ku;break;default:a=Ys}return l=S_.bind(null,n),a=Te(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&ot(l),n.callbackPriority=2,n.callbackNode=null,2}function S_(n,s){if(Je!==0&&Je!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rf()&&n.callbackNode!==a)return null;var l=Qt;return l=qi(n,n===_e?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(s_(n,l,s),T_(n,te()),n.callbackNode!=null&&n.callbackNode===a?S_.bind(null,n):null)}function A_(n,s){if(rf())return null;s_(n,s,!0)}function $w(){u2(function(){(le&6)!==0?Te(ee,Xw):b_()})}function yp(){if(yr===0){var n=oo;n===0&&(n=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),yr=n}return yr}function E_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ya(""+n)}function w_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Zw(n,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=E_((h[sn]||null).action),T=l.submitter;T&&(s=(s=T[sn]||null)?E_(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var w=new es("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var z=T?w_(h,T):new FormData(h);kh(a,{pending:!0,data:z,method:h.method,action:m},null,z)}}else typeof m=="function"&&(w.preventDefault(),z=T?w_(h,T):new FormData(h),kh(a,{pending:!0,data:z,method:h.method,action:m},m,z))},currentTarget:h}]})}}for(var vp=0;vp<th.length;vp++){var _p=th[vp],Jw=_p.toLowerCase(),t2=_p[0].toUpperCase()+_p.slice(1);Ni(Jw,"on"+t2)}Ni(i0,"onAnimationEnd"),Ni(s0,"onAnimationIteration"),Ni(r0,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(gw,"onTransitionRun"),Ni(yw,"onTransitionStart"),Ni(vw,"onTransitionCancel"),Ni(a0,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function C_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var w=l[T],z=w.instance,Z=w.currentTarget;if(w=w.listener,z!==m&&h.isPropagationStopped())break t;m=w,h.currentTarget=Z;try{m(h)}catch(at){bc(at)}h.currentTarget=null,m=z}else for(T=0;T<l.length;T++){if(w=l[T],z=w.instance,Z=w.currentTarget,w=w.listener,z!==m&&h.isPropagationStopped())break t;m=w,h.currentTarget=Z;try{m(h)}catch(at){bc(at)}h.currentTarget=null,m=z}}}}function Yt(n,s){var a=s[Ua];a===void 0&&(a=s[Ua]=new Set);var l=n+"__bubble";a.has(l)||(R_(s,n,2,!1),a.add(l))}function xp(n,s,a){var l=0;s&&(l|=4),R_(a,n,l,s)}var lf="_reactListening"+Math.random().toString(36).slice(2);function bp(n){if(!n[lf]){n[lf]=!0,ll.forEach(function(a){a!=="selectionchange"&&(e2.has(a)||xp(a,!1,n),xp(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lf]||(s[lf]=!0,xp("selectionchange",!1,s))}}function R_(n,s,a,l){switch(ix(s)){case 2:var h=I2;break;case 8:h=D2;break;default:h=Pp}a=h.bind(null,s,a,n),h=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function Tp(n,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===h)break;if(T===4)for(T=l.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;w!==null;){if(T=Wi(w),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){l=m=T;continue t}w=w.parentNode}}l=l.return}Zs(function(){var Z=m,at=oi(a),ft=[];t:{var tt=o0.get(n);if(tt!==void 0){var st=es,Tt=n;switch(n){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":st=vc;break;case"focusin":Tt="focus",st=sa;break;case"focusout":Tt="blur",st=sa;break;case"beforeblur":case"afterblur":st=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=b;break;case i0:case s0:case r0:st=fc;break;case a0:st=D;break;case"scroll":case"scrollend":st=xl;break;case"wheel":st=it;break;case"copy":case"cut":case"paste":st=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Ss;break;case"toggle":case"beforetoggle":st=Ut}var It=(s&4)!==0,ve=!It&&(n==="scroll"||n==="scrollend"),Y=It?tt!==null?tt+"Capture":null:tt;It=[];for(var F=Z,$;F!==null;){var lt=F;if($=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||$===null||Y===null||(lt=Vi(F,Y),lt!=null&&It.push($l(F,lt,$))),ve)break;F=F.return}0<It.length&&(tt=new st(tt,Tt,null,a,at),ft.push({event:tt,listeners:It}))}}if((s&7)===0){t:{if(tt=n==="mouseover"||n==="pointerover",st=n==="mouseout"||n==="pointerout",tt&&a!==yl&&(Tt=a.relatedTarget||a.fromElement)&&(Wi(Tt)||Tt[Yi]))break t;if((st||tt)&&(tt=at.window===at?at:(tt=at.ownerDocument)?tt.defaultView||tt.parentWindow:window,st?(Tt=a.relatedTarget||a.toElement,st=Z,Tt=Tt?Wi(Tt):null,Tt!==null&&(ve=u(Tt),It=Tt.tag,Tt!==ve||It!==5&&It!==27&&It!==6)&&(Tt=null)):(st=null,Tt=Z),st!==Tt)){if(It=bl,lt="onMouseLeave",Y="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(It=Ss,lt="onPointerLeave",Y="onPointerEnter",F="pointer"),ve=st==null?tt:qn(st),$=Tt==null?tt:qn(Tt),tt=new It(lt,F+"leave",st,a,at),tt.target=ve,tt.relatedTarget=$,lt=null,Wi(at)===Z&&(It=new It(Y,F+"enter",Tt,a,at),It.target=$,It.relatedTarget=ve,lt=It),ve=lt,st&&Tt)e:{for(It=n2,Y=st,F=Tt,$=0,lt=Y;lt;lt=It(lt))$++;lt=0;for(var Ct=F;Ct;Ct=It(Ct))lt++;for(;0<$-lt;)Y=It(Y),$--;for(;0<lt-$;)F=It(F),lt--;for(;$--;){if(Y===F||F!==null&&Y===F.alternate){It=Y;break e}Y=It(Y),F=It(F)}It=null}else It=null;st!==null&&I_(ft,tt,st,It,!1),Tt!==null&&ve!==null&&I_(ft,ve,Tt,It,!0)}}t:{if(tt=Z?qn(Z):window,st=tt.nodeName&&tt.nodeName.toLowerCase(),st==="select"||st==="input"&&tt.type==="file")var ne=Yy;else if(qy(tt))if(Qy)ne=hw;else{ne=fw;var At=cw}else st=tt.nodeName,!st||st.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&Ga(Z.elementType)&&(ne=Yy):ne=dw;if(ne&&(ne=ne(n,Z))){Gy(ft,ne,a,at);break t}At&&At(n,tt,Z),n==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&pl(tt,"number",tt.value)}switch(At=Z?qn(Z):window,n){case"focusin":(qy(At)||At.contentEditable==="true")&&(Ja=At,$d=Z,wl=null);break;case"focusout":wl=$d=Ja=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,e0(ft,a,at);break;case"selectionchange":if(mw)break;case"keydown":case"keyup":e0(ft,a,at)}var Ht;if(oe)t:{switch(n){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else Za?ra(n,a)&&(Wt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Wt="onCompositionStart");Wt&&(ss&&a.locale!=="ko"&&(Za||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Za&&(Ht=_l()):(ts=at,vl="value"in ts?ts.value:ts.textContent,Za=!0)),At=uf(Z,Wt),0<At.length&&(Wt=new is(Wt,n,null,a,at),ft.push({event:Wt,listeners:At}),Ht?Wt.data=Ht:(Ht=$a(a),Ht!==null&&(Wt.data=Ht)))),(Ht=ui?aw(n,a):ow(n,a))&&(Wt=uf(Z,"onBeforeInput"),0<Wt.length&&(At=new is("onBeforeInput","beforeinput",null,a,at),ft.push({event:At,listeners:Wt}),At.data=Ht)),Zw(ft,n,Z,a,at)}C_(ft,s)})}function $l(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uf(n,s){for(var a=s+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Vi(n,a),h!=null&&l.unshift($l(n,h,m)),h=Vi(n,s),h!=null&&l.push($l(n,h,m))),n.tag===3)return l;n=n.return}return[]}function n2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function I_(n,s,a,l,h){for(var m=s._reactName,T=[];a!==null&&a!==l;){var w=a,z=w.alternate,Z=w.stateNode;if(w=w.tag,z!==null&&z===l)break;w!==5&&w!==26&&w!==27||Z===null||(z=Z,h?(Z=Vi(a,m),Z!=null&&T.unshift($l(a,Z,z))):h||(Z=Vi(a,m),Z!=null&&T.push($l(a,Z,z)))),a=a.return}T.length!==0&&n.push({event:s,listeners:T})}var i2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function D_(n){return(typeof n=="string"?n:""+n).replace(i2,`
`).replace(s2,"")}function V_(n,s){return s=D_(s),D_(n)===s}function ye(n,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||jn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&jn(n,""+l);break;case"className":Gn(n,"class",l);break;case"tabIndex":Gn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(n,a,l);break;case"style":gl(n,l,m);break;case"data":if(s!=="object"){Gn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ya(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ye(n,s,"name",h.name,h,null),ye(n,s,"formEncType",h.formEncType,h,null),ye(n,s,"formMethod",h.formMethod,h,null),ye(n,s,"formTarget",h.formTarget,h,null)):(ye(n,s,"encType",h.encType,h,null),ye(n,s,"method",h.method,h,null),ye(n,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ya(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Di);break;case"onScroll":l!=null&&Yt("scroll",n);break;case"onScrollEnd":l!=null&&Yt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ya(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Yt("beforetoggle",n),Yt("toggle",n),Ha(n,"popover",l);break;case"xlinkActuate":He(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":He(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":He(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":He(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":He(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":He(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":He(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":He(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":He(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,Ha(n,a,l))}}function Sp(n,s,a,l,h,m){switch(a){case"style":gl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?jn(n,l):(typeof l=="number"||typeof l=="bigint")&&jn(n,""+l);break;case"onScroll":l!=null&&Yt("scroll",n);break;case"onScrollEnd":l!=null&&Yt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=n[sn]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ha(n,a,l)}}}function mn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",n),Yt("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ye(n,s,m,T,a,null)}}h&&ye(n,s,"srcSet",a.srcSet,a,null),l&&ye(n,s,"src",a.src,a,null);return;case"input":Yt("invalid",n);var w=m=T=h=null,z=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var at=a[l];if(at!=null)switch(l){case"name":h=at;break;case"type":T=at;break;case"checked":z=at;break;case"defaultChecked":Z=at;break;case"value":m=at;break;case"defaultValue":w=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:ye(n,s,l,at,a,null)}}rc(n,m,w,z,Z,T,h,!1);return;case"select":Yt("invalid",n),l=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:ye(n,s,h,w,a,null)}s=m,a=T,n.multiple=!!l,s!=null?Ws(n,!!l,s,!1):a!=null&&Ws(n,!!l,a,!0);return;case"textarea":Yt("invalid",n),m=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ye(n,s,T,w,a,null)}Ks(n,l,h,m);return;case"option":for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!=null)&&(z==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":ye(n,s,z,l,a,null));return;case"dialog":Yt("beforetoggle",n),Yt("toggle",n),Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":Yt("load",n);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Yt(Xl[l],n);break;case"image":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"embed":case"source":case"link":Yt("error",n),Yt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ye(n,s,Z,l,a,null)}return;default:if(Ga(s)){for(at in a)a.hasOwnProperty(at)&&(l=a[at],l!==void 0&&Sp(n,s,at,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ye(n,s,w,l,a,null))}function r2(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,w=null,z=null,Z=null,at=null;for(st in a){var ft=a[st];if(a.hasOwnProperty(st)&&ft!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":z=ft;default:l.hasOwnProperty(st)||ye(n,s,st,null,l,ft)}}for(var tt in l){var st=l[tt];if(ft=a[tt],l.hasOwnProperty(tt)&&(st!=null||ft!=null))switch(tt){case"type":m=st;break;case"name":h=st;break;case"checked":Z=st;break;case"defaultChecked":at=st;break;case"value":T=st;break;case"defaultValue":w=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:st!==ft&&ye(n,s,tt,st,l,ft)}}qa(n,T,w,z,Z,at,m,h);return;case"select":st=T=w=tt=null;for(m in a)if(z=a[m],a.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":st=z;default:l.hasOwnProperty(m)||ye(n,s,m,null,l,z)}for(h in l)if(m=l[h],z=a[h],l.hasOwnProperty(h)&&(m!=null||z!=null))switch(h){case"value":tt=m;break;case"defaultValue":w=m;break;case"multiple":T=m;default:m!==z&&ye(n,s,h,m,l,z)}s=w,a=T,l=st,tt!=null?Ws(n,!!a,tt,!1):!!l!=!!a&&(s!=null?Ws(n,!!a,s,!0):Ws(n,!!a,a?[]:"",!1));return;case"textarea":st=tt=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ye(n,s,w,null,l,h)}for(T in l)if(h=l[T],m=a[T],l.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":tt=h;break;case"defaultValue":st=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&ye(n,s,T,h,l,m)}ac(n,tt,st);return;case"option":for(var Tt in a)tt=a[Tt],a.hasOwnProperty(Tt)&&tt!=null&&!l.hasOwnProperty(Tt)&&(Tt==="selected"?n.selected=!1:ye(n,s,Tt,null,l,tt));for(z in l)tt=l[z],st=a[z],l.hasOwnProperty(z)&&tt!==st&&(tt!=null||st!=null)&&(z==="selected"?n.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":ye(n,s,z,tt,l,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)tt=a[It],a.hasOwnProperty(It)&&tt!=null&&!l.hasOwnProperty(It)&&ye(n,s,It,null,l,tt);for(Z in l)if(tt=l[Z],st=a[Z],l.hasOwnProperty(Z)&&tt!==st&&(tt!=null||st!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:ye(n,s,Z,tt,l,st)}return;default:if(Ga(s)){for(var ve in a)tt=a[ve],a.hasOwnProperty(ve)&&tt!==void 0&&!l.hasOwnProperty(ve)&&Sp(n,s,ve,void 0,l,tt);for(at in l)tt=l[at],st=a[at],!l.hasOwnProperty(at)||tt===st||tt===void 0&&st===void 0||Sp(n,s,at,tt,l,st);return}}for(var Y in a)tt=a[Y],a.hasOwnProperty(Y)&&tt!=null&&!l.hasOwnProperty(Y)&&ye(n,s,Y,null,l,tt);for(ft in l)tt=l[ft],st=a[ft],!l.hasOwnProperty(ft)||tt===st||tt==null&&st==null||ye(n,s,ft,tt,l,st)}function j_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,T=h.initiatorType,w=h.duration;if(m&&w&&j_(T)){for(T=0,w=h.responseEnd,l+=1;l<a.length;l++){var z=a[l],Z=z.startTime;if(Z>w)break;var at=z.transferSize,ft=z.initiatorType;at&&j_(ft)&&(z=z.responseEnd,T+=at*(z<w?1:(w-Z)/(z-Z)))}if(--l,s+=8*(m+T)/(h.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ap=null,Ep=null;function cf(n){return n.nodeType===9?n:n.ownerDocument}function M_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function wp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cp=null;function o2(){var n=window.event;return n&&n.type==="popstate"?n===Cp?!1:(Cp=n,!0):(Cp=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(n){return P_.resolve(null).then(n).catch(c2)}:N_;function c2(n){setTimeout(function(){throw n})}function vr(n){return n==="head"}function k_(n,s){var a=s,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(h),Co(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Zl(a);for(var m=a.firstChild;m;){var T=m.nextSibling,w=m.nodeName;m[Qi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Zl(n.ownerDocument.body);a=h}while(a);Co(s)}function L_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Rp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rp(a),Fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function f2(n,s,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Qi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=gi(n.nextSibling),n===null)break}return null}function d2(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=gi(n.nextSibling),n===null))return null;return n}function B_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=gi(n.nextSibling),n===null))return null;return n}function Ip(n){return n.data==="$?"||n.data==="$~"}function Dp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function h2(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function gi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Vp=null;function z_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return gi(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function U_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function F_(n,s,a){switch(s=cf(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Zl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Fa(n)}var yi=new Map,H_=new Set;function ff(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ls=H.d;H.d={f:p2,r:m2,D:g2,C:y2,L:v2,m:_2,X:b2,S:x2,M:T2};function p2(){var n=Ls.f(),s=ef();return n||s}function m2(n){var s=ai(n);s!==null&&s.tag===5&&s.type==="form"?av(s):Ls.r(n)}var Ao=typeof document>"u"?null:document;function q_(n,s,a){var l=Ao;if(l&&typeof s=="string"&&s){var h=Vn(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),n={rel:n,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),mn(s,"link",n),Fe(s),l.head.appendChild(s)))}}function g2(n){Ls.D(n),q_("dns-prefetch",n,null)}function y2(n,s){Ls.C(n,s),q_("preconnect",n,s)}function v2(n,s,a){Ls.L(n,s,a);var l=Ao;if(l&&n&&s){var h='link[rel="preload"][as="'+Vn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Vn(a.imageSizes)+'"]')):h+='[href="'+Vn(n)+'"]';var m=h;switch(s){case"style":m=Eo(n);break;case"script":m=wo(n)}yi.has(m)||(n=f({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),yi.set(m,n),l.querySelector(h)!==null||s==="style"&&l.querySelector(Jl(m))||s==="script"&&l.querySelector(tu(m))||(s=l.createElement("link"),mn(s,"link",n),Fe(s),l.head.appendChild(s)))}}function _2(n,s){Ls.m(n,s);var a=Ao;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Vn(l)+'"][href="'+Vn(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wo(n)}if(!yi.has(m)&&(n=f({rel:"modulepreload",href:n},s),yi.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tu(m)))return}l=a.createElement("link"),mn(l,"link",n),Fe(l),a.head.appendChild(l)}}}function x2(n,s,a){Ls.S(n,s,a);var l=Ao;if(l&&n){var h=Ki(l).hoistableStyles,m=Eo(n);s=s||"default";var T=h.get(m);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(Jl(m)))w.loading=5;else{n=f({rel:"stylesheet",href:n,"data-precedence":s},a),(a=yi.get(m))&&jp(n,a);var z=T=l.createElement("link");Fe(z),mn(z,"link",n),z._p=new Promise(function(Z,at){z.onload=Z,z.onerror=at}),z.addEventListener("load",function(){w.loading|=1}),z.addEventListener("error",function(){w.loading|=2}),w.loading|=4,df(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(m,T)}}}function b2(n,s){Ls.X(n,s);var a=Ao;if(a&&n){var l=Ki(a).hoistableScripts,h=wo(n),m=l.get(h);m||(m=a.querySelector(tu(h)),m||(n=f({src:n,async:!0},s),(s=yi.get(h))&&Mp(n,s),m=a.createElement("script"),Fe(m),mn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function T2(n,s){Ls.M(n,s);var a=Ao;if(a&&n){var l=Ki(a).hoistableScripts,h=wo(n),m=l.get(h);m||(m=a.querySelector(tu(h)),m||(n=f({src:n,async:!0,type:"module"},s),(s=yi.get(h))&&Mp(n,s),m=a.createElement("script"),Fe(m),mn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function G_(n,s,a,l){var h=(h=mt.current)?ff(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Eo(a.href),a=Ki(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Eo(a.href);var m=Ki(h).hoistableStyles,T=m.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=h.querySelector(Jl(n)))&&!m._p&&(T.instance=m,T.state.loading=5),yi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(n,a),m||S2(h,n,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wo(a),a=Ki(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Eo(n){return'href="'+Vn(n)+'"'}function Jl(n){return'link[rel="stylesheet"]['+n+"]"}function Y_(n){return f({},n,{"data-precedence":n.precedence,precedence:null})}function S2(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),mn(s,"link",a),Fe(s),n.head.appendChild(s))}function wo(n){return'[src="'+Vn(n)+'"]'}function tu(n){return"script[async]"+n}function Q_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Vn(a.href)+'"]');if(l)return s.instance=l,Fe(l),l;var h=f({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Fe(l),mn(l,"style",h),df(l,a.precedence,n),s.instance=l;case"stylesheet":h=Eo(a.href);var m=n.querySelector(Jl(h));if(m)return s.state.loading|=4,s.instance=m,Fe(m),m;l=Y_(a),(h=yi.get(h))&&jp(l,h),m=(n.ownerDocument||n).createElement("link"),Fe(m);var T=m;return T._p=new Promise(function(w,z){T.onload=w,T.onerror=z}),mn(m,"link",l),s.state.loading|=4,df(m,a.precedence,n),s.instance=m;case"script":return m=wo(a.src),(h=n.querySelector(tu(m)))?(s.instance=h,Fe(h),h):(l=a,(h=yi.get(m))&&(l=f({},a),Mp(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Fe(h),mn(h,"link",l),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,df(l,a.precedence,n));return s.instance}function df(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===s)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function jp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Mp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var hf=null;function W_(n,s,a){if(hf===null){var l=new Map,h=hf=new Map;h.set(a,l)}else h=hf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[Qi]||m[Ue]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=n+T;var w=l.get(T);w?w.push(m):l.set(T,[m])}}return l}function K_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function A2(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function X_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function E2(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Eo(l.href),m=s.querySelector(Jl(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=pf.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=m,Fe(m);return}m=s.ownerDocument||s,l=Y_(l),(h=yi.get(h))&&jp(l,h),m=m.createElement("link"),Fe(m);var T=m;T._p=new Promise(function(w,z){T.onload=w,T.onerror=z}),mn(m,"link",l),a.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=pf.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Op=0;function w2(n,s){return n.stylesheets&&n.count===0&&gf(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&gf(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&Op===0&&(Op=62500*a2());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gf(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Op?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var mf=null;function gf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,mf=new Map,s.forEach(C2,n),mf=null,pf.call(n))}function C2(n,s){if(!(s.state.loading&4)){var a=mf.get(n);if(a)var l=a.get(null);else{a=new Map,mf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=s.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,h),a.set(T,h),this.count++,l=pf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var eu={$$typeof:k,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function R2(n,s,a,l,h,m,T,w,z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function $_(n,s,a,l,h,m,T,w,z,Z,at,ft){return n=new R2(n,s,a,T,z,Z,at,ft,w),s=1,m===!0&&(s|=24),m=Qn(3,null,null,s),n.current=m,m.stateNode=n,s=hh(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},yh(m),n}function Z_(n){return n?(n=no,n):no}function J_(n,s,a,l,h,m){h=Z_(h),l.context===null?l.context=h:l.pendingContext=h,l=or(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=lr(n,l,s),a!==null&&(kn(a,n,s),Ml(a,n,s))}function tx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Np(n,s){tx(n,s),(n=n.alternate)&&tx(n,s)}function ex(n){if(n.tag===13||n.tag===31){var s=la(n,67108864);s!==null&&kn(s,n,67108864),Np(n,67108864)}}function nx(n){if(n.tag===13||n.tag===31){var s=Zn();s=Xr(s);var a=la(n,s);a!==null&&kn(a,n,s),Np(n,s)}}var yf=!0;function I2(n,s,a,l){var h=K.T;K.T=null;var m=H.p;try{H.p=2,Pp(n,s,a,l)}finally{H.p=m,K.T=h}}function D2(n,s,a,l){var h=K.T;K.T=null;var m=H.p;try{H.p=8,Pp(n,s,a,l)}finally{H.p=m,K.T=h}}function Pp(n,s,a,l){if(yf){var h=kp(l);if(h===null)Tp(n,s,l,vf,a),sx(n,l);else if(j2(h,n,s,a,l))l.stopPropagation();else if(sx(n,l),s&4&&-1<V2.indexOf(n)){for(;h!==null;){var m=ai(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Hi(m.pendingLanes);if(T!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var z=1<<31-Ne(T);w.entanglements[1]|=z,T&=~z}ls(m),(le&6)===0&&(Jc=te()+500,Kl(0))}}break;case 31:case 13:w=la(m,2),w!==null&&kn(w,m,2),ef(),Np(m,2)}if(m=kp(l),m===null&&Tp(n,s,l,vf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Tp(n,s,l,null,a)}}function kp(n){return n=oi(n),Lp(n)}var vf=null;function Lp(n){if(vf=null,n=Wi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=p(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return vf=n,null}function ix(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case ee:return 2;case si:return 8;case Ys:case qd:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var Bp=!1,_r=null,xr=null,br=null,nu=new Map,iu=new Map,Tr=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(n,s){switch(n){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(s.pointerId)}}function su(n,s,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=ai(s),s!==null&&ex(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function j2(n,s,a,l,h){switch(s){case"focusin":return _r=su(_r,n,s,a,l,h),!0;case"dragenter":return xr=su(xr,n,s,a,l,h),!0;case"mouseover":return br=su(br,n,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return nu.set(m,su(nu.get(m)||null,n,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,iu.set(m,su(iu.get(m)||null,n,s,a,l,h)),!0}return!1}function rx(n){var s=Wi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Ri(n.priority,function(){nx(a)});return}}else if(s===31){if(s=p(a),s!==null){n.blockedOn=s,Ri(n.priority,function(){nx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _f(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=kp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return s=ai(a),s!==null&&ex(s),n.blockedOn=a,!1;s.shift()}return!0}function ax(n,s,a){_f(n)&&a.delete(s)}function M2(){Bp=!1,_r!==null&&_f(_r)&&(_r=null),xr!==null&&_f(xr)&&(xr=null),br!==null&&_f(br)&&(br=null),nu.forEach(ax),iu.forEach(ax)}function xf(n,s){n.blockedOn===s&&(n.blockedOn=null,Bp||(Bp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,M2)))}var bf=null;function ox(n){bf!==n&&(bf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bf===n&&(bf=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],h=n[s+2];if(typeof l!="function"){if(Lp(l||a)===null)continue;break}var m=ai(a);m!==null&&(n.splice(s,3),s-=3,kh(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Co(n){function s(z){return xf(z,n)}_r!==null&&xf(_r,n),xr!==null&&xf(xr,n),br!==null&&xf(br,n),nu.forEach(s),iu.forEach(s);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)rx(a),a.blockedOn===null&&Tr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],T=h[sn]||null;if(typeof m=="function")T||ox(a);else if(T){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[sn]||null)w=T.formAction;else if(Lp(h)!==null)continue}else w=T.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),ox(a)}}}function lx(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function zp(n){this._internalRoot=n}Tf.prototype.render=zp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Zn();J_(a,l,n,s,null,null)},Tf.prototype.unmount=zp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;J_(n.current,2,null,n,null,null),ef(),s[Yi]=null}};function Tf(n){this._internalRoot=n}Tf.prototype.unstable_scheduleHydration=function(n){if(n){var s=ec();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Tr.length&&s!==0&&s<Tr[a].priority;a++);Tr.splice(a,0,n),a===0&&rx(n)}};var ux=t.version;if(ux!=="19.2.3")throw Error(r(527,ux,"19.2.3"));H.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=v(s),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var O2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{wi=Sf.inject(O2),cn=Sf}catch{}}return ou.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",h=gv,m=yv,T=vv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=$_(n,1,!1,null,null,a,l,null,h,m,T,lx),n[Yi]=s.current,bp(n),new zp(s)},ou.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,h="",m=gv,T=yv,w=vv,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),s=$_(n,1,!0,s,a??null,l,h,z,m,T,w,lx),s.context=Z_(null),a=s.current,l=Zn(),l=Xr(l),h=or(l),h.callback=null,lr(a,h,l),a=l,s.current.lanes=a,Wr(s,a),ls(s),n[Yi]=s.current,bp(n),new Tf(s)},ou.version="19.2.3",ou}var _x;function q2(){if(_x)return Hp.exports;_x=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hp.exports=H2(),Hp.exports}var G2=q2();const Y2=()=>{};var xx={};const dT=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Q2=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],p=i[e++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,p=c?i[o+1]:0,g=o+2<i.length,v=g?i[o+2]:0,x=u>>2,f=(u&3)<<4|p>>4;let _=(p&15)<<2|v>>6,S=v&63;g||(S=64,c||(_=64)),r.push(e[x],e[f],e[_],e[S])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(dT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Q2(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],p=o<i.length?e[i.charAt(o)]:0;++o;const v=o<i.length?e[i.charAt(o)]:64;++o;const f=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||p==null||v==null||f==null)throw new W2;const _=u<<2|p>>4;if(r.push(_),v!==64){const S=p<<4&240|v>>2;if(r.push(S),f!==64){const E=v<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class W2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(i){const t=dT(i);return hT.encodeByteArray(t,!0)},Qf=function(i){return K2(i).replace(/\./g,"")},X2=function(i){try{return hT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Z2=()=>$2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof xx>"u")return;const i=xx.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&X2(i[1]);return t&&JSON.parse(t)},_g=()=>{try{return Y2()||Z2()||J2()||tC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},eC=i=>_g()?.emulatorHosts?.[i],nC=i=>{const t=eC(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},pT=()=>_g()?.config;class iC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function xg(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sC(i){return(await fetch(i,{credentials:"include"})).ok}function rC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qf(JSON.stringify(e)),Qf(JSON.stringify(c)),""].join(".")}const pu={};function aC(){const i={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?i.emulator.push(t):i.prod.push(t);return i}function oC(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let bx=!1;function lC(i,t){if(typeof window>"u"||typeof document>"u"||!xg(window.location.host)||pu[i]===t||pu[i]||bx)return;pu[i]=t;function e(_){return`__firebase__banner__${_}`}const r="__firebase__banner",u=aC().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function g(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function v(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{bx=!0,c()},_}function x(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function f(){const _=oC(r),S=e("text"),E=document.getElementById(S)||document.createElement("span"),C=e("learnmore"),M=document.getElementById(C)||document.createElement("a"),V=e("preprendIcon"),O=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;p(k),x(M,C);const G=v();g(O,V),k.append(O,E,M,G),document.body.appendChild(k)}u?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function uC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cC(){const i=_g()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}function hC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pC="FirebaseError";class Fr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=pC,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?mC(u,r):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Fr(o,p,r)}}function mC(i,t){return i.replace(gC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const gC=/\{\$([^}]+)}/g;function Su(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(Tx(u)&&Tx(c)){if(!Su(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function Tx(i){return i!==null&&typeof i=="object"}const yC=1e3,vC=2,_C=14400*1e3,xC=.5;function Sx(i,t=yC,e=vC){const r=t*Math.pow(e,i),o=Math.round(xC*r*(Math.random()-.5)*2);return Math.min(_C,r+o)}function ni(i){return i&&i._delegate?i._delegate:i}class zs{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Sa="[DEFAULT]";class bC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new iC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SC(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(i){return i===Sa?void 0:i}function SC(i){return i.instantiationMode==="EAGER"}class AC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Jt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Jt||(Jt={}));const EC={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},wC=Jt.INFO,CC={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},RC=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=CC[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bg{constructor(t){this.name=t,this._logLevel=wC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?EC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const IC=(i,t)=>t.some(e=>i instanceof e);let Ax,Ex;function DC(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return Ex||(Ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,Am=new WeakMap,vT=new WeakMap,Qp=new WeakMap,Tg=new WeakMap;function jC(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(Cr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&yT.set(e,i)}).catch(()=>{}),Tg.set(t,i),t}function MC(i){if(Am.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Am.set(i,t)}let Em={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Am.get(i);if(t==="objectStoreNames")return i.objectStoreNames||vT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function OC(i){Em=i(Em)}function NC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Wp(this),t,...e);return vT.set(r,t.sort?t.sort():[t]),Cr(r)}:VC().includes(i)?function(...t){return i.apply(Wp(this),t),Cr(yT.get(this))}:function(...t){return Cr(i.apply(Wp(this),t))}}function PC(i){return typeof i=="function"?NC(i):(i instanceof IDBTransaction&&MC(i),IC(i,DC())?new Proxy(i,Em):i)}function Cr(i){if(i instanceof IDBRequest)return jC(i);if(Qp.has(i))return Qp.get(i);const t=PC(i);return t!==i&&(Qp.set(i,t),Tg.set(t,i)),t}const Wp=i=>Tg.get(i);function _T(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),p=Cr(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Cr(c.result),g.oldVersion,g.newVersion,Cr(c.transaction),g)}),e&&c.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const kC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],Kp=new Map;function wx(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Kp.get(t))return Kp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=LC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(e)))return;const u=async function(c,...p){const g=this.transaction(c,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[e](...p),o&&g.done]))[0]};return Kp.set(t,u),u}OC(i=>({...i,get:(t,e,r)=>wx(t,e)||i.get(t,e,r),has:(t,e)=>!!wx(t,e)||i.has(t,e)}));class BC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(zC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function zC(i){return i.getComponent()?.type==="VERSION"}const wm="@firebase/app",Cx="0.14.6";const Us=new bg("@firebase/app"),UC="@firebase/app-compat",FC="@firebase/analytics-compat",HC="@firebase/analytics",qC="@firebase/app-check-compat",GC="@firebase/app-check",YC="@firebase/auth",QC="@firebase/auth-compat",WC="@firebase/database",KC="@firebase/data-connect",XC="@firebase/database-compat",$C="@firebase/functions",ZC="@firebase/functions-compat",JC="@firebase/installations",tR="@firebase/installations-compat",eR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",rR="@firebase/remote-config",aR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",fR="@firebase/firestore-compat",dR="firebase",hR="12.6.0";const Cm="[DEFAULT]",pR={[wm]:"fire-core",[UC]:"fire-core-compat",[HC]:"fire-analytics",[FC]:"fire-analytics-compat",[GC]:"fire-app-check",[qC]:"fire-app-check-compat",[YC]:"fire-auth",[QC]:"fire-auth-compat",[WC]:"fire-rtdb",[KC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[$C]:"fire-fn",[ZC]:"fire-fn-compat",[JC]:"fire-iid",[tR]:"fire-iid-compat",[eR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[rR]:"fire-rc",[aR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[fR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};const Wf=new Map,mR=new Map,Rm=new Map;function Rx(i,t){try{i.container.addComponent(t)}catch(e){Us.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function jr(i){const t=i.name;if(Rm.has(t))return Us.debug(`There were multiple attempts to register component ${t}.`),!1;Rm.set(t,i);for(const e of Wf.values())Rx(e,i);for(const e of mR.values())Rx(e,i);return!0}function Lu(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function gR(i){return i==null?!1:i.settings!==void 0}const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new gd("app","Firebase",yR);class vR{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const _R=hR;function xT(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:Cm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(e||(e=pT()),!e)throw Rr.create("no-options");const u=Wf.get(o);if(u){if(Su(e,u.options)&&Su(r,u.config))return u;throw Rr.create("duplicate-app",{appName:o})}const c=new AC(o);for(const g of Rm.values())c.addComponent(g);const p=new vR(e,r,c);return Wf.set(o,p),p}function bT(i=Cm){const t=Wf.get(i);if(!t&&i===Cm&&pT())return xT();if(!t)throw Rr.create("no-app",{appName:i});return t}function fs(i,t,e){let r=pR[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Us.warn(c.join(" "));return}jr(new zs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const xR="firebase-heartbeat-database",bR=1,Au="firebase-heartbeat-store";let Xp=null;function TT(){return Xp||(Xp=_T(xR,bR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Au)}catch(e){console.warn(e)}}}}).catch(i=>{throw Rr.create("idb-open",{originalErrorMessage:i.message})})),Xp}async function TR(i){try{const e=(await TT()).transaction(Au),r=await e.objectStore(Au).get(ST(i));return await e.done,r}catch(t){if(t instanceof Fr)Us.warn(t.message);else{const e=Rr.create("idb-get",{originalErrorMessage:t?.message});Us.warn(e.message)}}}async function Ix(i,t){try{const r=(await TT()).transaction(Au,"readwrite");await r.objectStore(Au).put(t,ST(i)),await r.done}catch(e){if(e instanceof Fr)Us.warn(e.message);else{const r=Rr.create("idb-set",{originalErrorMessage:e?.message});Us.warn(r.message)}}}function ST(i){return`${i.name}!${i.options.appId}`}const SR=1024,AR=30;class ER{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CR(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>AR){const o=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dx(),{heartbeatsToSend:e,unsentEntries:r}=wR(this._heartbeatsCache.heartbeats),o=Qf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Us.warn(t),""}}}function Dx(){return new Date().toISOString().substring(0,10)}function wR(i,t=SR){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Vx(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Vx(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class CR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await TR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ix(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ix(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Vx(i){return Qf(JSON.stringify({version:2,heartbeats:i})).length}function RR(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function IR(i){jr(new zs("platform-logger",t=>new BC(t),"PRIVATE")),jr(new zs("heartbeat",t=>new ER(t),"PRIVATE")),fs(wm,Cx,i),fs(wm,Cx,"esm2020"),fs("fire-js","")}IR("");var DR="firebase",VR="12.7.0";fs(DR,VR,"app");var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,AT;(function(){var i;function t(j,R){function I(){}I.prototype=R.prototype,j.F=R.prototype,j.prototype=new I,j.prototype.constructor=j,j.D=function(L,B,U){for(var N=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)N[wt-2]=arguments[wt];return R.prototype[B].apply(L,N)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,R,I){I||(I=0);const L=Array(16);if(typeof R=="string")for(var B=0;B<16;++B)L[B]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(B=0;B<16;++B)L[B]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=j.g[0],I=j.g[1],B=j.g[2];let U=j.g[3],N;N=R+(U^I&(B^U))+L[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(B^R&(I^B))+L[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=B+(I^U&(R^I))+L[2]+606105819&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(R^B&(U^R))+L[3]+3250441966&4294967295,I=B+(N<<22&4294967295|N>>>10),N=R+(U^I&(B^U))+L[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(B^R&(I^B))+L[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=B+(I^U&(R^I))+L[6]+2821735955&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(R^B&(U^R))+L[7]+4249261313&4294967295,I=B+(N<<22&4294967295|N>>>10),N=R+(U^I&(B^U))+L[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(B^R&(I^B))+L[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=B+(I^U&(R^I))+L[10]+4294925233&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(R^B&(U^R))+L[11]+2304563134&4294967295,I=B+(N<<22&4294967295|N>>>10),N=R+(U^I&(B^U))+L[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(B^R&(I^B))+L[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=B+(I^U&(R^I))+L[14]+2792965006&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(R^B&(U^R))+L[15]+1236535329&4294967295,I=B+(N<<22&4294967295|N>>>10),N=R+(B^U&(I^B))+L[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(R^I))+L[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=B+(R^I&(U^R))+L[11]+643717713&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(B^U))+L[0]+3921069994&4294967295,I=B+(N<<20&4294967295|N>>>12),N=R+(B^U&(I^B))+L[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(R^I))+L[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=B+(R^I&(U^R))+L[15]+3634488961&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(B^U))+L[4]+3889429448&4294967295,I=B+(N<<20&4294967295|N>>>12),N=R+(B^U&(I^B))+L[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(R^I))+L[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=B+(R^I&(U^R))+L[3]+4107603335&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(B^U))+L[8]+1163531501&4294967295,I=B+(N<<20&4294967295|N>>>12),N=R+(B^U&(I^B))+L[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(R^I))+L[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=B+(R^I&(U^R))+L[7]+1735328473&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(B^U))+L[12]+2368359562&4294967295,I=B+(N<<20&4294967295|N>>>12),N=R+(I^B^U)+L[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^B)+L[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=B+(U^R^I)+L[11]+1839030562&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^R)+L[14]+4259657740&4294967295,I=B+(N<<23&4294967295|N>>>9),N=R+(I^B^U)+L[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^B)+L[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=B+(U^R^I)+L[7]+4139469664&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^R)+L[10]+3200236656&4294967295,I=B+(N<<23&4294967295|N>>>9),N=R+(I^B^U)+L[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^B)+L[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=B+(U^R^I)+L[3]+3572445317&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^R)+L[6]+76029189&4294967295,I=B+(N<<23&4294967295|N>>>9),N=R+(I^B^U)+L[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^B)+L[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=B+(U^R^I)+L[15]+530742520&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^R)+L[2]+3299628645&4294967295,I=B+(N<<23&4294967295|N>>>9),N=R+(B^(I|~U))+L[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~B))+L[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=B+(R^(U|~I))+L[14]+2878612391&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~R))+L[5]+4237533241&4294967295,I=B+(N<<21&4294967295|N>>>11),N=R+(B^(I|~U))+L[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~B))+L[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=B+(R^(U|~I))+L[10]+4293915773&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~R))+L[1]+2240044497&4294967295,I=B+(N<<21&4294967295|N>>>11),N=R+(B^(I|~U))+L[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~B))+L[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=B+(R^(U|~I))+L[6]+2734768916&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~R))+L[13]+1309151649&4294967295,I=B+(N<<21&4294967295|N>>>11),N=R+(B^(I|~U))+L[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~B))+L[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=B+(R^(U|~I))+L[2]+718787259&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~R))+L[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(B+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+B&4294967295,j.g[3]=j.g[3]+U&4294967295}r.prototype.v=function(j,R){R===void 0&&(R=j.length);const I=R-this.blockSize,L=this.C;let B=this.h,U=0;for(;U<R;){if(B==0)for(;U<=I;)o(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<R;)if(L[B++]=j.charCodeAt(U++),B==this.blockSize){o(this,L),B=0;break}}else for(;U<R;)if(L[B++]=j[U++],B==this.blockSize){o(this,L),B=0;break}}this.h=B,this.o+=R},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;R=this.o*8;for(var I=j.length-8;I<j.length;++I)j[I]=R&255,R/=256;for(this.v(j),j=Array(16),R=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)j[R++]=this.g[I]>>>L&255;return j};function u(j,R){var I=p;return Object.prototype.hasOwnProperty.call(I,j)?I[j]:I[j]=R(j)}function c(j,R){this.h=R;const I=[];let L=!0;for(let B=j.length-1;B>=0;B--){const U=j[B]|0;L&&U==R||(I[B]=U,L=!1)}this.g=I}var p={};function g(j){return-128<=j&&j<128?u(j,function(R){return new c([R|0],R<0?-1:0)}):new c([j|0],j<0?-1:0)}function v(j){if(isNaN(j)||!isFinite(j))return f;if(j<0)return M(v(-j));const R=[];let I=1;for(let L=0;j>=I;L++)R[L]=j/I|0,I*=4294967296;return new c(R,0)}function x(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return M(x(j.substring(1),R));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(R,8));let L=f;for(let U=0;U<j.length;U+=8){var B=Math.min(8,j.length-U);const N=parseInt(j.substring(U,U+B),R);B<8?(B=v(Math.pow(R,B)),L=L.j(B).add(v(N))):(L=L.j(I),L=L.add(v(N)))}return L}var f=g(0),_=g(1),S=g(16777216);i=c.prototype,i.m=function(){if(C(this))return-M(this).m();let j=0,R=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);j+=(L>=0?L:4294967296+L)*R,R*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(E(this))return"0";if(C(this))return"-"+M(this).toString(j);const R=v(Math.pow(j,6));var I=this;let L="";for(;;){const B=G(I,R).g;I=V(I,B.j(R));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(j);if(I=B,E(I))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function E(j){if(j.h!=0)return!1;for(let R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function C(j){return j.h==-1}i.l=function(j){return j=V(this,j),C(j)?-1:E(j)?0:1};function M(j){const R=j.g.length,I=[];for(let L=0;L<R;L++)I[L]=~j.g[L];return new c(I,~j.h).add(_)}i.abs=function(){return C(this)?M(this):this},i.add=function(j){const R=Math.max(this.g.length,j.g.length),I=[];let L=0;for(let B=0;B<=R;B++){let U=L+(this.i(B)&65535)+(j.i(B)&65535),N=(U>>>16)+(this.i(B)>>>16)+(j.i(B)>>>16);L=N>>>16,U&=65535,N&=65535,I[B]=N<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function V(j,R){return j.add(M(R))}i.j=function(j){if(E(this)||E(j))return f;if(C(this))return C(j)?M(this).j(M(j)):M(M(this).j(j));if(C(j))return M(this.j(M(j)));if(this.l(S)<0&&j.l(S)<0)return v(this.m()*j.m());const R=this.g.length+j.g.length,I=[];for(var L=0;L<2*R;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let B=0;B<j.g.length;B++){const U=this.i(L)>>>16,N=this.i(L)&65535,wt=j.i(B)>>>16,zt=j.i(B)&65535;I[2*L+2*B]+=N*zt,O(I,2*L+2*B),I[2*L+2*B+1]+=U*zt,O(I,2*L+2*B+1),I[2*L+2*B+1]+=N*wt,O(I,2*L+2*B+1),I[2*L+2*B+2]+=U*wt,O(I,2*L+2*B+2)}for(j=0;j<R;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=R;j<2*R;j++)I[j]=0;return new c(I,0)};function O(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function k(j,R){this.g=j,this.h=R}function G(j,R){if(E(R))throw Error("division by zero");if(E(j))return new k(f,f);if(C(j))return R=G(M(j),R),new k(M(R.g),M(R.h));if(C(R))return R=G(j,M(R)),new k(M(R.g),R.h);if(j.g.length>30){if(C(j)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var I=_,L=R;L.l(j)<=0;)I=et(I),L=et(L);var B=J(I,1),U=J(L,1);for(L=J(L,2),I=J(I,2);!E(L);){var N=U.add(L);N.l(j)<=0&&(B=B.add(I),U=N),L=J(L,1),I=J(I,1)}return R=V(j,B.j(R)),new k(B,R)}for(B=f;j.l(R)>=0;){for(I=Math.max(1,Math.floor(j.m()/R.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=v(I),N=U.j(R);C(N)||N.l(j)>0;)I-=L,U=v(I),N=U.j(R);E(U)&&(U=_),B=B.add(U),j=V(j,N)}return new k(B,j)}i.B=function(j){return G(this,j).h},i.and=function(j){const R=Math.max(this.g.length,j.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)&j.i(L);return new c(I,this.h&j.h)},i.or=function(j){const R=Math.max(this.g.length,j.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)|j.i(L);return new c(I,this.h|j.h)},i.xor=function(j){const R=Math.max(this.g.length,j.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)^j.i(L);return new c(I,this.h^j.h)};function et(j){const R=j.g.length+1,I=[];for(let L=0;L<R;L++)I[L]=j.i(L)<<1|j.i(L-1)>>>31;return new c(I,j.h)}function J(j,R){const I=R>>5;R%=32;const L=j.g.length-I,B=[];for(let U=0;U<L;U++)B[U]=R>0?j.i(U+I)>>>R|j.i(U+I+1)<<32-R:j.i(U+I);return new c(B,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=x,Ir=c}).apply(typeof jx<"u"?jx:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ET,uu,wT,kf,Im,CT,RT,IT;(function(){var i,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var b=0;b<d.length;++b){var A=d[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function o(d,b){if(b)t:{var A=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var X=d[D];if(!(X in A))break t;A=A[X]}d=d[d.length-1],D=A[d],b=b(D),b!=D&&b!=null&&t(A,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var A=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&A.push([D,b[D]]);return A}});var u=u||{},c=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,A){return d.call.apply(d.bind,arguments)}function v(d,b,A){return v=g,v.apply(null,arguments)}function x(d,b){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function f(d,b){function A(){}A.prototype=b.prototype,d.Z=b.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(D,X,it){for(var yt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)yt[Ut-2]=arguments[Ut];return b.prototype[X].apply(D,yt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const b=d.length;if(b>0){const A=Array(b);for(let D=0;D<b;D++)A[D]=d[D];return A}return[]}function E(d,b){for(let D=1;D<arguments.length;D++){const X=arguments[D];var A=typeof X;if(A=A!="object"?A:X?Array.isArray(X)?"array":A:"null",A=="array"||A=="object"&&typeof X.length=="number"){A=d.length||0;const it=X.length||0;d.length=A+it;for(let yt=0;yt<it;yt++)d[A+yt]=X[yt]}else d.push(X)}}class C{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(d){c.setTimeout(()=>{throw d},0)}function V(){var d=j;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class O{constructor(){this.h=this.g=null}add(b,A){const D=k.get();D.set(b,A),this.h?this.h.next=D:this.g=D,this.h=D}}var k=new C(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let et,J=!1,j=new O,R=()=>{const d=Promise.resolve(void 0);et=()=>{d.then(I)}};function I(){for(var d;d=V();){try{d.h.call(d.g)}catch(A){M(A)}var b=k;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}J=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};c.addEventListener("test",A,b),c.removeEventListener("test",A,b)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function wt(d,b){B.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}f(wt,B),wt.prototype.init=function(d,b){const A=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(A=="mouseover"?b=d.fromElement:A=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&wt.Z.h.call(this)},wt.prototype.h=function(){wt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var zt="closure_listenable_"+(Math.random()*1e6|0),K=0;function H(d,b,A,D,X){this.listener=d,this.proxy=null,this.src=b,this.type=A,this.capture=!!D,this.ha=X,this.key=++K,this.da=this.fa=!1}function nt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function W(d,b,A){for(const D in d)b.call(A,d[D],D,d)}function ht(d,b){for(const A in d)b.call(void 0,d[A],A,d)}function P(d){const b={};for(const A in d)b[A]=d[A];return b}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(d,b){let A,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(A in D)d[A]=D[A];for(let it=0;it<Q.length;it++)A=Q[it],Object.prototype.hasOwnProperty.call(D,A)&&(d[A]=D[A])}}function pt(d){this.src=d,this.g={},this.h=0}pt.prototype.add=function(d,b,A,D,X){const it=d.toString();d=this.g[it],d||(d=this.g[it]=[],this.h++);const yt=mt(d,b,D,X);return yt>-1?(b=d[yt],A||(b.fa=!1)):(b=new H(b,this.src,it,!!D,X),b.fa=A,d.push(b)),b};function gt(d,b){const A=b.type;if(A in d.g){var D=d.g[A],X=Array.prototype.indexOf.call(D,b,void 0),it;(it=X>=0)&&Array.prototype.splice.call(D,X,1),it&&(nt(b),d.g[A].length==0&&(delete d.g[A],d.h--))}}function mt(d,b,A,D){for(let X=0;X<d.length;++X){const it=d[X];if(!it.da&&it.listener==b&&it.capture==!!A&&it.ha==D)return X}return-1}var vt="closure_lm_"+(Math.random()*1e6|0),jt={};function qt(d,b,A,D,X){if(Array.isArray(b)){for(let it=0;it<b.length;it++)qt(d,b[it],A,D,X);return null}return A=_s(A),d&&d[zt]?d.J(b,A,p(D)?!!D.capture:!1,X):fe(d,b,A,!1,D,X)}function fe(d,b,A,D,X,it){if(!b)throw Error("Invalid event type");const yt=p(X)?!!X.capture:!!X;let Ut=Ai(d);if(Ut||(d[vt]=Ut=new pt(d)),A=Ut.add(b,A,D,yt,it),A.proxy)return A;if(D=be(),A.proxy=D,D.src=d,D.listener=A,d.addEventListener)U||(X=yt),X===void 0&&(X=!1),d.addEventListener(b.toString(),D,X);else if(d.attachEvent)d.attachEvent(bn(b.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function be(){function d(A){return b.call(d.src,d.listener,A)}const b=ii;return d}function Hn(d,b,A,D,X){if(Array.isArray(b))for(var it=0;it<b.length;it++)Hn(d,b[it],A,D,X);else D=p(D)?!!D.capture:!!D,A=_s(A),d&&d[zt]?(d=d.i,it=String(b).toString(),it in d.g&&(b=d.g[it],A=mt(b,A,D,X),A>-1&&(nt(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete d.g[it],d.h--)))):d&&(d=Ai(d))&&(b=d.g[b.toString()],d=-1,b&&(d=mt(b,A,D,X)),(A=d>-1?b[d]:null)&&xn(A))}function xn(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[zt])gt(b.i,d);else{var A=d.type,D=d.proxy;b.removeEventListener?b.removeEventListener(A,D,d.capture):b.detachEvent?b.detachEvent(bn(A),D):b.addListener&&b.removeListener&&b.removeListener(D),(A=Ai(b))?(gt(A,d),A.h==0&&(A.src=null,b[vt]=null)):nt(d)}}}function bn(d){return d in jt?jt[d]:jt[d]="on"+d}function ii(d,b){if(d.da)d=!0;else{b=new wt(b,this);const A=d.listener,D=d.ha||d.src;d.fa&&xn(d),d=A.call(D,b)}return d}function Ai(d){return d=d[vt],d instanceof pt?d:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function _s(d){return typeof d=="function"?d:(d[Ei]||(d[Ei]=function(b){return d.handleEvent(b)}),d[Ei])}function re(){L.call(this),this.i=new pt(this),this.M=this,this.G=null}f(re,L),re.prototype[zt]=!0,re.prototype.removeEventListener=function(d,b,A,D){Hn(this,d,b,A,D)};function Te(d,b){var A,D=d.G;if(D)for(A=[];D;D=D.G)A.push(D);if(d=d.M,D=b.type||b,typeof b=="string")b=new B(b,d);else if(b instanceof B)b.target=b.target||d;else{var X=b;b=new B(D,d),rt(b,X)}X=!0;let it,yt;if(A)for(yt=A.length-1;yt>=0;yt--)it=b.g=A[yt],X=ot(it,D,!0,b)&&X;if(it=b.g=d,X=ot(it,D,!0,b)&&X,X=ot(it,D,!1,b)&&X,A)for(yt=0;yt<A.length;yt++)it=b.g=A[yt],X=ot(it,D,!1,b)&&X}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const A=d.g[b];for(let D=0;D<A.length;D++)nt(A[D]);delete d.g[b],d.h--}}this.G=null},re.prototype.J=function(d,b,A,D){return this.i.add(String(d),b,!1,A,D)},re.prototype.K=function(d,b,A,D){return this.i.add(String(d),b,!0,A,D)};function ot(d,b,A,D){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let it=0;it<b.length;++it){const yt=b[it];if(yt&&!yt.da&&yt.capture==A){const Ut=yt.listener,Pe=yt.ha||yt.src;yt.fa&&gt(d.i,yt),X=Ut.call(Pe,D)!==!1&&X}}return X&&!D.defaultPrevented}function Et(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(d,b||0)}function St(d){d.g=Et(()=>{d.g=null,d.i&&(d.i=!1,St(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class te extends L{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(d){L.call(this),this.h=d,this.g={}}f(ae,L);var ee=[];function si(d){W(d.g,function(b,A){this.g.hasOwnProperty(A)&&xn(b)},d),d.g={}}ae.prototype.N=function(){ae.Z.N.call(this),si(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=c.JSON.stringify,qd=c.JSON.parse,Ku=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Xu(){}function $u(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){B.call(this,"d")}f(cn,B);function ri(){B.call(this,"c")}f(ri,B);var Ne={},Zu=null;function za(){return Zu=Zu||new re}Ne.Ia="serverreachability";function Ju(d){B.call(this,Ne.Ia,d)}f(Ju,B);function Fi(d){const b=za();Te(b,new Ju(b))}Ne.STAT_EVENT="statevent";function Qr(d,b){B.call(this,Ne.STAT_EVENT,d),this.stat=b}f(Qr,B);function ze(d){const b=za();Te(b,new Qr(b,d))}Ne.Ja="timingevent";function Hi(d,b){B.call(this,Ne.Ja,d),this.size=b}f(Hi,B);function qi(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function Gd(d,b,A,D,X,it){d.info(function(){if(d.g)if(it){var yt="",Ut=it.split("&");for(let oe=0;oe<Ut.length;oe++){var Pe=Ut[oe].split("=");if(Pe.length>1){const we=Pe[0];Pe=Pe[1];const ui=we.split("_");yt=ui.length>=2&&ui[1]=="type"?yt+(we+"="+Pe+"&"):yt+(we+"=redacted&")}}}else yt=null;else yt=it;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+b+`
`+A+`
`+yt})}function tc(d,b,A,D,X,it,yt){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+b+`
`+A+`
`+it+" "+yt})}function Gi(d,b,A,D){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Yd(d,A)+(D?" "+D:"")})}function Wr(d,b){d.info(function(){return"TIMEOUT: "+b})}Ci.prototype.info=function(){};function Yd(d,b){if(!d.g)return b;if(!b)return null;try{const it=JSON.parse(b);if(it){for(d=0;d<it.length;d++)if(Array.isArray(it[d])){var A=it[d];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var X=D[0];if(X!="noop"&&X!="stop"&&X!="close")for(let yt=1;yt<D.length;yt++)D[yt]=""}}}}return Ys(it)}catch{return b}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Xr(){}f(Xr,Xu),Xr.prototype.g=function(){return new XMLHttpRequest},ol=new Xr;function xs(d){return encodeURIComponent(String(d))}function ec(d){var b=1;d=d.split(":");const A=[];for(;b>0&&d.length;)A.push(d.shift()),b--;return d.length&&A.push(d.join(":")),A}function Ri(d,b,A,D){this.j=d,this.i=b,this.l=A,this.S=D||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var Ue={},sn={};function Yi(d,b,A){d.M=1,d.A=$r(He(b)),d.u=A,d.R=!0,Ua(d,null)}function Ua(d,b){d.F=Date.now(),Qi(d),d.B=He(d.A);var A=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),Ga(A.i,"t",D),d.C=0,A=d.j.L,d.h=new Ii,d.g=gc(d.j,A?b:null,!d.u),d.P>0&&(d.O=new te(v(d.Y,d,d.g),d.P)),b=d.V,A=d.g,D=d.ba;var X="readystatechange";Array.isArray(X)||(X&&(ee[0]=X.toString()),X=ee);for(let it=0;it<X.length;it++){const yt=qt(A,X[it],D||b.handleEvent,!1,b.h||b);if(!yt)break;b.g[yt.key]=yt}b=d.J?P(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Fi(),Gd(d.i,d.v,d.B,d.l,d.S,d.u)}Ri.prototype.ba=function(d){d=d.target;const b=this.O;b&&ji(d)==3?b.j():this.Y(d)},Ri.prototype.Y=function(d){try{if(d==this.g)t:{const Ut=ji(this.g),Pe=this.g.ya(),oe=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Ut!=4||Pe==7||(Pe==8||oe<=0?Fi(3):Fi(2)),Wi(this);var b=this.g.ca();this.X=b;var A=Qd(this);if(this.o=b==200,tc(this.i,this.v,this.B,this.l,this.S,Ut,b),this.o){if(this.U&&!this.L){e:{if(this.g){var D,X=this.g;if((D=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var it=D;break e}}it=null}if(d=it)Gi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,d);else{this.o=!1,this.m=3,ze(12),qn(this),ai(this);break t}}if(this.R){d=!0;let we;for(;!this.K&&this.C<A.length;)if(we=ic(this,A),we==sn){Ut==4&&(this.m=4,ze(14),d=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(we==Ue){this.m=4,ze(15),Gi(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else Gi(this.i,this.l,we,null),Ki(this,we);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||A.length!=0||this.h.h||(this.m=1,ze(16),d=!1),this.o=this.o&&d,!d)Gi(this.i,this.l,A,"[Invalid Chunked Response]"),qn(this),ai(this);else if(A.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Tl(yt),yt.P=!0,ze(11))}}else Gi(this.i,this.l,A,null),Ki(this,A);Ut==4&&qn(this),this.o&&!this.K&&(Ut==4?dc(this.j,this):(this.o=!1,Qi(this)))}else Ts(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,ze(12)):(this.m=0,ze(13)),qn(this),ai(this)}}}catch{}};function Qd(d){if(!nc(d))return d.g.la();const b=fn(d.g);if(b==="")return"";let A="";const D=b.length,X=ji(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return qn(d),ai(d),"";d.h.i=new c.TextDecoder}for(let it=0;it<D;it++)d.h.h=!0,A+=d.h.i.decode(b[it],{stream:!(X&&it==D-1)});return b.length=0,d.h.g+=A,d.C=0,d.h.g}function nc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function ic(d,b){var A=d.C,D=b.indexOf(`
`,A);return D==-1?sn:(A=Number(b.substring(A,D)),isNaN(A)?Ue:(D+=1,D+A>b.length?sn:(b=b.slice(D,D+A),d.C=D+A,b)))}Ri.prototype.cancel=function(){this.K=!0,qn(this)};function Qi(d){d.T=Date.now()+d.H,Fa(d,d.H)}function Fa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qi(v(d.aa,d),b)}function Wi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Ri.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(Fi(),ze(17)),qn(this),this.m=2,ai(this)):Fa(this,this.T-d)};function ai(d){d.j.I==0||d.K||dc(d.j,d)}function qn(d){Wi(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,si(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Ki(d,b){try{var A=d.j;if(A.I!=0&&(A.g==d||$i(A.h,d))){if(!d.L&&$i(A.h,d)&&A.I==3){try{var D=A.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)Xa(A),tr(A);else break t;sa(A),ze(18)}}else A.xa=X[1],0<A.xa-A.K&&X[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=qi(v(A.Va,A),6e3));Xi(A.h)<=1&&A.ta&&(A.ta=void 0)}else is(A,11)}else if((d.L||A.g==d)&&Xa(A),!N(b))for(X=A.Ba.g.parse(b),b=0;b<X.length;b++){let oe=X[b];const we=oe[0];if(!(we<=A.K))if(A.K=we,oe=oe[1],A.I==2)if(oe[0]=="c"){A.M=oe[1],A.ba=oe[2];const ui=oe[3];ui!=null&&(A.ka=ui,A.j.info("VER="+A.ka));const ss=oe[4];ss!=null&&(A.za=ss,A.j.info("SVER="+A.za));const Mi=oe[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(D=1.5*Mi,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Oi=d.g;if(Oi){const ra=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var it=D.h;it.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(cl(it,it.h),it.h=null))}if(D.G){const $a=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(D.wa=$a,de(D.J,D.G,$a))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var yt=d;if(D.na=mc(D,D.L?D.ba:null,D.W),yt.L){fl(D.h,yt);var Ut=yt,Pe=D.O;Pe&&(Ut.H=Pe),Ut.D&&(Wi(Ut),Qi(Ut)),D.g=yt}else cc(D);A.i.length>0&&ns(A)}else oe[0]!="stop"&&oe[0]!="close"||is(A,7);else A.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?is(A,7):xl(A):oe[0]!="noop"&&A.l&&A.l.qa(oe),A.A=0)}}Fi(4)}catch{}}var Fe=class{constructor(d,b){this.g=d,this.map=b}};function ll(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xi(d){return d.h?1:d.g?d.g.size:0}function $i(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function cl(d,b){d.g?d.g.add(b):d.h=b}function fl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}ll.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function dl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const A of d.g.values())b=b.concat(A.G);return b}return S(d.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(d,b){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const D=d[A].indexOf("=");let X,it=null;D>=0?(X=d[A].substring(0,D),it=d[A].substring(D+1)):X=d[A],b(X,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function Gn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Gn?(this.l=d.l,rn(this,d.j),this.o=d.o,this.g=d.g,Qs(this,d.u),this.h=d.h,hl(this,lc(d.i)),this.m=d.m):d&&(b=String(d).match(sc))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Zi(b[2]||""),this.g=Zi(b[3]||"",!0),Qs(this,b[4]),this.h=Zi(b[5]||"",!0),hl(this,b[6]||"",!0),this.m=Zi(b[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}Gn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Zr(b,qa,!0),":");var A=this.g;return(A||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Zr(b,qa,!0),"@"),d.push(xs(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Zr(A,A.charAt(0)=="/"?pl:rc,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Zr(A,ac)),d.join("")},Gn.prototype.resolve=function(d){const b=He(this);let A=!!d.j;A?rn(b,d.j):A=!!d.o,A?b.o=d.o:A=!!d.g,A?b.g=d.g:A=d.u!=null;var D=d.h;if(A)Qs(b,d.u);else if(A=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var X=b.h.lastIndexOf("/");X!=-1&&(D=b.h.slice(0,X+1)+D)}if(X=D,X==".."||X==".")D="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){D=X.lastIndexOf("/",0)==0,X=X.split("/");const it=[];for(let yt=0;yt<X.length;){const Ut=X[yt++];Ut=="."?D&&yt==X.length&&it.push(""):Ut==".."?((it.length>1||it.length==1&&it[0]!="")&&it.pop(),D&&yt==X.length&&it.push("")):(it.push(Ut),D=!0)}D=it.join("/")}else D=X}return A?b.h=D:A=d.i.toString()!=="",A?hl(b,lc(d.i)):A=!!d.m,A&&(b.m=d.m),b};function He(d){return new Gn(d)}function rn(d,b,A){d.j=A?Zi(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Qs(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function hl(d,b,A){b instanceof Ks?(d.i=b,Ya(d.i,d.l)):(A||(b=Zr(b,Ws)),d.i=new Ks(b,d.l))}function de(d,b,A){d.i.set(b,A)}function $r(d){return de(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Zi(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zr(d,b,A){return typeof d=="string"?(d=encodeURI(d).replace(b,Vn),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qa=/[#\/\?@]/g,rc=/[#\?:]/g,pl=/[#\?]/g,Ws=/[#\?@]/g,ac=/#/g;function Ks(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function jn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ha(d.i,function(b,A){d.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}i=Ks.prototype,i.add=function(d,b){jn(this),this.i=null,d=Xs(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(b),this.h+=1,this};function oc(d,b){jn(d),b=Xs(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function ml(d,b){return jn(d),b=Xs(d,b),d.g.has(b)}i.forEach=function(d,b){jn(this),this.g.forEach(function(A,D){A.forEach(function(X){d.call(b,X,D,this)},this)},this)};function gl(d,b){jn(d);let A=[];if(typeof b=="string")ml(d,b)&&(A=A.concat(d.g.get(Xs(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)A=A.concat(d[b]);return A}i.set=function(d,b){return jn(this),this.i=null,d=Xs(this,d),ml(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},i.get=function(d,b){return d?(d=gl(this,d),d.length>0?String(d[0]):b):b};function Ga(d,b,A){oc(d,b),A.length>0&&(d.i=null,d.g.set(Xs(d,b),S(A)),d.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var A=b[D];const X=xs(A);A=gl(this,A);for(let it=0;it<A.length;it++){let yt=X;A[it]!==""&&(yt+="="+xs(A[it])),d.push(yt)}}return this.i=d.join("&")};function lc(d){const b=new Ks;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Xs(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Ya(d,b){b&&!d.j&&(jn(d),d.i=null,d.g.forEach(function(A,D){const X=D.toLowerCase();D!=X&&(oc(this,D),Ga(this,X,A))},d)),d.j=b}function Di(d,b){const A=new Ci;if(c.Image){const D=new Image;D.onload=x(oi,A,"TestLoadImage: loaded",!0,b,D),D.onerror=x(oi,A,"TestLoadImage: error",!1,b,D),D.onabort=x(oi,A,"TestLoadImage: abort",!1,b,D),D.ontimeout=x(oi,A,"TestLoadImage: timeout",!1,b,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else b(!1)}function yl(d,b){const A=new Ci,D=new AbortController,X=setTimeout(()=>{D.abort(),oi(A,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:D.signal}).then(it=>{clearTimeout(X),it.ok?oi(A,"TestPingServer: ok",!0,b):oi(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),oi(A,"TestPingServer: error",!1,b)})}function oi(d,b,A,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(A)}catch{}}function $s(){this.g=new Ku}function Ji(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Ji,Xu),Ji.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(d,b){re.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Jr,re),i=Jr.prototype,i.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Vi(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Zs(this):Vi(this),this.readyState==3&&Qa(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,Zs(this))},i.Na=function(d){this.g&&(this.response=d,Zs(this))},i.ga=function(){this.g&&Zs(this)};function Zs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Vi(d)}i.setRequestHeader=function(d,b){this.A.append(d,b)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=b.next();return d.join(`\r
`)};function Vi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function li(d){let b="";return W(d,function(A,D){b+=D,b+=":",b+=A,b+=`\r
`}),b}function ta(d,b,A){t:{for(D in A){var D=!1;break t}D=!0}D||(A=li(A),typeof d=="string"?A!=null&&xs(A):de(d,b,A))}function me(d){re.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(me,re);var ts=/^https?$/i,vl=["POST","PUT"];i=me.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,b,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=_(v(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(it){ea(this,it);return}if(d=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)A.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const it of D.keys())A.set(it,D.get(it));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(it=>it.toLowerCase()=="content-type"),X=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(vl,b,void 0)>=0)||D||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,yt]of A)this.g.setRequestHeader(it,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(it){ea(this,it)}};function ea(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,_l(d),bs(d)}function _l(d){d.A||(d.A=!0,Te(d,"complete"),Te(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Te(this,"complete"),Te(this,"abort"),bs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),me.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},i.Xa=function(){na(this)};function na(d){if(d.h&&typeof u<"u"){if(d.v&&ji(d)==4)setTimeout(d.Ca.bind(d),0);else if(Te(d,"readystatechange"),ji(d)==4){d.h=!1;try{const it=d.ca();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var A;if(!(A=b)){var D;if(D=it===0){let yt=String(d.D).match(sc)[1]||null;!yt&&c.self&&c.self.location&&(yt=c.self.location.protocol.slice(0,-1)),D=!ts.test(yt?yt.toLowerCase():"")}A=D}if(A)Te(d,"complete"),Te(d,"success");else{d.o=6;try{var X=ji(d)>2?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.ca()+"]",_l(d)}}finally{bs(d)}}}}function bs(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,b||Te(d,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ji(d){return d.g?d.g.readyState:0}i.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),qd(b)}};function fn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(d){const b={};d=(d.g&&ji(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(N(d[D]))continue;var A=ec(d[D]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const it=b[X]||[];b[X]=it,it.push(A)}ht(b,function(D){return D.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(d,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||b}function Js(d){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,d),this.Za=es("retryDelaySeedMs",1e4,d),this.Ta=es("forwardChannelMaxRetries",2,d),this.va=es("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(d&&d.concurrentRequestLimit),this.Ba=new $s,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Js.prototype,i.ka=8,i.I=1,i.connect=function(d,b,A,D){ze(0),this.W=d,this.H=b||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=mc(this,null,this.W),ns(this)};function xl(d){if(Wa(d),d.I==3){var b=d.V++,A=He(d.J);if(de(A,"SID",d.M),de(A,"RID",b),de(A,"TYPE","terminate"),ia(d,A),b=new Ri(d,d.j,b),b.M=2,b.A=$r(He(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=b.A,A=!0),A||(b.g=gc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Qi(b)}pc(d)}function tr(d){d.g&&(Tl(d),d.g.cancel(),d.g=null)}function Wa(d){tr(d),d.v&&(c.clearTimeout(d.v),d.v=null),Xa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function ns(d){if(!ul(d.h)&&!d.m){d.m=!0;var b=d.Ea;et||R(),J||(et(),J=!0),j.add(b,d),d.D=0}}function Ka(d,b){return Xi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qi(v(d.Ea,d,b),hc(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const X=new Ri(this,this.j,d);let it=this.o;if(this.U&&(it?(it=P(it),rt(it,this.U)):it=this.U),this.u!==null||this.R||(X.J=it,it=null),this.S)t:{for(var b=0,A=0;A<this.i.length;A++){e:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=A;break t}if(b===4096||A===this.i.length-1){b=A+1;break t}}b=1e3}else b=1e3;b=uc(this,X,b),A=He(this.J),de(A,"RID",d),de(A,"CVER",22),this.G&&de(A,"X-HTTP-Session-Id",this.G),ia(this,A),it&&(this.R?b="headers="+xs(li(it))+"&"+b:this.u&&ta(A,this.u,it)),cl(this.h,X),this.Ra&&de(A,"TYPE","init"),this.S?(de(A,"$req",b),de(A,"SID","null"),X.U=!0,Yi(X,A,null)):Yi(X,A,b),this.I=2}}else this.I==3&&(d?bl(this,d):this.i.length==0||ul(this.h)||bl(this))};function bl(d,b){var A;b?A=b.l:A=d.V++;const D=He(d.J);de(D,"SID",d.M),de(D,"RID",A),de(D,"AID",d.K),ia(d,D),d.u&&d.o&&ta(D,d.u,d.o),A=new Ri(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),b&&(d.i=b.G.concat(d.i)),b=uc(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),cl(d.h,A),Yi(A,D,b)}function ia(d,b){d.H&&W(d.H,function(A,D){de(b,D,A)}),d.l&&W({},function(A,D){de(b,D,A)})}function uc(d,b,A){A=Math.min(d.i.length,A);const D=d.l?v(d.l.Ka,d.l,d):null;t:{var X=d.i;let Ut=-1;for(;;){const Pe=["count="+A];Ut==-1?A>0?(Ut=X[0].g,Pe.push("ofs="+Ut)):Ut=0:Pe.push("ofs="+Ut);let oe=!0;for(let we=0;we<A;we++){var it=X[we].g;const ui=X[we].map;if(it-=Ut,it<0)Ut=Math.max(0,X[we].g-100),oe=!1;else try{it="req"+it+"_"||"";try{var yt=ui instanceof Map?ui:Object.entries(ui);for(const[ss,Mi]of yt){let Oi=Mi;p(Mi)&&(Oi=Ys(Mi)),Pe.push(it+ss+"="+encodeURIComponent(Oi))}}catch(ss){throw Pe.push(it+"type="+encodeURIComponent("_badmap")),ss}}catch{D&&D(ui)}}if(oe){yt=Pe.join("&");break t}}yt=void 0}return d=d.i.splice(0,A),b.G=d,yt}function cc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;et||R(),J||(et(),J=!0),j.add(b,d),d.A=0}}function sa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qi(v(d.Da,d),hc(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qi(v(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ze(10),tr(this),fc(this))};function Tl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function fc(d){d.g=new Ri(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=He(d.na);de(b,"RID","rpc"),de(b,"SID",d.M),de(b,"AID",d.K),de(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&de(b,"TO",d.ia),de(b,"TYPE","xmlhttp"),ia(d,b),d.u&&d.o&&ta(b,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=$r(He(b)),A.u=null,A.R=!0,Ua(A,d)}i.Va=function(){this.C!=null&&(this.C=null,tr(this),sa(this),ze(19))};function Xa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function dc(d,b){var A=null;if(d.g==b){Xa(d),Tl(d),d.g=null;var D=2}else if($i(d.h,b))A=b.G,fl(d.h,b),D=1;else return;if(d.I!=0){if(b.o)if(D==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var X=d.D;D=za(),Te(D,new Hi(D,A)),ns(d)}else cc(d);else if(X=b.m,X==3||X==0&&b.X>0||!(D==1&&Ka(d,b)||D==2&&sa(d)))switch(A&&A.length>0&&(b=d.h,b.i=b.i.concat(A)),X){case 1:is(d,5);break;case 4:is(d,10);break;case 3:is(d,6);break;default:is(d,2)}}}function hc(d,b){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*b}function is(d,b){if(d.j.info("Error code "+b),b==2){var A=v(d.bb,d),D=d.Ua;const X=!D;D=new Gn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(D,"https"),$r(D),X?Di(D.toString(),A):yl(D.toString(),A)}else ze(2);d.I=0,d.l&&d.l.pa(b),pc(d),Wa(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function pc(d){if(d.I=0,d.ja=[],d.l){const b=dl(d.h);(b.length!=0||d.i.length!=0)&&(E(d.ja,b),E(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function mc(d,b,A){var D=A instanceof Gn?He(A):new Gn(A);if(D.g!="")b&&(D.g=b+"."+D.g),Qs(D,D.u);else{var X=c.location;D=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const it=new Gn(null);D&&rn(it,D),b&&(it.g=b),X&&Qs(it,X),A&&(it.h=A),D=it}return A=d.G,b=d.wa,A&&b&&de(D,A,b),de(D,"VER",d.ka),ia(d,D),D}function gc(d,b,A){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new me(new Ji({ab:A})):new me(d.ma),b.Fa(d.L),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}i=yc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function er(){}er.prototype.g=function(d,b){return new Cn(d,b)};function Cn(d,b){re.call(this),this.g=new Js(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!N(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ss(this)}f(Cn,re),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){xl(this.g)},Cn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=Ys(d),d=A);b.i.push(new Fe(b.Ya++,d)),b.I==3&&ns(b)},Cn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,Cn.Z.N.call(this)};function vc(d){cn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){t:{for(const A in b){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}f(vc,cn);function _c(){ri.call(this),this.status=1}f(_c,ri);function Ss(d){this.g=d}f(Ss,yc),Ss.prototype.ra=function(){Te(this.g,"a")},Ss.prototype.qa=function(d){Te(this.g,new vc(d))},Ss.prototype.pa=function(d){Te(this.g,new _c)},Ss.prototype.oa=function(){Te(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,IT=function(){return new er},RT=function(){return za()},CT=Ne,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,kf=Kr,al.COMPLETE="complete",wT=al,$u.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",re.prototype.listen=re.prototype.J,uu=$u,me.prototype.listenOnce=me.prototype.K,me.prototype.getLastError=me.prototype.Ha,me.prototype.getLastErrorCode=me.prototype.ya,me.prototype.getStatus=me.prototype.ca,me.prototype.getResponseJson=me.prototype.La,me.prototype.getResponseText=me.prototype.la,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Fa,ET=me}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const Mx="@firebase/firestore",Ox="4.9.3";class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Zo="12.7.0";const Ma=new bg("@firebase/firestore");function Vo(){return Ma.logLevel}function bt(i,...t){if(Ma.logLevel<=Jt.DEBUG){const e=t.map(Sg);Ma.debug(`Firestore (${Zo}): ${i}`,...e)}}function Fs(i,...t){if(Ma.logLevel<=Jt.ERROR){const e=t.map(Sg);Ma.error(`Firestore (${Zo}): ${i}`,...e)}}function qo(i,...t){if(Ma.logLevel<=Jt.WARN){const e=t.map(Sg);Ma.warn(`Firestore (${Zo}): ${i}`,...e)}}function Sg(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function Vt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,DT(i,r,e)}function DT(i,t,e){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Fs(r),new Error(r)}function ce(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||DT(t,o,r)}function Bt(i,t){return i}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Fr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class VT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(An.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class OR{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ce(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new VT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class NR{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ce(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Nx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LR(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Ag{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Kt(i,t){return i<t?-1:i>t?1:0}function Dm(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return $p(o)===$p(u)?Kt(o,u):$p(o)?1:-1}return Kt(i.length,t.length)}const BR=55296,zR=57343;function $p(i){const t=i.charCodeAt(0);return t>=BR&&t<=zR}function Go(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const Px="__name__";class us{constructor(t,e,r){e===void 0?e=0:e>t.length&&Vt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Vt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return us.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof us?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=us.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Kt(t.length,e.length)}static compareSegments(t,e){const r=us.isNumericId(t),o=us.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?us.extractNumericId(t).compare(us.extractNumericId(e)):Dm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class xe extends us{construct(t,e,r){return new xe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new xe(e)}static emptyPath(){return new xe([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends us{construct(t,e,r){return new vn(t,e,r)}static isValidIdentifier(t){return UR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Px}static keyField(){return new vn([Px])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new _t(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new _t(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _t(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(r+=p,o++):(u(),o++)}if(u(),c)throw new _t(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vn(e)}static emptyPath(){return new vn([])}}class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(xe.fromString(t))}static fromName(t){return new Rt(xe.fromString(t).popFirst(5))}static empty(){return new Rt(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return xe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new xe(t.slice()))}}function jT(i,t,e){if(!e)throw new _t(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function FR(i,t,e,r){if(t===!0&&r===!0)throw new _t(ct.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function kx(i){if(!Rt.isDocumentKey(i))throw new _t(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lx(i){if(Rt.isDocumentKey(i))throw new _t(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function MT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function yd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Vt(12329,{type:typeof i})}function bi(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new _t(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=yd(i);throw new _t(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function HR(i,t){if(t<=0)throw new _t(ct.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}function Ze(i,t){const e={typeString:i};return t&&(e.value=t),e}function Bu(i,t){if(!MT(i))throw new _t(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new _t(ct.INVALID_ARGUMENT,e);return!0}const Bx=-62135596800,zx=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(t){return Ee.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*zx);return new Ee(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _t(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _t(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Bx)throw new _t(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zx}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,Ee._jsonSchema))return new Ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:Ze("string",Ee._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ee(0,0))}static max(){return new kt(new Ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function qR(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(r===1e9?new Ee(e+1,0):new Ee(e,r));return new Mr(o,Rt.empty(),t)}function GR(i){return new Mr(i.readTime,i.key,Eu)}class Mr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Mr(kt.min(),Rt.empty(),Eu)}static max(){return new Mr(kt.max(),Rt.empty(),Eu)}}function YR(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Rt.comparator(i.documentKey,t.documentKey),e!==0?e:Kt(i.largestBatchId,t.largestBatchId))}const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jo(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==QR)throw i;bt("LocalStore","Unexpectedly lost primary lease")}class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):dt.reject(e)}static resolve(t){return new dt(((e,r)=>{e(t)}))}static reject(t){return new dt(((e,r)=>{r(t)}))}static waitFor(t){return new dt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&e()}),(g=>r(g)))})),c=!0,u===o&&e()}))}static or(t){let e=dt.resolve(!1);for(const r of t)e=e.next((o=>o?dt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new dt(((r,o)=>{const u=t.length,c=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;e(t[v]).next((x=>{c[v]=x,++p,p===u&&r(c)}),(x=>o(x)))}}))}static doWhile(t,e){return new dt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function KR(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function tl(i){return i.name==="IndexedDbTransactionError"}class vd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vd.ce=-1;const Eg=-1;function _d(i){return i==null}function Kf(i){return i===0&&1/i==-1/0}function XR(i){return typeof i=="number"&&Number.isInteger(i)&&!Kf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const OT="";function $R(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=Ux(t)),t=ZR(i.get(e),t);return Ux(t)}function ZR(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case OT:e+="";break;default:e+=u}}return e}function Ux(i){return i+OT+""}function Fx(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Hr(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function NT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class De{constructor(t,e){this.comparator=t,this.root=e||yn.EMPTY}insert(t,e){return new De(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(t){return new De(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ef(this.root,t,this.comparator,!0)}}class Ef{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??yn.RED,this.left=o??yn.EMPTY,this.right=u??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new yn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Vt(27949);return t+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new yn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(t){this.comparator=t,this.data=new De(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Hx(this.data.getIterator())}getIteratorFrom(t){return new Hx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof nn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new nn(this.comparator);return e.data=t,e}}class Hx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(vn.comparator)}static empty(){return new ti([])}unionWith(t){let e=new nn(vn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ti(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PT("Invalid base64 string: "+u):u}})(t);return new _n(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new _n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(i){if(ce(!!i,39018),typeof i=="string"){let t=0;const e=JR.exec(i);if(ce(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Be(i.seconds),nanos:Be(i.nanos)}}function Be(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Nr(i){return typeof i=="string"?_n.fromBase64String(i):_n.fromUint8Array(i)}const kT="server_timestamp",LT="__type__",BT="__previous_value__",zT="__local_write_time__";function wg(i){return(i?.mapValue?.fields||{})[LT]?.stringValue===kT}function xd(i){const t=i.mapValue.fields[BT];return wg(t)?xd(t):t}function wu(i){const t=Or(i.mapValue.fields[zT].timestampValue);return new Ee(t.seconds,t.nanos)}class tI{constructor(t,e,r,o,u,c,p,g,v,x){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=x}}const Xf="(default)";class Cu{constructor(t,e){this.projectId=t,this.database=e||Xf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}const UT="__type__",eI="__max__",wf={mapValue:{}},FT="__vector__",$f="value";function Pr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wg(i)?4:iI(i)?9007199254740991:nI(i)?10:11:Vt(28295,{value:i})}function vs(i,t){if(i===t)return!0;const e=Pr(i);if(e!==Pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return wu(i).isEqual(wu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Or(o.timestampValue),p=Or(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Nr(o.bytesValue).isEqual(Nr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Be(o.geoPointValue.latitude)===Be(u.geoPointValue.latitude)&&Be(o.geoPointValue.longitude)===Be(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Be(o.integerValue)===Be(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Be(o.doubleValue),p=Be(u.doubleValue);return c===p?Kf(c)===Kf(p):isNaN(c)&&isNaN(p)}return!1})(i,t);case 9:return Go(i.arrayValue.values||[],t.arrayValue.values||[],vs);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Fx(c)!==Fx(p))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(p[g]===void 0||!vs(c[g],p[g])))return!1;return!0})(i,t);default:return Vt(52216,{left:i})}}function Ru(i,t){return(i.values||[]).find((e=>vs(e,t)))!==void 0}function Yo(i,t){if(i===t)return 0;const e=Pr(i),r=Pr(t);if(e!==r)return Kt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const p=Be(u.integerValue||u.doubleValue),g=Be(c.integerValue||c.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,t);case 3:return qx(i.timestampValue,t.timestampValue);case 4:return qx(wu(i),wu(t));case 5:return Dm(i.stringValue,t.stringValue);case 6:return(function(u,c){const p=Nr(u),g=Nr(c);return p.compareTo(g)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const p=u.split("/"),g=c.split("/");for(let v=0;v<p.length&&v<g.length;v++){const x=Kt(p[v],g[v]);if(x!==0)return x}return Kt(p.length,g.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const p=Kt(Be(u.latitude),Be(c.latitude));return p!==0?p:Kt(Be(u.longitude),Be(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return Gx(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const p=u.fields||{},g=c.fields||{},v=p[$f]?.arrayValue,x=g[$f]?.arrayValue,f=Kt(v?.values?.length||0,x?.values?.length||0);return f!==0?f:Gx(v,x)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===wf.mapValue&&c===wf.mapValue)return 0;if(u===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=c.fields||{},x=Object.keys(v);g.sort(),x.sort();for(let f=0;f<g.length&&f<x.length;++f){const _=Dm(g[f],x[f]);if(_!==0)return _;const S=Yo(p[g[f]],v[x[f]]);if(S!==0)return S}return Kt(g.length,x.length)})(i.mapValue,t.mapValue);default:throw Vt(23264,{he:e})}}function qx(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Kt(i,t);const e=Or(i),r=Or(t),o=Kt(e.seconds,r.seconds);return o!==0?o:Kt(e.nanos,r.nanos)}function Gx(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Yo(e[o],r[o]);if(u)return u}return Kt(e.length,r.length)}function Qo(i){return Vm(i)}function Vm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=Or(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Nr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return Rt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Vm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Vm(e.fields[c])}`;return o+"}"})(i.mapValue):Vt(61005,{value:i})}function Lf(i){switch(Pr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xd(i);return t?16+Lf(t):16;case 5:return 2*i.stringValue.length;case 6:return Nr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Lf(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Hr(r.fields,((u,c)=>{o+=u.length+Lf(c)})),o})(i.mapValue);default:throw Vt(13486,{value:i})}}function Yx(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function jm(i){return!!i&&"integerValue"in i}function Cg(i){return!!i&&"arrayValue"in i}function Qx(i){return!!i&&"nullValue"in i}function Wx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bf(i){return!!i&&"mapValue"in i}function nI(i){return(i?.mapValue?.fields||{})[UT]?.stringValue===FT}function mu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Hr(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=mu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mu(i.arrayValue.values[e]);return t}return{...i}}function iI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eI}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Bf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(e)}setAll(t){let e=vn.emptyPath(),r={},o=[];t.forEach(((c,p)=>{if(!e.isImmediateParentOf(p)){const g=this.getFieldsMap(e);this.applyChanges(g,r,o),r={},o=[],e=p.popLast()}c?r[p.lastSegment()]=mu(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Bf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return vs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Bf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Hr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Un(mu(this.value))}}function HT(i){const t=[];return Hr(i.fields,((e,r)=>{const o=new vn([e]);if(Bf(r)){const u=HT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ti(t)}class En{constructor(t,e,r,o,u,c,p){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(t){return new En(t,0,kt.min(),kt.min(),kt.min(),Un.empty(),0)}static newFoundDocument(t,e,r,o){return new En(t,1,e,kt.min(),r,o,0)}static newNoDocument(t,e){return new En(t,2,e,kt.min(),kt.min(),Un.empty(),0)}static newUnknownDocument(t,e){return new En(t,3,e,kt.min(),kt.min(),Un.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(t,e){this.position=t,this.inclusive=e}}function Kx(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=Rt.comparator(Rt.fromName(c.referenceValue),e.key):r=Yo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xx(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!vs(i.position[e],t.position[e]))return!1;return!0}class Iu{constructor(t,e="asc"){this.field=t,this.dir=e}}function sI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class qT{}class $e extends qT{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new aI(t,e,r):e==="array-contains"?new uI(t,r):e==="in"?new cI(t,r):e==="not-in"?new fI(t,r):e==="array-contains-any"?new dI(t,r):new $e(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new oI(t,r):new lI(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yo(e,this.value)):e!==null&&Pr(this.value)===Pr(e)&&this.matchesComparison(Yo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends qT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ui(t,e)}matches(t){return GT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(i){return i.op==="and"}function YT(i){return rI(i)&&GT(i)}function rI(i){for(const t of i.filters)if(t instanceof Ui)return!1;return!0}function Mm(i){if(i instanceof $e)return i.field.canonicalString()+i.op.toString()+Qo(i.value);if(YT(i))return i.filters.map((t=>Mm(t))).join(",");{const t=i.filters.map((e=>Mm(e))).join(",");return`${i.op}(${t})`}}function QT(i,t){return i instanceof $e?(function(r,o){return o instanceof $e&&r.op===o.op&&r.field.isEqual(o.field)&&vs(r.value,o.value)})(i,t):i instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,p)=>u&&QT(c,o.filters[p])),!0):!1})(i,t):void Vt(19439)}function WT(i){return i instanceof $e?(function(e){return`${e.field.canonicalString()} ${e.op} ${Qo(e.value)}`})(i):i instanceof Ui?(function(e){return e.op.toString()+" {"+e.getFilters().map(WT).join(" ,")+"}"})(i):"Filter"}class aI extends $e{constructor(t,e,r){super(t,e,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const e=Rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class oI extends $e{constructor(t,e){super(t,"in",e),this.keys=KT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class lI extends $e{constructor(t,e){super(t,"not-in",e),this.keys=KT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function KT(i,t){return(t.arrayValue?.values||[]).map((e=>Rt.fromName(e.referenceValue)))}class uI extends $e{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Cg(e)&&Ru(e.arrayValue,this.value)}}class cI extends $e{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ru(this.value.arrayValue,e)}}class fI extends $e{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ru(this.value.arrayValue,e)}}class dI extends $e{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Cg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Ru(this.value.arrayValue,r)))}}class hI{constructor(t,e=null,r=[],o=[],u=null,c=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function $x(i,t=null,e=[],r=[],o=null,u=null,c=null){return new hI(i,t,e,r,o,u,c)}function Rg(i){const t=Bt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Mm(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),_d(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Qo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Qo(r))).join(",")),t.Te=e}return t.Te}function Ig(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!sI(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!QT(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Xx(i.startAt,t.startAt)&&Xx(i.endAt,t.endAt)}function Om(i){return Rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class el{constructor(t,e=null,r=[],o=[],u=null,c="F",p=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pI(i,t,e,r,o,u,c,p){return new el(i,t,e,r,o,u,c,p)}function bd(i){return new el(i)}function Zx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XT(i){return i.collectionGroup!==null}function gu(i){const t=Bt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new nn(vn.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Iu(u,r))})),e.has(vn.keyField().canonicalString())||t.Ie.push(new Iu(vn.keyField(),r))}return t.Ie}function ds(i){const t=Bt(i);return t.Ee||(t.Ee=mI(t,gu(i))),t.Ee}function mI(i,t){if(i.limitType==="F")return $x(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const e=i.endAt?new Zf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Zf(i.startAt.position,i.startAt.inclusive):null;return $x(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Nm(i,t){const e=i.filters.concat([t]);return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Jf(i,t,e){return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Td(i,t){return Ig(ds(i),ds(t))&&i.limitType===t.limitType}function $T(i){return`${Rg(ds(i))}|lt:${i.limitType}`}function jo(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>WT(o))).join(", ")}]`),_d(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Qo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Qo(o))).join(",")),`Target(${r})`})(ds(i))}; limitType=${i.limitType})`}function Sd(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of gu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,p,g){const v=Kx(c,p,g);return c.inclusive?v<=0:v<0})(r.startAt,gu(r),o)||r.endAt&&!(function(c,p,g){const v=Kx(c,p,g);return c.inclusive?v>=0:v>0})(r.endAt,gu(r),o))})(i,t)}function gI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZT(i){return(t,e)=>{let r=!1;for(const o of gu(i)){const u=yI(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yI(i,t,e){const r=i.field.isKeyField()?Rt.comparator(t.key,e.key):(function(u,c,p){const g=c.data.field(u),v=p.data.field(u);return g!==null&&v!==null?Yo(g,v):Vt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Vt(19790,{direction:i.dir})}}class ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}const vI=new De(Rt.comparator);function Hs(){return vI}const JT=new De(Rt.comparator);function cu(...i){let t=JT;for(const e of i)t=t.insert(e.key,e);return t}function tS(i){let t=JT;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Ea(){return yu()}function eS(){return yu()}function yu(){return new ka((i=>i.toString()),((i,t)=>i.isEqual(t)))}const _I=new De(Rt.comparator),xI=new nn(Rt.comparator);function Xt(...i){let t=xI;for(const e of i)t=t.add(e);return t}const bI=new nn(Kt);function TI(){return bI}function Dg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(t)?"-0":t}}function nS(i){return{integerValue:""+i}}function SI(i,t){return XR(t)?nS(t):Dg(i,t)}class Ad{constructor(){this._=void 0}}function AI(i,t,e){return i instanceof td?(function(o,u){const c={fields:{[LT]:{stringValue:kT},[zT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wg(u)&&(u=xd(u)),u&&(c.fields[BT]=u),{mapValue:c}})(e,t):i instanceof Du?sS(i,t):i instanceof Vu?rS(i,t):(function(o,u){const c=iS(o,u),p=Jx(c)+Jx(o.Ae);return jm(c)&&jm(o.Ae)?nS(p):Dg(o.serializer,p)})(i,t)}function EI(i,t,e){return i instanceof Du?sS(i,t):i instanceof Vu?rS(i,t):e}function iS(i,t){return i instanceof ed?(function(r){return jm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class td extends Ad{}class Du extends Ad{constructor(t){super(),this.elements=t}}function sS(i,t){const e=aS(t);for(const r of i.elements)e.some((o=>vs(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Vu extends Ad{constructor(t){super(),this.elements=t}}function rS(i,t){let e=aS(t);for(const r of i.elements)e=e.filter((o=>!vs(o,r)));return{arrayValue:{values:e}}}class ed extends Ad{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Jx(i){return Be(i.integerValue||i.doubleValue)}function aS(i){return Cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function wI(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof Du&&o instanceof Du||r instanceof Vu&&o instanceof Vu?Go(r.elements,o.elements,vs):r instanceof ed&&o instanceof ed?vs(r.Ae,o.Ae):r instanceof td&&o instanceof td})(i.transform,t.transform)}class CI{constructor(t,e){this.version=t,this.transformResults=e}}class Ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Ed{}function oS(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Vg(i.key,Ti.none()):new zu(i.key,i.data,Ti.none());{const e=i.data,r=Un.empty();let o=new nn(vn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new qr(i.key,r,new ti(o.toArray()),Ti.none())}}function RI(i,t,e){i instanceof zu?(function(o,u,c){const p=o.value.clone(),g=eb(o.fieldTransforms,u,c.transformResults);p.setAll(g),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):i instanceof qr?(function(o,u,c){if(!zf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=eb(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(lS(o)),g.setAll(p),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function vu(i,t,e,r){return i instanceof zu?(function(u,c,p,g){if(!zf(u.precondition,c))return p;const v=u.value.clone(),x=nb(u.fieldTransforms,g,c);return v.setAll(x),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(i,t,e,r):i instanceof qr?(function(u,c,p,g){if(!zf(u.precondition,c))return p;const v=nb(u.fieldTransforms,g,c),x=c.data;return x.setAll(lS(u)),x.setAll(v),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((f=>f.field)))})(i,t,e,r):(function(u,c,p){return zf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(i,t,e)}function II(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=iS(r.transform,o||null);u!=null&&(e===null&&(e=Un.empty()),e.set(r.field,u))}return e||null}function tb(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Go(r,o,((u,c)=>wI(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class zu extends Ed{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qr extends Ed{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function eb(i,t,e){const r=new Map;ce(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,p=t.data.field(u.field);r.set(u.field,EI(c,p,e[o]))}return r}function nb(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,AI(u,c,t))}return r}class Vg extends Ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends Ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VI{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&RI(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=vu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=vu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=eS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=e.has(o.key)?null:p;const g=oS(c,p);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(kt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,((e,r)=>tb(e,r)))&&Go(this.baseMutations,t.baseMutations,((e,r)=>tb(e,r)))}}class jg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return _I})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new jg(t,e,r,o)}}class jI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ke,Zt;function OI(i){switch(i){case ct.OK:return Vt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Vt(15467,{code:i})}}function uS(i){if(i===void 0)return Fs("GRPC error has no .code"),ct.UNKNOWN;switch(i){case Ke.OK:return ct.OK;case Ke.CANCELLED:return ct.CANCELLED;case Ke.UNKNOWN:return ct.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return ct.INTERNAL;case Ke.UNAVAILABLE:return ct.UNAVAILABLE;case Ke.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Ke.NOT_FOUND:return ct.NOT_FOUND;case Ke.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Ke.ABORTED:return ct.ABORTED;case Ke.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Ke.DATA_LOSS:return ct.DATA_LOSS;default:return Vt(39323,{code:i})}}(Zt=Ke||(Ke={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";function NI(){return new TextEncoder}const PI=new Ir([4294967295,4294967295],0);function ib(i){const t=NI().encode(i),e=new AT;return e.update(t),new Uint8Array(e.digest())}function sb(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ir([e,r],0),new Ir([o,u],0)]}class Mg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new fu(`Invalid padding: ${e}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new fu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ir.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Ir.fromNumber(r)));return o.compare(PI)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ib(t),[r,o]=sb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,o,e);return r.forEach((p=>c.insert(p))),c}insert(t){if(this.ge===0)return;const e=ib(t),[r,o]=sb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Uu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new wd(kt.min(),o,new De(Kt),Hs(),Xt())}}class Uu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Uu(r,e,Xt(),Xt(),Xt())}}class Uf{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class cS{constructor(t,e){this.targetId=t,this.Ce=e}}class fS{constructor(t,e,r=_n.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=ab(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),e=Xt(),r=Xt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Vt(38017,{changeType:u})}})),new Uu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=ab()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hs(),this.Je=Cf(),this.He=Cf(),this.Ye=new De(Kt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Vt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Om(u))if(r===0){const c=new Rt(u.path);this.et(e,c,En.newNoDocument(c,kt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const p=this.ut(t),g=p?this.ct(p,t,c):1;if(g!==0){this.it(e);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,v)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,p;try{c=Nr(r).toUint8Array()}catch(g){if(g instanceof PT)return qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Mg(c,o,u)}catch(g){return qo(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Om(p.target)){const g=new Rt(p.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,En.newNoDocument(g,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Xt();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new wd(t,e,this.Ye,this.je,r);return this.je=Hs(),this.Je=Cf(),this.He=Cf(),this.Ye=new De(Kt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new rb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new nn(Kt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new nn(Kt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||bt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Cf(){return new De(Rt.comparator)}function ab(){return new De(Rt.comparator)}const LI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zI={and:"AND",or:"OR"};class UI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Pm(i,t){return i.useProto3Json||_d(t)?t:{value:t}}function nd(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dS(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function FI(i,t){return nd(i,t.toTimestamp())}function hs(i){return ce(!!i,49232),kt.fromTimestamp((function(e){const r=Or(e);return new Ee(r.seconds,r.nanos)})(i))}function Og(i,t){return km(i,t).canonicalString()}function km(i,t){const e=(function(o){return new xe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function hS(i){const t=xe.fromString(i);return ce(vS(t),10190,{key:t.toString()}),t}function Lm(i,t){return Og(i.databaseId,t.path)}function Zp(i,t){const e=hS(t);if(e.get(1)!==i.databaseId.projectId)throw new _t(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new _t(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Rt(mS(e))}function pS(i,t){return Og(i.databaseId,t)}function HI(i){const t=hS(i);return t.length===4?xe.emptyPath():mS(t)}function Bm(i){return new xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mS(i){return ce(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ob(i,t,e){return{name:Lm(i,t),fields:e.value.mapValue.fields}}function qI(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Vt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,x){return v.useProto3Json?(ce(x===void 0||typeof x=="string",58123),_n.fromBase64String(x||"")):(ce(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),_n.fromUint8Array(x||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,p=c&&(function(v){const x=v.code===void 0?ct.UNKNOWN:uS(v.code);return new _t(x,v.message||"")})(c);e=new fS(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zp(i,r.document.name),u=hs(r.document.updateTime),c=r.document.createTime?hs(r.document.createTime):kt.min(),p=new Un({mapValue:{fields:r.document.fields}}),g=En.newFoundDocument(o,u,c,p),v=r.targetIds||[],x=r.removedTargetIds||[];e=new Uf(v,x,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Zp(i,r.document),u=r.readTime?hs(r.readTime):kt.min(),c=En.newNoDocument(o,u),p=r.removedTargetIds||[];e=new Uf([],p,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Zp(i,r.document),u=r.removedTargetIds||[];e=new Uf([],u,o,null)}else{if(!("filter"in t))return Vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new MI(o,u),p=r.targetId;e=new cS(p,c)}}return e}function GI(i,t){let e;if(t instanceof zu)e={update:ob(i,t.key,t.value)};else if(t instanceof Vg)e={delete:Lm(i,t.key)};else if(t instanceof qr)e={update:ob(i,t.key,t.data),updateMask:tD(t.fieldMask)};else{if(!(t instanceof DI))return Vt(16599,{Vt:t.type});e={verify:Lm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const p=c.transform;if(p instanceof td)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ed)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw Vt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Vt(27497)})(i,t.precondition)),e}function YI(i,t){return i&&i.length>0?(ce(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?hs(o.updateTime):hs(u);return c.isEqual(kt.min())&&(c=hs(u)),new CI(c,o.transformResults||[])})(e,t)))):[]}function QI(i,t){return{documents:[pS(i,t.path)]}}function WI(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=pS(i,o);const u=(function(v){if(v.length!==0)return yS(Ui.create(v,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(v){if(v.length!==0)return v.map((x=>(function(_){return{field:Mo(_.field),direction:$I(_.dir)}})(x)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const p=Pm(i,t.limit);return p!==null&&(e.structuredQuery.limit=p),t.startAt&&(e.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:e,parent:o}}function KI(i){let t=HI(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){ce(r===1,65062);const x=e.from[0];x.allDescendants?o=x.collectionId:t=t.child(x.collectionId)}let u=[];e.where&&(u=(function(f){const _=gS(f);return _ instanceof Ui&&YT(_)?_.getFilters():[_]})(e.where));let c=[];e.orderBy&&(c=(function(f){return f.map((_=>(function(E){return new Iu(Oo(E.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(_)))})(e.orderBy));let p=null;e.limit&&(p=(function(f){let _;return _=typeof f=="object"?f.value:f,_d(_)?null:_})(e.limit));let g=null;e.startAt&&(g=(function(f){const _=!!f.before,S=f.values||[];return new Zf(S,_)})(e.startAt));let v=null;return e.endAt&&(v=(function(f){const _=!f.before,S=f.values||[];return new Zf(S,_)})(e.endAt)),pI(t,o,c,u,p,"F",g,v)}function XI(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gS(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Oo(e.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(e.unaryFilter.field);return $e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(e.unaryFilter.field);return $e.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(e.unaryFilter.field);return $e.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return $e.create(Oo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Ui.create(e.compositeFilter.filters.map((r=>gS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(e.compositeFilter.op))})(i):Vt(30097,{filter:i})}function $I(i){return LI[i]}function ZI(i){return BI[i]}function JI(i){return zI[i]}function Mo(i){return{fieldPath:i.canonicalString()}}function Oo(i){return vn.fromServerFormat(i.fieldPath)}function yS(i){return i instanceof $e?(function(e){if(e.op==="=="){if(Wx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NAN"}};if(Qx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NAN"}};if(Qx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(e.field),op:ZI(e.op),value:e.value}}})(i):i instanceof Ui?(function(e){const r=e.getFilters().map((o=>yS(o)));return r.length===1?r[0]:{compositeFilter:{op:JI(e.op),filters:r}}})(i):Vt(54877,{filter:i})}function tD(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Er{constructor(t,e,r,o,u=kt.min(),c=kt.min(),p=_n.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eD{constructor(t){this.yt=t}}function nD(i){const t=KI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jf(t,t.limit,"L"):t}class iD{constructor(){this.Cn=new sD}addToCollectionParentIndex(t,e){return this.Cn.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(Mr.min())}updateCollectionGroup(t,e,r){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class sD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new nn(xe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new nn(xe.comparator)).toArray()}}const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_S=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(_S,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Wo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}const ub="LruGarbageCollector",rD=1048576;function cb([i,t],[e,r]){const o=Kt(i,e);return o===0?Kt(t,r):o}class aD{constructor(t){this.Ir=t,this.buffer=new nn(cb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();cb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class oD{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(ub,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tl(e)?bt(ub,"Ignoring IndexedDB error during garbage collection: ",e):await Jo(e)}await this.Vr(3e5)}))}}class lD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return dt.resolve(vd.ce);const r=new aD(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(lb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,p,g,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),o=this.params.maximumSequenceNumbersToCollect):o=f,c=Date.now(),this.nthSequenceNumber(t,o)))).next((f=>(r=f,p=Date.now(),this.removeTargets(t,r,e)))).next((f=>(u=f,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((f=>(v=Date.now(),Vo()<=Jt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${f} documents in `+(v-g)+`ms
Total Duration: ${v-x}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:f}))))}}function uD(i,t){return new lD(i,t)}class cD{constructor(){this.changes=new ka((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?dt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class dD{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&vu(r.mutation,o,ti.empty(),Ee.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Xt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Xt()){const o=Ea();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=cu();return u.forEach(((p,g)=>{c=c.insert(p,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Ea();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Xt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,p)=>{e.set(c,p)}))}))}computeViews(t,e,r,o){let u=Hs();const c=yu(),p=(function(){return yu()})();return e.forEach(((g,v)=>{const x=r.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof qr)?u=u.insert(v.key,v):x!==void 0?(c.set(v.key,x.mutation.getFieldMask()),vu(x.mutation,v,x.mutation.getFieldMask(),Ee.now())):c.set(v.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((v,x)=>c.set(v,x))),e.forEach(((v,x)=>p.set(v,new fD(x,c.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,e){const r=yu();let o=new De(((c,p)=>c-p)),u=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const p of c)p.keys().forEach((g=>{const v=e.get(g);if(v===null)return;let x=r.get(g)||ti.empty();x=p.applyToLocalView(v,x),r.set(g,x);const f=(o.get(p.batchId)||Xt()).add(g);o=o.insert(p.batchId,f)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,x=g.value,f=eS();x.forEach((_=>{if(!u.has(_)){const S=oS(e.get(_),r.get(_));S!==null&&f.set(_,S),u=u.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(t,v,f))}return dt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):XT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):dt.resolve(Ea());let p=Eu,g=u;return c.next((v=>dt.forEach(v,((x,f)=>(p<f.largestBatchId&&(p=f.largestBatchId),u.get(x)?dt.resolve():this.remoteDocumentCache.getEntry(t,x).next((_=>{g=g.insert(x,_)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,g,v,Xt()))).next((x=>({batchId:p,changes:tS(x)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Rt(e)).next((r=>{let o=cu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(t,u).next((p=>dt.forEach(p,(g=>{const v=(function(f,_){return new el(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(e,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((x=>{x.forEach(((f,_)=>{c=c.insert(f,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((g,v)=>{const x=v.getKey();c.get(x)===null&&(c=c.insert(x,En.newInvalidDocument(x)))}));let p=cu();return c.forEach(((g,v)=>{const x=u.get(g);x!==void 0&&vu(x.mutation,v,ti.empty(),Ee.now()),Sd(e,v)&&(p=p.insert(g,v))})),p}))}}class hD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return dt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:hs(o.createTime)}})(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:hs(o.readTime)}})(e)),dt.resolve()}}class pD{constructor(){this.overlays=new De(Rt.comparator),this.qr=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ea();return dt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),dt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),dt.resolve()}getOverlaysForCollection(t,e,r){const o=Ea(),u=e.length+1,c=new Rt(e.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return dt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new De(((v,x)=>v-x));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let x=u.get(v.largestBatchId);x===null&&(x=Ea(),u=u.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const p=Ea(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,x)=>p.set(v,x))),!(p.size()>=o)););return dt.resolve(p)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jI(e,r));let u=this.qr.get(e);u===void 0&&(u=Xt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class mD{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}class Ng{constructor(){this.Qr=new nn(un.$r),this.Ur=new nn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new un(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new un(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Rt(new xe([])),r=new un(e,t),o=new un(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Rt(new xe([])),r=new un(e,t),o=new un(e,t+1);let u=Xt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new un(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class un{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Rt.comparator(t.key,e.key)||Kt(t.Yr,e.Yr)}static Kr(t,e){return Kt(t.Yr,e.Yr)||Rt.comparator(t.key,e.key)}}class gD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new nn(un.$r)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VI(u,e,r,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new un(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return dt.resolve(c)}lookupMutationBatch(t,e){return dt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return dt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new un(e,0),o=new un(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),dt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new nn(Kt);return e.forEach((o=>{const u=new un(o,0),c=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{r=r.add(p.Yr)}))})),dt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;Rt.isDocumentKey(u)||(u=u.child(""));const c=new un(new Rt(u),0);let p=new nn(Kt);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Yr)),!0)}),c),dt.resolve(this.ti(p))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ce(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return dt.forEach(e.mutations,(o=>{const u=new un(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new un(e,0),o=this.Zr.firstAfterOrEqual(r);return dt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class yD{constructor(t){this.ri=t,this.docs=(function(){return new De(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return dt.resolve(r?r.document.mutableCopy():En.newInvalidDocument(e))}getEntries(t,e){let r=Hs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),dt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Hs();const c=e.path,p=new Rt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:x}}=g.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||YR(GR(x),r)<=0||(o.has(x.key)||Sd(e,x))&&(u=u.insert(x.key,x.mutableCopy()))}return dt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Vt(9500)}ii(t,e){return dt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new vD(this)}getSize(t){return dt.resolve(this.size)}}class vD extends cD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),dt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class _D{constructor(t){this.persistence=t,this.si=new ka((e=>Rg(e)),Ig),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ng,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),dt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Wo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.Pr(e),dt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=e&&r.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),dt.waitFor(u).next((()=>o))}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return dt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),dt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),dt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return dt.resolve(r)}containsKey(t,e){return dt.resolve(this._i.containsKey(e))}}class xS{constructor(t,e){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new mD,this.referenceDelegate=t(this),this.Pi=new _D(this),this.indexManager=new iD,this.remoteDocumentCache=(function(o){return new yD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eD(e),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new gD(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){bt("MemoryPersistence","Starting transaction:",t);const o=new xD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return dt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class xD extends WR{constructor(t){super(),this.currentSequenceNumber=t}}class Pg{constructor(t){this.persistence=t,this.Ri=new Ng,this.Vi=null}static mi(t){return new Pg(t)}get fi(){if(this.Vi)return this.Vi;throw Vt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),dt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.fi,(r=>{const o=Rt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return dt.or([()=>dt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class id{constructor(t,e){this.persistence=t,this.pi=new ka((r=>$R(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=uD(this,e)}static mi(t,e){return new id(t,e)}Ei(){}di(t){return dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return dt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?dt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((p=>{p||(r++,u.removeEntry(c,kt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),dt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),dt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),dt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Lf(t.data.value)),e}br(t,e,r){return dt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return dt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class kg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Xt(),o=Xt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kg(t,e.fromCache,r,o)}}class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dC()?8:KR(uC())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bD;return this.Ss(t,e,c).next((p=>{if(u.result=p,this.Vs)return this.bs(t,e,c,p.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(Vo()<=Jt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",jo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),dt.resolve()):(Vo()<=Jt.DEBUG&&bt("QueryEngine","Query:",jo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Vo()<=Jt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",jo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ds(e))):dt.resolve())}ys(t,e){if(Zx(e))return dt.resolve(null);let r=ds(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Jf(e,null,"F"),r=ds(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Xt(...u);return this.ps.getDocuments(t,c).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const v=this.Ds(e,p);return this.Cs(e,v,c,g.readTime)?this.ys(t,Jf(e,null,"F")):this.vs(t,v,e,g)}))))})))))}ws(t,e,r,o){return Zx(e)||o.isEqual(kt.min())?dt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?dt.resolve(null):(Vo()<=Jt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(e)),this.vs(t,c,e,qR(o,Eu)).next((p=>p)))}))}Ds(t,e){let r=new nn(ZT(t));return e.forEach(((o,u)=>{Sd(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return Vo()<=Jt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",jo(e)),this.ps.getDocumentsMatchingQuery(t,e,Mr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Lg="LocalStore",SD=3e8;class AD{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new De(Kt),this.xs=new ka((u=>Rg(u)),Ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function ED(i,t,e,r){return new AD(i,t,e,r)}async function bS(i,t){const e=Bt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],p=[];let g=Xt();for(const v of o){c.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}for(const v of u){p.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}return e.localDocuments.getDocuments(r,g).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:p})))}))}))}function wD(i,t){const e=Bt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,x){const f=v.batch,_=f.keys();let S=dt.resolve();return _.forEach((E=>{S=S.next((()=>x.getEntry(g,E))).next((C=>{const M=v.docVersions.get(E);ce(M!==null,48541),C.version.compareTo(M)<0&&(f.applyToRemoteDocument(C,v),C.isValidDocument()&&(C.setReadTime(v.commitVersion),x.addEntry(C)))}))})),S.next((()=>p.mutationQueue.removeMutationBatch(g,f)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Xt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function TS(i){const t=Bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function CD(i,t){const e=Bt(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const p=[];t.targetChanges.forEach(((x,f)=>{const _=o.get(f);if(!_)return;p.push(e.Pi.removeMatchingKeys(u,x.removedDocuments,f).next((()=>e.Pi.addMatchingKeys(u,x.addedDocuments,f))));let S=_.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(f)!==null?S=S.withResumeToken(_n.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,r)),o=o.insert(f,S),(function(C,M,V){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=SD?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,S,x)&&p.push(e.Pi.updateTargetData(u,S))}));let g=Hs(),v=Xt();if(t.documentUpdates.forEach((x=>{t.resolvedLimboDocuments.has(x)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(RD(u,c,t.documentUpdates).next((x=>{g=x.ks,v=x.qs}))),!r.isEqual(kt.min())){const x=e.Pi.getLastRemoteSnapshotVersion(u).next((f=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(x)}return dt.waitFor(p).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(e.Ms=o,u)))}function RD(i,t,e){let r=Xt(),o=Xt();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=Hs();return e.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(kt.min())?(t.removeEntry(p,g.readTime),c=c.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),c=c.insert(p,g)):bt(Lg,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function ID(i,t){const e=Bt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Eg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function DD(i,t){const e=Bt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,dt.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Er(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function zm(i,t,e){const r=Bt(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;bt(Lg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function fb(i,t,e){const r=Bt(i);let o=kt.min(),u=Xt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,v,x){const f=Bt(g),_=f.xs.get(x);return _!==void 0?dt.resolve(f.Ms.get(_)):f.Pi.getTargetData(v,x)})(r,c,ds(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:kt.min(),e?u:Xt()))).next((p=>(VD(r,gI(t),p),{documents:p,Qs:u})))))}function VD(i,t,e){let r=i.Os.get(t)||kt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class db{constructor(){this.activeTargetIds=TI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jD{constructor(){this.Mo=new db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new db,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MD{Oo(t){}shutdown(){}}const hb="ConnectivityMonitor";class pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(hb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(hb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rf=null;function Um(){return Rf===null?Rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rf++,"0x"+Rf.toString(16)}const Jp="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ND{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Um(),p=this.zo(t,e.toUriEncodedString());bt(Jp,`Sending RPC '${t}' ${c}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:v}=new URL(p),x=xg(v);return this.Jo(t,p,g,r,x).then((f=>(bt(Jp,`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw qo(Jp,`RPC '${t}' ${c} failed with error: `,f,"url: ",p,"request:",r),f}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=OD[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class PD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Sn="WebChannelConnection";class kD extends ND{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Um();return new Promise(((p,g)=>{const v=new ET;v.setWithCredentials(!0),v.listenOnce(wT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case kf.NO_ERROR:const f=v.getResponseJson();bt(Sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(f)),p(f);break;case kf.TIMEOUT:bt(Sn,`RPC '${t}' ${c} timed out`),g(new _t(ct.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const _=v.getStatus();if(bt(Sn,`RPC '${t}' ${c} failed with status:`,_,"response text:",v.getResponseText()),_>0){let S=v.getResponseJson();Array.isArray(S)&&(S=S[0]);const E=S?.error;if(E&&E.status&&E.message){const C=(function(V){const O=V.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(O)>=0?O:ct.UNKNOWN})(E.status);g(new _t(C,E.message))}else g(new _t(ct.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new _t(ct.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:t,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{bt(Sn,`RPC '${t}' ${c} completed.`)}}));const x=JSON.stringify(o);bt(Sn,`RPC '${t}' ${c} sending request:`,o),v.send(e,"POST",x,r,15)}))}T_(t,e,r){const o=Um(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=IT(),p=RT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,e,r),g.encodeInitMessageHeaders=!0;const x=u.join("");bt(Sn,`Creating RPC '${t}' stream ${o}: ${x}`,g);const f=c.createWebChannel(x,g);this.I_(f);let _=!1,S=!1;const E=new PD({Yo:M=>{S?bt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(_||(bt(Sn,`Opening RPC '${t}' stream ${o} transport.`),f.open(),_=!0),bt(Sn,`RPC '${t}' stream ${o} sending:`,M),f.send(M))},Zo:()=>f.close()}),C=(M,V,O)=>{M.listen(V,(k=>{try{O(k)}catch(G){setTimeout((()=>{throw G}),0)}}))};return C(f,uu.EventType.OPEN,(()=>{S||(bt(Sn,`RPC '${t}' stream ${o} transport opened.`),E.o_())})),C(f,uu.EventType.CLOSE,(()=>{S||(S=!0,bt(Sn,`RPC '${t}' stream ${o} transport closed`),E.a_(),this.E_(f))})),C(f,uu.EventType.ERROR,(M=>{S||(S=!0,qo(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),E.a_(new _t(ct.UNAVAILABLE,"The operation could not be completed")))})),C(f,uu.EventType.MESSAGE,(M=>{if(!S){const V=M.data[0];ce(!!V,16349);const O=V,k=O?.error||O[0]?.error;if(k){bt(Sn,`RPC '${t}' stream ${o} received error:`,k);const G=k.status;let et=(function(R){const I=Ke[R];if(I!==void 0)return uS(I)})(G),J=k.message;et===void 0&&(et=ct.INTERNAL,J="Unknown error status: "+G+" with message "+k.message),S=!0,E.a_(new _t(et,J)),f.close()}else bt(Sn,`RPC '${t}' stream ${o} received:`,V),E.u_(V)}})),C(p,CT.STAT_EVENT,(M=>{M.stat===Im.PROXY?bt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===Im.NOPROXY&&bt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function tm(){return typeof document<"u"?document:null}function Cd(i){return new UI(i,!0)}class SS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mb="PersistentStream";class AS{constructor(t,e,r,o,u,c,p,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(Fs(e.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new _t(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return bt(mb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(bt(mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LD extends AS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=qI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return kt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?kt.min():c.readTime?hs(c.readTime):kt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Bm(this.serializer),e.addTarget=(function(u,c){let p;const g=c.target;if(p=Om(g)?{documents:QI(u,g)}:{query:WI(u,g).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=dS(u,c.resumeToken);const v=Pm(u,c.expectedCount);v!==null&&(p.expectedCount=v)}else if(c.snapshotVersion.compareTo(kt.min())>0){p.readTime=nd(u,c.snapshotVersion.toTimestamp());const v=Pm(u,c.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=XI(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Bm(this.serializer),e.removeTarget=t,this.q_(e)}}class BD extends AS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=YI(t.writeResults,t.commitTime),r=hs(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Bm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>GI(this.serializer,r)))};this.q_(e)}}class zD{}class UD extends zD{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _t(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,km(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(ct.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(t,km(e,r),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(e),this.aa=!1):bt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oa="RemoteStore";class HD{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{La(this)&&(bt(Oa,"Restarting streams for network reachability change."),await(async function(g){const v=Bt(g);v.Ea.add(4),await Fu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Rd(v)})(this))}))})),this.Ra=new FD(r,o)}}async function Rd(i){if(La(i))for(const t of i.da)await t(!0)}async function Fu(i){for(const t of i.da)await t(!1)}function ES(i,t){const e=Bt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Fg(e)?Ug(e):nl(e).O_()&&zg(e,t))}function Bg(i,t){const e=Bt(i),r=nl(e);e.Ia.delete(t),r.O_()&&wS(e,t),e.Ia.size===0&&(r.O_()?r.L_():La(e)&&e.Ra.set("Unknown"))}function zg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nl(i).Y_(t)}function wS(i,t){i.Va.Ue(t),nl(i).Z_(t)}function Ug(i){i.Va=new kI({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),nl(i).start(),i.Ra.ua()}function Fg(i){return La(i)&&!nl(i).x_()&&i.Ia.size>0}function La(i){return Bt(i).Ea.size===0}function CS(i){i.Va=void 0}async function qD(i){i.Ra.set("Online")}async function GD(i){i.Ia.forEach(((t,e)=>{zg(i,t)}))}async function YD(i,t){CS(i),Fg(i)?(i.Ra.ha(t),Ug(i)):i.Ra.set("Unknown")}async function QD(i,t,e){if(i.Ra.set("Online"),t instanceof fS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(i,t)}catch(r){bt(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await sd(i,r)}else if(t instanceof Uf?i.Va.Ze(t):t instanceof cS?i.Va.st(t):i.Va.tt(t),!e.isEqual(kt.min()))try{const r=await TS(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ia.get(v);x&&u.Ia.set(v,x.withResumeToken(g.resumeToken,c))}})),p.targetMismatches.forEach(((g,v)=>{const x=u.Ia.get(g);if(!x)return;u.Ia.set(g,x.withResumeToken(_n.EMPTY_BYTE_STRING,x.snapshotVersion)),wS(u,g);const f=new Er(x.target,g,v,x.sequenceNumber);zg(u,f)})),u.remoteSyncer.applyRemoteEvent(p)})(i,e)}catch(r){bt(Oa,"Failed to raise snapshot:",r),await sd(i,r)}}async function sd(i,t,e){if(!tl(t))throw t;i.Ea.add(1),await Fu(i),i.Ra.set("Offline"),e||(e=()=>TS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{bt(Oa,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Rd(i)}))}function RS(i,t){return t().catch((e=>sd(i,e,t)))}async function Id(i){const t=Bt(i),e=kr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;WD(t);)try{const o=await ID(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,KD(t,o)}catch(o){await sd(t,o)}IS(t)&&DS(t)}function WD(i){return La(i)&&i.Ta.length<10}function KD(i,t){i.Ta.push(t);const e=kr(i);e.O_()&&e.X_&&e.ea(t.mutations)}function IS(i){return La(i)&&!kr(i).x_()&&i.Ta.length>0}function DS(i){kr(i).start()}async function XD(i){kr(i).ra()}async function $D(i){const t=kr(i);for(const e of i.Ta)t.ea(e.mutations)}async function ZD(i,t,e){const r=i.Ta.shift(),o=jg.from(r,t,e);await RS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Id(i)}async function JD(i,t){t&&kr(i).X_&&await(async function(r,o){if((function(c){return OI(c)&&c!==ct.ABORTED})(o.code)){const u=r.Ta.shift();kr(r).B_(),await RS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Id(r)}})(i,t),IS(i)&&DS(i)}async function gb(i,t){const e=Bt(i);e.asyncQueue.verifyOperationInProgress(),bt(Oa,"RemoteStore received new credentials");const r=La(e);e.Ea.add(3),await Fu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Rd(e)}async function tV(i,t){const e=Bt(i);t?(e.Ea.delete(2),await Rd(e)):t||(e.Ea.add(2),await Fu(e),e.Ra.set("Unknown"))}function nl(i){return i.ma||(i.ma=(function(e,r,o){const u=Bt(e);return u.sa(),new LD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:qD.bind(null,i),t_:GD.bind(null,i),r_:YD.bind(null,i),H_:QD.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Fg(i)?Ug(i):i.Ra.set("Unknown")):(await i.ma.stop(),CS(i))}))),i.ma}function kr(i){return i.fa||(i.fa=(function(e,r,o){const u=Bt(e);return u.sa(),new BD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:XD.bind(null,i),r_:JD.bind(null,i),ta:$D.bind(null,i),na:ZD.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Id(i)):(await i.fa.stop(),i.Ta.length>0&&(bt(Oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Hg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,p=new Hg(t,e,c,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(i,t){if(Fs("AsyncQueue",`${t}: ${i}`),tl(i))return new _t(ct.UNAVAILABLE,`${t}: ${i}`);throw i}class zo{static emptySet(t){return new zo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Rt.comparator(e.key,r.key):(e,r)=>Rt.comparator(e.key,r.key),this.keyedMap=cu(),this.sortedSet=new De(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new zo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class yb{constructor(){this.ga=new De(Rt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Ko{constructor(t,e,r,o,u,c,p,g,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((p=>{c.push({type:0,doc:p})})),new Ko(t,e,zo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Td(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class eV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nV{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Bt(e),u=o.queries;o.queries=vb(),u.forEach(((c,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new _t(ct.ABORTED,"Firestore shutting down"))}}function vb(){return new ka((i=>$T(i)),Td)}async function VS(i,t){const e=Bt(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new eV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const p=qg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(p)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Gg(e)}async function jS(i,t){const e=Bt(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function iV(i,t){const e=Bt(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(r=!0);c.wa=o}}r&&Gg(e)}function sV(i,t,e){const r=Bt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Gg(i){i.Ca.forEach((t=>{t.next()}))}var Fm,_b;(_b=Fm||(Fm={})).Ma="default",_b.Cache="cache";class MS{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ko(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fm.Cache}}class OS{constructor(t){this.key=t}}class NS{constructor(t){this.key=t}}class rV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=ZT(t),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new yb,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((x,f)=>{const _=o.get(x),S=Sd(this.query,f)?f:null,E=!!_&&this.mutatedKeys.has(_.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;_&&S?_.data.isEqual(S.data)?E!==C&&(r.track({type:3,doc:S}),M=!0):this.su(_,S)||(r.track({type:2,doc:S}),M=!0,(g&&this.eu(S,g)>0||v&&this.eu(S,v)<0)&&(p=!0)):!_&&S?(r.track({type:0,doc:S}),M=!0):_&&!S&&(r.track({type:1,doc:_}),M=!0,(g||v)&&(p=!0)),M&&(S?(c=c.add(S),u=C?u.add(x):u.delete(x)):(c=c.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{tu:c,iu:r,Cs:p,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((x,f)=>(function(S,E){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Rt:M})}};return C(S)-C(E)})(x.type,f.type)||this.eu(x.doc,f.doc))),this.ou(r),o=o??!1;const p=e&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,v=g!==this.Za;return this.Za=g,c.length!==0||v?{snapshot:new Ko(this.query,t.tu,u,c,t.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new NS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new OS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Xt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class aV{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class oV{constructor(t){this.key=t,this.hu=!1}}class lV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((p=>$T(p)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new De(Rt.comparator),this.Au=new Map,this.Ru=new Ng,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uV(i,t,e=!0){const r=US(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await PS(r,t,e,!0),o}async function cV(i,t){const e=US(i);await PS(e,t,!0,!1)}async function PS(i,t,e,r){const o=await DD(i.localStore,ds(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let p;return r&&(p=await fV(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&ES(i.remoteStore,o),p}async function fV(i,t,e,r,o){i.pu=(f,_,S)=>(async function(C,M,V,O){let k=M.view.ru(V);k.Cs&&(k=await fb(C.localStore,M.query,!1).then((({documents:j})=>M.view.ru(j,k))));const G=O&&O.targetChanges.get(M.targetId),et=O&&O.targetMismatches.get(M.targetId)!=null,J=M.view.applyChanges(k,C.isPrimaryClient,G,et);return bb(C,M.targetId,J.au),J.snapshot})(i,f,_,S);const u=await fb(i.localStore,t,!0),c=new rV(t,u.Qs),p=c.ru(u.documents),g=Uu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),v=c.applyChanges(p,i.isPrimaryClient,g);bb(i,e,v.au);const x=new aV(t,e,c);return i.Tu.set(t,x),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),v.snapshot}async function dV(i,t,e){const r=Bt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Td(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Bg(r.remoteStore,o.targetId),Hm(r,o.targetId)})).catch(Jo)):(Hm(r,o.targetId),await zm(r.localStore,o.targetId,!0))}async function hV(i,t){const e=Bt(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Bg(e.remoteStore,r.targetId))}async function pV(i,t,e){const r=bV(i);try{const o=await(function(c,p){const g=Bt(c),v=Ee.now(),x=p.reduce(((S,E)=>S.add(E.key)),Xt());let f,_;return g.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let E=Hs(),C=Xt();return g.Ns.getEntries(S,x).next((M=>{E=M,E.forEach(((V,O)=>{O.isValidDocument()||(C=C.add(V))}))})).next((()=>g.localDocuments.getOverlayedDocuments(S,E))).next((M=>{f=M;const V=[];for(const O of p){const k=II(O,f.get(O.key).overlayedDocument);k!=null&&V.push(new qr(O.key,k,HT(k.value.mapValue),Ti.exists(!0)))}return g.mutationQueue.addMutationBatch(S,v,V,p)})).next((M=>{_=M;const V=M.applyToLocalDocumentSet(f,C);return g.documentOverlayCache.saveOverlays(S,M.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:tS(f)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,p,g){let v=c.Vu[c.currentUser.toKey()];v||(v=new De(Kt)),v=v.insert(p,g),c.Vu[c.currentUser.toKey()]=v})(r,o.batchId,e),await Hu(r,o.changes),await Id(r.remoteStore)}catch(o){const u=qg(o,"Failed to persist write");e.reject(u)}}async function kS(i,t){const e=Bt(i);try{const r=await CD(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await Hu(e,r,t)}catch(r){await Jo(r)}}function xb(i,t,e){const r=Bt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const p=c.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const g=Bt(c);g.onlineState=p;let v=!1;g.queries.forEach(((x,f)=>{for(const _ of f.Sa)_.va(p)&&(v=!0)})),v&&Gg(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mV(i,t,e){const r=Bt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new De(Rt.comparator);c=c.insert(u,En.newNoDocument(u,kt.min()));const p=Xt().add(u),g=new wd(kt.min(),new Map,new De(Kt),c,p);await kS(r,g),r.du=r.du.remove(u),r.Au.delete(t),Qg(r)}else await zm(r.localStore,t,!1).then((()=>Hm(r,t,e))).catch(Jo)}async function gV(i,t){const e=Bt(i),r=t.batch.batchId;try{const o=await wD(e.localStore,t);BS(e,r,null),LS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(e,o)}catch(o){await Jo(o)}}async function yV(i,t,e){const r=Bt(i);try{const o=await(function(c,p){const g=Bt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return g.mutationQueue.lookupMutationBatch(v,p).next((f=>(ce(f!==null,37113),x=f.keys(),g.mutationQueue.removeMutationBatch(v,f)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>g.localDocuments.getDocuments(v,x)))}))})(r.localStore,t);BS(r,t,e),LS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Hu(r,o)}catch(o){await Jo(o)}}function LS(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function BS(i,t,e){const r=Bt(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Hm(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||zS(i,r)}))}function zS(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(Bg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),Qg(i))}function bb(i,t,e){for(const r of e)r instanceof OS?(i.Ru.addReference(r.key,t),vV(i,r)):r instanceof NS?(bt(Yg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||zS(i,r.key)):Vt(19791,{wu:r})}function vV(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(bt(Yg,"New document in limbo: "+e),i.Eu.add(r),Qg(i))}function Qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new Rt(xe.fromString(t)),r=i.fu.next();i.Au.set(r,new oV(e)),i.du=i.du.insert(e,r),ES(i.remoteStore,new Er(ds(bd(e.path)),r,"TargetPurposeLimboResolution",vd.ce))}}async function Hu(i,t,e){const r=Bt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{c.push(r.pu(g,t,e).then((v=>{if((v||e)&&r.isPrimaryClient){const x=v?!v.fromCache:e?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(v){o.push(v);const x=kg.As(g.targetId,v);u.push(x)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,v){const x=Bt(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>dt.forEach(v,(_=>dt.forEach(_.Es,(S=>x.persistence.referenceDelegate.addReference(f,_.targetId,S))).next((()=>dt.forEach(_.ds,(S=>x.persistence.referenceDelegate.removeReference(f,_.targetId,S)))))))))}catch(f){if(!tl(f))throw f;bt(Lg,"Failed to update sequence numbers: "+f)}for(const f of v){const _=f.targetId;if(!f.fromCache){const S=x.Ms.get(_),E=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(E);x.Ms=x.Ms.insert(_,C)}}})(r.localStore,u))}async function _V(i,t){const e=Bt(i);if(!e.currentUser.isEqual(t)){bt(Yg,"User change. New user:",t.toKey());const r=await bS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new _t(ct.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Hu(e,r.Ls)}}function xV(i,t){const e=Bt(i),r=e.Au.get(t);if(r&&r.hu)return Xt().add(r.key);{let o=Xt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const p=e.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function US(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mV.bind(null,t),t.Pu.H_=iV.bind(null,t.eventManager),t.Pu.yu=sV.bind(null,t.eventManager),t}function bV(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yV.bind(null,t),t}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ED(this.persistence,new TD,t.initialUser,this.serializer)}Cu(t){return new xS(Pg.mi,this.serializer)}Du(t){return new jD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class TV extends rd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ce(this.persistence.referenceDelegate instanceof id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oD(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new xS((r=>id.mi(r,e)),this.serializer)}}class qm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_V.bind(null,this.syncEngine),await tV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nV})()}createDatastore(t){const e=Cd(t.databaseInfo.databaseId),r=(function(u){return new kD(u)})(t.databaseInfo);return(function(u,c,p,g){return new UD(u,c,p,g)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,p){return new HD(r,o,u,c,p)})(this.localStore,this.datastore,t.asyncQueue,(e=>xb(this.syncEngine,e,0)),(function(){return pb.v()?new pb:new MD})())}createSyncEngine(t,e){return(function(o,u,c,p,g,v,x){const f=new lV(o,u,c,p,g,v);return x&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Bt(e);bt(Oa,"RemoteStore shutting down."),r.Ea.add(5),await Fu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class FS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Lr="FirestoreClient";class SV{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{bt(Lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(bt(Lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=qg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function em(i,t){i.asyncQueue.verifyOperationInProgress(),bt(Lr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function Tb(i,t){i.asyncQueue.verifyOperationInProgress();const e=await AV(i);bt(Lr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>gb(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>gb(t.remoteStore,o))),i._onlineComponents=t}async function AV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){bt(Lr,"Using user provided OfflineComponentProvider");try{await em(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;qo("Error using user provided cache. Falling back to memory cache: "+e),await em(i,new rd)}}else bt(Lr,"Using default OfflineComponentProvider"),await em(i,new TV(void 0));return i._offlineComponents}async function HS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(bt(Lr,"Using user provided OnlineComponentProvider"),await Tb(i,i._uninitializedComponentsProvider._online)):(bt(Lr,"Using default OnlineComponentProvider"),await Tb(i,new qm))),i._onlineComponents}function EV(i){return HS(i).then((t=>t.syncEngine))}async function Gm(i){const t=await HS(i),e=t.eventManager;return e.onListen=uV.bind(null,t.syncEngine),e.onUnlisten=dV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=cV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=hV.bind(null,t.syncEngine),e}function wV(i,t,e={}){const r=new Dr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,g,v){const x=new FS({next:_=>{x.Nu(),c.enqueueAndForget((()=>jS(u,f)));const S=_.docs.has(p);!S&&_.fromCache?v.reject(new _t(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&g&&g.source==="server"?v.reject(new _t(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:_=>v.reject(_)}),f=new MS(bd(p.path),x,{includeMetadataChanges:!0,qa:!0});return VS(u,f)})(await Gm(i),i.asyncQueue,t,e,r))),r.promise}function qS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const Sb=new Map;const GS="firestore.googleapis.com",Ab=!0;class Eb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GS,this.ssl=Ab}else this.host=t.host,this.ssl=t.ssl??Ab;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_S;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rD)throw new _t(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _t(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _t(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _t(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dd{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Sb.get(e);r&&(bt("ComponentProvider","Removing Datastore"),Sb.delete(e),r.terminate())})(this),Promise.resolve()}}function CV(i,t,e,r={}){i=bi(i,Dd);const o=xg(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},p=`${t}:${e}`;o&&(sC(`https://${p}`),lC("Firestore",!0)),u.host!==GS&&u.host!==p&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!Su(g,c)&&(i._setSettings(g),r.mockUserToken)){let v,x;if(typeof r.mockUserToken=="string")v=r.mockUserToken,x=An.MOCK_USER;else{v=rC(r.mockUserToken,i._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new _t(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new An(f)}i._authCredentials=new MR(new VT(v,x))}}class Gr{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gr(this.firestore,t,this._query)}}class Oe{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Bu(e,Oe._jsonSchema))return new Oe(t,r||null,new Rt(xe.fromString(e.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Ze("string",Oe._jsonSchemaVersion),referencePath:Ze("string")};class Vr extends Gr{constructor(t,e,r){super(t,e,bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new Rt(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function Bn(i,t,...e){if(i=ni(i),jT("collection","path",t),i instanceof Dd){const r=xe.fromString(t,...e);return Lx(r),new Vr(i,null,r)}{if(!(i instanceof Oe||i instanceof Vr))throw new _t(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(xe.fromString(t,...e));return Lx(r),new Vr(i.firestore,null,r)}}function en(i,t,...e){if(i=ni(i),arguments.length===1&&(t=Ag.newId()),jT("doc","path",t),i instanceof Dd){const r=xe.fromString(t,...e);return kx(r),new Oe(i,null,new Rt(r))}{if(!(i instanceof Oe||i instanceof Vr))throw new _t(ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(xe.fromString(t,...e));return kx(r),new Oe(i.firestore,i instanceof Vr?i.converter:null,new Rt(r))}}const wb="AsyncQueue";class Cb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SS(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&bt(wb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=tm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tl(t))throw t;bt(wb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",Rb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Hg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Vt(47125,{Pc:Rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Rb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function Ib(i){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Br extends Dd{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Cb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cb(t),this._firestoreClient=void 0,await t}}}function RV(i,t){const e=typeof i=="object"?i:bT(),r=typeof i=="string"?i:Xf,o=Lu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nC("firestore");u&&CV(o,...u)}return o}function Wg(i){if(i._terminated)throw new _t(ct.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IV(i),i._firestoreClient}function IV(i){const t=i._freezeSettings(),e=(function(o,u,c,p){return new tI(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new SV(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class _i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _i(_n.fromBase64String(t))}catch(e){throw new _t(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _i(_n.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,_i._jsonSchema))return _i.fromBase64String(t.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Ze("string",_i._jsonSchemaVersion),bytes:Ze("string")};class Vd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new _t(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kg{constructor(t){this._methodName=t}}class ps{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _t(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _t(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,ps._jsonSchema))return new ps(t.latitude,t.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:Ze("string",ps._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class ms{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,ms._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ms(t.vectorValues);throw new _t(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Ze("string",ms._jsonSchemaVersion),vectorValues:Ze("object")};const DV=/^__.*__$/;class VV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,e,this.fieldTransforms):new zu(t,this.data,e,this.fieldTransforms)}}class YS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new qr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function QS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ac:i})}}class Xg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ad(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QS(this.Ac)&&DV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Cd(t)}Cc(t,e,r,o=!1){return new Xg({Ac:t,methodName:e,Dc:r,path:vn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(i){const t=i._freezeSettings(),e=Cd(i._databaseId);return new jV(i._databaseId,!!t.ignoreUndefinedProperties,e)}function WS(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);$g("Data must be an object, but it was:",c,r);const p=KS(r,c);let g,v;if(u.merge)g=new ti(c.fieldMask),v=c.fieldTransforms;else if(u.mergeFields){const x=[];for(const f of u.mergeFields){const _=Ym(t,f,e);if(!c.contains(_))throw new _t(ct.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);$S(x,_)||x.push(_)}g=new ti(x),v=c.fieldTransforms.filter((f=>g.covers(f.field)))}else g=null,v=c.fieldTransforms;return new VV(new Un(p),g,v)}class Md extends Kg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Md}}function MV(i,t,e,r){const o=i.Cc(1,t,e);$g("Data must be an object, but it was:",o,r);const u=[],c=Un.empty();Hr(r,((g,v)=>{const x=Zg(t,g,e);v=ni(v);const f=o.yc(x);if(v instanceof Md)u.push(x);else{const _=qu(v,f);_!=null&&(u.push(x),c.set(x,_))}}));const p=new ti(u);return new YS(c,p,o.fieldTransforms)}function OV(i,t,e,r,o,u){const c=i.Cc(1,t,e),p=[Ym(t,r,e)],g=[o];if(u.length%2!=0)throw new _t(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)p.push(Ym(t,u[_])),g.push(u[_+1]);const v=[],x=Un.empty();for(let _=p.length-1;_>=0;--_)if(!$S(v,p[_])){const S=p[_];let E=g[_];E=ni(E);const C=c.yc(S);if(E instanceof Md)v.push(S);else{const M=qu(E,C);M!=null&&(v.push(S),x.set(S,M))}}const f=new ti(v);return new YS(x,f,c.fieldTransforms)}function NV(i,t,e,r=!1){return qu(e,i.Cc(r?4:3,t))}function qu(i,t){if(XS(i=ni(i)))return $g("Unsupported field value:",t,i),KS(i,t);if(i instanceof Kg)return(function(r,o){if(!QS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const p of r){let g=qu(p,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ee.fromDate(r);return{timestampValue:nd(o.serializer,u)}}if(r instanceof Ee){const u=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nd(o.serializer,u)}}if(r instanceof ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:dS(o.serializer,r._byteString)};if(r instanceof Oe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ms)return(function(c,p){return{mapValue:{fields:{[UT]:{stringValue:FT},[$f]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Dg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${yd(r)}`)})(i,t)}function KS(i,t){const e={};return NT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(i,((r,o)=>{const u=qu(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function XS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ee||i instanceof ps||i instanceof _i||i instanceof Oe||i instanceof Kg||i instanceof ms)}function $g(i,t,e){if(!XS(e)||!MT(e)){const r=yd(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function Ym(i,t,e){if((t=ni(t))instanceof Vd)return t._internalPath;if(typeof t=="string")return Zg(i,t);throw ad("Field path arguments must be of type string or ",i,!1,void 0,e)}const PV=new RegExp("[~\\*/\\[\\]]");function Zg(i,t,e){if(t.search(PV)>=0)throw ad(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Vd(...t.split("."))._internalPath}catch{throw ad(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function ad(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new _t(ct.INVALID_ARGUMENT,p+i+g)}function $S(i,t){return i.some((e=>e.isEqual(t)))}class ZS{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Od("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class kV extends ZS{data(){return super.data()}}function Od(i,t){return typeof t=="string"?Zg(i,t):t instanceof Vd?t._internalPath:t._delegate._internalPath}function LV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _t(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class ty extends Jg{}function wa(i,t,...e){let r=[];t instanceof Jg&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((g=>g instanceof ey)).length,p=u.filter((g=>g instanceof Nd)).length;if(c>1||c>0&&p>0)throw new _t(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Nd extends ty{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Nd(t,e,r)}_apply(t){const e=this._parse(t);return JS(t._query,e),new Gr(t.firestore,t.converter,Nm(t._query,e))}_parse(t){const e=jd(t.firestore);return(function(u,c,p,g,v,x,f){let _;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new _t(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){jb(f,x);const E=[];for(const C of f)E.push(Vb(g,u,C));_={arrayValue:{values:E}}}else _=Vb(g,u,f)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||jb(f,x),_=NV(p,c,f,x==="in"||x==="not-in");return $e.create(v,x,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function nm(i,t,e){const r=t,o=Od("where",i);return Nd._create(o,r,e)}class ey extends Jg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ey(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Ui.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const p=u.getFlattenedFilters();for(const g of p)JS(c,g),c=Nm(c,g)})(t._query,e),new Gr(t.firestore,t.converter,Nm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ny extends ty{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ny(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new _t(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _t(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,c)})(t._query,this._field,this._direction);return new Gr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function If(i,t="asc"){const e=t,r=Od("orderBy",i);return ny._create(r,e)}class iy extends ty{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new iy(t,e,r)}_apply(t){return new Gr(t.firestore,t.converter,Jf(t._query,this._limit,this._limitType))}}function Db(i){return HR("limit",i),iy._create("limit",i,"F")}function Vb(i,t,e){if(typeof(e=ni(e))=="string"){if(e==="")throw new _t(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(t)&&e.indexOf("/")!==-1)throw new _t(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(xe.fromString(e));if(!Rt.isDocumentKey(r))throw new _t(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yx(i,new Rt(r))}if(e instanceof Oe)return Yx(i,e._key);throw new _t(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(e)}.`)}function jb(i,t){if(!Array.isArray(i)||i.length===0)throw new _t(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JS(i,t){const e=(function(o,u){for(const c of o)for(const p of c.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new _t(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _t(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class BV{convertValue(t,e="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Vt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Hr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[$f].arrayValue?.values?.map((r=>Be(r.doubleValue)));return new ms(e)}convertGeoPoint(t){return new ps(Be(t.latitude),Be(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=xd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(wu(t));default:return null}}convertTimestamp(t){const e=Or(t);return new Ee(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=xe.fromString(t);ce(vS(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new Rt(r.popFirst(5));return o.isEqual(e)||Fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function tA(i,t,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,r}class du{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends ZS{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Od("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ze("string",Da._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Ff extends Da{data(t={}){return super.data(t)}}class Uo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new du(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Ff(this._firestore,this._userDataWriter,r.key,r,new du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _t(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const g=new Ff(o._firestore,o._userDataWriter,p.doc.key,p.doc,new du(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Ff(o._firestore,o._userDataWriter,p.doc.key,p.doc,new du(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return p.type!==0&&(v=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),x=c.indexOf(p.doc.key)),{type:zV(p.type),doc:g,oldIndex:v,newIndex:x}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:i})}}function wr(i){i=bi(i,Oe);const t=bi(i.firestore,Br);return wV(Wg(t),i._key).then((e=>nA(t,i,e)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Ze("string",Uo._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class eA extends BV{constructor(t){super(),this.firestore=t}convertBytes(t){return new _i(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,e)}}function Qm(i,t,e){i=bi(i,Oe);const r=bi(i.firestore,Br),o=tA(i.converter,t,e);return Pd(r,[WS(jd(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Ti.none())])}function Bs(i,t,e,...r){i=bi(i,Oe);const o=bi(i.firestore,Br),u=jd(o);let c;return c=typeof(t=ni(t))=="string"||t instanceof Vd?OV(u,"updateDoc",i._key,t,e,r):MV(u,"updateDoc",i._key,t),Pd(o,[c.toMutation(i._key,Ti.exists(!0))])}function im(i){return Pd(bi(i.firestore,Br),[new Vg(i._key,Ti.none())])}function ju(i,t){const e=bi(i.firestore,Br),r=en(i),o=tA(i.converter,t);return Pd(e,[WS(jd(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function cs(i,...t){i=ni(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Ib(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Ib(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,p;if(i instanceof Oe)c=bi(i.firestore,Br),p=bd(i._key.path),u={next:g=>{t[r]&&t[r](nA(c,i,g))},error:t[r+1],complete:t[r+2]};else{const g=bi(i,Gr);c=bi(g.firestore,Br),p=g._query;const v=new eA(c);u={next:x=>{t[r]&&t[r](new Uo(c,v,g,x))},error:t[r+1],complete:t[r+2]},LV(i._query)}return(function(v,x,f,_){const S=new FS(_),E=new MS(x,S,f);return v.asyncQueue.enqueueAndForget((async()=>VS(await Gm(v),E))),()=>{S.Nu(),v.asyncQueue.enqueueAndForget((async()=>jS(await Gm(v),E)))}})(Wg(c),p,o,u)}function Pd(i,t){return(function(r,o){const u=new Dr;return r.asyncQueue.enqueueAndForget((async()=>pV(await EV(r),o,u))),u.promise})(Wg(i),t)}function nA(i,t,e){const r=e.docs.get(t._key),o=new eA(i);return new Da(i,o,t._key,r,new du(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Zo=o})(_R),jr(new zs("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),p=new Br(new OR(r.getProvider("auth-internal")),new kR(c,r.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new _t(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(v.options.projectId,x)})(c,o),c);return u={useFetchStreams:e,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),fs(Mx,Ox,t),fs(Mx,Ox,"esm2020")})();const iA="@firebase/installations",sy="0.6.19";const sA=1e4,rA=`w:${sy}`,aA="FIS_v2",UV="https://firebaseinstallations.googleapis.com/v1",FV=3600*1e3,HV="installations",qV="Installations";const GV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Na=new gd(HV,qV,GV);function oA(i){return i instanceof Fr&&i.code.includes("request-failed")}function lA({projectId:i}){return`${UV}/projects/${i}/installations`}function uA(i){return{token:i.token,requestStatus:2,expiresIn:QV(i.expiresIn),creationTime:Date.now()}}async function cA(i,t){const r=(await t.json()).error;return Na.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function YV(i,{refreshToken:t}){const e=fA(i);return e.append("Authorization",WV(t)),e}async function dA(i){const t=await i();return t.status>=500&&t.status<600?i():t}function QV(i){return Number(i.replace("s","000"))}function WV(i){return`${aA} ${i}`}async function KV({appConfig:i,heartbeatServiceProvider:t},{fid:e}){const r=lA(i),o=fA(i),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:e,authVersion:aA,appId:i.appId,sdkVersion:rA},p={method:"POST",headers:o,body:JSON.stringify(c)},g=await dA(()=>fetch(r,p));if(g.ok){const v=await g.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:uA(v.authToken)}}else throw await cA("Create Installation",g)}function hA(i){return new Promise(t=>{setTimeout(t,i)})}function XV(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const $V=/^[cdef][\w-]{21}$/,Wm="";function ZV(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const e=JV(i);return $V.test(e)?e:Wm}catch{return Wm}}function JV(i){return XV(i).substr(0,22)}function kd(i){return`${i.appName}!${i.appId}`}const pA=new Map;function mA(i,t){const e=kd(i);gA(e,t),tj(e,t)}function gA(i,t){const e=pA.get(i);if(e)for(const r of e)r(t)}function tj(i,t){const e=ej();e&&e.postMessage({key:i,fid:t}),nj()}let Ca=null;function ej(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=i=>{gA(i.data.key,i.data.fid)}),Ca}function nj(){pA.size===0&&Ca&&(Ca.close(),Ca=null)}const ij="firebase-installations-database",sj=1,Pa="firebase-installations-store";let sm=null;function ry(){return sm||(sm=_T(ij,sj,{upgrade:(i,t)=>{t===0&&i.createObjectStore(Pa)}})),sm}async function od(i,t){const e=kd(i),o=(await ry()).transaction(Pa,"readwrite"),u=o.objectStore(Pa),c=await u.get(e);return await u.put(t,e),await o.done,(!c||c.fid!==t.fid)&&mA(i,t.fid),t}async function yA(i){const t=kd(i),r=(await ry()).transaction(Pa,"readwrite");await r.objectStore(Pa).delete(t),await r.done}async function Ld(i,t){const e=kd(i),o=(await ry()).transaction(Pa,"readwrite"),u=o.objectStore(Pa),c=await u.get(e),p=t(c);return p===void 0?await u.delete(e):await u.put(p,e),await o.done,p&&(!c||c.fid!==p.fid)&&mA(i,p.fid),p}async function ay(i){let t;const e=await Ld(i.appConfig,r=>{const o=rj(r),u=aj(i,o);return t=u.registrationPromise,u.installationEntry});return e.fid===Wm?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function rj(i){const t=i||{fid:ZV(),registrationStatus:0};return vA(t)}function aj(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Na.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=oj(i,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lj(i)}:{installationEntry:t}}async function oj(i,t){try{const e=await KV(i,t);return od(i.appConfig,e)}catch(e){throw oA(e)&&e.customData.serverCode===409?await yA(i.appConfig):await od(i.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function lj(i){let t=await Mb(i.appConfig);for(;t.registrationStatus===1;)await hA(100),t=await Mb(i.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await ay(i);return r||e}return t}function Mb(i){return Ld(i,t=>{if(!t)throw Na.create("installation-not-found");return vA(t)})}function vA(i){return uj(i)?{fid:i.fid,registrationStatus:0}:i}function uj(i){return i.registrationStatus===1&&i.registrationTime+sA<Date.now()}async function cj({appConfig:i,heartbeatServiceProvider:t},e){const r=fj(i,e),o=YV(i,e),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:rA,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},g=await dA(()=>fetch(r,p));if(g.ok){const v=await g.json();return uA(v)}else throw await cA("Generate Auth Token",g)}function fj(i,{fid:t}){return`${lA(i)}/${t}/authTokens:generate`}async function oy(i,t=!1){let e;const r=await Ld(i.appConfig,u=>{if(!_A(u))throw Na.create("not-registered");const c=u.authToken;if(!t&&pj(c))return u;if(c.requestStatus===1)return e=dj(i,t),u;{if(!navigator.onLine)throw Na.create("app-offline");const p=gj(u);return e=hj(i,p),p}});return e?await e:r.authToken}async function dj(i,t){let e=await Ob(i.appConfig);for(;e.authToken.requestStatus===1;)await hA(100),e=await Ob(i.appConfig);const r=e.authToken;return r.requestStatus===0?oy(i,t):r}function Ob(i){return Ld(i,t=>{if(!_A(t))throw Na.create("not-registered");const e=t.authToken;return yj(e)?{...t,authToken:{requestStatus:0}}:t})}async function hj(i,t){try{const e=await cj(i,t),r={...t,authToken:e};return await od(i.appConfig,r),e}catch(e){if(oA(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await yA(i.appConfig);else{const r={...t,authToken:{requestStatus:0}};await od(i.appConfig,r)}throw e}}function _A(i){return i!==void 0&&i.registrationStatus===2}function pj(i){return i.requestStatus===2&&!mj(i)}function mj(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+FV}function gj(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function yj(i){return i.requestStatus===1&&i.requestTime+sA<Date.now()}async function vj(i){const t=i,{installationEntry:e,registrationPromise:r}=await ay(t);return r?r.catch(console.error):oy(t).catch(console.error),e.fid}async function _j(i,t=!1){const e=i;return await xj(e),(await oy(e,t)).token}async function xj(i){const{registrationPromise:t}=await ay(i);t&&await t}function bj(i){if(!i||!i.options)throw rm("App Configuration");if(!i.name)throw rm("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!i.options[e])throw rm(e);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function rm(i){return Na.create("missing-app-config-values",{valueName:i})}const xA="installations",Tj="installations-internal",Sj=i=>{const t=i.getProvider("app").getImmediate(),e=bj(t),r=Lu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Aj=i=>{const t=i.getProvider("app").getImmediate(),e=Lu(t,xA).getImmediate();return{getId:()=>vj(e),getToken:o=>_j(e,o)}};function Ej(){jr(new zs(xA,Sj,"PUBLIC")),jr(new zs(Tj,Aj,"PRIVATE"))}Ej();fs(iA,sy);fs(iA,sy,"esm2020");const ld="analytics",wj="firebase_id",Cj="origin",Rj=60*1e3,Ij="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js";const Dn=new bg("@firebase/analytics");const Dj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new gd("analytics","Analytics",Dj);function Vj(i){if(!i.startsWith(ly)){const t=ei.create("invalid-gtag-resource",{gtagURL:i});return Dn.warn(t.message),""}return i}function bA(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function jj(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function Mj(i,t){const e=jj("firebase-js-sdk-policy",{createScriptURL:Vj}),r=document.createElement("script"),o=`${ly}?l=${i}&id=${t}`;r.src=e?e?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Oj(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function Nj(i,t,e,r,o,u){const c=r[o];try{if(c)await t[c];else{const g=(await bA(e)).find(v=>v.measurementId===o);g&&await t[g.appId]}}catch(p){Dn.error(p)}i("config",o,u)}async function Pj(i,t,e,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const p=await bA(e);for(const g of c){const v=p.find(f=>f.measurementId===g),x=v&&t[v.appId];if(x)u.push(x);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),i("event",r,o||{})}catch(u){Dn.error(u)}}function kj(i,t,e,r){async function o(u,...c){try{if(u==="event"){const[p,g]=c;await Pj(i,t,e,p,g)}else if(u==="config"){const[p,g]=c;await Nj(i,t,e,r,p,g)}else if(u==="consent"){const[p,g]=c;i("consent",p,g)}else if(u==="get"){const[p,g,v]=c;i("get",p,g,v)}else if(u==="set"){const[p]=c;i("set",p)}else i(u,...c)}catch(p){Dn.error(p)}}return o}function Lj(i,t,e,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=kj(u,i,t,e),{gtagCore:u,wrappedGtag:window[o]}}function Bj(i){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(ly)&&e.src.includes(i))return e;return null}const zj=30,Uj=1e3;class Fj{constructor(t={},e=Uj){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const TA=new Fj;function Hj(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function qj(i){const{appId:t,apiKey:e}=i,r={method:"GET",headers:Hj(e)},o=Ij.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const p=await u.json();p.error?.message&&(c=p.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function Gj(i,t=TA,e){const{appId:r,apiKey:o,measurementId:u}=i.options;if(!r)throw ei.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ei.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Wj;return setTimeout(async()=>{p.abort()},Rj),SA({appId:r,apiKey:o,measurementId:u},c,p,t)}async function SA(i,{throttleEndTimeMillis:t,backoffCount:e},r,o=TA){const{appId:u,measurementId:c}=i;try{await Yj(r,t)}catch(p){if(c)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw p}try{const p=await qj(i);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!Qj(g)){if(o.deleteThrottleMetadata(u),c)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:c};throw p}const v=Number(g?.customData?.httpStatus)===503?Sx(e,o.intervalMillis,zj):Sx(e,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+v,backoffCount:e+1};return o.setThrottleMetadata(u,x),Dn.debug(`Calling attemptFetch again in ${v} millis`),SA(i,x,r,o)}}function Yj(i,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);i.addEventListener(()=>{clearTimeout(u),r(ei.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Qj(i){if(!(i instanceof Fr)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class Wj{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Kj(i,t,e,r,o){if(o&&o.global){i("event",e,r);return}else{const u=await t,c={...r,send_to:u};i("event",e,c)}}async function Xj(i,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return i("set",o),Promise.resolve()}else{const o=await t;i("config",o,{update:!0,user_properties:e})}}async function $j(){if(mT())try{await gT()}catch(i){return Dn.warn(ei.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Dn.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Zj(i,t,e,r,o,u,c){const p=Gj(i);p.then(_=>{e[_.measurementId]=_.appId,i.options.measurementId&&_.measurementId!==i.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Dn.error(_)),t.push(p);const g=$j().then(_=>{if(_)return r.getId()}),[v,x]=await Promise.all([p,g]);Bj(u)||Mj(u,v.measurementId),o("js",new Date);const f=c?.config??{};return f[Cj]="firebase",f.update=!0,x!=null&&(f[wj]=x),o("config",v.measurementId,f),v.measurementId}class Jj{constructor(t){this.app=t}_delete(){return delete Fo[this.app.options.appId],Promise.resolve()}}let Fo={},Nb=[];const Pb={};let am="dataLayer",t4="gtag",kb,uy,Lb=!1;function e4(){const i=[];if(fC()&&i.push("This is a browser extension environment."),hC()||i.push("Cookies are not available."),i.length>0){const t=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=ei.create("invalid-analytics-context",{errorInfo:t});Dn.warn(e.message)}}function n4(i,t,e){e4();const r=i.options.appId;if(!r)throw ei.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Fo[r]!=null)throw ei.create("already-exists",{id:r});if(!Lb){Oj(am);const{wrappedGtag:u,gtagCore:c}=Lj(Fo,Nb,Pb,am,t4);uy=u,kb=c,Lb=!0}return Fo[r]=Zj(i,Nb,Pb,t,kb,am,e),new Jj(i)}function i4(i=bT()){i=ni(i);const t=Lu(i,ld);return t.isInitialized()?t.getImmediate():s4(i)}function s4(i,t={}){const e=Lu(i,ld);if(e.isInitialized()){const o=e.getImmediate();if(Su(t,e.getOptions()))return o;throw ei.create("already-initialized")}return e.initialize({options:t})}function r4(i,t,e){i=ni(i),Xj(uy,Fo[i.app.options.appId],t,e).catch(r=>Dn.error(r))}function a4(i,t,e,r){i=ni(i),Kj(uy,Fo[i.app.options.appId],t,e,r).catch(o=>Dn.error(o))}const Bb="@firebase/analytics",zb="0.10.19";function o4(){jr(new zs(ld,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return n4(r,o,e)},"PUBLIC")),jr(new zs("analytics-internal",i,"PRIVATE")),fs(Bb,zb),fs(Bb,zb,"esm2020");function i(t){try{const e=t.getProvider(ld).getImmediate();return{logEvent:(r,o,u)=>a4(e,r,o,u),setUserProperties:(r,o)=>r4(e,r,o)}}catch(e){throw ei.create("interop-component-reg-failed",{reason:e})}}}o4();const l4={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},AA=xT(l4);i4(AA);const se=RV(AA);function u4({t:i,lang:t,users:e,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:p,logo:g,logoSize:v,logoPos:x,styles:f,isAdmin:_,syncToFirebase:S}){const[E,C]=q.useState("login"),[M,V]=q.useState(""),[O,k]=q.useState(""),[G,et]=q.useState(""),J=async()=>{if(!M||!O||!G)return alert(t==="ko"?"  .":"Please fill all info.");const I=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(K=>K.code===G),L=e.find(K=>K.id===G);if(!I&&!L&&!(G==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(e.find(K=>K.id===M))return alert(t==="ko"?"  .":"ID already exists.");const N=(2783982189+e.length).toString(),wt={id:M,pw:O,no:N,referral:G,diamond:0,refCode:M,agentName:I?I.name:"",joinedAt:new Date().toISOString()},zt=[...e,wt];r(zt),S&&await S({users:zt}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),V(""),k(""),et(""),C("login")},j=R=>{R.key==="Enter"&&(E==="login"?o(M,O):J())};return y.jsxs("div",{style:{...f.landingWrapper,minHeight:"100dvh"},children:[y.jsxs("div",{style:{...f.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[y.jsx("div",{style:f.bgOverlay}),c.mode==="image"&&c.imageSrc&&y.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&p&&y.jsx("video",{src:p,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...f.bgVideo,height:"100dvh",objectFit:"cover"}},p)]}),y.jsx("div",{style:{...f.logoContainer,left:`${x.x}px`,top:`${x.y}px`,transition:"all 0.3s ease"},children:g?y.jsx("img",{src:g,alt:"logo",style:{height:`${v}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):y.jsx("strong",{style:f.defaultLogo,children:"DAISY"})}),y.jsxs("div",{style:f.mainContent,children:[y.jsxs("div",{style:f.heroSection,children:[y.jsx("h1",{style:f.mainTitle,children:c.title[t]}),y.jsx("p",{style:f.subTitle,children:c.desc[t]})]}),!_&&y.jsx("div",{style:f.authWrap,children:y.jsxs("div",{style:{...f.authCard,padding:"50px 40px"},children:[y.jsx("h2",{style:{...f.authTitle,fontSize:"28px",marginBottom:"35px"},children:E==="login"?i.login:i.signup}),y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:i.id,value:M,onChange:R=>V(R.target.value),onKeyDown:j}),y.jsx("input",{type:"password",style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:i.pw,value:O,onChange:R=>k(R.target.value),onKeyDown:j}),E==="signup"&&y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:G,onChange:R=>et(R.target.value),onKeyDown:j}),y.jsx("button",{style:{...f.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>E==="login"?o(M,O):J(),children:E==="login"?i.login:i.signup}),E==="login"&&y.jsx("button",{style:{...f.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:i.guest}),y.jsx("div",{style:{...f.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{C(E==="login"?"signup":"login"),V(""),k(""),et("")},children:E==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Ub=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function c4({members:i=[],slideImages:t=[],innerLogo:e,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:p}){const[g,v]=q.useState(0),x=q.useRef(null);q.useEffect(()=>{if(!t||t.length<=1)return;const E=setInterval(()=>{v(C=>(C+1)%t.length)},4e3);return()=>clearInterval(E)},[t]);const f=q.useMemo(()=>!i||i.length===0?[]:[...i,...i,...i],[i]),_=E=>{x.current&&x.current.scrollBy({left:E==="left"?-300:300,behavior:"smooth"})},S=E=>{const C=x.current;if(!C)return;let M=!0,V=E.pageX-C.offsetLeft,O=C.scrollLeft;const k=et=>{if(!M)return;et.preventDefault();const j=(et.pageX-C.offsetLeft-V)*2;C.scrollLeft=O-j},G=()=>{M=!1,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",k),window.addEventListener("mouseup",G)};return y.jsxs("div",{style:Dt.container,children:[y.jsx("div",{className:"bg-glow"}),y.jsx("div",{className:"bg-pattern"}),y.jsxs("header",{style:Dt.header,children:[y.jsx("div",{style:Dt.logoArea,children:e?y.jsx("img",{src:e,style:Dt.logoImg,alt:"logo"}):y.jsxs("h1",{style:Dt.defaultLogo,children:["DAISY",y.jsx("br",{}),y.jsx("span",{children:"LOUNGE"})]})}),y.jsxs("div",{style:Dt.statusBadge,children:[y.jsx("div",{className:"dot-pulse-wrap",children:y.jsx("span",{className:"dot-pulse"})}),y.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),y.jsxs("b",{style:Dt.countText,children:[c," MEMBERS"]})]})]}),y.jsxs("div",{style:Dt.introTextArea,children:[y.jsx("div",{style:Dt.introSub,children:"WELCOME TO THE PRIVATE"}),y.jsxs("div",{style:Dt.introMain,children:[p.welcome.replace(" ",""),y.jsx("span",{style:Dt.introSparkle,children:""})]})]}),t&&t.length>0&&y.jsx("div",{style:Dt.sliderContainer,children:y.jsxs("div",{style:Dt.sliderWrap,children:[t.map((E,C)=>{const M=E.url||E,V=C===g;return y.jsx("div",{style:{...Dt.slide,opacity:V?1:0,visibility:V?"visible":"hidden"},children:y.jsxs("div",{style:Dt.imageBorderWrapper,children:[y.jsx("img",{src:M,style:Dt.actualImg,alt:"slide",draggable:"false"}),y.jsx("div",{style:Dt.slideOverlay}),y.jsx("div",{style:Dt.adTag,children:"PREMIUM PICK"})]})},C)}),y.jsx("div",{style:Dt.indicatorWrap,children:t.map((E,C)=>y.jsx("div",{style:{...Dt.dot,width:C===g?20:6,backgroundColor:C===g?"#FFD700":"rgba(255,255,255,0.3)"}},C))})]})}),y.jsxs("div",{style:Dt.welcomeBox,children:[y.jsx("div",{style:Dt.welcomeLine}),y.jsx("span",{style:Dt.welcomeText,children:p.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),y.jsx("div",{style:Dt.welcomeLine})]}),y.jsxs("div",{style:Dt.sectionLabel,children:[y.jsxs("div",{style:Dt.labelLeft,children:[y.jsx("span",{className:"shine-text",style:Dt.labelIcon,children:""}),y.jsxs("span",{style:Dt.labelText,children:["DAISY ",p.manager.toUpperCase()]})]}),y.jsx("div",{onClick:()=>o&&o("manager"),style:Dt.moreBtn,children:"VIEW ALL "})]}),y.jsxs("div",{style:{position:"relative",width:"100%"},children:[y.jsx("div",{ref:x,className:"snap-container",style:Dt.scrollArea,onMouseDown:S,children:f.map((E,C)=>y.jsxs("div",{style:Dt.card,onClick:()=>u&&u(E),children:[y.jsxs("div",{style:Dt.cardImgWrap,children:[y.jsx("img",{src:E.img,style:Dt.cardImg,alt:E.name||"member",draggable:"false"}),y.jsx("div",{style:Dt.cardOverlay}),y.jsx("div",{style:Dt.cardBadge,children:Ub[C%Ub.length]})]}),y.jsxs("div",{style:Dt.cardInfo,children:[y.jsx("div",{style:Dt.cardName,children:E.name}),y.jsxs("div",{style:Dt.cardSpecs,children:[y.jsx("span",{style:Dt.specText,children:E.loc||E.region||(p.home===""?"":"Area")}),y.jsx("span",{style:Dt.specDivider,children:""}),y.jsx("span",{style:Dt.specText,children:E.age?`${E.age}${p.home===""?"":""}`:p.home===""?"20":"20s"})]}),y.jsxs("div",{style:{...Dt.cardSpecs,marginTop:"5px"},children:[y.jsx("span",{style:Dt.specText,children:E.height?E.height+"cm":"cm"}),y.jsx("span",{style:Dt.specDivider,children:""}),y.jsx("span",{style:Dt.specText,children:E.weight?E.weight+"kg":"kg"}),y.jsx("span",{style:Dt.specDivider,children:""}),y.jsx("span",{style:Dt.specText,children:E.bust||E.size||"Size"})]})]})]},C))}),y.jsxs("div",{className:"pc-arrows-wrap",children:[y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("left")},children:""}),y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("right")},children:""})]})]}),y.jsxs("div",{style:Dt.footerBtnArea,children:[y.jsxs("button",{onClick:r,className:"shimmer-btn",style:Dt.teleBtn,children:[" ",p.home===""?"  ":"Connect Real-time Chat"]}),y.jsx("p",{style:Dt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),y.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const Dt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function f4({filteredMembers:i,regions:t,selectedRegion:e,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[p,g]=q.useState(null),[v,x]=q.useState(null);q.useEffect(()=>{o&&(g(o),window.history.pushState({isDetail:!0},""))},[o]),q.useEffect(()=>{const O=()=>{v?x(null):p&&_()};return window.addEventListener("popstate",O),()=>window.removeEventListener("popstate",O)},[v,p]);const f=(O,k)=>{x({type:O,url:k}),window.history.pushState({isFull:!0},"")},_=()=>{g(null),u&&u()},S=O=>O&&(O.includes("/video/upload/")||O.match(/\.(mp4|webm|mov|avi)$/i)),E={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},C=c.home==="",M=O=>C?O:E[O]||O,V=O=>{const k=C?[`${O}        .`,`     ${O}  .`,`      ${O} .`]:[`${O} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${O}, who boasts a visual perfected through thorough self-management.`,`${O} promises a comfortable time with bright energy and consideration.`];let G=(O||"").split("").reduce((et,J)=>et+J.charCodeAt(0),0);return k[G%k.length]};return y.jsxs("div",{style:Pt.container,children:[y.jsx("div",{style:Pt.filterWrapper,children:y.jsx("div",{style:Pt.filterScroll,children:t.map(O=>y.jsx("div",{onClick:()=>r(O),style:{...Pt.filterItem,color:e===O?"#000":"#888",background:e===O?"#FFD700":"transparent",borderColor:e===O?"#FFD700":"#333"},children:M(O)},O))})}),y.jsx("div",{style:Pt.grid,children:i.map((O,k)=>y.jsxs("div",{style:Pt.card,onClick:()=>{g(O),window.history.pushState({isDetail:!0},"")},children:[y.jsxs("div",{style:Pt.cardImgWrap,children:[y.jsx("img",{src:O.img,style:Pt.cardImg,alt:O.name}),y.jsx("div",{style:Pt.cardOverlay}),y.jsx("div",{style:Pt.cardBadge,children:"PREMIUM"})]}),y.jsxs("div",{style:Pt.cardInfo,children:[y.jsx("div",{style:Pt.cardName,children:O.name}),y.jsxs("div",{style:Pt.cardSpecs,children:[M(O.loc||O.region||(C?"":"LOC")),"  ",O.age?`${O.age}${C?"":""}`:C?"20":"20s"]}),y.jsxs("div",{style:{...Pt.cardSpecs,marginTop:"4px"},children:[O.height?O.height+"cm":"cm","  ",O.bust||O.size||"Size"]})]})]},k))}),p&&y.jsx("div",{style:Pt.modalOverlay,onClick:_,children:y.jsxs("div",{style:Pt.modalContent,onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{style:Pt.modalImageWrap,onClick:()=>f("img",p.img),children:[y.jsx("img",{src:p.img,style:Pt.modalActualImg,alt:""}),y.jsxs("div",{style:Pt.luxTag,children:[" ",C?" ":"CLICK TO ZOOM"]})]}),y.jsxs("div",{style:Pt.modalBody,children:[y.jsx("h2",{style:Pt.modalName,children:p.name}),y.jsxs("div",{style:Pt.specGrid,children:[y.jsxs("div",{style:Pt.specItem,children:["LOC",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:M(p.loc||p.region||(C?"":"TBA"))})]}),y.jsxs("div",{style:Pt.specItem,children:["AGE",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.age?`${p.age}${C?"":""}`:"20s"})]}),y.jsxs("div",{style:Pt.specItem,children:["HEIGHT",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.height?p.height+"cm":"cm"})]}),y.jsxs("div",{style:Pt.specItem,children:["WEIGHT",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.weight?p.weight+"kg":"kg"})]}),y.jsxs("div",{style:Pt.specItem,children:["SIZE",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.bust||p.size||"Size"})]})]}),y.jsxs("div",{style:Pt.introBox,children:[y.jsx("div",{style:Pt.introTitle,children:"INTRO"}),y.jsx("p",{style:Pt.introText,children:p.desc||V(p.name)})]}),(p.video||S(p.img))&&y.jsxs("div",{style:Pt.videoArea,onClick:()=>f("video",p.video||p.img),children:[y.jsxs("div",{style:Pt.introTitle,children:["PRIVATE MOVIE (",C?" ":"CLICK TO ENLARGE",")"]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("video",{src:p.video||p.img,style:Pt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),y.jsxs("div",{style:Pt.videoOverlay,children:[" ",C?" ":"TAP TO FULL VIEW"]})]})]}),y.jsx("button",{style:Pt.closeBtn,onClick:_,children:C?"":"CLOSE"})]})]})}),v&&y.jsxs("div",{id:"full-screen-view",style:Pt.fullScreenOverlay,onClick:()=>x(null),children:[y.jsxs("button",{style:Pt.fullScreenClose,onClick:()=>x(null),children:[" ",C?"":"CLOSE"]}),y.jsx("div",{style:Pt.fullScreenContent,onClick:O=>O.stopPropagation(),children:v.type==="video"?y.jsx("video",{src:v.url,style:Pt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):y.jsx("img",{src:v.url,style:Pt.fullMedia,alt:""})})]})]})}const Pt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function d4({videoCategories:i=[],selectedCategory:t,setSelectedCategory:e,filteredVideos:r=[],t:o}){const[u,c]=q.useState(null),[p,g]=q.useState(1),v=10,x=o.home==="",f={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},_=G=>x?G:f[G]||G;q.useEffect(()=>{g(1)},[t]);const S=p*v,E=S-v,C=r.slice(E,S),M=Math.ceil(r.length/v),V=t==="ALL";q.useEffect(()=>{const G=()=>{u&&c(null)};return window.addEventListener("popstate",G),()=>window.removeEventListener("popstate",G)},[u]);const O=G=>{c(G),window.history.pushState({isFullVideo:!0},"")},k=()=>{c(null)};return y.jsxs("div",{style:We.pagePadding,children:[y.jsx("h2",{style:We.tabDisplayTitle,children:x?" ":"PREMIUM GALLERY"}),y.jsxs("div",{style:We.videoCategoryBar,children:[y.jsxs("span",{onClick:()=>e("ALL"),style:{...We.videoCatItem,color:V?"#ffb347":"#555",borderBottom:V?"2px solid #ffb347":"2px solid transparent"},children:[" ",_("ALL")," "]}),i.map(G=>y.jsxs("span",{onClick:()=>e(G),style:{...We.videoCatItem,color:t===G?"#ffb347":"#555",borderBottom:t===G?"2px solid #ffb347":"2px solid transparent"},children:[" ",_(G)," "]},G))]}),y.jsx("div",{style:We.videoGrid,children:C.length>0?C.map(G=>y.jsxs("div",{style:We.videoCard,onClick:()=>O(G.url),children:[y.jsxs("div",{style:We.videoWrapper,children:[y.jsx("video",{src:G.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:We.videoEl,poster:G.poster||""}),y.jsxs("div",{style:We.playOverlay,children:[" ",x?"":"FULL VIEW"]})]}),y.jsxs("div",{style:We.videoDesc,children:[y.jsx("span",{style:We.descBadge,children:"EXCLUSIVE"}),y.jsx("p",{style:We.descText,children:G.description||(x?` ${G.category} `:`PREMIUM ${_(G.category)} SHOW`)})]})]},G.id)):y.jsx("div",{style:We.noData,children:x?"    .":"Videos in this category are coming soon."})}),M>1&&y.jsx("div",{style:We.pagination,children:Array.from({length:M},(G,et)=>et+1).map(G=>y.jsxs("button",{onClick:()=>{g(G),window.scrollTo(0,0)},style:{...We.pageBtn,background:p===G?"#ffb347":"#1a1a1a",color:p===G?"#000":"#888"},children:[" ",G," "]},G))}),u&&y.jsxs("div",{id:"full-screen-view",style:We.fullOverlay,onClick:k,children:[y.jsxs("button",{style:We.closeFull,onClick:k,children:[" ",x?"":"CLOSE"]}),y.jsx("div",{style:We.fullContent,onClick:G=>G.stopPropagation(),children:y.jsx("video",{src:u,style:We.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const We={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},cy=q.createContext({});function Bd(i){const t=q.useRef(null);return t.current===null&&(t.current=i()),t.current}const fy=typeof window<"u",dy=fy?q.useLayoutEffect:q.useEffect,zd=q.createContext(null);function hy(i,t){i.indexOf(t)===-1&&i.push(t)}function py(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const qs=(i,t,e)=>e>t?t:e<i?i:e;let my=()=>{};const Gs={},EA=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function wA(i){return typeof i=="object"&&i!==null}const CA=i=>/^0[^.\s]+$/u.test(i);function gy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Si=i=>i,h4=(i,t)=>e=>t(i(e)),Gu=(...i)=>i.reduce(h4),Mu=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class yy{constructor(){this.subscriptions=[]}add(t){return hy(this.subscriptions,t),()=>py(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gs=i=>i*1e3,xi=i=>i/1e3;function RA(i,t){return t?i*(1e3/t):0}const IA=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,p4=1e-7,m4=12;function g4(i,t,e,r,o){let u,c,p=0;do c=t+(e-t)/2,u=IA(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>p4&&++p<m4);return c}function Yu(i,t,e,r){if(i===t&&e===r)return Si;const o=u=>g4(u,0,1,i,e);return u=>u===0||u===1?u:IA(o(u),t,r)}const DA=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,VA=i=>t=>1-i(1-t),jA=Yu(.33,1.53,.69,.99),vy=VA(jA),MA=DA(vy),OA=i=>(i*=2)<1?.5*vy(i):.5*(2-Math.pow(2,-10*(i-1))),_y=i=>1-Math.sin(Math.acos(i)),NA=VA(_y),PA=DA(_y),y4=Yu(.42,0,1,1),v4=Yu(0,0,.58,1),kA=Yu(.42,0,.58,1),_4=i=>Array.isArray(i)&&typeof i[0]!="number",LA=i=>Array.isArray(i)&&typeof i[0]=="number",x4={linear:Si,easeIn:y4,easeInOut:kA,easeOut:v4,circIn:_y,circInOut:PA,circOut:NA,backIn:vy,backInOut:MA,backOut:jA,anticipate:OA},b4=i=>typeof i=="string",Fb=i=>{if(LA(i)){my(i.length===4);const[t,e,r,o]=i;return Yu(t,e,r,o)}else if(b4(i))return x4[i];return i},Df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function T4(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(x){c.has(x)&&(v.schedule(x),i()),x(p)}const v={schedule:(x,f=!1,_=!1)=>{const E=_&&o?e:r;return f&&c.add(x),E.has(x)||E.add(x),x},cancel:x=>{r.delete(x),c.delete(x)},process:x=>{if(p=x,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(g),e.clear(),o=!1,u&&(u=!1,v.process(x))}};return v}const S4=40;function BA(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Df.reduce((k,G)=>(k[G]=T4(u),k),{}),{setup:p,read:g,resolveKeyframes:v,preUpdate:x,update:f,preRender:_,render:S,postRender:E}=c,C=()=>{const k=Gs.useManualTiming?o.timestamp:performance.now();e=!1,Gs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(k-o.timestamp,S4),1)),o.timestamp=k,o.isProcessing=!0,p.process(o),g.process(o),v.process(o),x.process(o),f.process(o),_.process(o),S.process(o),E.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(C))},M=()=>{e=!0,r=!0,o.isProcessing||i(C)};return{schedule:Df.reduce((k,G)=>{const et=c[G];return k[G]=(J,j=!1,R=!1)=>(e||M(),et.schedule(J,j,R)),k},{}),cancel:k=>{for(let G=0;G<Df.length;G++)c[Df[G]].cancel(k)},state:o,steps:c}}const{schedule:Re,cancel:zr,state:gn,steps:om}=BA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Si,!0);let Hf;function A4(){Hf=void 0}const Fn={now:()=>(Hf===void 0&&Fn.set(gn.isProcessing||Gs.useManualTiming?gn.timestamp:performance.now()),Hf),set:i=>{Hf=i,queueMicrotask(A4)}},zA=i=>t=>typeof t=="string"&&t.startsWith(i),UA=zA("--"),E4=zA("var(--"),xy=i=>E4(i)?w4.test(i.split("/*")[0].trim()):!1,w4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Ou={...il,transform:i=>qs(0,1,i)},Vf={...il,default:1},_u=i=>Math.round(i*1e5)/1e5,by=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C4(i){return i==null}const R4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ty=(i,t)=>e=>!!(typeof e=="string"&&R4.test(e)&&e.startsWith(i)||t&&!C4(e)&&Object.prototype.hasOwnProperty.call(e,t)),FA=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,p]=r.match(by);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:p!==void 0?parseFloat(p):1}},I4=i=>qs(0,255,i),lm={...il,transform:i=>Math.round(I4(i))},Ra={test:Ty("rgb","red"),parse:FA("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+lm.transform(i)+", "+lm.transform(t)+", "+lm.transform(e)+", "+_u(Ou.transform(r))+")"};function D4(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Km={test:Ty("#"),parse:D4,transform:Ra.transform},Qu=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Ar=Qu("deg"),ys=Qu("%"),Ot=Qu("px"),V4=Qu("vh"),j4=Qu("vw"),Hb={...ys,parse:i=>ys.parse(i)/100,transform:i=>ys.transform(i*100)},No={test:Ty("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+ys.transform(_u(t))+", "+ys.transform(_u(e))+", "+_u(Ou.transform(r))+")"},Xe={test:i=>Ra.test(i)||Km.test(i)||No.test(i),parse:i=>Ra.test(i)?Ra.parse(i):No.test(i)?No.parse(i):Km.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Ra.transform(i):No.transform(i),getAnimatableNone:i=>{const t=Xe.parse(i);return t.alpha=0,Xe.transform(t)}},M4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O4(i){return isNaN(i)&&typeof i=="string"&&(i.match(by)?.length||0)+(i.match(M4)?.length||0)>0}const HA="number",qA="color",N4="var",P4="var(",qb="${}",k4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const p=t.replace(k4,g=>(Xe.test(g)?(r.color.push(u),o.push(qA),e.push(Xe.parse(g))):g.startsWith(P4)?(r.var.push(u),o.push(N4),e.push(g)):(r.number.push(u),o.push(HA),e.push(parseFloat(g))),++u,qb)).split(qb);return{values:e,split:p,indexes:r,types:o}}function GA(i){return Nu(i).values}function YA(i){const{split:t,types:e}=Nu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const p=e[c];p===HA?u+=_u(o[c]):p===qA?u+=Xe.transform(o[c]):u+=o[c]}return u}}const L4=i=>typeof i=="number"?0:Xe.test(i)?Xe.getAnimatableNone(i):i;function B4(i){const t=GA(i);return YA(i)(t.map(L4))}const Ur={test:O4,parse:GA,createTransformer:YA,getAnimatableNone:B4};function um(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function z4({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const p=e<.5?e*(1+t):e+t-e*t,g=2*e-p;o=um(g,p,i+1/3),u=um(g,p,i),c=um(g,p,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function ud(i,t){return e=>e>0?t:i}const Ie=(i,t,e)=>i+(t-i)*e,cm=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},U4=[Km,Ra,No],F4=i=>U4.find(t=>t.test(i));function Gb(i){const t=F4(i);if(!t)return!1;let e=t.parse(i);return t===No&&(e=z4(e)),e}const Yb=(i,t)=>{const e=Gb(i),r=Gb(t);if(!e||!r)return ud(i,t);const o={...e};return u=>(o.red=cm(e.red,r.red,u),o.green=cm(e.green,r.green,u),o.blue=cm(e.blue,r.blue,u),o.alpha=Ie(e.alpha,r.alpha,u),Ra.transform(o))},Xm=new Set(["none","hidden"]);function H4(i,t){return Xm.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function q4(i,t){return e=>Ie(i,t,e)}function Sy(i){return typeof i=="number"?q4:typeof i=="string"?xy(i)?ud:Xe.test(i)?Yb:Q4:Array.isArray(i)?QA:typeof i=="object"?Xe.test(i)?Yb:G4:ud}function QA(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>Sy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function G4(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=Sy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function Y4(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],p=i.values[c]??0;e[o]=p,r[u]++}return e}const Q4=(i,t)=>{const e=Ur.createTransformer(t),r=Nu(i),o=Nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Xm.has(i)&&!o.values.length||Xm.has(t)&&!r.values.length?H4(i,t):Gu(QA(Y4(r,o),o.values),e):ud(i,t)};function WA(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?Ie(i,t,e):Sy(i)(i,t)}const W4=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>Re.update(t,e),stop:()=>zr(t),now:()=>gn.isProcessing?gn.timestamp:Fn.now()}},KA=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cd=2e4;function Ay(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<cd;)t+=e,r=i.next(t);return t>=cd?1/0:t}function K4(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(Ay(r),cd);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:xi(o)}}const X4=5;function XA(i,t,e){const r=Math.max(t-X4,0);return RA(e-i(r),t-r)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fm=.001;function $4({duration:i=Me.duration,bounce:t=Me.bounce,velocity:e=Me.velocity,mass:r=Me.mass}){let o,u,c=1-t;c=qs(Me.minDamping,Me.maxDamping,c),i=qs(Me.minDuration,Me.maxDuration,xi(i)),c<1?(o=v=>{const x=v*c,f=x*i,_=x-e,S=$m(v,c),E=Math.exp(-f);return fm-_/S*E},u=v=>{const f=v*c*i,_=f*e+e,S=Math.pow(c,2)*Math.pow(v,2)*i,E=Math.exp(-f),C=$m(Math.pow(v,2),c);return(-o(v)+fm>0?-1:1)*((_-S)*E)/C}):(o=v=>{const x=Math.exp(-v*i),f=(v-e)*i+1;return-fm+x*f},u=v=>{const x=Math.exp(-v*i),f=(e-v)*(i*i);return x*f});const p=5/i,g=J4(o,u,p);if(i=gs(i),isNaN(g))return{stiffness:Me.stiffness,damping:Me.damping,duration:i};{const v=Math.pow(g,2)*r;return{stiffness:v,damping:c*2*Math.sqrt(r*v),duration:i}}}const Z4=12;function J4(i,t,e){let r=e;for(let o=1;o<Z4;o++)r=r-i(r)/t(r);return r}function $m(i,t){return i*Math.sqrt(1-t*t)}const t5=["duration","bounce"],e5=["stiffness","damping","mass"];function Qb(i,t){return t.some(e=>i[e]!==void 0)}function n5(i){let t={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...i};if(!Qb(i,e5)&&Qb(i,t5))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*qs(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:Me.mass,stiffness:o,damping:u}}else{const e=$4(i);t={...t,...e,mass:Me.mass},t.isResolvedFromDuration=!0}return t}function fd(i=Me.visualDuration,t=Me.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],p={done:!1,value:u},{stiffness:g,damping:v,mass:x,duration:f,velocity:_,isResolvedFromDuration:S}=n5({...e,velocity:-xi(e.velocity||0)}),E=_||0,C=v/(2*Math.sqrt(g*x)),M=c-u,V=xi(Math.sqrt(g/x)),O=Math.abs(M)<5;r||(r=O?Me.restSpeed.granular:Me.restSpeed.default),o||(o=O?Me.restDelta.granular:Me.restDelta.default);let k;if(C<1){const et=$m(V,C);k=J=>{const j=Math.exp(-C*V*J);return c-j*((E+C*V*M)/et*Math.sin(et*J)+M*Math.cos(et*J))}}else if(C===1)k=et=>c-Math.exp(-V*et)*(M+(E+V*M)*et);else{const et=V*Math.sqrt(C*C-1);k=J=>{const j=Math.exp(-C*V*J),R=Math.min(et*J,300);return c-j*((E+C*V*M)*Math.sinh(R)+et*M*Math.cosh(R))/et}}const G={calculatedDuration:S&&f||null,next:et=>{const J=k(et);if(S)p.done=et>=f;else{let j=et===0?E:0;C<1&&(j=et===0?gs(E):XA(k,et,J));const R=Math.abs(j)<=r,I=Math.abs(c-J)<=o;p.done=R&&I}return p.value=p.done?c:J,p},toString:()=>{const et=Math.min(Ay(G),cd),J=KA(j=>G.next(et*j).value,et,30);return et+"ms "+J},toTransition:()=>{}};return G}fd.applyToOptions=i=>{const t=K4(i,100,fd);return i.ease=t.ease,i.duration=gs(t.duration),i.type="keyframes",i};function Zm({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:p,max:g,restDelta:v=.5,restSpeed:x}){const f=i[0],_={done:!1,value:f},S=R=>p!==void 0&&R<p||g!==void 0&&R>g,E=R=>p===void 0?g:g===void 0||Math.abs(p-R)<Math.abs(g-R)?p:g;let C=e*t;const M=f+C,V=c===void 0?M:c(M);V!==M&&(C=V-f);const O=R=>-C*Math.exp(-R/r),k=R=>V+O(R),G=R=>{const I=O(R),L=k(R);_.done=Math.abs(I)<=v,_.value=_.done?V:L};let et,J;const j=R=>{S(_.value)&&(et=R,J=fd({keyframes:[_.value,E(_.value)],velocity:XA(k,R,_.value),damping:o,stiffness:u,restDelta:v,restSpeed:x}))};return j(0),{calculatedDuration:null,next:R=>{let I=!1;return!J&&et===void 0&&(I=!0,G(R),j(R)),et!==void 0&&R>=et?J.next(R-et):(!I&&G(R),_)}}}function i5(i,t,e){const r=[],o=e||Gs.mix||WA,u=i.length-1;for(let c=0;c<u;c++){let p=o(i[c],i[c+1]);if(t){const g=Array.isArray(t)?t[c]||Si:t;p=Gu(g,p)}r.push(p)}return r}function s5(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(my(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const p=i5(t,r,o),g=p.length,v=x=>{if(c&&x<i[0])return t[0];let f=0;if(g>1)for(;f<i.length-2&&!(x<i[f+1]);f++);const _=Mu(i[f],i[f+1],x);return p[f](_)};return e?x=>v(qs(i[0],i[u-1],x)):v}function r5(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=Mu(0,t,r);i.push(Ie(e,1,o))}}function a5(i){const t=[0];return r5(t,i.length-1),t}function o5(i,t){return i.map(e=>e*t)}function l5(i,t){return i.map(()=>t||kA).splice(0,i.length-1)}function xu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=_4(r)?r.map(Fb):Fb(r),u={done:!1,value:t[0]},c=o5(e&&e.length===t.length?e:a5(t),i),p=s5(c,t,{ease:Array.isArray(o)?o:l5(t,o)});return{calculatedDuration:i,next:g=>(u.value=p(g),u.done=g>=i,u)}}const u5=i=>i!==null;function Ey(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(u5),p=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!p||r===void 0?u[p]:r}const c5={decay:Zm,inertia:Zm,tween:xu,keyframes:xu,spring:fd};function $A(i){typeof i.type=="string"&&(i.type=c5[i.type])}class wy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const f5=i=>i/100;class Cy extends wy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$A(t);const{type:e=xu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:p}=t;const g=e||xu;g!==xu&&typeof p[0]!="number"&&(this.mixKeyframes=Gu(f5,WA(p[0],p[1])),p=[0,100]);const v=g({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...p].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Ay(v));const{calculatedDuration:x}=v;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=v}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:x,repeat:f,repeatType:_,repeatDelay:S,type:E,onUpdate:C,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const V=this.currentTime-v*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?V<0:V>o;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,G=r;if(f){const R=Math.min(this.currentTime,o)/p;let I=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&I--,I=Math.min(I,f+1),I%2&&(_==="reverse"?(L=1-L,S&&(L-=S/p)):_==="mirror"&&(G=c)),k=qs(0,1,L)*p}const et=O?{done:!1,value:x[0]}:G.next(k);u&&(et.value=u(et.value));let{done:J}=et;!O&&g!==null&&(J=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return j&&E!==Zm&&(et.value=Ey(x,this.options,M,this.speed)),C&&C(et.value),j&&this.finish(),et}then(t,e){return this.finished.then(t,e)}get duration(){return xi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xi(t)}get time(){return xi(this.currentTime)}set time(t){t=gs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=W4,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function d5(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const Ia=i=>i*180/Math.PI,Jm=i=>{const t=Ia(Math.atan2(i[1],i[0]));return tg(t)},h5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Jm,rotateZ:Jm,skewX:i=>Ia(Math.atan(i[1])),skewY:i=>Ia(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},tg=i=>(i=i%360,i<0&&(i+=360),i),Wb=Jm,Kb=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),Xb=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),p5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kb,scaleY:Xb,scale:i=>(Kb(i)+Xb(i))/2,rotateX:i=>tg(Ia(Math.atan2(i[6],i[5]))),rotateY:i=>tg(Ia(Math.atan2(-i[2],i[0]))),rotateZ:Wb,rotate:Wb,skewX:i=>Ia(Math.atan(i[4])),skewY:i=>Ia(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function eg(i){return i.includes("scale")?1:0}function ng(i,t){if(!i||i==="none")return eg(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=p5,o=e;else{const p=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h5,o=p}if(!o)return eg(t);const u=r[t],c=o[1].split(",").map(g5);return typeof u=="function"?u(c):c[u]}const m5=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return ng(e,t)};function g5(i){return parseFloat(i.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rl=new Set(sl),$b=i=>i===il||i===Ot,y5=new Set(["x","y","z"]),v5=sl.filter(i=>!y5.has(i));function _5(i){const t=[];return v5.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Va={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>ng(t,"x"),y:(i,{transform:t})=>ng(t,"y")};Va.translateX=Va.x;Va.translateY=Va.y;const ja=new Set;let ig=!1,sg=!1,rg=!1;function ZA(){if(sg){const i=Array.from(ja).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=_5(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sg=!1,ig=!1,ja.forEach(i=>i.complete(rg)),ja.clear()}function JA(){ja.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(sg=!0)})}function x5(){rg=!0,JA(),ZA(),rg=!1}class Ry{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),ig||(ig=!0,Re.read(JA),Re.resolveKeyframes(ZA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const p=r.readValue(e,c);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}d5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b5=i=>i.startsWith("--");function T5(i,t,e){b5(t)?i.style.setProperty(t,e):i.style[t]=e}const S5=gy(()=>window.ScrollTimeline!==void 0),A5={};function E5(i,t){const e=gy(i);return()=>A5[t]??e()}const tE=E5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,Zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function eE(i,t){if(i)return typeof i=="function"?tE()?KA(i,t):"ease-out":LA(i)?hu(i):Array.isArray(i)?i.map(e=>eE(e,t)||Zb.easeOut):Zb[i]}function w5(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:p="easeOut",times:g}={},v=void 0){const x={[t]:e};g&&(x.offset=g);const f=eE(p,o);Array.isArray(f)&&(x.easing=f);const _={delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return v&&(_.pseudoElement=v),i.animate(x,_)}function nE(i){return typeof i=="function"&&"applyToOptions"in i}function C5({type:i,...t}){return nE(i)&&tE()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class R5 extends wy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:p,onComplete:g}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const v=C5(t);this.animation=w5(e,r,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=Ey(o,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):T5(e,r,x),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xi(t)}get time(){return xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=gs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&S5()?(this.animation.timeline=t,Si):e(this)}}const iE={anticipate:OA,backInOut:MA,circInOut:PA};function I5(i){return i in iE}function D5(i){typeof i.ease=="string"&&I5(i.ease)&&(i.ease=iE[i.ease])}const Jb=10;class V5 extends R5{constructor(t){D5(t),$A(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const p=new Cy({...c,autoplay:!1}),g=gs(this.finishedTime??this.time);e.setWithVelocity(p.sample(g-Jb).value,p.sample(g).value,Jb),p.stop()}}const t1=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ur.test(i)||i==="0")&&!i.startsWith("url("));function j5(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function M5(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=t1(o,t),p=t1(u,t);return!c||!p?!1:j5(i)||(e==="spring"||nE(e))&&r}function ag(i){i.duration=0,i.type="keyframes"}const O5=new Set(["opacity","clipPath","filter","transform"]),N5=gy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P5(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:v}=t.owner.getProps();return N5()&&e&&O5.has(e)&&(e!=="transform"||!v)&&!g&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const k5=40;class L5 extends wy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:p,name:g,motionValue:v,element:x,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fn.now();const _={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:g,motionValue:v,element:x,...f},S=x?.KeyframeResolver||Ry;this.keyframeResolver=new S(p,(E,C,M)=>this.onKeyframesResolved(E,C,_,!M),g,v,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:p,delay:g,isHandoff:v,onUpdate:x}=r;this.resolvedAt=Fn.now(),M5(t,u,c,p)||((Gs.instantAnimations||!g)&&x?.(Ey(t,r,e)),t[0]=t[t.length-1],ag(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>k5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},S=!v&&P5(_)?new V5({..._,element:_.motionValue.owner.current}):new Cy(_);S.finished.then(()=>this.notifyFinished()).catch(Si),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),x5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const B5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z5(i){const t=B5.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function sE(i,t,e=1){const[r,o]=z5(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return EA(c)?parseFloat(c):c}return xy(o)?sE(o,t,e+1):o}function Iy(i,t){return i?.[t]??i?.default??i}const rE=new Set(["width","height","top","left","right","bottom",...sl]),U5={test:i=>i==="auto",parse:i=>i},aE=i=>t=>t.test(i),oE=[il,Ot,ys,Ar,j4,V4,U5],e1=i=>oE.find(aE(i));function F5(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||CA(i):!0}const H5=new Set(["brightness","contrast","saturate","opacity"]);function q5(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(by)||[];if(!r)return i;const o=e.replace(r,"");let u=H5.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const G5=/\b([a-z-]*)\(.*?\)/gu,og={...Ur,getAnimatableNone:i=>{const t=i.match(G5);return t?t.map(q5).join(" "):i}},n1={...il,transform:Math.round},Y5={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:Vf,scaleX:Vf,scaleY:Vf,scaleZ:Vf,skew:Ar,skewX:Ar,skewY:Ar,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Ou,originX:Hb,originY:Hb,originZ:Ot},Dy={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...Y5,zIndex:n1,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:n1},Q5={...Dy,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:og,WebkitFilter:og},lE=i=>Q5[i];function uE(i,t){let e=lE(i);return e!==og&&(e=Ur),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const W5=new Set(["auto","none","0"]);function K5(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!W5.has(u)&&Nu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=uE(e,o)}class X5 extends Ry{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let v=t[g];if(typeof v=="string"&&(v=v.trim(),xy(v))){const x=sE(v,e.current);x!==void 0&&(t[g]=x),g===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!rE.has(r)||t.length!==2)return;const[o,u]=t,c=e1(o),p=e1(u);if(c!==p)if($b(c)&&$b(p))for(let g=0;g<t.length;g++){const v=t[g];typeof v=="string"&&(t[g]=parseFloat(v))}else Va[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||F5(t[o]))&&r.push(o);r.length&&K5(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Va[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function $5(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const cE=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function fE(i){return wA(i)&&"offsetHeight"in i}const i1=30,Z5=i=>!isNaN(parseFloat(i));class J5{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Fn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Z5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new yy);const r=this.events[t].add(e);return t==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>i1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,i1);return RA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xo(i,t){return new J5(i,t)}const{schedule:Vy}=BA(queueMicrotask,!1),Bi={x:!1,y:!1};function dE(){return Bi.x||Bi.y}function tM(i){return i==="x"||i==="y"?Bi[i]?null:(Bi[i]=!0,()=>{Bi[i]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function hE(i,t){const e=$5(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function s1(i){return!(i.pointerType==="touch"||dE())}function eM(i,t,e={}){const[r,o,u]=hE(i,e),c=p=>{if(!s1(p))return;const{target:g}=p,v=t(g,p);if(typeof v!="function"||!g)return;const x=f=>{s1(f)&&(v(f),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,o)};return r.forEach(p=>{p.addEventListener("pointerenter",c,o)}),u}const pE=(i,t)=>t?i===t?!0:pE(i,t.parentElement):!1,jy=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,nM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iM(i){return nM.has(i.tagName)||i.tabIndex!==-1}const qf=new WeakSet;function r1(i){return t=>{t.key==="Enter"&&i(t)}}function dm(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sM=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=r1(()=>{if(qf.has(e))return;dm(e,"down");const o=r1(()=>{dm(e,"up")}),u=()=>dm(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function a1(i){return jy(i)&&!dE()}function rM(i,t,e={}){const[r,o,u]=hE(i,e),c=p=>{const g=p.currentTarget;if(!a1(p))return;qf.add(g);const v=t(g,p),x=(S,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",_),qf.has(g)&&qf.delete(g),a1(S)&&typeof v=="function"&&v(S,{success:E})},f=S=>{x(S,g===window||g===document||e.useGlobalTarget||pE(g,S.target))},_=S=>{x(S,!1)};window.addEventListener("pointerup",f,o),window.addEventListener("pointercancel",_,o)};return r.forEach(p=>{(e.useGlobalTarget?window:p).addEventListener("pointerdown",c,o),fE(p)&&(p.addEventListener("focus",v=>sM(v,o)),!iM(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function mE(i){return wA(i)&&"ownerSVGElement"in i}function aM(i){return mE(i)&&i.tagName==="svg"}const wn=i=>!!(i&&i.getVelocity),oM=[...oE,Xe,Ur],lM=i=>oM.find(aE(i)),My=q.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function o1(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function uM(...i){return t=>{let e=!1;const r=i.map(o=>{const u=o1(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():o1(i[o],null)}}}}function cM(...i){return q.useCallback(uM(...i),i)}class fM extends q.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=fE(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dM({children:i,isPresent:t,anchorX:e,root:r}){const o=q.useId(),u=q.useRef(null),c=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=q.useContext(My),g=cM(u,i?.ref);return q.useInsertionEffect(()=>{const{width:v,height:x,top:f,left:_,right:S}=c.current;if(t||!u.current||!v||!x)return;const E=e==="left"?`left: ${_}`:`right: ${S}`;u.current.dataset.motionPopId=o;const C=document.createElement("style");p&&(C.nonce=p);const M=r??document.head;return M.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${E}px !important;
            top: ${f}px !important;
          }
        `),()=>{M.contains(C)&&M.removeChild(C)}},[t]),y.jsx(fM,{isPresent:t,childRef:u,sizeRef:c,children:q.cloneElement(i,{ref:g})})}const hM=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:p,root:g})=>{const v=Bd(pM),x=q.useId();let f=!0,_=q.useMemo(()=>(f=!1,{id:x,initial:t,isPresent:e,custom:o,onExitComplete:S=>{v.set(S,!0);for(const E of v.values())if(!E)return;r&&r()},register:S=>(v.set(S,!1),()=>v.delete(S))}),[e,v,r]);return u&&f&&(_={..._}),q.useMemo(()=>{v.forEach((S,E)=>v.set(E,!1))},[e]),q.useEffect(()=>{!e&&!v.size&&r&&r()},[e]),c==="popLayout"&&(i=y.jsx(dM,{isPresent:e,anchorX:p,root:g,children:i})),y.jsx(zd.Provider,{value:_,children:i})};function pM(){return new Map}function gE(i=!0){const t=q.useContext(zd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=q.useId();q.useEffect(()=>{if(i)return o(u)},[i]);const c=q.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const jf=i=>i.key||"";function l1(i){const t=[];return q.Children.forEach(i,e=>{q.isValidElement(e)&&t.push(e)}),t}const hm=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:p="left",root:g})=>{const[v,x]=gE(c),f=q.useMemo(()=>l1(i),[i]),_=c&&!v?[]:f.map(jf),S=q.useRef(!0),E=q.useRef(f),C=Bd(()=>new Map),[M,V]=q.useState(f),[O,k]=q.useState(f);dy(()=>{S.current=!1,E.current=f;for(let J=0;J<O.length;J++){const j=jf(O[J]);_.includes(j)?C.delete(j):C.get(j)!==!0&&C.set(j,!1)}},[O,_.length,_.join("-")]);const G=[];if(f!==M){let J=[...f];for(let j=0;j<O.length;j++){const R=O[j],I=jf(R);_.includes(I)||(J.splice(j,0,R),G.push(R))}return u==="wait"&&G.length&&(J=G),k(l1(J)),V(f),null}const{forceRender:et}=q.useContext(cy);return y.jsx(y.Fragment,{children:O.map(J=>{const j=jf(J),R=c&&!v?!1:f===O||_.includes(j),I=()=>{if(C.has(j))C.set(j,!0);else return;let L=!0;C.forEach(B=>{B||(L=!1)}),L&&(et?.(),k(E.current),c&&x?.(),r&&r())};return y.jsx(hM,{isPresent:R,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:R?void 0:I,anchorX:p,children:J},j)})})},yE=q.createContext({strict:!1}),u1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const i in u1)$o[i]={isEnabled:t=>u1[i].some(e=>!!t[e])};function mM(i){for(const t in i)$o[t]={...$o[t],...i[t]}}const gM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||gM.has(i)}let vE=i=>!dd(i);function yM(i){typeof i=="function"&&(vE=t=>t.startsWith("on")?!dd(t):i(t))}try{yM(require("@emotion/is-prop-valid").default)}catch{}function vM(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(vE(o)||e===!0&&dd(o)||!t&&!dd(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Ud=q.createContext({});function Fd(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Pu(i){return typeof i=="string"||Array.isArray(i)}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Oy];function Hd(i){return Fd(i.animate)||Ny.some(t=>Pu(i[t]))}function _E(i){return!!(Hd(i)||i.variants)}function _M(i,t){if(Hd(i)){const{initial:e,animate:r}=i;return{initial:e===!1||Pu(e)?e:void 0,animate:Pu(r)?r:void 0}}return i.inherit!==!1?t:{}}function xM(i){const{initial:t,animate:e}=_M(i,q.useContext(Ud));return q.useMemo(()=>({initial:t,animate:e}),[c1(t),c1(e)])}function c1(i){return Array.isArray(i)?i.join(" "):i}function f1(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const lu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Ot.test(i))i=parseFloat(i);else return i;const e=f1(i,t.target.x),r=f1(i,t.target.y);return`${e}% ${r}%`}},bM={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=Ur.parse(i);if(o.length>5)return r;const u=Ur.createTransformer(i),c=typeof o[0]!="number"?1:0,p=e.x.scale*t.x,g=e.y.scale*t.y;o[0+c]/=p,o[1+c]/=g;const v=Ie(p,g,.5);return typeof o[2+c]=="number"&&(o[2+c]/=v),typeof o[3+c]=="number"&&(o[3+c]/=v),u(o)}},lg={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:bM};function xE(i,{layout:t,layoutId:e}){return rl.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!lg[i]||i==="opacity")}const TM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SM=sl.length;function AM(i,t,e){let r="",o=!0;for(let u=0;u<SM;u++){const c=sl[u],p=i[c];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(c.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||e){const v=cE(p,Dy[c]);if(!g){o=!1;const x=TM[c]||c;r+=`${x}(${v}) `}e&&(t[c]=v)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Py(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,p=!1;for(const g in t){const v=t[g];if(rl.has(g)){c=!0;continue}else if(UA(g)){o[g]=v;continue}else{const x=cE(v,Dy[g]);g.startsWith("origin")?(p=!0,u[g]=x):r[g]=x}}if(t.transform||(c||e?r.transform=AM(t,i.transform,e):r.transform&&(r.transform="none")),p){const{originX:g="50%",originY:v="50%",originZ:x=0}=u;r.transformOrigin=`${g} ${v} ${x}`}}const ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bE(i,t,e){for(const r in t)!wn(t[r])&&!xE(r,e)&&(i[r]=t[r])}function EM({transformTemplate:i},t){return q.useMemo(()=>{const e=ky();return Py(e,t,i),Object.assign({},e.vars,e.style)},[t])}function wM(i,t){const e=i.style||{},r={};return bE(r,e,i),Object.assign(r,EM(i,t)),r}function CM(i,t){const e={},r=wM(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const RM={offset:"stroke-dashoffset",array:"stroke-dasharray"},IM={offset:"strokeDashoffset",array:"strokeDasharray"};function DM(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?RM:IM;i[u.offset]=Ot.transform(-r);const c=Ot.transform(t),p=Ot.transform(e);i[u.array]=`${c} ${p}`}function TE(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...p},g,v,x){if(Py(i,p,v),g){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:f,style:_}=i;f.transform&&(_.transform=f.transform,delete f.transform),(_.transform||f.transformOrigin)&&(_.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),_.transform&&(_.transformBox=x?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),e!==void 0&&(f.y=e),r!==void 0&&(f.scale=r),o!==void 0&&DM(f,o,u,c,!1)}const SE=()=>({...ky(),attrs:{}}),AE=i=>typeof i=="string"&&i.toLowerCase()==="svg";function VM(i,t,e,r){const o=q.useMemo(()=>{const u=SE();return TE(u,t,AE(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};bE(u,i.style,i),o.style={...u,...o.style}}return o}const jM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ly(i){return typeof i!="string"||i.includes("-")?!1:!!(jM.indexOf(i)>-1||/[A-Z]/u.test(i))}function MM(i,t,e,{latestValues:r},o,u=!1){const p=(Ly(i)?VM:CM)(t,r,o,i),g=vM(t,typeof i=="string",u),v=i!==q.Fragment?{...g,...p,ref:e}:{},{children:x}=t,f=q.useMemo(()=>wn(x)?x.get():x,[x]);return q.createElement(i,{...v,children:f})}function d1(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function By(i,t,e,r){if(typeof t=="function"){const[o,u]=d1(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=d1(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Gf(i){return wn(i)?i.get():i}function OM({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:NM(e,r,o,i),renderState:t()}}function NM(i,t,e,r){const o={},u=r(i,{});for(const _ in u)o[_]=Gf(u[_]);let{initial:c,animate:p}=i;const g=Hd(i),v=_E(i);t&&v&&!g&&i.inherit!==!1&&(c===void 0&&(c=t.initial),p===void 0&&(p=t.animate));let x=e?e.initial===!1:!1;x=x||c===!1;const f=x?p:c;if(f&&typeof f!="boolean"&&!Fd(f)){const _=Array.isArray(f)?f:[f];for(let S=0;S<_.length;S++){const E=By(i,_[S]);if(E){const{transitionEnd:C,transition:M,...V}=E;for(const O in V){let k=V[O];if(Array.isArray(k)){const G=x?k.length-1:0;k=k[G]}k!==null&&(o[O]=k)}for(const O in C)o[O]=C[O]}}}return o}const EE=i=>(t,e)=>{const r=q.useContext(Ud),o=q.useContext(zd),u=()=>OM(i,t,r,o);return e?u():Bd(u)};function zy(i,t,e){const{style:r}=i,o={};for(const u in r)(wn(r[u])||t.style&&wn(t.style[u])||xE(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const PM=EE({scrapeMotionValuesFromProps:zy,createRenderState:ky});function wE(i,t,e){const r=zy(i,t,e);for(const o in i)if(wn(i[o])||wn(t[o])){const u=sl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const kM=EE({scrapeMotionValuesFromProps:wE,createRenderState:SE}),LM=Symbol.for("motionComponentSymbol");function Po(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function BM(i,t,e){return q.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Po(e)&&(e.current=r))},[t])}const Uy=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zM="framerAppearId",CE="data-"+Uy(zM),RE=q.createContext({});function UM(i,t,e,r,o){const{visualElement:u}=q.useContext(Ud),c=q.useContext(yE),p=q.useContext(zd),g=q.useContext(My).reducedMotion,v=q.useRef(null);r=r||c.renderer,!v.current&&r&&(v.current=r(i,{visualState:t,parent:u,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,f=q.useContext(RE);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&FM(v.current,e,o,f);const _=q.useRef(!1);q.useInsertionEffect(()=>{x&&_.current&&x.update(e,p)});const S=e[CE],E=q.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return dy(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),E.current&&x.animationState&&x.animationState.animateChanges())}),q.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),E.current=!1),x.enteringChildren=void 0)}),x}function FM(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:p,layoutScroll:g,layoutRoot:v,layoutCrossfade:x}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:IE(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||p&&Po(p),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:g,layoutRoot:v})}function IE(i){if(i)return i.options.allowProjection!==!1?i.projection:IE(i.parent)}function pm(i,{forwardMotionProps:t=!1}={},e,r){e&&mM(e);const o=Ly(i)?kM:PM;function u(p,g){let v;const x={...q.useContext(My),...p,layoutId:HM(p)},{isStatic:f}=x,_=xM(p),S=o(p,f);if(!f&&fy){qM();const E=GM(x);v=E.MeasureLayout,_.visualElement=UM(i,S,x,r,E.ProjectionNode)}return y.jsxs(Ud.Provider,{value:_,children:[v&&_.visualElement?y.jsx(v,{visualElement:_.visualElement,...x}):null,MM(i,p,BM(S,_.visualElement,g),S,f,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=q.forwardRef(u);return c[LM]=i,c}function HM({layoutId:i}){const t=q.useContext(cy).id;return t&&i!==void 0?t+"-"+i:i}function qM(i,t){q.useContext(yE).strict}function GM(i){const{drag:t,layout:e}=$o;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function YM(i,t){if(typeof Proxy>"u")return pm;const e=new Map,r=(u,c)=>pm(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,pm(c,void 0,i,t)),e.get(c))})}function DE({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function QM({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function WM(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function mm(i){return i===void 0||i===1}function ug({scale:i,scaleX:t,scaleY:e}){return!mm(i)||!mm(t)||!mm(e)}function Aa(i){return ug(i)||VE(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function VE(i){return h1(i.x)||h1(i.y)}function h1(i){return i&&i!=="0%"}function hd(i,t,e){const r=i-e,o=t*r;return e+o}function p1(i,t,e,r,o){return o!==void 0&&(i=hd(i,o,r)),hd(i,e,r)+t}function cg(i,t=0,e=1,r,o){i.min=p1(i.min,t,e,r,o),i.max=p1(i.max,t,e,r,o)}function jE(i,{x:t,y:e}){cg(i.x,t.translate,t.scale,t.originPoint),cg(i.y,e.translate,e.scale,e.originPoint)}const m1=.999999999999,g1=1.0000000000001;function KM(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let p=0;p<o;p++){u=e[p],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lo(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,jE(i,c)),r&&Aa(u.latestValues)&&Lo(i,u.latestValues))}t.x<g1&&t.x>m1&&(t.x=1),t.y<g1&&t.y>m1&&(t.y=1)}function ko(i,t){i.min=i.min+t,i.max=i.max+t}function y1(i,t,e,r,o=.5){const u=Ie(i.min,i.max,o);cg(i,t,e,u,r)}function Lo(i,t){y1(i.x,t.x,t.scaleX,t.scale,t.originX),y1(i.y,t.y,t.scaleY,t.scale,t.originY)}function ME(i,t){return DE(WM(i.getBoundingClientRect(),t))}function XM(i,t,e){const r=ME(i,e),{scroll:o}=t;return o&&(ko(r.x,o.offset.x),ko(r.y,o.offset.y)),r}const v1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:v1(),y:v1()}),_1=()=>({min:0,max:0}),tn=()=>({x:_1(),y:_1()}),fg={current:null},OE={current:!1};function $M(){if(OE.current=!0,!!fy)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>fg.current=i.matches;i.addEventListener("change",t),t()}else fg.current=!1}const ZM=new WeakMap;function JM(i,t,e){for(const r in t){const o=t[r],u=e[r];if(wn(o))i.addValue(r,o);else if(wn(u))i.addValue(r,Xo(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,Xo(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t3{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ry,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Fn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Re.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=e.initial?{...g}:{},this.renderState=v,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Hd(e),this.isVariantNode=_E(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in f){const S=f[_];g[_]!==void 0&&wn(S)&&S.set(g[_])}}mount(t){this.current=t,ZM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),OE.current||$M(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=rl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const e=$o[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<x1.length;r++){const o=x1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=JM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Xo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(EA(r)||CA(r))?r=parseFloat(r):!lM(r)&&Ur.test(e)&&(r=uE(t,e)),this.setBaseTarget(t,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=By(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!wn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new yy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Vy.render(this.render)}}class NE extends t3{constructor(){super(...arguments),this.KeyframeResolver=X5}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function PE(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function e3(i){return window.getComputedStyle(i)}class n3 extends NE{constructor(){super(...arguments),this.type="html",this.renderInstance=PE}readValueFromInstance(t,e){if(rl.has(e))return this.projection?.isProjecting?eg(e):m5(t,e);{const r=e3(t),o=(UA(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ME(t,e)}build(t,e,r){Py(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return zy(t,e,r)}}const kE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i3(i,t,e,r){PE(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(kE.has(o)?o:Uy(o),t.attrs[o])}class s3 extends NE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(rl.has(e)){const r=lE(e);return r&&r.default||0}return e=kE.has(e)?e:Uy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return wE(t,e,r)}build(t,e,r){TE(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){i3(t,e,r,o)}mount(t){this.isSVGTag=AE(t.tagName),super.mount(t)}}const r3=(i,t)=>Ly(i)?new s3(t):new n3(t,{allowProjection:i!==q.Fragment});function Ho(i,t,e){const r=i.getProps();return By(r,t,e!==void 0?e:r.custom,i)}const dg=i=>Array.isArray(i);function a3(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,Xo(e))}function o3(i){return dg(i)?i[i.length-1]||0:i}function Fy(i,t){const e=Ho(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const p=o3(u[c]);a3(i,c,p)}}function l3(i){return!!(wn(i)&&i.add)}function hg(i,t){const e=i.getValue("willChange");if(l3(e))return e.add(t);if(!e&&Gs.WillChange){const r=new Gs.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function LE(i){return i.props[CE]}const u3=i=>i!==null;function c3(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(u3),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const f3={type:"spring",stiffness:500,damping:25,restSpeed:10},d3=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),h3={type:"keyframes",duration:.8},p3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m3=(i,{keyframes:t})=>t.length>2?h3:rl.has(i)?i.startsWith("scale")?d3(t[1]):f3:p3;function g3({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:p,from:g,elapsed:v,...x}){return!!Object.keys(x).length}const Hy=(i,t,e,r={},o,u)=>c=>{const p=Iy(r,i)||{},g=p.delay||r.delay||0;let{elapsed:v=0}=r;v=v-gs(g);const x={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-v,onUpdate:_=>{t.set(_),p.onUpdate&&p.onUpdate(_)},onComplete:()=>{c(),p.onComplete&&p.onComplete()},name:i,motionValue:t,element:u?void 0:o};g3(p)||Object.assign(x,m3(i,x)),x.duration&&(x.duration=gs(x.duration)),x.repeatDelay&&(x.repeatDelay=gs(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let f=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(ag(x),x.delay===0&&(f=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(f=!0,ag(x),x.delay=0),x.allowFlatten=!p.type&&!p.ease,f&&!u&&t.get()!==void 0){const _=c3(x.keyframes,p);if(_!==void 0){Re.update(()=>{x.onUpdate(_),x.onComplete()});return}}return p.isSync?new Cy(x):new L5(x)};function y3({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function BE(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...p}=t;r&&(u=r);const g=[],v=o&&i.animationState&&i.animationState.getState()[o];for(const x in p){const f=i.getValue(x,i.latestValues[x]??null),_=p[x];if(_===void 0||v&&y3(v,x))continue;const S={delay:e,...Iy(u||{},x)},E=f.get();if(E!==void 0&&!f.isAnimating&&!Array.isArray(_)&&_===E&&!S.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const V=LE(i);if(V){const O=window.MotionHandoffAnimation(V,x,Re);O!==null&&(S.startTime=O,C=!0)}}hg(i,x),f.start(Hy(x,f,_,i.shouldReduceMotion&&rE.has(x)?{type:!1}:S,i,C));const M=f.animation;M&&g.push(M)}return c&&Promise.all(g).then(()=>{Re.update(()=>{c&&Fy(i,c)})}),g}function zE(i,t,e,r=0,o=1){const u=Array.from(i).sort((v,x)=>v.sortNodePosition(x)).indexOf(t),c=i.size,p=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:p-u*r}function pg(i,t,e={}){const r=Ho(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(BE(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:f}=o;return v3(i,t,g,v,x,f,e)}:()=>Promise.resolve(),{when:p}=o;if(p){const[g,v]=p==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function v3(i,t,e=0,r=0,o=0,u=1,c){const p=[];for(const g of i.variantChildren)g.notify("AnimationStart",t),p.push(pg(g,t,{...c,delay:e+(typeof r=="function"?0:r)+zE(i.variantChildren,g,r,o,u)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(p)}function UE(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>pg(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=pg(i,t,e);else{const o=typeof t=="function"?Ho(i,t,e.custom):t;r=Promise.all(BE(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function FE(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const _3=Ny.length;function HE(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?HE(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<_3;e++){const r=Ny[e],o=i.props[r];(Pu(o)||o===!1)&&(t[r]=o)}return t}const x3=[...Oy].reverse(),b3=Oy.length;function T3(i){return t=>Promise.all(t.map(({animation:e,options:r})=>UE(i,e,r)))}function S3(i){let t=T3(i),e=b1(),r=!0;const o=g=>(v,x)=>{const f=Ho(i,x,g==="exit"?i.presenceContext?.custom:void 0);if(f){const{transition:_,transitionEnd:S,...E}=f;v={...v,...E,...S}}return v};function u(g){t=g(i)}function c(g){const{props:v}=i,x=HE(i.parent)||{},f=[],_=new Set;let S={},E=1/0;for(let M=0;M<b3;M++){const V=x3[M],O=e[V],k=v[V]!==void 0?v[V]:x[V],G=Pu(k),et=V===g?O.isActive:null;et===!1&&(E=M);let J=k===x[V]&&k!==v[V]&&G;if(J&&r&&i.manuallyAnimateOnMount&&(J=!1),O.protectedKeys={...S},!O.isActive&&et===null||!k&&!O.prevProp||Fd(k)||typeof k=="boolean")continue;const j=A3(O.prevProp,k);let R=j||V===g&&O.isActive&&!J&&G||M>E&&G,I=!1;const L=Array.isArray(k)?k:[k];let B=L.reduce(o(V),{});et===!1&&(B={});const{prevResolvedValues:U={}}=O,N={...U,...B},wt=H=>{R=!0,_.has(H)&&(I=!0,_.delete(H)),O.needsAnimating[H]=!0;const nt=i.getValue(H);nt&&(nt.liveStyle=!1)};for(const H in N){const nt=B[H],W=U[H];if(S.hasOwnProperty(H))continue;let ht=!1;dg(nt)&&dg(W)?ht=!FE(nt,W):ht=nt!==W,ht?nt!=null?wt(H):_.add(H):nt!==void 0&&_.has(H)?wt(H):O.protectedKeys[H]=!0}O.prevProp=k,O.prevResolvedValues=B,O.isActive&&(S={...S,...B}),r&&i.blockInitialAnimation&&(R=!1);const zt=J&&j;R&&(!zt||I)&&f.push(...L.map(H=>{const nt={type:V};if(typeof H=="string"&&r&&!zt&&i.manuallyAnimateOnMount&&i.parent){const{parent:W}=i,ht=Ho(W,H);if(W.enteringChildren&&ht){const{delayChildren:P}=ht.transition||{};nt.delay=zE(W.enteringChildren,i,P)}}return{animation:H,options:nt}}))}if(_.size){const M={};if(typeof v.initial!="boolean"){const V=Ho(i,Array.isArray(v.initial)?v.initial[0]:v.initial);V&&V.transition&&(M.transition=V.transition)}_.forEach(V=>{const O=i.getBaseTarget(V),k=i.getValue(V);k&&(k.liveStyle=!0),M[V]=O??null}),f.push({animation:M})}let C=!!f.length;return r&&(v.initial===!1||v.initial===v.animate)&&!i.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(f):Promise.resolve()}function p(g,v){if(e[g].isActive===v)return Promise.resolve();i.variantChildren?.forEach(f=>f.animationState?.setActive(g,v)),e[g].isActive=v;const x=c(g);for(const f in e)e[f].protectedKeys={};return x}return{animateChanges:c,setActive:p,setAnimateFunction:u,getState:()=>e,reset:()=>{e=b1()}}}function A3(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!FE(t,i):!1}function ba(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b1(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class E3 extends Yr{constructor(t){super(t),t.animationState||(t.animationState=S3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let w3=0;class C3 extends Yr{constructor(){super(...arguments),this.id=w3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const R3={animation:{Feature:E3},exit:{Feature:C3}};function ku(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function Wu(i){return{point:{x:i.pageX,y:i.pageY}}}const I3=i=>t=>jy(t)&&i(t,Wu(t));function bu(i,t,e,r){return ku(i,t,I3(e),r)}const qE=1e-4,D3=1-qE,V3=1+qE,GE=.01,j3=0-GE,M3=0+GE;function In(i){return i.max-i.min}function O3(i,t,e){return Math.abs(i-t)<=e}function T1(i,t,e,r=.5){i.origin=r,i.originPoint=Ie(t.min,t.max,i.origin),i.scale=In(e)/In(t),i.translate=Ie(e.min,e.max,i.origin)-i.originPoint,(i.scale>=D3&&i.scale<=V3||isNaN(i.scale))&&(i.scale=1),(i.translate>=j3&&i.translate<=M3||isNaN(i.translate))&&(i.translate=0)}function Tu(i,t,e,r){T1(i.x,t.x,e.x,r?r.originX:void 0),T1(i.y,t.y,e.y,r?r.originY:void 0)}function S1(i,t,e){i.min=e.min+t.min,i.max=i.min+In(t)}function N3(i,t,e){S1(i.x,t.x,e.x),S1(i.y,t.y,e.y)}function A1(i,t,e){i.min=t.min-e.min,i.max=i.min+In(t)}function pd(i,t,e){A1(i.x,t.x,e.x),A1(i.y,t.y,e.y)}function vi(i){return[i("x"),i("y")]}const YE=({current:i})=>i?i.ownerDocument.defaultView:null,E1=(i,t)=>Math.abs(i-t);function P3(i,t){const e=E1(i.x,t.x),r=E1(i.y,t.y);return Math.sqrt(e**2+r**2)}class QE{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ym(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,E=P3(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!E)return;const{point:C}=_,{timestamp:M}=gn;this.history.push({...C,timestamp:M});const{onStart:V,onMove:O}=this.handlers;S||(V&&V(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=gm(S,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=ym(_.type==="pointercancel"?this.lastMoveEventInfo:gm(S,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,V),C&&C(_,V)},!jy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Wu(t),g=gm(p,this.transformPagePoint),{point:v}=g,{timestamp:x}=gn;this.history=[{...v,timestamp:x}];const{onSessionStart:f}=e;f&&f(t,ym(g,this.history)),this.removeListeners=Gu(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function gm(i,t){return t?{point:t(i.point)}:i}function w1(i,t){return{x:i.x-t.x,y:i.y-t.y}}function ym({point:i},t){return{point:i,delta:w1(i,WE(t)),offset:w1(i,k3(t)),velocity:L3(t,.1)}}function k3(i){return i[0]}function WE(i){return i[i.length-1]}function L3(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=WE(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>gs(t)));)e--;if(!r)return{x:0,y:0};const u=xi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function B3(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?Ie(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?Ie(e,i,r.max):Math.min(i,e)),i}function C1(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function z3(i,{top:t,left:e,bottom:r,right:o}){return{x:C1(i.x,e,o),y:C1(i.y,t,r)}}function R1(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function U3(i,t){return{x:R1(i.x,t.x),y:R1(i.y,t.y)}}function F3(i,t){let e=.5;const r=In(i),o=In(t);return o>r?e=Mu(t.min,t.max-r,i.min):r>o&&(e=Mu(i.min,i.max-o,t.min)),qs(0,1,e)}function H3(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const mg=.35;function q3(i=mg){return i===!1?i=0:i===!0&&(i=mg),{x:I1(i,"left","right"),y:I1(i,"top","bottom")}}function I1(i,t,e){return{min:D1(i,t),max:D1(i,e)}}function D1(i,t){return typeof i=="number"?i:i[t]||0}const G3=new WeakMap;class Y3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=f=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Wu(f).point)},c=(f,_)=>{const{drag:S,dragPropagation:E,onDragStart:C}=this.getProps();if(S&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tM(S),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(V=>{let O=this.getAxisMotionValue(V).get()||0;if(ys.test(O)){const{projection:k}=this.visualElement;if(k&&k.layout){const G=k.layout.layoutBox[V];G&&(O=In(G)*(parseFloat(O)/100))}}this.originPoint[V]=O}),C&&Re.postRender(()=>C(f,_)),hg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},p=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:E,onDirectionLock:C,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:V}=_;if(E&&this.currentDirection===null){this.currentDirection=Q3(V),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),M&&M(f,_)},g=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_,this.stop(f,_),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>vi(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new QE(t,{onSessionStart:u,onStart:c,onMove:p,onSessionEnd:g,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:r,contextWindow:YE(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:p}=this.getProps();p&&Re.postRender(()=>p(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Mf(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=B3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=z3(r.layoutBox,t):this.constraints=!1,this.elastic=q3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=H3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Po(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=XM(r,o.root,this.visualElement.getTransformPagePoint());let c=U3(o.layout.layoutBox,u);if(e){const p=e(QM(c));this.hasMutatedConstraints=!!p,p&&(c=DE(p))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},v=vi(x=>{if(!Mf(x,e,this.currentDirection))return;let f=g&&g[x]||{};c&&(f={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?t[x]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...f};return this.startAxisValueAnimation(x,E)});return Promise.all(v).then(p)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return hg(this.visualElement,t),r.start(Hy(t,r,0,e,this.visualElement,!1))}stopAnimation(){vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vi(e=>{const{drag:r}=this.getProps();if(!Mf(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:p}=o.layout.layoutBox[e];u.set(t[e]-Ie(c,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Po(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};vi(c=>{const p=this.getAxisMotionValue(c);if(p&&this.constraints!==!1){const g=p.get();o[c]=F3({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(c=>{if(!Mf(c,t,null))return;const p=this.getAxisMotionValue(c),{min:g,max:v}=this.constraints[c];p.set(Ie(g,v,o[c]))})}addListeners(){if(!this.visualElement.current)return;G3.set(this.visualElement,this);const t=this.visualElement.current,e=bu(t,"pointerdown",g=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Po(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Re.read(r);const c=ku(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(vi(x=>{const f=this.getAxisMotionValue(x);f&&(this.originPoint[x]+=g[x].translate,f.set(f.get()+g[x].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=mg,dragMomentum:p=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:p}}}function Mf(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function Q3(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class W3 extends Yr{constructor(t){super(t),this.removeGroupControls=Si,this.removeListeners=Si,this.controls=new Y3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Si}unmount(){this.removeGroupControls(),this.removeListeners()}}const V1=i=>(t,e)=>{i&&Re.postRender(()=>i(t,e))};class K3 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Si}onPointerDown(t){this.session=new QE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:V1(t),onStart:V1(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Re.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let vm=!1;class X3 extends q.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),vm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,vm=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Re.postRender(()=>{const p=c.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;vm=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KE(i){const[t,e]=gE(),r=q.useContext(cy);return y.jsx(X3,{...i,layoutGroup:r,switchLayoutGroup:q.useContext(RE),isPresent:t,safeToRemove:e})}function $3(i,t,e){const r=wn(i)?i:Xo(i);return r.start(Hy("",r,t,e)),r.animation}const Z3=(i,t)=>i.depth-t.depth;class J3{constructor(){this.children=[],this.isDirty=!1}add(t){hy(this.children,t),this.isDirty=!0}remove(t){py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z3),this.isDirty=!1,this.children.forEach(t)}}function tO(i,t){const e=Fn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(zr(r),i(u-t))};return Re.setup(r,!0),()=>zr(r)}const XE=["TopLeft","TopRight","BottomLeft","BottomRight"],eO=XE.length,j1=i=>typeof i=="string"?parseFloat(i):i,M1=i=>typeof i=="number"||Ot.test(i);function nO(i,t,e,r,o,u){o?(i.opacity=Ie(0,e.opacity??1,iO(r)),i.opacityExit=Ie(t.opacity??1,0,sO(r))):u&&(i.opacity=Ie(t.opacity??1,e.opacity??1,r));for(let c=0;c<eO;c++){const p=`border${XE[c]}Radius`;let g=O1(t,p),v=O1(e,p);if(g===void 0&&v===void 0)continue;g||(g=0),v||(v=0),g===0||v===0||M1(g)===M1(v)?(i[p]=Math.max(Ie(j1(g),j1(v),r),0),(ys.test(v)||ys.test(g))&&(i[p]+="%")):i[p]=v}(t.rotate||e.rotate)&&(i.rotate=Ie(t.rotate||0,e.rotate||0,r))}function O1(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const iO=$E(0,.5,NA),sO=$E(.5,.95,Si);function $E(i,t,e){return r=>r<i?0:r>t?1:e(Mu(i,t,r))}function N1(i,t){i.min=t.min,i.max=t.max}function Li(i,t){N1(i.x,t.x),N1(i.y,t.y)}function P1(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function k1(i,t,e,r,o){return i-=t,i=hd(i,1/e,r),o!==void 0&&(i=hd(i,1/o,r)),i}function rO(i,t=0,e=1,r=.5,o,u=i,c=i){if(ys.test(t)&&(t=parseFloat(t),t=Ie(c.min,c.max,t/100)-c.min),typeof t!="number")return;let p=Ie(u.min,u.max,r);i===u&&(p-=t),i.min=k1(i.min,t,e,p,o),i.max=k1(i.max,t,e,p,o)}function L1(i,t,[e,r,o],u,c){rO(i,t[e],t[r],t[o],t.scale,u,c)}const aO=["x","scaleX","originX"],oO=["y","scaleY","originY"];function B1(i,t,e,r){L1(i.x,t,aO,e?e.x:void 0,r?r.x:void 0),L1(i.y,t,oO,e?e.y:void 0,r?r.y:void 0)}function z1(i){return i.translate===0&&i.scale===1}function ZE(i){return z1(i.x)&&z1(i.y)}function U1(i,t){return i.min===t.min&&i.max===t.max}function lO(i,t){return U1(i.x,t.x)&&U1(i.y,t.y)}function F1(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function JE(i,t){return F1(i.x,t.x)&&F1(i.y,t.y)}function H1(i){return In(i.x)/In(i.y)}function q1(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class uO{constructor(){this.members=[]}add(t){hy(this.members,t),t.scheduleRender()}remove(t){if(py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cO(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:v,rotate:x,rotateX:f,rotateY:_,skewX:S,skewY:E}=e;v&&(r=`perspective(${v}px) ${r}`),x&&(r+=`rotate(${x}deg) `),f&&(r+=`rotateX(${f}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const p=i.x.scale*t.x,g=i.y.scale*t.y;return(p!==1||g!==1)&&(r+=`scale(${p}, ${g})`),r||"none"}const _m=["","X","Y","Z"],fO=1e3;let dO=0;function xm(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function tw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=LE(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",Re,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&tw(r)}function ew({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},p=t?.()){this.id=dO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mO),this.nodes.forEach(_O),this.nodes.forEach(xO),this.nodes.forEach(gO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new J3)}addEventListener(c,p){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new yy),this.eventHandlers.get(c).add(p)}notifyListeners(c,...p){const g=this.eventHandlers.get(c);g&&g.notify(...p)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=mE(c)&&!aM(c),this.instance=c;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),i){let x,f=0;const _=()=>this.root.updateBlockedByResize=!1;Re.read(()=>{f=window.innerWidth}),i(c,()=>{const S=window.innerWidth;S!==f&&(f=S,this.root.updateBlockedByResize=!0,x&&x(),x=tO(_,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(Q1)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:f,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||v.getDefaultTransition()||EO,{onLayoutAnimationStart:C,onLayoutAnimationComplete:M}=v.getProps(),V=!this.targetLayout||!JE(this.targetLayout,S),O=!f&&_;if(this.options.layoutRoot||this.resumeFrom||O||f&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Iy(E,"layout"),onPlay:C,onComplete:M};(v.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(x,O)}else f||Q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const f=this.path[x];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Y1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vO),this.nodes.forEach(hO),this.nodes.forEach(pO)):this.nodes.forEach(Y1),this.clearAllSnapshots();const p=Fn.now();gn.delta=qs(0,1e3/60,p-gn.timestamp),gn.timestamp=p,gn.isProcessing=!0,om.update.process(gn),om.preRender.process(gn),om.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yO),this.sharedNodes.forEach(TO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(p=!1),p&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!ZE(this.projectionDelta),g=this.getTransformTemplate(),v=g?g(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;c&&this.instance&&(p||Aa(this.latestValues)||x)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return c&&(g=this.removeTransform(g)),wO(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return tn();const p=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(CO))){const{scroll:v}=this.root;v&&(ko(p.x,v.offset.x),ko(p.y,v.offset.y))}return p}removeElementScroll(c){const p=tn();if(Li(p,c),this.scroll?.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:x,options:f}=v;v!==this.root&&x&&f.layoutScroll&&(x.wasRoot&&Li(p,c),ko(p.x,x.offset.x),ko(p.y,x.offset.y))}return p}applyTransform(c,p=!1){const g=tn();Li(g,c);for(let v=0;v<this.path.length;v++){const x=this.path[v];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Lo(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Aa(x.latestValues)&&Lo(g,x.latestValues)}return Aa(this.latestValues)&&Lo(g,this.latestValues),g}removeTransform(c){const p=tn();Li(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];if(!v.instance||!Aa(v.latestValues))continue;ug(v.latestValues)&&v.updateSnapshot();const x=tn(),f=v.measurePageBox();Li(x,f),B1(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return Aa(this.latestValues)&&B1(p,this.latestValues),p}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:f}=this.options;if(!this.layout||!(x||f))return;this.resolvedRelativeTargetAt=gn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),jE(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ug(this.parent.latestValues)||VE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,p,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),pd(this.relativeTargetOrigin,p,g),Li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),p=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(g=!1),g)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;Li(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,_=this.treeScale.y;KM(this.layoutCorrected,this.treeScale,this.path,p),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tn());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P1(this.prevProjectionDelta.x,this.projectionDelta.x),P1(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==_||!q1(this.projectionDelta.x,this.prevProjectionDelta.x)||!q1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(c,p=!1){const g=this.snapshot,v=g?g.latestValues:{},x={...this.latestValues},f=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=tn(),S=g?g.source:void 0,E=this.layout?this.layout.source:void 0,C=S!==E,M=this.getStack(),V=!M||M.members.length<=1,O=!!(C&&!V&&this.options.crossfade===!0&&!this.path.some(AO));this.animationProgress=0;let k;this.mixTargetDelta=G=>{const et=G/1e3;W1(f.x,c.x,et),W1(f.y,c.y,et),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SO(this.relativeTarget,this.relativeTargetOrigin,_,et),k&&lO(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=tn()),Li(k,this.relativeTarget)),C&&(this.animationValues=x,nO(x,v,this.latestValues,et,O,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=et},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xo(0)),this.currentAnimation=$3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:p,target:g,layout:v,latestValues:x}=c;if(!(!p||!g||!v)){if(this!==c&&this.layout&&v&&nw(this.options.animationType,this.layout.layoutBox,v.layoutBox)){g=this.target||tn();const f=In(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+f;const _=In(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+_}Li(p,g),Lo(p,x),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(c,p){this.sharedNodes.has(c)||this.sharedNodes.set(c,new uO),this.sharedNodes.get(c).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:p,preserveFollowOpacity:g}={}){const v=this.getStack();v&&v.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let p=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const v={};g.z&&xm("z",c,v,this.animationValues);for(let x=0;x<_m.length;x++)xm(`rotate${_m[x]}`,c,v,this.animationValues),xm(`skew${_m[x]}`,c,v,this.animationValues);c.render();for(const x in v)c.setStaticValue(x,v[x]),this.animationValues&&(this.animationValues[x]=v[x]);c.scheduleRender()}applyProjectionStyles(c,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Gf(p?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Gf(p?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=v.animationValues||v.latestValues;this.applyTransformsToTarget();let f=cO(this.projectionDeltaWithTransform,this.treeScale,x);g&&(f=g(x,f)),c.transform=f;const{x:_,y:S}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,v.animationValues?c.opacity=v===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const E in lg){if(x[E]===void 0)continue;const{correct:C,applyTo:M,isCSSVariable:V}=lg[E],O=f==="none"?x[E]:C(x[E],v);if(M){const k=M.length;for(let G=0;G<k;G++)c[M[G]]=O}else V?this.options.visualElement.renderState.vars[E]=O:c[E]=O}this.options.layoutId&&(c.pointerEvents=v===this?Gf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(G1),this.root.sharedNodes.clear()}}}function hO(i){i.updateLayout()}function pO(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?vi(x=>{const f=u?t.measuredBox[x]:t.layoutBox[x],_=In(f);f.min=e[x].min,f.max=f.min+_}):nw(o,t.layoutBox,e)&&vi(x=>{const f=u?t.measuredBox[x]:t.layoutBox[x],_=In(e[x]);f.max=f.min+_,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[x].max=i.relativeTarget[x].min+_)});const c=Bo();Tu(c,e,t.layoutBox);const p=Bo();u?Tu(p,i.applyTransform(r,!0),t.measuredBox):Tu(p,e,t.layoutBox);const g=!ZE(c);let v=!1;if(!i.resumeFrom){const x=i.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:f,layout:_}=x;if(f&&_){const S=tn();pd(S,t.layoutBox,f.layoutBox);const E=tn();pd(E,e,_.layoutBox),JE(S,E)||(v=!0),x.options.layoutRoot&&(i.relativeTarget=E,i.relativeTargetOrigin=S,i.relativeParent=x)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:p,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function mO(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function gO(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function yO(i){i.clearSnapshot()}function G1(i){i.clearMeasurements()}function Y1(i){i.isLayoutDirty=!1}function vO(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function Q1(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function _O(i){i.resolveTargetDelta()}function xO(i){i.calcProjection()}function bO(i){i.resetSkewAndRotation()}function TO(i){i.removeLeadSnapshot()}function W1(i,t,e){i.translate=Ie(t.translate,0,e),i.scale=Ie(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function K1(i,t,e,r){i.min=Ie(t.min,e.min,r),i.max=Ie(t.max,e.max,r)}function SO(i,t,e,r){K1(i.x,t.x,e.x,r),K1(i.y,t.y,e.y,r)}function AO(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const EO={duration:.45,ease:[.4,0,.1,1]},X1=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),$1=X1("applewebkit/")&&!X1("chrome/")?Math.round:Si;function Z1(i){i.min=$1(i.min),i.max=$1(i.max)}function wO(i){Z1(i.x),Z1(i.y)}function nw(i,t,e){return i==="position"||i==="preserve-aspect"&&!O3(H1(t),H1(e),.2)}function CO(i){return i!==i.root&&i.scroll?.wasRoot}const RO=ew({attachResizeListener:(i,t)=>ku(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bm={current:void 0},iw=ew({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!bm.current){const i=new RO({});i.mount(window),i.setOptions({layoutScroll:!0}),bm.current=i}return bm.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),IO={pan:{Feature:K3},drag:{Feature:W3,ProjectionNode:iw,MeasureLayout:KE}};function J1(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Re.postRender(()=>u(t,Wu(t)))}class DO extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=eM(t,(e,r)=>(J1(this.node,r,"Start"),o=>J1(this.node,o,"End"))))}unmount(){}}class VO extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tT(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Re.postRender(()=>u(t,Wu(t)))}class jO extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=rM(t,(e,r)=>(tT(this.node,r,"Start"),(o,{success:u})=>tT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gg=new WeakMap,Tm=new WeakMap,MO=i=>{const t=gg.get(i.target);t&&t(i)},OO=i=>{i.forEach(MO)};function NO({root:i,...t}){const e=i||document;Tm.has(e)||Tm.set(e,{});const r=Tm.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(OO,{root:i,...t})),r[o]}function PO(i,t,e){const r=NO(t);return gg.set(i,e),r.observe(i),()=>{gg.delete(i),r.unobserve(i)}}const kO={some:0,all:1};class LO extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:kO[o]},p=g=>{const{isIntersecting:v}=g;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:f}=this.node.getProps(),_=v?x:f;_&&_(g)};return PO(this.node.current,c,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(BO(t,e))&&this.startObserver()}unmount(){}}function BO({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const zO={inView:{Feature:LO},tap:{Feature:jO},focus:{Feature:VO},hover:{Feature:DO}},UO={layout:{ProjectionNode:iw,MeasureLayout:KE}},FO={...R3,...zO,...IO,...UO},zn=YM(FO,r3);function HO(i){i.values.forEach(t=>t.stop())}function yg(i,t){[...t].reverse().forEach(r=>{const o=i.getVariant(r);o&&Fy(i,o),i.variantChildren&&i.variantChildren.forEach(u=>{yg(u,t)})})}function qO(i,t){if(Array.isArray(t))return yg(i,t);if(typeof t=="string")return yg(i,[t]);Fy(i,t)}function GO(){const i=new Set,t={subscribe(e){return i.add(e),()=>{i.delete(e)}},start(e,r){const o=[];return i.forEach(u=>{o.push(UE(u,e,{transitionOverride:r}))}),Promise.all(o)},set(e){return i.forEach(r=>{qO(r,e)})},stop(){i.forEach(e=>{HO(e)})},mount(){return()=>{t.stop()}}};return t}function YO(){const i=Bd(GO);return dy(i.mount,[]),i}const QO=YO;var Sm={};var eT;function WO(){return eT||(eT=1,(function(i){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||e;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var _=this||e;if(f=parseFloat(f),_.ctx||x(),typeof f<"u"&&f>=0&&f<=1){if(_._volume=f,_._muted)return _;_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f,e.ctx.currentTime);for(var S=0;S<_._howls.length;S++)if(!_._howls[S]._webAudio)for(var E=_._howls[S]._getSoundIds(),C=0;C<E.length;C++){var M=_._howls[S]._soundById(E[C]);M&&M._node&&(M._node.volume=M._volume*f)}return _}return _._volume},mute:function(f){var _=this||e;_.ctx||x(),_._muted=f,_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f?0:_._volume,e.ctx.currentTime);for(var S=0;S<_._howls.length;S++)if(!_._howls[S]._webAudio)for(var E=_._howls[S]._getSoundIds(),C=0;C<E.length;C++){var M=_._howls[S]._soundById(E[C]);M&&M._node&&(M._node.muted=f?!0:M._muted)}return _},stop:function(){for(var f=this||e,_=0;_<f._howls.length;_++)f._howls[_].stop();return f},unload:function(){for(var f=this||e,_=f._howls.length-1;_>=0;_--)f._howls[_].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,x()),f},codecs:function(f){return(this||e)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||e;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var _=new Audio;typeof _.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var _=new Audio;_.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||e,_=null;try{_=typeof Audio<"u"?new Audio:null}catch{return f}if(!_||typeof _.canPlayType!="function")return f;var S=_.canPlayType("audio/mpeg;").replace(/^no$/,""),E=f._navigator?f._navigator.userAgent:"",C=E.match(/OPR\/(\d+)/g),M=C&&parseInt(C[0].split("/")[1],10)<33,V=E.indexOf("Safari")!==-1&&E.indexOf("Chrome")===-1,O=E.match(/Version\/(.*?) /),k=V&&O&&parseInt(O[1],10)<15;return f._codecs={mp3:!!(!M&&(S||_.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!S,opus:!!_.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(_.canPlayType('audio/wav; codecs="1"')||_.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!_.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!_.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(_.canPlayType("audio/x-m4a;")||_.canPlayType("audio/m4a;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(_.canPlayType("audio/x-m4b;")||_.canPlayType("audio/m4b;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(_.canPlayType("audio/x-mp4;")||_.canPlayType("audio/mp4;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!k&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!k&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!_.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(_.canPlayType("audio/x-flac;")||_.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||e;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var _=function(S){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var E=new Audio;E._unlocked=!0,f._releaseHtml5Audio(E)}catch{f.noAudio=!0;break}for(var C=0;C<f._howls.length;C++)if(!f._howls[C]._webAudio)for(var M=f._howls[C]._getSoundIds(),V=0;V<M.length;V++){var O=f._howls[C]._soundById(M[V]);O&&O._node&&!O._node._unlocked&&(O._node._unlocked=!0,O._node.load())}f._autoResume();var k=f.ctx.createBufferSource();k.buffer=f._scratchBuffer,k.connect(f.ctx.destination),typeof k.start>"u"?k.noteOn(0):k.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),k.onended=function(){k.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",_,!0),document.removeEventListener("touchend",_,!0),document.removeEventListener("click",_,!0),document.removeEventListener("keydown",_,!0);for(var G=0;G<f._howls.length;G++)f._howls[G]._emit("unlock")}};return document.addEventListener("touchstart",_,!0),document.addEventListener("touchend",_,!0),document.addEventListener("click",_,!0),document.addEventListener("keydown",_,!0),f}},_obtainHtml5Audio:function(){var f=this||e;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var _=new Audio().play();return _&&typeof Promise<"u"&&(_ instanceof Promise||typeof _.then=="function")&&_.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var _=this||e;return f._unlocked&&_._html5AudioPool.push(f),_},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!e.usingWebAudio)){for(var _=0;_<f._howls.length;_++)if(f._howls[_]._webAudio){for(var S=0;S<f._howls[_]._sounds.length;S++)if(!f._howls[_]._sounds[S]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var E=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(E,E)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!e.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var _=0;_<f._howls.length;_++)f._howls[_]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var e=new t,r=function(f){var _=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}_.init(f)};r.prototype={init:function(f){var _=this;return e.ctx||x(),_._autoplay=f.autoplay||!1,_._format=typeof f.format!="string"?f.format:[f.format],_._html5=f.html5||!1,_._muted=f.mute||!1,_._loop=f.loop||!1,_._pool=f.pool||5,_._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,_._rate=f.rate||1,_._sprite=f.sprite||{},_._src=typeof f.src!="string"?f.src:[f.src],_._volume=f.volume!==void 0?f.volume:1,_._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},_._duration=0,_._state="unloaded",_._sounds=[],_._endTimers={},_._queue=[],_._playLock=!1,_._onend=f.onend?[{fn:f.onend}]:[],_._onfade=f.onfade?[{fn:f.onfade}]:[],_._onload=f.onload?[{fn:f.onload}]:[],_._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],_._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],_._onpause=f.onpause?[{fn:f.onpause}]:[],_._onplay=f.onplay?[{fn:f.onplay}]:[],_._onstop=f.onstop?[{fn:f.onstop}]:[],_._onmute=f.onmute?[{fn:f.onmute}]:[],_._onvolume=f.onvolume?[{fn:f.onvolume}]:[],_._onrate=f.onrate?[{fn:f.onrate}]:[],_._onseek=f.onseek?[{fn:f.onseek}]:[],_._onunlock=f.onunlock?[{fn:f.onunlock}]:[],_._onresume=[],_._webAudio=e.usingWebAudio&&!_._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(_),_._autoplay&&_._queue.push({event:"play",action:function(){_.play()}}),_._preload&&_._preload!=="none"&&_.load(),_},load:function(){var f=this,_=null;if(e.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var S=0;S<f._src.length;S++){var E,C;if(f._format&&f._format[S])E=f._format[S];else{if(C=f._src[S],typeof C!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}E=/^data:audio\/([^;,]+);/i.exec(C),E||(E=/\.([^.]+)$/.exec(C.split("?",1)[0])),E&&(E=E[1].toLowerCase())}if(E||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),E&&e.codecs(E)){_=f._src[S];break}}if(!_){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=_,f._state="loading",window.location.protocol==="https:"&&_.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new o(f),f._webAudio&&c(f),f},play:function(f,_){var S=this,E=null;if(typeof f=="number")E=f,f=null;else{if(typeof f=="string"&&S._state==="loaded"&&!S._sprite[f])return null;if(typeof f>"u"&&(f="__default",!S._playLock)){for(var C=0,M=0;M<S._sounds.length;M++)S._sounds[M]._paused&&!S._sounds[M]._ended&&(C++,E=S._sounds[M]._id);C===1?f=null:E=null}}var V=E?S._soundById(E):S._inactiveSound();if(!V)return null;if(E&&!f&&(f=V._sprite||"__default"),S._state!=="loaded"){V._sprite=f,V._ended=!1;var O=V._id;return S._queue.push({event:"play",action:function(){S.play(O)}}),O}if(E&&!V._paused)return _||S._loadQueue("play"),V._id;S._webAudio&&e._autoResume();var k=Math.max(0,V._seek>0?V._seek:S._sprite[f][0]/1e3),G=Math.max(0,(S._sprite[f][0]+S._sprite[f][1])/1e3-k),et=G*1e3/Math.abs(V._rate),J=S._sprite[f][0]/1e3,j=(S._sprite[f][0]+S._sprite[f][1])/1e3;V._sprite=f,V._ended=!1;var R=function(){V._paused=!1,V._seek=k,V._start=J,V._stop=j,V._loop=!!(V._loop||S._sprite[f][2])};if(k>=j){S._ended(V);return}var I=V._node;if(S._webAudio){var L=function(){S._playLock=!1,R(),S._refreshBuffer(V);var wt=V._muted||S._muted?0:V._volume;I.gain.setValueAtTime(wt,e.ctx.currentTime),V._playStart=e.ctx.currentTime,typeof I.bufferSource.start>"u"?V._loop?I.bufferSource.noteGrainOn(0,k,86400):I.bufferSource.noteGrainOn(0,k,G):V._loop?I.bufferSource.start(0,k,86400):I.bufferSource.start(0,k,G),et!==1/0&&(S._endTimers[V._id]=setTimeout(S._ended.bind(S,V),et)),_||setTimeout(function(){S._emit("play",V._id),S._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?L():(S._playLock=!0,S.once("resume",L),S._clearTimer(V._id))}else{var B=function(){I.currentTime=k,I.muted=V._muted||S._muted||e._muted||I.muted,I.volume=V._volume*e.volume(),I.playbackRate=V._rate;try{var wt=I.play();if(wt&&typeof Promise<"u"&&(wt instanceof Promise||typeof wt.then=="function")?(S._playLock=!0,R(),wt.then(function(){S._playLock=!1,I._unlocked=!0,_?S._loadQueue():S._emit("play",V._id)}).catch(function(){S._playLock=!1,S._emit("playerror",V._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),V._ended=!0,V._paused=!0})):_||(S._playLock=!1,R(),S._emit("play",V._id)),I.playbackRate=V._rate,I.paused){S._emit("playerror",V._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||V._loop?S._endTimers[V._id]=setTimeout(S._ended.bind(S,V),et):(S._endTimers[V._id]=function(){S._ended(V),I.removeEventListener("ended",S._endTimers[V._id],!1)},I.addEventListener("ended",S._endTimers[V._id],!1))}catch(zt){S._emit("playerror",V._id,zt)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=S._src,I.load());var U=window&&window.ejecta||!I.readyState&&e._navigator.isCocoonJS;if(I.readyState>=3||U)B();else{S._playLock=!0,S._state="loading";var N=function(){S._state="loaded",B(),I.removeEventListener(e._canPlayEvent,N,!1)};I.addEventListener(e._canPlayEvent,N,!1),S._clearTimer(V._id)}}return V._id},pause:function(f){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"pause",action:function(){_.pause(f)}}),_;for(var S=_._getSoundIds(f),E=0;E<S.length;E++){_._clearTimer(S[E]);var C=_._soundById(S[E]);if(C&&!C._paused&&(C._seek=_.seek(S[E]),C._rateSeek=0,C._paused=!0,_._stopFade(S[E]),C._node))if(_._webAudio){if(!C._node.bufferSource)continue;typeof C._node.bufferSource.stop>"u"?C._node.bufferSource.noteOff(0):C._node.bufferSource.stop(0),_._cleanBuffer(C._node)}else(!isNaN(C._node.duration)||C._node.duration===1/0)&&C._node.pause();arguments[1]||_._emit("pause",C?C._id:null)}return _},stop:function(f,_){var S=this;if(S._state!=="loaded"||S._playLock)return S._queue.push({event:"stop",action:function(){S.stop(f)}}),S;for(var E=S._getSoundIds(f),C=0;C<E.length;C++){S._clearTimer(E[C]);var M=S._soundById(E[C]);M&&(M._seek=M._start||0,M._rateSeek=0,M._paused=!0,M._ended=!0,S._stopFade(E[C]),M._node&&(S._webAudio?M._node.bufferSource&&(typeof M._node.bufferSource.stop>"u"?M._node.bufferSource.noteOff(0):M._node.bufferSource.stop(0),S._cleanBuffer(M._node)):(!isNaN(M._node.duration)||M._node.duration===1/0)&&(M._node.currentTime=M._start||0,M._node.pause(),M._node.duration===1/0&&S._clearSound(M._node))),_||S._emit("stop",M._id))}return S},mute:function(f,_){var S=this;if(S._state!=="loaded"||S._playLock)return S._queue.push({event:"mute",action:function(){S.mute(f,_)}}),S;if(typeof _>"u")if(typeof f=="boolean")S._muted=f;else return S._muted;for(var E=S._getSoundIds(_),C=0;C<E.length;C++){var M=S._soundById(E[C]);M&&(M._muted=f,M._interval&&S._stopFade(M._id),S._webAudio&&M._node?M._node.gain.setValueAtTime(f?0:M._volume,e.ctx.currentTime):M._node&&(M._node.muted=e._muted?!0:f),S._emit("mute",M._id))}return S},volume:function(){var f=this,_=arguments,S,E;if(_.length===0)return f._volume;if(_.length===1||_.length===2&&typeof _[1]>"u"){var C=f._getSoundIds(),M=C.indexOf(_[0]);M>=0?E=parseInt(_[0],10):S=parseFloat(_[0])}else _.length>=2&&(S=parseFloat(_[0]),E=parseInt(_[1],10));var V;if(typeof S<"u"&&S>=0&&S<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,_)}}),f;typeof E>"u"&&(f._volume=S),E=f._getSoundIds(E);for(var O=0;O<E.length;O++)V=f._soundById(E[O]),V&&(V._volume=S,_[2]||f._stopFade(E[O]),f._webAudio&&V._node&&!V._muted?V._node.gain.setValueAtTime(S,e.ctx.currentTime):V._node&&!V._muted&&(V._node.volume=S*e.volume()),f._emit("volume",V._id))}else return V=E?f._soundById(E):f._sounds[0],V?V._volume:0;return f},fade:function(f,_,S,E){var C=this;if(C._state!=="loaded"||C._playLock)return C._queue.push({event:"fade",action:function(){C.fade(f,_,S,E)}}),C;f=Math.min(Math.max(0,parseFloat(f)),1),_=Math.min(Math.max(0,parseFloat(_)),1),S=parseFloat(S),C.volume(f,E);for(var M=C._getSoundIds(E),V=0;V<M.length;V++){var O=C._soundById(M[V]);if(O){if(E||C._stopFade(M[V]),C._webAudio&&!O._muted){var k=e.ctx.currentTime,G=k+S/1e3;O._volume=f,O._node.gain.setValueAtTime(f,k),O._node.gain.linearRampToValueAtTime(_,G)}C._startFadeInterval(O,f,_,S,M[V],typeof E>"u")}}return C},_startFadeInterval:function(f,_,S,E,C,M){var V=this,O=_,k=S-_,G=Math.abs(k/.01),et=Math.max(4,G>0?E/G:E),J=Date.now();f._fadeTo=S,f._interval=setInterval(function(){var j=(Date.now()-J)/E;J=Date.now(),O+=k*j,O=Math.round(O*100)/100,k<0?O=Math.max(S,O):O=Math.min(S,O),V._webAudio?f._volume=O:V.volume(O,f._id,!0),M&&(V._volume=O),(S<_&&O<=S||S>_&&O>=S)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,V.volume(S,f._id),V._emit("fade",f._id))},et)},_stopFade:function(f){var _=this,S=_._soundById(f);return S&&S._interval&&(_._webAudio&&S._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(S._interval),S._interval=null,_.volume(S._fadeTo,f),S._fadeTo=null,_._emit("fade",f)),_},loop:function(){var f=this,_=arguments,S,E,C;if(_.length===0)return f._loop;if(_.length===1)if(typeof _[0]=="boolean")S=_[0],f._loop=S;else return C=f._soundById(parseInt(_[0],10)),C?C._loop:!1;else _.length===2&&(S=_[0],E=parseInt(_[1],10));for(var M=f._getSoundIds(E),V=0;V<M.length;V++)C=f._soundById(M[V]),C&&(C._loop=S,f._webAudio&&C._node&&C._node.bufferSource&&(C._node.bufferSource.loop=S,S&&(C._node.bufferSource.loopStart=C._start||0,C._node.bufferSource.loopEnd=C._stop,f.playing(M[V])&&(f.pause(M[V],!0),f.play(M[V],!0)))));return f},rate:function(){var f=this,_=arguments,S,E;if(_.length===0)E=f._sounds[0]._id;else if(_.length===1){var C=f._getSoundIds(),M=C.indexOf(_[0]);M>=0?E=parseInt(_[0],10):S=parseFloat(_[0])}else _.length===2&&(S=parseFloat(_[0]),E=parseInt(_[1],10));var V;if(typeof S=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,_)}}),f;typeof E>"u"&&(f._rate=S),E=f._getSoundIds(E);for(var O=0;O<E.length;O++)if(V=f._soundById(E[O]),V){f.playing(E[O])&&(V._rateSeek=f.seek(E[O]),V._playStart=f._webAudio?e.ctx.currentTime:V._playStart),V._rate=S,f._webAudio&&V._node&&V._node.bufferSource?V._node.bufferSource.playbackRate.setValueAtTime(S,e.ctx.currentTime):V._node&&(V._node.playbackRate=S);var k=f.seek(E[O]),G=(f._sprite[V._sprite][0]+f._sprite[V._sprite][1])/1e3-k,et=G*1e3/Math.abs(V._rate);(f._endTimers[E[O]]||!V._paused)&&(f._clearTimer(E[O]),f._endTimers[E[O]]=setTimeout(f._ended.bind(f,V),et)),f._emit("rate",V._id)}}else return V=f._soundById(E),V?V._rate:f._rate;return f},seek:function(){var f=this,_=arguments,S,E;if(_.length===0)f._sounds.length&&(E=f._sounds[0]._id);else if(_.length===1){var C=f._getSoundIds(),M=C.indexOf(_[0]);M>=0?E=parseInt(_[0],10):f._sounds.length&&(E=f._sounds[0]._id,S=parseFloat(_[0]))}else _.length===2&&(S=parseFloat(_[0]),E=parseInt(_[1],10));if(typeof E>"u")return 0;if(typeof S=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,_)}}),f;var V=f._soundById(E);if(V)if(typeof S=="number"&&S>=0){var O=f.playing(E);O&&f.pause(E,!0),V._seek=S,V._ended=!1,f._clearTimer(E),!f._webAudio&&V._node&&!isNaN(V._node.duration)&&(V._node.currentTime=S);var k=function(){O&&f.play(E,!0),f._emit("seek",E)};if(O&&!f._webAudio){var G=function(){f._playLock?setTimeout(G,0):k()};setTimeout(G,0)}else k()}else if(f._webAudio){var et=f.playing(E)?e.ctx.currentTime-V._playStart:0,J=V._rateSeek?V._rateSeek-V._seek:0;return V._seek+(J+et*Math.abs(V._rate))}else return V._node.currentTime;return f},playing:function(f){var _=this;if(typeof f=="number"){var S=_._soundById(f);return S?!S._paused:!1}for(var E=0;E<_._sounds.length;E++)if(!_._sounds[E]._paused)return!0;return!1},duration:function(f){var _=this,S=_._duration,E=_._soundById(f);return E&&(S=_._sprite[E._sprite][1]/1e3),S},state:function(){return this._state},unload:function(){for(var f=this,_=f._sounds,S=0;S<_.length;S++)_[S]._paused||f.stop(_[S]._id),f._webAudio||(f._clearSound(_[S]._node),_[S]._node.removeEventListener("error",_[S]._errorFn,!1),_[S]._node.removeEventListener(e._canPlayEvent,_[S]._loadFn,!1),_[S]._node.removeEventListener("ended",_[S]._endFn,!1),e._releaseHtml5Audio(_[S]._node)),delete _[S]._node,f._clearTimer(_[S]._id);var E=e._howls.indexOf(f);E>=0&&e._howls.splice(E,1);var C=!0;for(S=0;S<e._howls.length;S++)if(e._howls[S]._src===f._src||f._src.indexOf(e._howls[S]._src)>=0){C=!1;break}return u&&C&&delete u[f._src],e.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,_,S,E){var C=this,M=C["_on"+f];return typeof _=="function"&&M.push(E?{id:S,fn:_,once:E}:{id:S,fn:_}),C},off:function(f,_,S){var E=this,C=E["_on"+f],M=0;if(typeof _=="number"&&(S=_,_=null),_||S)for(M=0;M<C.length;M++){var V=S===C[M].id;if(_===C[M].fn&&V||!_&&V){C.splice(M,1);break}}else if(f)E["_on"+f]=[];else{var O=Object.keys(E);for(M=0;M<O.length;M++)O[M].indexOf("_on")===0&&Array.isArray(E[O[M]])&&(E[O[M]]=[])}return E},once:function(f,_,S){var E=this;return E.on(f,_,S,1),E},_emit:function(f,_,S){for(var E=this,C=E["_on"+f],M=C.length-1;M>=0;M--)(!C[M].id||C[M].id===_||f==="load")&&(setTimeout((function(V){V.call(this,_,S)}).bind(E,C[M].fn),0),C[M].once&&E.off(f,C[M].fn,C[M].id));return E._loadQueue(f),E},_loadQueue:function(f){var _=this;if(_._queue.length>0){var S=_._queue[0];S.event===f&&(_._queue.shift(),_._loadQueue()),f||S.action()}return _},_ended:function(f){var _=this,S=f._sprite;if(!_._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(_._ended.bind(_,f),100),_;var E=!!(f._loop||_._sprite[S][2]);if(_._emit("end",f._id),!_._webAudio&&E&&_.stop(f._id,!0).play(f._id),_._webAudio&&E){_._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=e.ctx.currentTime;var C=(f._stop-f._start)*1e3/Math.abs(f._rate);_._endTimers[f._id]=setTimeout(_._ended.bind(_,f),C)}return _._webAudio&&!E&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,_._clearTimer(f._id),_._cleanBuffer(f._node),e._autoSuspend()),!_._webAudio&&!E&&_.stop(f._id,!0),_},_clearTimer:function(f){var _=this;if(_._endTimers[f]){if(typeof _._endTimers[f]!="function")clearTimeout(_._endTimers[f]);else{var S=_._soundById(f);S&&S._node&&S._node.removeEventListener("ended",_._endTimers[f],!1)}delete _._endTimers[f]}return _},_soundById:function(f){for(var _=this,S=0;S<_._sounds.length;S++)if(f===_._sounds[S]._id)return _._sounds[S];return null},_inactiveSound:function(){var f=this;f._drain();for(var _=0;_<f._sounds.length;_++)if(f._sounds[_]._ended)return f._sounds[_].reset();return new o(f)},_drain:function(){var f=this,_=f._pool,S=0,E=0;if(!(f._sounds.length<_)){for(E=0;E<f._sounds.length;E++)f._sounds[E]._ended&&S++;for(E=f._sounds.length-1;E>=0;E--){if(S<=_)return;f._sounds[E]._ended&&(f._webAudio&&f._sounds[E]._node&&f._sounds[E]._node.disconnect(0),f._sounds.splice(E,1),S--)}}},_getSoundIds:function(f){var _=this;if(typeof f>"u"){for(var S=[],E=0;E<_._sounds.length;E++)S.push(_._sounds[E]._id);return S}else return[f]},_refreshBuffer:function(f){var _=this;return f._node.bufferSource=e.ctx.createBufferSource(),f._node.bufferSource.buffer=u[_._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,e.ctx.currentTime),_},_cleanBuffer:function(f){var _=this,S=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return _;if(e._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),S))try{f.bufferSource.buffer=e._scratchBuffer}catch{}return f.bufferSource=null,_},_clearSound:function(f){var _=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);_||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(f){this._parent=f,this.init()};o.prototype={init:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,_._sounds.push(f),f.create(),f},create:function(){var f=this,_=f._parent,S=e._muted||f._muted||f._parent._muted?0:f._volume;return _._webAudio?(f._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),f._node.gain.setValueAtTime(S,e.ctx.currentTime),f._node.paused=!0,f._node.connect(e.masterGain)):e.noAudio||(f._node=e._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(e._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=_._src,f._node.preload=_._preload===!0?"auto":_._preload,f._node.volume=S*e.volume(),f._node.load()),f},reset:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,_=f._parent;_._duration=Math.ceil(f._node.duration*10)/10,Object.keys(_._sprite).length===0&&(_._sprite={__default:[0,_._duration*1e3]}),_._state!=="loaded"&&(_._state="loaded",_._emit("load"),_._loadQueue()),f._node.removeEventListener(e._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,_=f._parent;_._duration===1/0&&(_._duration=Math.ceil(f._node.duration*10)/10,_._sprite.__default[1]===1/0&&(_._sprite.__default[1]=_._duration*1e3),_._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var u={},c=function(f){var _=f._src;if(u[_]){f._duration=u[_].duration,v(f);return}if(/^data:[^;]+;base64,/.test(_)){for(var S=atob(_.split(",")[1]),E=new Uint8Array(S.length),C=0;C<S.length;++C)E[C]=S.charCodeAt(C);g(E.buffer,f)}else{var M=new XMLHttpRequest;M.open(f._xhr.method,_,!0),M.withCredentials=f._xhr.withCredentials,M.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(V){M.setRequestHeader(V,f._xhr.headers[V])}),M.onload=function(){var V=(M.status+"")[0];if(V!=="0"&&V!=="2"&&V!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+M.status+".");return}g(M.response,f)},M.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete u[_],f.load())},p(M)}},p=function(f){try{f.send()}catch{f.onerror()}},g=function(f,_){var S=function(){_._emit("loaderror",null,"Decoding audio data failed.")},E=function(C){C&&_._sounds.length>0?(u[_._src]=C,v(_,C)):S()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(f).then(E).catch(S):e.ctx.decodeAudioData(f,E,S)},v=function(f,_){_&&!f._duration&&(f._duration=_.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},x=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),_=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),S=_?parseInt(_[1],10):null;if(f&&S&&S<9){var E=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!E&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};i.Howler=e,i.Howl=r,typeof ru<"u"?(ru.HowlerGlobal=t,ru.Howler=e,ru.Howl=r,ru.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=r,window.Sound=o)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(e);return r},HowlerGlobal.prototype.pos=function(e,r,o){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(r=typeof r!="number"?u._pos[1]:r,o=typeof o!="number"?u._pos[2]:o,typeof e=="number")u._pos=[e,r,o],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(e,r,o,u,c,p){var g=this;if(!g.ctx||!g.ctx.listener)return g;var v=g._orientation;if(r=typeof r!="number"?v[1]:r,o=typeof o!="number"?v[2]:o,u=typeof u!="number"?v[3]:u,c=typeof c!="number"?v[4]:c,p=typeof p!="number"?v[5]:p,typeof e=="number")g._orientation=[e,r,o,u,c,p],typeof g.ctx.listener.forwardX<"u"?(g.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),g.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),g.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),g.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),g.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),g.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):g.ctx.listener.setOrientation(e,r,o,u,c,p);else return v;return g},Howl.prototype.init=(function(e){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],e.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(e,r)}}),o;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof e=="number")o._stereo=e,o._pos=[e,0,0];else return o._stereo;for(var c=o._getSoundIds(r),p=0;p<c.length;p++){var g=o._soundById(c[p]);if(g)if(typeof e=="number")g._stereo=e,g._pos=[e,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",(!g._panner||!g._panner.pan)&&t(g,u),u==="spatial"?typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):g._panner.setPosition(e,0,0):g._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",g._id);else return g._stereo}return o},Howl.prototype.pos=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(e,r,o,u)}}),c;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof u>"u")if(typeof e=="number")c._pos=[e,r,o];else return c._pos;for(var p=c._getSoundIds(u),g=0;g<p.length;g++){var v=c._soundById(p[g]);if(v)if(typeof e=="number")v._pos=[e,r,o],v._node&&((!v._panner||v._panner.pan)&&t(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setPosition(e,r,o)),c._emit("pos",v._id);else return v._pos}return c},Howl.prototype.orientation=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(e,r,o,u)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,o=typeof o!="number"?c._orientation[2]:o,typeof u>"u")if(typeof e=="number")c._orientation=[e,r,o];else return c._orientation;for(var p=c._getSoundIds(u),g=0;g<p.length;g++){var v=c._soundById(p[g]);if(v)if(typeof e=="number")v._orientation=[e,r,o],v._node&&(v._panner||(v._pos||(v._pos=c._pos||[0,0,-.5]),t(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setOrientation(e,r,o)),c._emit("orientation",v._id);else return v._orientation}return c},Howl.prototype.pannerAttr=function(){var e=this,r=arguments,o,u,c;if(!e._webAudio)return e;if(r.length===0)return e._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof u>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),e._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:e._panningModel});else return c=e._soundById(parseInt(r[0],10)),c?c._pannerAttr:e._pannerAttr;else r.length===2&&(o=r[0],u=parseInt(r[1],10));for(var p=e._getSoundIds(u),g=0;g<p.length;g++)if(c=e._soundById(p[g]),c){var v=c._pannerAttr;v={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:v.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:v.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:v.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:v.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:v.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:v.panningModel};var x=c._panner;x||(c._pos||(c._pos=e._pos||[0,0,-.5]),t(c,"spatial"),x=c._panner),x.coneInnerAngle=v.coneInnerAngle,x.coneOuterAngle=v.coneOuterAngle,x.coneOuterGain=v.coneOuterGain,x.distanceModel=v.distanceModel,x.maxDistance=v.maxDistance,x.refDistance=v.refDistance,x.rolloffFactor=v.rolloffFactor,x.panningModel=v.panningModel}return e},Sound.prototype.init=(function(e){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,e.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),e.call(this)}})(Sound.prototype.reset);var t=function(e,r){r=r||"spatial",r==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})(Sm)),Sm}var Of=WO();class KO{constructor(){this.sounds={bgm:new Of.Howl({src:["/sounds/casino_ambience.mp3"],loop:!0,volume:.3,onloaderror:()=>{}}),chip:new Of.Howl({src:["/sounds/chip_place.mp3"],volume:.6,onloaderror:()=>{}}),deal:new Of.Howl({src:["/sounds/card_deal.mp3"],volume:.7,onloaderror:()=>{}}),shuffle:new Of.Howl({src:["/sounds/shuffle.mp3"],volume:.8,onloaderror:()=>{}})}}speak(t){if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t);e.lang="ko-KR",e.rate=1.1,e.pitch=1.2,e.volume=1,window.speechSynthesis.speak(e)}play(t){t==="voice_win"?this.speak("     ?"):t==="voice_lose"?this.speak("   ..   ?     ?"):t==="voice_side"?this.speak("   "):this.sounds[t]&&this.sounds[t].play()}}const Ro=new KO,XO=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],$O=["S","H","D","C"],ZO=i=>["10","J","Q","K"].includes(i)?0:i==="A"?1:parseInt(i),Nf=i=>i.reduce((e,r)=>e+r.val,0)%10,JO=i=>{var t=Math.sin(i++)*1e4;return t-Math.floor(t)},nT=i=>{let t=[i(),i()],e=[i(),i()],r=Nf(t),o=Nf(e);if(r>=8||o>=8)return{pHand:t,bHand:e,pScore:r,bScore:o};let u=null;r<=5&&(u=i(),t.push(u),r=Nf(t));let c=!1;if(u===null)o<=5&&(c=!0);else{const p=u.val;(o<=2||o===3&&p!==8||o===4&&[2,3,4,5,6,7].includes(p)||o===5&&[4,5,6,7].includes(p)||o===6&&[6,7].includes(p))&&(c=!0)}return c&&(e.push(i()),o=Nf(e)),{pHand:t,bHand:e,pScore:r,bScore:o}},zi={getCurrentRoundInfo:()=>{const t=new Date("2025-01-01T00:00:00Z").getTime(),e=1e4,o=Date.now()-t,u=e+Math.floor(o/(60*1e3)),c=60*1e3-o%(60*1e3),p=Math.floor(c/1e3);return{round:u,timeLeft:p,isDrawingPhase:p<=20}},shuffleDeck:(i=null)=>{let t=[];for(let e=0;e<8;e++)$O.forEach(r=>{XO.forEach(o=>{t.push({rank:o,suit:r,val:ZO(o)})})});for(let e=t.length-1;e>0;e--){const r=i?JO(i+e):Math.random(),o=Math.floor(r*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t},generateBaccaratResult:(i=null)=>{let t,e,r=0;do{const o=zi.shuffleDeck();let u=0;if(t=nT(()=>o[u++]),t.pScore>t.bScore?e="PLAYER":t.bScore>t.pScore?e="BANKER":e="TIE",r++,!i)break}while(e!==i&&r<500);return{...t,result:e}},generateDeterministicResult:i=>{const t=zi.shuffleDeck(i);let e=0;const o=nT(()=>t[e++]);let u="TIE";o.pScore>o.bScore?u="PLAYER":o.bScore>o.pScore&&(u="BANKER");const c=o.pHand[0].rank===o.pHand[1].rank,p=o.bHand[0].rank===o.bHand[1].rank,f=new Date("2025-01-01T00:00:00Z").getTime()+(i-1e4)*60*1e3,_=new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{...o,result:u,isPP:c,isBP:p,round:i,date:_}},getPastHistory:i=>{const t=[];for(let e=i-1;e>=i-72;e--)t.push(zi.generateDeterministicResult(e));return t},generateBigRoad:i=>{if(!i||!Array.isArray(i))return[];const t=[...i].sort((u,c)=>u.round-c.round),e=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(e.push(r),r=[c],o=c))}),r.length>0&&e.push(r),e.slice(-25)},generateBeadRoad:i=>i?[...i].sort((t,e)=>t.round-e.round).slice(-72):[],calculateStats:i=>{if(!i||!Array.isArray(i))return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=i.filter(c=>c.result),e=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:e,b:r,t:o,total:u,pRate:Math.round(e/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function tN(i,t,e,r){const o=q.useRef(!1),u=q.useRef(null),c=q.useRef(t),p=q.useRef(null),g=q.useRef(0);q.useEffect(()=>{c.current=t},[t]);const v=H=>{try{const nt=localStorage.getItem(H);if(!nt)return[];const W=JSON.parse(nt);return Array.isArray(W)?W.filter(ht=>ht&&typeof ht.result=="string"):[]}catch{return[]}},[x,f]=q.useState([]),[_,S]=q.useState(()=>v(`event_my_history_${i?.id}`)),[E,C]=q.useState(0),[M,V]=q.useState(0),[O,k]=q.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,squeezeTarget:null}),[G,et]=q.useState(null),[J,j]=q.useState(null),[R,I]=q.useState("   !"),L=q.useCallback(H=>{e&&(e(H),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[e,r]),B=H=>{p.current=H,et(H),H?localStorage.setItem(`pending_bet_${i?.id}`,JSON.stringify(H)):localStorage.removeItem(`pending_bet_${i?.id}`)};q.useEffect(()=>{(()=>{const{round:nt}=zi.getCurrentRoundInfo(),W=v("event_total_history");if(W.length===0||W[0]&&W[0].round<nt-2){const ht=zi.getPastHistory(nt);f(ht),localStorage.setItem("event_total_history",JSON.stringify(ht))}else f(W)})()},[]);const U=H=>{V(5);const nt=setInterval(()=>{V(W=>Math.max(0,W-1))},1e3);return u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{clearInterval(nt),H()},5e3),nt},N=q.useCallback(async H=>{if(o.current)return;o.current=!0,k(Q=>({...Q,isDrawing:!0,timeLeft:0})),Ro.play("draw");let nt=null;try{const Q=await wr(en(se,"event_manipulation",String(H)));Q.exists()&&(nt=Q.data().winner)}catch{}const W=zi.generateBaccaratResult(nt)||zi.generateDeterministicResult(H),ht=p.current;let P=null;if(ht&&ht.bets){const Q=ht.bets.PLAYER||0,rt=ht.bets.BANKER||0;(Q>0||rt>0)&&(P=Q>=rt?"PLAYER":"BANKER")}k(Q=>({...Q,gameResult:W,squeezeTarget:P})),setTimeout(()=>{C(1),setTimeout(()=>{P?(C(2),U(()=>wt(H,W,ht,P))):wt(H,W,ht,P)},1500)},500)},[i?.id]),wt=(H,nt,W,ht)=>{u.current&&clearTimeout(u.current),C(3);const P=(nt.pHand[0].val+nt.pHand[1].val)%10,Q=(nt.bHand[0].val+nt.bHand[1].val)%10,rt=P>=8||Q>=8,pt=nt.pHand.length>2||nt.bHand.length>2;setTimeout(()=>{!rt&&pt?(C(4),Ro.play("draw"),setTimeout(()=>{ht?(C(5),U(()=>K(H,nt,W))):K(H,nt,W)},1500)):K(H,nt,W)},1500)},zt=()=>{u.current&&clearTimeout(u.current),E===2?wt(O.round,O.gameResult,p.current,O.squeezeTarget):E===5&&K(O.round,O.gameResult,p.current)},K=(H,nt,W)=>{C(6);const{result:ht,pHand:P,bHand:Q}=nt,rt=P[0].rank===P[1].rank,pt=Q[0].rank===Q[1].rank,gt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(f(mt=>{const vt={round:H,result:ht,isPP:rt,isBP:pt,date:gt};if(mt.length>0&&mt[0].round===H)return mt;const jt=[vt,...mt].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(jt)),jt}),W&&W.round===H){const{bets:mt,totalCost:vt}=W;let jt=0,qt=!1;if(mt&&Object.entries(mt).forEach(([fe,be])=>{fe==="PLAYER"&&ht==="PLAYER"&&(jt+=Math.floor(be*2)),fe==="BANKER"&&ht==="BANKER"&&(jt+=Math.floor(be*1.95)),fe==="TIE"&&ht==="TIE"&&(jt+=Math.floor(be*9),qt=!0),fe==="P_PAIR"&&rt&&(jt+=Math.floor(be*12),qt=!0),fe==="B_PAIR"&&pt&&(jt+=Math.floor(be*12),qt=!0),ht==="TIE"&&(fe==="PLAYER"||fe==="BANKER")&&(jt+=be)}),jt>vt){qt?Ro.play("voice_side"):Ro.play("voice_win");const fe=c.current+jt;if(L(fe),i&&i.id)try{Bs(en(se,"users",i.id),{diamond:fe})}catch(be){console.error("DB Save Error",be)}}else Ro.play("voice_lose");j({totalEarn:jt,totalCost:vt,result:ht,isPP:rt,isBP:pt}),S(fe=>{const be=[{round:H,bets:mt,result:ht,isPP:rt,isBP:pt,earn:jt,cost:vt,date:gt},...fe].slice(0,50);return localStorage.setItem(`event_my_history_${i?.id}`,JSON.stringify(be)),be})}setTimeout(()=>{B(null),k(mt=>({...mt,gameResult:null,isDrawing:!1})),C(0),o.current=!1},4e3)};return q.useEffect(()=>{const nt=setInterval(()=>{const{round:W,timeLeft:ht,isDrawingPhase:P}=zi.getCurrentRoundInfo();g.current!==0&&W>g.current&&!o.current&&N(g.current),g.current=W,o.current||k(Q=>({...Q,round:W,timeLeft:ht,isDrawing:P}))},1e3);return()=>clearInterval(nt)},[N]),{gameState:O,gameStep:E,squeezeTime:M,onSqueezeComplete:zt,totalHistory:x,myHistory:_,myPendingBet:G,setMyPendingBet:B,showResult:J,setShowResult:j,liveNoti:R,updatePointWithAnim:L}}const iT=({type:i,value:t})=>{const e=i||"",r=e.includes("PLAYER")||e==="P_PAIR"?"#4d94ff":e.includes("BANKER")||e==="B_PAIR"?"#ff4d4d":"#00e676",o=t>=1e3?`${t/1e3}k`:t;return y.jsx(zn.div,{initial:{scale:2,opacity:0,y:-50,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},style:{width:"42px",height:"42px",borderRadius:"50%",border:"3px dashed #fff",backgroundColor:r,boxShadow:"0 4px 10px rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:50,bottom:"15px",right:"15px"},children:y.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"900",color:"#fff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:o})},t)},Pf=({rank:i,suit:t,index:e,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t]||"?",p=r?300:-300;return y.jsxs(zn.div,{initial:{x:p,y:-400,scale:.5,rotateY:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:e*.2,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"50px",height:"75px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"22px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&y.jsxs(y.Fragment,{children:[y.jsx("span",{style:{fontSize:"12px",position:"absolute",top:"2px",left:"4px"},children:i}),y.jsx("span",{style:{fontSize:"28px"},children:c}),y.jsx("span",{style:{fontSize:"12px",position:"absolute",bottom:"2px",right:"4px",transform:"rotate(180deg)"},children:i})]}),o&&y.jsx("div",{style:{width:"36px",height:"60px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},sT=({cards:i,targetName:t,onComplete:e,timeLeft:r})=>{const[o,u]=q.useState((i||[]).map(()=>!1)),c=(p,g)=>{if(g.offset.y>100){const v=[...o];v[p]=!0,u(v),v.every(x=>x===!0)&&setTimeout(e,500)}};return!i||i.length===0?null:y.jsxs(zn.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[y.jsxs("h2",{style:{color:"#fff",fontSize:"24px",marginBottom:"30px",fontWeight:"900",letterSpacing:"2px"},children:[y.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),y.jsx("div",{style:{display:"flex",gap:"30px"},children:i.map((p,g)=>y.jsxs("div",{style:{position:"relative",width:"140px",height:"210px"},children:[y.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:p.suit==="H"||p.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[y.jsx("div",{children:p.suit==="S"?"":p.suit==="H"?"":p.suit==="D"?"":""}),y.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:p.rank})]}),y.jsx(zn.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,onDragEnd:(v,x)=>c(g,x),animate:o[g]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:y.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},g))}),y.jsxs("div",{style:{marginTop:"30px",color:r<=3?"#ff3b30":"#ffd700",fontSize:"16px",fontWeight:"bold",animation:"pulse 1s infinite"},children:["AUTO OPEN IN ",r,"s"]}),y.jsx("style",{children:"@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }"})]})},eN=({round:i,timeLeft:t,isDrawing:e,gameResult:r,gameStep:o,isSqueezing:u})=>y.jsxs(zn.div,{style:{...Io.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden",position:"relative"},children:[y.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),y.jsxs("div",{style:{...Io.bannerContent,zIndex:10},children:[y.jsxs("div",{style:Io.bannerTop,children:[y.jsx("div",{style:{...Io.liveBadge,background:e?"#ff3b30":"#00e676",color:"#fff"},children:e?"DEALING":"BETTING OPEN"}),y.jsxs("span",{style:{...Io.roundInfo,color:"#8fbc8f",marginLeft:"8px"},children:["Rd. ",i]})]}),y.jsx("div",{style:{...Io.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:e&&r?y.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.pHand?.slice(0,2).map((c,p)=>y.jsx(Pf,{...c,index:p,isPlayer:!0,hidden:o<3},`p-${p}`)),o>=4&&r.pHand?.[2]&&y.jsx(Pf,{...r.pHand[2],index:2,isPlayer:!0,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(zn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),y.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.bHand?.slice(0,2).map((c,p)=>y.jsx(Pf,{...c,index:p+.2,isPlayer:!1,hidden:o<3},`b-${p}`)),o>=4&&r.bHand?.[2]&&y.jsx(Pf,{...r.bHand[2],index:2.2,isPlayer:!1,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(zn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):y.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:y.jsx("h2",{style:{fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace",fontWeight:"900"},children:t})})})]})]}),nN=({beadRoad:i,bigRoad:t,stats:e})=>y.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[y.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[y.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",e?.p||0," (",e?.pRate||0,"%)"]}),y.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",e?.b||0," (",e?.bRate||0,"%)"]}),y.jsxs("div",{style:{color:"#00e676"},children:["T: ",e?.t||0," (",e?.tRate||0,"%)"]}),y.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",e?.total||0]})]}),y.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[y.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:Array.isArray(t)&&t.map((r,o)=>y.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>y.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},`res-${o}-${c}`))},`col-${o}`))}),y.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=Array.isArray(i)?i[i.length-36+o]:null;return y.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&u.result&&y.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},`bead-${o}`)})})]})]}),Io={eventBanner:{borderRadius:"28px",padding:"20px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"220px"},bannerContent:{position:"relative",width:"100%",height:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},liveBadge:{fontSize:"10px",fontWeight:"900",padding:"4px 10px",borderRadius:"4px"},roundInfo:{fontSize:"12px"},timerDisplay:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},rT=[{id:"P_PAIR",name:"P.PAIR",label:"x11",color:"#4d94ff",type:"sub",desc:" "},{id:"TIE",name:"TIE",label:"x9",color:"#00e676",type:"sub",desc:""},{id:"B_PAIR",name:"B.PAIR",label:"x11",color:"#ff4d4d",type:"sub",desc:" "},{id:"PLAYER",name:"PLAYER",label:"x2.0",color:"#4d94ff",type:"main",desc:" "},{id:"BANKER",name:"BANKER",label:"x1.95",color:"#ff4d4d",type:"main",desc:" "}];function sw({user:i,userPoint:t=0,confirmedImage:e,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const p=QO(),[g,v]=q.useState(t),x=q.useRef(null),{gameState:f,gameStep:_,squeezeTime:S,onSqueezeComplete:E,totalHistory:C,myHistory:M,myPendingBet:V,setMyPendingBet:O,showResult:k,setShowResult:G,liveNoti:et,updatePointWithAnim:J}=tN(i,t,u,p),j=q.useMemo(()=>({bigRoad:zi.generateBigRoad(C),beadRoad:zi.generateBeadRoad(C),stats:zi.calculateStats(C)}),[C]),[R,I]=q.useState({}),[L,B]=q.useState(""),[U,N]=q.useState("mine");q.useEffect(()=>{v(t)},[t]),q.useEffect(()=>{const W=ht=>{i&&ht.detail&&ht.detail.userId===i.id&&(v(ht.detail.point),J(ht.detail.point))};return window.addEventListener("user_point_update",W),()=>window.removeEventListener("user_point_update",W)},[i,J]),q.useEffect(()=>{(!i||i.isGuest)&&o&&o()},[i,o]);const wt=q.useMemo(()=>{if(e)return e;const W=r||0;return`https://api.dicebear.com/7.x/${["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"][W]}/svg?seed=${i?.id}_${W}&backgroundColor=2a2a2e`},[e,r,i?.id]),zt=W=>{if(f.timeLeft<=0)return alert("  .");const ht=parseInt(L);if(!ht||ht<=0)return alert(" () .");const P=Object.values(R).reduce((Q,rt)=>Q+rt,0);if(ht+P>g)return alert("  .");I(Q=>({...Q,[W]:(Q[W]||0)+ht}))},K=async()=>{const W=Object.values(R).reduce((gt,mt)=>gt+mt,0);if(W===0)return alert("    .");const ht=g-W;v(ht),J(ht);const P=V?V.bets:{},Q=V?V.totalCost:0,rt={...P};Object.entries(R).forEach(([gt,mt])=>{rt[gt]=(rt[gt]||0)+mt});const pt=Q+W;O({round:f.round,bets:rt,totalCost:pt});try{await ju(Bn(se,"event_bets"),{round:f.round,userId:i.id,betAmount:W,bets:R,timestamp:new Date().toISOString()})}catch(gt){console.error("Firebase Error",gt)}I({})},H=()=>{if(!V)return;const W=g+V.totalCost;v(W),J(W),O(null),I({})},nt=()=>I({});return y.jsxs("div",{style:Mt.screenContainer,children:[y.jsxs("div",{style:Mt.fixedHeader,children:[y.jsxs("div",{style:Mt.navLeft,onClick:o,children:[y.jsx("span",{style:Mt.backBtn,children:""}),y.jsx("span",{style:Mt.navTitle,children:"ROYAL BACCARAT"})]}),y.jsxs("div",{style:Mt.navRight,children:[y.jsxs(zn.div,{animate:p,style:Mt.pointBadge,children:[y.jsx("span",{style:Mt.coinIcon,children:""}),y.jsx("span",{style:Mt.headerPoint,children:g.toLocaleString()})]}),y.jsx("div",{style:Mt.profileCircle,children:y.jsx("img",{src:wt,alt:"profile",style:Mt.profileImg})})]})]}),y.jsxs("div",{style:Mt.scrollBody,ref:x,children:[y.jsx("div",{style:Mt.liveTicker,children:y.jsxs(zn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:Mt.tickerText,children:[" ",et]},et)}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx(eN,{round:f.round,timeLeft:f.timeLeft,isDrawing:f.isDrawing,gameResult:f.gameResult,gameStep:_,isSqueezing:f.isSqueezing}),y.jsx(hm,{children:f.gameResult&&(_===2&&y.jsx(sT,{targetName:f.squeezeTarget,cards:f.squeezeTarget==="PLAYER"?f.gameResult.pHand.slice(0,2):f.gameResult.bHand.slice(0,2),onComplete:E,timeLeft:S})||_===5&&y.jsx(sT,{targetName:f.squeezeTarget,cards:[f.squeezeTarget==="PLAYER"?f.gameResult.pHand[2]:f.gameResult.bHand[2]],onComplete:E,timeLeft:S}))})]}),y.jsx(nN,{...j}),y.jsxs("div",{style:Mt.sectionLabel,children:[y.jsx("span",{style:Mt.labelBar})," MULTI BETTING ZONE"]}),y.jsxs("div",{style:Mt.baccaratGrid,children:[y.jsx("div",{style:Mt.rowTop,children:rT.filter(W=>W.type==="sub").map(W=>{const ht=V?.bets?.[W.id]||0,P=R[W.id]||0,Q=ht+P,rt=Q>0;return y.jsxs(zn.div,{whileTap:{scale:.95},onClick:()=>zt(W.id),style:{...Mt.zoneCardSmall,border:rt?`2px solid ${W.color}`:"1px solid #333",background:rt?`linear-gradient(180deg, ${W.color}22, #111)`:"#161616",opacity:1},children:[y.jsx("div",{style:{color:W.color,fontSize:"13px",fontWeight:"900"},children:W.name}),y.jsx("div",{style:{color:"#fff",fontSize:"10px",marginTop:"2px"},children:W.label}),rt&&y.jsx("div",{style:{marginTop:"5px",background:W.color,color:"#fff",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px",zIndex:10,position:"relative"},children:Q.toLocaleString()}),rt&&y.jsx(iT,{type:W.id,value:Q})]},W.id)})}),y.jsx("div",{style:Mt.rowBottom,children:rT.filter(W=>W.type==="main").map(W=>{const ht=V?.bets?.[W.id]||0,P=R[W.id]||0,Q=ht+P,rt=Q>0;return y.jsxs(zn.div,{whileTap:{scale:.95},onClick:()=>zt(W.id),style:{...Mt.zoneCardBig,border:rt?`2px solid ${W.color}`:"1px solid #333",background:rt?`linear-gradient(180deg, ${W.color}22, #111)`:"#161616",opacity:1},children:[y.jsx("div",{style:{color:W.color,fontSize:"28px",fontWeight:"900"},children:W.name[0]}),y.jsx("div",{style:{color:W.color,fontSize:"14px",fontWeight:"bold",marginTop:"-5px"},children:W.name}),rt?y.jsx("div",{style:{marginTop:"8px",background:W.color,color:"#fff",fontSize:"14px",fontWeight:"bold",padding:"4px 12px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)",zIndex:10,position:"relative"},children:Q.toLocaleString()}):y.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"5px"},children:W.desc}),rt&&y.jsx(iT,{type:W.id,value:Q})]},W.id)})})]}),y.jsxs("div",{style:Mt.tabSection,children:[y.jsxs("div",{style:Mt.tabHeader,children:[y.jsx("button",{style:{...Mt.tabBtn,color:U==="mine"?"#fff":"#666",borderBottom:U==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>N("mine"),children:" "}),y.jsx("button",{style:{...Mt.tabBtn,color:U==="total"?"#fff":"#666",borderBottom:U==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>N("total"),children:""})]}),y.jsxs("div",{style:Mt.tabContent,children:[U==="mine"&&M.slice(0,30).map((W,ht)=>{const P=W.earn-W.cost,Q=W.earn===W.cost&&W.earn>0,rt=W.bets?Object.entries(W.bets).map(([pt,gt])=>`${pt.substring(0,1)}:${gt/1e3}k`).join(" "):W.picks?W.picks.join(" "):W.pick;return y.jsxs("div",{style:{...Mt.histItem,flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"12px",color:"#666"},children:[y.jsxs("span",{style:Mt.histRound,children:["No. ",W.round]}),y.jsx("span",{style:Mt.histDate,children:W.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[y.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Bet: ",y.jsx("b",{style:{color:"#fff"},children:rt})]}),y.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Res: ",y.jsxs("b",{style:{color:"#fff"},children:[W.result," ",W.isPP&&"(PP)"," ",W.isBP&&"(BP)"]})]})]}),y.jsx("div",{style:Mt.histRight,children:y.jsx("div",{style:{...Mt.histEarn,color:P>0?"#34D399":Q?"#fff":"#FB7185"},children:P>0?`+${P.toLocaleString()}`:Q?"REFUND":`-${W.cost.toLocaleString()}`})})]})]},`my-${ht}`)}),U==="total"&&C.slice(0,30).map((W,ht)=>y.jsxs("div",{style:Mt.histItem,children:[y.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[W.round,""]}),y.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:W.result==="PLAYER"?"#4d94ff":W.result==="BANKER"?"#ff4d4d":"#00e676"},children:[W.result," ",W.isPP&&y.jsx("small",{style:{color:"#4d94ff",fontSize:"9px"},children:"PP"})," ",W.isBP&&y.jsx("small",{style:{color:"#ff4d4d",fontSize:"9px"},children:"BP"})]})]},`tot-${ht}`)),(U==="mine"?M:C).length===0&&y.jsx("div",{style:Mt.emptyText,children:" ."})]})]})]}),y.jsx(hm,{children:y.jsxs(zn.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:Mt.bottomPanel,children:[(V||Object.keys(R).length>0)&&y.jsxs("div",{style:Mt.statusHeader,children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("span",{style:{fontSize:"12px",color:"#aaa"},children:" :"}),y.jsxs("b",{style:{color:"#fff",fontSize:"14px"},children:[((V?.totalCost||0)+Object.values(R).reduce((W,ht)=>W+ht,0)).toLocaleString()," DIA"]})]}),V&&f.timeLeft>10&&y.jsx("button",{onClick:H,style:Mt.cancelBtnSmall,children:" "})]}),y.jsxs("div",{style:{marginTop:"10px"},children:[y.jsxs("div",{style:Mt.amountPresets,children:[["1000","5000","10000","50000"].map(W=>y.jsxs("button",{onClick:()=>B(W),style:{...Mt.presetBtn,color:L===W?"#ffd700":"#fff",border:L===W?"1px solid #ffd700":"none"},children:[parseInt(W)/1e3,"k"]},W)),y.jsx("button",{onClick:nt,style:{...Mt.presetBtn,color:"#ff3b30"},children:"Reset"})]}),y.jsxs("div",{style:Mt.betInputGroup,children:[y.jsx("input",{type:"number",value:L,onChange:W=>B(W.target.value),style:Mt.mainInput,placeholder:"    "}),y.jsx("button",{style:Mt.finalBtn,onClick:K,disabled:Object.keys(R).length===0,children:Object.keys(R).length>0?"CONFIRM":"CHOOSE CHIP"})]})]})]})}),y.jsx(hm,{children:k&&y.jsx(zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:Mt.modalOverlay,onClick:()=>G(null),children:y.jsxs(zn.div,{initial:{scale:.8},animate:{scale:1},style:Mt.modalCard,onClick:W=>W.stopPropagation(),children:[y.jsx("div",{style:{...Mt.modalTitle,color:k.totalEarn>k.totalCost?"#ffd700":k.totalEarn===k.totalCost?"#fff":"#FB7185",fontSize:"32px",marginBottom:"10px"},children:k.totalEarn>k.totalCost?"WIN!":k.totalEarn===k.totalCost?"DRAW":"LOSE"}),y.jsxs("div",{style:{fontSize:"20px",margin:"20px 0",fontWeight:"bold",color:"#fff"},children:[k.result," WIN",y.jsxs("div",{style:{fontSize:"12px",marginTop:"5px",color:"#aaa"},children:[k.isPP&&y.jsx("span",{style:{color:"#4d94ff",marginRight:"5px"},children:"Player Pair!"}),k.isBP&&y.jsx("span",{style:{color:"#ff4d4d"},children:"Banker Pair!"})]})]}),y.jsxs("div",{style:Mt.modalInfoBox,children:[y.jsxs("div",{children:["Bet: ",k.totalCost.toLocaleString()]}),y.jsxs("div",{children:["Win: ",k.totalEarn.toLocaleString()]})]}),y.jsxs("div",{style:{...Mt.modalAmount,color:k.totalEarn>k.totalCost?"#34D399":"#fff"},children:[k.totalEarn>k.totalCost?"+":"",(k.totalEarn-k.totalCost).toLocaleString()," DIA"]}),y.jsx("button",{style:Mt.modalCloseBtn,onClick:()=>G(null),children:"CLOSE"})]})})})]})}const Mt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:999,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",pointerEvents:"auto"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"25px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},baccaratGrid:{display:"flex",flexDirection:"column",gap:"10px"},rowTop:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",height:"90px"},rowBottom:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",height:"150px"},zoneCardSmall:{borderRadius:"14px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},zoneCardBig:{borderRadius:"18px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDate:{fontSize:"11px",color:"#444"},histRight:{textAlign:"right"},histEarn:{fontSize:"15px",fontWeight:"900"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"fixed",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},statusHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"15px",borderBottom:"1px solid #333",marginBottom:"15px"},cancelBtnSmall:{background:"#ff3b30",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"bold"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"24px",fontWeight:"900"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"13px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},ut={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},md=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],rw=(i,t)=>{const e=i>=0&&i<md.length?i:0;return`https://api.dicebear.com/7.x/${md[e]}/svg?seed=${t}_${e}&backgroundColor=2a2a2e`},iN=(i=0)=>i>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:i>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:i/1e6*100}:i>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:i/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:i/1e5*100},sN=({userId:i,tempSelectedIdx:t,tempUploadedImg:e,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:p})=>{const g=q.useRef(null);return y.jsxs("div",{style:ut.avatarPicker,children:[y.jsxs("div",{style:ut.pickerHeader,children:[y.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:p,style:ut.randomBtn,children:" "}),y.jsx("button",{onClick:u,style:ut.closeBtn,children:""})]})]}),y.jsx("div",{style:ut.charGrid,children:md.map((v,x)=>y.jsx("div",{onClick:()=>{o(null),r(x)},style:{...ut.pickerItem,border:t===x&&!e?"2px solid #D4AF37":"1px solid #333"},children:y.jsx("img",{src:rw(x,i),alt:"char",style:{width:"85%"}})},x))}),y.jsx("input",{type:"file",accept:"image/*",ref:g,onChange:v=>{const x=v.target.files[0];if(x){const f=new FileReader;f.onloadend=()=>{o(f.result),r(-1)},f.readAsDataURL(x)}},style:{display:"none"}}),y.jsx("button",{onClick:()=>g.current.click(),style:ut.uploadBtn,children:"   "}),y.jsx("button",{onClick:c,style:ut.applyBtn,children:""})]})},aT=new BroadcastChannel("daisy_global_channel"),rN=(i,t,e)=>{const[r,o]=q.useState(i||null),[u,c]=q.useState(()=>{if(!i)return!1;const O=new Date().toDateString();return localStorage.getItem(`last_checkin_${i.id}`)===O}),[p,g]=q.useState([]),[v,x]=q.useState([]);q.useEffect(()=>{i&&o(i)},[i]),q.useEffect(()=>{const O=(G,et)=>{o(J=>J&&J.id===G?{...J,diamond:et}:J)},k=G=>{const{userId:et,point:J}=G.detail||{};et&&O(et,J)};return window.addEventListener("user_point_update",k),aT.onmessage=G=>{const{type:et,userId:J,point:j}=G.data||{};et==="POINT_UPDATE"&&J&&O(J,j)},()=>window.removeEventListener("user_point_update",k)},[]),q.useEffect(()=>{if(!r?.id)return;const O=wa(Bn(se,"deposit_requests"),nm("userId","==",r.id)),k=wa(Bn(se,"withdraw_requests"),nm("userId","==",r.id)),G=wa(Bn(se,"finance_history"),nm("userId","==",r.id));let et=[],J=[],j=[];const R=()=>{const U=j.filter(K=>K.type==="").map(K=>({...K,status:""})),N=[...et,...U].sort((K,H)=>new Date(H.timestamp||H.completedAt)-new Date(K.timestamp||K.completedAt));g(N);const wt=j.filter(K=>K.type==="").map(K=>({...K,status:""})),zt=[...J,...wt].sort((K,H)=>new Date(H.timestamp||H.completedAt)-new Date(K.timestamp||K.completedAt));x(zt)},I=cs(O,U=>{et=U.docs.map(N=>({id:N.id,...N.data(),status:""})),R()}),L=cs(k,U=>{J=U.docs.map(N=>({id:N.id,...N.data(),status:""})),R()}),B=cs(G,U=>{j=U.docs.map(N=>({id:N.id,...N.data()})),R()});return()=>{I(),L(),B()}},[r?.id]);const f=q.useCallback(O=>{window.speechSynthesis.cancel();const k=new SpeechSynthesisUtterance(O),G=window.speechSynthesis.getVoices(),et=G.find(J=>J.lang.includes("ko")&&J.name.includes("Google"))||G.find(J=>J.lang.includes("ko")&&(J.name.includes("Female")||J.name.includes("")))||G.find(J=>J.lang.includes("ko"));et&&(k.voice=et),k.lang=e?"ko-KR":"en-US",k.rate=1.1,k.pitch=1,window.speechSynthesis.speak(k)},[e]);return{userInfo:r,isCheckedIn:u,myDeposits:p,myWithdraws:v,handleDailyCheckIn:async()=>{if(!u)try{const O=en(se,"settings","global"),k=await wr(O);if(!k.exists())throw new Error("Database Error");const G=k.data().users||[],et=Math.floor(Math.random()*1901)+100;let J=0;const j=G.map(I=>I.id===r.id?(J=(I.diamond||0)+et,{...I,diamond:J}):I);await Bs(O,{users:j}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(I=>({...I,diamond:J})),t&&t(J),aT.postMessage({type:"POINT_UPDATE",userId:r.id,point:J});const R=e?`  ${et}  .`:`Daily bonus ${et} diamonds paid.`;f(R),alert(e?`! ${et.toLocaleString()} DIA .`:`Congrats! ${et.toLocaleString()} DIA paid.`)}catch(O){console.error(O);const k=1e3;o(G=>({...G,diamond:(G.diamond||0)+k})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(e?`( ) ${k} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(O,k)=>{if(!O.trim()||!k)return alert(e?" .":"Enter info.");try{return await ju(Bn(se,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:O,amount:Number(k),status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Deposit requested."),alert(e?" !":"Done!"),!0}catch(G){return alert("Error: "+G.message),!1}},requestWithdraw:async(O,k,G)=>{const et=localStorage.getItem(`user_pin_${r.id}`);if(G!==et)return alert(e?" ":"PIN mismatch");if(Number(O)>r.diamond)return alert(e?" ":"Not enough balance");try{return await ju(Bn(se,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(O),bankInfo:k,status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Withdrawal requested."),alert(e?" !":"Done!"),!0}catch(J){return alert("Error: "+J.message),!1}},updatePassword:async(O,k,G)=>{if(!O||k!==G)return alert(e?"  .":"Check inputs.");try{const et=en(se,"settings","global"),J=await wr(et);if(J.exists()){const R=(J.data().users||[]).map(I=>I.id===r.id?{...I,password:k}:I);await Bs(et,{users:R})}return alert(e?"  ":"Success"),!0}catch(et){return alert("Error: "+et.message),!1}},updatePin:async(O,k,G)=>{const et=localStorage.getItem(`user_pin_${r.id}`);if(et&&O!==et)return alert(e?" PIN ":"Old PIN wrong");if(k!==G||k.length!==6)return alert(e?" PIN  ":"Check New PIN");try{const J=en(se,"settings","global"),j=await wr(J);if(j.exists()){const R=j.data().users.map(I=>I.id===r.id?{...I,pin:k}:I);await Bs(J,{users:R})}return localStorage.setItem(`user_pin_${r.id}`,k),alert(e?" ":"Done"),!0}catch(J){return alert("Error: "+J.message),!1}},updateAvatar:async(O,k,G)=>{const et={image:O,idx:k};try{const J=en(se,"settings","global"),j=await wr(J);if(j.exists()){const R=j.data().users.map(I=>I.id===r.id?{...I,avatar:et}:I);await Bs(J,{users:R})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(et)),G&&G(O,k),alert(e?"  ":"Updated"),!0}catch(J){return alert("Error: "+J.message),!1}}}},Ba=({title:i,onBack:t})=>y.jsxs("div",{style:ut.subHeader,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.subTitle,children:i}),y.jsx("div",{style:{width:30}})]}),aN=({onBack:i,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),[g,v]=q.useState(""),x=async()=>{await e(o,c,g)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Change Password",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"ID"}),y.jsx("input",{style:ut.inputDisabled,value:r.id,disabled:!0})]}),y.jsx("div",{style:{height:20}}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Old Password"}),y.jsx("input",{type:"password",style:ut.input,value:o,onChange:f=>u(f.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"New Password"}),y.jsx("input",{type:"password",style:ut.input,value:c,onChange:f=>p(f.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Confirm"}),y.jsx("input",{type:"password",style:ut.input,value:g,onChange:f=>v(f.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:x,children:t?"":"Save"})]})]})},oN=({onBack:i,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),[g,v]=q.useState(""),x=localStorage.getItem(`user_pin_${r.id}`),f=async()=>{await e(o,c,g)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:x?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[x?y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN":"Old PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:_=>u(_.target.value.replace(/[^0-9]/g,""))})]}):null,y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN (6)":"New PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:_=>p(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"PIN ":"Confirm"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:g,onChange:_=>v(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:ut.saveBtn,onClick:f,children:t?"":"Done"})]})]})},lN=({onBack:i,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),g=async()=>{await e(o,c)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Deposit",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Name"}),y.jsx("input",{style:ut.input,value:o,onChange:v=>u(v.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:c,onChange:v=>p(v.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:g,children:t?"":"Request"})]})]})},uN=({onBack:i,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),[g,v]=q.useState(""),[x,f]=q.useState(""),[_,S]=q.useState(""),E=async()=>{await e(o,{bank:c,account:g,holder:x},_)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Withdraw",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:o,onChange:C=>u(C.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Bank Info"}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:C=>p(C.target.value)}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Account No",value:g,onChange:C=>v(C.target.value)}),y.jsx("input",{style:ut.input,placeholder:t?"":"Holder",value:x,onChange:C=>f(C.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:_,onChange:C=>S(C.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:{...ut.saveBtn,background:"#D4AF37",color:"#000"},onClick:E,children:t?"":"Request"})]})]})},oT=({onBack:i,isKo:t,title:e,data:r})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:e,onBack:i}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",p=c?"#4cd137":"#fbc531",g=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",v=c?t?"":"Done":t?"":"Pending";return y.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),y.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),y.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),y.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:g,color:p,border:`1px solid ${p}`},children:v})]},u)})})]}),cN=({onBack:i,isKo:t,userId:e})=>{const r=q.useMemo(()=>{if(!e)return[];const o=localStorage.getItem(`event_my_history_${e}`);return o?JSON.parse(o):[]},[e]);return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"History",onBack:i}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>y.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[y.jsxs("span",{children:[o.round,t?"":"R"]}),y.jsx("span",{children:o.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),y.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},fN=({onBack:i,isKo:t,onChangeView:e})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Settings",onBack:i}),y.jsxs("div",{style:ut.settingList,children:[y.jsxs("div",{style:ut.settingItem,onClick:()=>e("profile"),children:[y.jsx("span",{style:ut.settingText,children:t?"  ":"Change Password"}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.settingItem,onClick:()=>e("payment_pin"),children:[y.jsx("span",{style:ut.settingText,children:t?" (PIN) ":"Setup PIN"}),y.jsx("span",{style:ut.arrow,children:""})]})]})]});function dN({user:i,onBack:t,onLogout:e,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:p}){const[g,v]=q.useState("main"),x=p.home==="",{userInfo:f,isCheckedIn:_,myDeposits:S,myWithdraws:E,handleDailyCheckIn:C,requestDeposit:M,requestWithdraw:V,updatePassword:O,updatePin:k,updateAvatar:G}=rN(i,c,x),[et,J]=q.useState(o||0),[j,R]=q.useState(r||null),[I,L]=q.useState(!1);if(!f)return y.jsx("div",{style:ut.loading,children:"SECRET MEMBERSHIP..."});const B=iN(f.diamond);return g==="profile"?y.jsx(aN,{onBack:()=>v("settings"),isKo:x,onSubmit:O,userInfo:f}):g==="payment_pin"?y.jsx(oN,{onBack:()=>v("settings"),isKo:x,onSubmit:k,userInfo:f}):g==="deposit"?y.jsx(lN,{onBack:()=>v("main"),isKo:x,onSubmit:M,onViewHistory:()=>v("deposit_history")}):g==="withdraw"?y.jsx(uN,{onBack:()=>v("main"),isKo:x,onSubmit:V,onViewHistory:()=>v("withdraw_history")}):g==="deposit_history"?y.jsx(oT,{onBack:()=>v("deposit"),isKo:x,title:x?"  ":"Deposit History",data:S}):g==="withdraw_history"?y.jsx(oT,{onBack:()=>v("withdraw"),isKo:x,title:x?"  ":"Withdraw History",data:E}):g==="history"?y.jsx(cN,{onBack:()=>v("main"),isKo:x,userId:f.id}):g==="settings"?y.jsx(fN,{onBack:()=>v("main"),isKo:x,onChangeView:v}):g==="event_donation"?y.jsx(sw,{user:f,userPoint:f.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>v("main"),t:p}):y.jsxs("div",{style:ut.container,children:[y.jsxs("div",{style:ut.topBar,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.topTitle,children:"PRIVATE LOUNGE"}),y.jsx("span",{onClick:()=>v("settings"),style:ut.settingsIcon,children:""})]}),y.jsx("div",{style:ut.profileHeaderMain,children:y.jsxs("div",{style:ut.profileInfoMain,children:[y.jsxs("div",{style:ut.avatarWrapper,children:[y.jsx("div",{style:ut.avatarLarge,children:r?y.jsx("img",{src:r,alt:"profile",style:ut.imgFull}):y.jsx("img",{src:rw(o,f.id),alt:"avatar",style:ut.imgFull})}),y.jsx("button",{style:ut.editBadgeOutside,onClick:()=>L(!0),children:x?"":"Edit"})]}),y.jsxs("div",{style:ut.userTextMain,children:[y.jsxs("div",{style:ut.userIdMain,children:[f.name||f.id," ",y.jsx("span",{style:{...ut.vipBadge,background:B.color,color:"#000"},children:B.name})]}),y.jsxs("div",{style:ut.tierContainer,children:[y.jsxs("div",{style:ut.tierText,children:[x?" ":"Next Tier",": ",B.next.toLocaleString()]}),y.jsx("div",{style:ut.tierBarOuter,children:y.jsx("div",{style:{...ut.tierBarInner,width:`${B.per}%`,background:B.color}})})]}),y.jsxs("div",{style:ut.userNoMain,children:["UID: ",f.no||"000000"]})]})]})}),y.jsxs("div",{style:ut.balanceCard,children:[y.jsxs("div",{style:ut.balanceItem,children:[y.jsx("div",{style:ut.label,children:x?" ":"Diamonds"}),y.jsxs("div",{style:ut.value,children:[" ",f.diamond?.toLocaleString()??0]})]}),y.jsx("div",{style:ut.divider}),y.jsxs("div",{style:{...ut.balanceItem,cursor:_?"default":"pointer"},onClick:C,children:[y.jsx("div",{style:{...ut.label,color:_?"#444":"#D4AF37"},children:_?x?" ":"Claimed":x?" ":"Daily Bonus"}),y.jsx("div",{style:ut.value,children:_?"":""})]})]}),y.jsxs("div",{style:ut.menuList,children:[y.jsxs("div",{style:ut.goldMenu,onClick:()=>v("event_donation"),children:[y.jsxs("div",{style:ut.goldMenuContent,children:[y.jsx("div",{style:ut.goldTag,children:"HOT"}),y.jsx("span",{style:ut.goldMenuTitle,children:x?"  ":"Join Event"})]}),y.jsx("span",{children:""})]}),y.jsxs("div",{style:ut.menuGroup,children:[y.jsxs("div",{style:ut.menuItem,onClick:()=>v("deposit"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?" ":"Deposit"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>v("withdraw"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?" ":"Withdraw"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>v("history"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?" ":"History"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?"1:1  ":"1:1 Support"]}),y.jsx("span",{style:ut.arrow,children:""})]})]}),y.jsx("button",{onClick:e,style:{...ut.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:x?"":"LOG OUT"})]}),I&&y.jsx(sN,{userId:f.id,tempSelectedIdx:et,tempUploadedImg:j,setTempSelectedIdx:J,setTempUploadedImg:R,onClose:()=>L(!1),onApply:()=>G(j,et,u).then(U=>U&&L(!1)),onRandom:()=>{R(null),J(Math.floor(Math.random()*md.length))}})]})}function hN({user:i,onUpdatePoint:t,appAvatarImage:e,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:p,dashStyles:g,isGuest:v,members:x=[],regions:f=[],slideImages:_=[],videos:S=[],videoCategories:E=[],innerLogo:C,telegramLink:M="https://t.me/your_address"}){const[V,O]=q.useState("home"),[k,G]=q.useState(null),[et,J]=q.useState(""),[j,R]=q.useState(""),[I,L]=q.useState(!1),[B,U]=q.useState(!1),N=i||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},wt=S.filter(rt=>et==="ALL"||!et?!0:rt.category===et),zt=x.filter(rt=>!j||j===""||j==="ALL"?!0:rt.region===j),[K,H]=q.useState(()=>{const rt=localStorage.getItem("live_count"),pt=rt?parseInt(rt):142;return pt>=123&&pt<=179?pt:145});q.useEffect(()=>{const rt=setInterval(()=>{H(pt=>{const gt=Math.random();let mt=gt<.45?1:gt<.9?-1:gt<.95?2:-2,vt=pt+mt;return vt<=123&&(vt=125),vt>=179&&(vt=177),localStorage.setItem("live_count",vt),vt})},5e3);return()=>clearInterval(rt)},[]);const nt=q.useCallback(()=>{document.getElementById("full-screen-view")||k||document.getElementById("manager-detail-view")||(V!=="home"?O("home"):U(!0),window.history.pushState(null,""))},[k,V]);q.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",nt),()=>window.removeEventListener("popstate",nt)),[nt]);const W=rt=>{if(v&&(rt==="event"||rt==="mypage")){alert(p==="ko"?"   .":"Authorized Members Only.");return}rt==="event"?(L(!0),O(rt),setTimeout(()=>L(!1),800)):O(rt)},ht=rt=>{G(rt),O("manager"),window.history.pushState({isDetail:!0},"")},P=()=>{M?window.open(M,"_blank"):alert(p==="ko"?"   .":"Link not set.")};q.useEffect(()=>{window.scrollTo(0,0)},[V]);const Q=()=>{switch(V){case"home":return y.jsx(c4,{t:u,innerLogo:C,slideImages:_,members:x,setActiveTab:O,openDetail:ht,handleTelegram:P,matchingCount:K});case"manager":return y.jsx(f4,{t:u,regions:f,selectedRegion:j,setSelectedRegion:R,filteredMembers:zt,initialMember:k,onCloseDetail:()=>G(null)});case"event":return I?y.jsxs("div",{style:Jn.loadingContainer,children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("div",{style:Jn.loadingText,children:p==="ko"?"   ...":"Loading Private Benefits..."})]}):y.jsx(sw,{t:u,user:N,userPoint:N.diamond,onUpdatePoint:t,onBack:()=>O("home"),confirmedImage:e,confirmedAvatarIdx:r});case"video":return y.jsx(d4,{t:u,videoCategories:E,selectedCategory:et,setSelectedCategory:J,filteredVideos:wt});case"mypage":return y.jsx(dN,{t:u,user:N,onBack:()=>O("home"),onLogout:()=>U(!0),confirmedImage:e,confirmedAvatarIdx:r,onAvatarChange:o,s:Jn});default:return null}};return y.jsxs("div",{style:{...g.container,background:"#080808",zIndex:10,position:"relative"},children:[y.jsxs("div",{style:{...g.contentArea,background:"transparent"},children:[V!=="home"&&V!=="event"&&V!=="mypage"&&y.jsx("div",{style:Jn.topStatus,children:y.jsxs("div",{style:Jn.statusInner,children:[y.jsx("span",{className:"dot-active"}),y.jsx("span",{style:Jn.statusText,children:"LIVE CONNECTED : "}),y.jsxs("b",{style:Jn.statusCount,children:[K," MEMBERS"]})]})}),Q()]}),B&&y.jsx("div",{style:Jn.modalOverlay,onClick:()=>U(!1),children:y.jsxs("div",{style:{...Jn.modalContent,textAlign:"center"},onClick:rt=>rt.stopPropagation(),children:[y.jsx("h3",{style:Jn.modalName,children:u.logout}),y.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:p==="ko"?"  ?":"Are you sure you want to log out?"}),y.jsxs("div",{style:Jn.modalBtnGroup,children:[y.jsx("button",{onClick:c,style:Jn.mMatchBtn,children:u.logout}),y.jsx("button",{onClick:()=>U(!1),style:Jn.mCloseBtn,children:p==="ko"?"":"CANCEL"})]})]})}),y.jsx("nav",{style:{...g.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(rt=>y.jsxs("div",{onClick:()=>W(rt.key),style:{...g.navItem,color:V===rt.key?"#D4AF37":"#555"},children:[y.jsx("span",{style:{fontSize:22,filter:V===rt.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:rt.icon}),y.jsx("span",{style:{fontSize:10,fontWeight:800},children:rt.label})]},rt.key))}),y.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const Jn={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},pN="dwla93cgd",mN="daisy_upload",lT=async i=>{if(!i)return null;const t=i.type.startsWith("video")?"video":"image",e=new FormData;e.append("file",i),e.append("upload_preset",mN);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${pN}/${t}/upload`,{method:"POST",body:e})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function gN({adminPreviewMode:i,setAdminPreviewMode:t,hero:e,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:p,logoSize:g,setLogoSize:v,logoPos:x,setLogoPos:f,innerLogo:_,setInnerLogo:S,onExit:E,members:C,setMembers:M,slideImages:V,setSlideImages:O,videos:k,setVideos:G,adminPw:et,setAdminPw:J,telegramLink:j,setTelegramLink:R,saveToFirebase:I,syncToFirebase:L,openIndependent:B,styles:U}){const N={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},wt=Object.keys(N),zt=["","","","",""],K={name:"",region:"",loc:N.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[H,nt]=q.useState(K),[W,ht]=q.useState(null),[P,Q]=q.useState(!1),[rt,pt]=q.useState(""),[gt,mt]=q.useState(""),[vt,jt]=q.useState(!1),[qt,fe]=q.useState(!1),[be,Hn]=q.useState(null),[xn,bn]=q.useState(""),ii=ot=>{nt({...H,region:ot,loc:N[ot][0]})},Ai=ot=>{ht(ot.id),nt(ot),jt(!0);const Et=document.getElementById("manager-modal-scroll");Et&&Et.scrollTo({top:0,behavior:"smooth"})},Ei=async()=>{if(P)return alert("  .  .");if(!H.img||!H.name)return alert("   .");let ot;W?(ot=C.map(St=>St.id===W?{...H,id:W}:St),ht(null)):ot=[...C,{...H,id:Date.now()}],M(ot),Q(!0);const Et=await L({members:ot});Q(!1),Et&&(nt(K),alert("    ! "))},_s=async()=>{if(!xn)return alert("   .");let ot;be?(ot=k.map(St=>St.id===be?{...St,url:xn,category:rt,description:gt}:St),Hn(null)):ot=[...k,{id:Date.now(),url:xn,category:rt,description:gt}],G(ot),Q(!0);const Et=await L({videos:ot});Q(!1),Et&&(bn(""),mt(""),alert("   ! "))},re=async(ot,Et,St)=>{const te=ot.target.files?.[0];if(te)try{Q(!0);const ae=await lT(te);if(ae){St(ae);let ee={};Et==="logo"?ee={logo:ae}:Et==="innerLogo"?ee={innerLogo:ae}:Et==="heroImg"&&(ee={hero:{...e,imageSrc:ae,mode:"image"}}),Object.keys(ee).length>0&&await L(ee)}}catch(ae){console.error("  :",ae)}finally{Q(!1),ot.target.value=""}},Te=async()=>{Q(!0);const ot=await L({telegramLink:j,adminPw:et});Q(!1),ot&&alert("      ! ")};return y.jsxs("div",{style:Nt.cms,children:[y.jsxs("div",{style:Nt.toggleArea,children:[y.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Nt.tabBtn,background:i==="landing"?"#ffb347":"#222",color:i==="landing"?"#000":"#888",border:i==="landing"?"2px solid #fff":"none"},children:"  "}),y.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Nt.tabBtn,background:i==="dashboard"?"#ffb347":"#222",color:i==="dashboard"?"#000":"#888",border:i==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("h3",{style:Nt.mainTitle,children:"SERVER ADMIN PANEL"}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"    "}),y.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[y.jsx("button",{onClick:()=>r({...e,mode:"image"}),style:{...Nt.modeBtn,background:e.mode==="image"?"#fff":"#333",color:e.mode==="image"?"#000":"#888"},children:" "}),y.jsx("button",{onClick:()=>r({...e,mode:"video"}),style:{...Nt.modeBtn,background:e.mode==="video"?"#fff":"#333",color:e.mode==="video"?"#000":"#888"},children:" "})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>re(ot,"heroImg",Et=>r({...e,imageSrc:Et,mode:"image"}))}),e.imageSrc&&y.jsx("img",{src:e.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"video/*",style:Nt.fileInput,onChange:ot=>re(ot,"heroVid",Et=>{u(Et),r({...e,mode:"video"})})}),o&&y.jsx("div",{style:{marginTop:5},children:y.jsx("p",{style:Nt.checkText,children:"  "})})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"    "}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>re(ot,"logo",p)}),y.jsxs("div",{style:Nt.rangeRow,children:[y.jsxs("span",{children:[": ",g,"px"]}),y.jsx("input",{type:"range",min:"40",max:"600",value:g,onChange:ot=>v(+ot.target.value)})]}),y.jsxs("div",{style:Nt.rangeGrid,children:[y.jsxs("div",{children:[y.jsx("span",{children:"(Y)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:x.y,onChange:ot=>f({...x,y:+ot.target.value})})]}),y.jsxs("div",{children:[y.jsx("span",{children:"(X)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:x.x,onChange:ot=>f({...x,x:+ot.target.value})})]})]})]})]}),y.jsxs("div",{style:{...Nt.sectionBox,borderColor:"#FFD700"},children:[y.jsx("label",{style:{...Nt.sectionLabel,color:"#FFD700"},children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (Inner Logo)"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>re(ot,"innerLogo",S)}),_&&y.jsx("img",{src:_,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (X  )"}),y.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Nt.fileInput,onChange:async ot=>{const Et=Array.from(ot.target.files);Q(!0);const te=(await Promise.all(Et.map(ee=>lT(ee)))).filter(ee=>ee).map(ee=>({id:Date.now()+Math.random(),url:ee})),ae=[...V,...te];O(ae),await L({slideImages:ae}),Q(!1),ot.target.value=""}}),y.jsx("div",{style:Nt.bannerList,children:V.map(ot=>y.jsxs("div",{style:Nt.bannerThumb,children:[y.jsx("img",{src:ot.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:async()=>{const Et=V.filter(St=>St.id!==ot.id);O(Et),await L({slideImages:Et})},style:Nt.bannerDelBtn,children:""})]},ot.id))})]})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"   "}),y.jsxs("button",{onClick:()=>jt(!0),style:Nt.modalOpenBtn,children:["   (",C.length,")"]}),y.jsxs("button",{onClick:()=>fe(!0),style:{...Nt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",k.length,")"]}),y.jsx("button",{onClick:()=>B&&B(),style:{...Nt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"@TelegramID",value:j||"",onChange:ot=>R(ot.target.value)})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"  ",value:et||"",onChange:ot=>J(ot.target.value)})]}),y.jsx("button",{onClick:Te,style:{...Nt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),y.jsx("button",{style:{...Nt.saveExitBtn,background:P?"#ffb347":"#fff",cursor:P?"wait":"pointer"},onClick:async()=>{if(P)return;Q(!0);const ot=setTimeout(()=>{E()},5e3);try{I&&await I(),clearTimeout(ot),E()}catch{E()}finally{Q(!1)}},children:P?"   ...":"    "})]}),vt&&y.jsx("div",{style:ue.overlay,children:y.jsxs("div",{id:"manager-modal-scroll",style:ue.container,children:[y.jsxs("div",{style:ue.header,children:[y.jsx("h2",{style:{color:"#ffb347"},children:W?"  ":"  "}),y.jsx("button",{onClick:()=>{jt(!1),ht(null),nt(K)},style:ue.closeBtn,children:""})]}),y.jsxs("div",{style:ue.formBox,children:[y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[y.jsx("select",{value:H.region,onChange:ot=>ii(ot.target.value),style:ue.select,children:wt.map(ot=>y.jsx("option",{value:ot,children:ot},ot))}),y.jsx("select",{value:H.loc,onChange:ot=>nt({...H,loc:ot.target.value}),style:ue.select,children:N[H.region].map(ot=>y.jsx("option",{value:ot,children:ot},ot))})]}),y.jsxs("div",{style:{display:"flex",gap:10},children:[y.jsx("input",{style:{...ue.input,flex:2},placeholder:" ",value:H.name,onChange:ot=>nt({...H,name:ot.target.value})}),y.jsx("input",{style:{...ue.input,flex:1},placeholder:"",value:H.age,onChange:ot=>nt({...H,age:ot.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[y.jsx("input",{style:ue.input,placeholder:" (cm)",value:H.height,onChange:ot=>nt({...H,height:ot.target.value})}),y.jsx("input",{style:ue.input,placeholder:" (kg)",value:H.weight,onChange:ot=>nt({...H,weight:ot.target.value})}),y.jsx("input",{style:ue.input,placeholder:" ()",value:H.bust,onChange:ot=>nt({...H,bust:ot.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"image/*",onChange:ot=>re(ot,"image",Et=>nt({...H,img:Et}))}),H.img&&y.jsx("img",{src:H.img,style:ue.previewImg,alt:"p"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"video/*",onChange:ot=>re(ot,"video",Et=>nt({...H,video:Et}))}),H.video&&y.jsx("video",{src:H.video,style:ue.previewImg,controls:!0})]})]}),y.jsx("button",{onClick:Ei,style:ue.actionBtn,children:W?" ":" "})]}),y.jsx("div",{style:ue.list,children:C.map(ot=>y.jsxs("div",{style:ue.listItem,children:[y.jsxs("span",{children:["[",ot.loc,"] ",ot.name," (",ot.age?ot.age+"":"",")"]}),y.jsxs("div",{children:[y.jsx("button",{onClick:()=>Ai(ot),style:ue.editBtn,children:""}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const Et=C.filter(St=>St.id!==ot.id);M(Et),await L({members:Et})}},style:ue.delBtn,children:""})]})]},ot.id))})]})}),qt&&y.jsx("div",{style:ue.overlay,children:y.jsxs("div",{id:"video-modal-scroll",style:{...ue.container,border:"2px solid #2196F3"},children:[y.jsxs("div",{style:ue.header,children:[y.jsx("h2",{style:{color:"#2196F3"},children:be?"  ":"  "}),y.jsx("button",{onClick:()=>{fe(!1),Hn(null),mt(""),bn("")},style:ue.closeBtn,children:""})]}),y.jsxs("div",{style:ue.formBox,children:[y.jsx("select",{value:rt,onChange:ot=>pt(ot.target.value),style:ue.select,children:zt.map(ot=>y.jsx("option",{value:ot,children:ot},ot))}),y.jsx("input",{style:{...ue.input,marginTop:10},placeholder:" ",value:gt,onChange:ot=>mt(ot.target.value)}),y.jsx("input",{type:"file",accept:"video/*",onChange:ot=>re(ot,"video",Et=>bn(Et))}),xn&&y.jsx("video",{src:xn,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),y.jsx("button",{onClick:_s,style:{...ue.actionBtn,background:"#2196F3"},children:" "})]}),y.jsx("div",{style:ue.list,children:k.map(ot=>y.jsxs("div",{style:ue.listItem,children:[y.jsx("video",{src:ot.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),y.jsx("div",{style:{flex:1,marginLeft:10},children:y.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:ot.description})}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const Et=k.filter(St=>St.id!==ot.id);G(Et),await L({videos:Et})}},style:ue.delBtn,children:""})]},ot.id))})]})})]})}const Nt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ue={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Do={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},yN=(i,t)=>{const[e,r]=q.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[o,u]=q.useState(0),[c,p]=q.useState({}),[g,v]=q.useState([]),[x,f]=q.useState([]),[_,S]=q.useState([]),[E,C]=q.useState([]),[M,V]=q.useState([]),[O,k]=q.useState([]),[G,et]=q.useState(""),[J,j]=q.useState(""),R=q.useMemo(()=>{const H=Date.now();return i.filter(nt=>nt.lastActive&&H-nt.lastActive<6e4)},[i]);return q.useEffect(()=>{const H=cs(Bn(se,"users"),gt=>{const mt=gt.docs.map(vt=>({id:vt.id,...vt.data()}));mt.sort((vt,jt)=>(jt.lastActive||0)-(vt.lastActive||0)),t(mt)}),nt=cs(Bn(se,"event_manipulation"),gt=>{const mt={};gt.forEach(vt=>{mt[vt.id]=vt.data().winner||vt.data().items}),p(mt)}),W=cs(wa(Bn(se,"event_bets"),If("round","desc"),Db(100)),gt=>{const mt=[];gt.forEach(vt=>mt.push({id:vt.id,...vt.data()})),mt.length>0&&f(mt)}),ht=cs(wa(Bn(se,"deposit_requests"),If("timestamp","desc")),gt=>{const mt=[];gt.forEach(vt=>mt.push({id:vt.id,...vt.data()})),S(mt)}),P=cs(wa(Bn(se,"withdraw_requests"),If("timestamp","desc")),gt=>{const mt=[];gt.forEach(vt=>mt.push({id:vt.id,...vt.data()})),C(mt)}),Q=cs(wa(Bn(se,"finance_history"),If("completedAt","desc"),Db(50)),gt=>{const mt=[];gt.forEach(vt=>mt.push({id:vt.id,...vt.data()})),V(mt)});k(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const rt=JSON.parse(localStorage.getItem("event_total_history")||"[]");v(rt.sort((gt,mt)=>mt.round-gt.round));const pt=setInterval(()=>{const mt=Date.now()-Do.START_TIME,vt=Do.BASE_ROUND+Math.floor(mt/(Do.ROUND_DURATION*1e3)),jt=Do.ROUND_DURATION*1e3-mt%(Do.ROUND_DURATION*1e3);let qt=Math.floor(jt/1e3);qt>=Do.ROUND_DURATION&&(qt=0),r({currentRound:vt,timeLeft:qt,isDrawing:qt<=5}),u(fe=>fe===0?vt+1:fe)},1e3);return()=>{H(),nt(),W(),ht(),P(),Q(),clearInterval(pt)}},[t]),{currentInfo:e,targetRound:o,setTargetRound:u,queue:c,deleteQueue:async H=>{try{await im(en(se,"event_manipulation",String(H)));const nt={...c};delete nt[H],p(nt)}catch{alert(" ")}},gameHistory:g,sponsorships:x,activeUsers:R,depositRequests:_,withdrawRequests:E,financeHistory:M,approveDeposit:async H=>{if(window.confirm(`${H.userId} ${H.amount.toLocaleString()} DIA  ?`))try{const nt=en(se,"users",H.userId),W=await wr(nt),P=(W.exists()&&W.data().diamond||0)+H.amount;await Bs(nt,{diamond:P}),await ju(Bn(se,"finance_history"),{...H,type:"",status:"",completedAt:new Date().toISOString()}),await im(en(se,"deposit_requests",H.id)),alert("  !")}catch(nt){alert(" : "+nt.message)}},approveWithdraw:async H=>{if(window.confirm(`${H.userId}  () ?`))try{const nt=en(se,"users",H.userId),W=await wr(nt),ht=W.exists()&&W.data().diamond||0;if(ht<H.amount&&!window.confirm(`[]  (${ht}).  ?`))return;const P=ht-H.amount;await Bs(nt,{diamond:P}),await ju(Bn(se,"finance_history"),{...H,type:"",status:"",completedAt:new Date().toISOString()}),await im(en(se,"withdraw_requests",H.id)),alert("    !")}catch(nt){alert(" : "+nt.message)}},agents:O,newAgentName:G,setNewAgentName:et,newAgentCode:J,setNewAgentCode:j,addAgent:()=>{if(!G)return;const H=[...O,{name:G,code:J,id:Date.now()}];k(H),localStorage.setItem("daisy_agents",JSON.stringify(H)),et(""),j("")},handleApplyManipulation:async H=>{if(!H)return alert(" .");try{return await Qm(en(se,"event_manipulation",String(o)),{winner:H,updatedAt:new Date().toISOString()}),p({...c,[o]:H}),alert(`[${o}]  [${H}] !`),!0}catch(nt){return alert(": "+nt.message),!1}},updateFullUserInfo:async(H,nt,W,ht)=>{const P=parseInt(nt);if(isNaN(P))return alert(" .");if(window.confirm(`[${H}]  ?`))try{await Bs(en(se,"users",H),{diamond:P,refCode:W||"",referral:ht||""}),alert(`[${H}]  `)}catch(Q){alert(" : "+Q.message)}},handleChangeUserPassword:async H=>{const nt=window.prompt(`[${H}]   :`);if(nt)try{await Bs(en(se,"users",H),{password:nt}),alert("  ")}catch(W){alert(" : "+W.message)}},handleChangeAdminPassword:async()=>{const H=window.prompt(" ' (game)'   :");if(H)try{await Qm(en(se,"settings","global"),{gamePw:H},{merge:!0}),localStorage.setItem("daisy_game_password",H),alert(`   : ${H}`)}catch(nt){alert(" : "+nt.message)}}}},vN=({depositRequests:i,withdrawRequests:t,approveDeposit:e,approveWithdraw:r})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",i.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):i.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),y.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>e(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),y.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),_N=({financeHistory:i})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):i.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),y.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),y.jsx("td",{children:y.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),y.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),y.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),xN=({currentInfo:i,targetRound:t,setTargetRound:e,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,p]=q.useState(null);return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"   "}),y.jsxs("div",{style:xt.monitorBox,children:[y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[i.currentRound,""]})]}),y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:i.timeLeft<=5?"#ff3b30":"#00ff00"},children:[i.timeLeft,""]})]}),y.jsxs("div",{children:[": ",y.jsx("span",{style:{color:i.isDrawing?"#ff3b30":"#00e676"},children:i.isDrawing?"":""})]})]}),y.jsxs("div",{style:{marginTop:30},children:[y.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),y.jsx("input",{type:"number",placeholder:"",value:t,onChange:g=>e(parseInt(g.target.value)),style:xt.adminInput}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[y.jsxs("div",{onClick:()=>p("PLAYER"),style:{...xt.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"PLAYER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),y.jsxs("div",{onClick:()=>p("TIE"),style:{...xt.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"TIE"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),y.jsxs("div",{onClick:()=>p("BANKER"),style:{...xt.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"BANKER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),y.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(g=>{g&&p(null)})},style:{...xt.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5,marginTop:"20px",width:"100%",padding:"15px",fontSize:"18px",fontWeight:"bold",border:"none",borderRadius:"8px"},children:[t,"  ",y.jsxs("b",{children:["[",c,"]"]})," "]})]}),y.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[y.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?y.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([g,v])=>y.jsxs("div",{style:xt.queueRow,children:[y.jsxs("div",{children:[y.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[g,""]}),y.jsxs("span",{style:{fontWeight:"bold",color:v==="PLAYER"?"#4d94ff":v==="BANKER"?"#ff4d4d":"#00e676"},children:[v," WIN"]})]}),y.jsx("button",{onClick:()=>o(g),style:xt.delBtn,children:""})]},g))]})]})},bN=({users:i,updateFullUserInfo:t,handleChangeUserPassword:e})=>{const[r,o]=q.useState(""),u=i.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("span",{style:{fontSize:24},children:""}),y.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:u.map(c=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?y.jsx("span",{style:{color:"#0f0"},children:""}):y.jsx("span",{style:{color:"#444"},children:""})}),y.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),y.jsxs("td",{style:{color:"#ffb347"},children:[" ",(c.diamond||0).toLocaleString()]}),y.jsx("td",{children:y.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),y.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[y.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),y.jsx("button",{onClick:()=>e(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},TN=({agents:i,users:t,newAgentName:e,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:p})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("input",{placeholder:"",value:e,onChange:g=>r(g.target.value),style:xt.giantInput}),y.jsx("input",{placeholder:"",value:o,onChange:g=>u(g.target.value),style:xt.giantInput}),y.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map(g=>{const v=t.filter(x=>x.referral===g.code);return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347",fontSize:18},children:g.name}),y.jsx("td",{children:g.code}),y.jsx("td",{style:{color:"#00ff00"},children:v.length}),y.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:v.map(x=>x.id).join(", ")}),y.jsx("td",{children:y.jsx("button",{onClick:()=>{const x=i.filter(f=>f.id!==g.id);p(x),localStorage.setItem("daisy_agents",JSON.stringify(x))},style:xt.delBtn,children:""})})]},g.id)})})]})]}),SN=({users:i,updateFullUserInfo:t})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:" "}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map(e=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:e.id}),y.jsx("td",{children:y.jsx("input",{id:`rc-${e.id}`,defaultValue:e.refCode||"",style:xt.giantInput})}),y.jsx("td",{children:y.jsx("input",{id:`rf-${e.id}`,defaultValue:e.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>t(e.id,e.diamond,document.getElementById(`rc-${e.id}`).value,document.getElementById(`rf-${e.id}`).value),style:xt.giantBtn,children:""})})]},e.id))})]})]}),AN=({gameHistory:i})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),y.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,") ",t.isPP&&y.jsx("small",{style:{color:"#4d94ff"},children:"PP"})," ",t.isBP&&y.jsx("small",{style:{color:"#ff4d4d"},children:"BP"})]})]},t.round))})]})]}),EN=({sponsorships:i})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"   "}),y.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map((t,e)=>{const r=t.bets?Object.entries(t.bets).map(([o,u])=>`${o.substring(0,1)}:${(u/1e3).toFixed(1)}k`).join(" "):Array.isArray(t.picks)?t.picks.join(", "):t.pick;return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347"},children:t.round}),y.jsx("td",{children:y.jsx("b",{children:t.userId})}),y.jsx("td",{style:{color:"#aaa",fontSize:"12px"},children:r}),y.jsx("td",{style:{color:"#fff",fontWeight:"bold"},children:t.betAmount?.toLocaleString()}),y.jsx("td",{children:t.result?y.jsx("span",{style:{color:"#0f0"},children:t.result}):y.jsx("span",{style:{color:"#888"},children:""})})]},e)})})]})})]});function wN({users:i,setUsers:t,onExit:e}){const[r,o]=q.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:p,queue:g,deleteQueue:v,gameHistory:x,sponsorships:f,activeUsers:_,depositRequests:S,withdrawRequests:E,financeHistory:C,approveDeposit:M,approveWithdraw:V,agents:O,setAgents:k,newAgentName:G,setNewAgentName:et,newAgentCode:J,setNewAgentCode:j,addAgent:R,handleApplyManipulation:I,updateFullUserInfo:L,handleChangeUserPassword:B,handleChangeAdminPassword:U}=yN(i,t);return y.jsxs("div",{style:xt.container,children:[y.jsxs("aside",{style:xt.sidebar,children:[y.jsx("h2",{style:xt.title,children:"CASINO MASTER"}),y.jsxs("div",{style:xt.onlineBadge,children:[y.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),y.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",_.length,""]})]}),y.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",y.jsx("span",{style:xt.countTag,children:S.length+E.length})]}),y.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),y.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:y.jsx("button",{onClick:U,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),y.jsx("button",{onClick:e,style:xt.exitBtn,children:" "})]}),y.jsxs("main",{style:xt.main,children:[r==="requests"&&y.jsx(vN,{depositRequests:S,withdrawRequests:E,approveDeposit:M,approveWithdraw:V}),r==="finance"&&y.jsx(_N,{financeHistory:C}),r==="event"&&y.jsx(xN,{currentInfo:u,targetRound:c,setTargetRound:p,queue:g,deleteQueue:v,handleApplyManipulation:I}),r==="users"&&y.jsx(bN,{users:i,updateFullUserInfo:L,handleChangeUserPassword:B}),r==="referrals"&&y.jsx(SN,{users:i,updateFullUserInfo:L}),r==="agents"&&y.jsx(TN,{agents:O,setAgents:k,users:i,newAgentName:G,setNewAgentName:et,newAgentCode:J,setNewAgentCode:j,addAgent:R}),r==="history"&&y.jsx(AN,{gameHistory:x}),r==="sponsorships"&&y.jsx(EN,{sponsorships:f})]})]})}const CN=new BroadcastChannel("daisy_global_channel"),uT=[""," "," ","","","","","","",""],cT=["","","","",""],on=(i,t)=>{try{const e=localStorage.getItem(i);if(!e)return t;const r=JSON.parse(e);return r===null?t:r}catch{return t}},ln=(i,t)=>{try{if(t===void 0)return;localStorage.setItem(i,JSON.stringify(t))}catch(e){e.name==="QuotaExceededError"&&alert("Storage quota exceeded! Please reduce image sizes.")}},fT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:""},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE"}};function RN(){const[i,t]=q.useState(()=>on("lang","ko")),[e,r]=q.useState(()=>on("loggedIn",!1)),[o,u]=q.useState(()=>on("isAdmin",!1)),[c,p]=q.useState(()=>on("isGuest",!1)),[g,v]=q.useState(()=>on("users",[])),[x,f]=q.useState(()=>on("currentUser",null)),[_,S]=q.useState(null),[E,C]=q.useState(0),[M,V]=q.useState(!1),[O,k]=q.useState(()=>on("adminPw","123456")),[G,et]=q.useState(()=>on("gamePw","1234")),[J,j]=q.useState(()=>on("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[R,I]=q.useState(!0),[L,B]=q.useState(!1),[U,N]=q.useState(()=>on("members",[])),[wt,zt]=q.useState(()=>on("slideImages",[])),[K,H]=q.useState(()=>on("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[nt,W]=q.useState(()=>on("videoURL",null)),[ht,P]=q.useState(()=>on("videos",[])),[Q,rt]=q.useState(()=>on("logo",null)),[pt,gt]=q.useState(()=>on("logoSize",140)),[mt,vt]=q.useState(()=>on("logoPos",{x:0,y:0})),[jt,qt]=q.useState(()=>on("innerLogo",null)),[fe,be]=q.useState("dashboard"),Hn=q.useMemo(()=>fT[i]||fT.ko,[i]);q.useEffect(()=>{const ot=cs(en(se,"settings","global"),Et=>{if(Et.exists()){const St=Et.data();St.hero&&H(St.hero),St.videoURL!==void 0&&W(St.videoURL),St.logo!==void 0&&rt(St.logo),St.logoSize&&gt(St.logoSize),St.logoPos&&vt(St.logoPos),St.members&&N(St.members),St.slideImages&&zt(St.slideImages),St.videos&&P(St.videos),St.innerLogo!==void 0&&qt(St.innerLogo),St.adminPassword?k(St.adminPassword):St.adminPw&&k(St.adminPw),St.gamePw&&et(St.gamePw),St.telegramLink&&j(St.telegramLink),St.users&&v(St.users)}});return()=>ot()},[]);const xn=async ot=>{try{const Et={hero:K,videoURL:nt,logo:Q,logoSize:pt,logoPos:mt,members:U,slideImages:wt,videos:ht,innerLogo:jt,adminPw:O,gamePw:G,telegramLink:J,users:g,...ot};return await Qm(en(se,"settings","global"),Et),console.log(" Server Sync Complete"),!0}catch(Et){return console.error(" Sync Failed:",Et),!1}},bn=async()=>await xn({}),ii=q.useCallback((ot,Et,St,te)=>{v(ae=>ae.map(ee=>ee.id===ot?{...ee,diamond:Et,refCode:St,referral:te}:ee)),f(ae=>ae?.id===ot?{...ae,diamond:Et,refCode:St,referral:te}:ae)},[]);q.useEffect(()=>{CN.onmessage=Et=>{const{type:St,userId:te,point:ae,refCode:ee,referral:si}=Et.data||{};(St==="USER_UPDATE"||St==="POINT_UPDATE")&&te&&ii(te,ae,ee,si)};const ot=Et=>{const{userId:St,point:te,refCode:ae,referral:ee}=Et.detail||{};St&&ii(St,te,ae,ee)};return window.addEventListener("user_point_update",ot),()=>window.removeEventListener("user_point_update",ot)},[ii]),q.useEffect(()=>{ln("lang",i),ln("loggedIn",e),ln("isAdmin",o),ln("isGuest",c),ln("users",g),ln("currentUser",x),ln("members",U),ln("hero",K),ln("logo",Q),ln("logoSize",pt),ln("logoPos",mt),ln("slideImages",wt),ln("videoURL",nt),ln("videos",ht),ln("innerLogo",jt),ln("adminPw",O),ln("gamePw",G),ln("telegramLink",J)},[i,e,o,c,g,x,K,Q,pt,mt,U,wt,nt,ht,jt,O,G,J]);const Ai=async(ot,Et)=>{let St=O,te=G;try{const ee=await wr(en(se,"settings","global"));if(ee.exists()){const si=ee.data();si.adminPw&&(St=si.adminPw),si.gamePw&&(te=si.gamePw),k(St),et(te)}}catch{console.error("   ")}if(ot==="game")if(Et===te){V(!0),r(!0);return}else return alert("   .");if(ot==="admin")if(Et===St){u(!0),r(!0),f({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),be("dashboard");return}else return alert("   .");const ae=g.find(ee=>ee.id===ot&&ee.pw===Et);if(!ae)return alert(i==="ko"?"  .":"Login Failed");f({...ae}),r(!0),p(!1)},Ei=()=>{r(!1),u(!1),p(!1),V(!1),f(null)},_s=(ot,Et)=>{S(ot),C(Et)};if(M)return y.jsx(wN,{users:g,setUsers:v,onExit:Ei});const re=e&&x,Te=!re||o&&fe==="landing";return y.jsxs("div",{style:{...Ta.app,height:"100vh",overflow:"hidden"},children:[R&&!o&&re&&!Te&&y.jsx("div",{style:Ta.popupOverlay,children:y.jsxs("div",{style:Ta.popupContent,children:[y.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),y.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),y.jsx("button",{onClick:()=>I(!1),style:Ta.popupBtn,children:Hn.close})]})}),Te?y.jsx("div",{style:{height:"100%",overflowY:"auto"},children:y.jsx(u4,{t:Hn,lang:i,users:g,setUsers:v,hero:K,videoURL:nt,logo:Q,logoSize:pt,logoPos:mt,styles:Ta,isAdmin:o,setLang:t,onLogin:Ai,onGuestLogin:()=>{f({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),p(!0)},syncToFirebase:xn})}):y.jsx(hN,{user:x,onUpdatePoint:ot=>ii(x.id,ot,x.refCode,x.referral),appAvatarImage:_,appAvatarIdx:E,onAvatarChange:_s,t:Hn,lang:i,isGuest:c,members:U,regions:uT,slideImages:wt,videos:ht,videoCategories:cT,innerLogo:jt,telegramLink:J,onLogout:Ei,dashStyles:IN}),o&&y.jsx(gN,{adminPreviewMode:fe,setAdminPreviewMode:be,hero:K,setHero:H,setVideoURL:W,videoURL:nt,logo:Q,setLogo:rt,logoSize:pt,setLogoSize:gt,logoPos:mt,setLogoPos:vt,members:U,setMembers:N,regions:uT,slideImages:wt,setSlideImages:zt,videos:ht,setVideos:P,videoCategories:cT,innerLogo:jt,setInnerLogo:qt,onExit:Ei,styles:Ta,adminPw:O,setAdminPw:k,telegramLink:J,setTelegramLink:j,openIndependent:()=>V(!0),saveToFirebase:bn,syncToFirebase:xn}),!o&&Te&&y.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:y.jsx("button",{style:Ta.langBtn,onClick:()=>t(i==="ko"?"en":"ko"),children:i==="ko"?"ENGLISH":""})})]})}const Ta={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},IN={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};G2.createRoot(document.getElementById("root")).render(y.jsx(q.StrictMode,{children:y.jsx(RN,{})}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fp={exports:{}},ou={};var cx;function P2(){if(cx)return ou;cx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return ou.Fragment=t,ou.jsx=e,ou.jsxs=e,ou}var fx;function k2(){return fx||(fx=1,Fp.exports=P2()),Fp.exports}var y=k2(),Hp={exports:{}},zt={};var dx;function L2(){if(dx)return zt;dx=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),_=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function V(P,G,nt){this.props=P,this.context=G,this.refs=M,this.updater=nt||E}V.prototype.isReactComponent={},V.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=V.prototype;function L(P,G,nt){this.props=P,this.context=G,this.refs=M,this.updater=nt||E}var Y=L.prototype=new O;Y.constructor=L,R(Y,V.prototype),Y.isPureReactComponent=!0;var et=Array.isArray;function J(){}var j={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(P,G,nt){var pt=nt.ref;return{$$typeof:i,type:P,key:G,ref:pt!==void 0?pt:null,props:nt}}function k(P,G){return I(P.type,G,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function U(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(nt){return G[nt]})}var N=/\/+/g;function Ct(P,G){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):G.toString(36)}function Ft(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(J,J):(P.status="pending",P.then(function(G){P.status==="pending"&&(P.status="fulfilled",P.value=G)},function(G){P.status==="pending"&&(P.status="rejected",P.reason=G)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,G,nt,pt,vt){var _t=typeof P;(_t==="undefined"||_t==="boolean")&&(P=null);var Tt=!1;if(P===null)Tt=!0;else switch(_t){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(P.$$typeof){case i:case t:Tt=!0;break;case x:return Tt=P._init,W(Tt(P._payload),G,nt,pt,vt)}}if(Tt)return vt=vt(P),Tt=pt===""?"."+Ct(P,0):pt,et(vt)?(nt="",Tt!=null&&(nt=Tt.replace(N,"$&/")+"/"),W(vt,G,nt,"",function(Wt){return Wt})):vt!=null&&(B(vt)&&(vt=k(vt,nt+(vt.key==null||P&&P.key===vt.key?"":(""+vt.key).replace(N,"$&/")+"/")+Tt)),G.push(vt)),1;Tt=0;var St=pt===""?".":pt+":";if(et(P))for(var wt=0;wt<P.length;wt++)pt=P[wt],_t=St+Ct(pt,wt),Tt+=W(pt,G,nt,_t,vt);else if(wt=S(P),typeof wt=="function")for(P=wt.call(P),wt=0;!(pt=P.next()).done;)pt=pt.value,_t=St+Ct(pt,wt++),Tt+=W(pt,G,nt,_t,vt);else if(_t==="object"){if(typeof P.then=="function")return W(Ft(P),G,nt,pt,vt);throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function X(P,G,nt){if(P==null)return P;var pt=[],vt=0;return W(P,pt,"","",function(_t){return G.call(nt,_t,vt++)}),pt}function ct(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(nt){(P._status===0||P._status===-1)&&(P._status=1,P._result=nt)},function(nt){(P._status===0||P._status===-1)&&(P._status=2,P._result=nt)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var F=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},at={map:X,forEach:function(P,G,nt){X(P,function(){G.apply(this,arguments)},nt)},count:function(P){var G=0;return X(P,function(){G++}),G},toArray:function(P){return X(P,function(G){return G})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return zt.Activity=f,zt.Children=at,zt.Component=V,zt.Fragment=e,zt.Profiler=o,zt.PureComponent=L,zt.StrictMode=r,zt.Suspense=g,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,zt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return j.H.useMemoCache(P)}},zt.cache=function(P){return function(){return P.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(P,G,nt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var pt=R({},P.props),vt=P.key;if(G!=null)for(_t in G.key!==void 0&&(vt=""+G.key),G)!C.call(G,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&G.ref===void 0||(pt[_t]=G[_t]);var _t=arguments.length-2;if(_t===1)pt.children=nt;else if(1<_t){for(var Tt=Array(_t),St=0;St<_t;St++)Tt[St]=arguments[St+2];pt.children=Tt}return I(P.type,vt,pt)},zt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},zt.createElement=function(P,G,nt){var pt,vt={},_t=null;if(G!=null)for(pt in G.key!==void 0&&(_t=""+G.key),G)C.call(G,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(vt[pt]=G[pt]);var Tt=arguments.length-2;if(Tt===1)vt.children=nt;else if(1<Tt){for(var St=Array(Tt),wt=0;wt<Tt;wt++)St[wt]=arguments[wt+2];vt.children=St}if(P&&P.defaultProps)for(pt in Tt=P.defaultProps,Tt)vt[pt]===void 0&&(vt[pt]=Tt[pt]);return I(P,_t,vt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(P){return{$$typeof:p,render:P}},zt.isValidElement=B,zt.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ct}},zt.memo=function(P,G){return{$$typeof:v,type:P,compare:G===void 0?null:G}},zt.startTransition=function(P){var G=j.T,nt={};j.T=nt;try{var pt=P(),vt=j.S;vt!==null&&vt(nt,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(J,F)}catch(_t){F(_t)}finally{G!==null&&nt.types!==null&&(G.types=nt.types),j.T=G}},zt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},zt.use=function(P){return j.H.use(P)},zt.useActionState=function(P,G,nt){return j.H.useActionState(P,G,nt)},zt.useCallback=function(P,G){return j.H.useCallback(P,G)},zt.useContext=function(P){return j.H.useContext(P)},zt.useDebugValue=function(){},zt.useDeferredValue=function(P,G){return j.H.useDeferredValue(P,G)},zt.useEffect=function(P,G){return j.H.useEffect(P,G)},zt.useEffectEvent=function(P){return j.H.useEffectEvent(P)},zt.useId=function(){return j.H.useId()},zt.useImperativeHandle=function(P,G,nt){return j.H.useImperativeHandle(P,G,nt)},zt.useInsertionEffect=function(P,G){return j.H.useInsertionEffect(P,G)},zt.useLayoutEffect=function(P,G){return j.H.useLayoutEffect(P,G)},zt.useMemo=function(P,G){return j.H.useMemo(P,G)},zt.useOptimistic=function(P,G){return j.H.useOptimistic(P,G)},zt.useReducer=function(P,G,nt){return j.H.useReducer(P,G,nt)},zt.useRef=function(P){return j.H.useRef(P)},zt.useState=function(P){return j.H.useState(P)},zt.useSyncExternalStore=function(P,G,nt){return j.H.useSyncExternalStore(P,G,nt)},zt.useTransition=function(){return j.H.useTransition()},zt.version="19.2.3",zt}var hx;function vg(){return hx||(hx=1,Hp.exports=L2()),Hp.exports}var q=vg(),qp={exports:{}},lu={},Gp={exports:{}},Yp={};var px;function B2(){return px||(px=1,(function(i){function t(W,X){var ct=W.length;W.push(X);t:for(;0<ct;){var F=ct-1>>>1,at=W[F];if(0<o(at,X))W[F]=X,W[ct]=at,ct=F;else break t}}function e(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],ct=W.pop();if(ct!==X){W[0]=ct;t:for(var F=0,at=W.length,P=at>>>1;F<P;){var G=2*(F+1)-1,nt=W[G],pt=G+1,vt=W[pt];if(0>o(nt,ct))pt<at&&0>o(vt,nt)?(W[F]=vt,W[pt]=ct,F=pt):(W[F]=nt,W[G]=ct,F=G);else if(pt<at&&0>o(vt,ct))W[F]=vt,W[pt]=ct,F=pt;else break t}}return X}function o(W,X){var ct=W.sortIndex-X.sortIndex;return ct!==0?ct:W.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();i.unstable_now=function(){return c.now()-p}}var g=[],v=[],x=1,f=null,_=3,S=!1,E=!1,R=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Y(W){for(var X=e(v);X!==null;){if(X.callback===null)r(v);else if(X.startTime<=W)r(v),X.sortIndex=X.expirationTime,t(g,X);else break;X=e(v)}}function et(W){if(R=!1,Y(W),!E)if(e(g)!==null)E=!0,J||(J=!0,U());else{var X=e(v);X!==null&&Ft(et,X.startTime-W)}}var J=!1,j=-1,C=5,I=-1;function k(){return M?!0:!(i.unstable_now()-I<C)}function B(){if(M=!1,J){var W=i.unstable_now();I=W;var X=!0;try{t:{E=!1,R&&(R=!1,O(j),j=-1),S=!0;var ct=_;try{e:{for(Y(W),f=e(g);f!==null&&!(f.expirationTime>W&&k());){var F=f.callback;if(typeof F=="function"){f.callback=null,_=f.priorityLevel;var at=F(f.expirationTime<=W);if(W=i.unstable_now(),typeof at=="function"){f.callback=at,Y(W),X=!0;break e}f===e(g)&&r(g),Y(W)}else r(g);f=e(g)}if(f!==null)X=!0;else{var P=e(v);P!==null&&Ft(et,P.startTime-W),X=!1}}break t}finally{f=null,_=ct,S=!1}X=void 0}}finally{X?U():J=!1}}}var U;if(typeof L=="function")U=function(){L(B)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ct=N.port2;N.port1.onmessage=B,U=function(){Ct.postMessage(null)}}else U=function(){V(B,0)};function Ft(W,X){j=V(function(){W(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(W){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var ct=_;_=X;try{return W()}finally{_=ct}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ct=_;_=W;try{return X()}finally{_=ct}},i.unstable_scheduleCallback=function(W,X,ct){var F=i.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?F+ct:F):ct=F,W){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=ct+at,W={id:x++,callback:X,priorityLevel:W,startTime:ct,expirationTime:at,sortIndex:-1},ct>F?(W.sortIndex=ct,t(v,W),e(g)===null&&W===e(v)&&(R?(O(j),j=-1):R=!0,Ft(et,ct-F))):(W.sortIndex=at,t(g,W),E||S||(E=!0,J||(J=!0,U()))),W},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(W){var X=_;return function(){var ct=_;_=X;try{return W.apply(this,arguments)}finally{_=ct}}}})(Yp)),Yp}var mx;function z2(){return mx||(mx=1,Gp.exports=B2()),Gp.exports}var Qp={exports:{}},Tn={};var gx;function U2(){if(gx)return Tn;gx=1;var i=vg();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,x){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:g,containerInfo:v,implementation:x}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(g,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(g,v,null,x)},Tn.flushSync=function(g){var v=c.T,x=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=v,r.p=x,r.d.f()}},Tn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},Tn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Tn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var x=v.as,f=p(x,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:f,integrity:_,fetchPriority:S}):x==="script"&&r.d.X(g,{crossOrigin:f,integrity:_,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Tn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},Tn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,f=p(x,v.crossOrigin);r.d.L(g,x,{crossOrigin:f,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Tn.preloadModule=function(g,v){if(typeof g=="string")if(v){var x=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},Tn.requestFormReset=function(g){r.d.r(g)},Tn.unstable_batchedUpdates=function(g,v){return g(v)},Tn.useFormState=function(g,v,x){return c.H.useFormState(g,v,x)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var yx;function F2(){if(yx)return Qp.exports;yx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qp.exports=U2(),Qp.exports}var vx;function H2(){if(vx)return lu;vx=1;var i=z2(),t=vg(),e=F2();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(r(188))}function v(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),n;if(m===l)return g(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var T=!1,w=h.child;w;){if(w===a){T=!0,a=h,l=m;break}if(w===l){T=!0,l=h,a=m;break}w=w.sibling}if(!T){for(w=m.child;w;){if(w===a){T=!0,a=m,l=h;break}if(w===l){T=!0,l=m,a=h;break}w=w.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function x(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=x(n),s!==null)return s;n=n.sibling}return null}var f=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Ct(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case V:return"Profiler";case M:return"StrictMode";case et:return"Suspense";case J:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case L:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case Y:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return s=n.displayName||null,s!==null?s:Ct(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return Ct(n(s))}catch{}}return null}var Ft=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},F=[],at=-1;function P(n){return{current:n}}function G(n){0>at||(n.current=F[at],F[at]=null,at--)}function nt(n,s){at++,F[at]=n.current,n.current=s}var pt=P(null),vt=P(null),_t=P(null),Tt=P(null);function St(n,s){switch(nt(_t,s),nt(vt,n),nt(pt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?M_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=M_(s),n=O_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(pt),nt(pt,n)}function wt(){G(pt),G(vt),G(_t)}function Wt(n){n.memoizedState!==null&&nt(Tt,n);var s=pt.current,a=O_(s,n.type);s!==a&&(nt(vt,n),nt(pt,a))}function le(n){vt.current===n&&(G(pt),G(vt)),Tt.current===n&&(G(Tt),nu._currentValue=ct)}var Vn,cn;function bn(n){if(Vn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Vn=s&&s[1]||"",cn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+n+cn}var xs=!1;function qn(n,s){if(!n||xs)return"";xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(st){var tt=st}Reflect.construct(n,[],dt)}else{try{dt.call()}catch(st){tt=st}n.call(dt.prototype)}}else{try{throw Error()}catch(st){tt=st}(dt=n())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(st){if(st&&tt&&typeof st.stack=="string")return[st.stack,tt.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],w=m[1];if(T&&w){var z=T.split(`
`),Z=w.split(`
`);for(h=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===z.length||h===Z.length)for(l=z.length-1,h=Z.length-1;1<=l&&0<=h&&z[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(z[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||z[l]!==Z[h]){var ot=`
`+z[l].replace(" at new "," at ");return n.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",n.displayName)),ot}while(1<=l&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?bn(a):""}function bs(n,s){switch(n.tag){case 26:case 27:case 5:return bn(n.type);case 16:return bn("Lazy");case 13:return n.child!==s&&s!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return qn(n.type,!1);case 11:return qn(n.type.render,!1);case 1:return qn(n.type,!0);case 31:return bn("Activity");default:return""}}function zi(n){try{var s="",a=null;do s+=bs(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,Nt=i.unstable_scheduleCallback,rt=i.unstable_cancelCallback,gt=i.unstable_shouldYield,ne=i.unstable_requestPaint,Bt=i.unstable_now,te=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,Ui=i.unstable_UserBlockingPriority,Qs=i.unstable_NormalPriority,Gd=i.unstable_LowPriority,Xu=i.unstable_IdlePriority,$u=i.log,Zu=i.unstable_setDisableYieldValue,Si=null,fn=null;function si(n){if(typeof $u=="function"&&Zu(n),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Si,n)}catch{}}var Pe=Math.clz32?Math.clz32:tc,Ju=Math.log,za=Math.LN2;function tc(n){return n>>>=0,n===0?32:31-(Ju(n)/za|0)|0}var Fi=256,Qr=262144,Ue=4194304;function Hi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?h=Hi(l):(T&=w,T!==0?h=Hi(T):a||(a=w&~n,a!==0&&(h=Hi(a))))):(w=l&~m,w!==0?h=Hi(w):T!==0?h=Hi(T):a||(a=l&~n,a!==0&&(h=Hi(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Ai(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Yd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var n=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),n}function Gi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Wr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qd(n,s,a,l,h,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,z=n.expirationTimes,Z=n.hiddenUpdates;for(a=T&~a;0<a;){var ot=31-Pe(a),dt=1<<ot;w[ot]=0,z[ot]=-1;var tt=Z[ot];if(tt!==null)for(Z[ot]=null,ot=0;ot<tt.length;ot++){var st=tt[ot];st!==null&&(st.lane&=-536870913)}a&=~dt}l!==0&&Kr(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~s))}function Kr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Pe(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function ol(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Pe(a),h=1<<l;h&s|n[l]&s&&(n[l]|=s),a&=~h}}function ll(n,s){var a=s&-s;return a=(a&42)!==0?1:Xr(a),(a&(n.suspendedLanes|s))!==0?0:a}function Xr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ts(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function nc(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:ix(n.type))}function Ei(n,s){var a=X.p;try{return X.p=n,s()}finally{X.p=a}}var wi=Math.random().toString(36).slice(2),Fe="__reactFiber$"+wi,sn="__reactProps$"+wi,Yi="__reactContainer$"+wi,Ua="__reactEvents$"+wi,Wd="__reactListeners$"+wi,ic="__reactHandles$"+wi,sc="__reactResources$"+wi,Qi="__reactMarker$"+wi;function Fa(n){delete n[Fe],delete n[sn],delete n[Ua],delete n[Wd],delete n[ic]}function Wi(n){var s=n[Fe];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yi]||a[Fe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=U_(n);n!==null;){if(a=n[Fe])return a;n=U_(n)}return s}n=a,a=n.parentNode}return null}function ri(n){if(n=n[Fe]||n[Yi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Gn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ki(n){var s=n[sc];return s||(s=n[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function He(n){n[Qi]=!0}var ul=new Set,cl={};function Xi(n,s){$i(n,s),$i(n+"Capture",s)}function $i(n,s){for(cl[n]=s,n=0;n<s.length;n++)ul.add(s[n])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},hl={};function rc(n){return re.call(hl,n)?!0:re.call(dl,n)?!1:fl.test(n)?hl[n]=!0:(dl[n]=!0,!1)}function Ha(n,s,a){if(rc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Yn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function qe(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ws(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pl(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function pe(n){if(!n._valueTracker){var s=Ws(n)?"checked":"value";n._valueTracker=pl(n,s,""+n[s])}}function $r(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ws(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Zi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zr=/[\n"\\]/g;function jn(n){return n.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qa(n,s,a,l,h,m,T,w){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+rn(s)):n.value!==""+rn(s)&&(n.value=""+rn(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?ml(n,T,rn(s)):a!=null?ml(n,T,rn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+rn(w):n.removeAttribute("name")}function ac(n,s,a,l,h,m,T,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){pe(n);return}a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),pe(n)}function ml(n,s,a){s==="number"&&Zi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ks(n,s,a,l){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+rn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+rn(a):""}function Xs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),pe(n)}function Mn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function yl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&gl(n,h,l)}else for(var m in s)s.hasOwnProperty(m)&&gl(n,m,s[m])}function Ga(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(n){return $s.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ci(){}var vl=null;function ai(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zs=null,Ji=null;function Jr(n){var s=ri(n);if(s&&(n=s.stateNode)){var a=n[sn]||null;t:switch(n=s.stateNode,s.type){case"input":if(qa(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var h=l[sn]||null;if(!h)throw Error(r(90));qa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&$r(l)}break t;case"textarea":oc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ks(n,!!a.multiple,s,!1)}}}var Qa=!1;function Js(n,s,a){if(Qa)return n(s,a);Qa=!0;try{var l=n(s);return l}finally{if(Qa=!1,(Zs!==null||Ji!==null)&&(nf(),Zs&&(s=Zs,n=Ji,Ji=Zs=null,Jr(s),n)))for(s=0;s<n.length;s++)Jr(n[s])}}function Ri(n,s){var a=n.stateNode;if(a===null)return null;var l=a[sn]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(oi)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){ta=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{ta=!1}var ts=null,_l=null,ea=null;function xl(){if(ea)return ea;var n,s=_l,a=s.length,l,h="value"in ts?ts.value:ts.textContent,m=h.length;for(n=0;n<a&&s[n]===h[n];n++);var T=a-n;for(l=1;l<=T&&s[a-l]===h[m-l];l++);return ea=h.slice(n,1<l?1-l:void 0)}function na(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ss(){return!0}function Ii(){return!1}function dn(n){function s(a,l,h,m,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ss:Ii,this.isPropagationStopped=Ii,this}return f(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),s}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=dn(As),tr=f({},As,{view:0,detail:0}),bl=dn(tr),er,Wa,ns,Ka=f({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ns&&(ns&&n.type==="mousemove"?(er=n.screenX-ns.screenX,Wa=n.screenY-ns.screenY):Wa=er=0,ns=n),er)},movementY:function(n){return"movementY"in n?n.movementY:Wa}}),Tl=dn(Ka),ia=f({},Ka,{dataTransfer:0}),cc=dn(ia),fc=f({},tr,{relatedTarget:0}),sa=dn(fc),Sl=f({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=dn(Sl),Xa=f({},As,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hc=dn(Xa),pc=f({},As,{data:0}),is=dn(pc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function nr(){return vc}var Cn=f({},tr,{key:function(n){if(n.key){var s=mc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_c=dn(Cn),xc=f({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=dn(xc),d=f({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),b=dn(d),A=f({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=dn(A),K=f({},Ka,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),it=dn(K),mt=f({},As,{newState:0,oldState:0}),Ht=dn(mt),ke=[9,13,27,32],ue=oi&&"CompositionEvent"in window,we=null;oi&&"documentMode"in document&&(we=document.documentMode);var li=oi&&"TextEvent"in window&&!we,ss=oi&&(!ue||we&&8<we&&11>=we),Di=" ",Vi=!1;function ra(n,s){switch(n){case"keyup":return ke.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function aw(n,s){switch(n){case"compositionend":return $a(s);case"keypress":return s.which!==32?null:(Vi=!0,Di);case"textInput":return n=s.data,n===Di&&Vi?null:n;default:return null}}function ow(n,s){if(Za)return n==="compositionend"||!ue&&ra(n,s)?(n=xl(),ea=_l=ts=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ss&&s.locale!=="ko"?null:s.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!lw[n.type]:s==="textarea"}function Gy(n,s,a,l){Zs?Ji?Ji.push(l):Ji=[l]:Zs=l,s=cf(s,"onChange"),0<s.length&&(a=new es("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Al=null,El=null;function uw(n){C_(n,0)}function bc(n){var s=Gn(n);if($r(s))return n}function Yy(n,s){if(n==="change")return s}var Qy=!1;if(oi){var Kd;if(oi){var Xd="oninput"in document;if(!Xd){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),Xd=typeof Wy.oninput=="function"}Kd=Xd}else Kd=!1;Qy=Kd&&(!document.documentMode||9<document.documentMode)}function Ky(){Al&&(Al.detachEvent("onpropertychange",Xy),El=Al=null)}function Xy(n){if(n.propertyName==="value"&&bc(El)){var s=[];Gy(s,El,n,ai(n)),Js(uw,s)}}function cw(n,s,a){n==="focusin"?(Ky(),Al=s,El=a,Al.attachEvent("onpropertychange",Xy)):n==="focusout"&&Ky()}function fw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(El)}function dw(n,s){if(n==="click")return bc(s)}function hw(n,s){if(n==="input"||n==="change")return bc(s)}function pw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Qn=typeof Object.is=="function"?Object.is:pw;function wl(n,s){if(Qn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!re.call(s,h)||!Qn(n[h],s[h]))return!1}return!0}function $y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zy(n,s){var a=$y(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$y(a)}}function Jy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Jy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function t0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Zi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Zi(n.document)}return s}function $d(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var mw=oi&&"documentMode"in document&&11>=document.documentMode,Ja=null,Zd=null,Cl=null,Jd=!1;function e0(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jd||Ja==null||Ja!==Zi(l)||(l=Ja,"selectionStart"in l&&$d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&wl(Cl,l)||(Cl=l,l=cf(Zd,"onSelect"),0<l.length&&(s=new es("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ja)))}function aa(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var to={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},th={},n0={};oi&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function oa(n){if(th[n])return th[n];if(!to[n])return n;var s=to[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in n0)return th[n]=s[a];return n}var i0=oa("animationend"),s0=oa("animationiteration"),r0=oa("animationstart"),gw=oa("transitionrun"),yw=oa("transitionstart"),vw=oa("transitioncancel"),a0=oa("transitionend"),o0=new Map,eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eh.push("scrollEnd");function ji(n,s){o0.set(n,s),Xi(s,[n])}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ui=[],eo=0,nh=0;function Sc(){for(var n=eo,s=nh=eo=0;s<n;){var a=ui[s];ui[s++]=null;var l=ui[s];ui[s++]=null;var h=ui[s];ui[s++]=null;var m=ui[s];if(ui[s++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}m!==0&&l0(a,h,m)}}function Ac(n,s,a,l){ui[eo++]=n,ui[eo++]=s,ui[eo++]=a,ui[eo++]=l,nh|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ih(n,s,a,l){return Ac(n,s,a,l),Ec(n)}function la(n,s){return Ac(n,null,null,s),Ec(n)}function l0(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&s!==null&&(h=31-Pe(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function Ec(n){if(50<Kl)throw Kl=0,dp=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var no={};function _w(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,s,a,l){return new _w(n,s,a,l)}function sh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ws(n,s){var a=n.alternate;return a===null?(a=Wn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function u0(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function wc(n,s,a,l,h,m){var T=0;if(l=n,typeof n=="function")sh(n)&&(T=1);else if(typeof n=="string")T=A2(n,a,pt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=Wn(31,a,s,h),n.elementType=I,n.lanes=m,n;case R:return ua(a.children,h,m,s);case M:T=8,h|=24;break;case V:return n=Wn(12,a,s,h|2),n.elementType=V,n.lanes=m,n;case et:return n=Wn(13,a,s,h),n.elementType=et,n.lanes=m,n;case J:return n=Wn(19,a,s,h),n.elementType=J,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:T=10;break t;case O:T=9;break t;case Y:T=11;break t;case j:T=14;break t;case C:T=16,l=null;break t}T=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Wn(T,a,s,h),s.elementType=n,s.type=l,s.lanes=m,s}function ua(n,s,a,l){return n=Wn(7,n,l,s),n.lanes=a,n}function rh(n,s,a){return n=Wn(6,n,null,s),n.lanes=a,n}function c0(n){var s=Wn(18,null,null,0);return s.stateNode=n,s}function ah(n,s,a){return s=Wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var f0=new WeakMap;function ci(n,s){if(typeof n=="object"&&n!==null){var a=f0.get(n);return a!==void 0?a:(s={value:n,source:s,stack:zi(s)},f0.set(n,s),s)}return{value:n,source:s,stack:zi(s)}}var io=[],so=0,Cc=null,Rl=0,fi=[],di=0,ir=null,rs=1,as="";function Cs(n,s){io[so++]=Rl,io[so++]=Cc,Cc=n,Rl=s}function d0(n,s,a){fi[di++]=rs,fi[di++]=as,fi[di++]=ir,ir=n;var l=rs;n=as;var h=32-Pe(l)-1;l&=~(1<<h),a+=1;var m=32-Pe(s)+h;if(30<m){var T=h-h%5;m=(l&(1<<T)-1).toString(32),l>>=T,h-=T,rs=1<<32-Pe(s)+h|a<<h|l,as=m+n}else rs=1<<m|a<<h|l,as=n}function oh(n){n.return!==null&&(Cs(n,1),d0(n,1,0))}function lh(n){for(;n===Cc;)Cc=io[--so],io[so]=null,Rl=io[--so],io[so]=null;for(;n===ir;)ir=fi[--di],fi[di]=null,as=fi[--di],fi[di]=null,rs=fi[--di],fi[di]=null}function h0(n,s){fi[di++]=rs,fi[di++]=as,fi[di++]=ir,rs=s.id,as=s.overflow,ir=n}var hn=null,Se=null,ee=!1,sr=null,hi=!1,uh=Error(r(519));function rr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(ci(s,n)),uh}function p0(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Fe]=n,s[sn]=l,a){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(a=0;a<$l.length;a++)Qt($l[a],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),Xs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||V_(s.textContent,a)?(l.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),l.onScroll!=null&&Qt("scroll",s),l.onScrollEnd!=null&&Qt("scrollend",s),l.onClick!=null&&(s.onclick=Ci),s=!0):s=!1,s||rr(n,!0)}function m0(n){for(hn=n.return;hn;)switch(hn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:hn=hn.return}}function ro(n){if(n!==hn)return!1;if(!ee)return m0(n),ee=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cp(n.type,n.memoizedProps)),a=!a),a&&Se&&rr(n),m0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Se=z_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Se=z_(n)}else s===27?(s=Se,_r(n.type)?(n=jp,jp=null,Se=n):Se=s):Se=hn?mi(n.stateNode.nextSibling):null;return!0}function ca(){Se=hn=null,ee=!1}function ch(){var n=sr;return n!==null&&(kn===null?kn=n:kn.push.apply(kn,n),sr=null),n}function Il(n){sr===null?sr=[n]:sr.push(n)}var fh=P(null),fa=null,Rs=null;function ar(n,s,a){nt(fh,s._currentValue),s._currentValue=a}function Is(n){n._currentValue=fh.current,G(fh)}function dh(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function hh(n,s,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=h;for(var z=0;z<s.length;z++)if(w.context===s[z]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),dh(m.return,a,n),l||(T=null);break t}m=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),dh(T,a,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ao(n,s,a,l){n=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var w=h.type;Qn(h.pendingProps.value,T.value)||(n!==null?n.push(w):n=[w])}}else if(h===Tt.current){if(T=h.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(nu):n=[nu])}h=h.return}n!==null&&hh(s,n,a,l),s.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!Qn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){fa=n,Rs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pn(n){return g0(fa,n)}function Ic(n,s){return fa===null&&da(n),g0(n,s)}function g0(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Rs===null){if(n===null)throw Error(r(308));Rs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Rs=Rs.next=s;return a}var xw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},bw=i.unstable_scheduleCallback,Tw=i.unstable_NormalPriority,Ge={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new xw,data:new Map,refCount:0}}function Dl(n){n.refCount--,n.refCount===0&&bw(Tw,function(){n.controller.abort()})}var Vl=null,mh=0,oo=0,lo=null;function Sw(n,s){if(Vl===null){var a=Vl=[];mh=0,oo=vp(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mh++,s.then(y0,y0),s}function y0(){if(--mh===0&&Vl!==null){lo!==null&&(lo.status="fulfilled");var n=Vl;Vl=null,oo=0,lo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Aw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var v0=W.S;W.S=function(n,s){e_=Bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sw(n,s),v0!==null&&v0(n,s)};var ha=P(null);function gh(){var n=ha.current;return n!==null?n:be.pooledCache}function Dc(n,s){s===null?nt(ha,ha.current):nt(ha,s.pool)}function _0(){var n=gh();return n===null?null:{parent:Ge._currentValue,pool:n}}var uo=Error(r(460)),yh=Error(r(474)),Vc=Error(r(542)),jc={then:function(){}};function x0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function b0(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Ci,Ci),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,S0(n),n;default:if(typeof s.status=="string")s.then(Ci,Ci);else{if(n=be,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,S0(n),n}throw ma=s,uo}}function pa(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,uo):a}}var ma=null;function T0(){if(ma===null)throw Error(r(459));var n=ma;return ma=null,n}function S0(n){if(n===uo||n===Vc)throw Error(r(483))}var co=null,jl=0;function Mc(n){var s=jl;return jl+=1,co===null&&(co=[]),b0(co,n,s)}function Ml(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Oc(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function A0(n){function s(Q,H){if(n){var $=Q.deletions;$===null?(Q.deletions=[H],Q.flags|=16):$.push(H)}}function a(Q,H){if(!n)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function l(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function h(Q,H){return Q=ws(Q,H),Q.index=0,Q.sibling=null,Q}function m(Q,H,$){return Q.index=$,n?($=Q.alternate,$!==null?($=$.index,$<H?(Q.flags|=67108866,H):$):(Q.flags|=67108866,H)):(Q.flags|=1048576,H)}function T(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function w(Q,H,$,lt){return H===null||H.tag!==6?(H=rh($,Q.mode,lt),H.return=Q,H):(H=h(H,$),H.return=Q,H)}function z(Q,H,$,lt){var Rt=$.type;return Rt===R?ot(Q,H,$.props.children,lt,$.key):H!==null&&(H.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===C&&pa(Rt)===H.type)?(H=h(H,$.props),Ml(H,$),H.return=Q,H):(H=wc($.type,$.key,$.props,null,Q.mode,lt),Ml(H,$),H.return=Q,H)}function Z(Q,H,$,lt){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=ah($,Q.mode,lt),H.return=Q,H):(H=h(H,$.children||[]),H.return=Q,H)}function ot(Q,H,$,lt,Rt){return H===null||H.tag!==7?(H=ua($,Q.mode,lt,Rt),H.return=Q,H):(H=h(H,$),H.return=Q,H)}function dt(Q,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=rh(""+H,Q.mode,$),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return $=wc(H.type,H.key,H.props,null,Q.mode,$),Ml($,H),$.return=Q,$;case E:return H=ah(H,Q.mode,$),H.return=Q,H;case C:return H=pa(H),dt(Q,H,$)}if(Ft(H)||U(H))return H=ua(H,Q.mode,$,null),H.return=Q,H;if(typeof H.then=="function")return dt(Q,Mc(H),$);if(H.$$typeof===L)return dt(Q,Ic(Q,H),$);Oc(Q,H)}return null}function tt(Q,H,$,lt){var Rt=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Rt!==null?null:w(Q,H,""+$,lt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Rt?z(Q,H,$,lt):null;case E:return $.key===Rt?Z(Q,H,$,lt):null;case C:return $=pa($),tt(Q,H,$,lt)}if(Ft($)||U($))return Rt!==null?null:ot(Q,H,$,lt,null);if(typeof $.then=="function")return tt(Q,H,Mc($),lt);if($.$$typeof===L)return tt(Q,H,Ic(Q,$),lt);Oc(Q,$)}return null}function st(Q,H,$,lt,Rt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Q=Q.get($)||null,w(H,Q,""+lt,Rt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case S:return Q=Q.get(lt.key===null?$:lt.key)||null,z(H,Q,lt,Rt);case E:return Q=Q.get(lt.key===null?$:lt.key)||null,Z(H,Q,lt,Rt);case C:return lt=pa(lt),st(Q,H,$,lt,Rt)}if(Ft(lt)||U(lt))return Q=Q.get($)||null,ot(H,Q,lt,Rt,null);if(typeof lt.then=="function")return st(Q,H,$,Mc(lt),Rt);if(lt.$$typeof===L)return st(Q,H,$,Ic(H,lt),Rt);Oc(H,lt)}return null}function At(Q,H,$,lt){for(var Rt=null,ae=null,Et=H,Gt=H=0,Xt=null;Et!==null&&Gt<$.length;Gt++){Et.index>Gt?(Xt=Et,Et=null):Xt=Et.sibling;var oe=tt(Q,Et,$[Gt],lt);if(oe===null){Et===null&&(Et=Xt);break}n&&Et&&oe.alternate===null&&s(Q,Et),H=m(oe,H,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe,Et=Xt}if(Gt===$.length)return a(Q,Et),ee&&Cs(Q,Gt),Rt;if(Et===null){for(;Gt<$.length;Gt++)Et=dt(Q,$[Gt],lt),Et!==null&&(H=m(Et,H,Gt),ae===null?Rt=Et:ae.sibling=Et,ae=Et);return ee&&Cs(Q,Gt),Rt}for(Et=l(Et);Gt<$.length;Gt++)Xt=st(Et,Q,Gt,$[Gt],lt),Xt!==null&&(n&&Xt.alternate!==null&&Et.delete(Xt.key===null?Gt:Xt.key),H=m(Xt,H,Gt),ae===null?Rt=Xt:ae.sibling=Xt,ae=Xt);return n&&Et.forEach(function(Ar){return s(Q,Ar)}),ee&&Cs(Q,Gt),Rt}function Dt(Q,H,$,lt){if($==null)throw Error(r(151));for(var Rt=null,ae=null,Et=H,Gt=H=0,Xt=null,oe=$.next();Et!==null&&!oe.done;Gt++,oe=$.next()){Et.index>Gt?(Xt=Et,Et=null):Xt=Et.sibling;var Ar=tt(Q,Et,oe.value,lt);if(Ar===null){Et===null&&(Et=Xt);break}n&&Et&&Ar.alternate===null&&s(Q,Et),H=m(Ar,H,Gt),ae===null?Rt=Ar:ae.sibling=Ar,ae=Ar,Et=Xt}if(oe.done)return a(Q,Et),ee&&Cs(Q,Gt),Rt;if(Et===null){for(;!oe.done;Gt++,oe=$.next())oe=dt(Q,oe.value,lt),oe!==null&&(H=m(oe,H,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe);return ee&&Cs(Q,Gt),Rt}for(Et=l(Et);!oe.done;Gt++,oe=$.next())oe=st(Et,Q,Gt,oe.value,lt),oe!==null&&(n&&oe.alternate!==null&&Et.delete(oe.key===null?Gt:oe.key),H=m(oe,H,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe);return n&&Et.forEach(function(N2){return s(Q,N2)}),ee&&Cs(Q,Gt),Rt}function xe(Q,H,$,lt){if(typeof $=="object"&&$!==null&&$.type===R&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:t:{for(var Rt=$.key;H!==null;){if(H.key===Rt){if(Rt=$.type,Rt===R){if(H.tag===7){a(Q,H.sibling),lt=h(H,$.props.children),lt.return=Q,Q=lt;break t}}else if(H.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===C&&pa(Rt)===H.type){a(Q,H.sibling),lt=h(H,$.props),Ml(lt,$),lt.return=Q,Q=lt;break t}a(Q,H);break}else s(Q,H);H=H.sibling}$.type===R?(lt=ua($.props.children,Q.mode,lt,$.key),lt.return=Q,Q=lt):(lt=wc($.type,$.key,$.props,null,Q.mode,lt),Ml(lt,$),lt.return=Q,Q=lt)}return T(Q);case E:t:{for(Rt=$.key;H!==null;){if(H.key===Rt)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){a(Q,H.sibling),lt=h(H,$.children||[]),lt.return=Q,Q=lt;break t}else{a(Q,H);break}else s(Q,H);H=H.sibling}lt=ah($,Q.mode,lt),lt.return=Q,Q=lt}return T(Q);case C:return $=pa($),xe(Q,H,$,lt)}if(Ft($))return At(Q,H,$,lt);if(U($)){if(Rt=U($),typeof Rt!="function")throw Error(r(150));return $=Rt.call($),Dt(Q,H,$,lt)}if(typeof $.then=="function")return xe(Q,H,Mc($),lt);if($.$$typeof===L)return xe(Q,H,Ic(Q,$),lt);Oc(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(a(Q,H.sibling),lt=h(H,$),lt.return=Q,Q=lt):(a(Q,H),lt=rh($,Q.mode,lt),lt.return=Q,Q=lt),T(Q)):a(Q,H)}return function(Q,H,$,lt){try{jl=0;var Rt=xe(Q,H,$,lt);return co=null,Rt}catch(Et){if(Et===uo||Et===Vc)throw Et;var ae=Wn(29,Et,null,Q.mode);return ae.lanes=lt,ae.return=Q,ae}}}var ga=A0(!0),E0=A0(!1),or=!1;function vh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function lr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ur(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ce&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Ec(n),l0(n,null,a),s}return Ac(n,l,s,a),Ec(n)}function Ol(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,ol(n,a)}}function xh(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var bh=!1;function Nl(){if(bh){var n=lo;if(n!==null)throw n}}function Pl(n,s,a,l){bh=!1;var h=n.updateQueue;or=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var z=w,Z=z.next;z.next=null,T===null?m=Z:T.next=Z,T=z;var ot=n.alternate;ot!==null&&(ot=ot.updateQueue,w=ot.lastBaseUpdate,w!==T&&(w===null?ot.firstBaseUpdate=Z:w.next=Z,ot.lastBaseUpdate=z))}if(m!==null){var dt=h.baseState;T=0,ot=Z=z=null,w=m;do{var tt=w.lane&-536870913,st=tt!==w.lane;if(st?(Kt&tt)===tt:(l&tt)===tt){tt!==0&&tt===oo&&(bh=!0),ot!==null&&(ot=ot.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=n,Dt=w;tt=s;var xe=a;switch(Dt.tag){case 1:if(At=Dt.payload,typeof At=="function"){dt=At.call(xe,dt,tt);break t}dt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Dt.payload,tt=typeof At=="function"?At.call(xe,dt,tt):At,tt==null)break t;dt=f({},dt,tt);break t;case 2:or=!0}}tt=w.callback,tt!==null&&(n.flags|=64,st&&(n.flags|=8192),st=h.callbacks,st===null?h.callbacks=[tt]:st.push(tt))}else st={lane:tt,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ot===null?(Z=ot=st,z=dt):ot=ot.next=st,T|=tt;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;st=w,w=st.next,st.next=null,h.lastBaseUpdate=st,h.shared.pending=null}}while(!0);ot===null&&(z=dt),h.baseState=z,h.firstBaseUpdate=Z,h.lastBaseUpdate=ot,m===null&&(h.shared.lanes=0),pr|=T,n.lanes=T,n.memoizedState=dt}}function w0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function C0(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)w0(a[n],s)}var fo=P(null),Nc=P(0);function R0(n,s){n=Ls,nt(Nc,n),nt(fo,s),Ls=n|s.baseLanes}function Th(){nt(Nc,Ls),nt(fo,fo.current)}function Sh(){Ls=Nc.current,G(fo),G(Nc)}var Kn=P(null),pi=null;function cr(n){var s=n.alternate;nt(Le,Le.current&1),nt(Kn,n),pi===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(pi=n)}function Ah(n){nt(Le,Le.current),nt(Kn,n),pi===null&&(pi=n)}function I0(n){n.tag===22?(nt(Le,Le.current),nt(Kn,n),pi===null&&(pi=n)):fr()}function fr(){nt(Le,Le.current),nt(Kn,Kn.current)}function Xn(n){G(Kn),pi===n&&(pi=null),G(Le)}var Le=P(0);function Pc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dp(a)||Vp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ds=0,qt=null,ve=null,Ye=null,kc=!1,ho=!1,ya=!1,Lc=0,kl=0,po=null,Ew=0;function je(){throw Error(r(321))}function Eh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Qn(n[a],s[a]))return!1;return!0}function wh(n,s,a,l,h,m){return Ds=m,qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?dv:Uh,ya=!1,m=a(l,h),ya=!1,ho&&(m=V0(s,a,l,h)),D0(n),m}function D0(n){W.H=zl;var s=ve!==null&&ve.next!==null;if(Ds=0,Ye=ve=qt=null,kc=!1,kl=0,po=null,s)throw Error(r(300));n===null||Qe||(n=n.dependencies,n!==null&&Rc(n)&&(Qe=!0))}function V0(n,s,a,l){qt=n;var h=0;do{if(ho&&(po=null),kl=0,ho=!1,25<=h)throw Error(r(301));if(h+=1,Ye=ve=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=hv,m=s(a,l)}while(ho);return m}function ww(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?Ll(s):s,n=n.useState()[0],(ve!==null?ve.memoizedState:null)!==n&&(qt.flags|=1024),s}function Ch(){var n=Lc!==0;return Lc=0,n}function Rh(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Ih(n){if(kc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kc=!1}Ds=0,Ye=ve=qt=null,ho=!1,kl=Lc=0,po=null}function Rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?qt.memoizedState=Ye=n:Ye=Ye.next=n,Ye}function Be(){if(ve===null){var n=qt.alternate;n=n!==null?n.memoizedState:null}else n=ve.next;var s=Ye===null?qt.memoizedState:Ye.next;if(s!==null)Ye=s,ve=n;else{if(n===null)throw qt.alternate===null?Error(r(467)):Error(r(310));ve=n,n={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ye===null?qt.memoizedState=Ye=n:Ye=Ye.next=n}return Ye}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var s=kl;return kl+=1,po===null&&(po=[]),n=b0(po,n,s),s=qt,(Ye===null?s.memoizedState:Ye.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?dv:Uh),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===L)return pn(n)}throw Error(r(438,String(n)))}function Dh(n){var s=null,a=qt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=qt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Bc(),qt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=k;return s.index++,a}function Vs(n,s){return typeof s=="function"?s(n):s}function Uc(n){var s=Be();return Vh(s,ve,n)}function Vh(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}s.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{s=h.next;var w=T=null,z=null,Z=s,ot=!1;do{var dt=Z.lane&-536870913;if(dt!==Z.lane?(Kt&dt)===dt:(Ds&dt)===dt){var tt=Z.revertLane;if(tt===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),dt===oo&&(ot=!0);else if((Ds&tt)===tt){Z=Z.next,tt===oo&&(ot=!0);continue}else dt={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=dt,T=m):z=z.next=dt,qt.lanes|=tt,pr|=tt;dt=Z.action,ya&&a(m,dt),m=Z.hasEagerState?Z.eagerState:a(m,dt)}else tt={lane:dt,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=tt,T=m):z=z.next=tt,qt.lanes|=dt,pr|=dt;Z=Z.next}while(Z!==null&&Z!==s);if(z===null?T=m:z.next=w,!Qn(m,n.memoizedState)&&(Qe=!0,ot&&(a=lo,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=z,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function jh(n){var s=Be(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=n(m,T.action),T=T.next;while(T!==h);Qn(m,s.memoizedState)||(Qe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function j0(n,s,a){var l=qt,h=Be(),m=ee;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Qn((ve||h).memoizedState,a);if(T&&(h.memoizedState=a,Qe=!0),h=h.queue,Nh(N0.bind(null,l,h,n),[n]),h.getSnapshot!==s||T||Ye!==null&&Ye.memoizedState.tag&1){if(l.flags|=2048,mo(9,{destroy:void 0},O0.bind(null,l,h,a,s),null),be===null)throw Error(r(349));m||(Ds&127)!==0||M0(l,s,a)}return a}function M0(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=qt.updateQueue,s===null?(s=Bc(),qt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function O0(n,s,a,l){s.value=a,s.getSnapshot=l,P0(s)&&k0(n)}function N0(n,s,a){return a(function(){P0(s)&&k0(n)})}function P0(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Qn(n,a)}catch{return!0}}function k0(n){var s=la(n,2);s!==null&&Ln(s,n,2)}function Mh(n){var s=Rn();if(typeof n=="function"){var a=n;if(n=a(),ya){si(!0);try{a()}finally{si(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},s}function L0(n,s,a,l){return n.baseState=a,Vh(n,ve,typeof l=="function"?l:Vs)}function Cw(n,s,a,l,h){if(qc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,B0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function B0(n,s){var a=s.action,l=s.payload,h=n.state;if(s.isTransition){var m=W.T,T={};W.T=T;try{var w=a(h,l),z=W.S;z!==null&&z(T,w),z0(n,s,w)}catch(Z){Oh(n,s,Z)}finally{m!==null&&T.types!==null&&(m.types=T.types),W.T=m}}else try{m=a(h,l),z0(n,s,m)}catch(Z){Oh(n,s,Z)}}function z0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){U0(n,s,l)},function(l){return Oh(n,s,l)}):U0(n,s,a)}function U0(n,s,a){s.status="fulfilled",s.value=a,F0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,B0(n,a)))}function Oh(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,F0(s),s=s.next;while(s!==l)}n.action=null}function F0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function H0(n,s){return s}function q0(n,s){if(ee){var a=be.formState;if(a!==null){t:{var l=qt;if(ee){if(Se){e:{for(var h=Se,m=hi;h.nodeType!==8;){if(!m){h=null;break e}if(h=mi(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Se=mi(h.nextSibling),l=h.data==="F!";break t}}rr(l)}l=!1}l&&(s=a[0])}}return a=Rn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:s},a.queue=l,a=uv.bind(null,qt,l),l.dispatch=a,l=Mh(!1),m=zh.bind(null,qt,!1,l.queue),l=Rn(),h={state:s,dispatch:null,action:n,pending:null},l.queue=h,a=Cw.bind(null,qt,h,m,a),h.dispatch=a,l.memoizedState=n,[s,a,!1]}function G0(n){var s=Be();return Y0(s,ve,n)}function Y0(n,s,a){if(s=Vh(n,s,H0)[0],n=Uc(Vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Ll(s)}catch(T){throw T===uo?Vc:T}else l=s;s=Be();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(qt.flags|=2048,mo(9,{destroy:void 0},Rw.bind(null,h,a),null)),[l,m,n]}function Rw(n,s){n.action=s}function Q0(n){var s=Be(),a=ve;if(a!==null)return Y0(s,a,n);Be(),s=s.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function mo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=qt.updateQueue,s===null&&(s=Bc(),qt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function W0(){return Be().memoizedState}function Fc(n,s,a,l){var h=Rn();qt.flags|=n,h.memoizedState=mo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Hc(n,s,a,l){var h=Be();l=l===void 0?null:l;var m=h.memoizedState.inst;ve!==null&&l!==null&&Eh(l,ve.memoizedState.deps)?h.memoizedState=mo(s,m,a,l):(qt.flags|=n,h.memoizedState=mo(1|s,m,a,l))}function K0(n,s){Fc(8390656,8,n,s)}function Nh(n,s){Hc(2048,8,n,s)}function Iw(n){qt.flags|=4;var s=qt.updateQueue;if(s===null)s=Bc(),qt.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function X0(n){var s=Be().memoizedState;return Iw({ref:s,nextImpl:n}),function(){if((ce&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function $0(n,s){return Hc(4,2,n,s)}function Z0(n,s){return Hc(4,4,n,s)}function J0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function tv(n,s,a){a=a!=null?a.concat([n]):null,Hc(4,4,J0.bind(null,s,n),a)}function Ph(){}function ev(n,s){var a=Be();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Eh(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function nv(n,s){var a=Be();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Eh(s,l[1]))return l[0];if(l=n(),ya){si(!0);try{n()}finally{si(!1)}}return a.memoizedState=[l,s],l}function kh(n,s,a){return a===void 0||(Ds&1073741824)!==0&&(Kt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=i_(),qt.lanes|=n,pr|=n,a)}function iv(n,s,a,l){return Qn(a,s)?a:fo.current!==null?(n=kh(n,a,l),Qn(n,s)||(Qe=!0),n):(Ds&42)===0||(Ds&1073741824)!==0&&(Kt&261930)===0?(Qe=!0,n.memoizedState=a):(n=i_(),qt.lanes|=n,pr|=n,s)}function sv(n,s,a,l,h){var m=X.p;X.p=m!==0&&8>m?m:8;var T=W.T,w={};W.T=w,zh(n,!1,s,a);try{var z=h(),Z=W.S;if(Z!==null&&Z(w,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ot=Aw(z,l);Bl(n,s,ot,Jn(n))}else Bl(n,s,l,Jn(n))}catch(dt){Bl(n,s,{then:function(){},status:"rejected",reason:dt},Jn())}finally{X.p=m,T!==null&&w.types!==null&&(T.types=w.types),W.T=T}}function Dw(){}function Lh(n,s,a,l){if(n.tag!==5)throw Error(r(476));var h=rv(n).queue;sv(n,h,s,ct,a===null?Dw:function(){return av(n),a(l)})}function rv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:ct},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function av(n){var s=rv(n);s.next===null&&(s=n.alternate.memoizedState),Bl(n,s.next.queue,{},Jn())}function Bh(){return pn(nu)}function ov(){return Be().memoizedState}function lv(){return Be().memoizedState}function Vw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Jn();n=lr(a);var l=ur(s,n,a);l!==null&&(Ln(l,s,a),Ol(l,s,a)),s={cache:ph()},n.payload=s;return}s=s.return}}function jw(n,s,a){var l=Jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(n)?cv(s,a):(a=ih(n,s,a,l),a!==null&&(Ln(a,n,l),fv(a,s,l)))}function uv(n,s,a){var l=Jn();Bl(n,s,a,l)}function Bl(n,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(n))cv(s,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,w=m(T,a);if(h.hasEagerState=!0,h.eagerState=w,Qn(w,T))return Ac(n,s,h,0),be===null&&Sc(),!1}catch{}if(a=ih(n,s,h,l),a!==null)return Ln(a,n,l),fv(a,s,l),!0}return!1}function zh(n,s,a,l){if(l={lane:2,revertLane:vp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(n)){if(s)throw Error(r(479))}else s=ih(n,a,l,2),s!==null&&Ln(s,n,2)}function qc(n){var s=n.alternate;return n===qt||s!==null&&s===qt}function cv(n,s){ho=kc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function fv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,ol(n,a)}}var zl={readContext:pn,use:zc,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};zl.useEffectEvent=je;var dv={readContext:pn,use:zc,useCallback:function(n,s){return Rn().memoizedState=[n,s===void 0?null:s],n},useContext:pn,useEffect:K0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Fc(4194308,4,J0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fc(4194308,4,n,s)},useInsertionEffect:function(n,s){Fc(4,2,n,s)},useMemo:function(n,s){var a=Rn();s=s===void 0?null:s;var l=n();if(ya){si(!0);try{n()}finally{si(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Rn();if(a!==void 0){var h=a(s);if(ya){si(!0);try{a(s)}finally{si(!1)}}}else h=s;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=jw.bind(null,qt,n),[l.memoizedState,n]},useRef:function(n){var s=Rn();return n={current:n},s.memoizedState=n},useState:function(n){n=Mh(n);var s=n.queue,a=uv.bind(null,qt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Ph,useDeferredValue:function(n,s){var a=Rn();return kh(a,n,s)},useTransition:function(){var n=Mh(!1);return n=sv.bind(null,qt,n.queue,!0,!1),Rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=qt,h=Rn();if(ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),be===null)throw Error(r(349));(Kt&127)!==0||M0(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,K0(N0.bind(null,l,m,n),[n]),l.flags|=2048,mo(9,{destroy:void 0},O0.bind(null,l,m,a,s),null),a},useId:function(){var n=Rn(),s=be.identifierPrefix;if(ee){var a=as,l=rs;a=(l&~(1<<32-Pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ew++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Bh,useFormState:q0,useActionState:q0,useOptimistic:function(n){var s=Rn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=zh.bind(null,qt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Dh,useCacheRefresh:function(){return Rn().memoizedState=Vw.bind(null,qt)},useEffectEvent:function(n){var s=Rn(),a={impl:n};return s.memoizedState=a,function(){if((ce&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uh={readContext:pn,use:zc,useCallback:ev,useContext:pn,useEffect:Nh,useImperativeHandle:tv,useInsertionEffect:$0,useLayoutEffect:Z0,useMemo:nv,useReducer:Uc,useRef:W0,useState:function(){return Uc(Vs)},useDebugValue:Ph,useDeferredValue:function(n,s){var a=Be();return iv(a,ve.memoizedState,n,s)},useTransition:function(){var n=Uc(Vs)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:Ll(n),s]},useSyncExternalStore:j0,useId:ov,useHostTransitionStatus:Bh,useFormState:G0,useActionState:G0,useOptimistic:function(n,s){var a=Be();return L0(a,ve,n,s)},useMemoCache:Dh,useCacheRefresh:lv};Uh.useEffectEvent=X0;var hv={readContext:pn,use:zc,useCallback:ev,useContext:pn,useEffect:Nh,useImperativeHandle:tv,useInsertionEffect:$0,useLayoutEffect:Z0,useMemo:nv,useReducer:jh,useRef:W0,useState:function(){return jh(Vs)},useDebugValue:Ph,useDeferredValue:function(n,s){var a=Be();return ve===null?kh(a,n,s):iv(a,ve.memoizedState,n,s)},useTransition:function(){var n=jh(Vs)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:Ll(n),s]},useSyncExternalStore:j0,useId:ov,useHostTransitionStatus:Bh,useFormState:Q0,useActionState:Q0,useOptimistic:function(n,s){var a=Be();return ve!==null?L0(a,ve,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:lv};hv.useEffectEvent=X0;function Fh(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:f({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hh={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Jn(),h=lr(l);h.payload=s,a!=null&&(h.callback=a),s=ur(n,h,l),s!==null&&(Ln(s,n,l),Ol(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Jn(),h=lr(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ur(n,h,l),s!==null&&(Ln(s,n,l),Ol(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Jn(),l=lr(a);l.tag=2,s!=null&&(l.callback=s),s=ur(n,l,a),s!==null&&(Ln(s,n,a),Ol(s,n,a))}};function pv(n,s,a,l,h,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!wl(a,l)||!wl(h,m):!0}function mv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Hh.enqueueReplaceState(s,s.state,null)}function va(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=f({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}function gv(n){Tc(n)}function yv(n){console.error(n)}function vv(n){Tc(n)}function Gc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function _v(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qh(n,s,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,s)},a}function xv(n){return n=lr(n),n.tag=3,n}function bv(n,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){_v(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){_v(s,a,l),typeof h!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Mw(n,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ao(s,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 31:case 13:return pi===null?sf():a.alternate===null&&Me===0&&(Me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),mp(n,l,h)),!1;case 22:return a.flags|=65536,l===jc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),mp(n,l,h)),!1}throw Error(r(435,a.tag))}return mp(n,l,h),sf(),!1}if(ee)return s=Kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==uh&&(n=Error(r(422),{cause:l}),Il(ci(n,a)))):(l!==uh&&(s=Error(r(423),{cause:l}),Il(ci(s,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=ci(l,a),h=qh(n.stateNode,l,h),xh(n,h),Me!==4&&(Me=2)),!1;var m=Error(r(520),{cause:l});if(m=ci(m,a),Wl===null?Wl=[m]:Wl.push(m),Me!==4&&(Me=2),s===null)return!0;l=ci(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=qh(a.stateNode,l,n),xh(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(mr===null||!mr.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xv(h),bv(h,n,a,l),xh(a,h),!1}a=a.return}while(a!==null);return!1}var Gh=Error(r(461)),Qe=!1;function mn(n,s,a,l){s.child=n===null?E0(s,null,a,l):ga(s,n.child,a,l)}function Tv(n,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return da(s),l=wh(n,s,a,T,m,h),w=Ch(),n!==null&&!Qe?(Rh(n,s,h),js(n,s,h)):(ee&&w&&oh(s),s.flags|=1,mn(n,s,l,h),s.child)}function Sv(n,s,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!sh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Av(n,s,m,l,h)):(n=wc(a.type,null,l,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Jh(n,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(T,l)&&n.ref===s.ref)return js(n,s,h)}return s.flags|=1,n=ws(m,l),n.ref=s.ref,n.return=s,s.child=n}function Av(n,s,a,l,h){if(n!==null){var m=n.memoizedProps;if(wl(m,l)&&n.ref===s.ref)if(Qe=!1,s.pendingProps=l=m,Jh(n,h))(n.flags&131072)!==0&&(Qe=!0);else return s.lanes=n.lanes,js(n,s,h)}return Yh(n,s,a,l,h)}function Ev(n,s,a,l){var h=l.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,n!==null){for(l=s.child=n.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,s.child=null;return wv(n,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dc(s,m!==null?m.cachePool:null),m!==null?R0(s,m):Th(),I0(s);else return l=s.lanes=536870912,wv(n,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Dc(s,m.cachePool),R0(s,m),fr(),s.memoizedState=null):(n!==null&&Dc(s,null),Th(),fr());return mn(n,s,h,a),s.child}function Ul(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function wv(n,s,a,l,h){var m=gh();return m=m===null?null:{parent:Ge._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},n!==null&&Dc(s,null),Th(),I0(s),n!==null&&ao(n,s,l,!0),s.childLanes=h,null}function Yc(n,s){return s=Wc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Cv(n,s,a){return ga(s,n.child,null,a),n=Yc(s,s.pendingProps),n.flags|=2,Xn(s),s.memoizedState=null,n}function Ow(n,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(ee){if(l.mode==="hidden")return n=Yc(s,l),s.lanes=536870912,Ul(null,n);if(Ah(s),(n=Se)?(n=B_(n,hi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ir!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=c0(n),a.return=s,s.child=a,hn=s,Se=null)):n=null,n===null)throw rr(s);return s.lanes=536870912,null}return Yc(s,l)}var m=n.memoizedState;if(m!==null){var T=m.dehydrated;if(Ah(s),h)if(s.flags&256)s.flags&=-257,s=Cv(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Qe||ao(n,s,a,!1),h=(a&n.childLanes)!==0,Qe||h){if(l=be,l!==null&&(T=ll(l,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,la(n,T),Ln(l,n,T),Gh;sf(),s=Cv(n,s,a)}else n=m.treeContext,Se=mi(T.nextSibling),hn=s,ee=!0,sr=null,hi=!1,n!==null&&h0(s,n),s=Yc(s,l),s.flags|=4096;return s}return n=ws(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Qc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Yh(n,s,a,l,h){return da(s),a=wh(n,s,a,l,void 0,h),l=Ch(),n!==null&&!Qe?(Rh(n,s,h),js(n,s,h)):(ee&&l&&oh(s),s.flags|=1,mn(n,s,a,h),s.child)}function Rv(n,s,a,l,h,m){return da(s),s.updateQueue=null,a=V0(s,l,a,h),D0(n),l=Ch(),n!==null&&!Qe?(Rh(n,s,m),js(n,s,m)):(ee&&l&&oh(s),s.flags|=1,mn(n,s,a,m),s.child)}function Iv(n,s,a,l,h){if(da(s),s.stateNode===null){var m=no,T=a.contextType;typeof T=="object"&&T!==null&&(m=pn(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},vh(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?pn(T):no,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Fh(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Hh.enqueueReplaceState(m,m.state,null),Pl(s,l,m,h),Nl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var w=s.memoizedProps,z=va(a,w);m.props=z;var Z=m.context,ot=a.contextType;T=no,typeof ot=="object"&&ot!==null&&(T=pn(ot));var dt=a.getDerivedStateFromProps;ot=typeof dt=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ot||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Z!==T)&&mv(s,m,l,T),or=!1;var tt=s.memoizedState;m.state=tt,Pl(s,l,m,h),Nl(),Z=s.memoizedState,w||tt!==Z||or?(typeof dt=="function"&&(Fh(s,a,dt,l),Z=s.memoizedState),(z=or||pv(s,a,z,l,tt,Z,T))?(ot||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Z),m.props=l,m.state=Z,m.context=T,l=z):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,_h(n,s),T=s.memoizedProps,ot=va(a,T),m.props=ot,dt=s.pendingProps,tt=m.context,Z=a.contextType,z=no,typeof Z=="object"&&Z!==null&&(z=pn(Z)),w=a.getDerivedStateFromProps,(Z=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==dt||tt!==z)&&mv(s,m,l,z),or=!1,tt=s.memoizedState,m.state=tt,Pl(s,l,m,h),Nl();var st=s.memoizedState;T!==dt||tt!==st||or||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof w=="function"&&(Fh(s,a,w,l),st=s.memoizedState),(ot=or||pv(s,a,ot,l,tt,st,z)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,st,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,st,z)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=st),m.props=l,m.state=st,m.context=z,l=ot):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&tt===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,Qc(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=ga(s,n.child,null,h),s.child=ga(s,null,a,h)):mn(n,s,a,h),s.memoizedState=m.state,n=s.child):n=js(n,s,h),n}function Dv(n,s,a,l){return ca(),s.flags|=256,mn(n,s,a,l),s.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(n){return{baseLanes:n,cachePool:_0()}}function Kh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Zn),n}function Vv(n,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Le.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(ee){if(h?cr(s):fr(),(n=Se)?(n=B_(n,hi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ir!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=c0(n),a.return=s,s.child=a,hn=s,Se=null)):n=null,n===null)throw rr(s);return Vp(n)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(fr(),h=s.mode,w=Wc({mode:"hidden",children:w},h),l=ua(l,h,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Wh(a),l.childLanes=Kh(n,T,a),s.memoizedState=Qh,Ul(null,l)):(cr(s),Xh(s,w))}var z=n.memoizedState;if(z!==null&&(w=z.dehydrated,w!==null)){if(m)s.flags&256?(cr(s),s.flags&=-257,s=$h(n,s,a)):s.memoizedState!==null?(fr(),s.child=n.child,s.flags|=128,s=null):(fr(),w=l.fallback,h=s.mode,l=Wc({mode:"visible",children:l.children},h),w=ua(w,h,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,ga(s,n.child,null,a),l=s.child,l.memoizedState=Wh(a),l.childLanes=Kh(n,T,a),s.memoizedState=Qh,s=Ul(null,l));else if(cr(s),Vp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Z=T.dgst;T=Z,l=Error(r(419)),l.stack="",l.digest=T,Il({value:l,source:null,stack:null}),s=$h(n,s,a)}else if(Qe||ao(n,s,a,!1),T=(a&n.childLanes)!==0,Qe||T){if(T=be,T!==null&&(l=ll(T,a),l!==0&&l!==z.retryLane))throw z.retryLane=l,la(n,l),Ln(T,n,l),Gh;Dp(w)||sf(),s=$h(n,s,a)}else Dp(w)?(s.flags|=192,s.child=n.child,s=null):(n=z.treeContext,Se=mi(w.nextSibling),hn=s,ee=!0,sr=null,hi=!1,n!==null&&h0(s,n),s=Xh(s,l.children),s.flags|=4096);return s}return h?(fr(),w=l.fallback,h=s.mode,z=n.child,Z=z.sibling,l=ws(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?w=ws(Z,w):(w=ua(w,h,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,Ul(null,l),l=s.child,w=n.child.memoizedState,w===null?w=Wh(a):(h=w.cachePool,h!==null?(z=Ge._currentValue,h=h.parent!==z?{parent:z,pool:z}:h):h=_0(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=Kh(n,T,a),s.memoizedState=Qh,Ul(n.child,l)):(cr(s),a=n.child,n=a.sibling,a=ws(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=a,s.memoizedState=null,a)}function Xh(n,s){return s=Wc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Wc(n,s){return n=Wn(22,n,null,s),n.lanes=0,n}function $h(n,s,a){return ga(s,n.child,null,a),n=Xh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function jv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),dh(n.return,s,a)}function Zh(n,s,a,l,h,m){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Mv(n,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var T=Le.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,nt(Le,T),mn(n,s,l,a),l=ee?Rl:0,!w&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jv(n,a,s);else if(n.tag===19)jv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&Pc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Zh(s,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Pc(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Zh(s,!0,a,null,m,l);break;case"together":Zh(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function js(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),pr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(ao(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ws(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ws(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Jh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function Nw(n,s,a){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),ar(s,Ge,n.memoizedState.cache),ca();break;case 27:case 5:Wt(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:ar(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ah(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(cr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Vv(n,s,a):(cr(s),n=js(n,s,a),n!==null?n.sibling:null);cr(s);break;case 19:var h=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ao(n,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Mv(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Le,Le.current),l)break;return null;case 22:return s.lanes=0,Ev(n,s,a,s.pendingProps);case 24:ar(s,Ge,n.memoizedState.cache)}return js(n,s,a)}function Ov(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Qe=!0;else{if(!Jh(n,a)&&(s.flags&128)===0)return Qe=!1,Nw(n,s,a);Qe=(n.flags&131072)!==0}else Qe=!1,ee&&(s.flags&1048576)!==0&&d0(s,Rl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=pa(s.elementType),s.type=n,typeof n=="function")sh(n)?(l=va(n,l),s.tag=1,s=Iv(null,s,n,l,a)):(s.tag=0,s=Yh(null,s,n,l,a));else{if(n!=null){var h=n.$$typeof;if(h===Y){s.tag=11,s=Tv(null,s,n,l,a);break t}else if(h===j){s.tag=14,s=Sv(null,s,n,l,a);break t}}throw s=Ct(n)||n,Error(r(306,s,""))}}return s;case 0:return Yh(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=va(l,s.pendingProps),Iv(n,s,l,h,a);case 3:t:{if(St(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,_h(n,s),Pl(s,l,null,a);var T=s.memoizedState;if(l=T.cache,ar(s,Ge,l),l!==m.cache&&hh(s,[Ge],a,!0),Nl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Dv(n,s,l,a);break t}else if(l!==h){h=ci(Error(r(424)),s),Il(h),s=Dv(n,s,l,a);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Se=mi(n.firstChild),hn=s,ee=!0,sr=null,hi=!0,a=E0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ca(),l===h){s=js(n,s,a);break t}mn(n,s,l,a)}s=s.child}return s;case 26:return Qc(n,s),n===null?(a=G_(s.type,null,s.pendingProps,null))?s.memoizedState=a:ee||(a=s.type,n=s.pendingProps,l=ff(_t.current).createElement(a),l[Fe]=s,l[sn]=n,gn(l,a,n),He(l),s.stateNode=l):s.memoizedState=G_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Wt(s),n===null&&ee&&(l=s.stateNode=F_(s.type,s.pendingProps,_t.current),hn=s,hi=!0,h=Se,_r(s.type)?(jp=h,Se=mi(l.firstChild)):Se=h),mn(n,s,s.pendingProps.children,a),Qc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ee&&((h=l=Se)&&(l=f2(l,s.type,s.pendingProps,hi),l!==null?(s.stateNode=l,hn=s,Se=mi(l.firstChild),hi=!1,h=!0):h=!1),h||rr(s)),Wt(s),h=s.type,m=s.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Cp(h,m)?l=null:T!==null&&Cp(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=wh(n,s,ww,null,null,a),nu._currentValue=h),Qc(n,s),mn(n,s,l,a),s.child;case 6:return n===null&&ee&&((n=a=Se)&&(a=d2(a,s.pendingProps,hi),a!==null?(s.stateNode=a,hn=s,Se=null,n=!0):n=!1),n||rr(s)),null;case 13:return Vv(n,s,a);case 4:return St(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ga(s,null,l,a):mn(n,s,l,a),s.child;case 11:return Tv(n,s,s.type,s.pendingProps,a);case 7:return mn(n,s,s.pendingProps,a),s.child;case 8:return mn(n,s,s.pendingProps.children,a),s.child;case 12:return mn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ar(s,s.type,l.value),mn(n,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,da(s),h=pn(h),l=l(h),s.flags|=1,mn(n,s,l,a),s.child;case 14:return Sv(n,s,s.type,s.pendingProps,a);case 15:return Av(n,s,s.type,s.pendingProps,a);case 19:return Mv(n,s,a);case 31:return Ow(n,s,a);case 22:return Ev(n,s,a,s.pendingProps);case 24:return da(s),l=pn(Ge),n===null?(h=gh(),h===null&&(h=be,m=ph(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},vh(s),ar(s,Ge,h)):((n.lanes&a)!==0&&(_h(n,s),Pl(s,null,null,a),Nl()),h=n.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ar(s,Ge,l)):(l=m.cache,ar(s,Ge,l),l!==h.cache&&hh(s,[Ge],a,!0))),mn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ms(n){n.flags|=4}function tp(n,s,a,l,h){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(o_())n.flags|=8192;else throw ma=jc,yh}else n.flags&=-16777217}function Nv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!X_(s))if(o_())n.flags|=8192;else throw ma=jc,yh}function Kc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ec():536870912,n.lanes|=s,_o|=s)}function Fl(n,s){if(!ee)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ae(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Pw(n,s,a){var l=s.pendingProps;switch(lh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(s),null;case 1:return Ae(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Is(Ge),wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ro(s)?Ms(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ch())),Ae(s),null;case 26:var h=s.type,m=s.memoizedState;return n===null?(Ms(s),m!==null?(Ae(s),Nv(s,m)):(Ae(s),tp(s,h,null,l,a))):m?m!==n.memoizedState?(Ms(s),Ae(s),Nv(s,m)):(Ae(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ms(s),Ae(s),tp(s,h,n,l,a)),null;case 27:if(le(s),a=_t.current,h=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ms(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ae(s),null}n=pt.current,ro(s)?p0(s):(n=F_(h,l,a),s.stateNode=n,Ms(s))}return Ae(s),null;case 5:if(le(s),h=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ms(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ae(s),null}if(m=pt.current,ro(s))p0(s);else{var T=ff(_t.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}m[Fe]=s,m[sn]=l;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=m;t:switch(gn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ms(s)}}return Ae(s),tp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Ms(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=_t.current,ro(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Fe]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(n.nodeValue,a)),n||rr(s,!0)}else n=ff(n).createTextNode(l),n[Fe]=s,s.stateNode=n}return Ae(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=ro(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Fe]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ae(s),n=!1}else a=ch(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ae(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=ro(s),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Fe]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ae(s),h=!1}else h=ch(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Kc(s,s.updateQueue),Ae(s),null);case 4:return wt(),n===null&&Tp(s.stateNode.containerInfo),Ae(s),null;case 10:return Is(s.type),Ae(s),null;case 19:if(G(Le),l=s.memoizedState,l===null)return Ae(s),null;if(h=(s.flags&128)!==0,m=l.rendering,m===null)if(h)Fl(l,!1);else{if(Me!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Pc(n),m!==null){for(s.flags|=128,Fl(l,!1),n=m.updateQueue,s.updateQueue=n,Kc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)u0(a,n),a=a.sibling;return nt(Le,Le.current&1|2),ee&&Cs(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&Bt()>tf&&(s.flags|=128,h=!0,Fl(l,!1),s.lanes=4194304)}else{if(!h)if(n=Pc(m),n!==null){if(s.flags|=128,h=!0,n=n.updateQueue,s.updateQueue=n,Kc(s,n),Fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ee)return Ae(s),null}else 2*Bt()-l.renderingStartTime>tf&&a!==536870912&&(s.flags|=128,h=!0,Fl(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(n=l.last,n!==null?n.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Bt(),n.sibling=null,a=Le.current,nt(Le,h?a&1|2:a&1),ee&&Cs(s,l.treeForkCount),n):(Ae(s),null);case 22:case 23:return Xn(s),Sh(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ae(s),s.subtreeFlags&6&&(s.flags|=8192)):Ae(s),a=s.updateQueue,a!==null&&Kc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&G(ha),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Is(Ge),Ae(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function kw(n,s){switch(lh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Is(Ge),wt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return le(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(r(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Xn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return G(Le),null;case 4:return wt(),null;case 10:return Is(s.type),null;case 22:case 23:return Xn(s),Sh(),n!==null&&G(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Is(Ge),null;case 25:return null;default:return null}}function Pv(n,s){switch(lh(s),s.tag){case 3:Is(Ge),wt();break;case 26:case 27:case 5:le(s);break;case 4:wt();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:G(Le);break;case 10:Is(s.type);break;case 22:case 23:Xn(s),Sh(),n!==null&&G(ha);break;case 24:Is(Ge)}}function Hl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==h)}}catch(w){ge(s,s.return,w)}}function dr(n,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=s;var z=a,Z=w;try{Z()}catch(ot){ge(h,z,ot)}}}l=l.next}while(l!==m)}}catch(ot){ge(s,s.return,ot)}}function kv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{C0(s,a)}catch(l){ge(n,n.return,l)}}}function Lv(n,s,a){a.props=va(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ge(n,s,l)}}function ql(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){ge(n,s,h)}}function os(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ge(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ge(n,s,h)}else a.current=null}function Bv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ge(n,n.return,h)}}function ep(n,s,a){try{var l=n.stateNode;r2(l,n.type,a,s),l[sn]=s}catch(h){ge(n,n.return,h)}}function zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&_r(n.type)||n.tag===4}function np(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&_r(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ip(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ci));else if(l!==4&&(l===27&&_r(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(ip(n,s,a),n=n.sibling;n!==null;)ip(n,s,a),n=n.sibling}function Xc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&_r(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Xc(n,s,a),n=n.sibling;n!==null;)Xc(n,s,a),n=n.sibling}function Uv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);gn(s,l,a),s[Fe]=n,s[sn]=a}catch(m){ge(n,n.return,m)}}var Os=!1,We=!1,sp=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,an=null;function Lw(n,s){if(n=n.containerInfo,Ep=vf,n=t0(n),$d(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,w=-1,z=-1,Z=0,ot=0,dt=n,tt=null;e:for(;;){for(var st;dt!==a||h!==0&&dt.nodeType!==3||(w=T+h),dt!==m||l!==0&&dt.nodeType!==3||(z=T+l),dt.nodeType===3&&(T+=dt.nodeValue.length),(st=dt.firstChild)!==null;)tt=dt,dt=st;for(;;){if(dt===n)break e;if(tt===a&&++Z===h&&(w=T),tt===m&&++ot===l&&(z=T),(st=dt.nextSibling)!==null)break;dt=tt,tt=dt.parentNode}dt=st}a=w===-1||z===-1?null:{start:w,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(wp={focusedElem:n,selectionRange:a},vf=!1,an=s;an!==null;)if(s=an,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,an=n;else for(;an!==null;){switch(s=an,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)h=n[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var At=va(a.type,h);n=l.getSnapshotBeforeUpdate(At,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Dt){ge(a,a.return,Dt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Ip(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ip(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,an=n;break}an=s.return}}function Hv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ps(n,a),l&4&&Hl(5,a);break;case 1:if(Ps(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(T){ge(a,a.return,T)}else{var h=va(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ge(a,a.return,T)}}l&64&&kv(a),l&512&&ql(a,a.return);break;case 3:if(Ps(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{C0(n,s)}catch(T){ge(a,a.return,T)}}break;case 27:s===null&&l&4&&Uv(a);case 26:case 5:Ps(n,a),s===null&&l&4&&Bv(a),l&512&&ql(a,a.return);break;case 12:Ps(n,a);break;case 31:Ps(n,a),l&4&&Yv(n,a);break;case 13:Ps(n,a),l&4&&Qv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Qw.bind(null,a),h2(n,a))));break;case 22:if(l=a.memoizedState!==null||Os,!l){s=s!==null&&s.memoizedState!==null||We,h=Os;var m=We;Os=l,(We=s)&&!m?ks(n,a,(a.subtreeFlags&8772)!==0):Ps(n,a),Os=h,We=m}break;case 30:break;default:Ps(n,a)}}function qv(n){var s=n.alternate;s!==null&&(n.alternate=null,qv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Fa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ce=null,On=!1;function Ns(n,s,a){for(a=a.child;a!==null;)Gv(n,s,a),a=a.sibling}function Gv(n,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 26:We||os(a,s),Ns(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||os(a,s);var l=Ce,h=On;_r(a.type)&&(Ce=a.stateNode,On=!1),Ns(n,s,a),Jl(a.stateNode),Ce=l,On=h;break;case 5:We||os(a,s);case 6:if(l=Ce,h=On,Ce=null,Ns(n,s,a),Ce=l,On=h,Ce!==null)if(On)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(m){ge(a,s,m)}else try{Ce.removeChild(a.stateNode)}catch(m){ge(a,s,m)}break;case 18:Ce!==null&&(On?(n=Ce,k_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Co(n)):k_(Ce,a.stateNode));break;case 4:l=Ce,h=On,Ce=a.stateNode.containerInfo,On=!0,Ns(n,s,a),Ce=l,On=h;break;case 0:case 11:case 14:case 15:dr(2,a,s),We||dr(4,a,s),Ns(n,s,a);break;case 1:We||(os(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lv(a,s,l)),Ns(n,s,a);break;case 21:Ns(n,s,a);break;case 22:We=(l=We)||a.memoizedState!==null,Ns(n,s,a),We=l;break;default:Ns(n,s,a)}}function Yv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Co(n)}catch(a){ge(s,s.return,a)}}}function Qv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Co(n)}catch(a){ge(s,s.return,a)}}function Bw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Fv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Fv),s;default:throw Error(r(435,n.tag))}}function $c(n,s){var a=Bw(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ww.bind(null,n,l);l.then(h,h)}})}function Nn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,T=s,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(_r(w.type)){Ce=w.stateNode,On=!1;break t}break;case 5:Ce=w.stateNode,On=!1;break t;case 3:case 4:Ce=w.stateNode.containerInfo,On=!0;break t}w=w.return}if(Ce===null)throw Error(r(160));Gv(m,T,h),Ce=null,On=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Wv(s,n),s=s.sibling}var Mi=null;function Wv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(s,n),Pn(n),l&4&&(dr(3,n,n.return),Hl(3,n),dr(5,n,n.return));break;case 1:Nn(s,n),Pn(n),l&512&&(We||a===null||os(a,a.return)),l&64&&Os&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Mi;if(Nn(s,n),Pn(n),l&512&&(We||a===null||os(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Qi]||m[Fe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),gn(m,l,a),m[Fe]=n,He(m),l=m;break t;case"link":var T=W_("link","href",h).get(l+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(m=T[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break e}}m=h.createElement(l),gn(m,l,a),h.head.appendChild(m);break;case"meta":if(T=W_("meta","content",h).get(l+(a.content||""))){for(w=0;w<T.length;w++)if(m=T[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break e}}m=h.createElement(l),gn(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[Fe]=n,He(m),l=m}n.stateNode=l}else K_(h,n.type,n.stateNode);else n.stateNode=Q_(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?K_(h,n.type,n.stateNode):Q_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&ep(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(s,n),Pn(n),l&512&&(We||a===null||os(a,a.return)),a!==null&&l&4&&ep(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(s,n),Pn(n),l&512&&(We||a===null||os(a,a.return)),n.flags&32){h=n.stateNode;try{Mn(h,"")}catch(At){ge(n,n.return,At)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,ep(n,h,a!==null?a.memoizedProps:h)),l&1024&&(sp=!0);break;case 6:if(Nn(s,n),Pn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(At){ge(n,n.return,At)}}break;case 3:if(pf=null,h=Mi,Mi=df(s.containerInfo),Nn(s,n),Mi=h,Pn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(At){ge(n,n.return,At)}sp&&(sp=!1,Kv(n));break;case 4:l=Mi,Mi=df(n.stateNode.containerInfo),Nn(s,n),Pn(n),Mi=l;break;case 12:Nn(s,n),Pn(n);break;case 31:Nn(s,n),Pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 13:Nn(s,n),Pn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jc=Bt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 22:h=n.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Z=Os,ot=We;if(Os=Z||h,We=ot||z,Nn(s,n),We=ot,Os=Z,Pn(n),l&8192)t:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||z||Os||We||_a(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){z=a=s;try{if(m=z.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=z.stateNode;var dt=z.memoizedProps.style,tt=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;w.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(At){ge(z,z.return,At)}}}else if(s.tag===6){if(a===null){z=s;try{z.stateNode.nodeValue=h?"":z.memoizedProps}catch(At){ge(z,z.return,At)}}}else if(s.tag===18){if(a===null){z=s;try{var st=z.stateNode;h?L_(st,!0):L_(z.stateNode,!1)}catch(At){ge(z,z.return,At)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(n,a))));break;case 19:Nn(s,n),Pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$c(n,l)));break;case 30:break;case 21:break;default:Nn(s,n),Pn(n)}}function Pn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=np(n);Xc(n,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(Mn(T,""),a.flags&=-33);var w=np(n);Xc(n,w,T);break;case 3:case 4:var z=a.stateNode.containerInfo,Z=np(n);ip(n,Z,z);break;default:throw Error(r(161))}}catch(ot){ge(n,n.return,ot)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ps(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hv(n,s.alternate,s),s=s.sibling}function _a(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:dr(4,s,s.return),_a(s);break;case 1:os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Lv(s,s.return,a),_a(s);break;case 27:Jl(s.stateNode);case 26:case 5:os(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}n=n.sibling}}function ks(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=n,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:ks(h,m,a),Hl(4,m);break;case 1:if(ks(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){ge(l,l.return,Z)}if(l=m,h=l.updateQueue,h!==null){var w=l.stateNode;try{var z=h.shared.hiddenCallbacks;if(z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<z.length;h++)w0(z[h],w)}catch(Z){ge(l,l.return,Z)}}a&&T&64&&kv(m),ql(m,m.return);break;case 27:Uv(m);case 26:case 5:ks(h,m,a),a&&l===null&&T&4&&Bv(m),ql(m,m.return);break;case 12:ks(h,m,a);break;case 31:ks(h,m,a),a&&T&4&&Yv(h,m);break;case 13:ks(h,m,a),a&&T&4&&Qv(h,m);break;case 22:m.memoizedState===null&&ks(h,m,a),ql(m,m.return);break;case 30:break;default:ks(h,m,a)}s=s.sibling}}function rp(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Dl(a))}function ap(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dl(n))}function Oi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(n,s,a,l),s=s.sibling}function Xv(n,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(n,s,a,l),h&2048&&Hl(9,s);break;case 1:Oi(n,s,a,l);break;case 3:Oi(n,s,a,l),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dl(n)));break;case 12:if(h&2048){Oi(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,T=m.id,w=m.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){ge(s,s.return,z)}}else Oi(n,s,a,l);break;case 31:Oi(n,s,a,l);break;case 13:Oi(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?Oi(n,s,a,l):Gl(n,s):m._visibility&2?Oi(n,s,a,l):(m._visibility|=2,go(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&rp(T,s);break;case 24:Oi(n,s,a,l),h&2048&&ap(s.alternate,s);break;default:Oi(n,s,a,l)}}function go(n,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,T=s,w=a,z=l,Z=T.flags;switch(T.tag){case 0:case 11:case 15:go(m,T,w,z,h),Hl(8,T);break;case 23:break;case 22:var ot=T.stateNode;T.memoizedState!==null?ot._visibility&2?go(m,T,w,z,h):Gl(m,T):(ot._visibility|=2,go(m,T,w,z,h)),h&&Z&2048&&rp(T.alternate,T);break;case 24:go(m,T,w,z,h),h&&Z&2048&&ap(T.alternate,T);break;default:go(m,T,w,z,h)}s=s.sibling}}function Gl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,h=l.flags;switch(l.tag){case 22:Gl(a,l),h&2048&&rp(l.alternate,l);break;case 24:Gl(a,l),h&2048&&ap(l.alternate,l);break;default:Gl(a,l)}s=s.sibling}}var Yl=8192;function yo(n,s,a){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)$v(n,s,a),n=n.sibling}function $v(n,s,a){switch(n.tag){case 26:yo(n,s,a),n.flags&Yl&&n.memoizedState!==null&&E2(a,Mi,n.memoizedState,n.memoizedProps);break;case 5:yo(n,s,a);break;case 3:case 4:var l=Mi;Mi=df(n.stateNode.containerInfo),yo(n,s,a),Mi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Yl,Yl=16777216,yo(n,s,a),Yl=l):yo(n,s,a));break;default:yo(n,s,a)}}function Zv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ql(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];an=l,t_(l,n)}Zv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jv(n),n=n.sibling}function Jv(n){switch(n.tag){case 0:case 11:case 15:Ql(n),n.flags&2048&&dr(9,n,n.return);break;case 3:Ql(n);break;case 12:Ql(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Zc(n)):Ql(n);break;default:Ql(n)}}function Zc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];an=l,t_(l,n)}Zv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:dr(8,s,s.return),Zc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(s));break;default:Zc(s)}n=n.sibling}}function t_(n,s){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:dr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,an=l;else t:for(a=n;an!==null;){l=an;var h=l.sibling,m=l.return;if(qv(l),l===a){an=null;break t}if(h!==null){h.return=m,an=h;break t}an=m}}}var zw={getCacheForType:function(n){var s=pn(Ge),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return pn(Ge).controller.signal}},Uw=typeof WeakMap=="function"?WeakMap:Map,ce=0,be=null,Yt=null,Kt=0,me=0,$n=null,hr=!1,vo=!1,op=!1,Ls=0,Me=0,pr=0,xa=0,lp=0,Zn=0,_o=0,Wl=null,kn=null,up=!1,Jc=0,e_=0,tf=1/0,ef=null,mr=null,tn=0,gr=null,xo=null,Bs=0,cp=0,fp=null,n_=null,Kl=0,dp=null;function Jn(){return(ce&2)!==0&&Kt!==0?Kt&-Kt:W.T!==null?vp():nc()}function i_(){if(Zn===0)if((Kt&536870912)===0||ee){var n=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),Zn=n}else Zn=536870912;return n=Kn.current,n!==null&&(n.flags|=32),Zn}function Ln(n,s,a){(n===be&&(me===2||me===9)||n.cancelPendingCommit!==null)&&(bo(n,0),yr(n,Kt,Zn,!1)),Wr(n,a),((ce&2)===0||n!==be)&&(n===be&&((ce&2)===0&&(xa|=a),Me===4&&yr(n,Kt,Zn,!1)),ls(n))}function s_(n,s,a){if((ce&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Ai(n,s),h=l?qw(n,s):pp(n,s,!0),m=l;do{if(h===0){vo&&!l&&yr(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!Fw(a)){h=pp(n,s,!1),m=!1;continue}if(h===2){if(m=s,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var w=n;h=Wl;var z=w.current.memoizedState.isDehydrated;if(z&&(bo(w,T).flags|=256),T=pp(w,T,!1),T!==2){if(op&&!z){w.errorRecoveryDisabledLanes|=m,xa|=m,h=4;break t}m=kn,kn=h,m!==null&&(kn===null?kn=m:kn.push.apply(kn,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bo(n,0),yr(n,s,0,!0);break}t:{switch(l=n,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:yr(l,s,Zn,!hr);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Jc+300-Bt(),10<h)){if(yr(l,s,Zn,!hr),qi(l,0,!0)!==0)break t;Bs=s,l.timeoutHandle=N_(r_.bind(null,l,a,kn,ef,up,s,Zn,xa,_o,hr,m,"Throttled",-0,0),h);break t}r_(l,a,kn,ef,up,s,Zn,xa,_o,hr,m,null,-0,0)}}break}while(!0);ls(n)}function r_(n,s,a,l,h,m,T,w,z,Z,ot,dt,tt,st){if(n.timeoutHandle=-1,dt=s.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},$v(s,m,dt);var At=(m&62914560)===m?Jc-Bt():(m&4194048)===m?e_-Bt():0;if(At=w2(dt,At),At!==null){Bs=m,n.cancelPendingCommit=At(h_.bind(null,n,s,m,a,l,h,T,w,z,ot,dt,null,tt,st)),yr(n,m,T,!Z);return}}h_(n,s,m,a,l,h,T,w,z)}function Fw(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Qn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yr(n,s,a,l){s&=~lp,s&=~xa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var h=s;0<h;){var m=31-Pe(h),T=1<<m;l[m]=-1,h&=~T}a!==0&&Kr(n,a,s)}function nf(){return(ce&6)===0?(Xl(0),!1):!0}function hp(){if(Yt!==null){if(me===0)var n=Yt.return;else n=Yt,Rs=fa=null,Ih(n),co=null,jl=0,n=Yt;for(;n!==null;)Pv(n.alternate,n),n=n.return;Yt=null}}function bo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,l2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Bs=0,hp(),be=n,Yt=a=ws(n.current,null),Kt=s,me=0,$n=null,hr=!1,vo=Ai(n,s),op=!1,_o=Zn=lp=xa=pr=Me=0,kn=Wl=null,up=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var h=31-Pe(l),m=1<<h;s|=n[h],l&=~m}return Ls=s,Sc(),a}function a_(n,s){qt=null,W.H=zl,s===uo||s===Vc?(s=T0(),me=3):s===yh?(s=T0(),me=4):me=s===Gh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,Yt===null&&(Me=1,Gc(n,ci(s,n.current)))}function o_(){var n=Kn.current;return n===null?!0:(Kt&4194048)===Kt?pi===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?n===pi:!1}function l_(){var n=W.H;return W.H=zl,n===null?zl:n}function u_(){var n=W.A;return W.A=zw,n}function sf(){Me=4,hr||(Kt&4194048)!==Kt&&Kn.current!==null||(vo=!0),(pr&134217727)===0&&(xa&134217727)===0||be===null||yr(be,Kt,Zn,!1)}function pp(n,s,a){var l=ce;ce|=2;var h=l_(),m=u_();(be!==n||Kt!==s)&&(ef=null,bo(n,s)),s=!1;var T=Me;t:do try{if(me!==0&&Yt!==null){var w=Yt,z=$n;switch(me){case 8:hp(),T=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(s=!0);var Z=me;if(me=0,$n=null,To(n,w,z,Z),a&&vo){T=0;break t}break;default:Z=me,me=0,$n=null,To(n,w,z,Z)}}Hw(),T=Me;break}catch(ot){a_(n,ot)}while(!0);return s&&n.shellSuspendCounter++,Rs=fa=null,ce=l,W.H=h,W.A=m,Yt===null&&(be=null,Kt=0,Sc()),T}function Hw(){for(;Yt!==null;)c_(Yt)}function qw(n,s){var a=ce;ce|=2;var l=l_(),h=u_();be!==n||Kt!==s?(ef=null,tf=Bt()+500,bo(n,s)):vo=Ai(n,s);t:do try{if(me!==0&&Yt!==null){s=Yt;var m=$n;e:switch(me){case 1:me=0,$n=null,To(n,s,m,1);break;case 2:case 9:if(x0(m)){me=0,$n=null,f_(s);break}s=function(){me!==2&&me!==9||be!==n||(me=7),ls(n)},m.then(s,s);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:x0(m)?(me=0,$n=null,f_(s)):(me=0,$n=null,To(n,s,m,7));break;case 5:var T=null;switch(Yt.tag){case 26:T=Yt.memoizedState;case 5:case 27:var w=Yt;if(T?X_(T):w.stateNode.complete){me=0,$n=null;var z=w.sibling;if(z!==null)Yt=z;else{var Z=w.return;Z!==null?(Yt=Z,rf(Z)):Yt=null}break e}}me=0,$n=null,To(n,s,m,5);break;case 6:me=0,$n=null,To(n,s,m,6);break;case 8:hp(),Me=6;break t;default:throw Error(r(462))}}Gw();break}catch(ot){a_(n,ot)}while(!0);return Rs=fa=null,W.H=l,W.A=h,ce=a,Yt!==null?0:(be=null,Kt=0,Sc(),Me)}function Gw(){for(;Yt!==null&&!gt();)c_(Yt)}function c_(n){var s=Ov(n.alternate,n,Ls);n.memoizedProps=n.pendingProps,s===null?rf(n):Yt=s}function f_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Rv(a,s,s.pendingProps,s.type,void 0,Kt);break;case 11:s=Rv(a,s,s.pendingProps,s.type.render,s.ref,Kt);break;case 5:Ih(s);default:Pv(a,s),s=Yt=u0(s,Ls),s=Ov(a,s,Ls)}n.memoizedProps=n.pendingProps,s===null?rf(n):Yt=s}function To(n,s,a,l){Rs=fa=null,Ih(s),co=null,jl=0;var h=s.return;try{if(Mw(n,h,s,a,Kt)){Me=1,Gc(n,ci(a,n.current)),Yt=null;return}}catch(m){if(h!==null)throw Yt=h,m;Me=1,Gc(n,ci(a,n.current)),Yt=null;return}s.flags&32768?(ee||l===1?n=!0:vo||(Kt&536870912)!==0?n=!1:(hr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(s,n)):rf(s)}function rf(n){var s=n;do{if((s.flags&32768)!==0){d_(s,hr);return}n=s.return;var a=Pw(s.alternate,s,Ls);if(a!==null){Yt=a;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=n}while(s!==null);Me===0&&(Me=5)}function d_(n,s){do{var a=kw(n.alternate,n);if(a!==null){a.flags&=32767,Yt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Yt=n;return}Yt=n=a}while(n!==null);Me=6,Yt=null}function h_(n,s,a,l,h,m,T,w,z){n.cancelPendingCommit=null;do af();while(tn!==0);if((ce&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=nh,Qd(n,a,m,T,w,z),n===be&&(Yt=be=null,Kt=0),xo=s,gr=n,Bs=a,cp=m,fp=h,n_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Kw(Qs,function(){return v_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=X.p,X.p=2,T=ce,ce|=4;try{Lw(n,s,a)}finally{ce=T,X.p=h,W.T=l}}tn=1,p_(),m_(),g_()}}function p_(){if(tn===1){tn=0;var n=gr,s=xo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=X.p;X.p=2;var h=ce;ce|=4;try{Wv(s,n);var m=wp,T=t0(n.containerInfo),w=m.focusedElem,z=m.selectionRange;if(T!==w&&w&&w.ownerDocument&&Jy(w.ownerDocument.documentElement,w)){if(z!==null&&$d(w)){var Z=z.start,ot=z.end;if(ot===void 0&&(ot=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(ot,w.value.length);else{var dt=w.ownerDocument||document,tt=dt&&dt.defaultView||window;if(tt.getSelection){var st=tt.getSelection(),At=w.textContent.length,Dt=Math.min(z.start,At),xe=z.end===void 0?Dt:Math.min(z.end,At);!st.extend&&Dt>xe&&(T=xe,xe=Dt,Dt=T);var Q=Zy(w,Dt),H=Zy(w,xe);if(Q&&H&&(st.rangeCount!==1||st.anchorNode!==Q.node||st.anchorOffset!==Q.offset||st.focusNode!==H.node||st.focusOffset!==H.offset)){var $=dt.createRange();$.setStart(Q.node,Q.offset),st.removeAllRanges(),Dt>xe?(st.addRange($),st.extend(H.node,H.offset)):($.setEnd(H.node,H.offset),st.addRange($))}}}}for(dt=[],st=w;st=st.parentNode;)st.nodeType===1&&dt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<dt.length;w++){var lt=dt[w];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}vf=!!Ep,wp=Ep=null}finally{ce=h,X.p=l,W.T=a}}n.current=s,tn=2}}function m_(){if(tn===2){tn=0;var n=gr,s=xo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=X.p;X.p=2;var h=ce;ce|=4;try{Hv(n,s.alternate,s)}finally{ce=h,X.p=l,W.T=a}}tn=3}}function g_(){if(tn===4||tn===3){tn=0,ne();var n=gr,s=xo,a=Bs,l=n_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,xo=gr=null,y_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(mr=null),Ts(a),s=s.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Si,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,h=X.p,X.p=2,W.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var w=l[T];m(w.value,{componentStack:w.stack})}}finally{W.T=s,X.p=h}}(Bs&3)!==0&&af(),ls(n),h=n.pendingLanes,(a&261930)!==0&&(h&42)!==0?n===dp?Kl++:(Kl=0,dp=n):Kl=0,Xl(0)}}function y_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Dl(s)))}function af(){return p_(),m_(),g_(),v_()}function v_(){if(tn!==5)return!1;var n=gr,s=cp;cp=0;var a=Ts(Bs),l=W.T,h=X.p;try{X.p=32>a?32:a,W.T=null,a=fp,fp=null;var m=gr,T=Bs;if(tn=0,xo=gr=null,Bs=0,(ce&6)!==0)throw Error(r(331));var w=ce;if(ce|=4,Jv(m.current),Xv(m,m.current,T,a),ce=w,Xl(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Si,m)}catch{}return!0}finally{X.p=h,W.T=l,y_(n,s)}}function __(n,s,a){s=ci(a,s),s=qh(n.stateNode,s,2),n=ur(n,s,2),n!==null&&(Wr(n,2),ls(n))}function ge(n,s,a){if(n.tag===3)__(n,n,a);else for(;s!==null;){if(s.tag===3){__(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){n=ci(a,n),a=xv(2),l=ur(s,a,2),l!==null&&(bv(a,l,s,n),Wr(l,2),ls(l));break}}s=s.return}}function mp(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Uw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(op=!0,h.add(a),n=Yw.bind(null,n,s,a),s.then(n,n))}function Yw(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,be===n&&(Kt&a)===a&&(Me===4||Me===3&&(Kt&62914560)===Kt&&300>Bt()-Jc?(ce&2)===0&&bo(n,0):lp|=a,_o===Kt&&(_o=0)),ls(n)}function x_(n,s){s===0&&(s=ec()),n=la(n,s),n!==null&&(Wr(n,s),ls(n))}function Qw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),x_(n,a)}function Ww(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),x_(n,a)}function Kw(n,s){return Nt(n,s)}var of=null,So=null,gp=!1,lf=!1,yp=!1,vr=0;function ls(n){n!==So&&n.next===null&&(So===null?of=So=n:So=So.next=n),lf=!0,gp||(gp=!0,$w())}function Xl(n,s){if(!yp&&lf){yp=!0;do for(var a=!1,l=of;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var T=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Pe(42|n)+1)-1,m&=h&~(T&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,A_(l,m))}else m=Kt,m=qi(l,l===be?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ai(l,m)||(a=!0,A_(l,m));l=l.next}while(a);yp=!1}}function Xw(){b_()}function b_(){lf=gp=!1;var n=0;vr!==0&&o2()&&(n=vr);for(var s=Bt(),a=null,l=of;l!==null;){var h=l.next,m=T_(l,s);m===0?(l.next=null,a===null?of=h:a.next=h,h===null&&(So=a)):(a=l,(n!==0||(m&3)!==0)&&(lf=!0)),l=h}tn!==0&&tn!==5||Xl(n),vr!==0&&(vr=0)}function T_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Pe(m),w=1<<T,z=h[T];z===-1?((w&a)===0||(w&l)!==0)&&(h[T]=Yd(w,s)):z<=s&&(n.expiredLanes|=w),m&=~w}if(s=be,a=Kt,a=qi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(me===2||me===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&rt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ai(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&rt(l),Ts(a)){case 2:case 8:a=Ui;break;case 32:a=Qs;break;case 268435456:a=Xu;break;default:a=Qs}return l=S_.bind(null,n),a=Nt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&rt(l),n.callbackPriority=2,n.callbackNode=null,2}function S_(n,s){if(tn!==0&&tn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(af()&&n.callbackNode!==a)return null;var l=Kt;return l=qi(n,n===be?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(s_(n,l,s),T_(n,Bt()),n.callbackNode!=null&&n.callbackNode===a?S_.bind(null,n):null)}function A_(n,s){if(af())return null;s_(n,s,!0)}function $w(){u2(function(){(ce&6)!==0?Nt(he,Xw):b_()})}function vp(){if(vr===0){var n=oo;n===0&&(n=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),vr=n}return vr}function E_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ya(""+n)}function w_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Zw(n,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=E_((h[sn]||null).action),T=l.submitter;T&&(s=(s=T[sn]||null)?E_(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var w=new es("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(vr!==0){var z=T?w_(h,T):new FormData(h);Lh(a,{pending:!0,data:z,method:h.method,action:m},null,z)}}else typeof m=="function"&&(w.preventDefault(),z=T?w_(h,T):new FormData(h),Lh(a,{pending:!0,data:z,method:h.method,action:m},m,z))},currentTarget:h}]})}}for(var _p=0;_p<eh.length;_p++){var xp=eh[_p],Jw=xp.toLowerCase(),t2=xp[0].toUpperCase()+xp.slice(1);ji(Jw,"on"+t2)}ji(i0,"onAnimationEnd"),ji(s0,"onAnimationIteration"),ji(r0,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(gw,"onTransitionRun"),ji(yw,"onTransitionStart"),ji(vw,"onTransitionCancel"),ji(a0,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function C_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var w=l[T],z=w.instance,Z=w.currentTarget;if(w=w.listener,z!==m&&h.isPropagationStopped())break t;m=w,h.currentTarget=Z;try{m(h)}catch(ot){Tc(ot)}h.currentTarget=null,m=z}else for(T=0;T<l.length;T++){if(w=l[T],z=w.instance,Z=w.currentTarget,w=w.listener,z!==m&&h.isPropagationStopped())break t;m=w,h.currentTarget=Z;try{m(h)}catch(ot){Tc(ot)}h.currentTarget=null,m=z}}}}function Qt(n,s){var a=s[Ua];a===void 0&&(a=s[Ua]=new Set);var l=n+"__bubble";a.has(l)||(R_(s,n,2,!1),a.add(l))}function bp(n,s,a){var l=0;s&&(l|=4),R_(a,n,l,s)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Tp(n){if(!n[uf]){n[uf]=!0,ul.forEach(function(a){a!=="selectionchange"&&(e2.has(a)||bp(a,!1,n),bp(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[uf]||(s[uf]=!0,bp("selectionchange",!1,s))}}function R_(n,s,a,l){switch(ix(s)){case 2:var h=I2;break;case 8:h=D2;break;default:h=kp}a=h.bind(null,s,a,n),h=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function Sp(n,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===h)break;if(T===4)for(T=l.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;w!==null;){if(T=Wi(w),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){l=m=T;continue t}w=w.parentNode}}l=l.return}Js(function(){var Z=m,ot=ai(a),dt=[];t:{var tt=o0.get(n);if(tt!==void 0){var st=es,At=n;switch(n){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":st=_c;break;case"focusin":At="focus",st=sa;break;case"focusout":At="blur",st=sa;break;case"beforeblur":case"afterblur":st=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=b;break;case i0:case s0:case r0:st=dc;break;case a0:st=D;break;case"scroll":case"scrollend":st=bl;break;case"wheel":st=it;break;case"copy":case"cut":case"paste":st=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Es;break;case"toggle":case"beforetoggle":st=Ht}var Dt=(s&4)!==0,xe=!Dt&&(n==="scroll"||n==="scrollend"),Q=Dt?tt!==null?tt+"Capture":null:tt;Dt=[];for(var H=Z,$;H!==null;){var lt=H;if($=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||$===null||Q===null||(lt=Ri(H,Q),lt!=null&&Dt.push(Zl(H,lt,$))),xe)break;H=H.return}0<Dt.length&&(tt=new st(tt,At,null,a,ot),dt.push({event:tt,listeners:Dt}))}}if((s&7)===0){t:{if(tt=n==="mouseover"||n==="pointerover",st=n==="mouseout"||n==="pointerout",tt&&a!==vl&&(At=a.relatedTarget||a.fromElement)&&(Wi(At)||At[Yi]))break t;if((st||tt)&&(tt=ot.window===ot?ot:(tt=ot.ownerDocument)?tt.defaultView||tt.parentWindow:window,st?(At=a.relatedTarget||a.toElement,st=Z,At=At?Wi(At):null,At!==null&&(xe=u(At),Dt=At.tag,At!==xe||Dt!==5&&Dt!==27&&Dt!==6)&&(At=null)):(st=null,At=Z),st!==At)){if(Dt=Tl,lt="onMouseLeave",Q="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(Dt=Es,lt="onPointerLeave",Q="onPointerEnter",H="pointer"),xe=st==null?tt:Gn(st),$=At==null?tt:Gn(At),tt=new Dt(lt,H+"leave",st,a,ot),tt.target=xe,tt.relatedTarget=$,lt=null,Wi(ot)===Z&&(Dt=new Dt(Q,H+"enter",At,a,ot),Dt.target=$,Dt.relatedTarget=xe,lt=Dt),xe=lt,st&&At)e:{for(Dt=n2,Q=st,H=At,$=0,lt=Q;lt;lt=Dt(lt))$++;lt=0;for(var Rt=H;Rt;Rt=Dt(Rt))lt++;for(;0<$-lt;)Q=Dt(Q),$--;for(;0<lt-$;)H=Dt(H),lt--;for(;$--;){if(Q===H||H!==null&&Q===H.alternate){Dt=Q;break e}Q=Dt(Q),H=Dt(H)}Dt=null}else Dt=null;st!==null&&I_(dt,tt,st,Dt,!1),At!==null&&xe!==null&&I_(dt,xe,At,Dt,!0)}}t:{if(tt=Z?Gn(Z):window,st=tt.nodeName&&tt.nodeName.toLowerCase(),st==="select"||st==="input"&&tt.type==="file")var ae=Yy;else if(qy(tt))if(Qy)ae=hw;else{ae=fw;var Et=cw}else st=tt.nodeName,!st||st.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&Ga(Z.elementType)&&(ae=Yy):ae=dw;if(ae&&(ae=ae(n,Z))){Gy(dt,ae,a,ot);break t}Et&&Et(n,tt,Z),n==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&ml(tt,"number",tt.value)}switch(Et=Z?Gn(Z):window,n){case"focusin":(qy(Et)||Et.contentEditable==="true")&&(Ja=Et,Zd=Z,Cl=null);break;case"focusout":Cl=Zd=Ja=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,e0(dt,a,ot);break;case"selectionchange":if(mw)break;case"keydown":case"keyup":e0(dt,a,ot)}var Gt;if(ue)t:{switch(n){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else Za?ra(n,a)&&(Xt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Xt="onCompositionStart");Xt&&(ss&&a.locale!=="ko"&&(Za||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Za&&(Gt=xl()):(ts=ot,_l="value"in ts?ts.value:ts.textContent,Za=!0)),Et=cf(Z,Xt),0<Et.length&&(Xt=new is(Xt,n,null,a,ot),dt.push({event:Xt,listeners:Et}),Gt?Xt.data=Gt:(Gt=$a(a),Gt!==null&&(Xt.data=Gt)))),(Gt=li?aw(n,a):ow(n,a))&&(Xt=cf(Z,"onBeforeInput"),0<Xt.length&&(Et=new is("onBeforeInput","beforeinput",null,a,ot),dt.push({event:Et,listeners:Xt}),Et.data=Gt)),Zw(dt,n,Z,a,ot)}C_(dt,s)})}function Zl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function cf(n,s){for(var a=s+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ri(n,a),h!=null&&l.unshift(Zl(n,h,m)),h=Ri(n,s),h!=null&&l.push(Zl(n,h,m))),n.tag===3)return l;n=n.return}return[]}function n2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function I_(n,s,a,l,h){for(var m=s._reactName,T=[];a!==null&&a!==l;){var w=a,z=w.alternate,Z=w.stateNode;if(w=w.tag,z!==null&&z===l)break;w!==5&&w!==26&&w!==27||Z===null||(z=Z,h?(Z=Ri(a,m),Z!=null&&T.unshift(Zl(a,Z,z))):h||(Z=Ri(a,m),Z!=null&&T.push(Zl(a,Z,z)))),a=a.return}T.length!==0&&n.push({event:s,listeners:T})}var i2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function D_(n){return(typeof n=="string"?n:""+n).replace(i2,`
`).replace(s2,"")}function V_(n,s){return s=D_(s),D_(n)===s}function _e(n,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Mn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Mn(n,""+l);break;case"className":Yn(n,"class",l);break;case"tabIndex":Yn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(n,a,l);break;case"style":yl(n,l,m);break;case"data":if(s!=="object"){Yn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ya(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&_e(n,s,"name",h.name,h,null),_e(n,s,"formEncType",h.formEncType,h,null),_e(n,s,"formMethod",h.formMethod,h,null),_e(n,s,"formTarget",h.formTarget,h,null)):(_e(n,s,"encType",h.encType,h,null),_e(n,s,"method",h.method,h,null),_e(n,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ya(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Ci);break;case"onScroll":l!=null&&Qt("scroll",n);break;case"onScrollEnd":l!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ya(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),Ha(n,"popover",l);break;case"xlinkActuate":qe(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ha(n,a,l))}}function Ap(n,s,a,l,h,m){switch(a){case"style":yl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Mn(n,l):(typeof l=="number"||typeof l=="bigint")&&Mn(n,""+l);break;case"onScroll":l!=null&&Qt("scroll",n);break;case"onScrollEnd":l!=null&&Qt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=n[sn]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,h);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ha(n,a,l)}}}function gn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:_e(n,s,m,T,a,null)}}h&&_e(n,s,"srcSet",a.srcSet,a,null),l&&_e(n,s,"src",a.src,a,null);return;case"input":Qt("invalid",n);var w=m=T=h=null,z=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var ot=a[l];if(ot!=null)switch(l){case"name":h=ot;break;case"type":T=ot;break;case"checked":z=ot;break;case"defaultChecked":Z=ot;break;case"value":m=ot;break;case"defaultValue":w=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,s));break;default:_e(n,s,l,ot,a,null)}}ac(n,m,w,z,Z,T,h,!1);return;case"select":Qt("invalid",n),l=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:_e(n,s,h,w,a,null)}s=m,a=T,n.multiple=!!l,s!=null?Ks(n,!!l,s,!1):a!=null&&Ks(n,!!l,a,!0);return;case"textarea":Qt("invalid",n),m=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:_e(n,s,T,w,a,null)}Xs(n,l,h,m);return;case"option":for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!=null)&&(z==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":_e(n,s,z,l,a,null));return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(l=0;l<$l.length;l++)Qt($l[l],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:_e(n,s,Z,l,a,null)}return;default:if(Ga(s)){for(ot in a)a.hasOwnProperty(ot)&&(l=a[ot],l!==void 0&&Ap(n,s,ot,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&_e(n,s,w,l,a,null))}function r2(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,w=null,z=null,Z=null,ot=null;for(st in a){var dt=a[st];if(a.hasOwnProperty(st)&&dt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":z=dt;default:l.hasOwnProperty(st)||_e(n,s,st,null,l,dt)}}for(var tt in l){var st=l[tt];if(dt=a[tt],l.hasOwnProperty(tt)&&(st!=null||dt!=null))switch(tt){case"type":m=st;break;case"name":h=st;break;case"checked":Z=st;break;case"defaultChecked":ot=st;break;case"value":T=st;break;case"defaultValue":w=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:st!==dt&&_e(n,s,tt,st,l,dt)}}qa(n,T,w,z,Z,ot,m,h);return;case"select":st=T=w=tt=null;for(m in a)if(z=a[m],a.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":st=z;default:l.hasOwnProperty(m)||_e(n,s,m,null,l,z)}for(h in l)if(m=l[h],z=a[h],l.hasOwnProperty(h)&&(m!=null||z!=null))switch(h){case"value":tt=m;break;case"defaultValue":w=m;break;case"multiple":T=m;default:m!==z&&_e(n,s,h,m,l,z)}s=w,a=T,l=st,tt!=null?Ks(n,!!a,tt,!1):!!l!=!!a&&(s!=null?Ks(n,!!a,s,!0):Ks(n,!!a,a?[]:"",!1));return;case"textarea":st=tt=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:_e(n,s,w,null,l,h)}for(T in l)if(h=l[T],m=a[T],l.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":tt=h;break;case"defaultValue":st=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&_e(n,s,T,h,l,m)}oc(n,tt,st);return;case"option":for(var At in a)tt=a[At],a.hasOwnProperty(At)&&tt!=null&&!l.hasOwnProperty(At)&&(At==="selected"?n.selected=!1:_e(n,s,At,null,l,tt));for(z in l)tt=l[z],st=a[z],l.hasOwnProperty(z)&&tt!==st&&(tt!=null||st!=null)&&(z==="selected"?n.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":_e(n,s,z,tt,l,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in a)tt=a[Dt],a.hasOwnProperty(Dt)&&tt!=null&&!l.hasOwnProperty(Dt)&&_e(n,s,Dt,null,l,tt);for(Z in l)if(tt=l[Z],st=a[Z],l.hasOwnProperty(Z)&&tt!==st&&(tt!=null||st!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:_e(n,s,Z,tt,l,st)}return;default:if(Ga(s)){for(var xe in a)tt=a[xe],a.hasOwnProperty(xe)&&tt!==void 0&&!l.hasOwnProperty(xe)&&Ap(n,s,xe,void 0,l,tt);for(ot in l)tt=l[ot],st=a[ot],!l.hasOwnProperty(ot)||tt===st||tt===void 0&&st===void 0||Ap(n,s,ot,tt,l,st);return}}for(var Q in a)tt=a[Q],a.hasOwnProperty(Q)&&tt!=null&&!l.hasOwnProperty(Q)&&_e(n,s,Q,null,l,tt);for(dt in l)tt=l[dt],st=a[dt],!l.hasOwnProperty(dt)||tt===st||tt==null&&st==null||_e(n,s,dt,tt,l,st)}function j_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,T=h.initiatorType,w=h.duration;if(m&&w&&j_(T)){for(T=0,w=h.responseEnd,l+=1;l<a.length;l++){var z=a[l],Z=z.startTime;if(Z>w)break;var ot=z.transferSize,dt=z.initiatorType;ot&&j_(dt)&&(z=z.responseEnd,T+=ot*(z<w?1:(w-Z)/(z-Z)))}if(--l,s+=8*(m+T)/(h.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ep=null,wp=null;function ff(n){return n.nodeType===9?n:n.ownerDocument}function M_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Cp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rp=null;function o2(){var n=window.event;return n&&n.type==="popstate"?n===Rp?!1:(Rp=n,!0):(Rp=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(n){return P_.resolve(null).then(n).catch(c2)}:N_;function c2(n){setTimeout(function(){throw n})}function _r(n){return n==="head"}function k_(n,s){var a=s,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(h),Co(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Jl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Jl(a);for(var m=a.firstChild;m;){var T=m.nextSibling,w=m.nodeName;m[Qi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Jl(n.ownerDocument.body);a=h}while(a);Co(s)}function L_(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Ip(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ip(a),Fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function f2(n,s,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Qi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=mi(n.nextSibling),n===null)break}return null}function d2(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mi(n.nextSibling),n===null))return null;return n}function B_(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=mi(n.nextSibling),n===null))return null;return n}function Dp(n){return n.data==="$?"||n.data==="$~"}function Vp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function h2(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function mi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var jp=null;function z_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return mi(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function U_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function F_(n,s,a){switch(s=ff(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Jl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Fa(n)}var gi=new Map,H_=new Set;function df(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zs=X.d;X.d={f:p2,r:m2,D:g2,C:y2,L:v2,m:_2,X:b2,S:x2,M:T2};function p2(){var n=zs.f(),s=nf();return n||s}function m2(n){var s=ri(n);s!==null&&s.tag===5&&s.type==="form"?av(s):zs.r(n)}var Ao=typeof document>"u"?null:document;function q_(n,s,a){var l=Ao;if(l&&typeof s=="string"&&s){var h=jn(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),n={rel:n,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),gn(s,"link",n),He(s),l.head.appendChild(s)))}}function g2(n){zs.D(n),q_("dns-prefetch",n,null)}function y2(n,s){zs.C(n,s),q_("preconnect",n,s)}function v2(n,s,a){zs.L(n,s,a);var l=Ao;if(l&&n&&s){var h='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+jn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+jn(a.imageSizes)+'"]')):h+='[href="'+jn(n)+'"]';var m=h;switch(s){case"style":m=Eo(n);break;case"script":m=wo(n)}gi.has(m)||(n=f({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),gi.set(m,n),l.querySelector(h)!==null||s==="style"&&l.querySelector(tu(m))||s==="script"&&l.querySelector(eu(m))||(s=l.createElement("link"),gn(s,"link",n),He(s),l.head.appendChild(s)))}}function _2(n,s){zs.m(n,s);var a=Ao;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wo(n)}if(!gi.has(m)&&(n=f({rel:"modulepreload",href:n},s),gi.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(m)))return}l=a.createElement("link"),gn(l,"link",n),He(l),a.head.appendChild(l)}}}function x2(n,s,a){zs.S(n,s,a);var l=Ao;if(l&&n){var h=Ki(l).hoistableStyles,m=Eo(n);s=s||"default";var T=h.get(m);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(tu(m)))w.loading=5;else{n=f({rel:"stylesheet",href:n,"data-precedence":s},a),(a=gi.get(m))&&Mp(n,a);var z=T=l.createElement("link");He(z),gn(z,"link",n),z._p=new Promise(function(Z,ot){z.onload=Z,z.onerror=ot}),z.addEventListener("load",function(){w.loading|=1}),z.addEventListener("error",function(){w.loading|=2}),w.loading|=4,hf(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(m,T)}}}function b2(n,s){zs.X(n,s);var a=Ao;if(a&&n){var l=Ki(a).hoistableScripts,h=wo(n),m=l.get(h);m||(m=a.querySelector(eu(h)),m||(n=f({src:n,async:!0},s),(s=gi.get(h))&&Op(n,s),m=a.createElement("script"),He(m),gn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function T2(n,s){zs.M(n,s);var a=Ao;if(a&&n){var l=Ki(a).hoistableScripts,h=wo(n),m=l.get(h);m||(m=a.querySelector(eu(h)),m||(n=f({src:n,async:!0,type:"module"},s),(s=gi.get(h))&&Op(n,s),m=a.createElement("script"),He(m),gn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function G_(n,s,a,l){var h=(h=_t.current)?df(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Eo(a.href),a=Ki(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Eo(a.href);var m=Ki(h).hoistableStyles,T=m.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=h.querySelector(tu(n)))&&!m._p&&(T.instance=m,T.state.loading=5),gi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(n,a),m||S2(h,n,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wo(a),a=Ki(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Eo(n){return'href="'+jn(n)+'"'}function tu(n){return'link[rel="stylesheet"]['+n+"]"}function Y_(n){return f({},n,{"data-precedence":n.precedence,precedence:null})}function S2(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),gn(s,"link",a),He(s),n.head.appendChild(s))}function wo(n){return'[src="'+jn(n)+'"]'}function eu(n){return"script[async]"+n}function Q_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+jn(a.href)+'"]');if(l)return s.instance=l,He(l),l;var h=f({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),He(l),gn(l,"style",h),hf(l,a.precedence,n),s.instance=l;case"stylesheet":h=Eo(a.href);var m=n.querySelector(tu(h));if(m)return s.state.loading|=4,s.instance=m,He(m),m;l=Y_(a),(h=gi.get(h))&&Mp(l,h),m=(n.ownerDocument||n).createElement("link"),He(m);var T=m;return T._p=new Promise(function(w,z){T.onload=w,T.onerror=z}),gn(m,"link",l),s.state.loading|=4,hf(m,a.precedence,n),s.instance=m;case"script":return m=wo(a.src),(h=n.querySelector(eu(m)))?(s.instance=h,He(h),h):(l=a,(h=gi.get(m))&&(l=f({},a),Op(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),He(h),gn(h,"link",l),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hf(l,a.precedence,n));return s.instance}function hf(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===s)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Mp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Op(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var pf=null;function W_(n,s,a){if(pf===null){var l=new Map,h=pf=new Map;h.set(a,l)}else h=pf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[Qi]||m[Fe]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=n+T;var w=l.get(T);w?w.push(m):l.set(T,[m])}}return l}function K_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function A2(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function X_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function E2(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Eo(l.href),m=s.querySelector(tu(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mf.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=m,He(m);return}m=s.ownerDocument||s,l=Y_(l),(h=gi.get(h))&&Mp(l,h),m=m.createElement("link"),He(m);var T=m;T._p=new Promise(function(w,z){T.onload=w,T.onerror=z}),gn(m,"link",l),a.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mf.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Np=0;function w2(n,s){return n.stylesheets&&n.count===0&&yf(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&yf(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&Np===0&&(Np=62500*a2());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&yf(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Np?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var gf=null;function yf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,gf=new Map,s.forEach(C2,n),gf=null,mf.call(n))}function C2(n,s){if(!(s.state.loading&4)){var a=gf.get(n);if(a)var l=a.get(null);else{a=new Map,gf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=s.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,h),a.set(T,h),this.count++,l=mf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var nu={$$typeof:L,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function R2(n,s,a,l,h,m,T,w,z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function $_(n,s,a,l,h,m,T,w,z,Z,ot,dt){return n=new R2(n,s,a,T,z,Z,ot,dt,w),s=1,m===!0&&(s|=24),m=Wn(3,null,null,s),n.current=m,m.stateNode=n,s=ph(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},vh(m),n}function Z_(n){return n?(n=no,n):no}function J_(n,s,a,l,h,m){h=Z_(h),l.context===null?l.context=h:l.pendingContext=h,l=lr(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ur(n,l,s),a!==null&&(Ln(a,n,s),Ol(a,n,s))}function tx(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Pp(n,s){tx(n,s),(n=n.alternate)&&tx(n,s)}function ex(n){if(n.tag===13||n.tag===31){var s=la(n,67108864);s!==null&&Ln(s,n,67108864),Pp(n,67108864)}}function nx(n){if(n.tag===13||n.tag===31){var s=Jn();s=Xr(s);var a=la(n,s);a!==null&&Ln(a,n,s),Pp(n,s)}}var vf=!0;function I2(n,s,a,l){var h=W.T;W.T=null;var m=X.p;try{X.p=2,kp(n,s,a,l)}finally{X.p=m,W.T=h}}function D2(n,s,a,l){var h=W.T;W.T=null;var m=X.p;try{X.p=8,kp(n,s,a,l)}finally{X.p=m,W.T=h}}function kp(n,s,a,l){if(vf){var h=Lp(l);if(h===null)Sp(n,s,l,_f,a),sx(n,l);else if(j2(h,n,s,a,l))l.stopPropagation();else if(sx(n,l),s&4&&-1<V2.indexOf(n)){for(;h!==null;){var m=ri(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Hi(m.pendingLanes);if(T!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var z=1<<31-Pe(T);w.entanglements[1]|=z,T&=~z}ls(m),(ce&6)===0&&(tf=Bt()+500,Xl(0))}}break;case 31:case 13:w=la(m,2),w!==null&&Ln(w,m,2),nf(),Pp(m,2)}if(m=Lp(l),m===null&&Sp(n,s,l,_f,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Sp(n,s,l,null,a)}}function Lp(n){return n=ai(n),Bp(n)}var _f=null;function Bp(n){if(_f=null,n=Wi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=p(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return _f=n,null}function ix(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case he:return 2;case Ui:return 8;case Qs:case Gd:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var zp=!1,xr=null,br=null,Tr=null,iu=new Map,su=new Map,Sr=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(n,s){switch(n){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":iu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(s.pointerId)}}function ru(n,s,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=ri(s),s!==null&&ex(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function j2(n,s,a,l,h){switch(s){case"focusin":return xr=ru(xr,n,s,a,l,h),!0;case"dragenter":return br=ru(br,n,s,a,l,h),!0;case"mouseover":return Tr=ru(Tr,n,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return iu.set(m,ru(iu.get(m)||null,n,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,su.set(m,ru(su.get(m)||null,n,s,a,l,h)),!0}return!1}function rx(n){var s=Wi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Ei(n.priority,function(){nx(a)});return}}else if(s===31){if(s=p(a),s!==null){n.blockedOn=s,Ei(n.priority,function(){nx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Lp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);vl=l,a.target.dispatchEvent(l),vl=null}else return s=ri(a),s!==null&&ex(s),n.blockedOn=a,!1;s.shift()}return!0}function ax(n,s,a){xf(n)&&a.delete(s)}function M2(){zp=!1,xr!==null&&xf(xr)&&(xr=null),br!==null&&xf(br)&&(br=null),Tr!==null&&xf(Tr)&&(Tr=null),iu.forEach(ax),su.forEach(ax)}function bf(n,s){n.blockedOn===s&&(n.blockedOn=null,zp||(zp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,M2)))}var Tf=null;function ox(n){Tf!==n&&(Tf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Tf===n&&(Tf=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],h=n[s+2];if(typeof l!="function"){if(Bp(l||a)===null)continue;break}var m=ri(a);m!==null&&(n.splice(s,3),s-=3,Lh(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Co(n){function s(z){return bf(z,n)}xr!==null&&bf(xr,n),br!==null&&bf(br,n),Tr!==null&&bf(Tr,n),iu.forEach(s),su.forEach(s);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)rx(a),a.blockedOn===null&&Sr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],T=h[sn]||null;if(typeof m=="function")T||ox(a);else if(T){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[sn]||null)w=T.formAction;else if(Bp(h)!==null)continue}else w=T.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),ox(a)}}}function lx(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Up(n){this._internalRoot=n}Sf.prototype.render=Up.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Jn();J_(a,l,n,s,null,null)},Sf.prototype.unmount=Up.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;J_(n.current,2,null,n,null,null),nf(),s[Yi]=null}};function Sf(n){this._internalRoot=n}Sf.prototype.unstable_scheduleHydration=function(n){if(n){var s=nc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Sr.length&&s!==0&&s<Sr[a].priority;a++);Sr.splice(a,0,n),a===0&&rx(n)}};var ux=t.version;if(ux!=="19.2.3")throw Error(r(527,ux,"19.2.3"));X.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=v(s),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var O2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{Si=Af.inject(O2),fn=Af}catch{}}return lu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",h=gv,m=yv,T=vv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=$_(n,1,!1,null,null,a,l,null,h,m,T,lx),n[Yi]=s.current,Tp(n),new Up(s)},lu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,h="",m=gv,T=yv,w=vv,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),s=$_(n,1,!0,s,a??null,l,h,z,m,T,w,lx),s.context=Z_(null),a=s.current,l=Jn(),l=Xr(l),h=lr(l),h.callback=null,ur(a,h,l),a=l,s.current.lanes=a,Wr(s,a),ls(s),n[Yi]=s.current,Tp(n),new Sf(s)},lu.version="19.2.3",lu}var _x;function q2(){if(_x)return qp.exports;_x=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),qp.exports=H2(),qp.exports}var G2=q2();const Y2=()=>{};var xx={};const dT=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Q2=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const o=i[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],p=i[e++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=i[e++],c=i[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,p=c?i[o+1]:0,g=o+2<i.length,v=g?i[o+2]:0,x=u>>2,f=(u&3)<<4|p>>4;let _=(p&15)<<2|v>>6,S=v&63;g||(S=64,c||(_=64)),r.push(e[x],e[f],e[_],e[S])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(dT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Q2(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],p=o<i.length?e[i.charAt(o)]:0;++o;const v=o<i.length?e[i.charAt(o)]:64;++o;const f=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||p==null||v==null||f==null)throw new W2;const _=u<<2|p>>4;if(r.push(_),v!==64){const S=p<<4&240|v>>2;if(r.push(S),f!==64){const E=v<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class W2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(i){const t=dT(i);return hT.encodeByteArray(t,!0)},Wf=function(i){return K2(i).replace(/\./g,"")},X2=function(i){try{return hT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Z2=()=>$2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof xx>"u")return;const i=xx.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&X2(i[1]);return t&&JSON.parse(t)},_g=()=>{try{return Y2()||Z2()||J2()||tC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},eC=i=>_g()?.emulatorHosts?.[i],nC=i=>{const t=eC(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},pT=()=>_g()?.config;class iC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function xg(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sC(i){return(await fetch(i,{credentials:"include"})).ok}function rC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Wf(JSON.stringify(e)),Wf(JSON.stringify(c)),""].join(".")}const mu={};function aC(){const i={prod:[],emulator:[]};for(const t of Object.keys(mu))mu[t]?i.emulator.push(t):i.prod.push(t);return i}function oC(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let bx=!1;function lC(i,t){if(typeof window>"u"||typeof document>"u"||!xg(window.location.host)||mu[i]===t||mu[i]||bx)return;mu[i]=t;function e(_){return`__firebase__banner__${_}`}const r="__firebase__banner",u=aC().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function g(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function v(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{bx=!0,c()},_}function x(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function f(){const _=oC(r),S=e("text"),E=document.getElementById(S)||document.createElement("span"),R=e("learnmore"),M=document.getElementById(R)||document.createElement("a"),V=e("preprendIcon"),O=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;p(L),x(M,R);const Y=v();g(O,V),L.append(O,E,M,Y),document.body.appendChild(L)}u?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function uC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cC(){const i=_g()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}function hC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pC="FirebaseError";class Fr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=pC,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?mC(u,r):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Fr(o,p,r)}}function mC(i,t){return i.replace(gC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const gC=/\{\$([^}]+)}/g;function Au(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(Tx(u)&&Tx(c)){if(!Au(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function Tx(i){return i!==null&&typeof i=="object"}const yC=1e3,vC=2,_C=14400*1e3,xC=.5;function Sx(i,t=yC,e=vC){const r=t*Math.pow(e,i),o=Math.round(xC*r*(Math.random()-.5)*2);return Math.min(_C,r+o)}function ii(i){return i&&i._delegate?i._delegate:i}class Us{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Sa="[DEFAULT]";class bC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new iC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SC(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(i){return i===Sa?void 0:i}function SC(i){return i.instantiationMode==="EAGER"}class AC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var se;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(se||(se={}));const EC={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},wC=se.INFO,CC={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},RC=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=CC[t];if(o)console[o](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bg{constructor(t){this.name=t,this._logLevel=wC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?EC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const IC=(i,t)=>t.some(e=>i instanceof e);let Ax,Ex;function DC(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return Ex||(Ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,Em=new WeakMap,vT=new WeakMap,Wp=new WeakMap,Tg=new WeakMap;function jC(i){const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(Cr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&yT.set(e,i)}).catch(()=>{}),Tg.set(t,i),t}function MC(i){if(Em.has(i))return;const t=new Promise((e,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Em.set(i,t)}let wm={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Em.get(i);if(t==="objectStoreNames")return i.objectStoreNames||vT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function OC(i){wm=i(wm)}function NC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Kp(this),t,...e);return vT.set(r,t.sort?t.sort():[t]),Cr(r)}:VC().includes(i)?function(...t){return i.apply(Kp(this),t),Cr(yT.get(this))}:function(...t){return Cr(i.apply(Kp(this),t))}}function PC(i){return typeof i=="function"?NC(i):(i instanceof IDBTransaction&&MC(i),IC(i,DC())?new Proxy(i,wm):i)}function Cr(i){if(i instanceof IDBRequest)return jC(i);if(Wp.has(i))return Wp.get(i);const t=PC(i);return t!==i&&(Wp.set(i,t),Tg.set(t,i)),t}const Kp=i=>Tg.get(i);function _T(i,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),p=Cr(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Cr(c.result),g.oldVersion,g.newVersion,Cr(c.transaction),g)}),e&&c.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const kC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],Xp=new Map;function wx(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Xp.get(t))return Xp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=LC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(e)))return;const u=async function(c,...p){const g=this.transaction(c,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[e](...p),o&&g.done]))[0]};return Xp.set(t,u),u}OC(i=>({...i,get:(t,e,r)=>wx(t,e)||i.get(t,e,r),has:(t,e)=>!!wx(t,e)||i.has(t,e)}));class BC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(zC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function zC(i){return i.getComponent()?.type==="VERSION"}const Cm="@firebase/app",Cx="0.14.6";const Fs=new bg("@firebase/app"),UC="@firebase/app-compat",FC="@firebase/analytics-compat",HC="@firebase/analytics",qC="@firebase/app-check-compat",GC="@firebase/app-check",YC="@firebase/auth",QC="@firebase/auth-compat",WC="@firebase/database",KC="@firebase/data-connect",XC="@firebase/database-compat",$C="@firebase/functions",ZC="@firebase/functions-compat",JC="@firebase/installations",tR="@firebase/installations-compat",eR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",rR="@firebase/remote-config",aR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",fR="@firebase/firestore-compat",dR="firebase",hR="12.6.0";const Rm="[DEFAULT]",pR={[Cm]:"fire-core",[UC]:"fire-core-compat",[HC]:"fire-analytics",[FC]:"fire-analytics-compat",[GC]:"fire-app-check",[qC]:"fire-app-check-compat",[YC]:"fire-auth",[QC]:"fire-auth-compat",[WC]:"fire-rtdb",[KC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[$C]:"fire-fn",[ZC]:"fire-fn-compat",[JC]:"fire-iid",[tR]:"fire-iid-compat",[eR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[rR]:"fire-rc",[aR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[fR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};const Kf=new Map,mR=new Map,Im=new Map;function Rx(i,t){try{i.container.addComponent(t)}catch(e){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function jr(i){const t=i.name;if(Im.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;Im.set(t,i);for(const e of Kf.values())Rx(e,i);for(const e of mR.values())Rx(e,i);return!0}function Bu(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function gR(i){return i==null?!1:i.settings!==void 0}const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new yd("app","Firebase",yR);class vR{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const _R=hR;function xT(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:Rm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(e||(e=pT()),!e)throw Rr.create("no-options");const u=Kf.get(o);if(u){if(Au(e,u.options)&&Au(r,u.config))return u;throw Rr.create("duplicate-app",{appName:o})}const c=new AC(o);for(const g of Im.values())c.addComponent(g);const p=new vR(e,r,c);return Kf.set(o,p),p}function bT(i=Rm){const t=Kf.get(i);if(!t&&i===Rm&&pT())return xT();if(!t)throw Rr.create("no-app",{appName:i});return t}function ds(i,t,e){let r=pR[i]??i;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}jr(new Us(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const xR="firebase-heartbeat-database",bR=1,Eu="firebase-heartbeat-store";let $p=null;function TT(){return $p||($p=_T(xR,bR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Eu)}catch(e){console.warn(e)}}}}).catch(i=>{throw Rr.create("idb-open",{originalErrorMessage:i.message})})),$p}async function TR(i){try{const e=(await TT()).transaction(Eu),r=await e.objectStore(Eu).get(ST(i));return await e.done,r}catch(t){if(t instanceof Fr)Fs.warn(t.message);else{const e=Rr.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(e.message)}}}async function Ix(i,t){try{const r=(await TT()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,ST(i)),await r.done}catch(e){if(e instanceof Fr)Fs.warn(e.message);else{const r=Rr.create("idb-set",{originalErrorMessage:e?.message});Fs.warn(r.message)}}}function ST(i){return`${i.name}!${i.options.appId}`}const SR=1024,AR=30;class ER{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CR(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>AR){const o=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dx(),{heartbeatsToSend:e,unsentEntries:r}=wR(this._heartbeatsCache.heartbeats),o=Wf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fs.warn(t),""}}}function Dx(){return new Date().toISOString().substring(0,10)}function wR(i,t=SR){const e=[];let r=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Vx(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Vx(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class CR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await TR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ix(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ix(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Vx(i){return Wf(JSON.stringify({version:2,heartbeats:i})).length}function RR(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}function IR(i){jr(new Us("platform-logger",t=>new BC(t),"PRIVATE")),jr(new Us("heartbeat",t=>new ER(t),"PRIVATE")),ds(Cm,Cx,i),ds(Cm,Cx,"esm2020"),ds("fire-js","")}IR("");var DR="firebase",VR="12.7.0";ds(DR,VR,"app");var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,AT;(function(){var i;function t(j,C){function I(){}I.prototype=C.prototype,j.F=C.prototype,j.prototype=new I,j.prototype.constructor=j,j.D=function(k,B,U){for(var N=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)N[Ct-2]=arguments[Ct];return C.prototype[B].apply(k,N)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,C,I){I||(I=0);const k=Array(16);if(typeof C=="string")for(var B=0;B<16;++B)k[B]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(B=0;B<16;++B)k[B]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=j.g[0],I=j.g[1],B=j.g[2];let U=j.g[3],N;N=C+(U^I&(B^U))+k[0]+3614090360&4294967295,C=I+(N<<7&4294967295|N>>>25),N=U+(B^C&(I^B))+k[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=B+(I^U&(C^I))+k[2]+606105819&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(C^B&(U^C))+k[3]+3250441966&4294967295,I=B+(N<<22&4294967295|N>>>10),N=C+(U^I&(B^U))+k[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=U+(B^C&(I^B))+k[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=B+(I^U&(C^I))+k[6]+2821735955&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(C^B&(U^C))+k[7]+4249261313&4294967295,I=B+(N<<22&4294967295|N>>>10),N=C+(U^I&(B^U))+k[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=U+(B^C&(I^B))+k[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=B+(I^U&(C^I))+k[10]+4294925233&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(C^B&(U^C))+k[11]+2304563134&4294967295,I=B+(N<<22&4294967295|N>>>10),N=C+(U^I&(B^U))+k[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=U+(B^C&(I^B))+k[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=B+(I^U&(C^I))+k[14]+2792965006&4294967295,B=U+(N<<17&4294967295|N>>>15),N=I+(C^B&(U^C))+k[15]+1236535329&4294967295,I=B+(N<<22&4294967295|N>>>10),N=C+(B^U&(I^B))+k[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(C^I))+k[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=B+(C^I&(U^C))+k[11]+643717713&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^C&(B^U))+k[0]+3921069994&4294967295,I=B+(N<<20&4294967295|N>>>12),N=C+(B^U&(I^B))+k[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(C^I))+k[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=B+(C^I&(U^C))+k[15]+3634488961&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^C&(B^U))+k[4]+3889429448&4294967295,I=B+(N<<20&4294967295|N>>>12),N=C+(B^U&(I^B))+k[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(C^I))+k[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=B+(C^I&(U^C))+k[3]+4107603335&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^C&(B^U))+k[8]+1163531501&4294967295,I=B+(N<<20&4294967295|N>>>12),N=C+(B^U&(I^B))+k[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=U+(I^B&(C^I))+k[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=B+(C^I&(U^C))+k[7]+1735328473&4294967295,B=U+(N<<14&4294967295|N>>>18),N=I+(U^C&(B^U))+k[12]+2368359562&4294967295,I=B+(N<<20&4294967295|N>>>12),N=C+(I^B^U)+k[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=U+(C^I^B)+k[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=B+(U^C^I)+k[11]+1839030562&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^C)+k[14]+4259657740&4294967295,I=B+(N<<23&4294967295|N>>>9),N=C+(I^B^U)+k[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=U+(C^I^B)+k[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=B+(U^C^I)+k[7]+4139469664&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^C)+k[10]+3200236656&4294967295,I=B+(N<<23&4294967295|N>>>9),N=C+(I^B^U)+k[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=U+(C^I^B)+k[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=B+(U^C^I)+k[3]+3572445317&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^C)+k[6]+76029189&4294967295,I=B+(N<<23&4294967295|N>>>9),N=C+(I^B^U)+k[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=U+(C^I^B)+k[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=B+(U^C^I)+k[15]+530742520&4294967295,B=U+(N<<16&4294967295|N>>>16),N=I+(B^U^C)+k[2]+3299628645&4294967295,I=B+(N<<23&4294967295|N>>>9),N=C+(B^(I|~U))+k[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=U+(I^(C|~B))+k[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=B+(C^(U|~I))+k[14]+2878612391&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~C))+k[5]+4237533241&4294967295,I=B+(N<<21&4294967295|N>>>11),N=C+(B^(I|~U))+k[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=U+(I^(C|~B))+k[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=B+(C^(U|~I))+k[10]+4293915773&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~C))+k[1]+2240044497&4294967295,I=B+(N<<21&4294967295|N>>>11),N=C+(B^(I|~U))+k[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=U+(I^(C|~B))+k[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=B+(C^(U|~I))+k[6]+2734768916&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~C))+k[13]+1309151649&4294967295,I=B+(N<<21&4294967295|N>>>11),N=C+(B^(I|~U))+k[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=U+(I^(C|~B))+k[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=B+(C^(U|~I))+k[2]+718787259&4294967295,B=U+(N<<15&4294967295|N>>>17),N=I+(U^(B|~C))+k[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(B+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+B&4294967295,j.g[3]=j.g[3]+U&4294967295}r.prototype.v=function(j,C){C===void 0&&(C=j.length);const I=C-this.blockSize,k=this.C;let B=this.h,U=0;for(;U<C;){if(B==0)for(;U<=I;)o(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<C;)if(k[B++]=j.charCodeAt(U++),B==this.blockSize){o(this,k),B=0;break}}else for(;U<C;)if(k[B++]=j[U++],B==this.blockSize){o(this,k),B=0;break}}this.h=B,this.o+=C},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;C=this.o*8;for(var I=j.length-8;I<j.length;++I)j[I]=C&255,C/=256;for(this.v(j),j=Array(16),C=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)j[C++]=this.g[I]>>>k&255;return j};function u(j,C){var I=p;return Object.prototype.hasOwnProperty.call(I,j)?I[j]:I[j]=C(j)}function c(j,C){this.h=C;const I=[];let k=!0;for(let B=j.length-1;B>=0;B--){const U=j[B]|0;k&&U==C||(I[B]=U,k=!1)}this.g=I}var p={};function g(j){return-128<=j&&j<128?u(j,function(C){return new c([C|0],C<0?-1:0)}):new c([j|0],j<0?-1:0)}function v(j){if(isNaN(j)||!isFinite(j))return f;if(j<0)return M(v(-j));const C=[];let I=1;for(let k=0;j>=I;k++)C[k]=j/I|0,I*=4294967296;return new c(C,0)}function x(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return M(x(j.substring(1),C));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(C,8));let k=f;for(let U=0;U<j.length;U+=8){var B=Math.min(8,j.length-U);const N=parseInt(j.substring(U,U+B),C);B<8?(B=v(Math.pow(C,B)),k=k.j(B).add(v(N))):(k=k.j(I),k=k.add(v(N)))}return k}var f=g(0),_=g(1),S=g(16777216);i=c.prototype,i.m=function(){if(R(this))return-M(this).m();let j=0,C=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);j+=(k>=0?k:4294967296+k)*C,C*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(E(this))return"0";if(R(this))return"-"+M(this).toString(j);const C=v(Math.pow(j,6));var I=this;let k="";for(;;){const B=Y(I,C).g;I=V(I,B.j(C));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(j);if(I=B,E(I))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function E(j){if(j.h!=0)return!1;for(let C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function R(j){return j.h==-1}i.l=function(j){return j=V(this,j),R(j)?-1:E(j)?0:1};function M(j){const C=j.g.length,I=[];for(let k=0;k<C;k++)I[k]=~j.g[k];return new c(I,~j.h).add(_)}i.abs=function(){return R(this)?M(this):this},i.add=function(j){const C=Math.max(this.g.length,j.g.length),I=[];let k=0;for(let B=0;B<=C;B++){let U=k+(this.i(B)&65535)+(j.i(B)&65535),N=(U>>>16)+(this.i(B)>>>16)+(j.i(B)>>>16);k=N>>>16,U&=65535,N&=65535,I[B]=N<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function V(j,C){return j.add(M(C))}i.j=function(j){if(E(this)||E(j))return f;if(R(this))return R(j)?M(this).j(M(j)):M(M(this).j(j));if(R(j))return M(this.j(M(j)));if(this.l(S)<0&&j.l(S)<0)return v(this.m()*j.m());const C=this.g.length+j.g.length,I=[];for(var k=0;k<2*C;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let B=0;B<j.g.length;B++){const U=this.i(k)>>>16,N=this.i(k)&65535,Ct=j.i(B)>>>16,Ft=j.i(B)&65535;I[2*k+2*B]+=N*Ft,O(I,2*k+2*B),I[2*k+2*B+1]+=U*Ft,O(I,2*k+2*B+1),I[2*k+2*B+1]+=N*Ct,O(I,2*k+2*B+1),I[2*k+2*B+2]+=U*Ct,O(I,2*k+2*B+2)}for(j=0;j<C;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=C;j<2*C;j++)I[j]=0;return new c(I,0)};function O(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function L(j,C){this.g=j,this.h=C}function Y(j,C){if(E(C))throw Error("division by zero");if(E(j))return new L(f,f);if(R(j))return C=Y(M(j),C),new L(M(C.g),M(C.h));if(R(C))return C=Y(j,M(C)),new L(M(C.g),C.h);if(j.g.length>30){if(R(j)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var I=_,k=C;k.l(j)<=0;)I=et(I),k=et(k);var B=J(I,1),U=J(k,1);for(k=J(k,2),I=J(I,2);!E(k);){var N=U.add(k);N.l(j)<=0&&(B=B.add(I),U=N),k=J(k,1),I=J(I,1)}return C=V(j,B.j(C)),new L(B,C)}for(B=f;j.l(C)>=0;){for(I=Math.max(1,Math.floor(j.m()/C.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=v(I),N=U.j(C);R(N)||N.l(j)>0;)I-=k,U=v(I),N=U.j(C);E(U)&&(U=_),B=B.add(U),j=V(j,N)}return new L(B,j)}i.B=function(j){return Y(this,j).h},i.and=function(j){const C=Math.max(this.g.length,j.g.length),I=[];for(let k=0;k<C;k++)I[k]=this.i(k)&j.i(k);return new c(I,this.h&j.h)},i.or=function(j){const C=Math.max(this.g.length,j.g.length),I=[];for(let k=0;k<C;k++)I[k]=this.i(k)|j.i(k);return new c(I,this.h|j.h)},i.xor=function(j){const C=Math.max(this.g.length,j.g.length),I=[];for(let k=0;k<C;k++)I[k]=this.i(k)^j.i(k);return new c(I,this.h^j.h)};function et(j){const C=j.g.length+1,I=[];for(let k=0;k<C;k++)I[k]=j.i(k)<<1|j.i(k-1)>>>31;return new c(I,j.h)}function J(j,C){const I=C>>5;C%=32;const k=j.g.length-I,B=[];for(let U=0;U<k;U++)B[U]=C>0?j.i(U+I)>>>C|j.i(U+I+1)<<32-C:j.i(U+I);return new c(B,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=x,Ir=c}).apply(typeof jx<"u"?jx:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ET,cu,wT,Lf,Dm,CT,RT,IT;(function(){var i,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var b=0;b<d.length;++b){var A=d[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function o(d,b){if(b)t:{var A=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var K=d[D];if(!(K in A))break t;A=A[K]}d=d[d.length-1],D=A[d],b=b(D),b!=D&&b!=null&&t(A,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var A=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&A.push([D,b[D]]);return A}});var u=u||{},c=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,A){return d.call.apply(d.bind,arguments)}function v(d,b,A){return v=g,v.apply(null,arguments)}function x(d,b){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function f(d,b){function A(){}A.prototype=b.prototype,d.Z=b.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(D,K,it){for(var mt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)mt[Ht-2]=arguments[Ht];return b.prototype[K].apply(D,mt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const b=d.length;if(b>0){const A=Array(b);for(let D=0;D<b;D++)A[D]=d[D];return A}return[]}function E(d,b){for(let D=1;D<arguments.length;D++){const K=arguments[D];var A=typeof K;if(A=A!="object"?A:K?Array.isArray(K)?"array":A:"null",A=="array"||A=="object"&&typeof K.length=="number"){A=d.length||0;const it=K.length||0;d.length=A+it;for(let mt=0;mt<it;mt++)d[A+mt]=K[mt]}else d.push(K)}}class R{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(d){c.setTimeout(()=>{throw d},0)}function V(){var d=j;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class O{constructor(){this.h=this.g=null}add(b,A){const D=L.get();D.set(b,A),this.h?this.h.next=D:this.g=D,this.h=D}}var L=new R(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let et,J=!1,j=new O,C=()=>{const d=Promise.resolve(void 0);et=()=>{d.then(I)}};function I(){for(var d;d=V();){try{d.h.call(d.g)}catch(A){M(A)}var b=L;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}J=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};c.addEventListener("test",A,b),c.removeEventListener("test",A,b)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function Ct(d,b){B.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}f(Ct,B),Ct.prototype.init=function(d,b){const A=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(A=="mouseover"?b=d.fromElement:A=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),W=0;function X(d,b,A,D,K){this.listener=d,this.proxy=null,this.src=b,this.type=A,this.capture=!!D,this.ha=K,this.key=++W,this.da=this.fa=!1}function ct(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function F(d,b,A){for(const D in d)b.call(A,d[D],D,d)}function at(d,b){for(const A in d)b.call(void 0,d[A],A,d)}function P(d){const b={};for(const A in d)b[A]=d[A];return b}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(d,b){let A,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(A in D)d[A]=D[A];for(let it=0;it<G.length;it++)A=G[it],Object.prototype.hasOwnProperty.call(D,A)&&(d[A]=D[A])}}function pt(d){this.src=d,this.g={},this.h=0}pt.prototype.add=function(d,b,A,D,K){const it=d.toString();d=this.g[it],d||(d=this.g[it]=[],this.h++);const mt=_t(d,b,D,K);return mt>-1?(b=d[mt],A||(b.fa=!1)):(b=new X(b,this.src,it,!!D,K),b.fa=A,d.push(b)),b};function vt(d,b){const A=b.type;if(A in d.g){var D=d.g[A],K=Array.prototype.indexOf.call(D,b,void 0),it;(it=K>=0)&&Array.prototype.splice.call(D,K,1),it&&(ct(b),d.g[A].length==0&&(delete d.g[A],d.h--))}}function _t(d,b,A,D){for(let K=0;K<d.length;++K){const it=d[K];if(!it.da&&it.listener==b&&it.capture==!!A&&it.ha==D)return K}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),St={};function wt(d,b,A,D,K){if(Array.isArray(b)){for(let it=0;it<b.length;it++)wt(d,b[it],A,D,K);return null}return A=zi(A),d&&d[Ft]?d.J(b,A,p(D)?!!D.capture:!1,K):Wt(d,b,A,!1,D,K)}function Wt(d,b,A,D,K,it){if(!b)throw Error("Invalid event type");const mt=p(K)?!!K.capture:!!K;let Ht=qn(d);if(Ht||(d[Tt]=Ht=new pt(d)),A=Ht.add(b,A,D,mt,it),A.proxy)return A;if(D=le(),A.proxy=D,D.src=d,D.listener=A,d.addEventListener)U||(K=mt),K===void 0&&(K=!1),d.addEventListener(b.toString(),D,K);else if(d.attachEvent)d.attachEvent(bn(b.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function le(){function d(A){return b.call(d.src,d.listener,A)}const b=xs;return d}function Vn(d,b,A,D,K){if(Array.isArray(b))for(var it=0;it<b.length;it++)Vn(d,b[it],A,D,K);else D=p(D)?!!D.capture:!!D,A=zi(A),d&&d[Ft]?(d=d.i,it=String(b).toString(),it in d.g&&(b=d.g[it],A=_t(b,A,D,K),A>-1&&(ct(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete d.g[it],d.h--)))):d&&(d=qn(d))&&(b=d.g[b.toString()],d=-1,b&&(d=_t(b,A,D,K)),(A=d>-1?b[d]:null)&&cn(A))}function cn(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Ft])vt(b.i,d);else{var A=d.type,D=d.proxy;b.removeEventListener?b.removeEventListener(A,D,d.capture):b.detachEvent?b.detachEvent(bn(A),D):b.addListener&&b.removeListener&&b.removeListener(D),(A=qn(b))?(vt(A,d),A.h==0&&(A.src=null,b[Tt]=null)):ct(d)}}}function bn(d){return d in St?St[d]:St[d]="on"+d}function xs(d,b){if(d.da)d=!0;else{b=new Ct(b,this);const A=d.listener,D=d.ha||d.src;d.fa&&cn(d),d=A.call(D,b)}return d}function qn(d){return d=d[Tt],d instanceof pt?d:null}var bs="__closure_events_fn_"+(Math.random()*1e9>>>0);function zi(d){return typeof d=="function"?d:(d[bs]||(d[bs]=function(b){return d.handleEvent(b)}),d[bs])}function re(){k.call(this),this.i=new pt(this),this.M=this,this.G=null}f(re,k),re.prototype[Ft]=!0,re.prototype.removeEventListener=function(d,b,A,D){Vn(this,d,b,A,D)};function Nt(d,b){var A,D=d.G;if(D)for(A=[];D;D=D.G)A.push(D);if(d=d.M,D=b.type||b,typeof b=="string")b=new B(b,d);else if(b instanceof B)b.target=b.target||d;else{var K=b;b=new B(D,d),nt(b,K)}K=!0;let it,mt;if(A)for(mt=A.length-1;mt>=0;mt--)it=b.g=A[mt],K=rt(it,D,!0,b)&&K;if(it=b.g=d,K=rt(it,D,!0,b)&&K,K=rt(it,D,!1,b)&&K,A)for(mt=0;mt<A.length;mt++)it=b.g=A[mt],K=rt(it,D,!1,b)&&K}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const A=d.g[b];for(let D=0;D<A.length;D++)ct(A[D]);delete d.g[b],d.h--}}this.G=null},re.prototype.J=function(d,b,A,D){return this.i.add(String(d),b,!1,A,D)},re.prototype.K=function(d,b,A,D){return this.i.add(String(d),b,!0,A,D)};function rt(d,b,A,D){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let it=0;it<b.length;++it){const mt=b[it];if(mt&&!mt.da&&mt.capture==A){const Ht=mt.listener,ke=mt.ha||mt.src;mt.fa&&vt(d.i,mt),K=Ht.call(ke,D)!==!1&&K}}return K&&!D.defaultPrevented}function gt(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(d,b||0)}function ne(d){d.g=gt(()=>{d.g=null,d.i&&(d.i=!1,ne(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class Bt extends k{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(d){k.call(this),this.h=d,this.g={}}f(te,k);var he=[];function Ui(d){F(d.g,function(b,A){this.g.hasOwnProperty(A)&&cn(b)},d),d.g={}}te.prototype.N=function(){te.Z.N.call(this),Ui(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=c.JSON.stringify,Gd=c.JSON.parse,Xu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function $u(){}function Zu(){}var Si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){B.call(this,"d")}f(fn,B);function si(){B.call(this,"c")}f(si,B);var Pe={},Ju=null;function za(){return Ju=Ju||new re}Pe.Ia="serverreachability";function tc(d){B.call(this,Pe.Ia,d)}f(tc,B);function Fi(d){const b=za();Nt(b,new tc(b))}Pe.STAT_EVENT="statevent";function Qr(d,b){B.call(this,Pe.STAT_EVENT,d),this.stat=b}f(Qr,B);function Ue(d){const b=za();Nt(b,new Qr(b,d))}Pe.Ja="timingevent";function Hi(d,b){B.call(this,Pe.Ja,d),this.size=b}f(Hi,B);function qi(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function Yd(d,b,A,D,K,it){d.info(function(){if(d.g)if(it){var mt="",Ht=it.split("&");for(let ue=0;ue<Ht.length;ue++){var ke=Ht[ue].split("=");if(ke.length>1){const we=ke[0];ke=ke[1];const li=we.split("_");mt=li.length>=2&&li[1]=="type"?mt+(we+"="+ke+"&"):mt+(we+"=redacted&")}}}else mt=null;else mt=it;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+b+`
`+A+`
`+mt})}function ec(d,b,A,D,K,it,mt){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+b+`
`+A+`
`+it+" "+mt})}function Gi(d,b,A,D){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qd(d,A)+(D?" "+D:"")})}function Wr(d,b){d.info(function(){return"TIMEOUT: "+b})}Ai.prototype.info=function(){};function Qd(d,b){if(!d.g)return b;if(!b)return null;try{const it=JSON.parse(b);if(it){for(d=0;d<it.length;d++)if(Array.isArray(it[d])){var A=it[d];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let mt=1;mt<D.length;mt++)D[mt]=""}}}}return Qs(it)}catch{return b}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function Xr(){}f(Xr,$u),Xr.prototype.g=function(){return new XMLHttpRequest},ll=new Xr;function Ts(d){return encodeURIComponent(String(d))}function nc(d){var b=1;d=d.split(":");const A=[];for(;b>0&&d.length;)A.push(d.shift()),b--;return d.length&&A.push(d.join(":")),A}function Ei(d,b,A,D){this.j=d,this.i=b,this.l=A,this.S=D||1,this.V=new te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Fe={},sn={};function Yi(d,b,A){d.M=1,d.A=$r(qe(b)),d.u=A,d.R=!0,Ua(d,null)}function Ua(d,b){d.F=Date.now(),Qi(d),d.B=qe(d.A);var A=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),Ga(A.i,"t",D),d.C=0,A=d.j.L,d.h=new wi,d.g=yc(d.j,A?b:null,!d.u),d.P>0&&(d.O=new Bt(v(d.Y,d,d.g),d.P)),b=d.V,A=d.g,D=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(he[0]=K.toString()),K=he);for(let it=0;it<K.length;it++){const mt=wt(A,K[it],D||b.handleEvent,!1,b.h||b);if(!mt)break;b.g[mt.key]=mt}b=d.J?P(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Fi(),Yd(d.i,d.v,d.B,d.l,d.S,d.u)}Ei.prototype.ba=function(d){d=d.target;const b=this.O;b&&Ii(d)==3?b.j():this.Y(d)},Ei.prototype.Y=function(d){try{if(d==this.g)t:{const Ht=Ii(this.g),ke=this.g.ya(),ue=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||Ht!=4||ke==7||(ke==8||ue<=0?Fi(3):Fi(2)),Wi(this);var b=this.g.ca();this.X=b;var A=Wd(this);if(this.o=b==200,ec(this.i,this.v,this.B,this.l,this.S,Ht,b),this.o){if(this.U&&!this.L){e:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var it=D;break e}}it=null}if(d=it)Gi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,d);else{this.o=!1,this.m=3,Ue(12),Gn(this),ri(this);break t}}if(this.R){d=!0;let we;for(;!this.K&&this.C<A.length;)if(we=sc(this,A),we==sn){Ht==4&&(this.m=4,Ue(14),d=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(we==Fe){this.m=4,Ue(15),Gi(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else Gi(this.i,this.l,we,null),Ki(this,we);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||A.length!=0||this.h.h||(this.m=1,Ue(16),d=!1),this.o=this.o&&d,!d)Gi(this.i,this.l,A,"[Invalid Chunked Response]"),Gn(this),ri(this);else if(A.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Sl(mt),mt.P=!0,Ue(11))}}else Gi(this.i,this.l,A,null),Ki(this,A);Ht==4&&Gn(this),this.o&&!this.K&&(Ht==4?hc(this.j,this):(this.o=!1,Qi(this)))}else As(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),Gn(this),ri(this)}}}catch{}};function Wd(d){if(!ic(d))return d.g.la();const b=dn(d.g);if(b==="")return"";let A="";const D=b.length,K=Ii(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Gn(d),ri(d),"";d.h.i=new c.TextDecoder}for(let it=0;it<D;it++)d.h.h=!0,A+=d.h.i.decode(b[it],{stream:!(K&&it==D-1)});return b.length=0,d.h.g+=A,d.C=0,d.h.g}function ic(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function sc(d,b){var A=d.C,D=b.indexOf(`
`,A);return D==-1?sn:(A=Number(b.substring(A,D)),isNaN(A)?Fe:(D+=1,D+A>b.length?sn:(b=b.slice(D,D+A),d.C=D+A,b)))}Ei.prototype.cancel=function(){this.K=!0,Gn(this)};function Qi(d){d.T=Date.now()+d.H,Fa(d,d.H)}function Fa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qi(v(d.aa,d),b)}function Wi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Ei.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(Fi(),Ue(17)),Gn(this),this.m=2,ri(this)):Fa(this,this.T-d)};function ri(d){d.j.I==0||d.K||hc(d.j,d)}function Gn(d){Wi(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,Ui(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Ki(d,b){try{var A=d.j;if(A.I!=0&&(A.g==d||$i(A.h,d))){if(!d.L&&$i(A.h,d)&&A.I==3){try{var D=A.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)Xa(A),er(A);else break t;sa(A),Ue(18)}}else A.xa=K[1],0<A.xa-A.K&&K[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=qi(v(A.Va,A),6e3));Xi(A.h)<=1&&A.ta&&(A.ta=void 0)}else is(A,11)}else if((d.L||A.g==d)&&Xa(A),!N(b))for(K=A.Ba.g.parse(b),b=0;b<K.length;b++){let ue=K[b];const we=ue[0];if(!(we<=A.K))if(A.K=we,ue=ue[1],A.I==2)if(ue[0]=="c"){A.M=ue[1],A.ba=ue[2];const li=ue[3];li!=null&&(A.ka=li,A.j.info("VER="+A.ka));const ss=ue[4];ss!=null&&(A.za=ss,A.j.info("SVER="+A.za));const Di=ue[5];Di!=null&&typeof Di=="number"&&Di>0&&(D=1.5*Di,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Vi=d.g;if(Vi){const ra=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var it=D.h;it.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(fl(it,it.h),it.h=null))}if(D.G){const $a=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(D.wa=$a,pe(D.J,D.G,$a))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var mt=d;if(D.na=gc(D,D.L?D.ba:null,D.W),mt.L){dl(D.h,mt);var Ht=mt,ke=D.O;ke&&(Ht.H=ke),Ht.D&&(Wi(Ht),Qi(Ht)),D.g=mt}else fc(D);A.i.length>0&&ns(A)}else ue[0]!="stop"&&ue[0]!="close"||is(A,7);else A.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?is(A,7):bl(A):ue[0]!="noop"&&A.l&&A.l.qa(ue),A.A=0)}}Fi(4)}catch{}}var He=class{constructor(d,b){this.g=d,this.map=b}};function ul(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xi(d){return d.h?1:d.g?d.g.size:0}function $i(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function fl(d,b){d.g?d.g.add(b):d.h=b}function dl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}ul.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const A of d.g.values())b=b.concat(A.G);return b}return S(d.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(d,b){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const D=d[A].indexOf("=");let K,it=null;D>=0?(K=d[A].substring(0,D),it=d[A].substring(D+1)):K=d[A],b(K,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function Yn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Yn?(this.l=d.l,rn(this,d.j),this.o=d.o,this.g=d.g,Ws(this,d.u),this.h=d.h,pl(this,uc(d.i)),this.m=d.m):d&&(b=String(d).match(rc))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Zi(b[2]||""),this.g=Zi(b[3]||"",!0),Ws(this,b[4]),this.h=Zi(b[5]||"",!0),pl(this,b[6]||"",!0),this.m=Zi(b[7]||"")):(this.l=!1,this.i=new Xs(null,this.l))}Yn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Zr(b,qa,!0),":");var A=this.g;return(A||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Zr(b,qa,!0),"@"),d.push(Ts(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Zr(A,A.charAt(0)=="/"?ml:ac,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Zr(A,oc)),d.join("")},Yn.prototype.resolve=function(d){const b=qe(this);let A=!!d.j;A?rn(b,d.j):A=!!d.o,A?b.o=d.o:A=!!d.g,A?b.g=d.g:A=d.u!=null;var D=d.h;if(A)Ws(b,d.u);else if(A=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=b.h.lastIndexOf("/");K!=-1&&(D=b.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const it=[];for(let mt=0;mt<K.length;){const Ht=K[mt++];Ht=="."?D&&mt==K.length&&it.push(""):Ht==".."?((it.length>1||it.length==1&&it[0]!="")&&it.pop(),D&&mt==K.length&&it.push("")):(it.push(Ht),D=!0)}D=it.join("/")}else D=K}return A?b.h=D:A=d.i.toString()!=="",A?pl(b,uc(d.i)):A=!!d.m,A&&(b.m=d.m),b};function qe(d){return new Yn(d)}function rn(d,b,A){d.j=A?Zi(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Ws(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function pl(d,b,A){b instanceof Xs?(d.i=b,Ya(d.i,d.l)):(A||(b=Zr(b,Ks)),d.i=new Xs(b,d.l))}function pe(d,b,A){d.i.set(b,A)}function $r(d){return pe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Zi(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zr(d,b,A){return typeof d=="string"?(d=encodeURI(d).replace(b,jn),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qa=/[#\/\?@]/g,ac=/[#\?:]/g,ml=/[#\?]/g,Ks=/[#\?@]/g,oc=/#/g;function Xs(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Mn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ha(d.i,function(b,A){d.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}i=Xs.prototype,i.add=function(d,b){Mn(this),this.i=null,d=$s(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(b),this.h+=1,this};function lc(d,b){Mn(d),b=$s(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function gl(d,b){return Mn(d),b=$s(d,b),d.g.has(b)}i.forEach=function(d,b){Mn(this),this.g.forEach(function(A,D){A.forEach(function(K){d.call(b,K,D,this)},this)},this)};function yl(d,b){Mn(d);let A=[];if(typeof b=="string")gl(d,b)&&(A=A.concat(d.g.get($s(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)A=A.concat(d[b]);return A}i.set=function(d,b){return Mn(this),this.i=null,d=$s(this,d),gl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},i.get=function(d,b){return d?(d=yl(this,d),d.length>0?String(d[0]):b):b};function Ga(d,b,A){lc(d,b),A.length>0&&(d.i=null,d.g.set($s(d,b),S(A)),d.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var A=b[D];const K=Ts(A);A=yl(this,A);for(let it=0;it<A.length;it++){let mt=K;A[it]!==""&&(mt+="="+Ts(A[it])),d.push(mt)}}return this.i=d.join("&")};function uc(d){const b=new Xs;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function $s(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Ya(d,b){b&&!d.j&&(Mn(d),d.i=null,d.g.forEach(function(A,D){const K=D.toLowerCase();D!=K&&(lc(this,D),Ga(this,K,A))},d)),d.j=b}function Ci(d,b){const A=new Ai;if(c.Image){const D=new Image;D.onload=x(ai,A,"TestLoadImage: loaded",!0,b,D),D.onerror=x(ai,A,"TestLoadImage: error",!1,b,D),D.onabort=x(ai,A,"TestLoadImage: abort",!1,b,D),D.ontimeout=x(ai,A,"TestLoadImage: timeout",!1,b,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else b(!1)}function vl(d,b){const A=new Ai,D=new AbortController,K=setTimeout(()=>{D.abort(),ai(A,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:D.signal}).then(it=>{clearTimeout(K),it.ok?ai(A,"TestPingServer: ok",!0,b):ai(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),ai(A,"TestPingServer: error",!1,b)})}function ai(d,b,A,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(A)}catch{}}function Zs(){this.g=new Xu}function Ji(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Ji,$u),Ji.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(d,b){re.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Jr,re),i=Jr.prototype,i.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Ri(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Js(this):Ri(this),this.readyState==3&&Qa(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,Js(this))},i.Na=function(d){this.g&&(this.response=d,Js(this))},i.ga=function(){this.g&&Js(this)};function Js(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ri(d)}i.setRequestHeader=function(d,b){this.A.append(d,b)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=b.next();return d.join(`\r
`)};function Ri(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function oi(d){let b="";return F(d,function(A,D){b+=D,b+=":",b+=A,b+=`\r
`}),b}function ta(d,b,A){t:{for(D in A){var D=!1;break t}D=!0}D||(A=oi(A),typeof d=="string"?A!=null&&Ts(A):pe(d,b,A))}function ye(d){re.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ye,re);var ts=/^https?$/i,_l=["POST","PUT"];i=ye.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,b,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=_(v(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(it){ea(this,it);return}if(d=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)A.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const it of D.keys())A.set(it,D.get(it));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(it=>it.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(_l,b,void 0)>=0)||D||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,mt]of A)this.g.setRequestHeader(it,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(it){ea(this,it)}};function ea(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,xl(d),Ss(d)}function xl(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Nt(this,"complete"),Nt(this,"abort"),Ss(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),ye.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},i.Xa=function(){na(this)};function na(d){if(d.h&&typeof u<"u"){if(d.v&&Ii(d)==4)setTimeout(d.Ca.bind(d),0);else if(Nt(d,"readystatechange"),Ii(d)==4){d.h=!1;try{const it=d.ca();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var A;if(!(A=b)){var D;if(D=it===0){let mt=String(d.D).match(rc)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),D=!ts.test(mt?mt.toLowerCase():"")}A=D}if(A)Nt(d,"complete"),Nt(d,"success");else{d.o=6;try{var K=Ii(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",xl(d)}}finally{Ss(d)}}}}function Ss(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,b||Nt(d,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ii(d){return d.g?d.g.readyState:0}i.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Gd(b)}};function dn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function As(d){const b={};d=(d.g&&Ii(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(N(d[D]))continue;var A=nc(d[D]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const it=b[K]||[];b[K]=it,it.push(A)}at(b,function(D){return D.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(d,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||b}function tr(d){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,d),this.Za=es("retryDelaySeedMs",1e4,d),this.Ta=es("forwardChannelMaxRetries",2,d),this.va=es("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(d&&d.concurrentRequestLimit),this.Ba=new Zs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=tr.prototype,i.ka=8,i.I=1,i.connect=function(d,b,A,D){Ue(0),this.W=d,this.H=b||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=gc(this,null,this.W),ns(this)};function bl(d){if(Wa(d),d.I==3){var b=d.V++,A=qe(d.J);if(pe(A,"SID",d.M),pe(A,"RID",b),pe(A,"TYPE","terminate"),ia(d,A),b=new Ei(d,d.j,b),b.M=2,b.A=$r(qe(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=b.A,A=!0),A||(b.g=yc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Qi(b)}mc(d)}function er(d){d.g&&(Sl(d),d.g.cancel(),d.g=null)}function Wa(d){er(d),d.v&&(c.clearTimeout(d.v),d.v=null),Xa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function ns(d){if(!cl(d.h)&&!d.m){d.m=!0;var b=d.Ea;et||C(),J||(et(),J=!0),j.add(b,d),d.D=0}}function Ka(d,b){return Xi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qi(v(d.Ea,d,b),pc(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new Ei(this,this.j,d);let it=this.o;if(this.U&&(it?(it=P(it),nt(it,this.U)):it=this.U),this.u!==null||this.R||(K.J=it,it=null),this.S)t:{for(var b=0,A=0;A<this.i.length;A++){e:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=A;break t}if(b===4096||A===this.i.length-1){b=A+1;break t}}b=1e3}else b=1e3;b=cc(this,K,b),A=qe(this.J),pe(A,"RID",d),pe(A,"CVER",22),this.G&&pe(A,"X-HTTP-Session-Id",this.G),ia(this,A),it&&(this.R?b="headers="+Ts(oi(it))+"&"+b:this.u&&ta(A,this.u,it)),fl(this.h,K),this.Ra&&pe(A,"TYPE","init"),this.S?(pe(A,"$req",b),pe(A,"SID","null"),K.U=!0,Yi(K,A,null)):Yi(K,A,b),this.I=2}}else this.I==3&&(d?Tl(this,d):this.i.length==0||cl(this.h)||Tl(this))};function Tl(d,b){var A;b?A=b.l:A=d.V++;const D=qe(d.J);pe(D,"SID",d.M),pe(D,"RID",A),pe(D,"AID",d.K),ia(d,D),d.u&&d.o&&ta(D,d.u,d.o),A=new Ei(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),b&&(d.i=b.G.concat(d.i)),b=cc(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),fl(d.h,A),Yi(A,D,b)}function ia(d,b){d.H&&F(d.H,function(A,D){pe(b,D,A)}),d.l&&F({},function(A,D){pe(b,D,A)})}function cc(d,b,A){A=Math.min(d.i.length,A);const D=d.l?v(d.l.Ka,d.l,d):null;t:{var K=d.i;let Ht=-1;for(;;){const ke=["count="+A];Ht==-1?A>0?(Ht=K[0].g,ke.push("ofs="+Ht)):Ht=0:ke.push("ofs="+Ht);let ue=!0;for(let we=0;we<A;we++){var it=K[we].g;const li=K[we].map;if(it-=Ht,it<0)Ht=Math.max(0,K[we].g-100),ue=!1;else try{it="req"+it+"_"||"";try{var mt=li instanceof Map?li:Object.entries(li);for(const[ss,Di]of mt){let Vi=Di;p(Di)&&(Vi=Qs(Di)),ke.push(it+ss+"="+encodeURIComponent(Vi))}}catch(ss){throw ke.push(it+"type="+encodeURIComponent("_badmap")),ss}}catch{D&&D(li)}}if(ue){mt=ke.join("&");break t}}mt=void 0}return d=d.i.splice(0,A),b.G=d,mt}function fc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;et||C(),J||(et(),J=!0),j.add(b,d),d.A=0}}function sa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qi(v(d.Da,d),pc(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qi(v(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),er(this),dc(this))};function Sl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function dc(d){d.g=new Ei(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=qe(d.na);pe(b,"RID","rpc"),pe(b,"SID",d.M),pe(b,"AID",d.K),pe(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&pe(b,"TO",d.ia),pe(b,"TYPE","xmlhttp"),ia(d,b),d.u&&d.o&&ta(b,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=$r(qe(b)),A.u=null,A.R=!0,Ua(A,d)}i.Va=function(){this.C!=null&&(this.C=null,er(this),sa(this),Ue(19))};function Xa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function hc(d,b){var A=null;if(d.g==b){Xa(d),Sl(d),d.g=null;var D=2}else if($i(d.h,b))A=b.G,dl(d.h,b),D=1;else return;if(d.I!=0){if(b.o)if(D==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var K=d.D;D=za(),Nt(D,new Hi(D,A)),ns(d)}else fc(d);else if(K=b.m,K==3||K==0&&b.X>0||!(D==1&&Ka(d,b)||D==2&&sa(d)))switch(A&&A.length>0&&(b=d.h,b.i=b.i.concat(A)),K){case 1:is(d,5);break;case 4:is(d,10);break;case 3:is(d,6);break;default:is(d,2)}}}function pc(d,b){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*b}function is(d,b){if(d.j.info("Error code "+b),b==2){var A=v(d.bb,d),D=d.Ua;const K=!D;D=new Yn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(D,"https"),$r(D),K?Ci(D.toString(),A):vl(D.toString(),A)}else Ue(2);d.I=0,d.l&&d.l.pa(b),mc(d),Wa(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function mc(d){if(d.I=0,d.ja=[],d.l){const b=hl(d.h);(b.length!=0||d.i.length!=0)&&(E(d.ja,b),E(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function gc(d,b,A){var D=A instanceof Yn?qe(A):new Yn(A);if(D.g!="")b&&(D.g=b+"."+D.g),Ws(D,D.u);else{var K=c.location;D=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const it=new Yn(null);D&&rn(it,D),b&&(it.g=b),K&&Ws(it,K),A&&(it.h=A),D=it}return A=d.G,b=d.wa,A&&b&&pe(D,A,b),pe(D,"VER",d.ka),ia(d,D),D}function yc(d,b,A){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new ye(new Ji({ab:A})):new ye(d.ma),b.Fa(d.L),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}i=vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function nr(){}nr.prototype.g=function(d,b){return new Cn(d,b)};function Cn(d,b){re.call(this),this.g=new tr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!N(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Es(this)}f(Cn,re),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){bl(this.g)},Cn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=Qs(d),d=A);b.i.push(new He(b.Ya++,d)),b.I==3&&ns(b)},Cn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Cn.Z.N.call(this)};function _c(d){fn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){t:{for(const A in b){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}f(_c,fn);function xc(){si.call(this),this.status=1}f(xc,si);function Es(d){this.g=d}f(Es,vc),Es.prototype.ra=function(){Nt(this.g,"a")},Es.prototype.qa=function(d){Nt(this.g,new _c(d))},Es.prototype.pa=function(d){Nt(this.g,new xc)},Es.prototype.oa=function(){Nt(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,IT=function(){return new nr},RT=function(){return za()},CT=Pe,Dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Lf=Kr,ol.COMPLETE="complete",wT=ol,Zu.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",re.prototype.listen=re.prototype.J,cu=Zu,ye.prototype.listenOnce=ye.prototype.K,ye.prototype.getLastError=ye.prototype.Ha,ye.prototype.getLastErrorCode=ye.prototype.ya,ye.prototype.getStatus=ye.prototype.ca,ye.prototype.getResponseJson=ye.prototype.La,ye.prototype.getResponseText=ye.prototype.la,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Fa,ET=ye}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const Mx="@firebase/firestore",Ox="4.9.3";class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Jo="12.7.0";const Ma=new bg("@firebase/firestore");function Vo(){return Ma.logLevel}function bt(i,...t){if(Ma.logLevel<=se.DEBUG){const e=t.map(Sg);Ma.debug(`Firestore (${Jo}): ${i}`,...e)}}function Hs(i,...t){if(Ma.logLevel<=se.ERROR){const e=t.map(Sg);Ma.error(`Firestore (${Jo}): ${i}`,...e)}}function Go(i,...t){if(Ma.logLevel<=se.WARN){const e=t.map(Sg);Ma.warn(`Firestore (${Jo}): ${i}`,...e)}}function Sg(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function jt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,DT(i,r,e)}function DT(i,t,e){let r=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Hs(r),new Error(r)}function de(i,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,i||DT(t,o,r)}function Ut(i,t){return i}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Fr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class VT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(An.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class OR{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){de(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new VT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class NR{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){de(this.o===void 0,3512);const r=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(de(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Nx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LR(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}class Ag{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Zt(i,t){return i<t?-1:i>t?1:0}function Vm(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Zp(o)===Zp(u)?Zt(o,u):Zp(o)?1:-1}return Zt(i.length,t.length)}const BR=55296,zR=57343;function Zp(i){const t=i.charCodeAt(0);return t>=BR&&t<=zR}function Yo(i,t,e){return i.length===t.length&&i.every(((r,o)=>e(r,t[o])))}const Px="__name__";class us{constructor(t,e,r){e===void 0?e=0:e>t.length&&jt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&jt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return us.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof us?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=us.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Zt(t.length,e.length)}static compareSegments(t,e){const r=us.isNumericId(t),o=us.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?us.extractNumericId(t).compare(us.extractNumericId(e)):Vm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class Te extends us{construct(t,e,r){return new Te(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new Te(e)}static emptyPath(){return new Te([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends us{construct(t,e,r){return new _n(t,e,r)}static isValidIdentifier(t){return UR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Px}static keyField(){return new _n([Px])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new yt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new yt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(r+=p,o++):(u(),o++)}if(u(),c)throw new yt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _n(e)}static emptyPath(){return new _n([])}}class It{constructor(t){this.path=t}static fromPath(t){return new It(Te.fromString(t))}static fromName(t){return new It(Te.fromString(t).popFirst(5))}static empty(){return new It(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Te.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Te(t.slice()))}}function jT(i,t,e){if(!e)throw new yt(ft.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function FR(i,t,e,r){if(t===!0&&r===!0)throw new yt(ft.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function kx(i){if(!It.isDocumentKey(i))throw new yt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lx(i){if(It.isDocumentKey(i))throw new yt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function MT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function vd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":jt(12329,{type:typeof i})}function xi(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vd(i);throw new yt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function HR(i,t){if(t<=0)throw new yt(ft.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}function Je(i,t){const e={typeString:i};return t&&(e.value=t),e}function zu(i,t){if(!MT(i))throw new yt(ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new yt(ft.INVALID_ARGUMENT,e);return!0}const Bx=-62135596800,zx=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(t){return Ee.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*zx);return new Ee(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Bx)throw new yt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zx}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zu(t,Ee._jsonSchema))return new Ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:Je("string",Ee._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Ee(0,0))}static max(){return new Lt(new Ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function qR(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(r===1e9?new Ee(e+1,0):new Ee(e,r));return new Mr(o,It.empty(),t)}function GR(i){return new Mr(i.readTime,i.key,wu)}class Mr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Mr(Lt.min(),It.empty(),wu)}static max(){return new Mr(Lt.max(),It.empty(),wu)}}function YR(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(i.documentKey,t.documentKey),e!==0?e:Zt(i.largestBatchId,t.largestBatchId))}const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(i){if(i.code!==ft.FAILED_PRECONDITION||i.message!==QR)throw i;bt("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.reject(e)}static resolve(t){return new ht(((e,r)=>{e(t)}))}static reject(t){return new ht(((e,r)=>{r(t)}))}static waitFor(t){return new ht(((e,r)=>{let o=0,u=0,c=!1;t.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&e()}),(g=>r(g)))})),c=!0,u===o&&e()}))}static or(t){let e=ht.resolve(!1);for(const r of t)e=e.next((o=>o?ht.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new ht(((r,o)=>{const u=t.length,c=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;e(t[v]).next((x=>{c[v]=x,++p,p===u&&r(c)}),(x=>o(x)))}}))}static doWhile(t,e){return new ht(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function KR(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function el(i){return i.name==="IndexedDbTransactionError"}class _d{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_d.ce=-1;const Eg=-1;function xd(i){return i==null}function Xf(i){return i===0&&1/i==-1/0}function XR(i){return typeof i=="number"&&Number.isInteger(i)&&!Xf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const OT="";function $R(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=Ux(t)),t=ZR(i.get(e),t);return Ux(t)}function ZR(i,t){let e=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case OT:e+="";break;default:e+=u}}return e}function Ux(i){return i+OT+""}function Fx(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Hr(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function NT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Ve{constructor(t,e){this.comparator=t,this.root=e||vn.EMPTY}insert(t,e){return new Ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wf(this.root,t,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wf(this.root,t,this.comparator,!0)}}class wf{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new vn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jt(27949);return t+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new vn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Hx(this.data.getIterator())}getIteratorFrom(t){return new Hx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof nn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new nn(this.comparator);return e.data=t,e}}class Hx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(t){this.fields=t,t.sort(_n.comparator)}static empty(){return new ei([])}unionWith(t){let e=new nn(_n.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ei(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PT("Invalid base64 string: "+u):u}})(t);return new xn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new xn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(i){if(de(!!i,39018),typeof i=="string"){let t=0;const e=JR.exec(i);if(de(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ze(i.seconds),nanos:ze(i.nanos)}}function ze(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Nr(i){return typeof i=="string"?xn.fromBase64String(i):xn.fromUint8Array(i)}const kT="server_timestamp",LT="__type__",BT="__previous_value__",zT="__local_write_time__";function wg(i){return(i?.mapValue?.fields||{})[LT]?.stringValue===kT}function bd(i){const t=i.mapValue.fields[BT];return wg(t)?bd(t):t}function Cu(i){const t=Or(i.mapValue.fields[zT].timestampValue);return new Ee(t.seconds,t.nanos)}class tI{constructor(t,e,r,o,u,c,p,g,v,x){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=x}}const $f="(default)";class Ru{constructor(t,e){this.projectId=t,this.database=e||$f}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===$f}isEqual(t){return t instanceof Ru&&t.projectId===this.projectId&&t.database===this.database}}const UT="__type__",eI="__max__",Cf={mapValue:{}},FT="__vector__",Zf="value";function Pr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wg(i)?4:iI(i)?9007199254740991:nI(i)?10:11:jt(28295,{value:i})}function _s(i,t){if(i===t)return!0;const e=Pr(i);if(e!==Pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Cu(i).isEqual(Cu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Or(o.timestampValue),p=Or(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Nr(o.bytesValue).isEqual(Nr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return ze(o.geoPointValue.latitude)===ze(u.geoPointValue.latitude)&&ze(o.geoPointValue.longitude)===ze(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ze(o.integerValue)===ze(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ze(o.doubleValue),p=ze(u.doubleValue);return c===p?Xf(c)===Xf(p):isNaN(c)&&isNaN(p)}return!1})(i,t);case 9:return Yo(i.arrayValue.values||[],t.arrayValue.values||[],_s);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Fx(c)!==Fx(p))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(p[g]===void 0||!_s(c[g],p[g])))return!1;return!0})(i,t);default:return jt(52216,{left:i})}}function Iu(i,t){return(i.values||[]).find((e=>_s(e,t)))!==void 0}function Qo(i,t){if(i===t)return 0;const e=Pr(i),r=Pr(t);if(e!==r)return Zt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const p=ze(u.integerValue||u.doubleValue),g=ze(c.integerValue||c.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,t);case 3:return qx(i.timestampValue,t.timestampValue);case 4:return qx(Cu(i),Cu(t));case 5:return Vm(i.stringValue,t.stringValue);case 6:return(function(u,c){const p=Nr(u),g=Nr(c);return p.compareTo(g)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const p=u.split("/"),g=c.split("/");for(let v=0;v<p.length&&v<g.length;v++){const x=Zt(p[v],g[v]);if(x!==0)return x}return Zt(p.length,g.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const p=Zt(ze(u.latitude),ze(c.latitude));return p!==0?p:Zt(ze(u.longitude),ze(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return Gx(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const p=u.fields||{},g=c.fields||{},v=p[Zf]?.arrayValue,x=g[Zf]?.arrayValue,f=Zt(v?.values?.length||0,x?.values?.length||0);return f!==0?f:Gx(v,x)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Cf.mapValue&&c===Cf.mapValue)return 0;if(u===Cf.mapValue)return 1;if(c===Cf.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=c.fields||{},x=Object.keys(v);g.sort(),x.sort();for(let f=0;f<g.length&&f<x.length;++f){const _=Vm(g[f],x[f]);if(_!==0)return _;const S=Qo(p[g[f]],v[x[f]]);if(S!==0)return S}return Zt(g.length,x.length)})(i.mapValue,t.mapValue);default:throw jt(23264,{he:e})}}function qx(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Zt(i,t);const e=Or(i),r=Or(t),o=Zt(e.seconds,r.seconds);return o!==0?o:Zt(e.nanos,r.nanos)}function Gx(i,t){const e=i.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Qo(e[o],r[o]);if(u)return u}return Zt(e.length,r.length)}function Wo(i){return jm(i)}function jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=Or(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Nr(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return It.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=jm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${jm(e.fields[c])}`;return o+"}"})(i.mapValue):jt(61005,{value:i})}function Bf(i){switch(Pr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bd(i);return t?16+Bf(t):16;case 5:return 2*i.stringValue.length;case 6:return Nr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Bf(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Hr(r.fields,((u,c)=>{o+=u.length+Bf(c)})),o})(i.mapValue);default:throw jt(13486,{value:i})}}function Yx(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Mm(i){return!!i&&"integerValue"in i}function Cg(i){return!!i&&"arrayValue"in i}function Qx(i){return!!i&&"nullValue"in i}function Wx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zf(i){return!!i&&"mapValue"in i}function nI(i){return(i?.mapValue?.fields||{})[UT]?.stringValue===FT}function gu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Hr(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=gu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gu(i.arrayValue.values[e]);return t}return{...i}}function iI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eI}class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(e)}setAll(t){let e=_n.emptyPath(),r={},o=[];t.forEach(((c,p)=>{if(!e.isImmediateParentOf(p)){const g=this.getFieldsMap(e);this.applyChanges(g,r,o),r={},o=[],e=p.popLast()}c?r[p.lastSegment()]=gu(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());zf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return _s(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Hr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Fn(gu(this.value))}}function HT(i){const t=[];return Hr(i.fields,((e,r)=>{const o=new _n([e]);if(zf(r)){const u=HT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ei(t)}class En{constructor(t,e,r,o,u,c,p){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(t){return new En(t,0,Lt.min(),Lt.min(),Lt.min(),Fn.empty(),0)}static newFoundDocument(t,e,r,o){return new En(t,1,e,Lt.min(),r,o,0)}static newNoDocument(t,e){return new En(t,2,e,Lt.min(),Lt.min(),Fn.empty(),0)}static newUnknownDocument(t,e){return new En(t,3,e,Lt.min(),Lt.min(),Fn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jf{constructor(t,e){this.position=t,this.inclusive=e}}function Kx(i,t,e){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=It.comparator(It.fromName(c.referenceValue),e.key):r=Qo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xx(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!_s(i.position[e],t.position[e]))return!1;return!0}class Du{constructor(t,e="asc"){this.field=t,this.dir=e}}function sI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class qT{}class Ze extends qT{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new aI(t,e,r):e==="array-contains"?new uI(t,r):e==="in"?new cI(t,r):e==="not-in"?new fI(t,r):e==="array-contains-any"?new dI(t,r):new Ze(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new oI(t,r):new lI(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Qo(e,this.value)):e!==null&&Pr(this.value)===Pr(e)&&this.matchesComparison(Qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends qT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Bi(t,e)}matches(t){return GT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(i){return i.op==="and"}function YT(i){return rI(i)&&GT(i)}function rI(i){for(const t of i.filters)if(t instanceof Bi)return!1;return!0}function Om(i){if(i instanceof Ze)return i.field.canonicalString()+i.op.toString()+Wo(i.value);if(YT(i))return i.filters.map((t=>Om(t))).join(",");{const t=i.filters.map((e=>Om(e))).join(",");return`${i.op}(${t})`}}function QT(i,t){return i instanceof Ze?(function(r,o){return o instanceof Ze&&r.op===o.op&&r.field.isEqual(o.field)&&_s(r.value,o.value)})(i,t):i instanceof Bi?(function(r,o){return o instanceof Bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,p)=>u&&QT(c,o.filters[p])),!0):!1})(i,t):void jt(19439)}function WT(i){return i instanceof Ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${Wo(e.value)}`})(i):i instanceof Bi?(function(e){return e.op.toString()+" {"+e.getFilters().map(WT).join(" ,")+"}"})(i):"Filter"}class aI extends Ze{constructor(t,e,r){super(t,e,r),this.key=It.fromName(r.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class oI extends Ze{constructor(t,e){super(t,"in",e),this.keys=KT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class lI extends Ze{constructor(t,e){super(t,"not-in",e),this.keys=KT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function KT(i,t){return(t.arrayValue?.values||[]).map((e=>It.fromName(e.referenceValue)))}class uI extends Ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Cg(e)&&Iu(e.arrayValue,this.value)}}class cI extends Ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Iu(this.value.arrayValue,e)}}class fI extends Ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Iu(this.value.arrayValue,e)}}class dI extends Ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Cg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Iu(this.value.arrayValue,r)))}}class hI{constructor(t,e=null,r=[],o=[],u=null,c=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function $x(i,t=null,e=[],r=[],o=null,u=null,c=null){return new hI(i,t,e,r,o,u,c)}function Rg(i){const t=Ut(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Om(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Wo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Wo(r))).join(",")),t.Te=e}return t.Te}function Ig(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!sI(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!QT(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Xx(i.startAt,t.startAt)&&Xx(i.endAt,t.endAt)}function Nm(i){return It.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class nl{constructor(t,e=null,r=[],o=[],u=null,c="F",p=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pI(i,t,e,r,o,u,c,p){return new nl(i,t,e,r,o,u,c,p)}function Td(i){return new nl(i)}function Zx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XT(i){return i.collectionGroup!==null}function yu(i){const t=Ut(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new nn(_n.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Du(u,r))})),e.has(_n.keyField().canonicalString())||t.Ie.push(new Du(_n.keyField(),r))}return t.Ie}function hs(i){const t=Ut(i);return t.Ee||(t.Ee=mI(t,yu(i))),t.Ee}function mI(i,t){if(i.limitType==="F")return $x(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Du(o.field,u)}));const e=i.endAt?new Jf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Jf(i.startAt.position,i.startAt.inclusive):null;return $x(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Pm(i,t){const e=i.filters.concat([t]);return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function td(i,t,e){return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Sd(i,t){return Ig(hs(i),hs(t))&&i.limitType===t.limitType}function $T(i){return`${Rg(hs(i))}|lt:${i.limitType}`}function jo(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>WT(o))).join(", ")}]`),xd(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Wo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Wo(o))).join(",")),`Target(${r})`})(hs(i))}; limitType=${i.limitType})`}function Ad(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):It.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of yu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,p,g){const v=Kx(c,p,g);return c.inclusive?v<=0:v<0})(r.startAt,yu(r),o)||r.endAt&&!(function(c,p,g){const v=Kx(c,p,g);return c.inclusive?v>=0:v>0})(r.endAt,yu(r),o))})(i,t)}function gI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZT(i){return(t,e)=>{let r=!1;for(const o of yu(i)){const u=yI(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yI(i,t,e){const r=i.field.isKeyField()?It.comparator(t.key,e.key):(function(u,c,p){const g=c.data.field(u),v=p.data.field(u);return g!==null&&v!==null?Qo(g,v):jt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:i.dir})}}class ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}const vI=new Ve(It.comparator);function qs(){return vI}const JT=new Ve(It.comparator);function fu(...i){let t=JT;for(const e of i)t=t.insert(e.key,e);return t}function tS(i){let t=JT;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Ea(){return vu()}function eS(){return vu()}function vu(){return new ka((i=>i.toString()),((i,t)=>i.isEqual(t)))}const _I=new Ve(It.comparator),xI=new nn(It.comparator);function Jt(...i){let t=xI;for(const e of i)t=t.add(e);return t}const bI=new nn(Zt);function TI(){return bI}function Dg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(t)?"-0":t}}function nS(i){return{integerValue:""+i}}function SI(i,t){return XR(t)?nS(t):Dg(i,t)}class Ed{constructor(){this._=void 0}}function AI(i,t,e){return i instanceof ed?(function(o,u){const c={fields:{[LT]:{stringValue:kT},[zT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wg(u)&&(u=bd(u)),u&&(c.fields[BT]=u),{mapValue:c}})(e,t):i instanceof Vu?sS(i,t):i instanceof ju?rS(i,t):(function(o,u){const c=iS(o,u),p=Jx(c)+Jx(o.Ae);return Mm(c)&&Mm(o.Ae)?nS(p):Dg(o.serializer,p)})(i,t)}function EI(i,t,e){return i instanceof Vu?sS(i,t):i instanceof ju?rS(i,t):e}function iS(i,t){return i instanceof nd?(function(r){return Mm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ed extends Ed{}class Vu extends Ed{constructor(t){super(),this.elements=t}}function sS(i,t){const e=aS(t);for(const r of i.elements)e.some((o=>_s(o,r)))||e.push(r);return{arrayValue:{values:e}}}class ju extends Ed{constructor(t){super(),this.elements=t}}function rS(i,t){let e=aS(t);for(const r of i.elements)e=e.filter((o=>!_s(o,r)));return{arrayValue:{values:e}}}class nd extends Ed{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Jx(i){return ze(i.integerValue||i.doubleValue)}function aS(i){return Cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function wI(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof Vu&&o instanceof Vu||r instanceof ju&&o instanceof ju?Yo(r.elements,o.elements,_s):r instanceof nd&&o instanceof nd?_s(r.Ae,o.Ae):r instanceof ed&&o instanceof ed})(i.transform,t.transform)}class CI{constructor(t,e){this.version=t,this.transformResults=e}}class bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class wd{}function oS(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Vg(i.key,bi.none()):new Uu(i.key,i.data,bi.none());{const e=i.data,r=Fn.empty();let o=new nn(_n.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new qr(i.key,r,new ei(o.toArray()),bi.none())}}function RI(i,t,e){i instanceof Uu?(function(o,u,c){const p=o.value.clone(),g=eb(o.fieldTransforms,u,c.transformResults);p.setAll(g),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):i instanceof qr?(function(o,u,c){if(!Uf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=eb(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(lS(o)),g.setAll(p),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function _u(i,t,e,r){return i instanceof Uu?(function(u,c,p,g){if(!Uf(u.precondition,c))return p;const v=u.value.clone(),x=nb(u.fieldTransforms,g,c);return v.setAll(x),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(i,t,e,r):i instanceof qr?(function(u,c,p,g){if(!Uf(u.precondition,c))return p;const v=nb(u.fieldTransforms,g,c),x=c.data;return x.setAll(lS(u)),x.setAll(v),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((f=>f.field)))})(i,t,e,r):(function(u,c,p){return Uf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(i,t,e)}function II(i,t){let e=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=iS(r.transform,o||null);u!=null&&(e===null&&(e=Fn.empty()),e.set(r.field,u))}return e||null}function tb(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,((u,c)=>wI(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Uu extends wd{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qr extends wd{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function eb(i,t,e){const r=new Map;de(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,p=t.data.field(u.field);r.set(u.field,EI(c,p,e[o]))}return r}function nb(i,t,e){const r=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);r.set(o.field,AI(u,c,t))}return r}class Vg extends wd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends wd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VI{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&RI(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=_u(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=_u(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=eS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=e.has(o.key)?null:p;const g=oS(c,p);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Jt())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,((e,r)=>tb(e,r)))&&Yo(this.baseMutations,t.baseMutations,((e,r)=>tb(e,r)))}}class jg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){de(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return _I})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new jg(t,e,r,o)}}class jI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Xe,ie;function OI(i){switch(i){case ft.OK:return jt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return jt(15467,{code:i})}}function uS(i){if(i===void 0)return Hs("GRPC error has no .code"),ft.UNKNOWN;switch(i){case Xe.OK:return ft.OK;case Xe.CANCELLED:return ft.CANCELLED;case Xe.UNKNOWN:return ft.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return ft.INTERNAL;case Xe.UNAVAILABLE:return ft.UNAVAILABLE;case Xe.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Xe.NOT_FOUND:return ft.NOT_FOUND;case Xe.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Xe.ABORTED:return ft.ABORTED;case Xe.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Xe.DATA_LOSS:return ft.DATA_LOSS;default:return jt(39323,{code:i})}}(ie=Xe||(Xe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";function NI(){return new TextEncoder}const PI=new Ir([4294967295,4294967295],0);function ib(i){const t=NI().encode(i),e=new AT;return e.update(t),new Uint8Array(e.digest())}function sb(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ir([e,r],0),new Ir([o,u],0)]}class Mg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new du(`Invalid padding: ${e}`);if(r<0)throw new du(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new du(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ir.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Ir.fromNumber(r)));return o.compare(PI)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ib(t),[r,o]=sb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,o,e);return r.forEach((p=>c.insert(p))),c}insert(t){if(this.ge===0)return;const e=ib(t),[r,o]=sb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Cd(Lt.min(),o,new Ve(Zt),qs(),Jt())}}class Fu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Fu(r,e,Jt(),Jt(),Jt())}}class Ff{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class cS{constructor(t,e){this.targetId=t,this.Ce=e}}class fS{constructor(t,e,r=xn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=ab(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),e=Jt(),r=Jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:jt(38017,{changeType:u})}})),new Fu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=ab()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kI{constructor(t){this.Ge=t,this.ze=new Map,this.je=qs(),this.Je=Rf(),this.He=Rf(),this.Ye=new Ve(Zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:jt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Nm(u))if(r===0){const c=new It(u.path);this.et(e,c,En.newNoDocument(c,Lt.min()))}else de(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const p=this.ut(t),g=p?this.ct(p,t,c):1;if(g!==0){this.it(e);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,v)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,p;try{c=Nr(r).toUint8Array()}catch(g){if(g instanceof PT)return Go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Mg(c,o,u)}catch(g){return Go(g instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Nm(p.target)){const g=new It(p.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,En.newNoDocument(g,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Jt();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Cd(t,e,this.Ye,this.je,r);return this.je=qs(),this.Je=Rf(),this.He=Rf(),this.Ye=new Ve(Zt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new rb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new nn(Zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new nn(Zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||bt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Rf(){return new Ve(It.comparator)}function ab(){return new Ve(It.comparator)}const LI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zI={and:"AND",or:"OR"};class UI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function km(i,t){return i.useProto3Json||xd(t)?t:{value:t}}function id(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dS(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function FI(i,t){return id(i,t.toTimestamp())}function ps(i){return de(!!i,49232),Lt.fromTimestamp((function(e){const r=Or(e);return new Ee(r.seconds,r.nanos)})(i))}function Og(i,t){return Lm(i,t).canonicalString()}function Lm(i,t){const e=(function(o){return new Te(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function hS(i){const t=Te.fromString(i);return de(vS(t),10190,{key:t.toString()}),t}function Bm(i,t){return Og(i.databaseId,t.path)}function Jp(i,t){const e=hS(t);if(e.get(1)!==i.databaseId.projectId)throw new yt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new yt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new It(mS(e))}function pS(i,t){return Og(i.databaseId,t)}function HI(i){const t=hS(i);return t.length===4?Te.emptyPath():mS(t)}function zm(i){return new Te(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mS(i){return de(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ob(i,t,e){return{name:Bm(i,t),fields:e.value.mapValue.fields}}function qI(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:jt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,x){return v.useProto3Json?(de(x===void 0||typeof x=="string",58123),xn.fromBase64String(x||"")):(de(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),xn.fromUint8Array(x||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,p=c&&(function(v){const x=v.code===void 0?ft.UNKNOWN:uS(v.code);return new yt(x,v.message||"")})(c);e=new fS(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jp(i,r.document.name),u=ps(r.document.updateTime),c=r.document.createTime?ps(r.document.createTime):Lt.min(),p=new Fn({mapValue:{fields:r.document.fields}}),g=En.newFoundDocument(o,u,c,p),v=r.targetIds||[],x=r.removedTargetIds||[];e=new Ff(v,x,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Jp(i,r.document),u=r.readTime?ps(r.readTime):Lt.min(),c=En.newNoDocument(o,u),p=r.removedTargetIds||[];e=new Ff([],p,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Jp(i,r.document),u=r.removedTargetIds||[];e=new Ff([],u,o,null)}else{if(!("filter"in t))return jt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new MI(o,u),p=r.targetId;e=new cS(p,c)}}return e}function GI(i,t){let e;if(t instanceof Uu)e={update:ob(i,t.key,t.value)};else if(t instanceof Vg)e={delete:Bm(i,t.key)};else if(t instanceof qr)e={update:ob(i,t.key,t.data),updateMask:tD(t.fieldMask)};else{if(!(t instanceof DI))return jt(16599,{Vt:t.type});e={verify:Bm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const p=c.transform;if(p instanceof ed)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nd)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw jt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:jt(27497)})(i,t.precondition)),e}function YI(i,t){return i&&i.length>0?(de(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?ps(o.updateTime):ps(u);return c.isEqual(Lt.min())&&(c=ps(u)),new CI(c,o.transformResults||[])})(e,t)))):[]}function QI(i,t){return{documents:[pS(i,t.path)]}}function WI(i,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=pS(i,o);const u=(function(v){if(v.length!==0)return yS(Bi.create(v,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(v){if(v.length!==0)return v.map((x=>(function(_){return{field:Mo(_.field),direction:$I(_.dir)}})(x)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const p=km(i,t.limit);return p!==null&&(e.structuredQuery.limit=p),t.startAt&&(e.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:e,parent:o}}function KI(i){let t=HI(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){de(r===1,65062);const x=e.from[0];x.allDescendants?o=x.collectionId:t=t.child(x.collectionId)}let u=[];e.where&&(u=(function(f){const _=gS(f);return _ instanceof Bi&&YT(_)?_.getFilters():[_]})(e.where));let c=[];e.orderBy&&(c=(function(f){return f.map((_=>(function(E){return new Du(Oo(E.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(_)))})(e.orderBy));let p=null;e.limit&&(p=(function(f){let _;return _=typeof f=="object"?f.value:f,xd(_)?null:_})(e.limit));let g=null;e.startAt&&(g=(function(f){const _=!!f.before,S=f.values||[];return new Jf(S,_)})(e.startAt));let v=null;return e.endAt&&(v=(function(f){const _=!f.before,S=f.values||[];return new Jf(S,_)})(e.endAt)),pI(t,o,c,u,p,"F",g,v)}function XI(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gS(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Oo(e.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(e.unaryFilter.field);return Ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(e.unaryFilter.field);return Ze.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(e.unaryFilter.field);return Ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Ze.create(Oo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Bi.create(e.compositeFilter.filters.map((r=>gS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(e.compositeFilter.op))})(i):jt(30097,{filter:i})}function $I(i){return LI[i]}function ZI(i){return BI[i]}function JI(i){return zI[i]}function Mo(i){return{fieldPath:i.canonicalString()}}function Oo(i){return _n.fromServerFormat(i.fieldPath)}function yS(i){return i instanceof Ze?(function(e){if(e.op==="=="){if(Wx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NAN"}};if(Qx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NAN"}};if(Qx(e.value))return{unaryFilter:{field:Mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(e.field),op:ZI(e.op),value:e.value}}})(i):i instanceof Bi?(function(e){const r=e.getFilters().map((o=>yS(o)));return r.length===1?r[0]:{compositeFilter:{op:JI(e.op),filters:r}}})(i):jt(54877,{filter:i})}function tD(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class wr{constructor(t,e,r,o,u=Lt.min(),c=Lt.min(),p=xn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eD{constructor(t){this.yt=t}}function nD(i){const t=KI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?td(t,t.limit,"L"):t}class iD{constructor(){this.Cn=new sD}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(Mr.min())}updateCollectionGroup(t,e,r){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class sD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new nn(Te.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new nn(Te.comparator)).toArray()}}const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_S=41943040;class Bn{static withCacheSize(t){return new Bn(t,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(_S,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}const ub="LruGarbageCollector",rD=1048576;function cb([i,t],[e,r]){const o=Zt(i,e);return o===0?Zt(t,r):o}class aD{constructor(t){this.Ir=t,this.buffer=new nn(cb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();cb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class oD{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(ub,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){el(e)?bt(ub,"Ignoring IndexedDB error during garbage collection: ",e):await tl(e)}await this.Vr(3e5)}))}}class lD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(_d.ce);const r=new aD(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(lb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,p,g,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),o=this.params.maximumSequenceNumbersToCollect):o=f,c=Date.now(),this.nthSequenceNumber(t,o)))).next((f=>(r=f,p=Date.now(),this.removeTargets(t,r,e)))).next((f=>(u=f,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((f=>(v=Date.now(),Vo()<=se.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${f} documents in `+(v-g)+`ms
Total Duration: ${v-x}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:f}))))}}function uD(i,t){return new lD(i,t)}class cD{constructor(){this.changes=new ka((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?ht.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class dD{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&_u(r.mutation,o,ei.empty(),Ee.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Jt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Jt()){const o=Ea();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=fu();return u.forEach(((p,g)=>{c=c.insert(p,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Ea();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Jt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,p)=>{e.set(c,p)}))}))}computeViews(t,e,r,o){let u=qs();const c=vu(),p=(function(){return vu()})();return e.forEach(((g,v)=>{const x=r.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof qr)?u=u.insert(v.key,v):x!==void 0?(c.set(v.key,x.mutation.getFieldMask()),_u(x.mutation,v,x.mutation.getFieldMask(),Ee.now())):c.set(v.key,ei.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((v,x)=>c.set(v,x))),e.forEach(((v,x)=>p.set(v,new fD(x,c.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,e){const r=vu();let o=new Ve(((c,p)=>c-p)),u=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const p of c)p.keys().forEach((g=>{const v=e.get(g);if(v===null)return;let x=r.get(g)||ei.empty();x=p.applyToLocalView(v,x),r.set(g,x);const f=(o.get(p.batchId)||Jt()).add(g);o=o.insert(p.batchId,f)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,x=g.value,f=eS();x.forEach((_=>{if(!u.has(_)){const S=oS(e.get(_),r.get(_));S!==null&&f.set(_,S),u=u.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(t,v,f))}return ht.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return It.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):XT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):ht.resolve(Ea());let p=wu,g=u;return c.next((v=>ht.forEach(v,((x,f)=>(p<f.largestBatchId&&(p=f.largestBatchId),u.get(x)?ht.resolve():this.remoteDocumentCache.getEntry(t,x).next((_=>{g=g.insert(x,_)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,g,v,Jt()))).next((x=>({batchId:p,changes:tS(x)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next((r=>{let o=fu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=fu();return this.indexManager.getCollectionParents(t,u).next((p=>ht.forEach(p,(g=>{const v=(function(f,_){return new nl(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(e,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((x=>{x.forEach(((f,_)=>{c=c.insert(f,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((g,v)=>{const x=v.getKey();c.get(x)===null&&(c=c.insert(x,En.newInvalidDocument(x)))}));let p=fu();return c.forEach(((g,v)=>{const x=u.get(g);x!==void 0&&_u(x.mutation,v,ei.empty(),Ee.now()),Ad(e,v)&&(p=p.insert(g,v))})),p}))}}class hD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ps(o.createTime)}})(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:ps(o.readTime)}})(e)),ht.resolve()}}class pD{constructor(){this.overlays=new Ve(It.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ea();return ht.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),ht.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ht.resolve()}getOverlaysForCollection(t,e,r){const o=Ea(),u=e.length+1,c=new It(e.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ht.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new Ve(((v,x)=>v-x));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let x=u.get(v.largestBatchId);x===null&&(x=Ea(),u=u.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const p=Ea(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,x)=>p.set(v,x))),!(p.size()>=o)););return ht.resolve(p)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jI(e,r));let u=this.qr.get(e);u===void 0&&(u=Jt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class mD{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}class Ng{constructor(){this.Qr=new nn(un.$r),this.Ur=new nn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new un(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new un(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new It(new Te([])),r=new un(e,t),o=new un(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new It(new Te([])),r=new un(e,t),o=new un(e,t+1);let u=Jt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new un(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class un{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return It.comparator(t.key,e.key)||Zt(t.Yr,e.Yr)}static Kr(t,e){return Zt(t.Yr,e.Yr)||It.comparator(t.key,e.key)}}class gD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new nn(un.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VI(u,e,r,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new un(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return ht.resolve(c)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return ht.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new un(e,0),o=new un(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),ht.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new nn(Zt);return e.forEach((o=>{const u=new un(o,0),c=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{r=r.add(p.Yr)}))})),ht.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;It.isDocumentKey(u)||(u=u.child(""));const c=new un(new It(u),0);let p=new nn(Zt);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Yr)),!0)}),c),ht.resolve(this.ti(p))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){de(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ht.forEach(e.mutations,(o=>{const u=new un(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new un(e,0),o=this.Zr.firstAfterOrEqual(r);return ht.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class yD{constructor(t){this.ri=t,this.docs=(function(){return new Ve(It.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ht.resolve(r?r.document.mutableCopy():En.newInvalidDocument(e))}getEntries(t,e){let r=qs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),ht.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=qs();const c=e.path,p=new It(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:x}}=g.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||YR(GR(x),r)<=0||(o.has(x.key)||Ad(e,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ht.resolve(u)}getAllFromCollectionGroup(t,e,r,o){jt(9500)}ii(t,e){return ht.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new vD(this)}getSize(t){return ht.resolve(this.size)}}class vD extends cD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class _D{constructor(t){this.persistence=t,this.si=new ka((e=>Rg(e)),Ig),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ng,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ko(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=e&&r.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),ht.waitFor(u).next((()=>o))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return ht.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),ht.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ht.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return ht.resolve(r)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}class xS{constructor(t,e){this.ui={},this.overlays={},this.ci=new _d(0),this.li=!1,this.li=!0,this.hi=new mD,this.referenceDelegate=t(this),this.Pi=new _D(this),this.indexManager=new iD,this.remoteDocumentCache=(function(o){return new yD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eD(e),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new gD(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){bt("MemoryPersistence","Starting transaction:",t);const o=new xD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return ht.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class xD extends WR{constructor(t){super(),this.currentSequenceNumber=t}}class Pg{constructor(t){this.persistence=t,this.Ri=new Ng,this.Vi=null}static mi(t){return new Pg(t)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),ht.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,(r=>{const o=It.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Lt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class sd{constructor(t,e){this.persistence=t,this.pi=new ka((r=>$R(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=uD(this,e)}static mi(t,e){return new sd(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return ht.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ht.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((p=>{p||(r++,u.removeEntry(c,Lt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bf(t.data.value)),e}br(t,e,r){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return ht.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class kg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Jt(),o=Jt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kg(t,e.fromCache,r,o)}}class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dC()?8:KR(uC())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bD;return this.Ss(t,e,c).next((p=>{if(u.result=p,this.Vs)return this.bs(t,e,c,p.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(Vo()<=se.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",jo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Vo()<=se.DEBUG&&bt("QueryEngine","Query:",jo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Vo()<=se.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",jo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hs(e))):ht.resolve())}ys(t,e){if(Zx(e))return ht.resolve(null);let r=hs(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=td(e,null,"F"),r=hs(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Jt(...u);return this.ps.getDocuments(t,c).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const v=this.Ds(e,p);return this.Cs(e,v,c,g.readTime)?this.ys(t,td(e,null,"F")):this.vs(t,v,e,g)}))))})))))}ws(t,e,r,o){return Zx(e)||o.isEqual(Lt.min())?ht.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?ht.resolve(null):(Vo()<=se.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(e)),this.vs(t,c,e,qR(o,wu)).next((p=>p)))}))}Ds(t,e){let r=new nn(ZT(t));return e.forEach(((o,u)=>{Ad(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return Vo()<=se.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",jo(e)),this.ps.getDocumentsMatchingQuery(t,e,Mr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Lg="LocalStore",SD=3e8;class AD{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Ve(Zt),this.xs=new ka((u=>Rg(u)),Ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function ED(i,t,e,r){return new AD(i,t,e,r)}async function bS(i,t){const e=Ut(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],p=[];let g=Jt();for(const v of o){c.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}for(const v of u){p.push(v.batchId);for(const x of v.mutations)g=g.add(x.key)}return e.localDocuments.getDocuments(r,g).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:p})))}))}))}function wD(i,t){const e=Ut(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,x){const f=v.batch,_=f.keys();let S=ht.resolve();return _.forEach((E=>{S=S.next((()=>x.getEntry(g,E))).next((R=>{const M=v.docVersions.get(E);de(M!==null,48541),R.version.compareTo(M)<0&&(f.applyToRemoteDocument(R,v),R.isValidDocument()&&(R.setReadTime(v.commitVersion),x.addEntry(R)))}))})),S.next((()=>p.mutationQueue.removeMutationBatch(g,f)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Jt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function TS(i){const t=Ut(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function CD(i,t){const e=Ut(i),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const p=[];t.targetChanges.forEach(((x,f)=>{const _=o.get(f);if(!_)return;p.push(e.Pi.removeMatchingKeys(u,x.removedDocuments,f).next((()=>e.Pi.addMatchingKeys(u,x.addedDocuments,f))));let S=_.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(f)!==null?S=S.withResumeToken(xn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,r)),o=o.insert(f,S),(function(R,M,V){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=SD?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,S,x)&&p.push(e.Pi.updateTargetData(u,S))}));let g=qs(),v=Jt();if(t.documentUpdates.forEach((x=>{t.resolvedLimboDocuments.has(x)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(RD(u,c,t.documentUpdates).next((x=>{g=x.ks,v=x.qs}))),!r.isEqual(Lt.min())){const x=e.Pi.getLastRemoteSnapshotVersion(u).next((f=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(x)}return ht.waitFor(p).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(e.Ms=o,u)))}function RD(i,t,e){let r=Jt(),o=Jt();return e.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=qs();return e.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Lt.min())?(t.removeEntry(p,g.readTime),c=c.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),c=c.insert(p,g)):bt(Lg,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function ID(i,t){const e=Ut(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Eg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function DD(i,t){const e=Ut(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,ht.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new wr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Um(i,t,e){const r=Ut(i),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!el(c))throw c;bt(Lg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function fb(i,t,e){const r=Ut(i);let o=Lt.min(),u=Jt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,v,x){const f=Ut(g),_=f.xs.get(x);return _!==void 0?ht.resolve(f.Ms.get(_)):f.Pi.getTargetData(v,x)})(r,c,hs(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Lt.min(),e?u:Jt()))).next((p=>(VD(r,gI(t),p),{documents:p,Qs:u})))))}function VD(i,t,e){let r=i.Os.get(t)||Lt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class db{constructor(){this.activeTargetIds=TI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jD{constructor(){this.Mo=new db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new db,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MD{Oo(t){}shutdown(){}}const hb="ConnectivityMonitor";class pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(hb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(hb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function Fm(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const tm="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ND{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===$f?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Fm(),p=this.zo(t,e.toUriEncodedString());bt(tm,`Sending RPC '${t}' ${c}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:v}=new URL(p),x=xg(v);return this.Jo(t,p,g,r,x).then((f=>(bt(tm,`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw Go(tm,`RPC '${t}' ${c} failed with error: `,f,"url: ",p,"request:",r),f}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=OD[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class PD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Sn="WebChannelConnection";class kD extends ND{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Fm();return new Promise(((p,g)=>{const v=new ET;v.setWithCredentials(!0),v.listenOnce(wT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Lf.NO_ERROR:const f=v.getResponseJson();bt(Sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(f)),p(f);break;case Lf.TIMEOUT:bt(Sn,`RPC '${t}' ${c} timed out`),g(new yt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const _=v.getStatus();if(bt(Sn,`RPC '${t}' ${c} failed with status:`,_,"response text:",v.getResponseText()),_>0){let S=v.getResponseJson();Array.isArray(S)&&(S=S[0]);const E=S?.error;if(E&&E.status&&E.message){const R=(function(V){const O=V.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(O)>=0?O:ft.UNKNOWN})(E.status);g(new yt(R,E.message))}else g(new yt(ft.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new yt(ft.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:t,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{bt(Sn,`RPC '${t}' ${c} completed.`)}}));const x=JSON.stringify(o);bt(Sn,`RPC '${t}' ${c} sending request:`,o),v.send(e,"POST",x,r,15)}))}T_(t,e,r){const o=Fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=IT(),p=RT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,e,r),g.encodeInitMessageHeaders=!0;const x=u.join("");bt(Sn,`Creating RPC '${t}' stream ${o}: ${x}`,g);const f=c.createWebChannel(x,g);this.I_(f);let _=!1,S=!1;const E=new PD({Yo:M=>{S?bt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(_||(bt(Sn,`Opening RPC '${t}' stream ${o} transport.`),f.open(),_=!0),bt(Sn,`RPC '${t}' stream ${o} sending:`,M),f.send(M))},Zo:()=>f.close()}),R=(M,V,O)=>{M.listen(V,(L=>{try{O(L)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return R(f,cu.EventType.OPEN,(()=>{S||(bt(Sn,`RPC '${t}' stream ${o} transport opened.`),E.o_())})),R(f,cu.EventType.CLOSE,(()=>{S||(S=!0,bt(Sn,`RPC '${t}' stream ${o} transport closed`),E.a_(),this.E_(f))})),R(f,cu.EventType.ERROR,(M=>{S||(S=!0,Go(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),E.a_(new yt(ft.UNAVAILABLE,"The operation could not be completed")))})),R(f,cu.EventType.MESSAGE,(M=>{if(!S){const V=M.data[0];de(!!V,16349);const O=V,L=O?.error||O[0]?.error;if(L){bt(Sn,`RPC '${t}' stream ${o} received error:`,L);const Y=L.status;let et=(function(C){const I=Xe[C];if(I!==void 0)return uS(I)})(Y),J=L.message;et===void 0&&(et=ft.INTERNAL,J="Unknown error status: "+Y+" with message "+L.message),S=!0,E.a_(new yt(et,J)),f.close()}else bt(Sn,`RPC '${t}' stream ${o} received:`,V),E.u_(V)}})),R(p,CT.STAT_EVENT,(M=>{M.stat===Dm.PROXY?bt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===Dm.NOPROXY&&bt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function em(){return typeof document<"u"?document:null}function Rd(i){return new UI(i,!0)}class SS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mb="PersistentStream";class AS{constructor(t,e,r,o,u,c,p,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Hs(e.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return bt(mb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(bt(mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LD extends AS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=qI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?ps(c.readTime):Lt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=zm(this.serializer),e.addTarget=(function(u,c){let p;const g=c.target;if(p=Nm(g)?{documents:QI(u,g)}:{query:WI(u,g).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=dS(u,c.resumeToken);const v=km(u,c.expectedCount);v!==null&&(p.expectedCount=v)}else if(c.snapshotVersion.compareTo(Lt.min())>0){p.readTime=id(u,c.snapshotVersion.toTimestamp());const v=km(u,c.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=XI(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=zm(this.serializer),e.removeTarget=t,this.q_(e)}}class BD extends AS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=YI(t.writeResults,t.commitTime),r=ps(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=zm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>GI(this.serializer,r)))};this.q_(e)}}class zD{}class UD extends zD{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Lm(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ft.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(t,Lm(e,r),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ft.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(e),this.aa=!1):bt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oa="RemoteStore";class HD{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{La(this)&&(bt(Oa,"Restarting streams for network reachability change."),await(async function(g){const v=Ut(g);v.Ea.add(4),await Hu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Id(v)})(this))}))})),this.Ra=new FD(r,o)}}async function Id(i){if(La(i))for(const t of i.da)await t(!0)}async function Hu(i){for(const t of i.da)await t(!1)}function ES(i,t){const e=Ut(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Fg(e)?Ug(e):il(e).O_()&&zg(e,t))}function Bg(i,t){const e=Ut(i),r=il(e);e.Ia.delete(t),r.O_()&&wS(e,t),e.Ia.size===0&&(r.O_()?r.L_():La(e)&&e.Ra.set("Unknown"))}function zg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}il(i).Y_(t)}function wS(i,t){i.Va.Ue(t),il(i).Z_(t)}function Ug(i){i.Va=new kI({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),il(i).start(),i.Ra.ua()}function Fg(i){return La(i)&&!il(i).x_()&&i.Ia.size>0}function La(i){return Ut(i).Ea.size===0}function CS(i){i.Va=void 0}async function qD(i){i.Ra.set("Online")}async function GD(i){i.Ia.forEach(((t,e)=>{zg(i,t)}))}async function YD(i,t){CS(i),Fg(i)?(i.Ra.ha(t),Ug(i)):i.Ra.set("Unknown")}async function QD(i,t,e){if(i.Ra.set("Online"),t instanceof fS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(i,t)}catch(r){bt(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await rd(i,r)}else if(t instanceof Ff?i.Va.Ze(t):t instanceof cS?i.Va.st(t):i.Va.tt(t),!e.isEqual(Lt.min()))try{const r=await TS(i.localStore);e.compareTo(r)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ia.get(v);x&&u.Ia.set(v,x.withResumeToken(g.resumeToken,c))}})),p.targetMismatches.forEach(((g,v)=>{const x=u.Ia.get(g);if(!x)return;u.Ia.set(g,x.withResumeToken(xn.EMPTY_BYTE_STRING,x.snapshotVersion)),wS(u,g);const f=new wr(x.target,g,v,x.sequenceNumber);zg(u,f)})),u.remoteSyncer.applyRemoteEvent(p)})(i,e)}catch(r){bt(Oa,"Failed to raise snapshot:",r),await rd(i,r)}}async function rd(i,t,e){if(!el(t))throw t;i.Ea.add(1),await Hu(i),i.Ra.set("Offline"),e||(e=()=>TS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{bt(Oa,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Id(i)}))}function RS(i,t){return t().catch((e=>rd(i,e,t)))}async function Dd(i){const t=Ut(i),e=kr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;WD(t);)try{const o=await ID(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,KD(t,o)}catch(o){await rd(t,o)}IS(t)&&DS(t)}function WD(i){return La(i)&&i.Ta.length<10}function KD(i,t){i.Ta.push(t);const e=kr(i);e.O_()&&e.X_&&e.ea(t.mutations)}function IS(i){return La(i)&&!kr(i).x_()&&i.Ta.length>0}function DS(i){kr(i).start()}async function XD(i){kr(i).ra()}async function $D(i){const t=kr(i);for(const e of i.Ta)t.ea(e.mutations)}async function ZD(i,t,e){const r=i.Ta.shift(),o=jg.from(r,t,e);await RS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Dd(i)}async function JD(i,t){t&&kr(i).X_&&await(async function(r,o){if((function(c){return OI(c)&&c!==ft.ABORTED})(o.code)){const u=r.Ta.shift();kr(r).B_(),await RS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Dd(r)}})(i,t),IS(i)&&DS(i)}async function gb(i,t){const e=Ut(i);e.asyncQueue.verifyOperationInProgress(),bt(Oa,"RemoteStore received new credentials");const r=La(e);e.Ea.add(3),await Hu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Id(e)}async function tV(i,t){const e=Ut(i);t?(e.Ea.delete(2),await Id(e)):t||(e.Ea.add(2),await Hu(e),e.Ra.set("Unknown"))}function il(i){return i.ma||(i.ma=(function(e,r,o){const u=Ut(e);return u.sa(),new LD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:qD.bind(null,i),t_:GD.bind(null,i),r_:YD.bind(null,i),H_:QD.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Fg(i)?Ug(i):i.Ra.set("Unknown")):(await i.ma.stop(),CS(i))}))),i.ma}function kr(i){return i.fa||(i.fa=(function(e,r,o){const u=Ut(e);return u.sa(),new BD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:XD.bind(null,i),r_:JD.bind(null,i),ta:$D.bind(null,i),na:ZD.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Dd(i)):(await i.fa.stop(),i.Ta.length>0&&(bt(Oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Hg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,p=new Hg(t,e,c,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(i,t){if(Hs("AsyncQueue",`${t}: ${i}`),el(i))return new yt(ft.UNAVAILABLE,`${t}: ${i}`);throw i}class zo{static emptySet(t){return new zo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||It.comparator(e.key,r.key):(e,r)=>It.comparator(e.key,r.key),this.keyedMap=fu(),this.sortedSet=new Ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new zo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class yb{constructor(){this.ga=new Ve(It.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):jt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Xo{constructor(t,e,r,o,u,c,p,g,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((p=>{c.push({type:0,doc:p})})),new Xo(t,e,zo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class eV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nV{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Ut(e),u=o.queries;o.queries=vb(),u.forEach(((c,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new yt(ft.ABORTED,"Firestore shutting down"))}}function vb(){return new ka((i=>$T(i)),Sd)}async function VS(i,t){const e=Ut(i);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new eV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const p=qg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(p)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Gg(e)}async function jS(i,t){const e=Ut(i),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function iV(i,t){const e=Ut(i);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(r=!0);c.wa=o}}r&&Gg(e)}function sV(i,t,e){const r=Ut(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Gg(i){i.Ca.forEach((t=>{t.next()}))}var Hm,_b;(_b=Hm||(Hm={})).Ma="default",_b.Cache="cache";class MS{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Hm.Cache}}class OS{constructor(t){this.key=t}}class NS{constructor(t){this.key=t}}class rV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=ZT(t),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new yb,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((x,f)=>{const _=o.get(x),S=Ad(this.query,f)?f:null,E=!!_&&this.mutatedKeys.has(_.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;_&&S?_.data.isEqual(S.data)?E!==R&&(r.track({type:3,doc:S}),M=!0):this.su(_,S)||(r.track({type:2,doc:S}),M=!0,(g&&this.eu(S,g)>0||v&&this.eu(S,v)<0)&&(p=!0)):!_&&S?(r.track({type:0,doc:S}),M=!0):_&&!S&&(r.track({type:1,doc:_}),M=!0,(g||v)&&(p=!0)),M&&(S?(c=c.add(S),u=R?u.add(x):u.delete(x)):(c=c.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{tu:c,iu:r,Cs:p,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((x,f)=>(function(S,E){const R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:M})}};return R(S)-R(E)})(x.type,f.type)||this.eu(x.doc,f.doc))),this.ou(r),o=o??!1;const p=e&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,v=g!==this.Za;return this.Za=g,c.length!==0||v?{snapshot:new Xo(this.query,t.tu,u,c,t.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new NS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new OS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class aV{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class oV{constructor(t){this.key=t,this.hu=!1}}class lV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((p=>$T(p)),Sd),this.Iu=new Map,this.Eu=new Set,this.du=new Ve(It.comparator),this.Au=new Map,this.Ru=new Ng,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uV(i,t,e=!0){const r=US(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await PS(r,t,e,!0),o}async function cV(i,t){const e=US(i);await PS(e,t,!0,!1)}async function PS(i,t,e,r){const o=await DD(i.localStore,hs(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let p;return r&&(p=await fV(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&ES(i.remoteStore,o),p}async function fV(i,t,e,r,o){i.pu=(f,_,S)=>(async function(R,M,V,O){let L=M.view.ru(V);L.Cs&&(L=await fb(R.localStore,M.query,!1).then((({documents:j})=>M.view.ru(j,L))));const Y=O&&O.targetChanges.get(M.targetId),et=O&&O.targetMismatches.get(M.targetId)!=null,J=M.view.applyChanges(L,R.isPrimaryClient,Y,et);return bb(R,M.targetId,J.au),J.snapshot})(i,f,_,S);const u=await fb(i.localStore,t,!0),c=new rV(t,u.Qs),p=c.ru(u.documents),g=Fu.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",o),v=c.applyChanges(p,i.isPrimaryClient,g);bb(i,e,v.au);const x=new aV(t,e,c);return i.Tu.set(t,x),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),v.snapshot}async function dV(i,t,e){const r=Ut(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Sd(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Bg(r.remoteStore,o.targetId),qm(r,o.targetId)})).catch(tl)):(qm(r,o.targetId),await Um(r.localStore,o.targetId,!0))}async function hV(i,t){const e=Ut(i),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Bg(e.remoteStore,r.targetId))}async function pV(i,t,e){const r=bV(i);try{const o=await(function(c,p){const g=Ut(c),v=Ee.now(),x=p.reduce(((S,E)=>S.add(E.key)),Jt());let f,_;return g.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let E=qs(),R=Jt();return g.Ns.getEntries(S,x).next((M=>{E=M,E.forEach(((V,O)=>{O.isValidDocument()||(R=R.add(V))}))})).next((()=>g.localDocuments.getOverlayedDocuments(S,E))).next((M=>{f=M;const V=[];for(const O of p){const L=II(O,f.get(O.key).overlayedDocument);L!=null&&V.push(new qr(O.key,L,HT(L.value.mapValue),bi.exists(!0)))}return g.mutationQueue.addMutationBatch(S,v,V,p)})).next((M=>{_=M;const V=M.applyToLocalDocumentSet(f,R);return g.documentOverlayCache.saveOverlays(S,M.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:tS(f)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,p,g){let v=c.Vu[c.currentUser.toKey()];v||(v=new Ve(Zt)),v=v.insert(p,g),c.Vu[c.currentUser.toKey()]=v})(r,o.batchId,e),await qu(r,o.changes),await Dd(r.remoteStore)}catch(o){const u=qg(o,"Failed to persist write");e.reject(u)}}async function kS(i,t){const e=Ut(i);try{const r=await CD(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(de(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?de(c.hu,14607):o.removedDocuments.size>0&&(de(c.hu,42227),c.hu=!1))})),await qu(e,r,t)}catch(r){await tl(r)}}function xb(i,t,e){const r=Ut(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const p=c.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const g=Ut(c);g.onlineState=p;let v=!1;g.queries.forEach(((x,f)=>{for(const _ of f.Sa)_.va(p)&&(v=!0)})),v&&Gg(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mV(i,t,e){const r=Ut(i);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Ve(It.comparator);c=c.insert(u,En.newNoDocument(u,Lt.min()));const p=Jt().add(u),g=new Cd(Lt.min(),new Map,new Ve(Zt),c,p);await kS(r,g),r.du=r.du.remove(u),r.Au.delete(t),Qg(r)}else await Um(r.localStore,t,!1).then((()=>qm(r,t,e))).catch(tl)}async function gV(i,t){const e=Ut(i),r=t.batch.batchId;try{const o=await wD(e.localStore,t);BS(e,r,null),LS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await qu(e,o)}catch(o){await tl(o)}}async function yV(i,t,e){const r=Ut(i);try{const o=await(function(c,p){const g=Ut(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return g.mutationQueue.lookupMutationBatch(v,p).next((f=>(de(f!==null,37113),x=f.keys(),g.mutationQueue.removeMutationBatch(v,f)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>g.localDocuments.getDocuments(v,x)))}))})(r.localStore,t);BS(r,t,e),LS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await qu(r,o)}catch(o){await tl(o)}}function LS(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function BS(i,t,e){const r=Ut(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function qm(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||zS(i,r)}))}function zS(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(Bg(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),Qg(i))}function bb(i,t,e){for(const r of e)r instanceof OS?(i.Ru.addReference(r.key,t),vV(i,r)):r instanceof NS?(bt(Yg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||zS(i,r.key)):jt(19791,{wu:r})}function vV(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(bt(Yg,"New document in limbo: "+e),i.Eu.add(r),Qg(i))}function Qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new It(Te.fromString(t)),r=i.fu.next();i.Au.set(r,new oV(e)),i.du=i.du.insert(e,r),ES(i.remoteStore,new wr(hs(Td(e.path)),r,"TargetPurposeLimboResolution",_d.ce))}}async function qu(i,t,e){const r=Ut(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{c.push(r.pu(g,t,e).then((v=>{if((v||e)&&r.isPrimaryClient){const x=v?!v.fromCache:e?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(v){o.push(v);const x=kg.As(g.targetId,v);u.push(x)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,v){const x=Ut(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ht.forEach(v,(_=>ht.forEach(_.Es,(S=>x.persistence.referenceDelegate.addReference(f,_.targetId,S))).next((()=>ht.forEach(_.ds,(S=>x.persistence.referenceDelegate.removeReference(f,_.targetId,S)))))))))}catch(f){if(!el(f))throw f;bt(Lg,"Failed to update sequence numbers: "+f)}for(const f of v){const _=f.targetId;if(!f.fromCache){const S=x.Ms.get(_),E=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(E);x.Ms=x.Ms.insert(_,R)}}})(r.localStore,u))}async function _V(i,t){const e=Ut(i);if(!e.currentUser.isEqual(t)){bt(Yg,"User change. New user:",t.toKey());const r=await bS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new yt(ft.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qu(e,r.Ls)}}function xV(i,t){const e=Ut(i),r=e.Au.get(t);if(r&&r.hu)return Jt().add(r.key);{let o=Jt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const p=e.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function US(i){const t=Ut(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mV.bind(null,t),t.Pu.H_=iV.bind(null,t.eventManager),t.Pu.yu=sV.bind(null,t.eventManager),t}function bV(i){const t=Ut(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yV.bind(null,t),t}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ED(this.persistence,new TD,t.initialUser,this.serializer)}Cu(t){return new xS(Pg.mi,this.serializer)}Du(t){return new jD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class TV extends ad{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){de(this.persistence.referenceDelegate instanceof sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oD(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new xS((r=>sd.mi(r,e)),this.serializer)}}class Gm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_V.bind(null,this.syncEngine),await tV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nV})()}createDatastore(t){const e=Rd(t.databaseInfo.databaseId),r=(function(u){return new kD(u)})(t.databaseInfo);return(function(u,c,p,g){return new UD(u,c,p,g)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,p){return new HD(r,o,u,c,p)})(this.localStore,this.datastore,t.asyncQueue,(e=>xb(this.syncEngine,e,0)),(function(){return pb.v()?new pb:new MD})())}createSyncEngine(t,e){return(function(o,u,c,p,g,v,x){const f=new lV(o,u,c,p,g,v);return x&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Ut(e);bt(Oa,"RemoteStore shutting down."),r.Ea.add(5),await Hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gm.provider={build:()=>new Gm};class FS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Lr="FirestoreClient";class SV{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{bt(Lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(bt(Lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=qg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function nm(i,t){i.asyncQueue.verifyOperationInProgress(),bt(Lr,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function Tb(i,t){i.asyncQueue.verifyOperationInProgress();const e=await AV(i);bt(Lr,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>gb(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>gb(t.remoteStore,o))),i._onlineComponents=t}async function AV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){bt(Lr,"Using user provided OfflineComponentProvider");try{await nm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Go("Error using user provided cache. Falling back to memory cache: "+e),await nm(i,new ad)}}else bt(Lr,"Using default OfflineComponentProvider"),await nm(i,new TV(void 0));return i._offlineComponents}async function HS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(bt(Lr,"Using user provided OnlineComponentProvider"),await Tb(i,i._uninitializedComponentsProvider._online)):(bt(Lr,"Using default OnlineComponentProvider"),await Tb(i,new Gm))),i._onlineComponents}function EV(i){return HS(i).then((t=>t.syncEngine))}async function Ym(i){const t=await HS(i),e=t.eventManager;return e.onListen=uV.bind(null,t.syncEngine),e.onUnlisten=dV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=cV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=hV.bind(null,t.syncEngine),e}function wV(i,t,e={}){const r=new Dr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,g,v){const x=new FS({next:_=>{x.Nu(),c.enqueueAndForget((()=>jS(u,f)));const S=_.docs.has(p);!S&&_.fromCache?v.reject(new yt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&g&&g.source==="server"?v.reject(new yt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:_=>v.reject(_)}),f=new MS(Td(p.path),x,{includeMetadataChanges:!0,qa:!0});return VS(u,f)})(await Ym(i),i.asyncQueue,t,e,r))),r.promise}function qS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const Sb=new Map;const GS="firestore.googleapis.com",Ab=!0;class Eb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GS,this.ssl=Ab}else this.host=t.host,this.ssl=t.ssl??Ab;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_S;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rD)throw new yt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vd{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Sb.get(e);r&&(bt("ComponentProvider","Removing Datastore"),Sb.delete(e),r.terminate())})(this),Promise.resolve()}}function CV(i,t,e,r={}){i=xi(i,Vd);const o=xg(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},p=`${t}:${e}`;o&&(sC(`https://${p}`),lC("Firestore",!0)),u.host!==GS&&u.host!==p&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!Au(g,c)&&(i._setSettings(g),r.mockUserToken)){let v,x;if(typeof r.mockUserToken=="string")v=r.mockUserToken,x=An.MOCK_USER;else{v=rC(r.mockUserToken,i._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new yt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new An(f)}i._authCredentials=new MR(new VT(v,x))}}class Gr{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gr(this.firestore,t,this._query)}}class Ne{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(zu(e,Ne._jsonSchema))return new Ne(t,r||null,new It(Te.fromString(e.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Je("string",Ne._jsonSchemaVersion),referencePath:Je("string")};class Vr extends Gr{constructor(t,e,r){super(t,e,Td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new It(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function zn(i,t,...e){if(i=ii(i),jT("collection","path",t),i instanceof Vd){const r=Te.fromString(t,...e);return Lx(r),new Vr(i,null,r)}{if(!(i instanceof Ne||i instanceof Vr))throw new yt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Te.fromString(t,...e));return Lx(r),new Vr(i.firestore,null,r)}}function Ie(i,t,...e){if(i=ii(i),arguments.length===1&&(t=Ag.newId()),jT("doc","path",t),i instanceof Vd){const r=Te.fromString(t,...e);return kx(r),new Ne(i,null,new It(r))}{if(!(i instanceof Ne||i instanceof Vr))throw new yt(ft.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Te.fromString(t,...e));return kx(r),new Ne(i.firestore,i instanceof Vr?i.converter:null,new It(r))}}const wb="AsyncQueue";class Cb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SS(this,"async_queue_retry"),this._c=()=>{const r=em();r&&bt(wb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=em();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;bt(wb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",Rb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Hg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&jt(47125,{Pc:Rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Rb(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function Ib(i){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Br extends Vd{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Cb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cb(t),this._firestoreClient=void 0,await t}}}function RV(i,t){const e=typeof i=="object"?i:bT(),r=typeof i=="string"?i:$f,o=Bu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nC("firestore");u&&CV(o,...u)}return o}function Wg(i){if(i._terminated)throw new yt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IV(i),i._firestoreClient}function IV(i){const t=i._freezeSettings(),e=(function(o,u,c,p){return new tI(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new SV(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(xn.fromBase64String(t))}catch(e){throw new yt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new vi(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zu(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Je("string",vi._jsonSchemaVersion),bytes:Je("string")};class jd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kg{constructor(t){this._methodName=t}}class ms{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(t){if(zu(t,ms._jsonSchema))return new ms(t.latitude,t.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Je("string",ms._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};class gs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zu(t,gs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new gs(t.vectorValues);throw new yt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:Je("string",gs._jsonSchemaVersion),vectorValues:Je("object")};const DV=/^__.*__$/;class VV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uu(t,this.data,e,this.fieldTransforms)}}class YS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new qr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function QS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:i})}}class Xg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return od(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QS(this.Ac)&&DV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Rd(t)}Cc(t,e,r,o=!1){return new Xg({Ac:t,methodName:e,Dc:r,path:_n.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(i){const t=i._freezeSettings(),e=Rd(i._databaseId);return new jV(i._databaseId,!!t.ignoreUndefinedProperties,e)}function WS(i,t,e,r,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);$g("Data must be an object, but it was:",c,r);const p=KS(r,c);let g,v;if(u.merge)g=new ei(c.fieldMask),v=c.fieldTransforms;else if(u.mergeFields){const x=[];for(const f of u.mergeFields){const _=Qm(t,f,e);if(!c.contains(_))throw new yt(ft.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);$S(x,_)||x.push(_)}g=new ei(x),v=c.fieldTransforms.filter((f=>g.covers(f.field)))}else g=null,v=c.fieldTransforms;return new VV(new Fn(p),g,v)}class Od extends Kg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Od}}function MV(i,t,e,r){const o=i.Cc(1,t,e);$g("Data must be an object, but it was:",o,r);const u=[],c=Fn.empty();Hr(r,((g,v)=>{const x=Zg(t,g,e);v=ii(v);const f=o.yc(x);if(v instanceof Od)u.push(x);else{const _=Gu(v,f);_!=null&&(u.push(x),c.set(x,_))}}));const p=new ei(u);return new YS(c,p,o.fieldTransforms)}function OV(i,t,e,r,o,u){const c=i.Cc(1,t,e),p=[Qm(t,r,e)],g=[o];if(u.length%2!=0)throw new yt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)p.push(Qm(t,u[_])),g.push(u[_+1]);const v=[],x=Fn.empty();for(let _=p.length-1;_>=0;--_)if(!$S(v,p[_])){const S=p[_];let E=g[_];E=ii(E);const R=c.yc(S);if(E instanceof Od)v.push(S);else{const M=Gu(E,R);M!=null&&(v.push(S),x.set(S,M))}}const f=new ei(v);return new YS(x,f,c.fieldTransforms)}function NV(i,t,e,r=!1){return Gu(e,i.Cc(r?4:3,t))}function Gu(i,t){if(XS(i=ii(i)))return $g("Unsupported field value:",t,i),KS(i,t);if(i instanceof Kg)return(function(r,o){if(!QS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const p of r){let g=Gu(p,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ee.fromDate(r);return{timestampValue:id(o.serializer,u)}}if(r instanceof Ee){const u=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:id(o.serializer,u)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:dS(o.serializer,r._byteString)};if(r instanceof Ne){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Og(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gs)return(function(c,p){return{mapValue:{fields:{[UT]:{stringValue:FT},[Zf]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Dg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${vd(r)}`)})(i,t)}function KS(i,t){const e={};return NT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(i,((r,o)=>{const u=Gu(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function XS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ee||i instanceof ms||i instanceof vi||i instanceof Ne||i instanceof Kg||i instanceof gs)}function $g(i,t,e){if(!XS(e)||!MT(e)){const r=vd(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function Qm(i,t,e){if((t=ii(t))instanceof jd)return t._internalPath;if(typeof t=="string")return Zg(i,t);throw od("Field path arguments must be of type string or ",i,!1,void 0,e)}const PV=new RegExp("[~\\*/\\[\\]]");function Zg(i,t,e){if(t.search(PV)>=0)throw od(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new jd(...t.split("."))._internalPath}catch{throw od(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function od(i,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new yt(ft.INVALID_ARGUMENT,p+i+g)}function $S(i,t){return i.some((e=>e.isEqual(t)))}class ZS{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Nd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class kV extends ZS{data(){return super.data()}}function Nd(i,t){return typeof t=="string"?Zg(i,t):t instanceof jd?t._internalPath:t._delegate._internalPath}function LV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new yt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class ty extends Jg{}function wa(i,t,...e){let r=[];t instanceof Jg&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((g=>g instanceof ey)).length,p=u.filter((g=>g instanceof Pd)).length;if(c>1||c>0&&p>0)throw new yt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Pd extends ty{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Pd(t,e,r)}_apply(t){const e=this._parse(t);return JS(t._query,e),new Gr(t.firestore,t.converter,Pm(t._query,e))}_parse(t){const e=Md(t.firestore);return(function(u,c,p,g,v,x,f){let _;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new yt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){jb(f,x);const E=[];for(const R of f)E.push(Vb(g,u,R));_={arrayValue:{values:E}}}else _=Vb(g,u,f)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||jb(f,x),_=NV(p,c,f,x==="in"||x==="not-in");return Ze.create(v,x,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function im(i,t,e){const r=t,o=Nd("where",i);return Pd._create(o,r,e)}class ey extends Jg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ey(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Bi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const p=u.getFlattenedFilters();for(const g of p)JS(c,g),c=Pm(c,g)})(t._query,e),new Gr(t.firestore,t.converter,Pm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ny extends ty{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ny(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new yt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new yt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(u,c)})(t._query,this._field,this._direction);return new Gr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new nl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function Df(i,t="asc"){const e=t,r=Nd("orderBy",i);return ny._create(r,e)}class iy extends ty{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new iy(t,e,r)}_apply(t){return new Gr(t.firestore,t.converter,td(t._query,this._limit,this._limitType))}}function Db(i){return HR("limit",i),iy._create("limit",i,"F")}function Vb(i,t,e){if(typeof(e=ii(e))=="string"){if(e==="")throw new yt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(t)&&e.indexOf("/")!==-1)throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Te.fromString(e));if(!It.isDocumentKey(r))throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yx(i,new It(r))}if(e instanceof Ne)return Yx(i,e._key);throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(e)}.`)}function jb(i,t){if(!Array.isArray(i)||i.length===0)throw new yt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JS(i,t){const e=(function(o,u){for(const c of o)for(const p of c.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new yt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class BV{convertValue(t,e="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw jt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Hr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[Zf].arrayValue?.values?.map((r=>ze(r.doubleValue)));return new gs(e)}convertGeoPoint(t){return new ms(ze(t.latitude),ze(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=bd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const e=Or(t);return new Ee(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Te.fromString(t);de(vS(r),9688,{name:t});const o=new Ru(r.get(1),r.get(3)),u=new It(r.popFirst(5));return o.isEqual(e)||Hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function tA(i,t,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,r}class hu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends ZS{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Nd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Je("string",Da._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Hf extends Da{data(t={}){return super.data(t)}}class Uo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Hf(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const g=new Hf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Hf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return p.type!==0&&(v=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),x=c.indexOf(p.doc.key)),{type:zV(p.type),doc:g,oldIndex:v,newIndex:x}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:i})}}function Li(i){i=xi(i,Ne);const t=xi(i.firestore,Br);return wV(Wg(t),i._key).then((e=>nA(t,i,e)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Je("string",Uo._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class eA extends BV{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,e)}}function Fo(i,t,e){i=xi(i,Ne);const r=xi(i.firestore,Br),o=tA(i.converter,t,e);return kd(r,[WS(Md(r),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,bi.none())])}function fs(i,t,e,...r){i=xi(i,Ne);const o=xi(i.firestore,Br),u=Md(o);let c;return c=typeof(t=ii(t))=="string"||t instanceof jd?OV(u,"updateDoc",i._key,t,e,r):MV(u,"updateDoc",i._key,t),kd(o,[c.toMutation(i._key,bi.exists(!0))])}function sm(i){return kd(xi(i.firestore,Br),[new Vg(i._key,bi.none())])}function Mu(i,t){const e=xi(i.firestore,Br),r=Ie(i),o=tA(i.converter,t);return kd(e,[WS(Md(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then((()=>r))}function cs(i,...t){i=ii(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Ib(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Ib(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,p;if(i instanceof Ne)c=xi(i.firestore,Br),p=Td(i._key.path),u={next:g=>{t[r]&&t[r](nA(c,i,g))},error:t[r+1],complete:t[r+2]};else{const g=xi(i,Gr);c=xi(g.firestore,Br),p=g._query;const v=new eA(c);u={next:x=>{t[r]&&t[r](new Uo(c,v,g,x))},error:t[r+1],complete:t[r+2]},LV(i._query)}return(function(v,x,f,_){const S=new FS(_),E=new MS(x,S,f);return v.asyncQueue.enqueueAndForget((async()=>VS(await Ym(v),E))),()=>{S.Nu(),v.asyncQueue.enqueueAndForget((async()=>jS(await Ym(v),E)))}})(Wg(c),p,o,u)}function kd(i,t){return(function(r,o){const u=new Dr;return r.asyncQueue.enqueueAndForget((async()=>pV(await EV(r),o,u))),u.promise})(Wg(i),t)}function nA(i,t,e){const r=e.docs.get(t._key),o=new eA(i);return new Da(i,o,t._key,r,new hu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Jo=o})(_R),jr(new Us("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),p=new Br(new OR(r.getProvider("auth-internal")),new kR(c,r.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new yt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(v.options.projectId,x)})(c,o),c);return u={useFetchStreams:e,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ds(Mx,Ox,t),ds(Mx,Ox,"esm2020")})();const iA="@firebase/installations",sy="0.6.19";const sA=1e4,rA=`w:${sy}`,aA="FIS_v2",UV="https://firebaseinstallations.googleapis.com/v1",FV=3600*1e3,HV="installations",qV="Installations";const GV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Na=new yd(HV,qV,GV);function oA(i){return i instanceof Fr&&i.code.includes("request-failed")}function lA({projectId:i}){return`${UV}/projects/${i}/installations`}function uA(i){return{token:i.token,requestStatus:2,expiresIn:QV(i.expiresIn),creationTime:Date.now()}}async function cA(i,t){const r=(await t.json()).error;return Na.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function YV(i,{refreshToken:t}){const e=fA(i);return e.append("Authorization",WV(t)),e}async function dA(i){const t=await i();return t.status>=500&&t.status<600?i():t}function QV(i){return Number(i.replace("s","000"))}function WV(i){return`${aA} ${i}`}async function KV({appConfig:i,heartbeatServiceProvider:t},{fid:e}){const r=lA(i),o=fA(i),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:e,authVersion:aA,appId:i.appId,sdkVersion:rA},p={method:"POST",headers:o,body:JSON.stringify(c)},g=await dA(()=>fetch(r,p));if(g.ok){const v=await g.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:uA(v.authToken)}}else throw await cA("Create Installation",g)}function hA(i){return new Promise(t=>{setTimeout(t,i)})}function XV(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const $V=/^[cdef][\w-]{21}$/,Wm="";function ZV(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const e=JV(i);return $V.test(e)?e:Wm}catch{return Wm}}function JV(i){return XV(i).substr(0,22)}function Ld(i){return`${i.appName}!${i.appId}`}const pA=new Map;function mA(i,t){const e=Ld(i);gA(e,t),tj(e,t)}function gA(i,t){const e=pA.get(i);if(e)for(const r of e)r(t)}function tj(i,t){const e=ej();e&&e.postMessage({key:i,fid:t}),nj()}let Ca=null;function ej(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=i=>{gA(i.data.key,i.data.fid)}),Ca}function nj(){pA.size===0&&Ca&&(Ca.close(),Ca=null)}const ij="firebase-installations-database",sj=1,Pa="firebase-installations-store";let rm=null;function ry(){return rm||(rm=_T(ij,sj,{upgrade:(i,t)=>{t===0&&i.createObjectStore(Pa)}})),rm}async function ld(i,t){const e=Ld(i),o=(await ry()).transaction(Pa,"readwrite"),u=o.objectStore(Pa),c=await u.get(e);return await u.put(t,e),await o.done,(!c||c.fid!==t.fid)&&mA(i,t.fid),t}async function yA(i){const t=Ld(i),r=(await ry()).transaction(Pa,"readwrite");await r.objectStore(Pa).delete(t),await r.done}async function Bd(i,t){const e=Ld(i),o=(await ry()).transaction(Pa,"readwrite"),u=o.objectStore(Pa),c=await u.get(e),p=t(c);return p===void 0?await u.delete(e):await u.put(p,e),await o.done,p&&(!c||c.fid!==p.fid)&&mA(i,p.fid),p}async function ay(i){let t;const e=await Bd(i.appConfig,r=>{const o=rj(r),u=aj(i,o);return t=u.registrationPromise,u.installationEntry});return e.fid===Wm?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function rj(i){const t=i||{fid:ZV(),registrationStatus:0};return vA(t)}function aj(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Na.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=oj(i,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lj(i)}:{installationEntry:t}}async function oj(i,t){try{const e=await KV(i,t);return ld(i.appConfig,e)}catch(e){throw oA(e)&&e.customData.serverCode===409?await yA(i.appConfig):await ld(i.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function lj(i){let t=await Mb(i.appConfig);for(;t.registrationStatus===1;)await hA(100),t=await Mb(i.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await ay(i);return r||e}return t}function Mb(i){return Bd(i,t=>{if(!t)throw Na.create("installation-not-found");return vA(t)})}function vA(i){return uj(i)?{fid:i.fid,registrationStatus:0}:i}function uj(i){return i.registrationStatus===1&&i.registrationTime+sA<Date.now()}async function cj({appConfig:i,heartbeatServiceProvider:t},e){const r=fj(i,e),o=YV(i,e),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:rA,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},g=await dA(()=>fetch(r,p));if(g.ok){const v=await g.json();return uA(v)}else throw await cA("Generate Auth Token",g)}function fj(i,{fid:t}){return`${lA(i)}/${t}/authTokens:generate`}async function oy(i,t=!1){let e;const r=await Bd(i.appConfig,u=>{if(!_A(u))throw Na.create("not-registered");const c=u.authToken;if(!t&&pj(c))return u;if(c.requestStatus===1)return e=dj(i,t),u;{if(!navigator.onLine)throw Na.create("app-offline");const p=gj(u);return e=hj(i,p),p}});return e?await e:r.authToken}async function dj(i,t){let e=await Ob(i.appConfig);for(;e.authToken.requestStatus===1;)await hA(100),e=await Ob(i.appConfig);const r=e.authToken;return r.requestStatus===0?oy(i,t):r}function Ob(i){return Bd(i,t=>{if(!_A(t))throw Na.create("not-registered");const e=t.authToken;return yj(e)?{...t,authToken:{requestStatus:0}}:t})}async function hj(i,t){try{const e=await cj(i,t),r={...t,authToken:e};return await ld(i.appConfig,r),e}catch(e){if(oA(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await yA(i.appConfig);else{const r={...t,authToken:{requestStatus:0}};await ld(i.appConfig,r)}throw e}}function _A(i){return i!==void 0&&i.registrationStatus===2}function pj(i){return i.requestStatus===2&&!mj(i)}function mj(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+FV}function gj(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function yj(i){return i.requestStatus===1&&i.requestTime+sA<Date.now()}async function vj(i){const t=i,{installationEntry:e,registrationPromise:r}=await ay(t);return r?r.catch(console.error):oy(t).catch(console.error),e.fid}async function _j(i,t=!1){const e=i;return await xj(e),(await oy(e,t)).token}async function xj(i){const{registrationPromise:t}=await ay(i);t&&await t}function bj(i){if(!i||!i.options)throw am("App Configuration");if(!i.name)throw am("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!i.options[e])throw am(e);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function am(i){return Na.create("missing-app-config-values",{valueName:i})}const xA="installations",Tj="installations-internal",Sj=i=>{const t=i.getProvider("app").getImmediate(),e=bj(t),r=Bu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Aj=i=>{const t=i.getProvider("app").getImmediate(),e=Bu(t,xA).getImmediate();return{getId:()=>vj(e),getToken:o=>_j(e,o)}};function Ej(){jr(new Us(xA,Sj,"PUBLIC")),jr(new Us(Tj,Aj,"PRIVATE"))}Ej();ds(iA,sy);ds(iA,sy,"esm2020");const ud="analytics",wj="firebase_id",Cj="origin",Rj=60*1e3,Ij="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js";const Dn=new bg("@firebase/analytics");const Dj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ni=new yd("analytics","Analytics",Dj);function Vj(i){if(!i.startsWith(ly)){const t=ni.create("invalid-gtag-resource",{gtagURL:i});return Dn.warn(t.message),""}return i}function bA(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function jj(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function Mj(i,t){const e=jj("firebase-js-sdk-policy",{createScriptURL:Vj}),r=document.createElement("script"),o=`${ly}?l=${i}&id=${t}`;r.src=e?e?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Oj(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function Nj(i,t,e,r,o,u){const c=r[o];try{if(c)await t[c];else{const g=(await bA(e)).find(v=>v.measurementId===o);g&&await t[g.appId]}}catch(p){Dn.error(p)}i("config",o,u)}async function Pj(i,t,e,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const p=await bA(e);for(const g of c){const v=p.find(f=>f.measurementId===g),x=v&&t[v.appId];if(x)u.push(x);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),i("event",r,o||{})}catch(u){Dn.error(u)}}function kj(i,t,e,r){async function o(u,...c){try{if(u==="event"){const[p,g]=c;await Pj(i,t,e,p,g)}else if(u==="config"){const[p,g]=c;await Nj(i,t,e,r,p,g)}else if(u==="consent"){const[p,g]=c;i("consent",p,g)}else if(u==="get"){const[p,g,v]=c;i("get",p,g,v)}else if(u==="set"){const[p]=c;i("set",p)}else i(u,...c)}catch(p){Dn.error(p)}}return o}function Lj(i,t,e,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=kj(u,i,t,e),{gtagCore:u,wrappedGtag:window[o]}}function Bj(i){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(ly)&&e.src.includes(i))return e;return null}const zj=30,Uj=1e3;class Fj{constructor(t={},e=Uj){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const TA=new Fj;function Hj(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function qj(i){const{appId:t,apiKey:e}=i,r={method:"GET",headers:Hj(e)},o=Ij.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const p=await u.json();p.error?.message&&(c=p.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function Gj(i,t=TA,e){const{appId:r,apiKey:o,measurementId:u}=i.options;if(!r)throw ni.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ni.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Wj;return setTimeout(async()=>{p.abort()},Rj),SA({appId:r,apiKey:o,measurementId:u},c,p,t)}async function SA(i,{throttleEndTimeMillis:t,backoffCount:e},r,o=TA){const{appId:u,measurementId:c}=i;try{await Yj(r,t)}catch(p){if(c)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw p}try{const p=await qj(i);return o.deleteThrottleMetadata(u),p}catch(p){const g=p;if(!Qj(g)){if(o.deleteThrottleMetadata(u),c)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:c};throw p}const v=Number(g?.customData?.httpStatus)===503?Sx(e,o.intervalMillis,zj):Sx(e,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+v,backoffCount:e+1};return o.setThrottleMetadata(u,x),Dn.debug(`Calling attemptFetch again in ${v} millis`),SA(i,x,r,o)}}function Yj(i,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);i.addEventListener(()=>{clearTimeout(u),r(ni.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Qj(i){if(!(i instanceof Fr)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class Wj{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Kj(i,t,e,r,o){if(o&&o.global){i("event",e,r);return}else{const u=await t,c={...r,send_to:u};i("event",e,c)}}async function Xj(i,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return i("set",o),Promise.resolve()}else{const o=await t;i("config",o,{update:!0,user_properties:e})}}async function $j(){if(mT())try{await gT()}catch(i){return Dn.warn(ni.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Dn.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Zj(i,t,e,r,o,u,c){const p=Gj(i);p.then(_=>{e[_.measurementId]=_.appId,i.options.measurementId&&_.measurementId!==i.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Dn.error(_)),t.push(p);const g=$j().then(_=>{if(_)return r.getId()}),[v,x]=await Promise.all([p,g]);Bj(u)||Mj(u,v.measurementId),o("js",new Date);const f=c?.config??{};return f[Cj]="firebase",f.update=!0,x!=null&&(f[wj]=x),o("config",v.measurementId,f),v.measurementId}class Jj{constructor(t){this.app=t}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},Nb=[];const Pb={};let om="dataLayer",t4="gtag",kb,uy,Lb=!1;function e4(){const i=[];if(fC()&&i.push("This is a browser extension environment."),hC()||i.push("Cookies are not available."),i.length>0){const t=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=ni.create("invalid-analytics-context",{errorInfo:t});Dn.warn(e.message)}}function n4(i,t,e){e4();const r=i.options.appId;if(!r)throw ni.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ni.create("no-api-key");if(Ho[r]!=null)throw ni.create("already-exists",{id:r});if(!Lb){Oj(om);const{wrappedGtag:u,gtagCore:c}=Lj(Ho,Nb,Pb,om,t4);uy=u,kb=c,Lb=!0}return Ho[r]=Zj(i,Nb,Pb,t,kb,om,e),new Jj(i)}function i4(i=bT()){i=ii(i);const t=Bu(i,ud);return t.isInitialized()?t.getImmediate():s4(i)}function s4(i,t={}){const e=Bu(i,ud);if(e.isInitialized()){const o=e.getImmediate();if(Au(t,e.getOptions()))return o;throw ni.create("already-initialized")}return e.initialize({options:t})}function r4(i,t,e){i=ii(i),Xj(uy,Ho[i.app.options.appId],t,e).catch(r=>Dn.error(r))}function a4(i,t,e,r){i=ii(i),Kj(uy,Ho[i.app.options.appId],t,e,r).catch(o=>Dn.error(o))}const Bb="@firebase/analytics",zb="0.10.19";function o4(){jr(new Us(ud,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return n4(r,o,e)},"PUBLIC")),jr(new Us("analytics-internal",i,"PRIVATE")),ds(Bb,zb),ds(Bb,zb,"esm2020");function i(t){try{const e=t.getProvider(ud).getImmediate();return{logEvent:(r,o,u)=>a4(e,r,o,u),setUserProperties:(r,o)=>r4(e,r,o)}}catch(e){throw ni.create("interop-component-reg-failed",{reason:e})}}}o4();const l4={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},AA=xT(l4);i4(AA);const $t=RV(AA);function u4({t:i,lang:t,users:e,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:p,logo:g,logoSize:v,logoPos:x,styles:f,isAdmin:_,syncToFirebase:S}){const[E,R]=q.useState("login"),[M,V]=q.useState(""),[O,L]=q.useState(""),[Y,et]=q.useState(""),J=async()=>{if(!M||!O||!Y)return alert(t==="ko"?"  .":"Please fill all info.");const I=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(W=>W.code===Y),k=e.find(W=>W.id===Y);if(!I&&!k&&!(Y==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(e.find(W=>W.id===M))return alert(t==="ko"?"  .":"ID already exists.");const N=(2783982189+e.length).toString(),Ct={id:M,pw:O,no:N,referral:Y,diamond:0,refCode:M,agentName:I?I.name:"",joinedAt:new Date().toISOString()},Ft=[...e,Ct];r(Ft),S&&await S({users:Ft}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),V(""),L(""),et(""),R("login")},j=C=>{C.key==="Enter"&&(E==="login"?o(M,O):J())};return y.jsxs("div",{style:{...f.landingWrapper,minHeight:"100dvh"},children:[y.jsxs("div",{style:{...f.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[y.jsx("div",{style:f.bgOverlay}),c.mode==="image"&&c.imageSrc&&y.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&p&&y.jsx("video",{src:p,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...f.bgVideo,height:"100dvh",objectFit:"cover"}},p)]}),y.jsx("div",{style:{...f.logoContainer,left:`${x.x}px`,top:`${x.y}px`,transition:"all 0.3s ease"},children:g?y.jsx("img",{src:g,alt:"logo",style:{height:`${v}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):y.jsx("strong",{style:f.defaultLogo,children:"DAISY"})}),y.jsxs("div",{style:f.mainContent,children:[y.jsxs("div",{style:f.heroSection,children:[y.jsx("h1",{style:f.mainTitle,children:c.title[t]}),y.jsx("p",{style:f.subTitle,children:c.desc[t]})]}),!_&&y.jsx("div",{style:f.authWrap,children:y.jsxs("div",{style:{...f.authCard,padding:"50px 40px"},children:[y.jsx("h2",{style:{...f.authTitle,fontSize:"28px",marginBottom:"35px"},children:E==="login"?i.login:i.signup}),y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:i.id,value:M,onChange:C=>V(C.target.value),onKeyDown:j}),y.jsx("input",{type:"password",style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:i.pw,value:O,onChange:C=>L(C.target.value),onKeyDown:j}),E==="signup"&&y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:Y,onChange:C=>et(C.target.value),onKeyDown:j}),y.jsx("button",{style:{...f.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>E==="login"?o(M,O):J(),children:E==="login"?i.login:i.signup}),E==="login"&&y.jsx("button",{style:{...f.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:i.guest}),y.jsx("div",{style:{...f.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{R(E==="login"?"signup":"login"),V(""),L(""),et("")},children:E==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Ub=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function c4({members:i=[],slideImages:t=[],innerLogo:e,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:p}){const[g,v]=q.useState(0),x=q.useRef(null);q.useEffect(()=>{if(!t||t.length<=1)return;const E=setInterval(()=>{v(R=>(R+1)%t.length)},4e3);return()=>clearInterval(E)},[t]);const f=q.useMemo(()=>!i||i.length===0?[]:[...i,...i,...i],[i]),_=E=>{x.current&&x.current.scrollBy({left:E==="left"?-300:300,behavior:"smooth"})},S=E=>{const R=x.current;if(!R)return;let M=!0,V=E.pageX-R.offsetLeft,O=R.scrollLeft;const L=et=>{if(!M)return;et.preventDefault();const j=(et.pageX-R.offsetLeft-V)*2;R.scrollLeft=O-j},Y=()=>{M=!1,window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",Y)};window.addEventListener("mousemove",L),window.addEventListener("mouseup",Y)};return y.jsxs("div",{style:Vt.container,children:[y.jsx("div",{className:"bg-glow"}),y.jsx("div",{className:"bg-pattern"}),y.jsxs("header",{style:Vt.header,children:[y.jsx("div",{style:Vt.logoArea,children:e?y.jsx("img",{src:e,style:Vt.logoImg,alt:"logo"}):y.jsxs("h1",{style:Vt.defaultLogo,children:["DAISY",y.jsx("br",{}),y.jsx("span",{children:"LOUNGE"})]})}),y.jsxs("div",{style:Vt.statusBadge,children:[y.jsx("div",{className:"dot-pulse-wrap",children:y.jsx("span",{className:"dot-pulse"})}),y.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),y.jsxs("b",{style:Vt.countText,children:[c," MEMBERS"]})]})]}),y.jsxs("div",{style:Vt.introTextArea,children:[y.jsx("div",{style:Vt.introSub,children:"WELCOME TO THE PRIVATE"}),y.jsxs("div",{style:Vt.introMain,children:[p.welcome.replace(" ",""),y.jsx("span",{style:Vt.introSparkle,children:""})]})]}),t&&t.length>0&&y.jsx("div",{style:Vt.sliderContainer,children:y.jsxs("div",{style:Vt.sliderWrap,children:[t.map((E,R)=>{const M=E.url||E,V=R===g;return y.jsx("div",{style:{...Vt.slide,opacity:V?1:0,visibility:V?"visible":"hidden"},children:y.jsxs("div",{style:Vt.imageBorderWrapper,children:[y.jsx("img",{src:M,style:Vt.actualImg,alt:"slide",draggable:"false"}),y.jsx("div",{style:Vt.slideOverlay}),y.jsx("div",{style:Vt.adTag,children:"PREMIUM PICK"})]})},R)}),y.jsx("div",{style:Vt.indicatorWrap,children:t.map((E,R)=>y.jsx("div",{style:{...Vt.dot,width:R===g?20:6,backgroundColor:R===g?"#FFD700":"rgba(255,255,255,0.3)"}},R))})]})}),y.jsxs("div",{style:Vt.welcomeBox,children:[y.jsx("div",{style:Vt.welcomeLine}),y.jsx("span",{style:Vt.welcomeText,children:p.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),y.jsx("div",{style:Vt.welcomeLine})]}),y.jsxs("div",{style:Vt.sectionLabel,children:[y.jsxs("div",{style:Vt.labelLeft,children:[y.jsx("span",{className:"shine-text",style:Vt.labelIcon,children:""}),y.jsxs("span",{style:Vt.labelText,children:["DAISY ",p.manager.toUpperCase()]})]}),y.jsx("div",{onClick:()=>o&&o("manager"),style:Vt.moreBtn,children:"VIEW ALL "})]}),y.jsxs("div",{style:{position:"relative",width:"100%"},children:[y.jsx("div",{ref:x,className:"snap-container",style:Vt.scrollArea,onMouseDown:S,children:f.map((E,R)=>y.jsxs("div",{style:Vt.card,onClick:()=>u&&u(E),children:[y.jsxs("div",{style:Vt.cardImgWrap,children:[y.jsx("img",{src:E.img,style:Vt.cardImg,alt:E.name||"member",draggable:"false"}),y.jsx("div",{style:Vt.cardOverlay}),y.jsx("div",{style:Vt.cardBadge,children:Ub[R%Ub.length]})]}),y.jsxs("div",{style:Vt.cardInfo,children:[y.jsx("div",{style:Vt.cardName,children:E.name}),y.jsxs("div",{style:Vt.cardSpecs,children:[y.jsx("span",{style:Vt.specText,children:E.loc||E.region||(p.home===""?"":"Area")}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.age?`${E.age}${p.home===""?"":""}`:p.home===""?"20":"20s"})]}),y.jsxs("div",{style:{...Vt.cardSpecs,marginTop:"5px"},children:[y.jsx("span",{style:Vt.specText,children:E.height?E.height+"cm":"cm"}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.weight?E.weight+"kg":"kg"}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.bust||E.size||"Size"})]})]})]},R))}),y.jsxs("div",{className:"pc-arrows-wrap",children:[y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("left")},children:""}),y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("right")},children:""})]})]}),y.jsxs("div",{style:Vt.footerBtnArea,children:[y.jsxs("button",{onClick:r,className:"shimmer-btn",style:Vt.teleBtn,children:[" ",p.home===""?"  ":"Connect Real-time Chat"]}),y.jsx("p",{style:Vt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),y.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const Vt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function f4({filteredMembers:i,regions:t,selectedRegion:e,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[p,g]=q.useState(null),[v,x]=q.useState(null);q.useEffect(()=>{o&&(g(o),window.history.pushState({isDetail:!0},""))},[o]),q.useEffect(()=>{const O=()=>{v?x(null):p&&_()};return window.addEventListener("popstate",O),()=>window.removeEventListener("popstate",O)},[v,p]);const f=(O,L)=>{x({type:O,url:L}),window.history.pushState({isFull:!0},"")},_=()=>{g(null),u&&u()},S=O=>O&&(O.includes("/video/upload/")||O.match(/\.(mp4|webm|mov|avi)$/i)),E={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},R=c.home==="",M=O=>R?O:E[O]||O,V=O=>{const L=R?[`${O}        .`,`     ${O}  .`,`      ${O} .`]:[`${O} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${O}, who boasts a visual perfected through thorough self-management.`,`${O} promises a comfortable time with bright energy and consideration.`];let Y=(O||"").split("").reduce((et,J)=>et+J.charCodeAt(0),0);return L[Y%L.length]};return y.jsxs("div",{style:kt.container,children:[y.jsx("div",{style:kt.filterWrapper,children:y.jsx("div",{style:kt.filterScroll,children:t.map(O=>y.jsx("div",{onClick:()=>r(O),style:{...kt.filterItem,color:e===O?"#000":"#888",background:e===O?"#FFD700":"transparent",borderColor:e===O?"#FFD700":"#333"},children:M(O)},O))})}),y.jsx("div",{style:kt.grid,children:i.map((O,L)=>y.jsxs("div",{style:kt.card,onClick:()=>{g(O),window.history.pushState({isDetail:!0},"")},children:[y.jsxs("div",{style:kt.cardImgWrap,children:[y.jsx("img",{src:O.img,style:kt.cardImg,alt:O.name}),y.jsx("div",{style:kt.cardOverlay}),y.jsx("div",{style:kt.cardBadge,children:"PREMIUM"})]}),y.jsxs("div",{style:kt.cardInfo,children:[y.jsx("div",{style:kt.cardName,children:O.name}),y.jsxs("div",{style:kt.cardSpecs,children:[M(O.loc||O.region||(R?"":"LOC")),"  ",O.age?`${O.age}${R?"":""}`:R?"20":"20s"]}),y.jsxs("div",{style:{...kt.cardSpecs,marginTop:"4px"},children:[O.height?O.height+"cm":"cm","  ",O.bust||O.size||"Size"]})]})]},L))}),p&&y.jsx("div",{style:kt.modalOverlay,onClick:_,children:y.jsxs("div",{style:kt.modalContent,onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{style:kt.modalImageWrap,onClick:()=>f("img",p.img),children:[y.jsx("img",{src:p.img,style:kt.modalActualImg,alt:""}),y.jsxs("div",{style:kt.luxTag,children:[" ",R?" ":"CLICK TO ZOOM"]})]}),y.jsxs("div",{style:kt.modalBody,children:[y.jsx("h2",{style:kt.modalName,children:p.name}),y.jsxs("div",{style:kt.specGrid,children:[y.jsxs("div",{style:kt.specItem,children:["LOC",y.jsx("br",{}),y.jsx("b",{style:kt.specVal,children:M(p.loc||p.region||(R?"":"TBA"))})]}),y.jsxs("div",{style:kt.specItem,children:["AGE",y.jsx("br",{}),y.jsx("b",{style:kt.specVal,children:p.age?`${p.age}${R?"":""}`:"20s"})]}),y.jsxs("div",{style:kt.specItem,children:["HEIGHT",y.jsx("br",{}),y.jsx("b",{style:kt.specVal,children:p.height?p.height+"cm":"cm"})]}),y.jsxs("div",{style:kt.specItem,children:["WEIGHT",y.jsx("br",{}),y.jsx("b",{style:kt.specVal,children:p.weight?p.weight+"kg":"kg"})]}),y.jsxs("div",{style:kt.specItem,children:["SIZE",y.jsx("br",{}),y.jsx("b",{style:kt.specVal,children:p.bust||p.size||"Size"})]})]}),y.jsxs("div",{style:kt.introBox,children:[y.jsx("div",{style:kt.introTitle,children:"INTRO"}),y.jsx("p",{style:kt.introText,children:p.desc||V(p.name)})]}),(p.video||S(p.img))&&y.jsxs("div",{style:kt.videoArea,onClick:()=>f("video",p.video||p.img),children:[y.jsxs("div",{style:kt.introTitle,children:["PRIVATE MOVIE (",R?" ":"CLICK TO ENLARGE",")"]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("video",{src:p.video||p.img,style:kt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),y.jsxs("div",{style:kt.videoOverlay,children:[" ",R?" ":"TAP TO FULL VIEW"]})]})]}),y.jsx("button",{style:kt.closeBtn,onClick:_,children:R?"":"CLOSE"})]})]})}),v&&y.jsxs("div",{id:"full-screen-view",style:kt.fullScreenOverlay,onClick:()=>x(null),children:[y.jsxs("button",{style:kt.fullScreenClose,onClick:()=>x(null),children:[" ",R?"":"CLOSE"]}),y.jsx("div",{style:kt.fullScreenContent,onClick:O=>O.stopPropagation(),children:v.type==="video"?y.jsx("video",{src:v.url,style:kt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):y.jsx("img",{src:v.url,style:kt.fullMedia,alt:""})})]})]})}const kt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function d4({videoCategories:i=[],selectedCategory:t,setSelectedCategory:e,filteredVideos:r=[],t:o}){const[u,c]=q.useState(null),[p,g]=q.useState(1),v=10,x=o.home==="",f={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},_=Y=>x?Y:f[Y]||Y;q.useEffect(()=>{g(1)},[t]);const S=p*v,E=S-v,R=r.slice(E,S),M=Math.ceil(r.length/v),V=t==="ALL";q.useEffect(()=>{const Y=()=>{u&&c(null)};return window.addEventListener("popstate",Y),()=>window.removeEventListener("popstate",Y)},[u]);const O=Y=>{c(Y),window.history.pushState({isFullVideo:!0},"")},L=()=>{c(null)};return y.jsxs("div",{style:Ke.pagePadding,children:[y.jsx("h2",{style:Ke.tabDisplayTitle,children:x?" ":"PREMIUM GALLERY"}),y.jsxs("div",{style:Ke.videoCategoryBar,children:[y.jsxs("span",{onClick:()=>e("ALL"),style:{...Ke.videoCatItem,color:V?"#ffb347":"#555",borderBottom:V?"2px solid #ffb347":"2px solid transparent"},children:[" ",_("ALL")," "]}),i.map(Y=>y.jsxs("span",{onClick:()=>e(Y),style:{...Ke.videoCatItem,color:t===Y?"#ffb347":"#555",borderBottom:t===Y?"2px solid #ffb347":"2px solid transparent"},children:[" ",_(Y)," "]},Y))]}),y.jsx("div",{style:Ke.videoGrid,children:R.length>0?R.map(Y=>y.jsxs("div",{style:Ke.videoCard,onClick:()=>O(Y.url),children:[y.jsxs("div",{style:Ke.videoWrapper,children:[y.jsx("video",{src:Y.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:Ke.videoEl,poster:Y.poster||""}),y.jsxs("div",{style:Ke.playOverlay,children:[" ",x?"":"FULL VIEW"]})]}),y.jsxs("div",{style:Ke.videoDesc,children:[y.jsx("span",{style:Ke.descBadge,children:"EXCLUSIVE"}),y.jsx("p",{style:Ke.descText,children:Y.description||(x?` ${Y.category} `:`PREMIUM ${_(Y.category)} SHOW`)})]})]},Y.id)):y.jsx("div",{style:Ke.noData,children:x?"    .":"Videos in this category are coming soon."})}),M>1&&y.jsx("div",{style:Ke.pagination,children:Array.from({length:M},(Y,et)=>et+1).map(Y=>y.jsxs("button",{onClick:()=>{g(Y),window.scrollTo(0,0)},style:{...Ke.pageBtn,background:p===Y?"#ffb347":"#1a1a1a",color:p===Y?"#000":"#888"},children:[" ",Y," "]},Y))}),u&&y.jsxs("div",{id:"full-screen-view",style:Ke.fullOverlay,onClick:L,children:[y.jsxs("button",{style:Ke.closeFull,onClick:L,children:[" ",x?"":"CLOSE"]}),y.jsx("div",{style:Ke.fullContent,onClick:Y=>Y.stopPropagation(),children:y.jsx("video",{src:u,style:Ke.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const Ke={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},cy=q.createContext({});function zd(i){const t=q.useRef(null);return t.current===null&&(t.current=i()),t.current}const fy=typeof window<"u",dy=fy?q.useLayoutEffect:q.useEffect,Ud=q.createContext(null);function hy(i,t){i.indexOf(t)===-1&&i.push(t)}function py(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Gs=(i,t,e)=>e>t?t:e<i?i:e;let my=()=>{};const Ys={},EA=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function wA(i){return typeof i=="object"&&i!==null}const CA=i=>/^0[^.\s]+$/u.test(i);function gy(i){let t;return()=>(t===void 0&&(t=i()),t)}const Ti=i=>i,h4=(i,t)=>e=>t(i(e)),Yu=(...i)=>i.reduce(h4),Ou=(i,t,e)=>{const r=t-i;return r===0?1:(e-i)/r};class yy{constructor(){this.subscriptions=[]}add(t){return hy(this.subscriptions,t),()=>py(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=i=>i*1e3,_i=i=>i/1e3;function RA(i,t){return t?i*(1e3/t):0}const IA=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,p4=1e-7,m4=12;function g4(i,t,e,r,o){let u,c,p=0;do c=t+(e-t)/2,u=IA(c,r,o)-i,u>0?e=c:t=c;while(Math.abs(u)>p4&&++p<m4);return c}function Qu(i,t,e,r){if(i===t&&e===r)return Ti;const o=u=>g4(u,0,1,i,e);return u=>u===0||u===1?u:IA(o(u),t,r)}const DA=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,VA=i=>t=>1-i(1-t),jA=Qu(.33,1.53,.69,.99),vy=VA(jA),MA=DA(vy),OA=i=>(i*=2)<1?.5*vy(i):.5*(2-Math.pow(2,-10*(i-1))),_y=i=>1-Math.sin(Math.acos(i)),NA=VA(_y),PA=DA(_y),y4=Qu(.42,0,1,1),v4=Qu(0,0,.58,1),kA=Qu(.42,0,.58,1),_4=i=>Array.isArray(i)&&typeof i[0]!="number",LA=i=>Array.isArray(i)&&typeof i[0]=="number",x4={linear:Ti,easeIn:y4,easeInOut:kA,easeOut:v4,circIn:_y,circInOut:PA,circOut:NA,backIn:vy,backInOut:MA,backOut:jA,anticipate:OA},b4=i=>typeof i=="string",Fb=i=>{if(LA(i)){my(i.length===4);const[t,e,r,o]=i;return Qu(t,e,r,o)}else if(b4(i))return x4[i];return i},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function T4(i,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(x){c.has(x)&&(v.schedule(x),i()),x(p)}const v={schedule:(x,f=!1,_=!1)=>{const E=_&&o?e:r;return f&&c.add(x),E.has(x)||E.add(x),x},cancel:x=>{r.delete(x),c.delete(x)},process:x=>{if(p=x,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(g),e.clear(),o=!1,u&&(u=!1,v.process(x))}};return v}const S4=40;function BA(i,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Vf.reduce((L,Y)=>(L[Y]=T4(u),L),{}),{setup:p,read:g,resolveKeyframes:v,preUpdate:x,update:f,preRender:_,render:S,postRender:E}=c,R=()=>{const L=Ys.useManualTiming?o.timestamp:performance.now();e=!1,Ys.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(L-o.timestamp,S4),1)),o.timestamp=L,o.isProcessing=!0,p.process(o),g.process(o),v.process(o),x.process(o),f.process(o),_.process(o),S.process(o),E.process(o),o.isProcessing=!1,e&&t&&(r=!1,i(R))},M=()=>{e=!0,r=!0,o.isProcessing||i(R)};return{schedule:Vf.reduce((L,Y)=>{const et=c[Y];return L[Y]=(J,j=!1,C=!1)=>(e||M(),et.schedule(J,j,C)),L},{}),cancel:L=>{for(let Y=0;Y<Vf.length;Y++)c[Vf[Y]].cancel(L)},state:o,steps:c}}const{schedule:Re,cancel:zr,state:yn,steps:lm}=BA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let qf;function A4(){qf=void 0}const Hn={now:()=>(qf===void 0&&Hn.set(yn.isProcessing||Ys.useManualTiming?yn.timestamp:performance.now()),qf),set:i=>{qf=i,queueMicrotask(A4)}},zA=i=>t=>typeof t=="string"&&t.startsWith(i),UA=zA("--"),E4=zA("var(--"),xy=i=>E4(i)?w4.test(i.split("/*")[0].trim()):!1,w4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Nu={...sl,transform:i=>Gs(0,1,i)},jf={...sl,default:1},xu=i=>Math.round(i*1e5)/1e5,by=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C4(i){return i==null}const R4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ty=(i,t)=>e=>!!(typeof e=="string"&&R4.test(e)&&e.startsWith(i)||t&&!C4(e)&&Object.prototype.hasOwnProperty.call(e,t)),FA=(i,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,p]=r.match(by);return{[i]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:p!==void 0?parseFloat(p):1}},I4=i=>Gs(0,255,i),um={...sl,transform:i=>Math.round(I4(i))},Ra={test:Ty("rgb","red"),parse:FA("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:r=1})=>"rgba("+um.transform(i)+", "+um.transform(t)+", "+um.transform(e)+", "+xu(Nu.transform(r))+")"};function D4(i){let t="",e="",r="",o="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Km={test:Ty("#"),parse:D4,transform:Ra.transform},Wu=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Er=Wu("deg"),vs=Wu("%"),Ot=Wu("px"),V4=Wu("vh"),j4=Wu("vw"),Hb={...vs,parse:i=>vs.parse(i)/100,transform:i=>vs.transform(i*100)},No={test:Ty("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(i)+", "+vs.transform(xu(t))+", "+vs.transform(xu(e))+", "+xu(Nu.transform(r))+")"},$e={test:i=>Ra.test(i)||Km.test(i)||No.test(i),parse:i=>Ra.test(i)?Ra.parse(i):No.test(i)?No.parse(i):Km.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Ra.transform(i):No.transform(i),getAnimatableNone:i=>{const t=$e.parse(i);return t.alpha=0,$e.transform(t)}},M4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O4(i){return isNaN(i)&&typeof i=="string"&&(i.match(by)?.length||0)+(i.match(M4)?.length||0)>0}const HA="number",qA="color",N4="var",P4="var(",qb="${}",k4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(i){const t=i.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const p=t.replace(k4,g=>($e.test(g)?(r.color.push(u),o.push(qA),e.push($e.parse(g))):g.startsWith(P4)?(r.var.push(u),o.push(N4),e.push(g)):(r.number.push(u),o.push(HA),e.push(parseFloat(g))),++u,qb)).split(qb);return{values:e,split:p,indexes:r,types:o}}function GA(i){return Pu(i).values}function YA(i){const{split:t,types:e}=Pu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const p=e[c];p===HA?u+=xu(o[c]):p===qA?u+=$e.transform(o[c]):u+=o[c]}return u}}const L4=i=>typeof i=="number"?0:$e.test(i)?$e.getAnimatableNone(i):i;function B4(i){const t=GA(i);return YA(i)(t.map(L4))}const Ur={test:O4,parse:GA,createTransformer:YA,getAnimatableNone:B4};function cm(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function z4({hue:i,saturation:t,lightness:e,alpha:r}){i/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const p=e<.5?e*(1+t):e+t-e*t,g=2*e-p;o=cm(g,p,i+1/3),u=cm(g,p,i),c=cm(g,p,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function cd(i,t){return e=>e>0?t:i}const De=(i,t,e)=>i+(t-i)*e,fm=(i,t,e)=>{const r=i*i,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},U4=[Km,Ra,No],F4=i=>U4.find(t=>t.test(i));function Gb(i){const t=F4(i);if(!t)return!1;let e=t.parse(i);return t===No&&(e=z4(e)),e}const Yb=(i,t)=>{const e=Gb(i),r=Gb(t);if(!e||!r)return cd(i,t);const o={...e};return u=>(o.red=fm(e.red,r.red,u),o.green=fm(e.green,r.green,u),o.blue=fm(e.blue,r.blue,u),o.alpha=De(e.alpha,r.alpha,u),Ra.transform(o))},Xm=new Set(["none","hidden"]);function H4(i,t){return Xm.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function q4(i,t){return e=>De(i,t,e)}function Sy(i){return typeof i=="number"?q4:typeof i=="string"?xy(i)?cd:$e.test(i)?Yb:Q4:Array.isArray(i)?QA:typeof i=="object"?$e.test(i)?Yb:G4:cd}function QA(i,t){const e=[...i],r=e.length,o=i.map((u,c)=>Sy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function G4(i,t){const e={...i,...t},r={};for(const o in e)i[o]!==void 0&&t[o]!==void 0&&(r[o]=Sy(i[o])(i[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function Y4(i,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],p=i.values[c]??0;e[o]=p,r[u]++}return e}const Q4=(i,t)=>{const e=Ur.createTransformer(t),r=Pu(i),o=Pu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Xm.has(i)&&!o.values.length||Xm.has(t)&&!r.values.length?H4(i,t):Yu(QA(Y4(r,o),o.values),e):cd(i,t)};function WA(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?De(i,t,e):Sy(i)(i,t)}const W4=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>Re.update(t,e),stop:()=>zr(t),now:()=>yn.isProcessing?yn.timestamp:Hn.now()}},KA=(i,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fd=2e4;function Ay(i){let t=0;const e=50;let r=i.next(t);for(;!r.done&&t<fd;)t+=e,r=i.next(t);return t>=fd?1/0:t}function K4(i,t=100,e){const r=e({...i,keyframes:[0,t]}),o=Math.min(Ay(r),fd);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:_i(o)}}const X4=5;function XA(i,t,e){const r=Math.max(t-X4,0);return RA(e-i(r),t-r)}const Oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dm=.001;function $4({duration:i=Oe.duration,bounce:t=Oe.bounce,velocity:e=Oe.velocity,mass:r=Oe.mass}){let o,u,c=1-t;c=Gs(Oe.minDamping,Oe.maxDamping,c),i=Gs(Oe.minDuration,Oe.maxDuration,_i(i)),c<1?(o=v=>{const x=v*c,f=x*i,_=x-e,S=$m(v,c),E=Math.exp(-f);return dm-_/S*E},u=v=>{const f=v*c*i,_=f*e+e,S=Math.pow(c,2)*Math.pow(v,2)*i,E=Math.exp(-f),R=$m(Math.pow(v,2),c);return(-o(v)+dm>0?-1:1)*((_-S)*E)/R}):(o=v=>{const x=Math.exp(-v*i),f=(v-e)*i+1;return-dm+x*f},u=v=>{const x=Math.exp(-v*i),f=(e-v)*(i*i);return x*f});const p=5/i,g=J4(o,u,p);if(i=ys(i),isNaN(g))return{stiffness:Oe.stiffness,damping:Oe.damping,duration:i};{const v=Math.pow(g,2)*r;return{stiffness:v,damping:c*2*Math.sqrt(r*v),duration:i}}}const Z4=12;function J4(i,t,e){let r=e;for(let o=1;o<Z4;o++)r=r-i(r)/t(r);return r}function $m(i,t){return i*Math.sqrt(1-t*t)}const t5=["duration","bounce"],e5=["stiffness","damping","mass"];function Qb(i,t){return t.some(e=>i[e]!==void 0)}function n5(i){let t={velocity:Oe.velocity,stiffness:Oe.stiffness,damping:Oe.damping,mass:Oe.mass,isResolvedFromDuration:!1,...i};if(!Qb(i,e5)&&Qb(i,t5))if(i.visualDuration){const e=i.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Gs(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:Oe.mass,stiffness:o,damping:u}}else{const e=$4(i);t={...t,...e,mass:Oe.mass},t.isResolvedFromDuration=!0}return t}function dd(i=Oe.visualDuration,t=Oe.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],p={done:!1,value:u},{stiffness:g,damping:v,mass:x,duration:f,velocity:_,isResolvedFromDuration:S}=n5({...e,velocity:-_i(e.velocity||0)}),E=_||0,R=v/(2*Math.sqrt(g*x)),M=c-u,V=_i(Math.sqrt(g/x)),O=Math.abs(M)<5;r||(r=O?Oe.restSpeed.granular:Oe.restSpeed.default),o||(o=O?Oe.restDelta.granular:Oe.restDelta.default);let L;if(R<1){const et=$m(V,R);L=J=>{const j=Math.exp(-R*V*J);return c-j*((E+R*V*M)/et*Math.sin(et*J)+M*Math.cos(et*J))}}else if(R===1)L=et=>c-Math.exp(-V*et)*(M+(E+V*M)*et);else{const et=V*Math.sqrt(R*R-1);L=J=>{const j=Math.exp(-R*V*J),C=Math.min(et*J,300);return c-j*((E+R*V*M)*Math.sinh(C)+et*M*Math.cosh(C))/et}}const Y={calculatedDuration:S&&f||null,next:et=>{const J=L(et);if(S)p.done=et>=f;else{let j=et===0?E:0;R<1&&(j=et===0?ys(E):XA(L,et,J));const C=Math.abs(j)<=r,I=Math.abs(c-J)<=o;p.done=C&&I}return p.value=p.done?c:J,p},toString:()=>{const et=Math.min(Ay(Y),fd),J=KA(j=>Y.next(et*j).value,et,30);return et+"ms "+J},toTransition:()=>{}};return Y}dd.applyToOptions=i=>{const t=K4(i,100,dd);return i.ease=t.ease,i.duration=ys(t.duration),i.type="keyframes",i};function Zm({keyframes:i,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:p,max:g,restDelta:v=.5,restSpeed:x}){const f=i[0],_={done:!1,value:f},S=C=>p!==void 0&&C<p||g!==void 0&&C>g,E=C=>p===void 0?g:g===void 0||Math.abs(p-C)<Math.abs(g-C)?p:g;let R=e*t;const M=f+R,V=c===void 0?M:c(M);V!==M&&(R=V-f);const O=C=>-R*Math.exp(-C/r),L=C=>V+O(C),Y=C=>{const I=O(C),k=L(C);_.done=Math.abs(I)<=v,_.value=_.done?V:k};let et,J;const j=C=>{S(_.value)&&(et=C,J=dd({keyframes:[_.value,E(_.value)],velocity:XA(L,C,_.value),damping:o,stiffness:u,restDelta:v,restSpeed:x}))};return j(0),{calculatedDuration:null,next:C=>{let I=!1;return!J&&et===void 0&&(I=!0,Y(C),j(C)),et!==void 0&&C>=et?J.next(C-et):(!I&&Y(C),_)}}}function i5(i,t,e){const r=[],o=e||Ys.mix||WA,u=i.length-1;for(let c=0;c<u;c++){let p=o(i[c],i[c+1]);if(t){const g=Array.isArray(t)?t[c]||Ti:t;p=Yu(g,p)}r.push(p)}return r}function s5(i,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=i.length;if(my(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const p=i5(t,r,o),g=p.length,v=x=>{if(c&&x<i[0])return t[0];let f=0;if(g>1)for(;f<i.length-2&&!(x<i[f+1]);f++);const _=Ou(i[f],i[f+1],x);return p[f](_)};return e?x=>v(Gs(i[0],i[u-1],x)):v}function r5(i,t){const e=i[i.length-1];for(let r=1;r<=t;r++){const o=Ou(0,t,r);i.push(De(e,1,o))}}function a5(i){const t=[0];return r5(t,i.length-1),t}function o5(i,t){return i.map(e=>e*t)}function l5(i,t){return i.map(()=>t||kA).splice(0,i.length-1)}function bu({duration:i=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=_4(r)?r.map(Fb):Fb(r),u={done:!1,value:t[0]},c=o5(e&&e.length===t.length?e:a5(t),i),p=s5(c,t,{ease:Array.isArray(o)?o:l5(t,o)});return{calculatedDuration:i,next:g=>(u.value=p(g),u.done=g>=i,u)}}const u5=i=>i!==null;function Ey(i,{repeat:t,repeatType:e="loop"},r,o=1){const u=i.filter(u5),p=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!p||r===void 0?u[p]:r}const c5={decay:Zm,inertia:Zm,tween:bu,keyframes:bu,spring:dd};function $A(i){typeof i.type=="string"&&(i.type=c5[i.type])}class wy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const f5=i=>i/100;class Cy extends wy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$A(t);const{type:e=bu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:p}=t;const g=e||bu;g!==bu&&typeof p[0]!="number"&&(this.mixKeyframes=Yu(f5,WA(p[0],p[1])),p=[0,100]);const v=g({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...p].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Ay(v));const{calculatedDuration:x}=v;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=v}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:x,repeat:f,repeatType:_,repeatDelay:S,type:E,onUpdate:R,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const V=this.currentTime-v*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?V<0:V>o;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let L=this.currentTime,Y=r;if(f){const C=Math.min(this.currentTime,o)/p;let I=Math.floor(C),k=C%1;!k&&C>=1&&(k=1),k===1&&I--,I=Math.min(I,f+1),I%2&&(_==="reverse"?(k=1-k,S&&(k-=S/p)):_==="mirror"&&(Y=c)),L=Gs(0,1,k)*p}const et=O?{done:!1,value:x[0]}:Y.next(L);u&&(et.value=u(et.value));let{done:J}=et;!O&&g!==null&&(J=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return j&&E!==Zm&&(et.value=Ey(x,this.options,M,this.speed)),R&&R(et.value),j&&this.finish(),et}then(t,e){return this.finished.then(t,e)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){t=ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Hn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=W4,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function d5(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const Ia=i=>i*180/Math.PI,Jm=i=>{const t=Ia(Math.atan2(i[1],i[0]));return tg(t)},h5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Jm,rotateZ:Jm,skewX:i=>Ia(Math.atan(i[1])),skewY:i=>Ia(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},tg=i=>(i=i%360,i<0&&(i+=360),i),Wb=Jm,Kb=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),Xb=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),p5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kb,scaleY:Xb,scale:i=>(Kb(i)+Xb(i))/2,rotateX:i=>tg(Ia(Math.atan2(i[6],i[5]))),rotateY:i=>tg(Ia(Math.atan2(-i[2],i[0]))),rotateZ:Wb,rotate:Wb,skewX:i=>Ia(Math.atan(i[4])),skewY:i=>Ia(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function eg(i){return i.includes("scale")?1:0}function ng(i,t){if(!i||i==="none")return eg(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=p5,o=e;else{const p=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h5,o=p}if(!o)return eg(t);const u=r[t],c=o[1].split(",").map(g5);return typeof u=="function"?u(c):c[u]}const m5=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return ng(e,t)};function g5(i){return parseFloat(i.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(rl),$b=i=>i===sl||i===Ot,y5=new Set(["x","y","z"]),v5=rl.filter(i=>!y5.has(i));function _5(i){const t=[];return v5.forEach(e=>{const r=i.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Va={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>ng(t,"x"),y:(i,{transform:t})=>ng(t,"y")};Va.translateX=Va.x;Va.translateY=Va.y;const ja=new Set;let ig=!1,sg=!1,rg=!1;function ZA(){if(sg){const i=Array.from(ja).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=_5(r);o.length&&(e.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sg=!1,ig=!1,ja.forEach(i=>i.complete(rg)),ja.clear()}function JA(){ja.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(sg=!0)})}function x5(){rg=!0,JA(),ZA(),rg=!1}class Ry{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),ig||(ig=!0,Re.read(JA),Re.resolveKeyframes(ZA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const p=r.readValue(e,c);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}d5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b5=i=>i.startsWith("--");function T5(i,t,e){b5(t)?i.style.setProperty(t,e):i.style[t]=e}const S5=gy(()=>window.ScrollTimeline!==void 0),A5={};function E5(i,t){const e=gy(i);return()=>A5[t]??e()}const tE=E5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pu=([i,t,e,r])=>`cubic-bezier(${i}, ${t}, ${e}, ${r})`,Zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function eE(i,t){if(i)return typeof i=="function"?tE()?KA(i,t):"ease-out":LA(i)?pu(i):Array.isArray(i)?i.map(e=>eE(e,t)||Zb.easeOut):Zb[i]}function w5(i,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:p="easeOut",times:g}={},v=void 0){const x={[t]:e};g&&(x.offset=g);const f=eE(p,o);Array.isArray(f)&&(x.easing=f);const _={delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return v&&(_.pseudoElement=v),i.animate(x,_)}function nE(i){return typeof i=="function"&&"applyToOptions"in i}function C5({type:i,...t}){return nE(i)&&tE()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class R5 extends wy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:p,onComplete:g}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const v=C5(t);this.animation=w5(e,r,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=Ey(o,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):T5(e,r,x),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&S5()?(this.animation.timeline=t,Ti):e(this)}}const iE={anticipate:OA,backInOut:MA,circInOut:PA};function I5(i){return i in iE}function D5(i){typeof i.ease=="string"&&I5(i.ease)&&(i.ease=iE[i.ease])}const Jb=10;class V5 extends R5{constructor(t){D5(t),$A(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const p=new Cy({...c,autoplay:!1}),g=ys(this.finishedTime??this.time);e.setWithVelocity(p.sample(g-Jb).value,p.sample(g).value,Jb),p.stop()}}const t1=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ur.test(i)||i==="0")&&!i.startsWith("url("));function j5(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function M5(i,t,e,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=t1(o,t),p=t1(u,t);return!c||!p?!1:j5(i)||(e==="spring"||nE(e))&&r}function ag(i){i.duration=0,i.type="keyframes"}const O5=new Set(["opacity","clipPath","filter","transform"]),N5=gy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P5(i){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:v}=t.owner.getProps();return N5()&&e&&O5.has(e)&&(e!=="transform"||!v)&&!g&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const k5=40;class L5 extends wy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:p,name:g,motionValue:v,element:x,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const _={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:g,motionValue:v,element:x,...f},S=x?.KeyframeResolver||Ry;this.keyframeResolver=new S(p,(E,R,M)=>this.onKeyframesResolved(E,R,_,!M),g,v,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:p,delay:g,isHandoff:v,onUpdate:x}=r;this.resolvedAt=Hn.now(),M5(t,u,c,p)||((Ys.instantAnimations||!g)&&x?.(Ey(t,r,e)),t[0]=t[t.length-1],ag(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>k5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},S=!v&&P5(_)?new V5({..._,element:_.motionValue.owner.current}):new Cy(_);S.finished.then(()=>this.notifyFinished()).catch(Ti),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),x5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const B5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z5(i){const t=B5.exec(i);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function sE(i,t,e=1){const[r,o]=z5(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return EA(c)?parseFloat(c):c}return xy(o)?sE(o,t,e+1):o}function Iy(i,t){return i?.[t]??i?.default??i}const rE=new Set(["width","height","top","left","right","bottom",...rl]),U5={test:i=>i==="auto",parse:i=>i},aE=i=>t=>t.test(i),oE=[sl,Ot,vs,Er,j4,V4,U5],e1=i=>oE.find(aE(i));function F5(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||CA(i):!0}const H5=new Set(["brightness","contrast","saturate","opacity"]);function q5(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=e.match(by)||[];if(!r)return i;const o=e.replace(r,"");let u=H5.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const G5=/\b([a-z-]*)\(.*?\)/gu,og={...Ur,getAnimatableNone:i=>{const t=i.match(G5);return t?t.map(q5).join(" "):i}},n1={...sl,transform:Math.round},Y5={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:Er,skewX:Er,skewY:Er,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Nu,originX:Hb,originY:Hb,originZ:Ot},Dy={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...Y5,zIndex:n1,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:n1},Q5={...Dy,color:$e,backgroundColor:$e,outlineColor:$e,fill:$e,stroke:$e,borderColor:$e,borderTopColor:$e,borderRightColor:$e,borderBottomColor:$e,borderLeftColor:$e,filter:og,WebkitFilter:og},lE=i=>Q5[i];function uE(i,t){let e=lE(i);return e!==og&&(e=Ur),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const W5=new Set(["auto","none","0"]);function K5(i,t,e){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!W5.has(u)&&Pu(u).values.length&&(o=i[r]),r++}if(o&&e)for(const u of t)i[u]=uE(e,o)}class X5 extends Ry{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let v=t[g];if(typeof v=="string"&&(v=v.trim(),xy(v))){const x=sE(v,e.current);x!==void 0&&(t[g]=x),g===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!rE.has(r)||t.length!==2)return;const[o,u]=t,c=e1(o),p=e1(u);if(c!==p)if($b(c)&&$b(p))for(let g=0;g<t.length;g++){const v=t[g];typeof v=="string"&&(t[g]=parseFloat(v))}else Va[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||F5(t[o]))&&r.push(o);r.length&&K5(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Va[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function $5(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=e?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const cE=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function fE(i){return wA(i)&&"offsetHeight"in i}const i1=30,Z5=i=>!isNaN(parseFloat(i));class J5{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Hn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Z5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new yy);const r=this.events[t].add(e);return t==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>i1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,i1);return RA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(i,t){return new J5(i,t)}const{schedule:Vy}=BA(queueMicrotask,!1),Pi={x:!1,y:!1};function dE(){return Pi.x||Pi.y}function tM(i){return i==="x"||i==="y"?Pi[i]?null:(Pi[i]=!0,()=>{Pi[i]=!1}):Pi.x||Pi.y?null:(Pi.x=Pi.y=!0,()=>{Pi.x=Pi.y=!1})}function hE(i,t){const e=$5(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function s1(i){return!(i.pointerType==="touch"||dE())}function eM(i,t,e={}){const[r,o,u]=hE(i,e),c=p=>{if(!s1(p))return;const{target:g}=p,v=t(g,p);if(typeof v!="function"||!g)return;const x=f=>{s1(f)&&(v(f),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,o)};return r.forEach(p=>{p.addEventListener("pointerenter",c,o)}),u}const pE=(i,t)=>t?i===t?!0:pE(i,t.parentElement):!1,jy=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,nM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iM(i){return nM.has(i.tagName)||i.tabIndex!==-1}const Gf=new WeakSet;function r1(i){return t=>{t.key==="Enter"&&i(t)}}function hm(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sM=(i,t)=>{const e=i.currentTarget;if(!e)return;const r=r1(()=>{if(Gf.has(e))return;hm(e,"down");const o=r1(()=>{hm(e,"up")}),u=()=>hm(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function a1(i){return jy(i)&&!dE()}function rM(i,t,e={}){const[r,o,u]=hE(i,e),c=p=>{const g=p.currentTarget;if(!a1(p))return;Gf.add(g);const v=t(g,p),x=(S,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",_),Gf.has(g)&&Gf.delete(g),a1(S)&&typeof v=="function"&&v(S,{success:E})},f=S=>{x(S,g===window||g===document||e.useGlobalTarget||pE(g,S.target))},_=S=>{x(S,!1)};window.addEventListener("pointerup",f,o),window.addEventListener("pointercancel",_,o)};return r.forEach(p=>{(e.useGlobalTarget?window:p).addEventListener("pointerdown",c,o),fE(p)&&(p.addEventListener("focus",v=>sM(v,o)),!iM(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function mE(i){return wA(i)&&"ownerSVGElement"in i}function aM(i){return mE(i)&&i.tagName==="svg"}const wn=i=>!!(i&&i.getVelocity),oM=[...oE,$e,Ur],lM=i=>oM.find(aE(i)),My=q.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function o1(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function uM(...i){return t=>{let e=!1;const r=i.map(o=>{const u=o1(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():o1(i[o],null)}}}}function cM(...i){return q.useCallback(uM(...i),i)}class fM extends q.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=fE(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dM({children:i,isPresent:t,anchorX:e,root:r}){const o=q.useId(),u=q.useRef(null),c=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=q.useContext(My),g=cM(u,i?.ref);return q.useInsertionEffect(()=>{const{width:v,height:x,top:f,left:_,right:S}=c.current;if(t||!u.current||!v||!x)return;const E=e==="left"?`left: ${_}`:`right: ${S}`;u.current.dataset.motionPopId=o;const R=document.createElement("style");p&&(R.nonce=p);const M=r??document.head;return M.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${E}px !important;
            top: ${f}px !important;
          }
        `),()=>{M.contains(R)&&M.removeChild(R)}},[t]),y.jsx(fM,{isPresent:t,childRef:u,sizeRef:c,children:q.cloneElement(i,{ref:g})})}const hM=({children:i,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:p,root:g})=>{const v=zd(pM),x=q.useId();let f=!0,_=q.useMemo(()=>(f=!1,{id:x,initial:t,isPresent:e,custom:o,onExitComplete:S=>{v.set(S,!0);for(const E of v.values())if(!E)return;r&&r()},register:S=>(v.set(S,!1),()=>v.delete(S))}),[e,v,r]);return u&&f&&(_={..._}),q.useMemo(()=>{v.forEach((S,E)=>v.set(E,!1))},[e]),q.useEffect(()=>{!e&&!v.size&&r&&r()},[e]),c==="popLayout"&&(i=y.jsx(dM,{isPresent:e,anchorX:p,root:g,children:i})),y.jsx(Ud.Provider,{value:_,children:i})};function pM(){return new Map}function gE(i=!0){const t=q.useContext(Ud);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=q.useId();q.useEffect(()=>{if(i)return o(u)},[i]);const c=q.useCallback(()=>i&&r&&r(u),[u,r,i]);return!e&&r?[!1,c]:[!0]}const Mf=i=>i.key||"";function l1(i){const t=[];return q.Children.forEach(i,e=>{q.isValidElement(e)&&t.push(e)}),t}const pm=({children:i,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:p="left",root:g})=>{const[v,x]=gE(c),f=q.useMemo(()=>l1(i),[i]),_=c&&!v?[]:f.map(Mf),S=q.useRef(!0),E=q.useRef(f),R=zd(()=>new Map),[M,V]=q.useState(f),[O,L]=q.useState(f);dy(()=>{S.current=!1,E.current=f;for(let J=0;J<O.length;J++){const j=Mf(O[J]);_.includes(j)?R.delete(j):R.get(j)!==!0&&R.set(j,!1)}},[O,_.length,_.join("-")]);const Y=[];if(f!==M){let J=[...f];for(let j=0;j<O.length;j++){const C=O[j],I=Mf(C);_.includes(I)||(J.splice(j,0,C),Y.push(C))}return u==="wait"&&Y.length&&(J=Y),L(l1(J)),V(f),null}const{forceRender:et}=q.useContext(cy);return y.jsx(y.Fragment,{children:O.map(J=>{const j=Mf(J),C=c&&!v?!1:f===O||_.includes(j),I=()=>{if(R.has(j))R.set(j,!0);else return;let k=!0;R.forEach(B=>{B||(k=!1)}),k&&(et?.(),L(E.current),c&&x?.(),r&&r())};return y.jsx(hM,{isPresent:C,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:C?void 0:I,anchorX:p,children:J},j)})})},yE=q.createContext({strict:!1}),u1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const i in u1)Zo[i]={isEnabled:t=>u1[i].some(e=>!!t[e])};function mM(i){for(const t in i)Zo[t]={...Zo[t],...i[t]}}const gM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hd(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||gM.has(i)}let vE=i=>!hd(i);function yM(i){typeof i=="function"&&(vE=t=>t.startsWith("on")?!hd(t):i(t))}try{yM(require("@emotion/is-prop-valid").default)}catch{}function vM(i,t,e){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(vE(o)||e===!0&&hd(o)||!t&&!hd(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Fd=q.createContext({});function Hd(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function ku(i){return typeof i=="string"||Array.isArray(i)}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Oy];function qd(i){return Hd(i.animate)||Ny.some(t=>ku(i[t]))}function _E(i){return!!(qd(i)||i.variants)}function _M(i,t){if(qd(i)){const{initial:e,animate:r}=i;return{initial:e===!1||ku(e)?e:void 0,animate:ku(r)?r:void 0}}return i.inherit!==!1?t:{}}function xM(i){const{initial:t,animate:e}=_M(i,q.useContext(Fd));return q.useMemo(()=>({initial:t,animate:e}),[c1(t),c1(e)])}function c1(i){return Array.isArray(i)?i.join(" "):i}function f1(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const uu={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Ot.test(i))i=parseFloat(i);else return i;const e=f1(i,t.target.x),r=f1(i,t.target.y);return`${e}% ${r}%`}},bM={correct:(i,{treeScale:t,projectionDelta:e})=>{const r=i,o=Ur.parse(i);if(o.length>5)return r;const u=Ur.createTransformer(i),c=typeof o[0]!="number"?1:0,p=e.x.scale*t.x,g=e.y.scale*t.y;o[0+c]/=p,o[1+c]/=g;const v=De(p,g,.5);return typeof o[2+c]=="number"&&(o[2+c]/=v),typeof o[3+c]=="number"&&(o[3+c]/=v),u(o)}},lg={borderRadius:{...uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uu,borderTopRightRadius:uu,borderBottomLeftRadius:uu,borderBottomRightRadius:uu,boxShadow:bM};function xE(i,{layout:t,layoutId:e}){return al.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!lg[i]||i==="opacity")}const TM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SM=rl.length;function AM(i,t,e){let r="",o=!0;for(let u=0;u<SM;u++){const c=rl[u],p=i[c];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(c.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||e){const v=cE(p,Dy[c]);if(!g){o=!1;const x=TM[c]||c;r+=`${x}(${v}) `}e&&(t[c]=v)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Py(i,t,e){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,p=!1;for(const g in t){const v=t[g];if(al.has(g)){c=!0;continue}else if(UA(g)){o[g]=v;continue}else{const x=cE(v,Dy[g]);g.startsWith("origin")?(p=!0,u[g]=x):r[g]=x}}if(t.transform||(c||e?r.transform=AM(t,i.transform,e):r.transform&&(r.transform="none")),p){const{originX:g="50%",originY:v="50%",originZ:x=0}=u;r.transformOrigin=`${g} ${v} ${x}`}}const ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bE(i,t,e){for(const r in t)!wn(t[r])&&!xE(r,e)&&(i[r]=t[r])}function EM({transformTemplate:i},t){return q.useMemo(()=>{const e=ky();return Py(e,t,i),Object.assign({},e.vars,e.style)},[t])}function wM(i,t){const e=i.style||{},r={};return bE(r,e,i),Object.assign(r,EM(i,t)),r}function CM(i,t){const e={},r=wM(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=r,e}const RM={offset:"stroke-dashoffset",array:"stroke-dasharray"},IM={offset:"strokeDashoffset",array:"strokeDasharray"};function DM(i,t,e=1,r=0,o=!0){i.pathLength=1;const u=o?RM:IM;i[u.offset]=Ot.transform(-r);const c=Ot.transform(t),p=Ot.transform(e);i[u.array]=`${c} ${p}`}function TE(i,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...p},g,v,x){if(Py(i,p,v),g){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:f,style:_}=i;f.transform&&(_.transform=f.transform,delete f.transform),(_.transform||f.transformOrigin)&&(_.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),_.transform&&(_.transformBox=x?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),e!==void 0&&(f.y=e),r!==void 0&&(f.scale=r),o!==void 0&&DM(f,o,u,c,!1)}const SE=()=>({...ky(),attrs:{}}),AE=i=>typeof i=="string"&&i.toLowerCase()==="svg";function VM(i,t,e,r){const o=q.useMemo(()=>{const u=SE();return TE(u,t,AE(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};bE(u,i.style,i),o.style={...u,...o.style}}return o}const jM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ly(i){return typeof i!="string"||i.includes("-")?!1:!!(jM.indexOf(i)>-1||/[A-Z]/u.test(i))}function MM(i,t,e,{latestValues:r},o,u=!1){const p=(Ly(i)?VM:CM)(t,r,o,i),g=vM(t,typeof i=="string",u),v=i!==q.Fragment?{...g,...p,ref:e}:{},{children:x}=t,f=q.useMemo(()=>wn(x)?x.get():x,[x]);return q.createElement(i,{...v,children:f})}function d1(i){const t=[{},{}];return i?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function By(i,t,e,r){if(typeof t=="function"){const[o,u]=d1(r);t=t(e!==void 0?e:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=d1(r);t=t(e!==void 0?e:i.custom,o,u)}return t}function Yf(i){return wn(i)?i.get():i}function OM({scrapeMotionValuesFromProps:i,createRenderState:t},e,r,o){return{latestValues:NM(e,r,o,i),renderState:t()}}function NM(i,t,e,r){const o={},u=r(i,{});for(const _ in u)o[_]=Yf(u[_]);let{initial:c,animate:p}=i;const g=qd(i),v=_E(i);t&&v&&!g&&i.inherit!==!1&&(c===void 0&&(c=t.initial),p===void 0&&(p=t.animate));let x=e?e.initial===!1:!1;x=x||c===!1;const f=x?p:c;if(f&&typeof f!="boolean"&&!Hd(f)){const _=Array.isArray(f)?f:[f];for(let S=0;S<_.length;S++){const E=By(i,_[S]);if(E){const{transitionEnd:R,transition:M,...V}=E;for(const O in V){let L=V[O];if(Array.isArray(L)){const Y=x?L.length-1:0;L=L[Y]}L!==null&&(o[O]=L)}for(const O in R)o[O]=R[O]}}}return o}const EE=i=>(t,e)=>{const r=q.useContext(Fd),o=q.useContext(Ud),u=()=>OM(i,t,r,o);return e?u():zd(u)};function zy(i,t,e){const{style:r}=i,o={};for(const u in r)(wn(r[u])||t.style&&wn(t.style[u])||xE(u,i)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const PM=EE({scrapeMotionValuesFromProps:zy,createRenderState:ky});function wE(i,t,e){const r=zy(i,t,e);for(const o in i)if(wn(i[o])||wn(t[o])){const u=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const kM=EE({scrapeMotionValuesFromProps:wE,createRenderState:SE}),LM=Symbol.for("motionComponentSymbol");function Po(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function BM(i,t,e){return q.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Po(e)&&(e.current=r))},[t])}const Uy=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zM="framerAppearId",CE="data-"+Uy(zM),RE=q.createContext({});function UM(i,t,e,r,o){const{visualElement:u}=q.useContext(Fd),c=q.useContext(yE),p=q.useContext(Ud),g=q.useContext(My).reducedMotion,v=q.useRef(null);r=r||c.renderer,!v.current&&r&&(v.current=r(i,{visualState:t,parent:u,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,f=q.useContext(RE);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&FM(v.current,e,o,f);const _=q.useRef(!1);q.useInsertionEffect(()=>{x&&_.current&&x.update(e,p)});const S=e[CE],E=q.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return dy(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),E.current&&x.animationState&&x.animationState.animateChanges())}),q.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),E.current=!1),x.enteringChildren=void 0)}),x}function FM(i,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:p,layoutScroll:g,layoutRoot:v,layoutCrossfade:x}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:IE(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||p&&Po(p),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:g,layoutRoot:v})}function IE(i){if(i)return i.options.allowProjection!==!1?i.projection:IE(i.parent)}function mm(i,{forwardMotionProps:t=!1}={},e,r){e&&mM(e);const o=Ly(i)?kM:PM;function u(p,g){let v;const x={...q.useContext(My),...p,layoutId:HM(p)},{isStatic:f}=x,_=xM(p),S=o(p,f);if(!f&&fy){qM();const E=GM(x);v=E.MeasureLayout,_.visualElement=UM(i,S,x,r,E.ProjectionNode)}return y.jsxs(Fd.Provider,{value:_,children:[v&&_.visualElement?y.jsx(v,{visualElement:_.visualElement,...x}):null,MM(i,p,BM(S,_.visualElement,g),S,f,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=q.forwardRef(u);return c[LM]=i,c}function HM({layoutId:i}){const t=q.useContext(cy).id;return t&&i!==void 0?t+"-"+i:i}function qM(i,t){q.useContext(yE).strict}function GM(i){const{drag:t,layout:e}=Zo;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function YM(i,t){if(typeof Proxy>"u")return mm;const e=new Map,r=(u,c)=>mm(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,mm(c,void 0,i,t)),e.get(c))})}function DE({top:i,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:i,max:r}}}function QM({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function WM(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function gm(i){return i===void 0||i===1}function ug({scale:i,scaleX:t,scaleY:e}){return!gm(i)||!gm(t)||!gm(e)}function Aa(i){return ug(i)||VE(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function VE(i){return h1(i.x)||h1(i.y)}function h1(i){return i&&i!=="0%"}function pd(i,t,e){const r=i-e,o=t*r;return e+o}function p1(i,t,e,r,o){return o!==void 0&&(i=pd(i,o,r)),pd(i,e,r)+t}function cg(i,t=0,e=1,r,o){i.min=p1(i.min,t,e,r,o),i.max=p1(i.max,t,e,r,o)}function jE(i,{x:t,y:e}){cg(i.x,t.translate,t.scale,t.originPoint),cg(i.y,e.translate,e.scale,e.originPoint)}const m1=.999999999999,g1=1.0000000000001;function KM(i,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let p=0;p<o;p++){u=e[p],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lo(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,jE(i,c)),r&&Aa(u.latestValues)&&Lo(i,u.latestValues))}t.x<g1&&t.x>m1&&(t.x=1),t.y<g1&&t.y>m1&&(t.y=1)}function ko(i,t){i.min=i.min+t,i.max=i.max+t}function y1(i,t,e,r,o=.5){const u=De(i.min,i.max,o);cg(i,t,e,u,r)}function Lo(i,t){y1(i.x,t.x,t.scaleX,t.scale,t.originX),y1(i.y,t.y,t.scaleY,t.scale,t.originY)}function ME(i,t){return DE(WM(i.getBoundingClientRect(),t))}function XM(i,t,e){const r=ME(i,e),{scroll:o}=t;return o&&(ko(r.x,o.offset.x),ko(r.y,o.offset.y)),r}const v1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:v1(),y:v1()}),_1=()=>({min:0,max:0}),en=()=>({x:_1(),y:_1()}),fg={current:null},OE={current:!1};function $M(){if(OE.current=!0,!!fy)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>fg.current=i.matches;i.addEventListener("change",t),t()}else fg.current=!1}const ZM=new WeakMap;function JM(i,t,e){for(const r in t){const o=t[r],u=e[r];if(wn(o))i.addValue(r,o);else if(wn(u))i.addValue(r,$o(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,$o(c!==void 0?c:o,{owner:i}))}}for(const r in e)t[r]===void 0&&i.removeValue(r);return t}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t3{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ry,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Hn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Re.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=e.initial?{...g}:{},this.renderState=v,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=qd(e),this.isVariantNode=_E(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in f){const S=f[_];g[_]!==void 0&&wn(S)&&S.set(g[_])}}mount(t){this.current=t,ZM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),OE.current||$M(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=al.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const e=Zo[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<x1.length;r++){const o=x1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=JM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=$o(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(EA(r)||CA(r))?r=parseFloat(r):!lM(r)&&Ur.test(e)&&(r=uE(t,e)),this.setBaseTarget(t,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=By(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!wn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new yy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Vy.render(this.render)}}class NE extends t3{constructor(){super(...arguments),this.KeyframeResolver=X5}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function PE(i,{style:t,vars:e},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function e3(i){return window.getComputedStyle(i)}class n3 extends NE{constructor(){super(...arguments),this.type="html",this.renderInstance=PE}readValueFromInstance(t,e){if(al.has(e))return this.projection?.isProjecting?eg(e):m5(t,e);{const r=e3(t),o=(UA(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ME(t,e)}build(t,e,r){Py(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return zy(t,e,r)}}const kE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i3(i,t,e,r){PE(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(kE.has(o)?o:Uy(o),t.attrs[o])}class s3 extends NE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(al.has(e)){const r=lE(e);return r&&r.default||0}return e=kE.has(e)?e:Uy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return wE(t,e,r)}build(t,e,r){TE(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){i3(t,e,r,o)}mount(t){this.isSVGTag=AE(t.tagName),super.mount(t)}}const r3=(i,t)=>Ly(i)?new s3(t):new n3(t,{allowProjection:i!==q.Fragment});function qo(i,t,e){const r=i.getProps();return By(r,t,e!==void 0?e:r.custom,i)}const dg=i=>Array.isArray(i);function a3(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,$o(e))}function o3(i){return dg(i)?i[i.length-1]||0:i}function Fy(i,t){const e=qo(i,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const p=o3(u[c]);a3(i,c,p)}}function l3(i){return!!(wn(i)&&i.add)}function hg(i,t){const e=i.getValue("willChange");if(l3(e))return e.add(t);if(!e&&Ys.WillChange){const r=new Ys.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function LE(i){return i.props[CE]}const u3=i=>i!==null;function c3(i,{repeat:t,repeatType:e="loop"},r){const o=i.filter(u3),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const f3={type:"spring",stiffness:500,damping:25,restSpeed:10},d3=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),h3={type:"keyframes",duration:.8},p3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m3=(i,{keyframes:t})=>t.length>2?h3:al.has(i)?i.startsWith("scale")?d3(t[1]):f3:p3;function g3({when:i,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:p,from:g,elapsed:v,...x}){return!!Object.keys(x).length}const Hy=(i,t,e,r={},o,u)=>c=>{const p=Iy(r,i)||{},g=p.delay||r.delay||0;let{elapsed:v=0}=r;v=v-ys(g);const x={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-v,onUpdate:_=>{t.set(_),p.onUpdate&&p.onUpdate(_)},onComplete:()=>{c(),p.onComplete&&p.onComplete()},name:i,motionValue:t,element:u?void 0:o};g3(p)||Object.assign(x,m3(i,x)),x.duration&&(x.duration=ys(x.duration)),x.repeatDelay&&(x.repeatDelay=ys(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let f=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(ag(x),x.delay===0&&(f=!0)),(Ys.instantAnimations||Ys.skipAnimations)&&(f=!0,ag(x),x.delay=0),x.allowFlatten=!p.type&&!p.ease,f&&!u&&t.get()!==void 0){const _=c3(x.keyframes,p);if(_!==void 0){Re.update(()=>{x.onUpdate(_),x.onComplete()});return}}return p.isSync?new Cy(x):new L5(x)};function y3({protectedKeys:i,needsAnimating:t},e){const r=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function BE(i,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...p}=t;r&&(u=r);const g=[],v=o&&i.animationState&&i.animationState.getState()[o];for(const x in p){const f=i.getValue(x,i.latestValues[x]??null),_=p[x];if(_===void 0||v&&y3(v,x))continue;const S={delay:e,...Iy(u||{},x)},E=f.get();if(E!==void 0&&!f.isAnimating&&!Array.isArray(_)&&_===E&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const V=LE(i);if(V){const O=window.MotionHandoffAnimation(V,x,Re);O!==null&&(S.startTime=O,R=!0)}}hg(i,x),f.start(Hy(x,f,_,i.shouldReduceMotion&&rE.has(x)?{type:!1}:S,i,R));const M=f.animation;M&&g.push(M)}return c&&Promise.all(g).then(()=>{Re.update(()=>{c&&Fy(i,c)})}),g}function zE(i,t,e,r=0,o=1){const u=Array.from(i).sort((v,x)=>v.sortNodePosition(x)).indexOf(t),c=i.size,p=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:p-u*r}function pg(i,t,e={}){const r=qo(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(BE(i,r,e)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:f}=o;return v3(i,t,g,v,x,f,e)}:()=>Promise.resolve(),{when:p}=o;if(p){const[g,v]=p==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function v3(i,t,e=0,r=0,o=0,u=1,c){const p=[];for(const g of i.variantChildren)g.notify("AnimationStart",t),p.push(pg(g,t,{...c,delay:e+(typeof r=="function"?0:r)+zE(i.variantChildren,g,r,o,u)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(p)}function UE(i,t,e={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>pg(i,u,e));r=Promise.all(o)}else if(typeof t=="string")r=pg(i,t,e);else{const o=typeof t=="function"?qo(i,t,e.custom):t;r=Promise.all(BE(i,o,e))}return r.then(()=>{i.notify("AnimationComplete",t)})}function FE(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let r=0;r<e;r++)if(t[r]!==i[r])return!1;return!0}const _3=Ny.length;function HE(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?HE(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<_3;e++){const r=Ny[e],o=i.props[r];(ku(o)||o===!1)&&(t[r]=o)}return t}const x3=[...Oy].reverse(),b3=Oy.length;function T3(i){return t=>Promise.all(t.map(({animation:e,options:r})=>UE(i,e,r)))}function S3(i){let t=T3(i),e=b1(),r=!0;const o=g=>(v,x)=>{const f=qo(i,x,g==="exit"?i.presenceContext?.custom:void 0);if(f){const{transition:_,transitionEnd:S,...E}=f;v={...v,...E,...S}}return v};function u(g){t=g(i)}function c(g){const{props:v}=i,x=HE(i.parent)||{},f=[],_=new Set;let S={},E=1/0;for(let M=0;M<b3;M++){const V=x3[M],O=e[V],L=v[V]!==void 0?v[V]:x[V],Y=ku(L),et=V===g?O.isActive:null;et===!1&&(E=M);let J=L===x[V]&&L!==v[V]&&Y;if(J&&r&&i.manuallyAnimateOnMount&&(J=!1),O.protectedKeys={...S},!O.isActive&&et===null||!L&&!O.prevProp||Hd(L)||typeof L=="boolean")continue;const j=A3(O.prevProp,L);let C=j||V===g&&O.isActive&&!J&&Y||M>E&&Y,I=!1;const k=Array.isArray(L)?L:[L];let B=k.reduce(o(V),{});et===!1&&(B={});const{prevResolvedValues:U={}}=O,N={...U,...B},Ct=X=>{C=!0,_.has(X)&&(I=!0,_.delete(X)),O.needsAnimating[X]=!0;const ct=i.getValue(X);ct&&(ct.liveStyle=!1)};for(const X in N){const ct=B[X],F=U[X];if(S.hasOwnProperty(X))continue;let at=!1;dg(ct)&&dg(F)?at=!FE(ct,F):at=ct!==F,at?ct!=null?Ct(X):_.add(X):ct!==void 0&&_.has(X)?Ct(X):O.protectedKeys[X]=!0}O.prevProp=L,O.prevResolvedValues=B,O.isActive&&(S={...S,...B}),r&&i.blockInitialAnimation&&(C=!1);const Ft=J&&j;C&&(!Ft||I)&&f.push(...k.map(X=>{const ct={type:V};if(typeof X=="string"&&r&&!Ft&&i.manuallyAnimateOnMount&&i.parent){const{parent:F}=i,at=qo(F,X);if(F.enteringChildren&&at){const{delayChildren:P}=at.transition||{};ct.delay=zE(F.enteringChildren,i,P)}}return{animation:X,options:ct}}))}if(_.size){const M={};if(typeof v.initial!="boolean"){const V=qo(i,Array.isArray(v.initial)?v.initial[0]:v.initial);V&&V.transition&&(M.transition=V.transition)}_.forEach(V=>{const O=i.getBaseTarget(V),L=i.getValue(V);L&&(L.liveStyle=!0),M[V]=O??null}),f.push({animation:M})}let R=!!f.length;return r&&(v.initial===!1||v.initial===v.animate)&&!i.manuallyAnimateOnMount&&(R=!1),r=!1,R?t(f):Promise.resolve()}function p(g,v){if(e[g].isActive===v)return Promise.resolve();i.variantChildren?.forEach(f=>f.animationState?.setActive(g,v)),e[g].isActive=v;const x=c(g);for(const f in e)e[f].protectedKeys={};return x}return{animateChanges:c,setActive:p,setAnimateFunction:u,getState:()=>e,reset:()=>{e=b1()}}}function A3(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!FE(t,i):!1}function ba(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b1(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class E3 extends Yr{constructor(t){super(t),t.animationState||(t.animationState=S3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let w3=0;class C3 extends Yr{constructor(){super(...arguments),this.id=w3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const R3={animation:{Feature:E3},exit:{Feature:C3}};function Lu(i,t,e,r={passive:!0}){return i.addEventListener(t,e,r),()=>i.removeEventListener(t,e)}function Ku(i){return{point:{x:i.pageX,y:i.pageY}}}const I3=i=>t=>jy(t)&&i(t,Ku(t));function Tu(i,t,e,r){return Lu(i,t,I3(e),r)}const qE=1e-4,D3=1-qE,V3=1+qE,GE=.01,j3=0-GE,M3=0+GE;function In(i){return i.max-i.min}function O3(i,t,e){return Math.abs(i-t)<=e}function T1(i,t,e,r=.5){i.origin=r,i.originPoint=De(t.min,t.max,i.origin),i.scale=In(e)/In(t),i.translate=De(e.min,e.max,i.origin)-i.originPoint,(i.scale>=D3&&i.scale<=V3||isNaN(i.scale))&&(i.scale=1),(i.translate>=j3&&i.translate<=M3||isNaN(i.translate))&&(i.translate=0)}function Su(i,t,e,r){T1(i.x,t.x,e.x,r?r.originX:void 0),T1(i.y,t.y,e.y,r?r.originY:void 0)}function S1(i,t,e){i.min=e.min+t.min,i.max=i.min+In(t)}function N3(i,t,e){S1(i.x,t.x,e.x),S1(i.y,t.y,e.y)}function A1(i,t,e){i.min=t.min-e.min,i.max=i.min+In(t)}function md(i,t,e){A1(i.x,t.x,e.x),A1(i.y,t.y,e.y)}function yi(i){return[i("x"),i("y")]}const YE=({current:i})=>i?i.ownerDocument.defaultView:null,E1=(i,t)=>Math.abs(i-t);function P3(i,t){const e=E1(i.x,t.x),r=E1(i.y,t.y);return Math.sqrt(e**2+r**2)}class QE{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=vm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,E=P3(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!E)return;const{point:R}=_,{timestamp:M}=yn;this.history.push({...R,timestamp:M});const{onStart:V,onMove:O}=this.handlers;S||(V&&V(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=ym(S,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:E,onSessionEnd:R,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=vm(_.type==="pointercancel"?this.lastMoveEventInfo:ym(S,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,V),R&&R(_,V)},!jy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Ku(t),g=ym(p,this.transformPagePoint),{point:v}=g,{timestamp:x}=yn;this.history=[{...v,timestamp:x}];const{onSessionStart:f}=e;f&&f(t,vm(g,this.history)),this.removeListeners=Yu(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function ym(i,t){return t?{point:t(i.point)}:i}function w1(i,t){return{x:i.x-t.x,y:i.y-t.y}}function vm({point:i},t){return{point:i,delta:w1(i,WE(t)),offset:w1(i,k3(t)),velocity:L3(t,.1)}}function k3(i){return i[0]}function WE(i){return i[i.length-1]}function L3(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,r=null;const o=WE(i);for(;e>=0&&(r=i[e],!(o.timestamp-r.timestamp>ys(t)));)e--;if(!r)return{x:0,y:0};const u=_i(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function B3(i,{min:t,max:e},r){return t!==void 0&&i<t?i=r?De(t,i,r.min):Math.max(i,t):e!==void 0&&i>e&&(i=r?De(e,i,r.max):Math.min(i,e)),i}function C1(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function z3(i,{top:t,left:e,bottom:r,right:o}){return{x:C1(i.x,e,o),y:C1(i.y,t,r)}}function R1(i,t){let e=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,r]=[r,e]),{min:e,max:r}}function U3(i,t){return{x:R1(i.x,t.x),y:R1(i.y,t.y)}}function F3(i,t){let e=.5;const r=In(i),o=In(t);return o>r?e=Ou(t.min,t.max-r,i.min):r>o&&(e=Ou(i.min,i.max-o,t.min)),Gs(0,1,e)}function H3(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const mg=.35;function q3(i=mg){return i===!1?i=0:i===!0&&(i=mg),{x:I1(i,"left","right"),y:I1(i,"top","bottom")}}function I1(i,t,e){return{min:D1(i,t),max:D1(i,e)}}function D1(i,t){return typeof i=="number"?i:i[t]||0}const G3=new WeakMap;class Y3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=f=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Ku(f).point)},c=(f,_)=>{const{drag:S,dragPropagation:E,onDragStart:R}=this.getProps();if(S&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tM(S),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(V=>{let O=this.getAxisMotionValue(V).get()||0;if(vs.test(O)){const{projection:L}=this.visualElement;if(L&&L.layout){const Y=L.layout.layoutBox[V];Y&&(O=In(Y)*(parseFloat(O)/100))}}this.originPoint[V]=O}),R&&Re.postRender(()=>R(f,_)),hg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},p=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:E,onDirectionLock:R,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:V}=_;if(E&&this.currentDirection===null){this.currentDirection=Q3(V),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),M&&M(f,_)},g=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_,this.stop(f,_),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>yi(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new QE(t,{onSessionStart:u,onStart:c,onMove:p,onSessionEnd:g,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:r,contextWindow:YE(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:p}=this.getProps();p&&Re.postRender(()=>p(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Of(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=B3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=z3(r.layoutBox,t):this.constraints=!1,this.elastic=q3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=H3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Po(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=XM(r,o.root,this.visualElement.getTransformPagePoint());let c=U3(o.layout.layoutBox,u);if(e){const p=e(QM(c));this.hasMutatedConstraints=!!p,p&&(c=DE(p))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},v=yi(x=>{if(!Of(x,e,this.currentDirection))return;let f=g&&g[x]||{};c&&(f={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?t[x]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...f};return this.startAxisValueAnimation(x,E)});return Promise.all(v).then(p)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return hg(this.visualElement,t),r.start(Hy(t,r,0,e,this.visualElement,!1))}stopAnimation(){yi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yi(e=>{const{drag:r}=this.getProps();if(!Of(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:p}=o.layout.layoutBox[e];u.set(t[e]-De(c,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Po(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};yi(c=>{const p=this.getAxisMotionValue(c);if(p&&this.constraints!==!1){const g=p.get();o[c]=F3({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yi(c=>{if(!Of(c,t,null))return;const p=this.getAxisMotionValue(c),{min:g,max:v}=this.constraints[c];p.set(De(g,v,o[c]))})}addListeners(){if(!this.visualElement.current)return;G3.set(this.visualElement,this);const t=this.visualElement.current,e=Tu(t,"pointerdown",g=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Po(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Re.read(r);const c=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(yi(x=>{const f=this.getAxisMotionValue(x);f&&(this.originPoint[x]+=g[x].translate,f.set(f.get()+g[x].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=mg,dragMomentum:p=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:p}}}function Of(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function Q3(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class W3 extends Yr{constructor(t){super(t),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new Y3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const V1=i=>(t,e)=>{i&&Re.postRender(()=>i(t,e))};class K3 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(t){this.session=new QE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:V1(t),onStart:V1(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Re.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let _m=!1;class X3 extends q.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),_m&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,_m=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Re.postRender(()=>{const p=c.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;_m=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KE(i){const[t,e]=gE(),r=q.useContext(cy);return y.jsx(X3,{...i,layoutGroup:r,switchLayoutGroup:q.useContext(RE),isPresent:t,safeToRemove:e})}function $3(i,t,e){const r=wn(i)?i:$o(i);return r.start(Hy("",r,t,e)),r.animation}const Z3=(i,t)=>i.depth-t.depth;class J3{constructor(){this.children=[],this.isDirty=!1}add(t){hy(this.children,t),this.isDirty=!0}remove(t){py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z3),this.isDirty=!1,this.children.forEach(t)}}function tO(i,t){const e=Hn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(zr(r),i(u-t))};return Re.setup(r,!0),()=>zr(r)}const XE=["TopLeft","TopRight","BottomLeft","BottomRight"],eO=XE.length,j1=i=>typeof i=="string"?parseFloat(i):i,M1=i=>typeof i=="number"||Ot.test(i);function nO(i,t,e,r,o,u){o?(i.opacity=De(0,e.opacity??1,iO(r)),i.opacityExit=De(t.opacity??1,0,sO(r))):u&&(i.opacity=De(t.opacity??1,e.opacity??1,r));for(let c=0;c<eO;c++){const p=`border${XE[c]}Radius`;let g=O1(t,p),v=O1(e,p);if(g===void 0&&v===void 0)continue;g||(g=0),v||(v=0),g===0||v===0||M1(g)===M1(v)?(i[p]=Math.max(De(j1(g),j1(v),r),0),(vs.test(v)||vs.test(g))&&(i[p]+="%")):i[p]=v}(t.rotate||e.rotate)&&(i.rotate=De(t.rotate||0,e.rotate||0,r))}function O1(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const iO=$E(0,.5,NA),sO=$E(.5,.95,Ti);function $E(i,t,e){return r=>r<i?0:r>t?1:e(Ou(i,t,r))}function N1(i,t){i.min=t.min,i.max=t.max}function Ni(i,t){N1(i.x,t.x),N1(i.y,t.y)}function P1(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function k1(i,t,e,r,o){return i-=t,i=pd(i,1/e,r),o!==void 0&&(i=pd(i,1/o,r)),i}function rO(i,t=0,e=1,r=.5,o,u=i,c=i){if(vs.test(t)&&(t=parseFloat(t),t=De(c.min,c.max,t/100)-c.min),typeof t!="number")return;let p=De(u.min,u.max,r);i===u&&(p-=t),i.min=k1(i.min,t,e,p,o),i.max=k1(i.max,t,e,p,o)}function L1(i,t,[e,r,o],u,c){rO(i,t[e],t[r],t[o],t.scale,u,c)}const aO=["x","scaleX","originX"],oO=["y","scaleY","originY"];function B1(i,t,e,r){L1(i.x,t,aO,e?e.x:void 0,r?r.x:void 0),L1(i.y,t,oO,e?e.y:void 0,r?r.y:void 0)}function z1(i){return i.translate===0&&i.scale===1}function ZE(i){return z1(i.x)&&z1(i.y)}function U1(i,t){return i.min===t.min&&i.max===t.max}function lO(i,t){return U1(i.x,t.x)&&U1(i.y,t.y)}function F1(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function JE(i,t){return F1(i.x,t.x)&&F1(i.y,t.y)}function H1(i){return In(i.x)/In(i.y)}function q1(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class uO{constructor(){this.members=[]}add(t){hy(this.members,t),t.scheduleRender()}remove(t){if(py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cO(i,t,e){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:v,rotate:x,rotateX:f,rotateY:_,skewX:S,skewY:E}=e;v&&(r=`perspective(${v}px) ${r}`),x&&(r+=`rotate(${x}deg) `),f&&(r+=`rotateX(${f}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const p=i.x.scale*t.x,g=i.y.scale*t.y;return(p!==1||g!==1)&&(r+=`scale(${p}, ${g})`),r||"none"}const xm=["","X","Y","Z"],fO=1e3;let dO=0;function bm(i,t,e,r){const{latestValues:o}=t;o[i]&&(e[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function tw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=LE(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",Re,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&tw(r)}function ew({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},p=t?.()){this.id=dO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mO),this.nodes.forEach(_O),this.nodes.forEach(xO),this.nodes.forEach(gO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new J3)}addEventListener(c,p){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new yy),this.eventHandlers.get(c).add(p)}notifyListeners(c,...p){const g=this.eventHandlers.get(c);g&&g.notify(...p)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=mE(c)&&!aM(c),this.instance=c;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),i){let x,f=0;const _=()=>this.root.updateBlockedByResize=!1;Re.read(()=>{f=window.innerWidth}),i(c,()=>{const S=window.innerWidth;S!==f&&(f=S,this.root.updateBlockedByResize=!0,x&&x(),x=tO(_,250),Qf.hasAnimatedSinceResize&&(Qf.hasAnimatedSinceResize=!1,this.nodes.forEach(Q1)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:f,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||v.getDefaultTransition()||EO,{onLayoutAnimationStart:R,onLayoutAnimationComplete:M}=v.getProps(),V=!this.targetLayout||!JE(this.targetLayout,S),O=!f&&_;if(this.options.layoutRoot||this.resumeFrom||O||f&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...Iy(E,"layout"),onPlay:R,onComplete:M};(v.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(x,O)}else f||Q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const f=this.path[x];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Y1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vO),this.nodes.forEach(hO),this.nodes.forEach(pO)):this.nodes.forEach(Y1),this.clearAllSnapshots();const p=Hn.now();yn.delta=Gs(0,1e3/60,p-yn.timestamp),yn.timestamp=p,yn.isProcessing=!0,lm.update.process(yn),lm.preRender.process(yn),lm.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yO),this.sharedNodes.forEach(TO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(p=!1),p&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!ZE(this.projectionDelta),g=this.getTransformTemplate(),v=g?g(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;c&&this.instance&&(p||Aa(this.latestValues)||x)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return c&&(g=this.removeTransform(g)),wO(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return en();const p=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(CO))){const{scroll:v}=this.root;v&&(ko(p.x,v.offset.x),ko(p.y,v.offset.y))}return p}removeElementScroll(c){const p=en();if(Ni(p,c),this.scroll?.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:x,options:f}=v;v!==this.root&&x&&f.layoutScroll&&(x.wasRoot&&Ni(p,c),ko(p.x,x.offset.x),ko(p.y,x.offset.y))}return p}applyTransform(c,p=!1){const g=en();Ni(g,c);for(let v=0;v<this.path.length;v++){const x=this.path[v];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Lo(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Aa(x.latestValues)&&Lo(g,x.latestValues)}return Aa(this.latestValues)&&Lo(g,this.latestValues),g}removeTransform(c){const p=en();Ni(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];if(!v.instance||!Aa(v.latestValues))continue;ug(v.latestValues)&&v.updateSnapshot();const x=en(),f=v.measurePageBox();Ni(x,f),B1(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return Aa(this.latestValues)&&B1(p,this.latestValues),p}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:f}=this.options;if(!this.layout||!(x||f))return;this.resolvedRelativeTargetAt=yn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),jE(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ug(this.parent.latestValues)||VE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,p,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),md(this.relativeTargetOrigin,p,g),Ni(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),p=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(g=!1),g)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;Ni(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,_=this.treeScale.y;KM(this.layoutCorrected,this.treeScale,this.path,p),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=en());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P1(this.prevProjectionDelta.x,this.projectionDelta.x),P1(this.prevProjectionDelta.y,this.projectionDelta.y)),Su(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==_||!q1(this.projectionDelta.x,this.prevProjectionDelta.x)||!q1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(c,p=!1){const g=this.snapshot,v=g?g.latestValues:{},x={...this.latestValues},f=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=en(),S=g?g.source:void 0,E=this.layout?this.layout.source:void 0,R=S!==E,M=this.getStack(),V=!M||M.members.length<=1,O=!!(R&&!V&&this.options.crossfade===!0&&!this.path.some(AO));this.animationProgress=0;let L;this.mixTargetDelta=Y=>{const et=Y/1e3;W1(f.x,c.x,et),W1(f.y,c.y,et),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SO(this.relativeTarget,this.relativeTargetOrigin,_,et),L&&lO(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=en()),Ni(L,this.relativeTarget)),R&&(this.animationValues=x,nO(x,v,this.latestValues,et,O,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=et},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=$3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:p,target:g,layout:v,latestValues:x}=c;if(!(!p||!g||!v)){if(this!==c&&this.layout&&v&&nw(this.options.animationType,this.layout.layoutBox,v.layoutBox)){g=this.target||en();const f=In(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+f;const _=In(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+_}Ni(p,g),Lo(p,x),Su(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(c,p){this.sharedNodes.has(c)||this.sharedNodes.set(c,new uO),this.sharedNodes.get(c).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:p,preserveFollowOpacity:g}={}){const v=this.getStack();v&&v.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let p=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const v={};g.z&&bm("z",c,v,this.animationValues);for(let x=0;x<xm.length;x++)bm(`rotate${xm[x]}`,c,v,this.animationValues),bm(`skew${xm[x]}`,c,v,this.animationValues);c.render();for(const x in v)c.setStaticValue(x,v[x]),this.animationValues&&(this.animationValues[x]=v[x]);c.scheduleRender()}applyProjectionStyles(c,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yf(p?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yf(p?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=v.animationValues||v.latestValues;this.applyTransformsToTarget();let f=cO(this.projectionDeltaWithTransform,this.treeScale,x);g&&(f=g(x,f)),c.transform=f;const{x:_,y:S}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,v.animationValues?c.opacity=v===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const E in lg){if(x[E]===void 0)continue;const{correct:R,applyTo:M,isCSSVariable:V}=lg[E],O=f==="none"?x[E]:R(x[E],v);if(M){const L=M.length;for(let Y=0;Y<L;Y++)c[M[Y]]=O}else V?this.options.visualElement.renderState.vars[E]=O:c[E]=O}this.options.layoutId&&(c.pointerEvents=v===this?Yf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(G1),this.root.sharedNodes.clear()}}}function hO(i){i.updateLayout()}function pO(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?yi(x=>{const f=u?t.measuredBox[x]:t.layoutBox[x],_=In(f);f.min=e[x].min,f.max=f.min+_}):nw(o,t.layoutBox,e)&&yi(x=>{const f=u?t.measuredBox[x]:t.layoutBox[x],_=In(e[x]);f.max=f.min+_,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[x].max=i.relativeTarget[x].min+_)});const c=Bo();Su(c,e,t.layoutBox);const p=Bo();u?Su(p,i.applyTransform(r,!0),t.measuredBox):Su(p,e,t.layoutBox);const g=!ZE(c);let v=!1;if(!i.resumeFrom){const x=i.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:f,layout:_}=x;if(f&&_){const S=en();md(S,t.layoutBox,f.layoutBox);const E=en();md(E,e,_.layoutBox),JE(S,E)||(v=!0),x.options.layoutRoot&&(i.relativeTarget=E,i.relativeTargetOrigin=S,i.relativeParent=x)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:p,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function mO(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function gO(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function yO(i){i.clearSnapshot()}function G1(i){i.clearMeasurements()}function Y1(i){i.isLayoutDirty=!1}function vO(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function Q1(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function _O(i){i.resolveTargetDelta()}function xO(i){i.calcProjection()}function bO(i){i.resetSkewAndRotation()}function TO(i){i.removeLeadSnapshot()}function W1(i,t,e){i.translate=De(t.translate,0,e),i.scale=De(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function K1(i,t,e,r){i.min=De(t.min,e.min,r),i.max=De(t.max,e.max,r)}function SO(i,t,e,r){K1(i.x,t.x,e.x,r),K1(i.y,t.y,e.y,r)}function AO(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const EO={duration:.45,ease:[.4,0,.1,1]},X1=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),$1=X1("applewebkit/")&&!X1("chrome/")?Math.round:Ti;function Z1(i){i.min=$1(i.min),i.max=$1(i.max)}function wO(i){Z1(i.x),Z1(i.y)}function nw(i,t,e){return i==="position"||i==="preserve-aspect"&&!O3(H1(t),H1(e),.2)}function CO(i){return i!==i.root&&i.scroll?.wasRoot}const RO=ew({attachResizeListener:(i,t)=>Lu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tm={current:void 0},iw=ew({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Tm.current){const i=new RO({});i.mount(window),i.setOptions({layoutScroll:!0}),Tm.current=i}return Tm.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),IO={pan:{Feature:K3},drag:{Feature:W3,ProjectionNode:iw,MeasureLayout:KE}};function J1(i,t,e){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Re.postRender(()=>u(t,Ku(t)))}class DO extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=eM(t,(e,r)=>(J1(this.node,r,"Start"),o=>J1(this.node,o,"End"))))}unmount(){}}class VO extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tT(i,t,e){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Re.postRender(()=>u(t,Ku(t)))}class jO extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=rM(t,(e,r)=>(tT(this.node,r,"Start"),(o,{success:u})=>tT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gg=new WeakMap,Sm=new WeakMap,MO=i=>{const t=gg.get(i.target);t&&t(i)},OO=i=>{i.forEach(MO)};function NO({root:i,...t}){const e=i||document;Sm.has(e)||Sm.set(e,{});const r=Sm.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(OO,{root:i,...t})),r[o]}function PO(i,t,e){const r=NO(t);return gg.set(i,e),r.observe(i),()=>{gg.delete(i),r.unobserve(i)}}const kO={some:0,all:1};class LO extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:kO[o]},p=g=>{const{isIntersecting:v}=g;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:f}=this.node.getProps(),_=v?x:f;_&&_(g)};return PO(this.node.current,c,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(BO(t,e))&&this.startObserver()}unmount(){}}function BO({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const zO={inView:{Feature:LO},tap:{Feature:jO},focus:{Feature:VO},hover:{Feature:DO}},UO={layout:{ProjectionNode:iw,MeasureLayout:KE}},FO={...R3,...zO,...IO,...UO},Un=YM(FO,r3);function HO(i){i.values.forEach(t=>t.stop())}function yg(i,t){[...t].reverse().forEach(r=>{const o=i.getVariant(r);o&&Fy(i,o),i.variantChildren&&i.variantChildren.forEach(u=>{yg(u,t)})})}function qO(i,t){if(Array.isArray(t))return yg(i,t);if(typeof t=="string")return yg(i,[t]);Fy(i,t)}function GO(){const i=new Set,t={subscribe(e){return i.add(e),()=>{i.delete(e)}},start(e,r){const o=[];return i.forEach(u=>{o.push(UE(u,e,{transitionOverride:r}))}),Promise.all(o)},set(e){return i.forEach(r=>{qO(r,e)})},stop(){i.forEach(e=>{HO(e)})},mount(){return()=>{t.stop()}}};return t}function YO(){const i=zd(GO);return dy(i.mount,[]),i}const QO=YO;var Am={};var eT;function WO(){return eT||(eT=1,(function(i){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||e;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var _=this||e;if(f=parseFloat(f),_.ctx||x(),typeof f<"u"&&f>=0&&f<=1){if(_._volume=f,_._muted)return _;_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f,e.ctx.currentTime);for(var S=0;S<_._howls.length;S++)if(!_._howls[S]._webAudio)for(var E=_._howls[S]._getSoundIds(),R=0;R<E.length;R++){var M=_._howls[S]._soundById(E[R]);M&&M._node&&(M._node.volume=M._volume*f)}return _}return _._volume},mute:function(f){var _=this||e;_.ctx||x(),_._muted=f,_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f?0:_._volume,e.ctx.currentTime);for(var S=0;S<_._howls.length;S++)if(!_._howls[S]._webAudio)for(var E=_._howls[S]._getSoundIds(),R=0;R<E.length;R++){var M=_._howls[S]._soundById(E[R]);M&&M._node&&(M._node.muted=f?!0:M._muted)}return _},stop:function(){for(var f=this||e,_=0;_<f._howls.length;_++)f._howls[_].stop();return f},unload:function(){for(var f=this||e,_=f._howls.length-1;_>=0;_--)f._howls[_].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,x()),f},codecs:function(f){return(this||e)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||e;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var _=new Audio;typeof _.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var _=new Audio;_.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||e,_=null;try{_=typeof Audio<"u"?new Audio:null}catch{return f}if(!_||typeof _.canPlayType!="function")return f;var S=_.canPlayType("audio/mpeg;").replace(/^no$/,""),E=f._navigator?f._navigator.userAgent:"",R=E.match(/OPR\/(\d+)/g),M=R&&parseInt(R[0].split("/")[1],10)<33,V=E.indexOf("Safari")!==-1&&E.indexOf("Chrome")===-1,O=E.match(/Version\/(.*?) /),L=V&&O&&parseInt(O[1],10)<15;return f._codecs={mp3:!!(!M&&(S||_.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!S,opus:!!_.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(_.canPlayType('audio/wav; codecs="1"')||_.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!_.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!_.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(_.canPlayType("audio/x-m4a;")||_.canPlayType("audio/m4a;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(_.canPlayType("audio/x-m4b;")||_.canPlayType("audio/m4b;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(_.canPlayType("audio/x-mp4;")||_.canPlayType("audio/mp4;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!L&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!L&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!_.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(_.canPlayType("audio/x-flac;")||_.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||e;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var _=function(S){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var E=new Audio;E._unlocked=!0,f._releaseHtml5Audio(E)}catch{f.noAudio=!0;break}for(var R=0;R<f._howls.length;R++)if(!f._howls[R]._webAudio)for(var M=f._howls[R]._getSoundIds(),V=0;V<M.length;V++){var O=f._howls[R]._soundById(M[V]);O&&O._node&&!O._node._unlocked&&(O._node._unlocked=!0,O._node.load())}f._autoResume();var L=f.ctx.createBufferSource();L.buffer=f._scratchBuffer,L.connect(f.ctx.destination),typeof L.start>"u"?L.noteOn(0):L.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),L.onended=function(){L.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",_,!0),document.removeEventListener("touchend",_,!0),document.removeEventListener("click",_,!0),document.removeEventListener("keydown",_,!0);for(var Y=0;Y<f._howls.length;Y++)f._howls[Y]._emit("unlock")}};return document.addEventListener("touchstart",_,!0),document.addEventListener("touchend",_,!0),document.addEventListener("click",_,!0),document.addEventListener("keydown",_,!0),f}},_obtainHtml5Audio:function(){var f=this||e;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var _=new Audio().play();return _&&typeof Promise<"u"&&(_ instanceof Promise||typeof _.then=="function")&&_.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var _=this||e;return f._unlocked&&_._html5AudioPool.push(f),_},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!e.usingWebAudio)){for(var _=0;_<f._howls.length;_++)if(f._howls[_]._webAudio){for(var S=0;S<f._howls[_]._sounds.length;S++)if(!f._howls[_]._sounds[S]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var E=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(E,E)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!e.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var _=0;_<f._howls.length;_++)f._howls[_]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var e=new t,r=function(f){var _=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}_.init(f)};r.prototype={init:function(f){var _=this;return e.ctx||x(),_._autoplay=f.autoplay||!1,_._format=typeof f.format!="string"?f.format:[f.format],_._html5=f.html5||!1,_._muted=f.mute||!1,_._loop=f.loop||!1,_._pool=f.pool||5,_._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,_._rate=f.rate||1,_._sprite=f.sprite||{},_._src=typeof f.src!="string"?f.src:[f.src],_._volume=f.volume!==void 0?f.volume:1,_._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},_._duration=0,_._state="unloaded",_._sounds=[],_._endTimers={},_._queue=[],_._playLock=!1,_._onend=f.onend?[{fn:f.onend}]:[],_._onfade=f.onfade?[{fn:f.onfade}]:[],_._onload=f.onload?[{fn:f.onload}]:[],_._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],_._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],_._onpause=f.onpause?[{fn:f.onpause}]:[],_._onplay=f.onplay?[{fn:f.onplay}]:[],_._onstop=f.onstop?[{fn:f.onstop}]:[],_._onmute=f.onmute?[{fn:f.onmute}]:[],_._onvolume=f.onvolume?[{fn:f.onvolume}]:[],_._onrate=f.onrate?[{fn:f.onrate}]:[],_._onseek=f.onseek?[{fn:f.onseek}]:[],_._onunlock=f.onunlock?[{fn:f.onunlock}]:[],_._onresume=[],_._webAudio=e.usingWebAudio&&!_._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(_),_._autoplay&&_._queue.push({event:"play",action:function(){_.play()}}),_._preload&&_._preload!=="none"&&_.load(),_},load:function(){var f=this,_=null;if(e.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var S=0;S<f._src.length;S++){var E,R;if(f._format&&f._format[S])E=f._format[S];else{if(R=f._src[S],typeof R!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}E=/^data:audio\/([^;,]+);/i.exec(R),E||(E=/\.([^.]+)$/.exec(R.split("?",1)[0])),E&&(E=E[1].toLowerCase())}if(E||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),E&&e.codecs(E)){_=f._src[S];break}}if(!_){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=_,f._state="loading",window.location.protocol==="https:"&&_.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new o(f),f._webAudio&&c(f),f},play:function(f,_){var S=this,E=null;if(typeof f=="number")E=f,f=null;else{if(typeof f=="string"&&S._state==="loaded"&&!S._sprite[f])return null;if(typeof f>"u"&&(f="__default",!S._playLock)){for(var R=0,M=0;M<S._sounds.length;M++)S._sounds[M]._paused&&!S._sounds[M]._ended&&(R++,E=S._sounds[M]._id);R===1?f=null:E=null}}var V=E?S._soundById(E):S._inactiveSound();if(!V)return null;if(E&&!f&&(f=V._sprite||"__default"),S._state!=="loaded"){V._sprite=f,V._ended=!1;var O=V._id;return S._queue.push({event:"play",action:function(){S.play(O)}}),O}if(E&&!V._paused)return _||S._loadQueue("play"),V._id;S._webAudio&&e._autoResume();var L=Math.max(0,V._seek>0?V._seek:S._sprite[f][0]/1e3),Y=Math.max(0,(S._sprite[f][0]+S._sprite[f][1])/1e3-L),et=Y*1e3/Math.abs(V._rate),J=S._sprite[f][0]/1e3,j=(S._sprite[f][0]+S._sprite[f][1])/1e3;V._sprite=f,V._ended=!1;var C=function(){V._paused=!1,V._seek=L,V._start=J,V._stop=j,V._loop=!!(V._loop||S._sprite[f][2])};if(L>=j){S._ended(V);return}var I=V._node;if(S._webAudio){var k=function(){S._playLock=!1,C(),S._refreshBuffer(V);var Ct=V._muted||S._muted?0:V._volume;I.gain.setValueAtTime(Ct,e.ctx.currentTime),V._playStart=e.ctx.currentTime,typeof I.bufferSource.start>"u"?V._loop?I.bufferSource.noteGrainOn(0,L,86400):I.bufferSource.noteGrainOn(0,L,Y):V._loop?I.bufferSource.start(0,L,86400):I.bufferSource.start(0,L,Y),et!==1/0&&(S._endTimers[V._id]=setTimeout(S._ended.bind(S,V),et)),_||setTimeout(function(){S._emit("play",V._id),S._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?k():(S._playLock=!0,S.once("resume",k),S._clearTimer(V._id))}else{var B=function(){I.currentTime=L,I.muted=V._muted||S._muted||e._muted||I.muted,I.volume=V._volume*e.volume(),I.playbackRate=V._rate;try{var Ct=I.play();if(Ct&&typeof Promise<"u"&&(Ct instanceof Promise||typeof Ct.then=="function")?(S._playLock=!0,C(),Ct.then(function(){S._playLock=!1,I._unlocked=!0,_?S._loadQueue():S._emit("play",V._id)}).catch(function(){S._playLock=!1,S._emit("playerror",V._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),V._ended=!0,V._paused=!0})):_||(S._playLock=!1,C(),S._emit("play",V._id)),I.playbackRate=V._rate,I.paused){S._emit("playerror",V._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||V._loop?S._endTimers[V._id]=setTimeout(S._ended.bind(S,V),et):(S._endTimers[V._id]=function(){S._ended(V),I.removeEventListener("ended",S._endTimers[V._id],!1)},I.addEventListener("ended",S._endTimers[V._id],!1))}catch(Ft){S._emit("playerror",V._id,Ft)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=S._src,I.load());var U=window&&window.ejecta||!I.readyState&&e._navigator.isCocoonJS;if(I.readyState>=3||U)B();else{S._playLock=!0,S._state="loading";var N=function(){S._state="loaded",B(),I.removeEventListener(e._canPlayEvent,N,!1)};I.addEventListener(e._canPlayEvent,N,!1),S._clearTimer(V._id)}}return V._id},pause:function(f){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"pause",action:function(){_.pause(f)}}),_;for(var S=_._getSoundIds(f),E=0;E<S.length;E++){_._clearTimer(S[E]);var R=_._soundById(S[E]);if(R&&!R._paused&&(R._seek=_.seek(S[E]),R._rateSeek=0,R._paused=!0,_._stopFade(S[E]),R._node))if(_._webAudio){if(!R._node.bufferSource)continue;typeof R._node.bufferSource.stop>"u"?R._node.bufferSource.noteOff(0):R._node.bufferSource.stop(0),_._cleanBuffer(R._node)}else(!isNaN(R._node.duration)||R._node.duration===1/0)&&R._node.pause();arguments[1]||_._emit("pause",R?R._id:null)}return _},stop:function(f,_){var S=this;if(S._state!=="loaded"||S._playLock)return S._queue.push({event:"stop",action:function(){S.stop(f)}}),S;for(var E=S._getSoundIds(f),R=0;R<E.length;R++){S._clearTimer(E[R]);var M=S._soundById(E[R]);M&&(M._seek=M._start||0,M._rateSeek=0,M._paused=!0,M._ended=!0,S._stopFade(E[R]),M._node&&(S._webAudio?M._node.bufferSource&&(typeof M._node.bufferSource.stop>"u"?M._node.bufferSource.noteOff(0):M._node.bufferSource.stop(0),S._cleanBuffer(M._node)):(!isNaN(M._node.duration)||M._node.duration===1/0)&&(M._node.currentTime=M._start||0,M._node.pause(),M._node.duration===1/0&&S._clearSound(M._node))),_||S._emit("stop",M._id))}return S},mute:function(f,_){var S=this;if(S._state!=="loaded"||S._playLock)return S._queue.push({event:"mute",action:function(){S.mute(f,_)}}),S;if(typeof _>"u")if(typeof f=="boolean")S._muted=f;else return S._muted;for(var E=S._getSoundIds(_),R=0;R<E.length;R++){var M=S._soundById(E[R]);M&&(M._muted=f,M._interval&&S._stopFade(M._id),S._webAudio&&M._node?M._node.gain.setValueAtTime(f?0:M._volume,e.ctx.currentTime):M._node&&(M._node.muted=e._muted?!0:f),S._emit("mute",M._id))}return S},volume:function(){var f=this,_=arguments,S,E;if(_.length===0)return f._volume;if(_.length===1||_.length===2&&typeof _[1]>"u"){var R=f._getSoundIds(),M=R.indexOf(_[0]);M>=0?E=parseInt(_[0],10):S=parseFloat(_[0])}else _.length>=2&&(S=parseFloat(_[0]),E=parseInt(_[1],10));var V;if(typeof S<"u"&&S>=0&&S<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,_)}}),f;typeof E>"u"&&(f._volume=S),E=f._getSoundIds(E);for(var O=0;O<E.length;O++)V=f._soundById(E[O]),V&&(V._volume=S,_[2]||f._stopFade(E[O]),f._webAudio&&V._node&&!V._muted?V._node.gain.setValueAtTime(S,e.ctx.currentTime):V._node&&!V._muted&&(V._node.volume=S*e.volume()),f._emit("volume",V._id))}else return V=E?f._soundById(E):f._sounds[0],V?V._volume:0;return f},fade:function(f,_,S,E){var R=this;if(R._state!=="loaded"||R._playLock)return R._queue.push({event:"fade",action:function(){R.fade(f,_,S,E)}}),R;f=Math.min(Math.max(0,parseFloat(f)),1),_=Math.min(Math.max(0,parseFloat(_)),1),S=parseFloat(S),R.volume(f,E);for(var M=R._getSoundIds(E),V=0;V<M.length;V++){var O=R._soundById(M[V]);if(O){if(E||R._stopFade(M[V]),R._webAudio&&!O._muted){var L=e.ctx.currentTime,Y=L+S/1e3;O._volume=f,O._node.gain.setValueAtTime(f,L),O._node.gain.linearRampToValueAtTime(_,Y)}R._startFadeInterval(O,f,_,S,M[V],typeof E>"u")}}return R},_startFadeInterval:function(f,_,S,E,R,M){var V=this,O=_,L=S-_,Y=Math.abs(L/.01),et=Math.max(4,Y>0?E/Y:E),J=Date.now();f._fadeTo=S,f._interval=setInterval(function(){var j=(Date.now()-J)/E;J=Date.now(),O+=L*j,O=Math.round(O*100)/100,L<0?O=Math.max(S,O):O=Math.min(S,O),V._webAudio?f._volume=O:V.volume(O,f._id,!0),M&&(V._volume=O),(S<_&&O<=S||S>_&&O>=S)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,V.volume(S,f._id),V._emit("fade",f._id))},et)},_stopFade:function(f){var _=this,S=_._soundById(f);return S&&S._interval&&(_._webAudio&&S._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(S._interval),S._interval=null,_.volume(S._fadeTo,f),S._fadeTo=null,_._emit("fade",f)),_},loop:function(){var f=this,_=arguments,S,E,R;if(_.length===0)return f._loop;if(_.length===1)if(typeof _[0]=="boolean")S=_[0],f._loop=S;else return R=f._soundById(parseInt(_[0],10)),R?R._loop:!1;else _.length===2&&(S=_[0],E=parseInt(_[1],10));for(var M=f._getSoundIds(E),V=0;V<M.length;V++)R=f._soundById(M[V]),R&&(R._loop=S,f._webAudio&&R._node&&R._node.bufferSource&&(R._node.bufferSource.loop=S,S&&(R._node.bufferSource.loopStart=R._start||0,R._node.bufferSource.loopEnd=R._stop,f.playing(M[V])&&(f.pause(M[V],!0),f.play(M[V],!0)))));return f},rate:function(){var f=this,_=arguments,S,E;if(_.length===0)E=f._sounds[0]._id;else if(_.length===1){var R=f._getSoundIds(),M=R.indexOf(_[0]);M>=0?E=parseInt(_[0],10):S=parseFloat(_[0])}else _.length===2&&(S=parseFloat(_[0]),E=parseInt(_[1],10));var V;if(typeof S=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,_)}}),f;typeof E>"u"&&(f._rate=S),E=f._getSoundIds(E);for(var O=0;O<E.length;O++)if(V=f._soundById(E[O]),V){f.playing(E[O])&&(V._rateSeek=f.seek(E[O]),V._playStart=f._webAudio?e.ctx.currentTime:V._playStart),V._rate=S,f._webAudio&&V._node&&V._node.bufferSource?V._node.bufferSource.playbackRate.setValueAtTime(S,e.ctx.currentTime):V._node&&(V._node.playbackRate=S);var L=f.seek(E[O]),Y=(f._sprite[V._sprite][0]+f._sprite[V._sprite][1])/1e3-L,et=Y*1e3/Math.abs(V._rate);(f._endTimers[E[O]]||!V._paused)&&(f._clearTimer(E[O]),f._endTimers[E[O]]=setTimeout(f._ended.bind(f,V),et)),f._emit("rate",V._id)}}else return V=f._soundById(E),V?V._rate:f._rate;return f},seek:function(){var f=this,_=arguments,S,E;if(_.length===0)f._sounds.length&&(E=f._sounds[0]._id);else if(_.length===1){var R=f._getSoundIds(),M=R.indexOf(_[0]);M>=0?E=parseInt(_[0],10):f._sounds.length&&(E=f._sounds[0]._id,S=parseFloat(_[0]))}else _.length===2&&(S=parseFloat(_[0]),E=parseInt(_[1],10));if(typeof E>"u")return 0;if(typeof S=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,_)}}),f;var V=f._soundById(E);if(V)if(typeof S=="number"&&S>=0){var O=f.playing(E);O&&f.pause(E,!0),V._seek=S,V._ended=!1,f._clearTimer(E),!f._webAudio&&V._node&&!isNaN(V._node.duration)&&(V._node.currentTime=S);var L=function(){O&&f.play(E,!0),f._emit("seek",E)};if(O&&!f._webAudio){var Y=function(){f._playLock?setTimeout(Y,0):L()};setTimeout(Y,0)}else L()}else if(f._webAudio){var et=f.playing(E)?e.ctx.currentTime-V._playStart:0,J=V._rateSeek?V._rateSeek-V._seek:0;return V._seek+(J+et*Math.abs(V._rate))}else return V._node.currentTime;return f},playing:function(f){var _=this;if(typeof f=="number"){var S=_._soundById(f);return S?!S._paused:!1}for(var E=0;E<_._sounds.length;E++)if(!_._sounds[E]._paused)return!0;return!1},duration:function(f){var _=this,S=_._duration,E=_._soundById(f);return E&&(S=_._sprite[E._sprite][1]/1e3),S},state:function(){return this._state},unload:function(){for(var f=this,_=f._sounds,S=0;S<_.length;S++)_[S]._paused||f.stop(_[S]._id),f._webAudio||(f._clearSound(_[S]._node),_[S]._node.removeEventListener("error",_[S]._errorFn,!1),_[S]._node.removeEventListener(e._canPlayEvent,_[S]._loadFn,!1),_[S]._node.removeEventListener("ended",_[S]._endFn,!1),e._releaseHtml5Audio(_[S]._node)),delete _[S]._node,f._clearTimer(_[S]._id);var E=e._howls.indexOf(f);E>=0&&e._howls.splice(E,1);var R=!0;for(S=0;S<e._howls.length;S++)if(e._howls[S]._src===f._src||f._src.indexOf(e._howls[S]._src)>=0){R=!1;break}return u&&R&&delete u[f._src],e.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,_,S,E){var R=this,M=R["_on"+f];return typeof _=="function"&&M.push(E?{id:S,fn:_,once:E}:{id:S,fn:_}),R},off:function(f,_,S){var E=this,R=E["_on"+f],M=0;if(typeof _=="number"&&(S=_,_=null),_||S)for(M=0;M<R.length;M++){var V=S===R[M].id;if(_===R[M].fn&&V||!_&&V){R.splice(M,1);break}}else if(f)E["_on"+f]=[];else{var O=Object.keys(E);for(M=0;M<O.length;M++)O[M].indexOf("_on")===0&&Array.isArray(E[O[M]])&&(E[O[M]]=[])}return E},once:function(f,_,S){var E=this;return E.on(f,_,S,1),E},_emit:function(f,_,S){for(var E=this,R=E["_on"+f],M=R.length-1;M>=0;M--)(!R[M].id||R[M].id===_||f==="load")&&(setTimeout((function(V){V.call(this,_,S)}).bind(E,R[M].fn),0),R[M].once&&E.off(f,R[M].fn,R[M].id));return E._loadQueue(f),E},_loadQueue:function(f){var _=this;if(_._queue.length>0){var S=_._queue[0];S.event===f&&(_._queue.shift(),_._loadQueue()),f||S.action()}return _},_ended:function(f){var _=this,S=f._sprite;if(!_._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(_._ended.bind(_,f),100),_;var E=!!(f._loop||_._sprite[S][2]);if(_._emit("end",f._id),!_._webAudio&&E&&_.stop(f._id,!0).play(f._id),_._webAudio&&E){_._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=e.ctx.currentTime;var R=(f._stop-f._start)*1e3/Math.abs(f._rate);_._endTimers[f._id]=setTimeout(_._ended.bind(_,f),R)}return _._webAudio&&!E&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,_._clearTimer(f._id),_._cleanBuffer(f._node),e._autoSuspend()),!_._webAudio&&!E&&_.stop(f._id,!0),_},_clearTimer:function(f){var _=this;if(_._endTimers[f]){if(typeof _._endTimers[f]!="function")clearTimeout(_._endTimers[f]);else{var S=_._soundById(f);S&&S._node&&S._node.removeEventListener("ended",_._endTimers[f],!1)}delete _._endTimers[f]}return _},_soundById:function(f){for(var _=this,S=0;S<_._sounds.length;S++)if(f===_._sounds[S]._id)return _._sounds[S];return null},_inactiveSound:function(){var f=this;f._drain();for(var _=0;_<f._sounds.length;_++)if(f._sounds[_]._ended)return f._sounds[_].reset();return new o(f)},_drain:function(){var f=this,_=f._pool,S=0,E=0;if(!(f._sounds.length<_)){for(E=0;E<f._sounds.length;E++)f._sounds[E]._ended&&S++;for(E=f._sounds.length-1;E>=0;E--){if(S<=_)return;f._sounds[E]._ended&&(f._webAudio&&f._sounds[E]._node&&f._sounds[E]._node.disconnect(0),f._sounds.splice(E,1),S--)}}},_getSoundIds:function(f){var _=this;if(typeof f>"u"){for(var S=[],E=0;E<_._sounds.length;E++)S.push(_._sounds[E]._id);return S}else return[f]},_refreshBuffer:function(f){var _=this;return f._node.bufferSource=e.ctx.createBufferSource(),f._node.bufferSource.buffer=u[_._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,e.ctx.currentTime),_},_cleanBuffer:function(f){var _=this,S=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return _;if(e._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),S))try{f.bufferSource.buffer=e._scratchBuffer}catch{}return f.bufferSource=null,_},_clearSound:function(f){var _=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);_||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(f){this._parent=f,this.init()};o.prototype={init:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,_._sounds.push(f),f.create(),f},create:function(){var f=this,_=f._parent,S=e._muted||f._muted||f._parent._muted?0:f._volume;return _._webAudio?(f._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),f._node.gain.setValueAtTime(S,e.ctx.currentTime),f._node.paused=!0,f._node.connect(e.masterGain)):e.noAudio||(f._node=e._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(e._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=_._src,f._node.preload=_._preload===!0?"auto":_._preload,f._node.volume=S*e.volume(),f._node.load()),f},reset:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,_=f._parent;_._duration=Math.ceil(f._node.duration*10)/10,Object.keys(_._sprite).length===0&&(_._sprite={__default:[0,_._duration*1e3]}),_._state!=="loaded"&&(_._state="loaded",_._emit("load"),_._loadQueue()),f._node.removeEventListener(e._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,_=f._parent;_._duration===1/0&&(_._duration=Math.ceil(f._node.duration*10)/10,_._sprite.__default[1]===1/0&&(_._sprite.__default[1]=_._duration*1e3),_._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var u={},c=function(f){var _=f._src;if(u[_]){f._duration=u[_].duration,v(f);return}if(/^data:[^;]+;base64,/.test(_)){for(var S=atob(_.split(",")[1]),E=new Uint8Array(S.length),R=0;R<S.length;++R)E[R]=S.charCodeAt(R);g(E.buffer,f)}else{var M=new XMLHttpRequest;M.open(f._xhr.method,_,!0),M.withCredentials=f._xhr.withCredentials,M.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(V){M.setRequestHeader(V,f._xhr.headers[V])}),M.onload=function(){var V=(M.status+"")[0];if(V!=="0"&&V!=="2"&&V!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+M.status+".");return}g(M.response,f)},M.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete u[_],f.load())},p(M)}},p=function(f){try{f.send()}catch{f.onerror()}},g=function(f,_){var S=function(){_._emit("loaderror",null,"Decoding audio data failed.")},E=function(R){R&&_._sounds.length>0?(u[_._src]=R,v(_,R)):S()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(f).then(E).catch(S):e.ctx.decodeAudioData(f,E,S)},v=function(f,_){_&&!f._duration&&(f._duration=_.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},x=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),_=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),S=_?parseInt(_[1],10):null;if(f&&S&&S<9){var E=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!E&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};i.Howler=e,i.Howl=r,typeof au<"u"?(au.HowlerGlobal=t,au.Howler=e,au.Howl=r,au.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=r,window.Sound=o)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(e);return r},HowlerGlobal.prototype.pos=function(e,r,o){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(r=typeof r!="number"?u._pos[1]:r,o=typeof o!="number"?u._pos[2]:o,typeof e=="number")u._pos=[e,r,o],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(e,r,o,u,c,p){var g=this;if(!g.ctx||!g.ctx.listener)return g;var v=g._orientation;if(r=typeof r!="number"?v[1]:r,o=typeof o!="number"?v[2]:o,u=typeof u!="number"?v[3]:u,c=typeof c!="number"?v[4]:c,p=typeof p!="number"?v[5]:p,typeof e=="number")g._orientation=[e,r,o,u,c,p],typeof g.ctx.listener.forwardX<"u"?(g.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),g.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),g.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),g.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),g.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),g.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):g.ctx.listener.setOrientation(e,r,o,u,c,p);else return v;return g},Howl.prototype.init=(function(e){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],e.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(e,r)}}),o;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof e=="number")o._stereo=e,o._pos=[e,0,0];else return o._stereo;for(var c=o._getSoundIds(r),p=0;p<c.length;p++){var g=o._soundById(c[p]);if(g)if(typeof e=="number")g._stereo=e,g._pos=[e,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",(!g._panner||!g._panner.pan)&&t(g,u),u==="spatial"?typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):g._panner.setPosition(e,0,0):g._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",g._id);else return g._stereo}return o},Howl.prototype.pos=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(e,r,o,u)}}),c;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof u>"u")if(typeof e=="number")c._pos=[e,r,o];else return c._pos;for(var p=c._getSoundIds(u),g=0;g<p.length;g++){var v=c._soundById(p[g]);if(v)if(typeof e=="number")v._pos=[e,r,o],v._node&&((!v._panner||v._panner.pan)&&t(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setPosition(e,r,o)),c._emit("pos",v._id);else return v._pos}return c},Howl.prototype.orientation=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(e,r,o,u)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,o=typeof o!="number"?c._orientation[2]:o,typeof u>"u")if(typeof e=="number")c._orientation=[e,r,o];else return c._orientation;for(var p=c._getSoundIds(u),g=0;g<p.length;g++){var v=c._soundById(p[g]);if(v)if(typeof e=="number")v._orientation=[e,r,o],v._node&&(v._panner||(v._pos||(v._pos=c._pos||[0,0,-.5]),t(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setOrientation(e,r,o)),c._emit("orientation",v._id);else return v._orientation}return c},Howl.prototype.pannerAttr=function(){var e=this,r=arguments,o,u,c;if(!e._webAudio)return e;if(r.length===0)return e._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof u>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),e._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:e._panningModel});else return c=e._soundById(parseInt(r[0],10)),c?c._pannerAttr:e._pannerAttr;else r.length===2&&(o=r[0],u=parseInt(r[1],10));for(var p=e._getSoundIds(u),g=0;g<p.length;g++)if(c=e._soundById(p[g]),c){var v=c._pannerAttr;v={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:v.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:v.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:v.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:v.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:v.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:v.panningModel};var x=c._panner;x||(c._pos||(c._pos=e._pos||[0,0,-.5]),t(c,"spatial"),x=c._panner),x.coneInnerAngle=v.coneInnerAngle,x.coneOuterAngle=v.coneOuterAngle,x.coneOuterGain=v.coneOuterGain,x.distanceModel=v.distanceModel,x.maxDistance=v.maxDistance,x.refDistance=v.refDistance,x.rolloffFactor=v.rolloffFactor,x.panningModel=v.panningModel}return e},Sound.prototype.init=(function(e){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,e.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),e.call(this)}})(Sound.prototype.reset);var t=function(e,r){r=r||"spatial",r==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})(Am)),Am}var Nf=WO();class KO{constructor(){this.sounds={bgm:new Nf.Howl({src:["/sounds/casino_ambience.mp3"],loop:!0,volume:.3,onloaderror:()=>{}}),chip:new Nf.Howl({src:["/sounds/chip_place.mp3"],volume:.6,onloaderror:()=>{}}),deal:new Nf.Howl({src:["/sounds/card_deal.mp3"],volume:.7,onloaderror:()=>{}}),shuffle:new Nf.Howl({src:["/sounds/shuffle.mp3"],volume:.8,onloaderror:()=>{}})}}speak(t){if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t);e.lang="ko-KR",e.rate=1.1,e.pitch=1.5,e.volume=1,window.speechSynthesis.speak(e)}play(t){t==="voice_win"?this.speak("   ?"):t==="voice_lose"?this.speak("   ..   ?     ?"):t==="voice_side"?this.speak("   "):this.sounds[t]&&this.sounds[t].play()}}const Ro=new KO,XO=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],$O=["S","H","D","C"],ZO=i=>["10","J","Q","K"].includes(i)?0:i==="A"?1:parseInt(i),Pf=i=>i.reduce((e,r)=>e+r.val,0)%10,JO=i=>{var t=Math.sin(i++)*1e4;return t-Math.floor(t)},nT=i=>{let t=[i(),i()],e=[i(),i()],r=Pf(t),o=Pf(e);if(r>=8||o>=8)return{pHand:t,bHand:e,pScore:r,bScore:o};let u=null;r<=5&&(u=i(),t.push(u),r=Pf(t));let c=!1;if(u===null)o<=5&&(c=!0);else{const p=u.val;(o<=2||o===3&&p!==8||o===4&&[2,3,4,5,6,7].includes(p)||o===5&&[4,5,6,7].includes(p)||o===6&&[6,7].includes(p))&&(c=!0)}return c&&(e.push(i()),o=Pf(e)),{pHand:t,bHand:e,pScore:r,bScore:o}},ki={getCurrentRoundInfo:()=>{const t=new Date("2025-01-01T00:00:00Z").getTime(),e=1e4,o=Date.now()-t,u=e+Math.floor(o/(60*1e3)),c=60*1e3-o%(60*1e3),p=Math.floor(c/1e3);return{round:u,timeLeft:p,isDrawingPhase:p<=20}},shuffleDeck:(i=null)=>{let t=[];for(let e=0;e<8;e++)$O.forEach(r=>{XO.forEach(o=>{t.push({rank:o,suit:r,val:ZO(o)})})});for(let e=t.length-1;e>0;e--){const r=i?JO(i+e):Math.random(),o=Math.floor(r*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t},generateBaccaratResult:(i=null)=>{let t,e,r=0;do{const o=ki.shuffleDeck();let u=0;if(t=nT(()=>o[u++]),t.pScore>t.bScore?e="PLAYER":t.bScore>t.pScore?e="BANKER":e="TIE",r++,!i)break}while(e!==i&&r<500);return{...t,result:e}},generateDeterministicResult:i=>{const t=ki.shuffleDeck(i);let e=0;const o=nT(()=>t[e++]);let u="TIE";o.pScore>o.bScore?u="PLAYER":o.bScore>o.pScore&&(u="BANKER");const c=o.pHand[0].rank===o.pHand[1].rank,p=o.bHand[0].rank===o.bHand[1].rank,f=new Date("2025-01-01T00:00:00Z").getTime()+(i-1e4)*60*1e3,_=new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{...o,result:u,isPP:c,isBP:p,round:i,date:_}},getPastHistory:i=>{const t=[];for(let e=i-1;e>=i-72;e--)t.push(ki.generateDeterministicResult(e));return t},generateBigRoad:i=>{if(!i||!Array.isArray(i))return[];const t=[...i].sort((u,c)=>u.round-c.round),e=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(e.push(r),r=[c],o=c))}),r.length>0&&e.push(r),e.slice(-25)},generateBeadRoad:i=>i?[...i].sort((t,e)=>t.round-e.round).slice(-72):[],calculateStats:i=>{if(!i||!Array.isArray(i))return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=i.filter(c=>c.result),e=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:e,b:r,t:o,total:u,pRate:Math.round(e/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function tN(i,t,e,r){const o=q.useRef(!1),u=q.useRef(null),c=q.useRef(t),p=q.useRef(null),g=q.useRef(0);q.useEffect(()=>{c.current=t},[t]);const v=X=>{try{const ct=localStorage.getItem(X);if(!ct)return[];const F=JSON.parse(ct);return Array.isArray(F)?F.filter(at=>at&&typeof at.result=="string"):[]}catch{return[]}},[x,f]=q.useState([]),[_,S]=q.useState(()=>v(`event_my_history_${i?.id}`)),[E,R]=q.useState(0),[M,V]=q.useState(0),[O,L]=q.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,squeezeTarget:null}),[Y,et]=q.useState(null),[J,j]=q.useState(null),[C,I]=q.useState("   !"),k=q.useCallback(X=>{e&&(e(X),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[e,r]),B=X=>{p.current=X,et(X),X?localStorage.setItem(`pending_bet_${i?.id}`,JSON.stringify(X)):localStorage.removeItem(`pending_bet_${i?.id}`)};q.useEffect(()=>{(()=>{const{round:ct}=ki.getCurrentRoundInfo(),F=v("event_total_history");if(F.length===0||F[0]&&F[0].round<ct-2){const at=ki.getPastHistory(ct);f(at),localStorage.setItem("event_total_history",JSON.stringify(at))}else f(F)})()},[]);const U=X=>{V(5);const ct=setInterval(()=>{V(F=>Math.max(0,F-1))},1e3);return u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{clearInterval(ct),X()},5e3),ct},N=q.useCallback(async X=>{if(o.current)return;o.current=!0,L(G=>({...G,isDrawing:!0,timeLeft:0})),Ro.play("draw");let ct=null;try{const G=await Li(Ie($t,"event_manipulation",String(X)));G.exists()&&(ct=G.data().winner)}catch{}const F=ki.generateBaccaratResult(ct)||ki.generateDeterministicResult(X),at=p.current;let P=null;if(at&&at.bets){const G=at.bets.PLAYER||0,nt=at.bets.BANKER||0;(G>0||nt>0)&&(P=G>=nt?"PLAYER":"BANKER")}L(G=>({...G,gameResult:F,squeezeTarget:P})),setTimeout(()=>{R(1),setTimeout(()=>{P?(R(2),U(()=>Ct(X,F,at,P))):Ct(X,F,at,P)},1500)},500)},[i?.id]),Ct=(X,ct,F,at)=>{u.current&&clearTimeout(u.current),R(3);const P=(ct.pHand[0].val+ct.pHand[1].val)%10,G=(ct.bHand[0].val+ct.bHand[1].val)%10,nt=P>=8||G>=8,pt=ct.pHand.length>2||ct.bHand.length>2;setTimeout(()=>{!nt&&pt?(R(4),Ro.play("draw"),setTimeout(()=>{at?(R(5),U(()=>W(X,ct,F))):W(X,ct,F)},1500)):W(X,ct,F)},1500)},Ft=()=>{u.current&&clearTimeout(u.current),E===2?Ct(O.round,O.gameResult,p.current,O.squeezeTarget):E===5&&W(O.round,O.gameResult,p.current)},W=(X,ct,F)=>{R(6);const{result:at,pHand:P,bHand:G}=ct,nt=P[0].rank===P[1].rank,pt=G[0].rank===G[1].rank,vt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(f(_t=>{const Tt={round:X,result:at,isPP:nt,isBP:pt,date:vt};if(_t.length>0&&_t[0].round===X)return _t;const St=[Tt,..._t].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(St)),St}),F&&F.round===X){const{bets:_t,totalCost:Tt}=F;let St=0,wt=!1;if(_t&&Object.entries(_t).forEach(([Wt,le])=>{Wt==="PLAYER"&&at==="PLAYER"&&(St+=Math.floor(le*2)),Wt==="BANKER"&&at==="BANKER"&&(St+=Math.floor(le*1.95)),Wt==="TIE"&&at==="TIE"&&(St+=Math.floor(le*9),wt=!0),Wt==="P_PAIR"&&nt&&(St+=Math.floor(le*12),wt=!0),Wt==="B_PAIR"&&pt&&(St+=Math.floor(le*12),wt=!0),at==="TIE"&&(Wt==="PLAYER"||Wt==="BANKER")&&(St+=le)}),St>Tt){wt?Ro.play("voice_side"):Ro.play("voice_win");const Wt=c.current+St;if(k(Wt),i&&i.id)try{fs(Ie($t,"users",i.id),{diamond:Wt})}catch(le){console.error("DB Save Error",le)}}else Ro.play("voice_lose");j({totalEarn:St,totalCost:Tt,result:at,isPP:nt,isBP:pt}),S(Wt=>{const le=[{round:X,bets:_t,result:at,isPP:nt,isBP:pt,earn:St,cost:Tt,date:vt},...Wt].slice(0,50);return localStorage.setItem(`event_my_history_${i?.id}`,JSON.stringify(le)),le})}setTimeout(()=>{B(null),L(_t=>({..._t,gameResult:null,isDrawing:!1})),R(0),o.current=!1},4e3)};return q.useEffect(()=>{const ct=setInterval(()=>{const{round:F,timeLeft:at,isDrawingPhase:P}=ki.getCurrentRoundInfo();g.current!==0&&F>g.current&&!o.current&&N(g.current),g.current=F,o.current||L(G=>({...G,round:F,timeLeft:at,isDrawing:P}))},1e3);return()=>clearInterval(ct)},[N]),{gameState:O,gameStep:E,squeezeTime:M,onSqueezeComplete:Ft,totalHistory:x,myHistory:_,myPendingBet:Y,setMyPendingBet:B,showResult:J,setShowResult:j,liveNoti:C,updatePointWithAnim:k}}const iT=({type:i,value:t})=>{const e=i||"",r=e.includes("PLAYER")||e==="P_PAIR"?"#4d94ff":e.includes("BANKER")||e==="B_PAIR"?"#ff4d4d":"#00e676",o=t>=1e3?`${t/1e3}k`:t;return y.jsx(Un.div,{initial:{scale:2,opacity:0,y:-50,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},style:{width:"42px",height:"42px",borderRadius:"50%",border:"3px dashed #fff",backgroundColor:r,boxShadow:"0 4px 10px rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:50,bottom:"15px",right:"15px"},children:y.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"900",color:"#fff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:o})},t)},kf=({rank:i,suit:t,index:e,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t]||"?",p=r?300:-300;return y.jsxs(Un.div,{initial:{x:p,y:-400,scale:.5,rotateY:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:e*.2,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"50px",height:"75px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"22px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&y.jsxs(y.Fragment,{children:[y.jsx("span",{style:{fontSize:"12px",position:"absolute",top:"2px",left:"4px"},children:i}),y.jsx("span",{style:{fontSize:"28px"},children:c}),y.jsx("span",{style:{fontSize:"12px",position:"absolute",bottom:"2px",right:"4px",transform:"rotate(180deg)"},children:i})]}),o&&y.jsx("div",{style:{width:"36px",height:"60px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},sT=({cards:i,targetName:t,onComplete:e,timeLeft:r})=>{const[o,u]=q.useState((i||[]).map(()=>!1)),c=(p,g)=>{if(g.offset.y>100){const v=[...o];v[p]=!0,u(v),v.every(x=>x===!0)&&setTimeout(e,500)}};return!i||i.length===0?null:y.jsxs(Un.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[y.jsxs("h2",{style:{color:"#fff",fontSize:"24px",marginBottom:"30px",fontWeight:"900",letterSpacing:"2px"},children:[y.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),y.jsx("div",{style:{display:"flex",gap:"30px"},children:i.map((p,g)=>y.jsxs("div",{style:{position:"relative",width:"140px",height:"210px"},children:[y.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:p.suit==="H"||p.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[y.jsx("div",{children:p.suit==="S"?"":p.suit==="H"?"":p.suit==="D"?"":""}),y.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:p.rank})]}),y.jsx(Un.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,onDragEnd:(v,x)=>c(g,x),animate:o[g]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:y.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},g))}),y.jsxs("div",{style:{marginTop:"30px",color:r<=3?"#ff3b30":"#ffd700",fontSize:"16px",fontWeight:"bold",animation:"pulse 1s infinite"},children:["AUTO OPEN IN ",r,"s"]}),y.jsx("style",{children:"@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }"})]})},eN=({round:i,timeLeft:t,isDrawing:e,gameResult:r,gameStep:o,isSqueezing:u})=>y.jsxs(Un.div,{style:{...Io.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden",position:"relative"},children:[y.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),y.jsxs("div",{style:{...Io.bannerContent,zIndex:10},children:[y.jsxs("div",{style:Io.bannerTop,children:[y.jsx("div",{style:{...Io.liveBadge,background:e?"#ff3b30":"#00e676",color:"#fff"},children:e?"DEALING":"BETTING OPEN"}),y.jsxs("span",{style:{...Io.roundInfo,color:"#8fbc8f",marginLeft:"8px"},children:["Rd. ",i]})]}),y.jsx("div",{style:{...Io.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:e&&r?y.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.pHand?.slice(0,2).map((c,p)=>y.jsx(kf,{...c,index:p,isPlayer:!0,hidden:o<3},`p-${p}`)),o>=4&&r.pHand?.[2]&&y.jsx(kf,{...r.pHand[2],index:2,isPlayer:!0,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(Un.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),y.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.bHand?.slice(0,2).map((c,p)=>y.jsx(kf,{...c,index:p+.2,isPlayer:!1,hidden:o<3},`b-${p}`)),o>=4&&r.bHand?.[2]&&y.jsx(kf,{...r.bHand[2],index:2.2,isPlayer:!1,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(Un.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):y.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:y.jsx("h2",{style:{fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace",fontWeight:"900"},children:t})})})]})]}),nN=({beadRoad:i,bigRoad:t,stats:e})=>y.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[y.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[y.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",e?.p||0," (",e?.pRate||0,"%)"]}),y.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",e?.b||0," (",e?.bRate||0,"%)"]}),y.jsxs("div",{style:{color:"#00e676"},children:["T: ",e?.t||0," (",e?.tRate||0,"%)"]}),y.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",e?.total||0]})]}),y.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[y.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:Array.isArray(t)&&t.map((r,o)=>y.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>y.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},`res-${o}-${c}`))},`col-${o}`))}),y.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=Array.isArray(i)?i[i.length-36+o]:null;return y.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&u.result&&y.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},`bead-${o}`)})})]})]}),Io={eventBanner:{borderRadius:"28px",padding:"20px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"220px"},bannerContent:{position:"relative",width:"100%",height:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},liveBadge:{fontSize:"10px",fontWeight:"900",padding:"4px 10px",borderRadius:"4px"},roundInfo:{fontSize:"12px"},timerDisplay:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},rT=[{id:"P_PAIR",name:"P.PAIR",label:"x11",color:"#4d94ff",type:"sub",desc:" "},{id:"TIE",name:"TIE",label:"x9",color:"#00e676",type:"sub",desc:""},{id:"B_PAIR",name:"B.PAIR",label:"x11",color:"#ff4d4d",type:"sub",desc:" "},{id:"PLAYER",name:"PLAYER",label:"x2.0",color:"#4d94ff",type:"main",desc:" "},{id:"BANKER",name:"BANKER",label:"x1.95",color:"#ff4d4d",type:"main",desc:" "}];function sw({user:i,userPoint:t=0,confirmedImage:e,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const p=QO(),[g,v]=q.useState(t),x=q.useRef(null),{gameState:f,gameStep:_,squeezeTime:S,onSqueezeComplete:E,totalHistory:R,myHistory:M,myPendingBet:V,setMyPendingBet:O,showResult:L,setShowResult:Y,liveNoti:et,updatePointWithAnim:J}=tN(i,t,u,p),j=q.useMemo(()=>({bigRoad:ki.generateBigRoad(R),beadRoad:ki.generateBeadRoad(R),stats:ki.calculateStats(R)}),[R]),[C,I]=q.useState({}),[k,B]=q.useState(""),[U,N]=q.useState("mine");q.useEffect(()=>{v(t)},[t]),q.useEffect(()=>{const F=at=>{i&&at.detail&&at.detail.userId===i.id&&(v(at.detail.point),J(at.detail.point))};return window.addEventListener("user_point_update",F),()=>window.removeEventListener("user_point_update",F)},[i,J]),q.useEffect(()=>{(!i||i.isGuest)&&o&&o()},[i,o]);const Ct=q.useMemo(()=>{if(e)return e;const F=r||0;return`https://api.dicebear.com/7.x/${["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"][F]}/svg?seed=${i?.id}_${F}&backgroundColor=2a2a2e`},[e,r,i?.id]),Ft=F=>{if(f.timeLeft<=0)return alert("  .");const at=parseInt(k);if(!at||at<=0)return alert(" () .");const P=Object.values(C).reduce((G,nt)=>G+nt,0);if(at+P>g)return alert("  .");I(G=>({...G,[F]:(G[F]||0)+at}))},W=async()=>{const F=Object.values(C).reduce((vt,_t)=>vt+_t,0);if(F===0)return alert("    .");const at=g-F;v(at),J(at);const P=V?V.bets:{},G=V?V.totalCost:0,nt={...P};Object.entries(C).forEach(([vt,_t])=>{nt[vt]=(nt[vt]||0)+_t});const pt=G+F;O({round:f.round,bets:nt,totalCost:pt});try{await Mu(zn($t,"event_bets"),{round:f.round,userId:i.id,betAmount:F,bets:C,timestamp:new Date().toISOString()})}catch(vt){console.error("Firebase Error",vt)}I({})},X=()=>{if(!V)return;const F=g+V.totalCost;v(F),J(F),O(null),I({})},ct=()=>I({});return y.jsxs("div",{style:Mt.screenContainer,children:[y.jsxs("div",{style:Mt.fixedHeader,children:[y.jsxs("div",{style:Mt.navLeft,onClick:o,children:[y.jsx("span",{style:Mt.backBtn,children:""}),y.jsx("span",{style:Mt.navTitle,children:"ROYAL BACCARAT"})]}),y.jsxs("div",{style:Mt.navRight,children:[y.jsxs(Un.div,{animate:p,style:Mt.pointBadge,children:[y.jsx("span",{style:Mt.coinIcon,children:""}),y.jsx("span",{style:Mt.headerPoint,children:g.toLocaleString()})]}),y.jsx("div",{style:Mt.profileCircle,children:y.jsx("img",{src:Ct,alt:"profile",style:Mt.profileImg})})]})]}),y.jsxs("div",{style:Mt.scrollBody,ref:x,children:[y.jsx("div",{style:Mt.liveTicker,children:y.jsxs(Un.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:Mt.tickerText,children:[" ",et]},et)}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx(eN,{round:f.round,timeLeft:f.timeLeft,isDrawing:f.isDrawing,gameResult:f.gameResult,gameStep:_,isSqueezing:f.isSqueezing}),y.jsx(pm,{children:f.gameResult&&(_===2&&y.jsx(sT,{targetName:f.squeezeTarget,cards:f.squeezeTarget==="PLAYER"?f.gameResult.pHand.slice(0,2):f.gameResult.bHand.slice(0,2),onComplete:E,timeLeft:S})||_===5&&y.jsx(sT,{targetName:f.squeezeTarget,cards:[f.squeezeTarget==="PLAYER"?f.gameResult.pHand[2]:f.gameResult.bHand[2]],onComplete:E,timeLeft:S}))})]}),y.jsx(nN,{...j}),y.jsxs("div",{style:Mt.sectionLabel,children:[y.jsx("span",{style:Mt.labelBar})," MULTI BETTING ZONE"]}),y.jsxs("div",{style:Mt.baccaratGrid,children:[y.jsx("div",{style:Mt.rowTop,children:rT.filter(F=>F.type==="sub").map(F=>{const at=V?.bets?.[F.id]||0,P=C[F.id]||0,G=at+P,nt=G>0;return y.jsxs(Un.div,{whileTap:{scale:.95},onClick:()=>Ft(F.id),style:{...Mt.zoneCardSmall,border:nt?`2px solid ${F.color}`:"1px solid #333",background:nt?`linear-gradient(180deg, ${F.color}22, #111)`:"#161616",opacity:1},children:[y.jsx("div",{style:{color:F.color,fontSize:"13px",fontWeight:"900"},children:F.name}),y.jsx("div",{style:{color:"#fff",fontSize:"10px",marginTop:"2px"},children:F.label}),nt&&y.jsx("div",{style:{marginTop:"5px",background:F.color,color:"#fff",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px",zIndex:10,position:"relative"},children:G.toLocaleString()}),nt&&y.jsx(iT,{type:F.id,value:G})]},F.id)})}),y.jsx("div",{style:Mt.rowBottom,children:rT.filter(F=>F.type==="main").map(F=>{const at=V?.bets?.[F.id]||0,P=C[F.id]||0,G=at+P,nt=G>0;return y.jsxs(Un.div,{whileTap:{scale:.95},onClick:()=>Ft(F.id),style:{...Mt.zoneCardBig,border:nt?`2px solid ${F.color}`:"1px solid #333",background:nt?`linear-gradient(180deg, ${F.color}22, #111)`:"#161616",opacity:1},children:[y.jsx("div",{style:{color:F.color,fontSize:"28px",fontWeight:"900"},children:F.name[0]}),y.jsx("div",{style:{color:F.color,fontSize:"14px",fontWeight:"bold",marginTop:"-5px"},children:F.name}),nt?y.jsx("div",{style:{marginTop:"8px",background:F.color,color:"#fff",fontSize:"14px",fontWeight:"bold",padding:"4px 12px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)",zIndex:10,position:"relative"},children:G.toLocaleString()}):y.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"5px"},children:F.desc}),nt&&y.jsx(iT,{type:F.id,value:G})]},F.id)})})]}),y.jsxs("div",{style:Mt.tabSection,children:[y.jsxs("div",{style:Mt.tabHeader,children:[y.jsx("button",{style:{...Mt.tabBtn,color:U==="mine"?"#fff":"#666",borderBottom:U==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>N("mine"),children:" "}),y.jsx("button",{style:{...Mt.tabBtn,color:U==="total"?"#fff":"#666",borderBottom:U==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>N("total"),children:""})]}),y.jsxs("div",{style:Mt.tabContent,children:[U==="mine"&&M.slice(0,30).map((F,at)=>{const P=F.earn-F.cost,G=F.earn===F.cost&&F.earn>0,nt=F.bets?Object.entries(F.bets).map(([pt,vt])=>`${pt.substring(0,1)}:${vt/1e3}k`).join(" "):F.picks?F.picks.join(" "):F.pick;return y.jsxs("div",{style:{...Mt.histItem,flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"12px",color:"#666"},children:[y.jsxs("span",{style:Mt.histRound,children:["No. ",F.round]}),y.jsx("span",{style:Mt.histDate,children:F.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[y.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Bet: ",y.jsx("b",{style:{color:"#fff"},children:nt})]}),y.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Res: ",y.jsxs("b",{style:{color:"#fff"},children:[F.result," ",F.isPP&&"(PP)"," ",F.isBP&&"(BP)"]})]})]}),y.jsx("div",{style:Mt.histRight,children:y.jsx("div",{style:{...Mt.histEarn,color:P>0?"#34D399":G?"#fff":"#FB7185"},children:P>0?`+${P.toLocaleString()}`:G?"REFUND":`-${F.cost.toLocaleString()}`})})]})]},`my-${at}`)}),U==="total"&&R.slice(0,30).map((F,at)=>y.jsxs("div",{style:Mt.histItem,children:[y.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[F.round,""]}),y.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:F.result==="PLAYER"?"#4d94ff":F.result==="BANKER"?"#ff4d4d":"#00e676"},children:[F.result," ",F.isPP&&y.jsx("small",{style:{color:"#4d94ff",fontSize:"9px"},children:"PP"})," ",F.isBP&&y.jsx("small",{style:{color:"#ff4d4d",fontSize:"9px"},children:"BP"})]})]},`tot-${at}`)),(U==="mine"?M:R).length===0&&y.jsx("div",{style:Mt.emptyText,children:" ."})]})]})]}),y.jsx(pm,{children:y.jsxs(Un.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:Mt.bottomPanel,children:[(V||Object.keys(C).length>0)&&y.jsxs("div",{style:Mt.statusHeader,children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("span",{style:{fontSize:"12px",color:"#aaa"},children:" :"}),y.jsxs("b",{style:{color:"#fff",fontSize:"14px"},children:[((V?.totalCost||0)+Object.values(C).reduce((F,at)=>F+at,0)).toLocaleString()," DIA"]})]}),V&&f.timeLeft>10&&y.jsx("button",{onClick:X,style:Mt.cancelBtnSmall,children:" "})]}),y.jsxs("div",{style:{marginTop:"10px"},children:[y.jsxs("div",{style:Mt.amountPresets,children:[["1000","5000","10000","50000"].map(F=>y.jsxs("button",{onClick:()=>B(F),style:{...Mt.presetBtn,color:k===F?"#ffd700":"#fff",border:k===F?"1px solid #ffd700":"none"},children:[parseInt(F)/1e3,"k"]},F)),y.jsx("button",{onClick:ct,style:{...Mt.presetBtn,color:"#ff3b30"},children:"Reset"})]}),y.jsxs("div",{style:Mt.betInputGroup,children:[y.jsx("input",{type:"number",value:k,onChange:F=>B(F.target.value),style:Mt.mainInput,placeholder:"    "}),y.jsx("button",{style:Mt.finalBtn,onClick:W,disabled:Object.keys(C).length===0,children:Object.keys(C).length>0?"CONFIRM":"CHOOSE CHIP"})]})]})]})}),y.jsx(pm,{children:L&&y.jsx(Un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:Mt.modalOverlay,onClick:()=>Y(null),children:y.jsxs(Un.div,{initial:{scale:.8},animate:{scale:1},style:Mt.modalCard,onClick:F=>F.stopPropagation(),children:[y.jsx("div",{style:{...Mt.modalTitle,color:L.totalEarn>L.totalCost?"#ffd700":L.totalEarn===L.totalCost?"#fff":"#FB7185",fontSize:"32px",marginBottom:"10px"},children:L.totalEarn>L.totalCost?"WIN!":L.totalEarn===L.totalCost?"DRAW":"LOSE"}),y.jsxs("div",{style:{fontSize:"20px",margin:"20px 0",fontWeight:"bold",color:"#fff"},children:[L.result," WIN",y.jsxs("div",{style:{fontSize:"12px",marginTop:"5px",color:"#aaa"},children:[L.isPP&&y.jsx("span",{style:{color:"#4d94ff",marginRight:"5px"},children:"Player Pair!"}),L.isBP&&y.jsx("span",{style:{color:"#ff4d4d"},children:"Banker Pair!"})]})]}),y.jsxs("div",{style:Mt.modalInfoBox,children:[y.jsxs("div",{children:["Bet: ",L.totalCost.toLocaleString()]}),y.jsxs("div",{children:["Win: ",L.totalEarn.toLocaleString()]})]}),y.jsxs("div",{style:{...Mt.modalAmount,color:L.totalEarn>L.totalCost?"#34D399":"#fff"},children:[L.totalEarn>L.totalCost?"+":"",(L.totalEarn-L.totalCost).toLocaleString()," DIA"]}),y.jsx("button",{style:Mt.modalCloseBtn,onClick:()=>Y(null),children:"CLOSE"})]})})})]})}const Mt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:999,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",pointerEvents:"auto"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"25px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},baccaratGrid:{display:"flex",flexDirection:"column",gap:"10px"},rowTop:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",height:"90px"},rowBottom:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",height:"150px"},zoneCardSmall:{borderRadius:"14px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},zoneCardBig:{borderRadius:"18px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDate:{fontSize:"11px",color:"#444"},histRight:{textAlign:"right"},histEarn:{fontSize:"15px",fontWeight:"900"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"fixed",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},statusHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"15px",borderBottom:"1px solid #333",marginBottom:"15px"},cancelBtnSmall:{background:"#ff3b30",color:"#fff",border:"none",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"bold"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"24px",fontWeight:"900"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"13px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},ut={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},gd=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],rw=(i,t)=>{const e=i>=0&&i<gd.length?i:0;return`https://api.dicebear.com/7.x/${gd[e]}/svg?seed=${t}_${e}&backgroundColor=2a2a2e`},iN=(i=0)=>i>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:i>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:i/1e6*100}:i>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:i/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:i/1e5*100},sN=({userId:i,tempSelectedIdx:t,tempUploadedImg:e,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:p})=>{const g=q.useRef(null);return y.jsxs("div",{style:ut.avatarPicker,children:[y.jsxs("div",{style:ut.pickerHeader,children:[y.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:p,style:ut.randomBtn,children:" "}),y.jsx("button",{onClick:u,style:ut.closeBtn,children:""})]})]}),y.jsx("div",{style:ut.charGrid,children:gd.map((v,x)=>y.jsx("div",{onClick:()=>{o(null),r(x)},style:{...ut.pickerItem,border:t===x&&!e?"2px solid #D4AF37":"1px solid #333"},children:y.jsx("img",{src:rw(x,i),alt:"char",style:{width:"85%"}})},x))}),y.jsx("input",{type:"file",accept:"image/*",ref:g,onChange:v=>{const x=v.target.files[0];if(x){const f=new FileReader;f.onloadend=()=>{o(f.result),r(-1)},f.readAsDataURL(x)}},style:{display:"none"}}),y.jsx("button",{onClick:()=>g.current.click(),style:ut.uploadBtn,children:"   "}),y.jsx("button",{onClick:c,style:ut.applyBtn,children:""})]})},aT=new BroadcastChannel("daisy_global_channel"),rN=(i,t,e)=>{const[r,o]=q.useState(i||null),[u,c]=q.useState(()=>{if(!i)return!1;const O=new Date().toDateString();return localStorage.getItem(`last_checkin_${i.id}`)===O}),[p,g]=q.useState([]),[v,x]=q.useState([]);q.useEffect(()=>{i&&o(i)},[i]),q.useEffect(()=>{const O=(Y,et)=>{o(J=>J&&J.id===Y?{...J,diamond:et}:J)},L=Y=>{const{userId:et,point:J}=Y.detail||{};et&&O(et,J)};return window.addEventListener("user_point_update",L),aT.onmessage=Y=>{const{type:et,userId:J,point:j}=Y.data||{};et==="POINT_UPDATE"&&J&&O(J,j)},()=>window.removeEventListener("user_point_update",L)},[]),q.useEffect(()=>{if(!r?.id)return;const O=wa(zn($t,"deposit_requests"),im("userId","==",r.id)),L=wa(zn($t,"withdraw_requests"),im("userId","==",r.id)),Y=wa(zn($t,"finance_history"),im("userId","==",r.id));let et=[],J=[],j=[];const C=()=>{const U=j.filter(W=>W.type==="").map(W=>({...W,status:""})),N=[...et,...U].sort((W,X)=>new Date(X.timestamp||X.completedAt)-new Date(W.timestamp||W.completedAt));g(N);const Ct=j.filter(W=>W.type==="").map(W=>({...W,status:""})),Ft=[...J,...Ct].sort((W,X)=>new Date(X.timestamp||X.completedAt)-new Date(W.timestamp||W.completedAt));x(Ft)},I=cs(O,U=>{et=U.docs.map(N=>({id:N.id,...N.data(),status:""})),C()}),k=cs(L,U=>{J=U.docs.map(N=>({id:N.id,...N.data(),status:""})),C()}),B=cs(Y,U=>{j=U.docs.map(N=>({id:N.id,...N.data()})),C()});return()=>{I(),k(),B()}},[r?.id]);const f=q.useCallback(O=>{window.speechSynthesis.cancel();const L=new SpeechSynthesisUtterance(O),Y=window.speechSynthesis.getVoices(),et=Y.find(J=>J.lang.includes("ko")&&J.name.includes("Google"))||Y.find(J=>J.lang.includes("ko")&&(J.name.includes("Female")||J.name.includes("")))||Y.find(J=>J.lang.includes("ko"));et&&(L.voice=et),L.lang=e?"ko-KR":"en-US",L.rate=1.1,L.pitch=1,window.speechSynthesis.speak(L)},[e]);return{userInfo:r,isCheckedIn:u,myDeposits:p,myWithdraws:v,handleDailyCheckIn:async()=>{if(!u)try{const O=Ie($t,"settings","global"),L=await Li(O);if(!L.exists())throw new Error("Database Error");const Y=L.data().users||[],et=Math.floor(Math.random()*1901)+100;let J=0;const j=Y.map(I=>I.id===r.id?(J=(I.diamond||0)+et,{...I,diamond:J}):I);await fs(O,{users:j}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(I=>({...I,diamond:J})),t&&t(J),aT.postMessage({type:"POINT_UPDATE",userId:r.id,point:J});const C=e?`  ${et}  .`:`Daily bonus ${et} diamonds paid.`;f(C),alert(e?`! ${et.toLocaleString()} DIA .`:`Congrats! ${et.toLocaleString()} DIA paid.`)}catch(O){console.error(O);const L=1e3;o(Y=>({...Y,diamond:(Y.diamond||0)+L})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(e?`( ) ${L} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(O,L)=>{if(!O.trim()||!L)return alert(e?" .":"Enter info.");try{return await Mu(zn($t,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:O,amount:Number(L),status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Deposit requested."),alert(e?" !":"Done!"),!0}catch(Y){return alert("Error: "+Y.message),!1}},requestWithdraw:async(O,L,Y)=>{const et=localStorage.getItem(`user_pin_${r.id}`);if(Y!==et)return alert(e?" ":"PIN mismatch");if(Number(O)>r.diamond)return alert(e?" ":"Not enough balance");try{return await Mu(zn($t,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(O),bankInfo:L,status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Withdrawal requested."),alert(e?" !":"Done!"),!0}catch(J){return alert("Error: "+J.message),!1}},updatePassword:async(O,L,Y)=>{if(!O||L!==Y)return alert(e?"  .":"Check inputs.");try{const et=Ie($t,"settings","global"),J=await Li(et);if(J.exists()){const C=(J.data().users||[]).map(I=>I.id===r.id?{...I,password:L}:I);await fs(et,{users:C})}return alert(e?"  ":"Success"),!0}catch(et){return alert("Error: "+et.message),!1}},updatePin:async(O,L,Y)=>{const et=localStorage.getItem(`user_pin_${r.id}`);if(et&&O!==et)return alert(e?" PIN ":"Old PIN wrong");if(L!==Y||L.length!==6)return alert(e?" PIN  ":"Check New PIN");try{const J=Ie($t,"settings","global"),j=await Li(J);if(j.exists()){const C=j.data().users.map(I=>I.id===r.id?{...I,pin:L}:I);await fs(J,{users:C})}return localStorage.setItem(`user_pin_${r.id}`,L),alert(e?" ":"Done"),!0}catch(J){return alert("Error: "+J.message),!1}},updateAvatar:async(O,L,Y)=>{const et={image:O,idx:L};try{const J=Ie($t,"settings","global"),j=await Li(J);if(j.exists()){const C=j.data().users.map(I=>I.id===r.id?{...I,avatar:et}:I);await fs(J,{users:C})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(et)),Y&&Y(O,L),alert(e?"  ":"Updated"),!0}catch(J){return alert("Error: "+J.message),!1}}}},Ba=({title:i,onBack:t})=>y.jsxs("div",{style:ut.subHeader,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.subTitle,children:i}),y.jsx("div",{style:{width:30}})]}),aN=({onBack:i,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),[g,v]=q.useState(""),x=async()=>{await e(o,c,g)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Change Password",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"ID"}),y.jsx("input",{style:ut.inputDisabled,value:r.id,disabled:!0})]}),y.jsx("div",{style:{height:20}}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Old Password"}),y.jsx("input",{type:"password",style:ut.input,value:o,onChange:f=>u(f.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"New Password"}),y.jsx("input",{type:"password",style:ut.input,value:c,onChange:f=>p(f.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Confirm"}),y.jsx("input",{type:"password",style:ut.input,value:g,onChange:f=>v(f.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:x,children:t?"":"Save"})]})]})},oN=({onBack:i,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),[g,v]=q.useState(""),x=localStorage.getItem(`user_pin_${r.id}`),f=async()=>{await e(o,c,g)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:x?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[x?y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN":"Old PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:_=>u(_.target.value.replace(/[^0-9]/g,""))})]}):null,y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN (6)":"New PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:_=>p(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"PIN ":"Confirm"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:g,onChange:_=>v(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:ut.saveBtn,onClick:f,children:t?"":"Done"})]})]})},lN=({onBack:i,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),g=async()=>{await e(o,c)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Deposit",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Name"}),y.jsx("input",{style:ut.input,value:o,onChange:v=>u(v.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:c,onChange:v=>p(v.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:g,children:t?"":"Request"})]})]})},uN=({onBack:i,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=q.useState(""),[c,p]=q.useState(""),[g,v]=q.useState(""),[x,f]=q.useState(""),[_,S]=q.useState(""),E=async()=>{await e(o,{bank:c,account:g,holder:x},_)&&i()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Withdraw",onBack:i}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:o,onChange:R=>u(R.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Bank Info"}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:R=>p(R.target.value)}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Account No",value:g,onChange:R=>v(R.target.value)}),y.jsx("input",{style:ut.input,placeholder:t?"":"Holder",value:x,onChange:R=>f(R.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:_,onChange:R=>S(R.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:{...ut.saveBtn,background:"#D4AF37",color:"#000"},onClick:E,children:t?"":"Request"})]})]})},oT=({onBack:i,isKo:t,title:e,data:r})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:e,onBack:i}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",p=c?"#4cd137":"#fbc531",g=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",v=c?t?"":"Done":t?"":"Pending";return y.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),y.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),y.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),y.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:g,color:p,border:`1px solid ${p}`},children:v})]},u)})})]}),cN=({onBack:i,isKo:t,userId:e})=>{const r=q.useMemo(()=>{if(!e)return[];const o=localStorage.getItem(`event_my_history_${e}`);return o?JSON.parse(o):[]},[e]);return y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"History",onBack:i}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>y.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[y.jsxs("span",{children:[o.round,t?"":"R"]}),y.jsx("span",{children:o.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),y.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},fN=({onBack:i,isKo:t,onChangeView:e})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ba,{title:t?" ":"Settings",onBack:i}),y.jsxs("div",{style:ut.settingList,children:[y.jsxs("div",{style:ut.settingItem,onClick:()=>e("profile"),children:[y.jsx("span",{style:ut.settingText,children:t?"  ":"Change Password"}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.settingItem,onClick:()=>e("payment_pin"),children:[y.jsx("span",{style:ut.settingText,children:t?" (PIN) ":"Setup PIN"}),y.jsx("span",{style:ut.arrow,children:""})]})]})]});function dN({user:i,onBack:t,onLogout:e,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:p}){const[g,v]=q.useState("main"),x=p.home==="",{userInfo:f,isCheckedIn:_,myDeposits:S,myWithdraws:E,handleDailyCheckIn:R,requestDeposit:M,requestWithdraw:V,updatePassword:O,updatePin:L,updateAvatar:Y}=rN(i,c,x),[et,J]=q.useState(o||0),[j,C]=q.useState(r||null),[I,k]=q.useState(!1);if(!f)return y.jsx("div",{style:ut.loading,children:"SECRET MEMBERSHIP..."});const B=iN(f.diamond);return g==="profile"?y.jsx(aN,{onBack:()=>v("settings"),isKo:x,onSubmit:O,userInfo:f}):g==="payment_pin"?y.jsx(oN,{onBack:()=>v("settings"),isKo:x,onSubmit:L,userInfo:f}):g==="deposit"?y.jsx(lN,{onBack:()=>v("main"),isKo:x,onSubmit:M,onViewHistory:()=>v("deposit_history")}):g==="withdraw"?y.jsx(uN,{onBack:()=>v("main"),isKo:x,onSubmit:V,onViewHistory:()=>v("withdraw_history")}):g==="deposit_history"?y.jsx(oT,{onBack:()=>v("deposit"),isKo:x,title:x?"  ":"Deposit History",data:S}):g==="withdraw_history"?y.jsx(oT,{onBack:()=>v("withdraw"),isKo:x,title:x?"  ":"Withdraw History",data:E}):g==="history"?y.jsx(cN,{onBack:()=>v("main"),isKo:x,userId:f.id}):g==="settings"?y.jsx(fN,{onBack:()=>v("main"),isKo:x,onChangeView:v}):g==="event_donation"?y.jsx(sw,{user:f,userPoint:f.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>v("main"),t:p}):y.jsxs("div",{style:ut.container,children:[y.jsxs("div",{style:ut.topBar,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.topTitle,children:"PRIVATE LOUNGE"}),y.jsx("span",{onClick:()=>v("settings"),style:ut.settingsIcon,children:""})]}),y.jsx("div",{style:ut.profileHeaderMain,children:y.jsxs("div",{style:ut.profileInfoMain,children:[y.jsxs("div",{style:ut.avatarWrapper,children:[y.jsx("div",{style:ut.avatarLarge,children:r?y.jsx("img",{src:r,alt:"profile",style:ut.imgFull}):y.jsx("img",{src:rw(o,f.id),alt:"avatar",style:ut.imgFull})}),y.jsx("button",{style:ut.editBadgeOutside,onClick:()=>k(!0),children:x?"":"Edit"})]}),y.jsxs("div",{style:ut.userTextMain,children:[y.jsxs("div",{style:ut.userIdMain,children:[f.name||f.id," ",y.jsx("span",{style:{...ut.vipBadge,background:B.color,color:"#000"},children:B.name})]}),y.jsxs("div",{style:ut.tierContainer,children:[y.jsxs("div",{style:ut.tierText,children:[x?" ":"Next Tier",": ",B.next.toLocaleString()]}),y.jsx("div",{style:ut.tierBarOuter,children:y.jsx("div",{style:{...ut.tierBarInner,width:`${B.per}%`,background:B.color}})})]}),y.jsxs("div",{style:ut.userNoMain,children:["UID: ",f.no||"000000"]})]})]})}),y.jsxs("div",{style:ut.balanceCard,children:[y.jsxs("div",{style:ut.balanceItem,children:[y.jsx("div",{style:ut.label,children:x?" ":"Diamonds"}),y.jsxs("div",{style:ut.value,children:[" ",f.diamond?.toLocaleString()??0]})]}),y.jsx("div",{style:ut.divider}),y.jsxs("div",{style:{...ut.balanceItem,cursor:_?"default":"pointer"},onClick:R,children:[y.jsx("div",{style:{...ut.label,color:_?"#444":"#D4AF37"},children:_?x?" ":"Claimed":x?" ":"Daily Bonus"}),y.jsx("div",{style:ut.value,children:_?"":""})]})]}),y.jsxs("div",{style:ut.menuList,children:[y.jsxs("div",{style:ut.goldMenu,onClick:()=>v("event_donation"),children:[y.jsxs("div",{style:ut.goldMenuContent,children:[y.jsx("div",{style:ut.goldTag,children:"HOT"}),y.jsx("span",{style:ut.goldMenuTitle,children:x?"  ":"Join Event"})]}),y.jsx("span",{children:""})]}),y.jsxs("div",{style:ut.menuGroup,children:[y.jsxs("div",{style:ut.menuItem,onClick:()=>v("deposit"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?" ":"Deposit"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>v("withdraw"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?" ":"Withdraw"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>v("history"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?" ":"History"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",x?"1:1  ":"1:1 Support"]}),y.jsx("span",{style:ut.arrow,children:""})]})]}),y.jsx("button",{onClick:e,style:{...ut.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:x?"":"LOG OUT"})]}),I&&y.jsx(sN,{userId:f.id,tempSelectedIdx:et,tempUploadedImg:j,setTempSelectedIdx:J,setTempUploadedImg:C,onClose:()=>k(!1),onApply:()=>Y(j,et,u).then(U=>U&&k(!1)),onRandom:()=>{C(null),J(Math.floor(Math.random()*gd.length))}})]})}function hN({user:i,onUpdatePoint:t,appAvatarImage:e,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:p,dashStyles:g,isGuest:v,members:x=[],regions:f=[],slideImages:_=[],videos:S=[],videoCategories:E=[],innerLogo:R,telegramLink:M="https://t.me/your_address"}){const[V,O]=q.useState("home"),[L,Y]=q.useState(null),[et,J]=q.useState(""),[j,C]=q.useState(""),[I,k]=q.useState(!1),[B,U]=q.useState(!1),N=i||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},Ct=S.filter(nt=>et==="ALL"||!et?!0:nt.category===et),Ft=x.filter(nt=>!j||j===""||j==="ALL"?!0:nt.region===j),[W,X]=q.useState(()=>{const nt=localStorage.getItem("live_count"),pt=nt?parseInt(nt):142;return pt>=123&&pt<=179?pt:145});q.useEffect(()=>{const nt=setInterval(()=>{X(pt=>{const vt=Math.random();let _t=vt<.45?1:vt<.9?-1:vt<.95?2:-2,Tt=pt+_t;return Tt<=123&&(Tt=125),Tt>=179&&(Tt=177),localStorage.setItem("live_count",Tt),Tt})},5e3);return()=>clearInterval(nt)},[]);const ct=q.useCallback(()=>{document.getElementById("full-screen-view")||L||document.getElementById("manager-detail-view")||(V!=="home"?O("home"):U(!0),window.history.pushState(null,""))},[L,V]);q.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",ct),()=>window.removeEventListener("popstate",ct)),[ct]);const F=nt=>{if(v&&(nt==="event"||nt==="mypage")){alert(p==="ko"?"   .":"Authorized Members Only.");return}nt==="event"?(k(!0),O(nt),setTimeout(()=>k(!1),800)):O(nt)},at=nt=>{Y(nt),O("manager"),window.history.pushState({isDetail:!0},"")},P=()=>{M?window.open(M,"_blank"):alert(p==="ko"?"   .":"Link not set.")};q.useEffect(()=>{window.scrollTo(0,0)},[V]);const G=()=>{switch(V){case"home":return y.jsx(c4,{t:u,innerLogo:R,slideImages:_,members:x,setActiveTab:O,openDetail:at,handleTelegram:P,matchingCount:W});case"manager":return y.jsx(f4,{t:u,regions:f,selectedRegion:j,setSelectedRegion:C,filteredMembers:Ft,initialMember:L,onCloseDetail:()=>Y(null)});case"event":return I?y.jsxs("div",{style:ti.loadingContainer,children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("div",{style:ti.loadingText,children:p==="ko"?"   ...":"Loading Private Benefits..."})]}):y.jsx(sw,{t:u,user:N,userPoint:N.diamond,onUpdatePoint:t,onBack:()=>O("home"),confirmedImage:e,confirmedAvatarIdx:r});case"video":return y.jsx(d4,{t:u,videoCategories:E,selectedCategory:et,setSelectedCategory:J,filteredVideos:Ct});case"mypage":return y.jsx(dN,{t:u,user:N,onBack:()=>O("home"),onLogout:()=>U(!0),confirmedImage:e,confirmedAvatarIdx:r,onAvatarChange:o,s:ti});default:return null}};return y.jsxs("div",{style:{...g.container,background:"#080808",zIndex:10,position:"relative"},children:[y.jsxs("div",{style:{...g.contentArea,background:"transparent"},children:[V!=="home"&&V!=="event"&&V!=="mypage"&&y.jsx("div",{style:ti.topStatus,children:y.jsxs("div",{style:ti.statusInner,children:[y.jsx("span",{className:"dot-active"}),y.jsx("span",{style:ti.statusText,children:"LIVE CONNECTED : "}),y.jsxs("b",{style:ti.statusCount,children:[W," MEMBERS"]})]})}),G()]}),B&&y.jsx("div",{style:ti.modalOverlay,onClick:()=>U(!1),children:y.jsxs("div",{style:{...ti.modalContent,textAlign:"center"},onClick:nt=>nt.stopPropagation(),children:[y.jsx("h3",{style:ti.modalName,children:u.logout}),y.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:p==="ko"?"  ?":"Are you sure you want to log out?"}),y.jsxs("div",{style:ti.modalBtnGroup,children:[y.jsx("button",{onClick:c,style:ti.mMatchBtn,children:u.logout}),y.jsx("button",{onClick:()=>U(!1),style:ti.mCloseBtn,children:p==="ko"?"":"CANCEL"})]})]})}),y.jsx("nav",{style:{...g.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(nt=>y.jsxs("div",{onClick:()=>F(nt.key),style:{...g.navItem,color:V===nt.key?"#D4AF37":"#555"},children:[y.jsx("span",{style:{fontSize:22,filter:V===nt.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:nt.icon}),y.jsx("span",{style:{fontSize:10,fontWeight:800},children:nt.label})]},nt.key))}),y.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const ti={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},pN="dwla93cgd",mN="daisy_upload",lT=async i=>{if(!i)return null;const t=i.type.startsWith("video")?"video":"image",e=new FormData;e.append("file",i),e.append("upload_preset",mN);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${pN}/${t}/upload`,{method:"POST",body:e})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function gN({adminPreviewMode:i,setAdminPreviewMode:t,hero:e,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:p,logoSize:g,setLogoSize:v,logoPos:x,setLogoPos:f,innerLogo:_,setInnerLogo:S,onExit:E,members:R,setMembers:M,slideImages:V,setSlideImages:O,videos:L,setVideos:Y,adminPw:et,setAdminPw:J,telegramLink:j,setTelegramLink:C,saveToFirebase:I,syncToFirebase:k,openIndependent:B,styles:U}){const N={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},Ct=Object.keys(N),Ft=["","","","",""],W={name:"",region:"",loc:N.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[X,ct]=q.useState(W),[F,at]=q.useState(null),[P,G]=q.useState(!1),[nt,pt]=q.useState(""),[vt,_t]=q.useState(""),[Tt,St]=q.useState(!1),[wt,Wt]=q.useState(!1),[le,Vn]=q.useState(null),[cn,bn]=q.useState(""),xs=rt=>{ct({...X,region:rt,loc:N[rt][0]})},qn=rt=>{at(rt.id),ct(rt),St(!0);const gt=document.getElementById("manager-modal-scroll");gt&&gt.scrollTo({top:0,behavior:"smooth"})},bs=async()=>{if(P)return alert("  .  .");if(!X.img||!X.name)return alert("   .");let rt;F?(rt=R.map(ne=>ne.id===F?{...X,id:F}:ne),at(null)):rt=[...R,{...X,id:Date.now()}],M(rt),G(!0);const gt=await k({members:rt});G(!1),gt&&(ct(W),alert("    ! "))},zi=async()=>{if(!cn)return alert("   .");let rt;le?(rt=L.map(ne=>ne.id===le?{...ne,url:cn,category:nt,description:vt}:ne),Vn(null)):rt=[...L,{id:Date.now(),url:cn,category:nt,description:vt}],Y(rt),G(!0);const gt=await k({videos:rt});G(!1),gt&&(bn(""),_t(""),alert("   ! "))},re=async(rt,gt,ne)=>{const Bt=rt.target.files?.[0];if(Bt)try{G(!0);const te=await lT(Bt);if(te){ne(te);let he={};gt==="logo"?he={logo:te}:gt==="innerLogo"?he={innerLogo:te}:gt==="heroImg"&&(he={hero:{...e,imageSrc:te,mode:"image"}}),Object.keys(he).length>0&&await k(he)}}catch(te){console.error("  :",te)}finally{G(!1),rt.target.value=""}},Nt=async()=>{G(!0);const rt=await k({telegramLink:j,adminPw:et});G(!1),rt&&alert("      ! ")};return y.jsxs("div",{style:Pt.cms,children:[y.jsxs("div",{style:Pt.toggleArea,children:[y.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Pt.tabBtn,background:i==="landing"?"#ffb347":"#222",color:i==="landing"?"#000":"#888",border:i==="landing"?"2px solid #fff":"none"},children:"  "}),y.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Pt.tabBtn,background:i==="dashboard"?"#ffb347":"#222",color:i==="dashboard"?"#000":"#888",border:i==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("h3",{style:Pt.mainTitle,children:"SERVER ADMIN PANEL"}),y.jsxs("div",{style:Pt.sectionBox,children:[y.jsx("label",{style:Pt.sectionLabel,children:"    "}),y.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[y.jsx("button",{onClick:()=>r({...e,mode:"image"}),style:{...Pt.modeBtn,background:e.mode==="image"?"#fff":"#333",color:e.mode==="image"?"#000":"#888"},children:" "}),y.jsx("button",{onClick:()=>r({...e,mode:"video"}),style:{...Pt.modeBtn,background:e.mode==="video"?"#fff":"#333",color:e.mode==="video"?"#000":"#888"},children:" "})]}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"image/*",style:Pt.fileInput,onChange:rt=>re(rt,"heroImg",gt=>r({...e,imageSrc:gt,mode:"image"}))}),e.imageSrc&&y.jsx("img",{src:e.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"video/*",style:Pt.fileInput,onChange:rt=>re(rt,"heroVid",gt=>{u(gt),r({...e,mode:"video"})})}),o&&y.jsx("div",{style:{marginTop:5},children:y.jsx("p",{style:Pt.checkText,children:"  "})})]}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"    "}),y.jsx("input",{type:"file",accept:"image/*",style:Pt.fileInput,onChange:rt=>re(rt,"logo",p)}),y.jsxs("div",{style:Pt.rangeRow,children:[y.jsxs("span",{children:[": ",g,"px"]}),y.jsx("input",{type:"range",min:"40",max:"600",value:g,onChange:rt=>v(+rt.target.value)})]}),y.jsxs("div",{style:Pt.rangeGrid,children:[y.jsxs("div",{children:[y.jsx("span",{children:"(Y)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:x.y,onChange:rt=>f({...x,y:+rt.target.value})})]}),y.jsxs("div",{children:[y.jsx("span",{children:"(X)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:x.x,onChange:rt=>f({...x,x:+rt.target.value})})]})]})]})]}),y.jsxs("div",{style:{...Pt.sectionBox,borderColor:"#FFD700"},children:[y.jsx("label",{style:{...Pt.sectionLabel,color:"#FFD700"},children:"  "}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"   (Inner Logo)"}),y.jsx("input",{type:"file",accept:"image/*",style:Pt.fileInput,onChange:rt=>re(rt,"innerLogo",S)}),_&&y.jsx("img",{src:_,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"   (X  )"}),y.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Pt.fileInput,onChange:async rt=>{const gt=Array.from(rt.target.files);G(!0);const Bt=(await Promise.all(gt.map(he=>lT(he)))).filter(he=>he).map(he=>({id:Date.now()+Math.random(),url:he})),te=[...V,...Bt];O(te),await k({slideImages:te}),G(!1),rt.target.value=""}}),y.jsx("div",{style:Pt.bannerList,children:V.map(rt=>y.jsxs("div",{style:Pt.bannerThumb,children:[y.jsx("img",{src:rt.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:async()=>{const gt=V.filter(ne=>ne.id!==rt.id);O(gt),await k({slideImages:gt})},style:Pt.bannerDelBtn,children:""})]},rt.id))})]})]}),y.jsxs("div",{style:Pt.sectionBox,children:[y.jsx("label",{style:Pt.sectionLabel,children:"   "}),y.jsxs("button",{onClick:()=>St(!0),style:Pt.modalOpenBtn,children:["   (",R.length,")"]}),y.jsxs("button",{onClick:()=>Wt(!0),style:{...Pt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",L.length,")"]}),y.jsx("button",{onClick:()=>B&&B(),style:{...Pt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),y.jsxs("div",{style:Pt.sectionBox,children:[y.jsx("label",{style:Pt.sectionLabel,children:"  "}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"   "}),y.jsx("input",{type:"text",style:Pt.textInput,placeholder:"@TelegramID",value:j||"",onChange:rt=>C(rt.target.value)})]}),y.jsxs("div",{style:Pt.fieldGroup,children:[y.jsx("label",{style:Pt.fieldLabel,children:"  "}),y.jsx("input",{type:"text",style:Pt.textInput,placeholder:"  ",value:et||"",onChange:rt=>J(rt.target.value)})]}),y.jsx("button",{onClick:Nt,style:{...Pt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),y.jsx("button",{style:{...Pt.saveExitBtn,background:P?"#ffb347":"#fff",cursor:P?"wait":"pointer"},onClick:async()=>{if(P)return;G(!0);const rt=setTimeout(()=>{E()},5e3);try{I&&await I(),clearTimeout(rt),E()}catch{E()}finally{G(!1)}},children:P?"   ...":"    "})]}),Tt&&y.jsx("div",{style:fe.overlay,children:y.jsxs("div",{id:"manager-modal-scroll",style:fe.container,children:[y.jsxs("div",{style:fe.header,children:[y.jsx("h2",{style:{color:"#ffb347"},children:F?"  ":"  "}),y.jsx("button",{onClick:()=>{St(!1),at(null),ct(W)},style:fe.closeBtn,children:""})]}),y.jsxs("div",{style:fe.formBox,children:[y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[y.jsx("select",{value:X.region,onChange:rt=>xs(rt.target.value),style:fe.select,children:Ct.map(rt=>y.jsx("option",{value:rt,children:rt},rt))}),y.jsx("select",{value:X.loc,onChange:rt=>ct({...X,loc:rt.target.value}),style:fe.select,children:N[X.region].map(rt=>y.jsx("option",{value:rt,children:rt},rt))})]}),y.jsxs("div",{style:{display:"flex",gap:10},children:[y.jsx("input",{style:{...fe.input,flex:2},placeholder:" ",value:X.name,onChange:rt=>ct({...X,name:rt.target.value})}),y.jsx("input",{style:{...fe.input,flex:1},placeholder:"",value:X.age,onChange:rt=>ct({...X,age:rt.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[y.jsx("input",{style:fe.input,placeholder:" (cm)",value:X.height,onChange:rt=>ct({...X,height:rt.target.value})}),y.jsx("input",{style:fe.input,placeholder:" (kg)",value:X.weight,onChange:rt=>ct({...X,weight:rt.target.value})}),y.jsx("input",{style:fe.input,placeholder:" ()",value:X.bust,onChange:rt=>ct({...X,bust:rt.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"image/*",onChange:rt=>re(rt,"image",gt=>ct({...X,img:gt}))}),X.img&&y.jsx("img",{src:X.img,style:fe.previewImg,alt:"p"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"video/*",onChange:rt=>re(rt,"video",gt=>ct({...X,video:gt}))}),X.video&&y.jsx("video",{src:X.video,style:fe.previewImg,controls:!0})]})]}),y.jsx("button",{onClick:bs,style:fe.actionBtn,children:F?" ":" "})]}),y.jsx("div",{style:fe.list,children:R.map(rt=>y.jsxs("div",{style:fe.listItem,children:[y.jsxs("span",{children:["[",rt.loc,"] ",rt.name," (",rt.age?rt.age+"":"",")"]}),y.jsxs("div",{children:[y.jsx("button",{onClick:()=>qn(rt),style:fe.editBtn,children:""}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const gt=R.filter(ne=>ne.id!==rt.id);M(gt),await k({members:gt})}},style:fe.delBtn,children:""})]})]},rt.id))})]})}),wt&&y.jsx("div",{style:fe.overlay,children:y.jsxs("div",{id:"video-modal-scroll",style:{...fe.container,border:"2px solid #2196F3"},children:[y.jsxs("div",{style:fe.header,children:[y.jsx("h2",{style:{color:"#2196F3"},children:le?"  ":"  "}),y.jsx("button",{onClick:()=>{Wt(!1),Vn(null),_t(""),bn("")},style:fe.closeBtn,children:""})]}),y.jsxs("div",{style:fe.formBox,children:[y.jsx("select",{value:nt,onChange:rt=>pt(rt.target.value),style:fe.select,children:Ft.map(rt=>y.jsx("option",{value:rt,children:rt},rt))}),y.jsx("input",{style:{...fe.input,marginTop:10},placeholder:" ",value:vt,onChange:rt=>_t(rt.target.value)}),y.jsx("input",{type:"file",accept:"video/*",onChange:rt=>re(rt,"video",gt=>bn(gt))}),cn&&y.jsx("video",{src:cn,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),y.jsx("button",{onClick:zi,style:{...fe.actionBtn,background:"#2196F3"},children:" "})]}),y.jsx("div",{style:fe.list,children:L.map(rt=>y.jsxs("div",{style:fe.listItem,children:[y.jsx("video",{src:rt.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),y.jsx("div",{style:{flex:1,marginLeft:10},children:y.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:rt.description})}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const gt=L.filter(ne=>ne.id!==rt.id);Y(gt),await k({videos:gt})}},style:fe.delBtn,children:""})]},rt.id))})]})})]})}const Pt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},fe={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Do={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},yN=(i,t)=>{const[e,r]=q.useState(i||[]),[o,u]=q.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[c,p]=q.useState(0),[g,v]=q.useState({}),[x,f]=q.useState([]),[_,S]=q.useState([]),[E,R]=q.useState([]),[M,V]=q.useState([]),[O,L]=q.useState([]),[Y,et]=q.useState([]),[J,j]=q.useState(""),[C,I]=q.useState(""),k=q.useMemo(()=>{const F=Date.now();return e.filter(at=>at.lastActive&&F-at.lastActive<6e4)},[e]);return q.useEffect(()=>{(async()=>{const at=JSON.parse(localStorage.getItem("users")||"[]");if(at.length!==0){for(const P of at)if(P.id)try{const G=Ie($t,"users",P.id);(await Li(G)).exists()||await Fo(G,P,{merge:!0})}catch(G){console.error(" :",G)}}})()},[]),q.useEffect(()=>{const F=cs(zn($t,"users"),Tt=>{const St=Tt.docs.map(wt=>({id:wt.id,...wt.data()}));St.length>0&&(St.sort((wt,Wt)=>(Wt.lastActive||0)-(wt.lastActive||0)),r(St),t&&t(St))}),at=cs(zn($t,"event_manipulation"),Tt=>{const St={};Tt.forEach(wt=>{St[wt.id]=wt.data().winner||wt.data().items}),v(St)}),P=cs(wa(zn($t,"event_bets"),Df("round","desc"),Db(100)),Tt=>{const St=[];Tt.forEach(wt=>St.push({id:wt.id,...wt.data()})),St.length>0&&S(St)}),G=cs(wa(zn($t,"deposit_requests"),Df("timestamp","desc")),Tt=>{const St=[];Tt.forEach(wt=>St.push({id:wt.id,...wt.data()})),R(St)}),nt=cs(wa(zn($t,"withdraw_requests"),Df("timestamp","desc")),Tt=>{const St=[];Tt.forEach(wt=>St.push({id:wt.id,...wt.data()})),V(St)}),pt=cs(wa(zn($t,"finance_history"),Df("completedAt","desc"),Db(50)),Tt=>{const St=[];Tt.forEach(wt=>St.push({id:wt.id,...wt.data()})),L(St)});et(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const vt=JSON.parse(localStorage.getItem("event_total_history")||"[]");f(vt.sort((Tt,St)=>St.round-Tt.round));const _t=setInterval(()=>{const St=Date.now()-Do.START_TIME,wt=Do.BASE_ROUND+Math.floor(St/(Do.ROUND_DURATION*1e3)),Wt=Do.ROUND_DURATION*1e3-St%(Do.ROUND_DURATION*1e3);let le=Math.floor(Wt/1e3);le>=Do.ROUND_DURATION&&(le=0),u({currentRound:wt,timeLeft:le,isDrawing:le<=5}),p(Vn=>Vn===0?wt+1:Vn)},1e3);return()=>{F(),at(),P(),G(),nt(),pt(),clearInterval(_t)}},[r]),{users:e,currentInfo:o,targetRound:c,setTargetRound:p,queue:g,deleteQueue:async F=>{try{await sm(Ie($t,"event_manipulation",String(F)));const at={...g};delete at[F],v(at)}catch{alert(" ")}},gameHistory:x,sponsorships:_,activeUsers:k,depositRequests:E,withdrawRequests:M,financeHistory:O,approveDeposit:async F=>{if(window.confirm(`${F.userId} ${F.amount.toLocaleString()} DIA  ?`))try{const at=Ie($t,"users",F.userId),P=await Li(at),nt=(P.exists()&&P.data().diamond||0)+F.amount;await fs(at,{diamond:nt}),await Mu(zn($t,"finance_history"),{...F,type:"",status:"",completedAt:new Date().toISOString()}),await sm(Ie($t,"deposit_requests",F.id)),alert("  !")}catch(at){alert(" : "+at.message)}},approveWithdraw:async F=>{if(window.confirm(`${F.userId}  () ?`))try{const at=Ie($t,"users",F.userId),P=await Li(at),G=P.exists()&&P.data().diamond||0;if(G<F.amount&&!window.confirm(`[]  (${G}).  ?`))return;const nt=G-F.amount;await fs(at,{diamond:nt}),await Mu(zn($t,"finance_history"),{...F,type:"",status:"",completedAt:new Date().toISOString()}),await sm(Ie($t,"withdraw_requests",F.id)),alert("  !")}catch(at){alert(" : "+at.message)}},agents:Y,newAgentName:J,setNewAgentName:j,newAgentCode:C,setNewAgentCode:I,addAgent:()=>{if(!J)return;const F=[...Y,{name:J,code:C,id:Date.now()}];et(F),localStorage.setItem("daisy_agents",JSON.stringify(F)),j(""),I("")},handleApplyManipulation:async F=>{if(!F)return alert(" .");try{return await Fo(Ie($t,"event_manipulation",String(c)),{winner:F,updatedAt:new Date().toISOString()}),v({...g,[c]:F}),alert(`[${c}]  [${F}] !`),!0}catch(at){return alert(": "+at.message),!1}},updateFullUserInfo:async(F,at,P,G)=>{const nt=parseInt(at);if(isNaN(nt))return alert(" .");if(window.confirm(`[${F}]  ?`))try{await fs(Ie($t,"users",F),{diamond:nt,refCode:P||"",referral:G||""}),alert(`[${F}]  `)}catch(pt){alert(" : "+pt.message)}},handleChangeUserPassword:async F=>{const at=window.prompt(`[${F}]   :`);if(at)try{await fs(Ie($t,"users",F),{password:at}),alert("  ")}catch(P){alert(" : "+P.message)}},handleChangeAdminPassword:async()=>{const F=window.prompt(" ' (game)'   :");if(F)try{await Fo(Ie($t,"settings","global"),{gamePw:F},{merge:!0}),localStorage.setItem("daisy_game_password",F),alert(`  : ${F}`)}catch(at){alert(" : "+at.message)}}}},vN=({depositRequests:i,withdrawRequests:t,approveDeposit:e,approveWithdraw:r})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",i.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):i.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),y.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>e(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),y.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),_N=({financeHistory:i})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):i.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),y.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),y.jsx("td",{children:y.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),y.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),y.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),xN=({currentInfo:i,targetRound:t,setTargetRound:e,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,p]=q.useState(null);return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"   "}),y.jsxs("div",{style:xt.monitorBox,children:[y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[i.currentRound,""]})]}),y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:i.timeLeft<=5?"#ff3b30":"#00ff00"},children:[i.timeLeft,""]})]}),y.jsxs("div",{children:[": ",y.jsx("span",{style:{color:i.isDrawing?"#ff3b30":"#00e676"},children:i.isDrawing?"":""})]})]}),y.jsxs("div",{style:{marginTop:30},children:[y.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),y.jsx("input",{type:"number",placeholder:"",value:t,onChange:g=>e(parseInt(g.target.value)),style:xt.adminInput}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[y.jsxs("div",{onClick:()=>p("PLAYER"),style:{...xt.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"PLAYER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),y.jsxs("div",{onClick:()=>p("TIE"),style:{...xt.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"TIE"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),y.jsxs("div",{onClick:()=>p("BANKER"),style:{...xt.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"BANKER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),y.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(g=>{g&&p(null)})},style:{...xt.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5,marginTop:"20px",width:"100%",padding:"15px",fontSize:"18px",fontWeight:"bold",border:"none",borderRadius:"8px"},children:[t,"  ",y.jsxs("b",{children:["[",c,"]"]})," "]})]}),y.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[y.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?y.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([g,v])=>y.jsxs("div",{style:xt.queueRow,children:[y.jsxs("div",{children:[y.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[g,""]}),y.jsxs("span",{style:{fontWeight:"bold",color:v==="PLAYER"?"#4d94ff":v==="BANKER"?"#ff4d4d":"#00e676"},children:[v," WIN"]})]}),y.jsx("button",{onClick:()=>o(g),style:xt.delBtn,children:""})]},g))]})]})},bN=({users:i,updateFullUserInfo:t,handleChangeUserPassword:e})=>{const[r,o]=q.useState(""),u=i.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("span",{style:{fontSize:24},children:""}),y.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:u.map(c=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?y.jsx("span",{style:{color:"#0f0"},children:""}):y.jsx("span",{style:{color:"#444"},children:""})}),y.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),y.jsxs("td",{style:{color:"#ffb347"},children:[" ",(c.diamond||0).toLocaleString()]}),y.jsx("td",{children:y.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),y.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[y.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),y.jsx("button",{onClick:()=>e(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},TN=({agents:i,users:t,newAgentName:e,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:p})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("input",{placeholder:"",value:e,onChange:g=>r(g.target.value),style:xt.giantInput}),y.jsx("input",{placeholder:"",value:o,onChange:g=>u(g.target.value),style:xt.giantInput}),y.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map(g=>{const v=t.filter(x=>x.referral===g.code);return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347",fontSize:18},children:g.name}),y.jsx("td",{children:g.code}),y.jsx("td",{style:{color:"#00ff00"},children:v.length}),y.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:v.map(x=>x.id).join(", ")}),y.jsx("td",{children:y.jsx("button",{onClick:()=>{const x=i.filter(f=>f.id!==g.id);p(x),localStorage.setItem("daisy_agents",JSON.stringify(x))},style:xt.delBtn,children:""})})]},g.id)})})]})]}),SN=({users:i,updateFullUserInfo:t})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:" "}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map(e=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:e.id}),y.jsx("td",{children:y.jsx("input",{id:`rc-${e.id}`,defaultValue:e.refCode||"",style:xt.giantInput})}),y.jsx("td",{children:y.jsx("input",{id:`rf-${e.id}`,defaultValue:e.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>t(e.id,e.diamond,document.getElementById(`rc-${e.id}`).value,document.getElementById(`rf-${e.id}`).value),style:xt.giantBtn,children:""})})]},e.id))})]})]}),AN=({gameHistory:i})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),y.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,") ",t.isPP&&y.jsx("small",{style:{color:"#4d94ff"},children:"PP"})," ",t.isBP&&y.jsx("small",{style:{color:"#ff4d4d"},children:"BP"})]})]},t.round))})]})]}),EN=({sponsorships:i})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"   "}),y.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:i.map((t,e)=>{const r=t.bets?Object.entries(t.bets).map(([o,u])=>`${o.substring(0,1)}:${(u/1e3).toFixed(1)}k`).join(" "):Array.isArray(t.picks)?t.picks.join(", "):t.pick;return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347"},children:t.round}),y.jsx("td",{children:y.jsx("b",{children:t.userId})}),y.jsx("td",{style:{color:"#aaa",fontSize:"12px"},children:r}),y.jsx("td",{style:{color:"#fff",fontWeight:"bold"},children:t.betAmount?.toLocaleString()}),y.jsx("td",{children:t.result?y.jsx("span",{style:{color:"#0f0"},children:t.result}):y.jsx("span",{style:{color:"#888"},children:""})})]},e)})})]})})]});function wN({users:i,setUsers:t,onExit:e}){const[r,o]=q.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:p,queue:g,deleteQueue:v,gameHistory:x,sponsorships:f,activeUsers:_,depositRequests:S,withdrawRequests:E,financeHistory:R,approveDeposit:M,approveWithdraw:V,agents:O,setAgents:L,newAgentName:Y,setNewAgentName:et,newAgentCode:J,setNewAgentCode:j,addAgent:C,handleApplyManipulation:I,updateFullUserInfo:k,handleChangeUserPassword:B,handleChangeAdminPassword:U}=yN(i,t);return y.jsxs("div",{style:xt.container,children:[y.jsxs("aside",{style:xt.sidebar,children:[y.jsx("h2",{style:xt.title,children:"CASINO MASTER"}),y.jsxs("div",{style:xt.onlineBadge,children:[y.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),y.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",_.length,""]})]}),y.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",y.jsx("span",{style:xt.countTag,children:S.length+E.length})]}),y.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),y.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:y.jsx("button",{onClick:U,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),y.jsx("button",{onClick:e,style:xt.exitBtn,children:" "})]}),y.jsxs("main",{style:xt.main,children:[r==="requests"&&y.jsx(vN,{depositRequests:S,withdrawRequests:E,approveDeposit:M,approveWithdraw:V}),r==="finance"&&y.jsx(_N,{financeHistory:R}),r==="event"&&y.jsx(xN,{currentInfo:u,targetRound:c,setTargetRound:p,queue:g,deleteQueue:v,handleApplyManipulation:I}),r==="users"&&y.jsx(bN,{users:i,updateFullUserInfo:k,handleChangeUserPassword:B}),r==="referrals"&&y.jsx(SN,{users:i,updateFullUserInfo:k}),r==="agents"&&y.jsx(TN,{agents:O,setAgents:L,users:i,newAgentName:Y,setNewAgentName:et,newAgentCode:J,setNewAgentCode:j,addAgent:C}),r==="history"&&y.jsx(AN,{gameHistory:x}),r==="sponsorships"&&y.jsx(EN,{sponsorships:f})]})]})}const CN=new BroadcastChannel("daisy_global_channel"),uT=[""," "," ","","","","","","",""],cT=["","","","",""],on=(i,t)=>{try{const e=localStorage.getItem(i);if(!e)return t;const r=JSON.parse(e);return r===null?t:r}catch{return t}},ln=(i,t)=>{try{if(t===void 0)return;localStorage.setItem(i,JSON.stringify(t))}catch(e){e.name==="QuotaExceededError"&&alert("Storage quota exceeded!")}},fT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:"",input_id_pw:"  .",id_exists:"  .",signup_ok:" !",login_fail:"  ."},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE",input_id_pw:"Please enter ID and Password.",id_exists:"ID already exists.",signup_ok:"Sign up successful!",login_fail:"Login Failed"}};function RN(){const[i,t]=q.useState(()=>on("lang","ko")),[e,r]=q.useState(()=>on("loggedIn",!1)),[o,u]=q.useState(()=>on("isAdmin",!1)),[c,p]=q.useState(()=>on("isGuest",!1)),[g,v]=q.useState(()=>on("users",[])),[x,f]=q.useState(()=>on("currentUser",null)),[_,S]=q.useState(null),[E,R]=q.useState(0),[M,V]=q.useState(!1),[O,L]=q.useState(()=>on("adminPw","123456")),[Y,et]=q.useState(()=>on("gamePw","1234")),[J,j]=q.useState(()=>on("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[C,I]=q.useState(!0),[k,B]=q.useState(()=>on("members",[])),[U,N]=q.useState(()=>on("slideImages",[])),[Ct,Ft]=q.useState(()=>on("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[W,X]=q.useState(()=>on("videoURL",null)),[ct,F]=q.useState(()=>on("videos",[])),[at,P]=q.useState(()=>on("logo",null)),[G,nt]=q.useState(()=>on("logoSize",140)),[pt,vt]=q.useState(()=>on("logoPos",{x:0,y:0})),[_t,Tt]=q.useState(()=>on("innerLogo",null)),[St,wt]=q.useState("dashboard"),Wt=q.useMemo(()=>fT[i]||fT.ko,[i]);q.useEffect(()=>{const Nt=cs(Ie($t,"settings","global"),rt=>{if(rt.exists()){const gt=rt.data();gt.hero&&Ft(gt.hero),gt.videoURL!==void 0&&X(gt.videoURL),gt.logo!==void 0&&P(gt.logo),gt.logoSize&&nt(gt.logoSize),gt.logoPos&&vt(gt.logoPos),gt.members&&B(gt.members),gt.slideImages&&N(gt.slideImages),gt.videos&&F(gt.videos),gt.innerLogo!==void 0&&Tt(gt.innerLogo),gt.adminPassword?L(gt.adminPassword):gt.adminPw&&L(gt.adminPw),gt.gamePw&&et(gt.gamePw),gt.telegramLink&&j(gt.telegramLink)}});return()=>Nt()},[]);const le=async Nt=>{try{const rt={hero:Ct,videoURL:W,logo:at,logoSize:G,logoPos:pt,members:k,slideImages:U,videos:ct,innerLogo:_t,adminPw:O,gamePw:Y,telegramLink:J,...Nt};return await Fo(Ie($t,"settings","global"),rt,{merge:!0}),console.log(" Server Sync Complete"),!0}catch(rt){return console.error(" Sync Failed:",rt),!1}},Vn=async()=>await le({}),cn=q.useCallback((Nt,rt,gt,ne)=>{v(Bt=>Bt.map(te=>te.id===Nt?{...te,diamond:rt,refCode:gt,referral:ne}:te)),f(Bt=>Bt?.id===Nt?{...Bt,diamond:rt,refCode:gt,referral:ne}:Bt)},[]);q.useEffect(()=>{CN.onmessage=rt=>{const{type:gt,userId:ne,point:Bt,refCode:te,referral:he}=rt.data||{};(gt==="USER_UPDATE"||gt==="POINT_UPDATE")&&ne&&cn(ne,Bt,te,he)};const Nt=rt=>{const{userId:gt,point:ne,refCode:Bt,referral:te}=rt.detail||{};gt&&cn(gt,ne,Bt,te)};return window.addEventListener("user_point_update",Nt),()=>window.removeEventListener("user_point_update",Nt)},[cn]),q.useEffect(()=>{ln("lang",i),ln("loggedIn",e),ln("isAdmin",o),ln("isGuest",c),ln("users",g),ln("currentUser",x),ln("members",k),ln("hero",Ct),ln("logo",at),ln("logoSize",G),ln("logoPos",pt),ln("slideImages",U),ln("videoURL",W),ln("videos",ct),ln("innerLogo",_t),ln("adminPw",O),ln("gamePw",Y),ln("telegramLink",J)},[i,e,o,c,g,x,Ct,at,G,pt,k,U,W,ct,_t,O,Y,J]);const bn=async(Nt,rt)=>{let gt=O,ne=Y;try{const Bt=await Li(Ie($t,"settings","global"));if(Bt.exists()){const te=Bt.data();te.adminPw&&(gt=te.adminPw),te.gamePw&&(ne=te.gamePw),L(gt),et(ne)}}catch{console.error("Setting Load Fail")}if(Nt==="game")if(rt===ne){V(!0),r(!0);return}else return alert("   .");if(Nt==="admin")if(rt===gt){u(!0),r(!0),f({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),wt("dashboard");return}else return alert("   .");try{const Bt=Ie($t,"users",Nt),te=await Li(Bt);if(te.exists()){const he=te.data();he.password===rt?(f(he),r(!0),p(!1),fs(Bt,{lastActive:Date.now()})):alert(Wt.login_fail||"  .")}else{const he=g.find(Ui=>Ui.id===Nt&&Ui.pw===rt);he?(await Fo(Ie($t,"users",Nt),he,{merge:!0}),f(he),r(!0),p(!1)):alert(Wt.login_fail||"  .")}}catch(Bt){console.error(Bt),alert("Login Error")}},xs=async(Nt,rt,gt,ne)=>{if(!Nt||!rt)return alert(Wt.input_id_pw||"ID/PW Required");try{const Bt=Ie($t,"users",Nt);if((await Li(Bt)).exists()){alert(Wt.id_exists||"ID exists");return}const he={id:Nt,password:rt,nickname:gt||Nt,referral:ne||"",diamond:0,rewards:0,lastActive:Date.now(),createdAt:new Date().toISOString()};await Fo(Bt,he),v(Ui=>[...Ui,he]),alert(Wt.signup_ok||"Welcome!")}catch(Bt){console.error(Bt),alert("Signup Error")}},qn=()=>{r(!1),u(!1),p(!1),V(!1),f(null)},bs=(Nt,rt)=>{S(Nt),R(rt)};if(M)return y.jsx(wN,{users:g,setUsers:v,onExit:qn});const zi=e&&x,re=!zi||o&&St==="landing";return y.jsxs("div",{style:{...Ta.app,height:"100vh",overflow:"hidden"},children:[C&&!o&&zi&&!re&&y.jsx("div",{style:Ta.popupOverlay,children:y.jsxs("div",{style:Ta.popupContent,children:[y.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),y.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),y.jsx("button",{onClick:()=>I(!1),style:Ta.popupBtn,children:Wt.close})]})}),re?y.jsx("div",{style:{height:"100%",overflowY:"auto"},children:y.jsx(u4,{t:Wt,lang:i,users:g,setUsers:v,hero:Ct,videoURL:W,logo:at,logoSize:G,logoPos:pt,styles:Ta,isAdmin:o,setLang:t,onLogin:bn,onSignup:xs,onGuestLogin:()=>{f({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),p(!0)},syncToFirebase:le})}):y.jsx(hN,{user:x,onUpdatePoint:Nt=>cn(x.id,Nt,x.refCode,x.referral),appAvatarImage:_,appAvatarIdx:E,onAvatarChange:bs,t:Wt,lang:i,isGuest:c,members:k,regions:uT,slideImages:U,videos:ct,videoCategories:cT,innerLogo:_t,telegramLink:J,onLogout:qn,dashStyles:IN}),o&&y.jsx(gN,{adminPreviewMode:St,setAdminPreviewMode:wt,hero:Ct,setHero:Ft,setVideoURL:X,videoURL:W,logo:at,setLogo:P,logoSize:G,setLogoSize:nt,logoPos:pt,setLogoPos:vt,members:k,setMembers:B,regions:uT,slideImages:U,setSlideImages:N,videos:ct,setVideos:F,videoCategories:cT,innerLogo:_t,setInnerLogo:Tt,onExit:qn,styles:Ta,adminPw:O,setAdminPw:L,telegramLink:J,setTelegramLink:j,openIndependent:()=>V(!0),saveToFirebase:Vn,syncToFirebase:le}),!o&&re&&y.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:y.jsx("button",{style:Ta.langBtn,onClick:()=>t(i==="ko"?"en":"ko"),children:i==="ko"?"ENGLISH":""})})]})}const Ta={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},IN={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};G2.createRoot(document.getElementById("root")).render(y.jsx(q.StrictMode,{children:y.jsx(RN,{})}));

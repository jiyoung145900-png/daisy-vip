(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Up={exports:{}},au={};var l1;function P2(){if(l1)return au;l1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return au.Fragment=t,au.jsx=i,au.jsxs=i,au}var u1;function L2(){return u1||(u1=1,Up.exports=P2()),Up.exports}var p=L2(),Fp={exports:{}},kt={};var c1;function k2(){if(c1)return kt;c1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function M(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,B={};function Z(N,W,st){this.props=N,this.context=W,this.refs=B,this.updater=st||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},Z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=Z.prototype;function H(N,W,st){this.props=N,this.context=W,this.refs=B,this.updater=st||k}var Q=H.prototype=new O;Q.constructor=H,q(Q,Z.prototype),Q.isPureReactComponent=!0;var tt=Array.isArray;function et(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(N,W,st){var dt=st.ref;return{$$typeof:n,type:N,key:W,ref:dt!==void 0?dt:null,props:st}}function V(N,W){return R(N.type,W,N.props)}function j(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function P(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(st){return W[st]})}var D=/\/+/g;function At(N,W){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):W.toString(36)}function wt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(et,et):(N.status="pending",N.then(function(W){N.status==="pending"&&(N.status="fulfilled",N.value=W)},function(W){N.status==="pending"&&(N.status="rejected",N.reason=W)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Y(N,W,st,dt,yt){var pt=typeof N;(pt==="undefined"||pt==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(pt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case n:case t:_t=!0;break;case v:return _t=N._init,Y(_t(N._payload),W,st,dt,yt)}}if(_t)return yt=yt(N),_t=dt===""?"."+At(N,0):dt,tt(yt)?(st="",_t!=null&&(st=_t.replace(D,"$&/")+"/"),Y(yt,W,st,"",function(xn){return xn})):yt!=null&&(j(yt)&&(yt=V(yt,st+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(D,"$&/")+"/")+_t)),W.push(yt)),1;_t=0;var se=dt===""?".":dt+":";if(tt(N))for(var Xt=0;Xt<N.length;Xt++)dt=N[Xt],pt=se+At(dt,Xt),_t+=Y(dt,W,st,pt,yt);else if(Xt=M(N),typeof Xt=="function")for(N=Xt.call(N),Xt=0;!(dt=N.next()).done;)dt=dt.value,pt=se+At(dt,Xt++),_t+=Y(dt,W,st,pt,yt);else if(pt==="object"){if(typeof N.then=="function")return Y(wt(N),W,st,dt,yt);throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return _t}function I(N,W,st){if(N==null)return N;var dt=[],yt=0;return Y(N,dt,"","",function(pt){return W.call(st,pt,yt++)}),dt}function U(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(st){(N._status===0||N._status===-1)&&(N._status=1,N._result=st)},function(st){(N._status===0||N._status===-1)&&(N._status=2,N._result=st)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var ct=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},gt={map:I,forEach:function(N,W,st){I(N,function(){W.apply(this,arguments)},st)},count:function(N){var W=0;return I(N,function(){W++}),W},toArray:function(N){return I(N,function(W){return W})||[]},only:function(N){if(!j(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return kt.Activity=b,kt.Children=gt,kt.Component=Z,kt.Fragment=i,kt.Profiler=o,kt.PureComponent=H,kt.StrictMode=r,kt.Suspense=g,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,kt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return w.H.useMemoCache(N)}},kt.cache=function(N){return function(){return N.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(N,W,st){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var dt=q({},N.props),yt=N.key;if(W!=null)for(pt in W.key!==void 0&&(yt=""+W.key),W)!A.call(W,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&W.ref===void 0||(dt[pt]=W[pt]);var pt=arguments.length-2;if(pt===1)dt.children=st;else if(1<pt){for(var _t=Array(pt),se=0;se<pt;se++)_t[se]=arguments[se+2];dt.children=_t}return R(N.type,yt,dt)},kt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},kt.createElement=function(N,W,st){var dt,yt={},pt=null;if(W!=null)for(dt in W.key!==void 0&&(pt=""+W.key),W)A.call(W,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(yt[dt]=W[dt]);var _t=arguments.length-2;if(_t===1)yt.children=st;else if(1<_t){for(var se=Array(_t),Xt=0;Xt<_t;Xt++)se[Xt]=arguments[Xt+2];yt.children=se}if(N&&N.defaultProps)for(dt in _t=N.defaultProps,_t)yt[dt]===void 0&&(yt[dt]=_t[dt]);return R(N,pt,yt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(N){return{$$typeof:d,render:N}},kt.isValidElement=j,kt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:U}},kt.memo=function(N,W){return{$$typeof:y,type:N,compare:W===void 0?null:W}},kt.startTransition=function(N){var W=w.T,st={};w.T=st;try{var dt=N(),yt=w.S;yt!==null&&yt(st,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(et,ct)}catch(pt){ct(pt)}finally{W!==null&&st.types!==null&&(W.types=st.types),w.T=W}},kt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},kt.use=function(N){return w.H.use(N)},kt.useActionState=function(N,W,st){return w.H.useActionState(N,W,st)},kt.useCallback=function(N,W){return w.H.useCallback(N,W)},kt.useContext=function(N){return w.H.useContext(N)},kt.useDebugValue=function(){},kt.useDeferredValue=function(N,W){return w.H.useDeferredValue(N,W)},kt.useEffect=function(N,W){return w.H.useEffect(N,W)},kt.useEffectEvent=function(N){return w.H.useEffectEvent(N)},kt.useId=function(){return w.H.useId()},kt.useImperativeHandle=function(N,W,st){return w.H.useImperativeHandle(N,W,st)},kt.useInsertionEffect=function(N,W){return w.H.useInsertionEffect(N,W)},kt.useLayoutEffect=function(N,W){return w.H.useLayoutEffect(N,W)},kt.useMemo=function(N,W){return w.H.useMemo(N,W)},kt.useOptimistic=function(N,W){return w.H.useOptimistic(N,W)},kt.useReducer=function(N,W,st){return w.H.useReducer(N,W,st)},kt.useRef=function(N){return w.H.useRef(N)},kt.useState=function(N){return w.H.useState(N)},kt.useSyncExternalStore=function(N,W,st){return w.H.useSyncExternalStore(N,W,st)},kt.useTransition=function(){return w.H.useTransition()},kt.version="19.2.3",kt}var f1;function gg(){return f1||(f1=1,Fp.exports=k2()),Fp.exports}var F=gg(),qp={exports:{}},ou={},Hp={exports:{}},Gp={};var h1;function B2(){return h1||(h1=1,(function(n){function t(Y,I){var U=Y.length;Y.push(I);t:for(;0<U;){var ct=U-1>>>1,gt=Y[ct];if(0<o(gt,I))Y[ct]=I,Y[U]=gt,U=ct;else break t}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var I=Y[0],U=Y.pop();if(U!==I){Y[0]=U;t:for(var ct=0,gt=Y.length,N=gt>>>1;ct<N;){var W=2*(ct+1)-1,st=Y[W],dt=W+1,yt=Y[dt];if(0>o(st,U))dt<gt&&0>o(yt,st)?(Y[ct]=yt,Y[dt]=U,ct=dt):(Y[ct]=st,Y[W]=U,ct=W);else if(dt<gt&&0>o(yt,U))Y[ct]=yt,Y[dt]=U,ct=dt;else break t}}return I}function o(Y,I){var U=Y.sortIndex-I.sortIndex;return U!==0?U:Y.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],y=[],v=1,b=null,S=3,M=!1,k=!1,q=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Q(Y){for(var I=i(y);I!==null;){if(I.callback===null)r(y);else if(I.startTime<=Y)r(y),I.sortIndex=I.expirationTime,t(g,I);else break;I=i(y)}}function tt(Y){if(q=!1,Q(Y),!k)if(i(g)!==null)k=!0,et||(et=!0,P());else{var I=i(y);I!==null&&wt(tt,I.startTime-Y)}}var et=!1,w=-1,A=5,R=-1;function V(){return B?!0:!(n.unstable_now()-R<A)}function j(){if(B=!1,et){var Y=n.unstable_now();R=Y;var I=!0;try{t:{k=!1,q&&(q=!1,O(w),w=-1),M=!0;var U=S;try{e:{for(Q(Y),b=i(g);b!==null&&!(b.expirationTime>Y&&V());){var ct=b.callback;if(typeof ct=="function"){b.callback=null,S=b.priorityLevel;var gt=ct(b.expirationTime<=Y);if(Y=n.unstable_now(),typeof gt=="function"){b.callback=gt,Q(Y),I=!0;break e}b===i(g)&&r(g),Q(Y)}else r(g);b=i(g)}if(b!==null)I=!0;else{var N=i(y);N!==null&&wt(tt,N.startTime-Y),I=!1}}break t}finally{b=null,S=U,M=!1}I=void 0}}finally{I?P():et=!1}}}var P;if(typeof H=="function")P=function(){H(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,At=D.port2;D.port1.onmessage=j,P=function(){At.postMessage(null)}}else P=function(){Z(j,0)};function wt(Y,I){w=Z(function(){Y(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var I=3;break;default:I=S}var U=S;S=I;try{return Y()}finally{S=U}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(Y,I){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var U=S;S=Y;try{return I()}finally{S=U}},n.unstable_scheduleCallback=function(Y,I,U){var ct=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ct+U:ct):U=ct,Y){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=U+gt,Y={id:v++,callback:I,priorityLevel:Y,startTime:U,expirationTime:gt,sortIndex:-1},U>ct?(Y.sortIndex=U,t(y,Y),i(g)===null&&Y===i(y)&&(q?(O(w),w=-1):q=!0,wt(tt,U-ct))):(Y.sortIndex=gt,t(g,Y),k||M||(k=!0,et||(et=!0,P()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var I=S;return function(){var U=S;S=I;try{return Y.apply(this,arguments)}finally{S=U}}}})(Gp)),Gp}var d1;function z2(){return d1||(d1=1,Hp.exports=B2()),Hp.exports}var Yp={exports:{}},Tn={};var p1;function U2(){if(p1)return Tn;p1=1;var n=gg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,v)},Tn.flushSync=function(g){var y=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=y,r.p=v,r.d.f()}},Tn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Tn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Tn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:M}):v==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Tn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Tn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Tn.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=d(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Tn.requestFormReset=function(g){r.d.r(g)},Tn.unstable_batchedUpdates=function(g,y){return g(y)},Tn.useFormState=function(g,y,v){return c.H.useFormState(g,y,v)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var m1;function F2(){if(m1)return Yp.exports;m1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yp.exports=U2(),Yp.exports}var g1;function q2(){if(g1)return ou;g1=1;var n=z2(),t=gg(),i=F2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),e;if(m===l)return g(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=m;break}if(E===l){_=!0,l=h,a=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===a){_=!0,a=m,l=h;break}if(E===l){_=!0,l=m,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case tt:return"Suspense";case et:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case H:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case Q:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return s=e.displayName||null,s!==null?s:At(e.type)||"Memo";case A:s=e._payload,e=e._init;try{return At(e(s))}catch{}}return null}var wt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},ct=[],gt=-1;function N(e){return{current:e}}function W(e){0>gt||(e.current=ct[gt],ct[gt]=null,gt--)}function st(e,s){gt++,ct[gt]=e.current,e.current=s}var dt=N(null),yt=N(null),pt=N(null),_t=N(null);function se(e,s){switch(st(pt,s),st(yt,e),st(dt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?jx(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=jx(s),e=Vx(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(dt),st(dt,e)}function Xt(){W(dt),W(yt),W(pt)}function xn(e){e.memoizedState!==null&&st(_t,e);var s=dt.current,a=Vx(s,e.type);s!==a&&(st(yt,e),st(dt,a))}function Fn(e){yt.current===e&&(W(dt),W(yt)),_t.current===e&&(W(_t),nu._currentValue=U)}var qn,bn;function _n(e){if(qn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);qn=s&&s[1]||"",bn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qn+e+bn}var si=!1;function Ai(e,s){if(!e||si)return"";si=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(it){var J=it}Reflect.construct(e,[],ft)}else{try{ft.call()}catch(it){J=it}e.call(ft.prototype)}}else{try{throw Error()}catch(it){J=it}(ft=e())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(it){if(it&&J&&typeof it.stack=="string")return[it.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var L=_.split(`
`),$=E.split(`
`);for(h=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===L.length||h===$.length)for(l=L.length-1,h=$.length-1;1<=l&&0<=h&&L[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(L[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||L[l]!==$[h]){var rt=`
`+L[l].replace(" at new "," at ");return e.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",e.displayName)),rt}while(1<=l&&0<=h);break}}}finally{si=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_n(a):""}function wi(e,s){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return e.child!==s&&s!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return Ai(e.type,!1);case 11:return Ai(e.type.render,!1);case 1:return Ai(e.type,!0);case 31:return _n("Activity");default:return""}}function vs(e){try{var s="",a=null;do s+=wi(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,St=n.unstable_requestPaint,te=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,ri=n.unstable_UserBlockingPriority,Gs=n.unstable_NormalPriority,Hh=n.unstable_LowPriority,Qu=n.unstable_IdlePriority,Wu=n.log,Xu=n.unstable_setDisableYieldValue,Ci=null,un=null;function ai(e){if(typeof Wu=="function"&&Xu(e),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Ci,e)}catch{}}var Me=Math.clz32?Math.clz32:Zu,$u=Math.log,za=Math.LN2;function Zu(e){return e>>>=0,e===0?32:31-($u(e)/za|0)|0}var Fi=256,Kr=262144,ze=4194304;function qi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,m=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?h=qi(l):(_&=E,_!==0?h=qi(_):a||(a=E&~e,a!==0&&(h=qi(a))))):(E=l&~m,E!==0?h=qi(E):_!==0?h=qi(_):a||(a=l&~e,a!==0&&(h=qi(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Ri(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Gh(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Gi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Qr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yh(e,s,a,l,h,m){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,L=e.expirationTimes,$=e.hiddenUpdates;for(a=_&~a;0<a;){var rt=31-Me(a),ft=1<<rt;E[rt]=0,L[rt]=-1;var J=$[rt];if(J!==null)for($[rt]=null,rt=0;rt<J.length;rt++){var it=J[rt];it!==null&&(it.lane&=-536870913)}a&=~ft}l!==0&&Wr(e,l,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(_&~s))}function Wr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Me(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function ol(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Me(a),h=1<<l;h&s|e[l]&s&&(e[l]|=s),a&=~h}}function ll(e,s){var a=s&-s;return a=(a&42)!==0?1:Xr(a),(a&(e.suspendedLanes|s))!==0?0:a}function Xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:e1(e.type))}function Ii(e,s){var a=I.p;try{return I.p=e,s()}finally{I.p=a}}var Di=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Di,nn="__reactProps$"+Di,Yi="__reactContainer$"+Di,Ua="__reactEvents$"+Di,Kh="__reactListeners$"+Di,ec="__reactHandles$"+Di,nc="__reactResources$"+Di,Ki="__reactMarker$"+Di;function Fa(e){delete e[Ue],delete e[nn],delete e[Ua],delete e[Kh],delete e[ec]}function Qi(e){var s=e[Ue];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Yi]||a[Ue]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Bx(e);e!==null;){if(a=e[Ue])return a;e=Bx(e)}return s}e=a,a=e.parentNode}return null}function oi(e){if(e=e[Ue]||e[Yi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Hn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Wi(e){var s=e[nc];return s||(s=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Fe(e){e[Ki]=!0}var ul=new Set,cl={};function Xi(e,s){$i(e,s),$i(e+"Capture",s)}function $i(e,s){for(cl[e]=s,e=0;e<s.length;e++)ul.add(s[e])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function ic(e){return re.call(dl,e)?!0:re.call(hl,e)?!1:fl.test(e)?dl[e]=!0:(hl[e]=!0,!1)}function qa(e,s,a){if(ic(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Gn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function qe(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ys(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pl(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function fe(e){if(!e._valueTracker){var s=Ys(e)?"checked":"value";e._valueTracker=pl(e,s,""+e[s])}}function $r(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Ys(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function Zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zr=/[\n"\\]/g;function jn(e){return e.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ha(e,s,a,l,h,m,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+sn(s)):e.value!==""+sn(s)&&(e.value=""+sn(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?ml(e,_,sn(s)):a!=null?ml(e,_,sn(a)):l!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+sn(E):e.removeAttribute("name")}function sc(e,s,a,l,h,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){fe(e);return}a=a!=null?""+sn(a):"",s=s!=null?""+sn(s):a,E||s===e.value||(e.value=s),e.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),fe(e)}function ml(e,s,a){s==="number"&&Zi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ks(e,s,a,l){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+sn(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function rc(e,s,a){if(s!=null&&(s=""+sn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+sn(a):""}function Qs(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(wt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=sn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),fe(e)}function Vn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||ac.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function yl(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&gl(e,h,l)}else for(var m in s)s.hasOwnProperty(m)&&gl(e,m,s[m])}function Ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(e){return Ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ji(){}var vl=null;function li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xs=null,Ji=null;function Jr(e){var s=oi(e);if(s&&(e=s.stateNode)){var a=e[nn]||null;t:switch(e=s.stateNode,s.type){case"input":if(Ha(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var h=l[nn]||null;if(!h)throw Error(r(90));Ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&$r(l)}break t;case"textarea":rc(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ks(e,!!a.multiple,s,!1)}}}var Ka=!1;function $s(e,s,a){if(Ka)return e(s,a);Ka=!0;try{var l=e(s);return l}finally{if(Ka=!1,(Xs!==null||Ji!==null)&&(tf(),Xs&&(s=Xs,e=Ji,Ji=Xs=null,Jr(s),e)))for(s=0;s<e.length;s++)Jr(e[s])}}function Vi(e,s){var a=e.stateNode;if(a===null)return null;var l=a[nn]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(ui)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){ta=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{ta=!1}var ts=null,xl=null,ea=null;function bl(){if(ea)return ea;var e,s=xl,a=s.length,l,h="value"in ts?ts.value:ts.textContent,m=h.length;for(e=0;e<a&&s[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===h[m-l];l++);return ea=h.slice(e,1<l?1-l:void 0)}function na(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function Mi(){return!1}function cn(e){function s(a,l,h,m,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?bs:Mi,this.isPropagationStopped=Mi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),s}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=cn(_s),Zs=b({},_s,{view:0,detail:0}),_l=cn(Zs),Js,Qa,ns,Wa=b({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(Js=e.screenX-ns.screenX,Qa=e.screenY-ns.screenY):Qa=Js=0,ns=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Tl=cn(Wa),ia=b({},Wa,{dataTransfer:0}),lc=cn(ia),uc=b({},Zs,{relatedTarget:0}),sa=cn(uc),Sl=b({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=cn(Sl),Xa=b({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fc=cn(Xa),hc=b({},_s,{data:0}),is=cn(hc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=mc[e])?!!s[e]:!1}function tr(){return gc}var Cn=b({},Zs,{key:function(e){if(e.key){var s=dc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yc=cn(Cn),vc=b({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=cn(vc),f=b({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),x=cn(f),T=b({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=cn(T),K=b({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=cn(K),mt=b({},_s,{newState:0,oldState:0}),zt=cn(mt),Ne=[9,13,27,32],oe=ui&&"CompositionEvent"in window,Ee=null;ui&&"documentMode"in document&&(Ee=document.documentMode);var ci=ui&&"TextEvent"in window&&!Ee,ss=ui&&(!oe||Ee&&8<Ee&&11>=Ee),Ni=" ",Oi=!1;function ra(e,s){switch(e){case"keyup":return Ne.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function aw(e,s){switch(e){case"compositionend":return $a(s);case"keypress":return s.which!==32?null:(Oi=!0,Ni);case"textInput":return e=s.data,e===Ni&&Oi?null:e;default:return null}}function ow(e,s){if(Za)return e==="compositionend"||!oe&&ra(e,s)?(e=bl(),ea=xl=ts=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ss&&s.locale!=="ko"?null:s.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!lw[e.type]:s==="textarea"}function qy(e,s,a,l){Xs?Ji?Ji.push(l):Ji=[l]:Xs=l,s=lf(s,"onChange"),0<s.length&&(a=new es("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var El=null,Al=null;function uw(e){Ax(e,0)}function xc(e){var s=Hn(e);if($r(s))return e}function Hy(e,s){if(e==="change")return s}var Gy=!1;if(ui){var Qh;if(ui){var Wh="oninput"in document;if(!Wh){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Wh=typeof Yy.oninput=="function"}Qh=Wh}else Qh=!1;Gy=Qh&&(!document.documentMode||9<document.documentMode)}function Ky(){El&&(El.detachEvent("onpropertychange",Qy),Al=El=null)}function Qy(e){if(e.propertyName==="value"&&xc(Al)){var s=[];qy(s,Al,e,li(e)),$s(uw,s)}}function cw(e,s,a){e==="focusin"?(Ky(),El=s,Al=a,El.attachEvent("onpropertychange",Qy)):e==="focusout"&&Ky()}function fw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Al)}function hw(e,s){if(e==="click")return xc(s)}function dw(e,s){if(e==="input"||e==="change")return xc(s)}function pw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Yn=typeof Object.is=="function"?Object.is:pw;function wl(e,s){if(Yn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!re.call(s,h)||!Yn(e[h],s[h]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xy(e,s){var a=Wy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wy(a)}}function $y(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?$y(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Zy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Zi(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Zi(e.document)}return s}function Xh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var mw=ui&&"documentMode"in document&&11>=document.documentMode,Ja=null,$h=null,Cl=null,Zh=!1;function Jy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||Ja==null||Ja!==Zi(l)||(l=Ja,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&wl(Cl,l)||(Cl=l,l=lf($h,"onSelect"),0<l.length&&(s=new es("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ja)))}function aa(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var to={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Jh={},t0={};ui&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function oa(e){if(Jh[e])return Jh[e];if(!to[e])return e;var s=to[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in t0)return Jh[e]=s[a];return e}var e0=oa("animationend"),n0=oa("animationiteration"),i0=oa("animationstart"),gw=oa("transitionrun"),yw=oa("transitionstart"),vw=oa("transitioncancel"),s0=oa("transitionend"),r0=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function Pi(e,s){r0.set(e,s),Xi(s,[e])}var bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fi=[],eo=0,ed=0;function _c(){for(var e=eo,s=ed=eo=0;s<e;){var a=fi[s];fi[s++]=null;var l=fi[s];fi[s++]=null;var h=fi[s];fi[s++]=null;var m=fi[s];if(fi[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&a0(a,h,m)}}function Tc(e,s,a,l){fi[eo++]=e,fi[eo++]=s,fi[eo++]=a,fi[eo++]=l,ed|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function nd(e,s,a,l){return Tc(e,s,a,l),Sc(e)}function la(e,s){return Tc(e,null,null,s),Sc(e)}function a0(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&s!==null&&(h=31-Me(a),e=m.hiddenUpdates,l=e[h],l===null?e[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function Sc(e){if(50<Wl)throw Wl=0,fp=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var no={};function xw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,s,a,l){return new xw(e,s,a,l)}function id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ss(e,s){var a=e.alternate;return a===null?(a=Kn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function o0(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Ec(e,s,a,l,h,m){var _=0;if(l=e,typeof e=="function")id(e)&&(_=1);else if(typeof e=="string")_=E2(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Kn(31,a,s,h),e.elementType=R,e.lanes=m,e;case q:return ua(a.children,h,m,s);case B:_=8,h|=24;break;case Z:return e=Kn(12,a,s,h|2),e.elementType=Z,e.lanes=m,e;case tt:return e=Kn(13,a,s,h),e.elementType=tt,e.lanes=m,e;case et:return e=Kn(19,a,s,h),e.elementType=et,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:_=10;break t;case O:_=9;break t;case Q:_=11;break t;case w:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Kn(_,a,s,h),s.elementType=e,s.type=l,s.lanes=m,s}function ua(e,s,a,l){return e=Kn(7,e,l,s),e.lanes=a,e}function sd(e,s,a){return e=Kn(6,e,null,s),e.lanes=a,e}function l0(e){var s=Kn(18,null,null,0);return s.stateNode=e,s}function rd(e,s,a){return s=Kn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var u0=new WeakMap;function hi(e,s){if(typeof e=="object"&&e!==null){var a=u0.get(e);return a!==void 0?a:(s={value:e,source:s,stack:vs(s)},u0.set(e,s),s)}return{value:e,source:s,stack:vs(s)}}var io=[],so=0,Ac=null,Rl=0,di=[],pi=0,er=null,rs=1,as="";function Es(e,s){io[so++]=Rl,io[so++]=Ac,Ac=e,Rl=s}function c0(e,s,a){di[pi++]=rs,di[pi++]=as,di[pi++]=er,er=e;var l=rs;e=as;var h=32-Me(l)-1;l&=~(1<<h),a+=1;var m=32-Me(s)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,rs=1<<32-Me(s)+h|a<<h|l,as=m+e}else rs=1<<m|a<<h|l,as=e}function ad(e){e.return!==null&&(Es(e,1),c0(e,1,0))}function od(e){for(;e===Ac;)Ac=io[--so],io[so]=null,Rl=io[--so],io[so]=null;for(;e===er;)er=di[--pi],di[pi]=null,as=di[--pi],di[pi]=null,rs=di[--pi],di[pi]=null}function f0(e,s){di[pi++]=rs,di[pi++]=as,di[pi++]=er,rs=s.id,as=s.overflow,er=e}var fn=null,_e=null,Wt=!1,nr=null,mi=!1,ld=Error(r(519));function ir(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(hi(s,e)),ld}function h0(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Ue]=e,s[nn]=l,a){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(a=0;a<$l.length;a++)Ht($l[a],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),sc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),Qs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ix(s.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),l.onScroll!=null&&Ht("scroll",s),l.onScrollEnd!=null&&Ht("scrollend",s),l.onClick!=null&&(s.onclick=ji),s=!0):s=!1,s||ir(e,!0)}function d0(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:fn=fn.return}}function ro(e){if(e!==fn)return!1;if(!Wt)return d0(e),Wt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wp(e.type,e.memoizedProps)),a=!a),a&&_e&&ir(e),d0(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=kx(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=kx(e)}else s===27?(s=_e,yr(e.type)?(e=jp,jp=null,_e=e):_e=s):_e=fn?yi(e.stateNode.nextSibling):null;return!0}function ca(){_e=fn=null,Wt=!1}function ud(){var e=nr;return e!==null&&(Pn===null?Pn=e:Pn.push.apply(Pn,e),nr=null),e}function Il(e){nr===null?nr=[e]:nr.push(e)}var cd=N(null),fa=null,As=null;function sr(e,s,a){st(cd,s._currentValue),s._currentValue=a}function ws(e){e._currentValue=cd.current,W(cd)}function fd(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function hd(e,s,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;t:for(;m!==null;){var E=m;m=h;for(var L=0;L<s.length;L++)if(E.context===s[L]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),fd(m.return,a,e),l||(_=null);break t}m=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),fd(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ao(e,s,a,l){e=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;Yn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(nu):e=[nu])}h=h.return}e!==null&&hd(s,e,a,l),s.flags|=262144}function wc(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){fa=e,As=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function hn(e){return p0(fa,e)}function Cc(e,s){return fa===null&&ha(e),p0(e,s)}function p0(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},As===null){if(e===null)throw Error(r(308));As=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else As=As.next=s;return a}var bw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},_w=n.unstable_scheduleCallback,Tw=n.unstable_NormalPriority,He={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new bw,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&_w(Tw,function(){e.controller.abort()})}var jl=null,pd=0,oo=0,lo=null;function Sw(e,s){if(jl===null){var a=jl=[];pd=0,oo=yp(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,s.then(m0,m0),s}function m0(){if(--pd===0&&jl!==null){lo!==null&&(lo.status="fulfilled");var e=jl;jl=null,oo=0,lo=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Ew(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var g0=Y.S;Y.S=function(e,s){Jv=te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sw(e,s),g0!==null&&g0(e,s)};var da=N(null);function md(){var e=da.current;return e!==null?e:ve.pooledCache}function Rc(e,s){s===null?st(da,da.current):st(da,s.pool)}function y0(){var e=md();return e===null?null:{parent:He._currentValue,pool:e}}var uo=Error(r(460)),gd=Error(r(474)),Ic=Error(r(542)),Dc={then:function(){}};function v0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function x0(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(ji,ji),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_0(e),e;default:if(typeof s.status=="string")s.then(ji,ji);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_0(e),e}throw ma=s,uo}}function pa(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,uo):a}}var ma=null;function b0(){if(ma===null)throw Error(r(459));var e=ma;return ma=null,e}function _0(e){if(e===uo||e===Ic)throw Error(r(483))}var co=null,Vl=0;function jc(e){var s=Vl;return Vl+=1,co===null&&(co=[]),x0(co,e,s)}function Ml(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Vc(e,s){throw s.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function T0(e){function s(G,z){if(e){var X=G.deletions;X===null?(G.deletions=[z],G.flags|=16):X.push(z)}}function a(G,z){if(!e)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function l(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function h(G,z){return G=Ss(G,z),G.index=0,G.sibling=null,G}function m(G,z,X){return G.index=X,e?(X=G.alternate,X!==null?(X=X.index,X<z?(G.flags|=67108866,z):X):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function _(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function E(G,z,X,ot){return z===null||z.tag!==6?(z=sd(X,G.mode,ot),z.return=G,z):(z=h(z,X),z.return=G,z)}function L(G,z,X,ot){var Rt=X.type;return Rt===q?rt(G,z,X.props.children,ot,X.key):z!==null&&(z.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===A&&pa(Rt)===z.type)?(z=h(z,X.props),Ml(z,X),z.return=G,z):(z=Ec(X.type,X.key,X.props,null,G.mode,ot),Ml(z,X),z.return=G,z)}function $(G,z,X,ot){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=rd(X,G.mode,ot),z.return=G,z):(z=h(z,X.children||[]),z.return=G,z)}function rt(G,z,X,ot,Rt){return z===null||z.tag!==7?(z=ua(X,G.mode,ot,Rt),z.return=G,z):(z=h(z,X),z.return=G,z)}function ft(G,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=sd(""+z,G.mode,X),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return X=Ec(z.type,z.key,z.props,null,G.mode,X),Ml(X,z),X.return=G,X;case k:return z=rd(z,G.mode,X),z.return=G,z;case A:return z=pa(z),ft(G,z,X)}if(wt(z)||P(z))return z=ua(z,G.mode,X,null),z.return=G,z;if(typeof z.then=="function")return ft(G,jc(z),X);if(z.$$typeof===H)return ft(G,Cc(G,z),X);Vc(G,z)}return null}function J(G,z,X,ot){var Rt=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Rt!==null?null:E(G,z,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return X.key===Rt?L(G,z,X,ot):null;case k:return X.key===Rt?$(G,z,X,ot):null;case A:return X=pa(X),J(G,z,X,ot)}if(wt(X)||P(X))return Rt!==null?null:rt(G,z,X,ot,null);if(typeof X.then=="function")return J(G,z,jc(X),ot);if(X.$$typeof===H)return J(G,z,Cc(G,X),ot);Vc(G,X)}return null}function it(G,z,X,ot,Rt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return G=G.get(X)||null,E(z,G,""+ot,Rt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case M:return G=G.get(ot.key===null?X:ot.key)||null,L(z,G,ot,Rt);case k:return G=G.get(ot.key===null?X:ot.key)||null,$(z,G,ot,Rt);case A:return ot=pa(ot),it(G,z,X,ot,Rt)}if(wt(ot)||P(ot))return G=G.get(X)||null,rt(z,G,ot,Rt,null);if(typeof ot.then=="function")return it(G,z,X,jc(ot),Rt);if(ot.$$typeof===H)return it(G,z,X,Cc(z,ot),Rt);Vc(z,ot)}return null}function Tt(G,z,X,ot){for(var Rt=null,ne=null,Et=z,Ft=z=0,Yt=null;Et!==null&&Ft<X.length;Ft++){Et.index>Ft?(Yt=Et,Et=null):Yt=Et.sibling;var ie=J(G,Et,X[Ft],ot);if(ie===null){Et===null&&(Et=Yt);break}e&&Et&&ie.alternate===null&&s(G,Et),z=m(ie,z,Ft),ne===null?Rt=ie:ne.sibling=ie,ne=ie,Et=Yt}if(Ft===X.length)return a(G,Et),Wt&&Es(G,Ft),Rt;if(Et===null){for(;Ft<X.length;Ft++)Et=ft(G,X[Ft],ot),Et!==null&&(z=m(Et,z,Ft),ne===null?Rt=Et:ne.sibling=Et,ne=Et);return Wt&&Es(G,Ft),Rt}for(Et=l(Et);Ft<X.length;Ft++)Yt=it(Et,G,Ft,X[Ft],ot),Yt!==null&&(e&&Yt.alternate!==null&&Et.delete(Yt.key===null?Ft:Yt.key),z=m(Yt,z,Ft),ne===null?Rt=Yt:ne.sibling=Yt,ne=Yt);return e&&Et.forEach(function(Tr){return s(G,Tr)}),Wt&&Es(G,Ft),Rt}function Vt(G,z,X,ot){if(X==null)throw Error(r(151));for(var Rt=null,ne=null,Et=z,Ft=z=0,Yt=null,ie=X.next();Et!==null&&!ie.done;Ft++,ie=X.next()){Et.index>Ft?(Yt=Et,Et=null):Yt=Et.sibling;var Tr=J(G,Et,ie.value,ot);if(Tr===null){Et===null&&(Et=Yt);break}e&&Et&&Tr.alternate===null&&s(G,Et),z=m(Tr,z,Ft),ne===null?Rt=Tr:ne.sibling=Tr,ne=Tr,Et=Yt}if(ie.done)return a(G,Et),Wt&&Es(G,Ft),Rt;if(Et===null){for(;!ie.done;Ft++,ie=X.next())ie=ft(G,ie.value,ot),ie!==null&&(z=m(ie,z,Ft),ne===null?Rt=ie:ne.sibling=ie,ne=ie);return Wt&&Es(G,Ft),Rt}for(Et=l(Et);!ie.done;Ft++,ie=X.next())ie=it(Et,G,Ft,ie.value,ot),ie!==null&&(e&&ie.alternate!==null&&Et.delete(ie.key===null?Ft:ie.key),z=m(ie,z,Ft),ne===null?Rt=ie:ne.sibling=ie,ne=ie);return e&&Et.forEach(function(O2){return s(G,O2)}),Wt&&Es(G,Ft),Rt}function ye(G,z,X,ot){if(typeof X=="object"&&X!==null&&X.type===q&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case M:t:{for(var Rt=X.key;z!==null;){if(z.key===Rt){if(Rt=X.type,Rt===q){if(z.tag===7){a(G,z.sibling),ot=h(z,X.props.children),ot.return=G,G=ot;break t}}else if(z.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===A&&pa(Rt)===z.type){a(G,z.sibling),ot=h(z,X.props),Ml(ot,X),ot.return=G,G=ot;break t}a(G,z);break}else s(G,z);z=z.sibling}X.type===q?(ot=ua(X.props.children,G.mode,ot,X.key),ot.return=G,G=ot):(ot=Ec(X.type,X.key,X.props,null,G.mode,ot),Ml(ot,X),ot.return=G,G=ot)}return _(G);case k:t:{for(Rt=X.key;z!==null;){if(z.key===Rt)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){a(G,z.sibling),ot=h(z,X.children||[]),ot.return=G,G=ot;break t}else{a(G,z);break}else s(G,z);z=z.sibling}ot=rd(X,G.mode,ot),ot.return=G,G=ot}return _(G);case A:return X=pa(X),ye(G,z,X,ot)}if(wt(X))return Tt(G,z,X,ot);if(P(X)){if(Rt=P(X),typeof Rt!="function")throw Error(r(150));return X=Rt.call(X),Vt(G,z,X,ot)}if(typeof X.then=="function")return ye(G,z,jc(X),ot);if(X.$$typeof===H)return ye(G,z,Cc(G,X),ot);Vc(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(a(G,z.sibling),ot=h(z,X),ot.return=G,G=ot):(a(G,z),ot=sd(X,G.mode,ot),ot.return=G,G=ot),_(G)):a(G,z)}return function(G,z,X,ot){try{Vl=0;var Rt=ye(G,z,X,ot);return co=null,Rt}catch(Et){if(Et===uo||Et===Ic)throw Et;var ne=Kn(29,Et,null,G.mode);return ne.lanes=ot,ne.return=G,ne}}}var ga=T0(!0),S0=T0(!1),rr=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Sc(e),a0(e,null,a),s}return Tc(e,l,s,a),Sc(e)}function Nl(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,ol(e,a)}}function xd(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var bd=!1;function Ol(){if(bd){var e=lo;if(e!==null)throw e}}function Pl(e,s,a,l){bd=!1;var h=e.updateQueue;rr=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var L=E,$=L.next;L.next=null,_===null?m=$:_.next=$,_=L;var rt=e.alternate;rt!==null&&(rt=rt.updateQueue,E=rt.lastBaseUpdate,E!==_&&(E===null?rt.firstBaseUpdate=$:E.next=$,rt.lastBaseUpdate=L))}if(m!==null){var ft=h.baseState;_=0,rt=$=L=null,E=m;do{var J=E.lane&-536870913,it=J!==E.lane;if(it?(Gt&J)===J:(l&J)===J){J!==0&&J===oo&&(bd=!0),rt!==null&&(rt=rt.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,Vt=E;J=s;var ye=a;switch(Vt.tag){case 1:if(Tt=Vt.payload,typeof Tt=="function"){ft=Tt.call(ye,ft,J);break t}ft=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Vt.payload,J=typeof Tt=="function"?Tt.call(ye,ft,J):Tt,J==null)break t;ft=b({},ft,J);break t;case 2:rr=!0}}J=E.callback,J!==null&&(e.flags|=64,it&&(e.flags|=8192),it=h.callbacks,it===null?h.callbacks=[J]:it.push(J))}else it={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},rt===null?($=rt=it,L=ft):rt=rt.next=it,_|=J;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;it=E,E=it.next,it.next=null,h.lastBaseUpdate=it,h.shared.pending=null}}while(!0);rt===null&&(L=ft),h.baseState=L,h.firstBaseUpdate=$,h.lastBaseUpdate=rt,m===null&&(h.shared.lanes=0),hr|=_,e.lanes=_,e.memoizedState=ft}}function E0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function A0(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)E0(a[e],s)}var fo=N(null),Mc=N(0);function w0(e,s){e=Os,st(Mc,e),st(fo,s),Os=e|s.baseLanes}function _d(){st(Mc,Os),st(fo,fo.current)}function Td(){Os=Mc.current,W(fo),W(Mc)}var Qn=N(null),gi=null;function lr(e){var s=e.alternate;st(Oe,Oe.current&1),st(Qn,e),gi===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(gi=e)}function Sd(e){st(Oe,Oe.current),st(Qn,e),gi===null&&(gi=e)}function C0(e){e.tag===22?(st(Oe,Oe.current),st(Qn,e),gi===null&&(gi=e)):ur()}function ur(){st(Oe,Oe.current),st(Qn,Qn.current)}function Wn(e){W(Qn),gi===e&&(gi=null),W(Oe)}var Oe=N(0);function Nc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ip(a)||Dp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cs=0,Ut=null,me=null,Ge=null,Oc=!1,ho=!1,ya=!1,Pc=0,Ll=0,po=null,Aw=0;function Ie(){throw Error(r(321))}function Ed(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Yn(e[a],s[a]))return!1;return!0}function Ad(e,s,a,l,h,m){return Cs=m,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=e===null||e.memoizedState===null?cv:zd,ya=!1,m=a(l,h),ya=!1,ho&&(m=I0(s,a,l,h)),R0(e),m}function R0(e){Y.H=zl;var s=me!==null&&me.next!==null;if(Cs=0,Ge=me=Ut=null,Oc=!1,Ll=0,po=null,s)throw Error(r(300));e===null||Ye||(e=e.dependencies,e!==null&&wc(e)&&(Ye=!0))}function I0(e,s,a,l){Ut=e;var h=0;do{if(ho&&(po=null),Ll=0,ho=!1,25<=h)throw Error(r(301));if(h+=1,Ge=me=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=fv,m=s(a,l)}while(ho);return m}function ww(){var e=Y.H,s=e.useState()[0];return s=typeof s.then=="function"?kl(s):s,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(Ut.flags|=1024),s}function wd(){var e=Pc!==0;return Pc=0,e}function Cd(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Rd(e){if(Oc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Oc=!1}Cs=0,Ge=me=Ut=null,ho=!1,Ll=Pc=0,po=null}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ut.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Pe(){if(me===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var s=Ge===null?Ut.memoizedState:Ge.next;if(s!==null)Ge=s,me=e;else{if(e===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Ge===null?Ut.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var s=Ll;return Ll+=1,po===null&&(po=[]),e=x0(po,e,s),s=Ut,(Ge===null?s.memoizedState:Ge.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?cv:zd),e}function kc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===H)return hn(e)}throw Error(r(438,String(e)))}function Id(e){var s=null,a=Ut.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Lc(),Ut.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=V;return s.index++,a}function Rs(e,s){return typeof s=="function"?s(e):s}function Bc(e){var s=Pe();return Dd(s,me,e)}function Dd(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}s.baseQueue=h=m,l.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{s=h.next;var E=_=null,L=null,$=s,rt=!1;do{var ft=$.lane&-536870913;if(ft!==$.lane?(Gt&ft)===ft:(Cs&ft)===ft){var J=$.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ft===oo&&(rt=!0);else if((Cs&J)===J){$=$.next,J===oo&&(rt=!0);continue}else ft={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},L===null?(E=L=ft,_=m):L=L.next=ft,Ut.lanes|=J,hr|=J;ft=$.action,ya&&a(m,ft),m=$.hasEagerState?$.eagerState:a(m,ft)}else J={lane:ft,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},L===null?(E=L=J,_=m):L=L.next=J,Ut.lanes|=ft,hr|=ft;$=$.next}while($!==null&&$!==s);if(L===null?_=m:L.next=E,!Yn(m,e.memoizedState)&&(Ye=!0,rt&&(a=lo,a!==null)))throw a;e.memoizedState=m,e.baseState=_,e.baseQueue=L,l.lastRenderedState=m}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jd(e){var s=Pe(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=e(m,_.action),_=_.next;while(_!==h);Yn(m,s.memoizedState)||(Ye=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function D0(e,s,a){var l=Ut,h=Pe(),m=Wt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Yn((me||h).memoizedState,a);if(_&&(h.memoizedState=a,Ye=!0),h=h.queue,Nd(M0.bind(null,l,h,e),[e]),h.getSnapshot!==s||_||Ge!==null&&Ge.memoizedState.tag&1){if(l.flags|=2048,mo(9,{destroy:void 0},V0.bind(null,l,h,a,s),null),ve===null)throw Error(r(349));m||(Cs&127)!==0||j0(l,s,a)}return a}function j0(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ut.updateQueue,s===null?(s=Lc(),Ut.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function V0(e,s,a,l){s.value=a,s.getSnapshot=l,N0(s)&&O0(e)}function M0(e,s,a){return a(function(){N0(s)&&O0(e)})}function N0(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Yn(e,a)}catch{return!0}}function O0(e){var s=la(e,2);s!==null&&Ln(s,e,2)}function Vd(e){var s=Rn();if(typeof e=="function"){var a=e;if(e=a(),ya){ai(!0);try{a()}finally{ai(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},s}function P0(e,s,a,l){return e.baseState=a,Dd(e,me,typeof l=="function"?l:Rs)}function Cw(e,s,a,l,h){if(Fc(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,L0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function L0(e,s){var a=s.action,l=s.payload,h=e.state;if(s.isTransition){var m=Y.T,_={};Y.T=_;try{var E=a(h,l),L=Y.S;L!==null&&L(_,E),k0(e,s,E)}catch($){Md(e,s,$)}finally{m!==null&&_.types!==null&&(m.types=_.types),Y.T=m}}else try{m=a(h,l),k0(e,s,m)}catch($){Md(e,s,$)}}function k0(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){B0(e,s,l)},function(l){return Md(e,s,l)}):B0(e,s,a)}function B0(e,s,a){s.status="fulfilled",s.value=a,z0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,L0(e,a)))}function Md(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,z0(s),s=s.next;while(s!==l)}e.action=null}function z0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function U0(e,s){return s}function F0(e,s){if(Wt){var a=ve.formState;if(a!==null){t:{var l=Ut;if(Wt){if(_e){e:{for(var h=_e,m=mi;h.nodeType!==8;){if(!m){h=null;break e}if(h=yi(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){_e=yi(h.nextSibling),l=h.data==="F!";break t}}ir(l)}l=!1}l&&(s=a[0])}}return a=Rn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:s},a.queue=l,a=ov.bind(null,Ut,l),l.dispatch=a,l=Vd(!1),m=Bd.bind(null,Ut,!1,l.queue),l=Rn(),h={state:s,dispatch:null,action:e,pending:null},l.queue=h,a=Cw.bind(null,Ut,h,m,a),h.dispatch=a,l.memoizedState=e,[s,a,!1]}function q0(e){var s=Pe();return H0(s,me,e)}function H0(e,s,a){if(s=Dd(e,s,U0)[0],e=Bc(Rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=kl(s)}catch(_){throw _===uo?Ic:_}else l=s;s=Pe();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Ut.flags|=2048,mo(9,{destroy:void 0},Rw.bind(null,h,a),null)),[l,m,e]}function Rw(e,s){e.action=s}function G0(e){var s=Pe(),a=me;if(a!==null)return H0(s,a,e);Pe(),s=s.memoizedState,a=Pe();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function mo(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Ut.updateQueue,s===null&&(s=Lc(),Ut.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Y0(){return Pe().memoizedState}function zc(e,s,a,l){var h=Rn();Ut.flags|=e,h.memoizedState=mo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Uc(e,s,a,l){var h=Pe();l=l===void 0?null:l;var m=h.memoizedState.inst;me!==null&&l!==null&&Ed(l,me.memoizedState.deps)?h.memoizedState=mo(s,m,a,l):(Ut.flags|=e,h.memoizedState=mo(1|s,m,a,l))}function K0(e,s){zc(8390656,8,e,s)}function Nd(e,s){Uc(2048,8,e,s)}function Iw(e){Ut.flags|=4;var s=Ut.updateQueue;if(s===null)s=Lc(),Ut.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Q0(e){var s=Pe().memoizedState;return Iw({ref:s,nextImpl:e}),function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function W0(e,s){return Uc(4,2,e,s)}function X0(e,s){return Uc(4,4,e,s)}function $0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Z0(e,s,a){a=a!=null?a.concat([e]):null,Uc(4,4,$0.bind(null,s,e),a)}function Od(){}function J0(e,s){var a=Pe();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ed(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function tv(e,s){var a=Pe();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ed(s,l[1]))return l[0];if(l=e(),ya){ai(!0);try{e()}finally{ai(!1)}}return a.memoizedState=[l,s],l}function Pd(e,s,a){return a===void 0||(Cs&1073741824)!==0&&(Gt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=ex(),Ut.lanes|=e,hr|=e,a)}function ev(e,s,a,l){return Yn(a,s)?a:fo.current!==null?(e=Pd(e,a,l),Yn(e,s)||(Ye=!0),e):(Cs&42)===0||(Cs&1073741824)!==0&&(Gt&261930)===0?(Ye=!0,e.memoizedState=a):(e=ex(),Ut.lanes|=e,hr|=e,s)}function nv(e,s,a,l,h){var m=I.p;I.p=m!==0&&8>m?m:8;var _=Y.T,E={};Y.T=E,Bd(e,!1,s,a);try{var L=h(),$=Y.S;if($!==null&&$(E,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var rt=Ew(L,l);Bl(e,s,rt,Zn(e))}else Bl(e,s,l,Zn(e))}catch(ft){Bl(e,s,{then:function(){},status:"rejected",reason:ft},Zn())}finally{I.p=m,_!==null&&E.types!==null&&(_.types=E.types),Y.T=_}}function Dw(){}function Ld(e,s,a,l){if(e.tag!==5)throw Error(r(476));var h=iv(e).queue;nv(e,h,s,U,a===null?Dw:function(){return sv(e),a(l)})}function iv(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:U},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function sv(e){var s=iv(e);s.next===null&&(s=e.alternate.memoizedState),Bl(e,s.next.queue,{},Zn())}function kd(){return hn(nu)}function rv(){return Pe().memoizedState}function av(){return Pe().memoizedState}function jw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Zn();e=ar(a);var l=or(s,e,a);l!==null&&(Ln(l,s,a),Nl(l,s,a)),s={cache:dd()},e.payload=s;return}s=s.return}}function Vw(e,s,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(e)?lv(s,a):(a=nd(e,s,a,l),a!==null&&(Ln(a,e,l),uv(a,s,l)))}function ov(e,s,a){var l=Zn();Bl(e,s,a,l)}function Bl(e,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(e))lv(s,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,E=m(_,a);if(h.hasEagerState=!0,h.eagerState=E,Yn(E,_))return Tc(e,s,h,0),ve===null&&_c(),!1}catch{}if(a=nd(e,s,h,l),a!==null)return Ln(a,e,l),uv(a,s,l),!0}return!1}function Bd(e,s,a,l){if(l={lane:2,revertLane:yp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(e)){if(s)throw Error(r(479))}else s=nd(e,a,l,2),s!==null&&Ln(s,e,2)}function Fc(e){var s=e.alternate;return e===Ut||s!==null&&s===Ut}function lv(e,s){ho=Oc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function uv(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,ol(e,a)}}var zl={readContext:hn,use:kc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};zl.useEffectEvent=Ie;var cv={readContext:hn,use:kc,useCallback:function(e,s){return Rn().memoizedState=[e,s===void 0?null:s],e},useContext:hn,useEffect:K0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,zc(4194308,4,$0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return zc(4194308,4,e,s)},useInsertionEffect:function(e,s){zc(4,2,e,s)},useMemo:function(e,s){var a=Rn();s=s===void 0?null:s;var l=e();if(ya){ai(!0);try{e()}finally{ai(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Rn();if(a!==void 0){var h=a(s);if(ya){ai(!0);try{a(s)}finally{ai(!1)}}}else h=s;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Vw.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var s=Rn();return e={current:e},s.memoizedState=e},useState:function(e){e=Vd(e);var s=e.queue,a=ov.bind(null,Ut,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(e,s){var a=Rn();return Pd(a,e,s)},useTransition:function(){var e=Vd(!1);return e=nv.bind(null,Ut,e.queue,!0,!1),Rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Ut,h=Rn();if(Wt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ve===null)throw Error(r(349));(Gt&127)!==0||j0(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,K0(M0.bind(null,l,m,e),[e]),l.flags|=2048,mo(9,{destroy:void 0},V0.bind(null,l,m,a,s),null),a},useId:function(){var e=Rn(),s=ve.identifierPrefix;if(Wt){var a=as,l=rs;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Pc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Aw++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:kd,useFormState:F0,useActionState:F0,useOptimistic:function(e){var s=Rn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Bd.bind(null,Ut,!0,a),a.dispatch=s,[e,s]},useMemoCache:Id,useCacheRefresh:function(){return Rn().memoizedState=jw.bind(null,Ut)},useEffectEvent:function(e){var s=Rn(),a={impl:e};return s.memoizedState=a,function(){if((le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zd={readContext:hn,use:kc,useCallback:J0,useContext:hn,useEffect:Nd,useImperativeHandle:Z0,useInsertionEffect:W0,useLayoutEffect:X0,useMemo:tv,useReducer:Bc,useRef:Y0,useState:function(){return Bc(Rs)},useDebugValue:Od,useDeferredValue:function(e,s){var a=Pe();return ev(a,me.memoizedState,e,s)},useTransition:function(){var e=Bc(Rs)[0],s=Pe().memoizedState;return[typeof e=="boolean"?e:kl(e),s]},useSyncExternalStore:D0,useId:rv,useHostTransitionStatus:kd,useFormState:q0,useActionState:q0,useOptimistic:function(e,s){var a=Pe();return P0(a,me,e,s)},useMemoCache:Id,useCacheRefresh:av};zd.useEffectEvent=Q0;var fv={readContext:hn,use:kc,useCallback:J0,useContext:hn,useEffect:Nd,useImperativeHandle:Z0,useInsertionEffect:W0,useLayoutEffect:X0,useMemo:tv,useReducer:jd,useRef:Y0,useState:function(){return jd(Rs)},useDebugValue:Od,useDeferredValue:function(e,s){var a=Pe();return me===null?Pd(a,e,s):ev(a,me.memoizedState,e,s)},useTransition:function(){var e=jd(Rs)[0],s=Pe().memoizedState;return[typeof e=="boolean"?e:kl(e),s]},useSyncExternalStore:D0,useId:rv,useHostTransitionStatus:kd,useFormState:G0,useActionState:G0,useOptimistic:function(e,s){var a=Pe();return me!==null?P0(a,me,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:av};fv.useEffectEvent=Q0;function Ud(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Fd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Zn(),h=ar(l);h.payload=s,a!=null&&(h.callback=a),s=or(e,h,l),s!==null&&(Ln(s,e,l),Nl(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Zn(),h=ar(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=or(e,h,l),s!==null&&(Ln(s,e,l),Nl(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Zn(),l=ar(a);l.tag=2,s!=null&&(l.callback=s),s=or(e,l,a),s!==null&&(Ln(s,e,a),Nl(s,e,a))}};function hv(e,s,a,l,h,m,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,_):s.prototype&&s.prototype.isPureReactComponent?!wl(a,l)||!wl(h,m):!0}function dv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Fd.enqueueReplaceState(s,s.state,null)}function va(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function pv(e){bc(e)}function mv(e){console.error(e)}function gv(e){bc(e)}function qc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function yv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qd(e,s,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(e,s)},a}function vv(e){return e=ar(e),e.tag=3,e}function xv(e,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;e.payload=function(){return h(m)},e.callback=function(){yv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){yv(s,a,l),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Mw(e,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ao(s,a,h,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return gi===null?ef():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),pp(e,l,h)),!1;case 22:return a.flags|=65536,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),pp(e,l,h)),!1}throw Error(r(435,a.tag))}return pp(e,l,h),ef(),!1}if(Wt)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==ld&&(e=Error(r(422),{cause:l}),Il(hi(e,a)))):(l!==ld&&(s=Error(r(423),{cause:l}),Il(hi(s,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=hi(l,a),h=qd(e.stateNode,l,h),xd(e,h),De!==4&&(De=2)),!1;var m=Error(r(520),{cause:l});if(m=hi(m,a),Ql===null?Ql=[m]:Ql.push(m),De!==4&&(De=2),s===null)return!0;l=hi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=qd(a.stateNode,l,e),xd(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(dr===null||!dr.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vv(h),xv(h,e,a,l),xd(a,h),!1}a=a.return}while(a!==null);return!1}var Hd=Error(r(461)),Ye=!1;function dn(e,s,a,l){s.child=e===null?S0(s,null,a,l):ga(s,e.child,a,l)}function bv(e,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ha(s),l=Ad(e,s,a,_,m,h),E=wd(),e!==null&&!Ye?(Cd(e,s,h),Is(e,s,h)):(Wt&&E&&ad(s),s.flags|=1,dn(e,s,l,h),s.child)}function _v(e,s,a,l,h){if(e===null){var m=a.type;return typeof m=="function"&&!id(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Tv(e,s,m,l,h)):(e=Ec(a.type,null,l,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Zd(e,h)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(_,l)&&e.ref===s.ref)return Is(e,s,h)}return s.flags|=1,e=Ss(m,l),e.ref=s.ref,e.return=s,s.child=e}function Tv(e,s,a,l,h){if(e!==null){var m=e.memoizedProps;if(wl(m,l)&&e.ref===s.ref)if(Ye=!1,s.pendingProps=l=m,Zd(e,h))(e.flags&131072)!==0&&(Ye=!0);else return s.lanes=e.lanes,Is(e,s,h)}return Gd(e,s,a,l,h)}function Sv(e,s,a,l){var h=l.children,m=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,e!==null){for(l=s.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,s.child=null;return Ev(e,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rc(s,m!==null?m.cachePool:null),m!==null?w0(s,m):_d(),C0(s);else return l=s.lanes=536870912,Ev(e,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Rc(s,m.cachePool),w0(s,m),ur(),s.memoizedState=null):(e!==null&&Rc(s,null),_d(),ur());return dn(e,s,h,a),s.child}function Ul(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ev(e,s,a,l,h){var m=md();return m=m===null?null:{parent:He._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},e!==null&&Rc(s,null),_d(),C0(s),e!==null&&ao(e,s,l,!0),s.childLanes=h,null}function Hc(e,s){return s=Yc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Av(e,s,a){return ga(s,e.child,null,a),e=Hc(s,s.pendingProps),e.flags|=2,Wn(s),s.memoizedState=null,e}function Nw(e,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Wt){if(l.mode==="hidden")return e=Hc(s,l),s.lanes=536870912,Ul(null,e);if(Sd(s),(e=_e)?(e=Lx(e,mi),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:er!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=l0(e),a.return=s,s.child=a,fn=s,_e=null)):e=null,e===null)throw ir(s);return s.lanes=536870912,null}return Hc(s,l)}var m=e.memoizedState;if(m!==null){var _=m.dehydrated;if(Sd(s),h)if(s.flags&256)s.flags&=-257,s=Av(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ye||ao(e,s,a,!1),h=(a&e.childLanes)!==0,Ye||h){if(l=ve,l!==null&&(_=ll(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,la(e,_),Ln(l,e,_),Hd;ef(),s=Av(e,s,a)}else e=m.treeContext,_e=yi(_.nextSibling),fn=s,Wt=!0,nr=null,mi=!1,e!==null&&f0(s,e),s=Hc(s,l),s.flags|=4096;return s}return e=Ss(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Gc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Gd(e,s,a,l,h){return ha(s),a=Ad(e,s,a,l,void 0,h),l=wd(),e!==null&&!Ye?(Cd(e,s,h),Is(e,s,h)):(Wt&&l&&ad(s),s.flags|=1,dn(e,s,a,h),s.child)}function wv(e,s,a,l,h,m){return ha(s),s.updateQueue=null,a=I0(s,l,a,h),R0(e),l=wd(),e!==null&&!Ye?(Cd(e,s,m),Is(e,s,m)):(Wt&&l&&ad(s),s.flags|=1,dn(e,s,a,m),s.child)}function Cv(e,s,a,l,h){if(ha(s),s.stateNode===null){var m=no,_=a.contextType;typeof _=="object"&&_!==null&&(m=hn(_)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Fd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},yd(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?hn(_):no,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ud(s,a,_,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Fd.enqueueReplaceState(m,m.state,null),Pl(s,l,m,h),Ol(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var E=s.memoizedProps,L=va(a,E);m.props=L;var $=m.context,rt=a.contextType;_=no,typeof rt=="object"&&rt!==null&&(_=hn(rt));var ft=a.getDerivedStateFromProps;rt=typeof ft=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,rt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||$!==_)&&dv(s,m,l,_),rr=!1;var J=s.memoizedState;m.state=J,Pl(s,l,m,h),Ol(),$=s.memoizedState,E||J!==$||rr?(typeof ft=="function"&&(Ud(s,a,ft,l),$=s.memoizedState),(L=rr||hv(s,a,L,l,J,$,_))?(rt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),m.props=l,m.state=$,m.context=_,l=L):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,vd(e,s),_=s.memoizedProps,rt=va(a,_),m.props=rt,ft=s.pendingProps,J=m.context,$=a.contextType,L=no,typeof $=="object"&&$!==null&&(L=hn($)),E=a.getDerivedStateFromProps,($=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ft||J!==L)&&dv(s,m,l,L),rr=!1,J=s.memoizedState,m.state=J,Pl(s,l,m,h),Ol();var it=s.memoizedState;_!==ft||J!==it||rr||e!==null&&e.dependencies!==null&&wc(e.dependencies)?(typeof E=="function"&&(Ud(s,a,E,l),it=s.memoizedState),(rt=rr||hv(s,a,rt,l,J,it,L)||e!==null&&e.dependencies!==null&&wc(e.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,it,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,it,L)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=it),m.props=l,m.state=it,m.context=L,l=rt):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,Gc(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=ga(s,e.child,null,h),s.child=ga(s,null,a,h)):dn(e,s,a,h),s.memoizedState=m.state,e=s.child):e=Is(e,s,h),e}function Rv(e,s,a,l){return ca(),s.flags|=256,dn(e,s,a,l),s.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(e){return{baseLanes:e,cachePool:y0()}}function Qd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=$n),e}function Iv(e,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(Wt){if(h?lr(s):ur(),(e=_e)?(e=Lx(e,mi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:er!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},a=l0(e),a.return=s,s.child=a,fn=s,_e=null)):e=null,e===null)throw ir(s);return Dp(e)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ur(),h=s.mode,E=Yc({mode:"hidden",children:E},h),l=ua(l,h,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Kd(a),l.childLanes=Qd(e,_,a),s.memoizedState=Yd,Ul(null,l)):(lr(s),Wd(s,E))}var L=e.memoizedState;if(L!==null&&(E=L.dehydrated,E!==null)){if(m)s.flags&256?(lr(s),s.flags&=-257,s=Xd(e,s,a)):s.memoizedState!==null?(ur(),s.child=e.child,s.flags|=128,s=null):(ur(),E=l.fallback,h=s.mode,l=Yc({mode:"visible",children:l.children},h),E=ua(E,h,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,ga(s,e.child,null,a),l=s.child,l.memoizedState=Kd(a),l.childLanes=Qd(e,_,a),s.memoizedState=Yd,s=Ul(null,l));else if(lr(s),Dp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var $=_.dgst;_=$,l=Error(r(419)),l.stack="",l.digest=_,Il({value:l,source:null,stack:null}),s=Xd(e,s,a)}else if(Ye||ao(e,s,a,!1),_=(a&e.childLanes)!==0,Ye||_){if(_=ve,_!==null&&(l=ll(_,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,la(e,l),Ln(_,e,l),Hd;Ip(E)||ef(),s=Xd(e,s,a)}else Ip(E)?(s.flags|=192,s.child=e.child,s=null):(e=L.treeContext,_e=yi(E.nextSibling),fn=s,Wt=!0,nr=null,mi=!1,e!==null&&f0(s,e),s=Wd(s,l.children),s.flags|=4096);return s}return h?(ur(),E=l.fallback,h=s.mode,L=e.child,$=L.sibling,l=Ss(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,$!==null?E=Ss($,E):(E=ua(E,h,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Ul(null,l),l=s.child,E=e.child.memoizedState,E===null?E=Kd(a):(h=E.cachePool,h!==null?(L=He._currentValue,h=h.parent!==L?{parent:L,pool:L}:h):h=y0(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Qd(e,_,a),s.memoizedState=Yd,Ul(e.child,l)):(lr(s),a=e.child,e=a.sibling,a=Ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function Wd(e,s){return s=Yc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Yc(e,s){return e=Kn(22,e,null,s),e.lanes=0,e}function Xd(e,s,a){return ga(s,e.child,null,a),e=Wd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Dv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),fd(e.return,s,a)}function $d(e,s,a,l,h,m){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=m)}function jv(e,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var _=Oe.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,st(Oe,_),dn(e,s,l,a),l=Wt?Rl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dv(e,a,s);else if(e.tag===19)Dv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Nc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),$d(s,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Nc(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}$d(s,!0,a,null,m,l);break;case"together":$d(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Is(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),hr|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(ao(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ss(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ss(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Zd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&wc(e)))}function Ow(e,s,a){switch(s.tag){case 3:se(s,s.stateNode.containerInfo),sr(s,He,e.memoizedState.cache),ca();break;case 27:case 5:xn(s);break;case 4:se(s,s.stateNode.containerInfo);break;case 10:sr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Iv(e,s,a):(lr(s),e=Is(e,s,a),e!==null?e.sibling:null);lr(s);break;case 19:var h=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ao(e,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return jv(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Oe,Oe.current),l)break;return null;case 22:return s.lanes=0,Sv(e,s,a,s.pendingProps);case 24:sr(s,He,e.memoizedState.cache)}return Is(e,s,a)}function Vv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ye=!0;else{if(!Zd(e,a)&&(s.flags&128)===0)return Ye=!1,Ow(e,s,a);Ye=(e.flags&131072)!==0}else Ye=!1,Wt&&(s.flags&1048576)!==0&&c0(s,Rl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=pa(s.elementType),s.type=e,typeof e=="function")id(e)?(l=va(e,l),s.tag=1,s=Cv(null,s,e,l,a)):(s.tag=0,s=Gd(null,s,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Q){s.tag=11,s=bv(null,s,e,l,a);break t}else if(h===w){s.tag=14,s=_v(null,s,e,l,a);break t}}throw s=At(e)||e,Error(r(306,s,""))}}return s;case 0:return Gd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=va(l,s.pendingProps),Cv(e,s,l,h,a);case 3:t:{if(se(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,vd(e,s),Pl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,sr(s,He,l),l!==m.cache&&hd(s,[He],a,!0),Ol(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Rv(e,s,l,a);break t}else if(l!==h){h=hi(Error(r(424)),s),Il(h),s=Rv(e,s,l,a);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,_e=yi(e.firstChild),fn=s,Wt=!0,nr=null,mi=!0,a=S0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ca(),l===h){s=Is(e,s,a);break t}dn(e,s,l,a)}s=s.child}return s;case 26:return Gc(e,s),e===null?(a=qx(s.type,null,s.pendingProps,null))?s.memoizedState=a:Wt||(a=s.type,e=s.pendingProps,l=uf(pt.current).createElement(a),l[Ue]=s,l[nn]=e,pn(l,a,e),Fe(l),s.stateNode=l):s.memoizedState=qx(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return xn(s),e===null&&Wt&&(l=s.stateNode=zx(s.type,s.pendingProps,pt.current),fn=s,mi=!0,h=_e,yr(s.type)?(jp=h,_e=yi(l.firstChild)):_e=h),dn(e,s,s.pendingProps.children,a),Gc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Wt&&((h=l=_e)&&(l=f2(l,s.type,s.pendingProps,mi),l!==null?(s.stateNode=l,fn=s,_e=yi(l.firstChild),mi=!1,h=!0):h=!1),h||ir(s)),xn(s),h=s.type,m=s.pendingProps,_=e!==null?e.memoizedProps:null,l=m.children,wp(h,m)?l=null:_!==null&&wp(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Ad(e,s,ww,null,null,a),nu._currentValue=h),Gc(e,s),dn(e,s,l,a),s.child;case 6:return e===null&&Wt&&((e=a=_e)&&(a=h2(a,s.pendingProps,mi),a!==null?(s.stateNode=a,fn=s,_e=null,e=!0):e=!1),e||ir(s)),null;case 13:return Iv(e,s,a);case 4:return se(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=ga(s,null,l,a):dn(e,s,l,a),s.child;case 11:return bv(e,s,s.type,s.pendingProps,a);case 7:return dn(e,s,s.pendingProps,a),s.child;case 8:return dn(e,s,s.pendingProps.children,a),s.child;case 12:return dn(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,sr(s,s.type,l.value),dn(e,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,ha(s),h=hn(h),l=l(h),s.flags|=1,dn(e,s,l,a),s.child;case 14:return _v(e,s,s.type,s.pendingProps,a);case 15:return Tv(e,s,s.type,s.pendingProps,a);case 19:return jv(e,s,a);case 31:return Nw(e,s,a);case 22:return Sv(e,s,a,s.pendingProps);case 24:return ha(s),l=hn(He),e===null?(h=md(),h===null&&(h=ve,m=dd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},yd(s),sr(s,He,h)):((e.lanes&a)!==0&&(vd(e,s),Pl(s,null,null,a),Ol()),h=e.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),sr(s,He,l)):(l=m.cache,sr(s,He,l),l!==h.cache&&hd(s,[He],a,!0))),dn(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ds(e){e.flags|=4}function Jd(e,s,a,l,h){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(rx())e.flags|=8192;else throw ma=Dc,gd}else e.flags&=-16777217}function Mv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qx(s))if(rx())e.flags|=8192;else throw ma=Dc,gd}function Kc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Ju():536870912,e.lanes|=s,xo|=s)}function Fl(e,s){if(!Wt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Te(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Pw(e,s,a){var l=s.pendingProps;switch(od(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(s),null;case 1:return Te(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ws(He),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ro(s)?Ds(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ud())),Te(s),null;case 26:var h=s.type,m=s.memoizedState;return e===null?(Ds(s),m!==null?(Te(s),Mv(s,m)):(Te(s),Jd(s,h,null,l,a))):m?m!==e.memoizedState?(Ds(s),Te(s),Mv(s,m)):(Te(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ds(s),Te(s),Jd(s,h,e,l,a)),null;case 27:if(Fn(s),a=pt.current,h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}e=dt.current,ro(s)?h0(s):(e=zx(h,l,a),s.stateNode=e,Ds(s))}return Te(s),null;case 5:if(Fn(s),h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}if(m=dt.current,ro(s))h0(s);else{var _=uf(pt.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}m[Ue]=s,m[nn]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;t:switch(pn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ds(s)}}return Te(s),Jd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=pt.current,ro(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ue]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ix(e.nodeValue,a)),e||ir(s,!0)}else e=uf(e).createTextNode(l),e[Ue]=s,s.stateNode=e}return Te(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=ro(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ue]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),e=!1}else a=ud(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Wn(s),s):(Wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Te(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ro(s),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ue]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),h=!1}else h=ud(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Wn(s),s):(Wn(s),null)}return Wn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Kc(s,s.updateQueue),Te(s),null);case 4:return Xt(),e===null&&_p(s.stateNode.containerInfo),Te(s),null;case 10:return ws(s.type),Te(s),null;case 19:if(W(Oe),l=s.memoizedState,l===null)return Te(s),null;if(h=(s.flags&128)!==0,m=l.rendering,m===null)if(h)Fl(l,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=Nc(e),m!==null){for(s.flags|=128,Fl(l,!1),e=m.updateQueue,s.updateQueue=e,Kc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)o0(a,e),a=a.sibling;return st(Oe,Oe.current&1|2),Wt&&Es(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&te()>Zc&&(s.flags|=128,h=!0,Fl(l,!1),s.lanes=4194304)}else{if(!h)if(e=Nc(m),e!==null){if(s.flags|=128,h=!0,e=e.updateQueue,s.updateQueue=e,Kc(s,e),Fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Wt)return Te(s),null}else 2*te()-l.renderingStartTime>Zc&&a!==536870912&&(s.flags|=128,h=!0,Fl(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(e=l.last,e!==null?e.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=te(),e.sibling=null,a=Oe.current,st(Oe,h?a&1|2:a&1),Wt&&Es(s,l.treeForkCount),e):(Te(s),null);case 22:case 23:return Wn(s),Td(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Te(s),s.subtreeFlags&6&&(s.flags|=8192)):Te(s),a=s.updateQueue,a!==null&&Kc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&W(da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ws(He),Te(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Lw(e,s){switch(od(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ws(He),Xt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Fn(s),null;case 31:if(s.memoizedState!==null){if(Wn(s),s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Wn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return W(Oe),null;case 4:return Xt(),null;case 10:return ws(s.type),null;case 22:case 23:return Wn(s),Td(),e!==null&&W(da),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ws(He),null;case 25:return null;default:return null}}function Nv(e,s){switch(od(s),s.tag){case 3:ws(He),Xt();break;case 26:case 27:case 5:Fn(s);break;case 4:Xt();break;case 31:s.memoizedState!==null&&Wn(s);break;case 13:Wn(s);break;case 19:W(Oe);break;case 10:ws(s.type);break;case 22:case 23:Wn(s),Td(),e!==null&&W(da);break;case 24:ws(He)}}function ql(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){de(s,s.return,E)}}function cr(e,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=s;var L=a,$=E;try{$()}catch(rt){de(h,L,rt)}}}l=l.next}while(l!==m)}}catch(rt){de(s,s.return,rt)}}function Ov(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{A0(s,a)}catch(l){de(e,e.return,l)}}}function Pv(e,s,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){de(e,s,l)}}function Hl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){de(e,s,h)}}function os(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){de(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){de(e,s,h)}else a.current=null}function Lv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){de(e,e.return,h)}}function tp(e,s,a){try{var l=e.stateNode;r2(l,e.type,a,s),l[nn]=s}catch(h){de(e,e.return,h)}}function kv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function ep(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function np(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ji));else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(np(e,s,a),e=e.sibling;e!==null;)np(e,s,a),e=e.sibling}function Qc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qc(e,s,a),e=e.sibling;e!==null;)Qc(e,s,a),e=e.sibling}function Bv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);pn(s,l,a),s[Ue]=e,s[nn]=a}catch(m){de(e,e.return,m)}}var js=!1,Ke=!1,ip=!1,zv=typeof WeakSet=="function"?WeakSet:Set,rn=null;function kw(e,s){if(e=e.containerInfo,Ep=gf,e=Zy(e),Xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var _=0,E=-1,L=-1,$=0,rt=0,ft=e,J=null;e:for(;;){for(var it;ft!==a||h!==0&&ft.nodeType!==3||(E=_+h),ft!==m||l!==0&&ft.nodeType!==3||(L=_+l),ft.nodeType===3&&(_+=ft.nodeValue.length),(it=ft.firstChild)!==null;)J=ft,ft=it;for(;;){if(ft===e)break e;if(J===a&&++$===h&&(E=_),J===m&&++rt===l&&(L=_),(it=ft.nextSibling)!==null)break;ft=J,J=ft.parentNode}ft=it}a=E===-1||L===-1?null:{start:E,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ap={focusedElem:e,selectionRange:a},gf=!1,rn=s;rn!==null;)if(s=rn,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,rn=e;else for(;rn!==null;){switch(s=rn,m=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Tt=va(a.type,h);e=l.getSnapshotBeforeUpdate(Tt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){de(a,a.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Rp(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,rn=e;break}rn=s.return}}function Uv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ms(e,a),l&4&&ql(5,a);break;case 1:if(Ms(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){de(a,a.return,_)}else{var h=va(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){de(a,a.return,_)}}l&64&&Ov(a),l&512&&Hl(a,a.return);break;case 3:if(Ms(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{A0(e,s)}catch(_){de(a,a.return,_)}}break;case 27:s===null&&l&4&&Bv(a);case 26:case 5:Ms(e,a),s===null&&l&4&&Lv(a),l&512&&Hl(a,a.return);break;case 12:Ms(e,a);break;case 31:Ms(e,a),l&4&&Hv(e,a);break;case 13:Ms(e,a),l&4&&Gv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Kw.bind(null,a),d2(e,a))));break;case 22:if(l=a.memoizedState!==null||js,!l){s=s!==null&&s.memoizedState!==null||Ke,h=js;var m=Ke;js=l,(Ke=s)&&!m?Ns(e,a,(a.subtreeFlags&8772)!==0):Ms(e,a),js=h,Ke=m}break;case 30:break;default:Ms(e,a)}}function Fv(e){var s=e.alternate;s!==null&&(e.alternate=null,Fv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Fa(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,Mn=!1;function Vs(e,s,a){for(a=a.child;a!==null;)qv(e,s,a),a=a.sibling}function qv(e,s,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Ci,a)}catch{}switch(a.tag){case 26:Ke||os(a,s),Vs(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||os(a,s);var l=Ae,h=Mn;yr(a.type)&&(Ae=a.stateNode,Mn=!1),Vs(e,s,a),Jl(a.stateNode),Ae=l,Mn=h;break;case 5:Ke||os(a,s);case 6:if(l=Ae,h=Mn,Ae=null,Vs(e,s,a),Ae=l,Mn=h,Ae!==null)if(Mn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(m){de(a,s,m)}else try{Ae.removeChild(a.stateNode)}catch(m){de(a,s,m)}break;case 18:Ae!==null&&(Mn?(e=Ae,Ox(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Co(e)):Ox(Ae,a.stateNode));break;case 4:l=Ae,h=Mn,Ae=a.stateNode.containerInfo,Mn=!0,Vs(e,s,a),Ae=l,Mn=h;break;case 0:case 11:case 14:case 15:cr(2,a,s),Ke||cr(4,a,s),Vs(e,s,a);break;case 1:Ke||(os(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,s,l)),Vs(e,s,a);break;case 21:Vs(e,s,a);break;case 22:Ke=(l=Ke)||a.memoizedState!==null,Vs(e,s,a),Ke=l;break;default:Vs(e,s,a)}}function Hv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Co(e)}catch(a){de(s,s.return,a)}}}function Gv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Co(e)}catch(a){de(s,s.return,a)}}function Bw(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new zv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new zv),s;default:throw Error(r(435,e.tag))}}function Wc(e,s){var a=Bw(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=Qw.bind(null,e,l);l.then(h,h)}})}function Nn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=e,_=s,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(yr(E.type)){Ae=E.stateNode,Mn=!1;break t}break;case 5:Ae=E.stateNode,Mn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,Mn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));qv(m,_,h),Ae=null,Mn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Yv(s,e),s=s.sibling}var Li=null;function Yv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(s,e),On(e),l&4&&(cr(3,e,e.return),ql(3,e),cr(5,e,e.return));break;case 1:Nn(s,e),On(e),l&512&&(Ke||a===null||os(a,a.return)),l&64&&js&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Li;if(Nn(s,e),On(e),l&512&&(Ke||a===null||os(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ki]||m[Ue]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),pn(m,l,a),m[Ue]=e,Fe(m),l=m;break t;case"link":var _=Yx("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}m=h.createElement(l),pn(m,l,a),h.head.appendChild(m);break;case"meta":if(_=Yx("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}m=h.createElement(l),pn(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[Ue]=e,Fe(m),l=m}e.stateNode=l}else Kx(h,e.type,e.stateNode);else e.stateNode=Gx(h,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Kx(h,e.type,e.stateNode):Gx(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&tp(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nn(s,e),On(e),l&512&&(Ke||a===null||os(a,a.return)),a!==null&&l&4&&tp(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nn(s,e),On(e),l&512&&(Ke||a===null||os(a,a.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(Tt){de(e,e.return,Tt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,tp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ip=!0);break;case 6:if(Nn(s,e),On(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Tt){de(e,e.return,Tt)}}break;case 3:if(hf=null,h=Li,Li=cf(s.containerInfo),Nn(s,e),Li=h,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(Tt){de(e,e.return,Tt)}ip&&(ip=!1,Kv(e));break;case 4:l=Li,Li=cf(e.stateNode.containerInfo),Nn(s,e),On(e),Li=l;break;case 12:Nn(s,e),On(e);break;case 31:Nn(s,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 13:Nn(s,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($c=te()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 22:h=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,$=js,rt=Ke;if(js=$||h,Ke=rt||L,Nn(s,e),Ke=rt,js=$,On(e),l&8192)t:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||L||js||Ke||xa(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){L=a=s;try{if(m=L.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=L.stateNode;var ft=L.memoizedProps.style,J=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Tt){de(L,L.return,Tt)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(Tt){de(L,L.return,Tt)}}}else if(s.tag===18){if(a===null){L=s;try{var it=L.stateNode;h?Px(it,!0):Px(L.stateNode,!1)}catch(Tt){de(L,L.return,Tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(e,a))));break;case 19:Nn(s,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 30:break;case 21:break;default:Nn(s,e),On(e)}}function On(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=ep(e);Qc(e,m,h);break;case 5:var _=a.stateNode;a.flags&32&&(Vn(_,""),a.flags&=-33);var E=ep(e);Qc(e,E,_);break;case 3:case 4:var L=a.stateNode.containerInfo,$=ep(e);np(e,$,L);break;default:throw Error(r(161))}}catch(rt){de(e,e.return,rt)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Kv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ms(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uv(e,s.alternate,s),s=s.sibling}function xa(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:cr(4,s,s.return),xa(s);break;case 1:os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Pv(s,s.return,a),xa(s);break;case 27:Jl(s.stateNode);case 26:case 5:os(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}e=e.sibling}}function Ns(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=e,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ns(h,m,a),ql(4,m);break;case 1:if(Ns(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){de(l,l.return,$)}if(l=m,h=l.updateQueue,h!==null){var E=l.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)E0(L[h],E)}catch($){de(l,l.return,$)}}a&&_&64&&Ov(m),Hl(m,m.return);break;case 27:Bv(m);case 26:case 5:Ns(h,m,a),a&&l===null&&_&4&&Lv(m),Hl(m,m.return);break;case 12:Ns(h,m,a);break;case 31:Ns(h,m,a),a&&_&4&&Hv(h,m);break;case 13:Ns(h,m,a),a&&_&4&&Gv(h,m);break;case 22:m.memoizedState===null&&Ns(h,m,a),Hl(m,m.return);break;case 30:break;default:Ns(h,m,a)}s=s.sibling}}function sp(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Dl(a))}function rp(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Dl(e))}function ki(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qv(e,s,a,l),s=s.sibling}function Qv(e,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ki(e,s,a,l),h&2048&&ql(9,s);break;case 1:ki(e,s,a,l);break;case 3:ki(e,s,a,l),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Dl(e)));break;case 12:if(h&2048){ki(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){de(s,s.return,L)}}else ki(e,s,a,l);break;case 31:ki(e,s,a,l);break;case 13:ki(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?ki(e,s,a,l):Gl(e,s):m._visibility&2?ki(e,s,a,l):(m._visibility|=2,go(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&sp(_,s);break;case 24:ki(e,s,a,l),h&2048&&rp(s.alternate,s);break;default:ki(e,s,a,l)}}function go(e,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=e,_=s,E=a,L=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:go(m,_,E,L,h),ql(8,_);break;case 23:break;case 22:var rt=_.stateNode;_.memoizedState!==null?rt._visibility&2?go(m,_,E,L,h):Gl(m,_):(rt._visibility|=2,go(m,_,E,L,h)),h&&$&2048&&sp(_.alternate,_);break;case 24:go(m,_,E,L,h),h&&$&2048&&rp(_.alternate,_);break;default:go(m,_,E,L,h)}s=s.sibling}}function Gl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,h=l.flags;switch(l.tag){case 22:Gl(a,l),h&2048&&sp(l.alternate,l);break;case 24:Gl(a,l),h&2048&&rp(l.alternate,l);break;default:Gl(a,l)}s=s.sibling}}var Yl=8192;function yo(e,s,a){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Wv(e,s,a),e=e.sibling}function Wv(e,s,a){switch(e.tag){case 26:yo(e,s,a),e.flags&Yl&&e.memoizedState!==null&&A2(a,Li,e.memoizedState,e.memoizedProps);break;case 5:yo(e,s,a);break;case 3:case 4:var l=Li;Li=cf(e.stateNode.containerInfo),yo(e,s,a),Li=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yl,Yl=16777216,yo(e,s,a),Yl=l):yo(e,s,a));break;default:yo(e,s,a)}}function Xv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Kl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];rn=l,Zv(l,e)}Xv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$v(e),e=e.sibling}function $v(e){switch(e.tag){case 0:case 11:case 15:Kl(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Kl(e);break;case 12:Kl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Xc(e)):Kl(e);break;default:Kl(e)}}function Xc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];rn=l,Zv(l,e)}Xv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:cr(8,s,s.return),Xc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(s));break;default:Xc(s)}e=e.sibling}}function Zv(e,s){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:cr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else t:for(a=e;rn!==null;){l=rn;var h=l.sibling,m=l.return;if(Fv(l),l===a){rn=null;break t}if(h!==null){h.return=m,rn=h;break t}rn=m}}}var zw={getCacheForType:function(e){var s=hn(He),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return hn(He).controller.signal}},Uw=typeof WeakMap=="function"?WeakMap:Map,le=0,ve=null,qt=null,Gt=0,he=0,Xn=null,fr=!1,vo=!1,ap=!1,Os=0,De=0,hr=0,ba=0,op=0,$n=0,xo=0,Ql=null,Pn=null,lp=!1,$c=0,Jv=0,Zc=1/0,Jc=null,dr=null,Je=0,pr=null,bo=null,Ps=0,up=0,cp=null,tx=null,Wl=0,fp=null;function Zn(){return(le&2)!==0&&Gt!==0?Gt&-Gt:Y.T!==null?yp():tc()}function ex(){if($n===0)if((Gt&536870912)===0||Wt){var e=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),$n=e}else $n=536870912;return e=Qn.current,e!==null&&(e.flags|=32),$n}function Ln(e,s,a){(e===ve&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(_o(e,0),mr(e,Gt,$n,!1)),Qr(e,a),((le&2)===0||e!==ve)&&(e===ve&&((le&2)===0&&(ba|=a),De===4&&mr(e,Gt,$n,!1)),ls(e))}function nx(e,s,a){if((le&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Ri(e,s),h=l?Hw(e,s):dp(e,s,!0),m=l;do{if(h===0){vo&&!l&&mr(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!Fw(a)){h=dp(e,s,!1),m=!1;continue}if(h===2){if(m=s,e.errorRecoveryDisabledLanes&m)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var E=e;h=Ql;var L=E.current.memoizedState.isDehydrated;if(L&&(_o(E,_).flags|=256),_=dp(E,_,!1),_!==2){if(ap&&!L){E.errorRecoveryDisabledLanes|=m,ba|=m,h=4;break t}m=Pn,Pn=h,m!==null&&(Pn===null?Pn=m:Pn.push.apply(Pn,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){_o(e,0),mr(e,s,0,!0);break}t:{switch(l=e,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:mr(l,s,$n,!fr);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=$c+300-te(),10<h)){if(mr(l,s,$n,!fr),Hi(l,0,!0)!==0)break t;Ps=s,l.timeoutHandle=Mx(ix.bind(null,l,a,Pn,Jc,lp,s,$n,ba,xo,fr,m,"Throttled",-0,0),h);break t}ix(l,a,Pn,Jc,lp,s,$n,ba,xo,fr,m,null,-0,0)}}break}while(!0);ls(e)}function ix(e,s,a,l,h,m,_,E,L,$,rt,ft,J,it){if(e.timeoutHandle=-1,ft=s.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ji},Wv(s,m,ft);var Tt=(m&62914560)===m?$c-te():(m&4194048)===m?Jv-te():0;if(Tt=w2(ft,Tt),Tt!==null){Ps=m,e.cancelPendingCommit=Tt(fx.bind(null,e,s,m,a,l,h,_,E,L,rt,ft,null,J,it)),mr(e,m,_,!$);return}}fx(e,s,m,a,l,h,_,E,L)}function Fw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Yn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function mr(e,s,a,l){s&=~op,s&=~ba,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var h=s;0<h;){var m=31-Me(h),_=1<<m;l[m]=-1,h&=~_}a!==0&&Wr(e,a,s)}function tf(){return(le&6)===0?(Xl(0),!1):!0}function hp(){if(qt!==null){if(he===0)var e=qt.return;else e=qt,As=fa=null,Rd(e),co=null,Vl=0,e=qt;for(;e!==null;)Nv(e.alternate,e),e=e.return;qt=null}}function _o(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,l2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ps=0,hp(),ve=e,qt=a=Ss(e.current,null),Gt=s,he=0,Xn=null,fr=!1,vo=Ri(e,s),ap=!1,xo=$n=op=ba=hr=De=0,Pn=Ql=null,lp=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var h=31-Me(l),m=1<<h;s|=e[h],l&=~m}return Os=s,_c(),a}function sx(e,s){Ut=null,Y.H=zl,s===uo||s===Ic?(s=b0(),he=3):s===gd?(s=b0(),he=4):he=s===Hd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,qt===null&&(De=1,qc(e,hi(s,e.current)))}function rx(){var e=Qn.current;return e===null?!0:(Gt&4194048)===Gt?gi===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?e===gi:!1}function ax(){var e=Y.H;return Y.H=zl,e===null?zl:e}function ox(){var e=Y.A;return Y.A=zw,e}function ef(){De=4,fr||(Gt&4194048)!==Gt&&Qn.current!==null||(vo=!0),(hr&134217727)===0&&(ba&134217727)===0||ve===null||mr(ve,Gt,$n,!1)}function dp(e,s,a){var l=le;le|=2;var h=ax(),m=ox();(ve!==e||Gt!==s)&&(Jc=null,_o(e,s)),s=!1;var _=De;t:do try{if(he!==0&&qt!==null){var E=qt,L=Xn;switch(he){case 8:hp(),_=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var $=he;if(he=0,Xn=null,To(e,E,L,$),a&&vo){_=0;break t}break;default:$=he,he=0,Xn=null,To(e,E,L,$)}}qw(),_=De;break}catch(rt){sx(e,rt)}while(!0);return s&&e.shellSuspendCounter++,As=fa=null,le=l,Y.H=h,Y.A=m,qt===null&&(ve=null,Gt=0,_c()),_}function qw(){for(;qt!==null;)lx(qt)}function Hw(e,s){var a=le;le|=2;var l=ax(),h=ox();ve!==e||Gt!==s?(Jc=null,Zc=te()+500,_o(e,s)):vo=Ri(e,s);t:do try{if(he!==0&&qt!==null){s=qt;var m=Xn;e:switch(he){case 1:he=0,Xn=null,To(e,s,m,1);break;case 2:case 9:if(v0(m)){he=0,Xn=null,ux(s);break}s=function(){he!==2&&he!==9||ve!==e||(he=7),ls(e)},m.then(s,s);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:v0(m)?(he=0,Xn=null,ux(s)):(he=0,Xn=null,To(e,s,m,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var E=qt;if(_?Qx(_):E.stateNode.complete){he=0,Xn=null;var L=E.sibling;if(L!==null)qt=L;else{var $=E.return;$!==null?(qt=$,nf($)):qt=null}break e}}he=0,Xn=null,To(e,s,m,5);break;case 6:he=0,Xn=null,To(e,s,m,6);break;case 8:hp(),De=6;break t;default:throw Error(r(462))}}Gw();break}catch(rt){sx(e,rt)}while(!0);return As=fa=null,Y.H=l,Y.A=h,le=a,qt!==null?0:(ve=null,Gt=0,_c(),De)}function Gw(){for(;qt!==null&&!Ct();)lx(qt)}function lx(e){var s=Vv(e.alternate,e,Os);e.memoizedProps=e.pendingProps,s===null?nf(e):qt=s}function ux(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=wv(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=wv(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:Rd(s);default:Nv(a,s),s=qt=o0(s,Os),s=Vv(a,s,Os)}e.memoizedProps=e.pendingProps,s===null?nf(e):qt=s}function To(e,s,a,l){As=fa=null,Rd(s),co=null,Vl=0;var h=s.return;try{if(Mw(e,h,s,a,Gt)){De=1,qc(e,hi(a,e.current)),qt=null;return}}catch(m){if(h!==null)throw qt=h,m;De=1,qc(e,hi(a,e.current)),qt=null;return}s.flags&32768?(Wt||l===1?e=!0:vo||(Gt&536870912)!==0?e=!1:(fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cx(s,e)):nf(s)}function nf(e){var s=e;do{if((s.flags&32768)!==0){cx(s,fr);return}e=s.return;var a=Pw(s.alternate,s,Os);if(a!==null){qt=a;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=e}while(s!==null);De===0&&(De=5)}function cx(e,s){do{var a=Lw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);De=6,qt=null}function fx(e,s,a,l,h,m,_,E,L){e.cancelPendingCommit=null;do sf();while(Je!==0);if((le&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=ed,Yh(e,a,m,_,E,L),e===ve&&(qt=ve=null,Gt=0),bo=s,pr=e,Ps=a,up=m,cp=h,tx=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ww(Gs,function(){return gx(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=I.p,I.p=2,_=le,le|=4;try{kw(e,s,a)}finally{le=_,I.p=h,Y.T=l}}Je=1,hx(),dx(),px()}}function hx(){if(Je===1){Je=0;var e=pr,s=bo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=I.p;I.p=2;var h=le;le|=4;try{Yv(s,e);var m=Ap,_=Zy(e.containerInfo),E=m.focusedElem,L=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&$y(E.ownerDocument.documentElement,E)){if(L!==null&&Xh(E)){var $=L.start,rt=L.end;if(rt===void 0&&(rt=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(rt,E.value.length);else{var ft=E.ownerDocument||document,J=ft&&ft.defaultView||window;if(J.getSelection){var it=J.getSelection(),Tt=E.textContent.length,Vt=Math.min(L.start,Tt),ye=L.end===void 0?Vt:Math.min(L.end,Tt);!it.extend&&Vt>ye&&(_=ye,ye=Vt,Vt=_);var G=Xy(E,Vt),z=Xy(E,ye);if(G&&z&&(it.rangeCount!==1||it.anchorNode!==G.node||it.anchorOffset!==G.offset||it.focusNode!==z.node||it.focusOffset!==z.offset)){var X=ft.createRange();X.setStart(G.node,G.offset),it.removeAllRanges(),Vt>ye?(it.addRange(X),it.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),it.addRange(X))}}}}for(ft=[],it=E;it=it.parentNode;)it.nodeType===1&&ft.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ft.length;E++){var ot=ft[E];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}gf=!!Ep,Ap=Ep=null}finally{le=h,I.p=l,Y.T=a}}e.current=s,Je=2}}function dx(){if(Je===2){Je=0;var e=pr,s=bo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=I.p;I.p=2;var h=le;le|=4;try{Uv(e,s.alternate,s)}finally{le=h,I.p=l,Y.T=a}}Je=3}}function px(){if(Je===4||Je===3){Je=0,St();var e=pr,s=bo,a=Ps,l=tx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Je=5:(Je=0,bo=pr=null,mx(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),xs(a),s=s.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Ci,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Y.T,h=I.p,I.p=2,Y.T=null;try{for(var m=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];m(E.value,{componentStack:E.stack})}}finally{Y.T=s,I.p=h}}(Ps&3)!==0&&sf(),ls(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===fp?Wl++:(Wl=0,fp=e):Wl=0,Xl(0)}}function mx(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Dl(s)))}function sf(){return hx(),dx(),px(),gx()}function gx(){if(Je!==5)return!1;var e=pr,s=up;up=0;var a=xs(Ps),l=Y.T,h=I.p;try{I.p=32>a?32:a,Y.T=null,a=cp,cp=null;var m=pr,_=Ps;if(Je=0,bo=pr=null,Ps=0,(le&6)!==0)throw Error(r(331));var E=le;if(le|=4,$v(m.current),Qv(m,m.current,_,a),le=E,Xl(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Ci,m)}catch{}return!0}finally{I.p=h,Y.T=l,mx(e,s)}}function yx(e,s,a){s=hi(a,s),s=qd(e.stateNode,s,2),e=or(e,s,2),e!==null&&(Qr(e,2),ls(e))}function de(e,s,a){if(e.tag===3)yx(e,e,a);else for(;s!==null;){if(s.tag===3){yx(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){e=hi(a,e),a=vv(2),l=or(s,a,2),l!==null&&(xv(a,l,s,e),Qr(l,2),ls(l));break}}s=s.return}}function pp(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Uw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(ap=!0,h.add(a),e=Yw.bind(null,e,s,a),s.then(e,e))}function Yw(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ve===e&&(Gt&a)===a&&(De===4||De===3&&(Gt&62914560)===Gt&&300>te()-$c?(le&2)===0&&_o(e,0):op|=a,xo===Gt&&(xo=0)),ls(e)}function vx(e,s){s===0&&(s=Ju()),e=la(e,s),e!==null&&(Qr(e,s),ls(e))}function Kw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),vx(e,a)}function Qw(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),vx(e,a)}function Ww(e,s){return be(e,s)}var rf=null,So=null,mp=!1,af=!1,gp=!1,gr=0;function ls(e){e!==So&&e.next===null&&(So===null?rf=So=e:So=So.next=e),af=!0,mp||(mp=!0,$w())}function Xl(e,s){if(!gp&&af){gp=!0;do for(var a=!1,l=rf;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Me(42|e)+1)-1,m&=h&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Tx(l,m))}else m=Gt,m=Hi(l,l===ve?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ri(l,m)||(a=!0,Tx(l,m));l=l.next}while(a);gp=!1}}function Xw(){xx()}function xx(){af=mp=!1;var e=0;gr!==0&&o2()&&(e=gr);for(var s=te(),a=null,l=rf;l!==null;){var h=l.next,m=bx(l,s);m===0?(l.next=null,a===null?rf=h:a.next=h,h===null&&(So=a)):(a=l,(e!==0||(m&3)!==0)&&(af=!0)),l=h}Je!==0&&Je!==5||Xl(e),gr!==0&&(gr=0)}function bx(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var _=31-Me(m),E=1<<_,L=h[_];L===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Gh(E,s)):L<=s&&(e.expiredLanes|=E),m&=~E}if(s=ve,a=Gt,a=Hi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(he===2||he===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&at(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ri(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&at(l),xs(a)){case 2:case 8:a=ri;break;case 32:a=Gs;break;case 268435456:a=Qu;break;default:a=Gs}return l=_x.bind(null,e),a=be(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&at(l),e.callbackPriority=2,e.callbackNode=null,2}function _x(e,s){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sf()&&e.callbackNode!==a)return null;var l=Gt;return l=Hi(e,e===ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(nx(e,l,s),bx(e,te()),e.callbackNode!=null&&e.callbackNode===a?_x.bind(null,e):null)}function Tx(e,s){if(sf())return null;nx(e,s,!0)}function $w(){u2(function(){(le&6)!==0?be(ee,Xw):xx()})}function yp(){if(gr===0){var e=oo;e===0&&(e=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),gr=e}return gr}function Sx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ya(""+e)}function Ex(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Zw(e,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=Sx((h[nn]||null).action),_=l.submitter;_&&(s=(s=_[nn]||null)?Sx(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var E=new es("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gr!==0){var L=_?Ex(h,_):new FormData(h);Ld(a,{pending:!0,data:L,method:h.method,action:m},null,L)}}else typeof m=="function"&&(E.preventDefault(),L=_?Ex(h,_):new FormData(h),Ld(a,{pending:!0,data:L,method:h.method,action:m},m,L))},currentTarget:h}]})}}for(var vp=0;vp<td.length;vp++){var xp=td[vp],Jw=xp.toLowerCase(),t2=xp[0].toUpperCase()+xp.slice(1);Pi(Jw,"on"+t2)}Pi(e0,"onAnimationEnd"),Pi(n0,"onAnimationIteration"),Pi(i0,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(gw,"onTransitionRun"),Pi(yw,"onTransitionStart"),Pi(vw,"onTransitionCancel"),Pi(s0,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Ax(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var _=l.length-1;0<=_;_--){var E=l[_],L=E.instance,$=E.currentTarget;if(E=E.listener,L!==m&&h.isPropagationStopped())break t;m=E,h.currentTarget=$;try{m(h)}catch(rt){bc(rt)}h.currentTarget=null,m=L}else for(_=0;_<l.length;_++){if(E=l[_],L=E.instance,$=E.currentTarget,E=E.listener,L!==m&&h.isPropagationStopped())break t;m=E,h.currentTarget=$;try{m(h)}catch(rt){bc(rt)}h.currentTarget=null,m=L}}}}function Ht(e,s){var a=s[Ua];a===void 0&&(a=s[Ua]=new Set);var l=e+"__bubble";a.has(l)||(wx(s,e,2,!1),a.add(l))}function bp(e,s,a){var l=0;s&&(l|=4),wx(a,e,l,s)}var of="_reactListening"+Math.random().toString(36).slice(2);function _p(e){if(!e[of]){e[of]=!0,ul.forEach(function(a){a!=="selectionchange"&&(e2.has(a)||bp(a,!1,e),bp(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[of]||(s[of]=!0,bp("selectionchange",!1,s))}}function wx(e,s,a,l){switch(e1(s)){case 2:var h=I2;break;case 8:h=D2;break;default:h=Pp}a=h.bind(null,s,a,e),h=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function Tp(e,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Qi(E),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){l=m=_;continue t}E=E.parentNode}}l=l.return}$s(function(){var $=m,rt=li(a),ft=[];t:{var J=r0.get(e);if(J!==void 0){var it=es,Tt=e;switch(e){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":it=yc;break;case"focusin":Tt="focus",it=sa;break;case"focusout":Tt="blur",it=sa;break;case"beforeblur":case"afterblur":it=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=x;break;case e0:case n0:case i0:it=cc;break;case s0:it=C;break;case"scroll":case"scrollend":it=_l;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Ts;break;case"toggle":case"beforetoggle":it=zt}var Vt=(s&4)!==0,ye=!Vt&&(e==="scroll"||e==="scrollend"),G=Vt?J!==null?J+"Capture":null:J;Vt=[];for(var z=$,X;z!==null;){var ot=z;if(X=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||X===null||G===null||(ot=Vi(z,G),ot!=null&&Vt.push(Zl(z,ot,X))),ye)break;z=z.return}0<Vt.length&&(J=new it(J,Tt,null,a,rt),ft.push({event:J,listeners:Vt}))}}if((s&7)===0){t:{if(J=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",J&&a!==vl&&(Tt=a.relatedTarget||a.fromElement)&&(Qi(Tt)||Tt[Yi]))break t;if((it||J)&&(J=rt.window===rt?rt:(J=rt.ownerDocument)?J.defaultView||J.parentWindow:window,it?(Tt=a.relatedTarget||a.toElement,it=$,Tt=Tt?Qi(Tt):null,Tt!==null&&(ye=u(Tt),Vt=Tt.tag,Tt!==ye||Vt!==5&&Vt!==27&&Vt!==6)&&(Tt=null)):(it=null,Tt=$),it!==Tt)){if(Vt=Tl,ot="onMouseLeave",G="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=Ts,ot="onPointerLeave",G="onPointerEnter",z="pointer"),ye=it==null?J:Hn(it),X=Tt==null?J:Hn(Tt),J=new Vt(ot,z+"leave",it,a,rt),J.target=ye,J.relatedTarget=X,ot=null,Qi(rt)===$&&(Vt=new Vt(G,z+"enter",Tt,a,rt),Vt.target=X,Vt.relatedTarget=ye,ot=Vt),ye=ot,it&&Tt)e:{for(Vt=n2,G=it,z=Tt,X=0,ot=G;ot;ot=Vt(ot))X++;ot=0;for(var Rt=z;Rt;Rt=Vt(Rt))ot++;for(;0<X-ot;)G=Vt(G),X--;for(;0<ot-X;)z=Vt(z),ot--;for(;X--;){if(G===z||z!==null&&G===z.alternate){Vt=G;break e}G=Vt(G),z=Vt(z)}Vt=null}else Vt=null;it!==null&&Cx(ft,J,it,Vt,!1),Tt!==null&&ye!==null&&Cx(ft,ye,Tt,Vt,!0)}}t:{if(J=$?Hn($):window,it=J.nodeName&&J.nodeName.toLowerCase(),it==="select"||it==="input"&&J.type==="file")var ne=Hy;else if(Fy(J))if(Gy)ne=dw;else{ne=fw;var Et=cw}else it=J.nodeName,!it||it.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?$&&Ga($.elementType)&&(ne=Hy):ne=hw;if(ne&&(ne=ne(e,$))){qy(ft,ne,a,rt);break t}Et&&Et(e,J,$),e==="focusout"&&$&&J.type==="number"&&$.memoizedProps.value!=null&&ml(J,"number",J.value)}switch(Et=$?Hn($):window,e){case"focusin":(Fy(Et)||Et.contentEditable==="true")&&(Ja=Et,$h=$,Cl=null);break;case"focusout":Cl=$h=Ja=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Jy(ft,a,rt);break;case"selectionchange":if(mw)break;case"keydown":case"keyup":Jy(ft,a,rt)}var Ft;if(oe)t:{switch(e){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Za?ra(e,a)&&(Yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Yt="onCompositionStart");Yt&&(ss&&a.locale!=="ko"&&(Za||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Za&&(Ft=bl()):(ts=rt,xl="value"in ts?ts.value:ts.textContent,Za=!0)),Et=lf($,Yt),0<Et.length&&(Yt=new is(Yt,e,null,a,rt),ft.push({event:Yt,listeners:Et}),Ft?Yt.data=Ft:(Ft=$a(a),Ft!==null&&(Yt.data=Ft)))),(Ft=ci?aw(e,a):ow(e,a))&&(Yt=lf($,"onBeforeInput"),0<Yt.length&&(Et=new is("onBeforeInput","beforeinput",null,a,rt),ft.push({event:Et,listeners:Yt}),Et.data=Ft)),Zw(ft,e,$,a,rt)}Ax(ft,s)})}function Zl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function lf(e,s){for(var a=s+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Vi(e,a),h!=null&&l.unshift(Zl(e,h,m)),h=Vi(e,s),h!=null&&l.push(Zl(e,h,m))),e.tag===3)return l;e=e.return}return[]}function n2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cx(e,s,a,l,h){for(var m=s._reactName,_=[];a!==null&&a!==l;){var E=a,L=E.alternate,$=E.stateNode;if(E=E.tag,L!==null&&L===l)break;E!==5&&E!==26&&E!==27||$===null||(L=$,h?($=Vi(a,m),$!=null&&_.unshift(Zl(a,$,L))):h||($=Vi(a,m),$!=null&&_.push(Zl(a,$,L)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var i2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function Rx(e){return(typeof e=="string"?e:""+e).replace(i2,`
`).replace(s2,"")}function Ix(e,s){return s=Rx(s),Rx(e)===s}function ge(e,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":yl(e,l,m);break;case"data":if(s!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ya(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ge(e,s,"name",h.name,h,null),ge(e,s,"formEncType",h.formEncType,h,null),ge(e,s,"formMethod",h.formMethod,h,null),ge(e,s,"formTarget",h.formTarget,h,null)):(ge(e,s,"encType",h.encType,h,null),ge(e,s,"method",h.method,h,null),ge(e,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ya(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ji);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ya(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),qa(e,"popover",l);break;case"xlinkActuate":qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oc.get(a)||a,qa(e,a,l))}}function Sp(e,s,a,l,h,m){switch(a){case"style":yl(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=e[nn]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):qa(e,a,l)}}}function pn(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,m,_,a,null)}}h&&ge(e,s,"srcSet",a.srcSet,a,null),l&&ge(e,s,"src",a.src,a,null);return;case"input":Ht("invalid",e);var E=m=_=h=null,L=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var rt=a[l];if(rt!=null)switch(l){case"name":h=rt;break;case"type":_=rt;break;case"checked":L=rt;break;case"defaultChecked":$=rt;break;case"value":m=rt;break;case"defaultValue":E=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,s));break;default:ge(e,s,l,rt,a,null)}}sc(e,m,E,L,$,_,h,!1);return;case"select":Ht("invalid",e),l=_=m=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:ge(e,s,h,E,a,null)}s=m,a=_,e.multiple=!!l,s!=null?Ks(e,!!l,s,!1):a!=null&&Ks(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),m=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ge(e,s,_,E,a,null)}Qs(e,l,h,m);return;case"option":for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!=null)&&(L==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ge(e,s,L,l,a,null));return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<$l.length;l++)Ht($l[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,$,l,a,null)}return;default:if(Ga(s)){for(rt in a)a.hasOwnProperty(rt)&&(l=a[rt],l!==void 0&&Sp(e,s,rt,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ge(e,s,E,l,a,null))}function r2(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,E=null,L=null,$=null,rt=null;for(it in a){var ft=a[it];if(a.hasOwnProperty(it)&&ft!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":L=ft;default:l.hasOwnProperty(it)||ge(e,s,it,null,l,ft)}}for(var J in l){var it=l[J];if(ft=a[J],l.hasOwnProperty(J)&&(it!=null||ft!=null))switch(J){case"type":m=it;break;case"name":h=it;break;case"checked":$=it;break;case"defaultChecked":rt=it;break;case"value":_=it;break;case"defaultValue":E=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:it!==ft&&ge(e,s,J,it,l,ft)}}Ha(e,_,E,L,$,rt,m,h);return;case"select":it=_=E=J=null;for(m in a)if(L=a[m],a.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":it=L;default:l.hasOwnProperty(m)||ge(e,s,m,null,l,L)}for(h in l)if(m=l[h],L=a[h],l.hasOwnProperty(h)&&(m!=null||L!=null))switch(h){case"value":J=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==L&&ge(e,s,h,m,l,L)}s=E,a=_,l=it,J!=null?Ks(e,!!a,J,!1):!!l!=!!a&&(s!=null?Ks(e,!!a,s,!0):Ks(e,!!a,a?[]:"",!1));return;case"textarea":it=J=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ge(e,s,E,null,l,h)}for(_ in l)if(h=l[_],m=a[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":J=h;break;case"defaultValue":it=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&ge(e,s,_,h,l,m)}rc(e,J,it);return;case"option":for(var Tt in a)J=a[Tt],a.hasOwnProperty(Tt)&&J!=null&&!l.hasOwnProperty(Tt)&&(Tt==="selected"?e.selected=!1:ge(e,s,Tt,null,l,J));for(L in l)J=l[L],it=a[L],l.hasOwnProperty(L)&&J!==it&&(J!=null||it!=null)&&(L==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":ge(e,s,L,J,l,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in a)J=a[Vt],a.hasOwnProperty(Vt)&&J!=null&&!l.hasOwnProperty(Vt)&&ge(e,s,Vt,null,l,J);for($ in l)if(J=l[$],it=a[$],l.hasOwnProperty($)&&J!==it&&(J!=null||it!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:ge(e,s,$,J,l,it)}return;default:if(Ga(s)){for(var ye in a)J=a[ye],a.hasOwnProperty(ye)&&J!==void 0&&!l.hasOwnProperty(ye)&&Sp(e,s,ye,void 0,l,J);for(rt in l)J=l[rt],it=a[rt],!l.hasOwnProperty(rt)||J===it||J===void 0&&it===void 0||Sp(e,s,rt,J,l,it);return}}for(var G in a)J=a[G],a.hasOwnProperty(G)&&J!=null&&!l.hasOwnProperty(G)&&ge(e,s,G,null,l,J);for(ft in l)J=l[ft],it=a[ft],!l.hasOwnProperty(ft)||J===it||J==null&&it==null||ge(e,s,ft,J,l,it)}function Dx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,_=h.initiatorType,E=h.duration;if(m&&E&&Dx(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var L=a[l],$=L.startTime;if($>E)break;var rt=L.transferSize,ft=L.initiatorType;rt&&Dx(ft)&&(L=L.responseEnd,_+=rt*(L<E?1:(E-$)/(L-$)))}if(--l,s+=8*(m+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ep=null,Ap=null;function uf(e){return e.nodeType===9?e:e.ownerDocument}function jx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vx(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function wp(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cp=null;function o2(){var e=window.event;return e&&e.type==="popstate"?e===Cp?!1:(Cp=e,!0):(Cp=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(e){return Nx.resolve(null).then(e).catch(c2)}:Mx;function c2(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function Ox(e,s){var a=s,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Co(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Jl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Jl(a);for(var m=a.firstChild;m;){var _=m.nextSibling,E=m.nodeName;m[Ki]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Jl(e.ownerDocument.body);a=h}while(a);Co(s)}function Px(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Rp(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rp(a),Fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function f2(e,s,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ki])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=yi(e.nextSibling),e===null)break}return null}function h2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=yi(e.nextSibling),e===null))return null;return e}function Lx(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=yi(e.nextSibling),e===null))return null;return e}function Ip(e){return e.data==="$?"||e.data==="$~"}function Dp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function d2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function yi(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var jp=null;function kx(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return yi(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function Bx(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function zx(e,s,a){switch(s=uf(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Jl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Fa(e)}var vi=new Map,Ux=new Set;function cf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ls=I.d;I.d={f:p2,r:m2,D:g2,C:y2,L:v2,m:x2,X:_2,S:b2,M:T2};function p2(){var e=Ls.f(),s=tf();return e||s}function m2(e){var s=oi(e);s!==null&&s.tag===5&&s.type==="form"?sv(s):Ls.r(e)}var Eo=typeof document>"u"?null:document;function Fx(e,s,a){var l=Eo;if(l&&typeof s=="string"&&s){var h=jn(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ux.has(h)||(Ux.add(h),e={rel:e,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),pn(s,"link",e),Fe(s),l.head.appendChild(s)))}}function g2(e){Ls.D(e),Fx("dns-prefetch",e,null)}function y2(e,s){Ls.C(e,s),Fx("preconnect",e,s)}function v2(e,s,a){Ls.L(e,s,a);var l=Eo;if(l&&e&&s){var h='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+jn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+jn(a.imageSizes)+'"]')):h+='[href="'+jn(e)+'"]';var m=h;switch(s){case"style":m=Ao(e);break;case"script":m=wo(e)}vi.has(m)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),vi.set(m,e),l.querySelector(h)!==null||s==="style"&&l.querySelector(tu(m))||s==="script"&&l.querySelector(eu(m))||(s=l.createElement("link"),pn(s,"link",e),Fe(s),l.head.appendChild(s)))}}function x2(e,s){Ls.m(e,s);var a=Eo;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(e)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wo(e)}if(!vi.has(m)&&(e=b({rel:"modulepreload",href:e},s),vi.set(m,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(m)))return}l=a.createElement("link"),pn(l,"link",e),Fe(l),a.head.appendChild(l)}}}function b2(e,s,a){Ls.S(e,s,a);var l=Eo;if(l&&e){var h=Wi(l).hoistableStyles,m=Ao(e);s=s||"default";var _=h.get(m);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(tu(m)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=vi.get(m))&&Vp(e,a);var L=_=l.createElement("link");Fe(L),pn(L,"link",e),L._p=new Promise(function($,rt){L.onload=$,L.onerror=rt}),L.addEventListener("load",function(){E.loading|=1}),L.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ff(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(m,_)}}}function _2(e,s){Ls.X(e,s);var a=Eo;if(a&&e){var l=Wi(a).hoistableScripts,h=wo(e),m=l.get(h);m||(m=a.querySelector(eu(h)),m||(e=b({src:e,async:!0},s),(s=vi.get(h))&&Mp(e,s),m=a.createElement("script"),Fe(m),pn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function T2(e,s){Ls.M(e,s);var a=Eo;if(a&&e){var l=Wi(a).hoistableScripts,h=wo(e),m=l.get(h);m||(m=a.querySelector(eu(h)),m||(e=b({src:e,async:!0,type:"module"},s),(s=vi.get(h))&&Mp(e,s),m=a.createElement("script"),Fe(m),pn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function qx(e,s,a,l){var h=(h=pt.current)?cf(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ao(a.href),a=Wi(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ao(a.href);var m=Wi(h).hoistableStyles,_=m.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,_),(m=h.querySelector(tu(e)))&&!m._p&&(_.instance=m,_.state.loading=5),vi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vi.set(e,a),m||S2(h,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wo(a),a=Wi(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ao(e){return'href="'+jn(e)+'"'}function tu(e){return'link[rel="stylesheet"]['+e+"]"}function Hx(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function S2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),pn(s,"link",a),Fe(s),e.head.appendChild(s))}function wo(e){return'[src="'+jn(e)+'"]'}function eu(e){return"script[async]"+e}function Gx(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+jn(a.href)+'"]');if(l)return s.instance=l,Fe(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Fe(l),pn(l,"style",h),ff(l,a.precedence,e),s.instance=l;case"stylesheet":h=Ao(a.href);var m=e.querySelector(tu(h));if(m)return s.state.loading|=4,s.instance=m,Fe(m),m;l=Hx(a),(h=vi.get(h))&&Vp(l,h),m=(e.ownerDocument||e).createElement("link"),Fe(m);var _=m;return _._p=new Promise(function(E,L){_.onload=E,_.onerror=L}),pn(m,"link",l),s.state.loading|=4,ff(m,a.precedence,e),s.instance=m;case"script":return m=wo(a.src),(h=e.querySelector(eu(m)))?(s.instance=h,Fe(h),h):(l=a,(h=vi.get(m))&&(l=b({},a),Mp(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Fe(h),pn(h,"link",l),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ff(l,a.precedence,e));return s.instance}function ff(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===s)m=E;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Vp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Mp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var hf=null;function Yx(e,s,a){if(hf===null){var l=new Map,h=hf=new Map;h.set(a,l)}else h=hf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[Ki]||m[Ue]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=e+_;var E=l.get(_);E?E.push(m):l.set(_,[m])}}return l}function Kx(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function E2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function A2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ao(l.href),m=s.querySelector(tu(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=df.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=m,Fe(m);return}m=s.ownerDocument||s,l=Hx(l),(h=vi.get(h))&&Vp(l,h),m=m.createElement("link"),Fe(m);var _=m;_._p=new Promise(function(E,L){_.onload=E,_.onerror=L}),pn(m,"link",l),a.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=df.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Np=0;function w2(e,s){return e.stylesheets&&e.count===0&&mf(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+s);0<e.imgBytes&&Np===0&&(Np=62500*a2());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Np?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pf=null;function mf(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pf=new Map,s.forEach(C2,e),pf=null,df.call(e))}function C2(e,s){if(!(s.state.loading&4)){var a=pf.get(e);if(a)var l=a.get(null);else{a=new Map,pf.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,h),a.set(_,h),this.count++,l=df.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var nu={$$typeof:H,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function R2(e,s,a,l,h,m,_,E,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Wx(e,s,a,l,h,m,_,E,L,$,rt,ft){return e=new R2(e,s,a,_,L,$,rt,ft,E),s=1,m===!0&&(s|=24),m=Kn(3,null,null,s),e.current=m,m.stateNode=e,s=dd(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},yd(m),e}function Xx(e){return e?(e=no,e):no}function $x(e,s,a,l,h,m){h=Xx(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=or(e,l,s),a!==null&&(Ln(a,e,s),Nl(a,e,s))}function Zx(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Op(e,s){Zx(e,s),(e=e.alternate)&&Zx(e,s)}function Jx(e){if(e.tag===13||e.tag===31){var s=la(e,67108864);s!==null&&Ln(s,e,67108864),Op(e,67108864)}}function t1(e){if(e.tag===13||e.tag===31){var s=Zn();s=Xr(s);var a=la(e,s);a!==null&&Ln(a,e,s),Op(e,s)}}var gf=!0;function I2(e,s,a,l){var h=Y.T;Y.T=null;var m=I.p;try{I.p=2,Pp(e,s,a,l)}finally{I.p=m,Y.T=h}}function D2(e,s,a,l){var h=Y.T;Y.T=null;var m=I.p;try{I.p=8,Pp(e,s,a,l)}finally{I.p=m,Y.T=h}}function Pp(e,s,a,l){if(gf){var h=Lp(l);if(h===null)Tp(e,s,l,yf,a),n1(e,l);else if(V2(h,e,s,a,l))l.stopPropagation();else if(n1(e,l),s&4&&-1<j2.indexOf(e)){for(;h!==null;){var m=oi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=qi(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var L=1<<31-Me(_);E.entanglements[1]|=L,_&=~L}ls(m),(le&6)===0&&(Zc=te()+500,Xl(0))}}break;case 31:case 13:E=la(m,2),E!==null&&Ln(E,m,2),tf(),Op(m,2)}if(m=Lp(l),m===null&&Tp(e,s,l,yf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Tp(e,s,l,null,a)}}function Lp(e){return e=li(e),kp(e)}var yf=null;function kp(e){if(yf=null,e=Qi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=d(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return yf=e,null}function e1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case ee:return 2;case ri:return 8;case Gs:case Hh:return 32;case Qu:return 268435456;default:return 32}default:return 32}}var Bp=!1,vr=null,xr=null,br=null,iu=new Map,su=new Map,_r=[],j2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(e,s){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":iu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(s.pointerId)}}function ru(e,s,a,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=oi(s),s!==null&&Jx(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function V2(e,s,a,l,h){switch(s){case"focusin":return vr=ru(vr,e,s,a,l,h),!0;case"dragenter":return xr=ru(xr,e,s,a,l,h),!0;case"mouseover":return br=ru(br,e,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return iu.set(m,ru(iu.get(m)||null,e,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,su.set(m,ru(su.get(m)||null,e,s,a,l,h)),!0}return!1}function i1(e){var s=Qi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Ii(e.priority,function(){t1(a)});return}}else if(s===31){if(s=d(a),s!==null){e.blockedOn=s,Ii(e.priority,function(){t1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Lp(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);vl=l,a.target.dispatchEvent(l),vl=null}else return s=oi(a),s!==null&&Jx(s),e.blockedOn=a,!1;s.shift()}return!0}function s1(e,s,a){vf(e)&&a.delete(s)}function M2(){Bp=!1,vr!==null&&vf(vr)&&(vr=null),xr!==null&&vf(xr)&&(xr=null),br!==null&&vf(br)&&(br=null),iu.forEach(s1),su.forEach(s1)}function xf(e,s){e.blockedOn===s&&(e.blockedOn=null,Bp||(Bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,M2)))}var bf=null;function r1(e){bf!==e&&(bf=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bf===e&&(bf=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],h=e[s+2];if(typeof l!="function"){if(kp(l||a)===null)continue;break}var m=oi(a);m!==null&&(e.splice(s,3),s-=3,Ld(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Co(e){function s(L){return xf(L,e)}vr!==null&&xf(vr,e),xr!==null&&xf(xr,e),br!==null&&xf(br,e),iu.forEach(s),su.forEach(s);for(var a=0;a<_r.length;a++){var l=_r[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)i1(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],_=h[nn]||null;if(typeof m=="function")_||r1(a);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[nn]||null)E=_.formAction;else if(kp(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),r1(a)}}}function a1(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function zp(e){this._internalRoot=e}_f.prototype.render=zp.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Zn();$x(a,l,e,s,null,null)},_f.prototype.unmount=zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;$x(e.current,2,null,e,null,null),tf(),s[Yi]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var s=tc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<_r.length&&s!==0&&s<_r[a].priority;a++);_r.splice(a,0,e),a===0&&i1(e)}};var o1=t.version;if(o1!=="19.2.3")throw Error(r(527,o1,"19.2.3"));I.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var N2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{Ci=Tf.inject(N2),un=Tf}catch{}}return ou.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",h=pv,m=mv,_=gv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Wx(e,1,!1,null,null,a,l,null,h,m,_,a1),e[Yi]=s.current,_p(e),new zp(s)},ou.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,h="",m=pv,_=mv,E=gv,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),s=Wx(e,1,!0,s,a??null,l,h,L,m,_,E,a1),s.context=Xx(null),a=s.current,l=Zn(),l=Xr(l),h=ar(l),h.callback=null,or(a,h,l),a=l,s.current.lanes=a,Qr(s,a),ls(s),e[Yi]=s.current,_p(e),new _f(s)},ou.version="19.2.3",ou}var y1;function H2(){if(y1)return qp.exports;y1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qp.exports=q2(),qp.exports}var G2=H2();const Y2=()=>{};var v1={};const oT=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},K2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],d=n[i++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|y>>6,M=y&63;g||(M=64,c||(S=64)),r.push(i[v],i[b],i[S],i[M])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(oT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):K2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const y=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||y==null||b==null)throw new Q2;const S=u<<2|d>>4;if(r.push(S),y!==64){const M=d<<4&240|y>>2;if(r.push(M),b!==64){const k=y<<6&192|b;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W2=function(n){const t=oT(n);return lT.encodeByteArray(t,!0)},Yf=function(n){return W2(n).replace(/\./g,"")},X2=function(n){try{return lT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Z2=()=>$2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof v1>"u")return;const n=v1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&X2(n[1]);return t&&JSON.parse(t)},yg=()=>{try{return Y2()||Z2()||J2()||tC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eC=n=>yg()?.emulatorHosts?.[n],nC=n=>{const t=eC(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},uT=()=>yg()?.config;class iC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function vg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sC(n){return(await fetch(n,{credentials:"include"})).ok}function rC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yf(JSON.stringify(i)),Yf(JSON.stringify(c)),""].join(".")}const pu={};function aC(){const n={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?n.emulator.push(t):n.prod.push(t);return n}function oC(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let x1=!1;function lC(n,t){if(typeof window>"u"||typeof document>"u"||!vg(window.location.host)||pu[n]===t||pu[n]||x1)return;pu[n]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=aC().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{x1=!0,c()},S}function v(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=oC(r),M=i("text"),k=document.getElementById(M)||document.createElement("span"),q=i("learnmore"),B=document.getElementById(q)||document.createElement("a"),Z=i("preprendIcon"),O=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;d(H),v(B,q);const Q=y();g(O,Z),H.append(O,k,B,Q),document.body.appendChild(H)}u?(k.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function uC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cC(){const n=yg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function fT(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function dC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pC="FirebaseError";class Fr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=pC,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?mC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Fr(o,d,r)}}function mC(n,t){return n.replace(gC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const gC=/\{\$([^}]+)}/g;function Su(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(b1(u)&&b1(c)){if(!Su(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function b1(n){return n!==null&&typeof n=="object"}const yC=1e3,vC=2,xC=14400*1e3,bC=.5;function _1(n,t=yC,i=vC){const r=t*Math.pow(i,n),o=Math.round(bC*r*(Math.random()-.5)*2);return Math.min(xC,r+o)}function ii(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Sa="[DEFAULT]";class _C{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new iC;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SC(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(n){return n===Sa?void 0:n}function SC(n){return n.instantiationMode==="EAGER"}class EC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _C(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Jt||(Jt={}));const AC={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},wC=Jt.INFO,CC={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},RC=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=CC[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xg{constructor(t){this.name=t,this._logLevel=wC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const IC=(n,t)=>t.some(i=>n instanceof i);let T1,S1;function DC(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return S1||(S1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,Sm=new WeakMap,dT=new WeakMap,Kp=new WeakMap,bg=new WeakMap;function VC(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Cr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&hT.set(i,n)}).catch(()=>{}),bg.set(t,n),t}function MC(n){if(Sm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Sm.set(n,t)}let Em={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Sm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dT.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function NC(n){Em=n(Em)}function OC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Qp(this),t,...i);return dT.set(r,t.sort?t.sort():[t]),Cr(r)}:jC().includes(n)?function(...t){return n.apply(Qp(this),t),Cr(hT.get(this))}:function(...t){return Cr(n.apply(Qp(this),t))}}function PC(n){return typeof n=="function"?OC(n):(n instanceof IDBTransaction&&MC(n),IC(n,DC())?new Proxy(n,Em):n)}function Cr(n){if(n instanceof IDBRequest)return VC(n);if(Kp.has(n))return Kp.get(n);const t=PC(n);return t!==n&&(Kp.set(n,t),bg.set(t,n)),t}const Qp=n=>bg.get(n);function pT(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=Cr(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Cr(c.result),g.oldVersion,g.newVersion,Cr(c.transaction),g)}),i&&c.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const LC=["get","getKey","getAll","getAllKeys","count"],kC=["put","add","delete","clear"],Wp=new Map;function E1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Wp.get(t))return Wp.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=kC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||LC.includes(i)))return;const u=async function(c,...d){const g=this.transaction(c,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[i](...d),o&&g.done]))[0]};return Wp.set(t,u),u}NC(n=>({...n,get:(t,i,r)=>E1(t,i)||n.get(t,i,r),has:(t,i)=>!!E1(t,i)||n.has(t,i)}));class BC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function zC(n){return n.getComponent()?.type==="VERSION"}const Am="@firebase/app",A1="0.14.6";const zs=new xg("@firebase/app"),UC="@firebase/app-compat",FC="@firebase/analytics-compat",qC="@firebase/analytics",HC="@firebase/app-check-compat",GC="@firebase/app-check",YC="@firebase/auth",KC="@firebase/auth-compat",QC="@firebase/database",WC="@firebase/data-connect",XC="@firebase/database-compat",$C="@firebase/functions",ZC="@firebase/functions-compat",JC="@firebase/installations",tR="@firebase/installations-compat",eR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",rR="@firebase/remote-config",aR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",fR="@firebase/firestore-compat",hR="firebase",dR="12.6.0";const wm="[DEFAULT]",pR={[Am]:"fire-core",[UC]:"fire-core-compat",[qC]:"fire-analytics",[FC]:"fire-analytics-compat",[GC]:"fire-app-check",[HC]:"fire-app-check-compat",[YC]:"fire-auth",[KC]:"fire-auth-compat",[QC]:"fire-rtdb",[WC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[$C]:"fire-fn",[ZC]:"fire-fn-compat",[JC]:"fire-iid",[tR]:"fire-iid-compat",[eR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[rR]:"fire-rc",[aR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[fR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};const Kf=new Map,mR=new Map,Cm=new Map;function w1(n,t){try{n.container.addComponent(t)}catch(i){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Vr(n){const t=n.name;if(Cm.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,n);for(const i of Kf.values())w1(i,n);for(const i of mR.values())w1(i,n);return!0}function Lu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function gR(n){return n==null?!1:n.settings!==void 0}const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new gh("app","Firebase",yR);class vR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const xR=dR;function mT(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:wm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=uT()),!i)throw Rr.create("no-options");const u=Kf.get(o);if(u){if(Su(i,u.options)&&Su(r,u.config))return u;throw Rr.create("duplicate-app",{appName:o})}const c=new EC(o);for(const g of Cm.values())c.addComponent(g);const d=new vR(i,r,c);return Kf.set(o,d),d}function gT(n=wm){const t=Kf.get(n);if(!t&&n===wm&&uT())return mT();if(!t)throw Rr.create("no-app",{appName:n});return t}function cs(n,t,i){let r=pR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}Vr(new Bs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const bR="firebase-heartbeat-database",_R=1,Eu="firebase-heartbeat-store";let Xp=null;function yT(){return Xp||(Xp=pT(bR,_R,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Eu)}catch(i){console.warn(i)}}}}).catch(n=>{throw Rr.create("idb-open",{originalErrorMessage:n.message})})),Xp}async function TR(n){try{const i=(await yT()).transaction(Eu),r=await i.objectStore(Eu).get(vT(n));return await i.done,r}catch(t){if(t instanceof Fr)zs.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t?.message});zs.warn(i.message)}}}async function C1(n,t){try{const r=(await yT()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,vT(n)),await r.done}catch(i){if(i instanceof Fr)zs.warn(i.message);else{const r=Rr.create("idb-set",{originalErrorMessage:i?.message});zs.warn(r.message)}}}function vT(n){return`${n.name}!${n.options.appId}`}const SR=1024,ER=30;class AR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ER){const o=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R1(),{heartbeatsToSend:i,unsentEntries:r}=wR(this._heartbeatsCache.heartbeats),o=Yf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zs.warn(t),""}}}function R1(){return new Date().toISOString().substring(0,10)}function wR(n,t=SR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),I1(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),I1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class CR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?fT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return C1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return C1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function I1(n){return Yf(JSON.stringify({version:2,heartbeats:n})).length}function RR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}function IR(n){Vr(new Bs("platform-logger",t=>new BC(t),"PRIVATE")),Vr(new Bs("heartbeat",t=>new AR(t),"PRIVATE")),cs(Am,A1,n),cs(Am,A1,"esm2020"),cs("fire-js","")}IR("");var DR="firebase",jR="12.7.0";cs(DR,jR,"app");var D1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,xT;(function(){var n;function t(w,A){function R(){}R.prototype=A.prototype,w.F=A.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(V,j,P){for(var D=Array(arguments.length-2),At=2;At<arguments.length;At++)D[At-2]=arguments[At];return A.prototype[j].apply(V,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)V[j]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(j=0;j<16;++j)V[j]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=w.g[0],R=w.g[1],j=w.g[2];let P=w.g[3],D;D=A+(P^R&(j^P))+V[0]+3614090360&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(j^A&(R^j))+V[1]+3905402710&4294967295,P=A+(D<<12&4294967295|D>>>20),D=j+(R^P&(A^R))+V[2]+606105819&4294967295,j=P+(D<<17&4294967295|D>>>15),D=R+(A^j&(P^A))+V[3]+3250441966&4294967295,R=j+(D<<22&4294967295|D>>>10),D=A+(P^R&(j^P))+V[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(j^A&(R^j))+V[5]+1200080426&4294967295,P=A+(D<<12&4294967295|D>>>20),D=j+(R^P&(A^R))+V[6]+2821735955&4294967295,j=P+(D<<17&4294967295|D>>>15),D=R+(A^j&(P^A))+V[7]+4249261313&4294967295,R=j+(D<<22&4294967295|D>>>10),D=A+(P^R&(j^P))+V[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(j^A&(R^j))+V[9]+2336552879&4294967295,P=A+(D<<12&4294967295|D>>>20),D=j+(R^P&(A^R))+V[10]+4294925233&4294967295,j=P+(D<<17&4294967295|D>>>15),D=R+(A^j&(P^A))+V[11]+2304563134&4294967295,R=j+(D<<22&4294967295|D>>>10),D=A+(P^R&(j^P))+V[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=P+(j^A&(R^j))+V[13]+4254626195&4294967295,P=A+(D<<12&4294967295|D>>>20),D=j+(R^P&(A^R))+V[14]+2792965006&4294967295,j=P+(D<<17&4294967295|D>>>15),D=R+(A^j&(P^A))+V[15]+1236535329&4294967295,R=j+(D<<22&4294967295|D>>>10),D=A+(j^P&(R^j))+V[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^j&(A^R))+V[6]+3225465664&4294967295,P=A+(D<<9&4294967295|D>>>23),D=j+(A^R&(P^A))+V[11]+643717713&4294967295,j=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(j^P))+V[0]+3921069994&4294967295,R=j+(D<<20&4294967295|D>>>12),D=A+(j^P&(R^j))+V[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^j&(A^R))+V[10]+38016083&4294967295,P=A+(D<<9&4294967295|D>>>23),D=j+(A^R&(P^A))+V[15]+3634488961&4294967295,j=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(j^P))+V[4]+3889429448&4294967295,R=j+(D<<20&4294967295|D>>>12),D=A+(j^P&(R^j))+V[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^j&(A^R))+V[14]+3275163606&4294967295,P=A+(D<<9&4294967295|D>>>23),D=j+(A^R&(P^A))+V[3]+4107603335&4294967295,j=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(j^P))+V[8]+1163531501&4294967295,R=j+(D<<20&4294967295|D>>>12),D=A+(j^P&(R^j))+V[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=P+(R^j&(A^R))+V[2]+4243563512&4294967295,P=A+(D<<9&4294967295|D>>>23),D=j+(A^R&(P^A))+V[7]+1735328473&4294967295,j=P+(D<<14&4294967295|D>>>18),D=R+(P^A&(j^P))+V[12]+2368359562&4294967295,R=j+(D<<20&4294967295|D>>>12),D=A+(R^j^P)+V[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^j)+V[8]+2272392833&4294967295,P=A+(D<<11&4294967295|D>>>21),D=j+(P^A^R)+V[11]+1839030562&4294967295,j=P+(D<<16&4294967295|D>>>16),D=R+(j^P^A)+V[14]+4259657740&4294967295,R=j+(D<<23&4294967295|D>>>9),D=A+(R^j^P)+V[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^j)+V[4]+1272893353&4294967295,P=A+(D<<11&4294967295|D>>>21),D=j+(P^A^R)+V[7]+4139469664&4294967295,j=P+(D<<16&4294967295|D>>>16),D=R+(j^P^A)+V[10]+3200236656&4294967295,R=j+(D<<23&4294967295|D>>>9),D=A+(R^j^P)+V[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^j)+V[0]+3936430074&4294967295,P=A+(D<<11&4294967295|D>>>21),D=j+(P^A^R)+V[3]+3572445317&4294967295,j=P+(D<<16&4294967295|D>>>16),D=R+(j^P^A)+V[6]+76029189&4294967295,R=j+(D<<23&4294967295|D>>>9),D=A+(R^j^P)+V[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=P+(A^R^j)+V[12]+3873151461&4294967295,P=A+(D<<11&4294967295|D>>>21),D=j+(P^A^R)+V[15]+530742520&4294967295,j=P+(D<<16&4294967295|D>>>16),D=R+(j^P^A)+V[2]+3299628645&4294967295,R=j+(D<<23&4294967295|D>>>9),D=A+(j^(R|~P))+V[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~j))+V[7]+1126891415&4294967295,P=A+(D<<10&4294967295|D>>>22),D=j+(A^(P|~R))+V[14]+2878612391&4294967295,j=P+(D<<15&4294967295|D>>>17),D=R+(P^(j|~A))+V[5]+4237533241&4294967295,R=j+(D<<21&4294967295|D>>>11),D=A+(j^(R|~P))+V[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~j))+V[3]+2399980690&4294967295,P=A+(D<<10&4294967295|D>>>22),D=j+(A^(P|~R))+V[10]+4293915773&4294967295,j=P+(D<<15&4294967295|D>>>17),D=R+(P^(j|~A))+V[1]+2240044497&4294967295,R=j+(D<<21&4294967295|D>>>11),D=A+(j^(R|~P))+V[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~j))+V[15]+4264355552&4294967295,P=A+(D<<10&4294967295|D>>>22),D=j+(A^(P|~R))+V[6]+2734768916&4294967295,j=P+(D<<15&4294967295|D>>>17),D=R+(P^(j|~A))+V[13]+1309151649&4294967295,R=j+(D<<21&4294967295|D>>>11),D=A+(j^(R|~P))+V[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=P+(R^(A|~j))+V[11]+3174756917&4294967295,P=A+(D<<10&4294967295|D>>>22),D=j+(A^(P|~R))+V[2]+718787259&4294967295,j=P+(D<<15&4294967295|D>>>17),D=R+(P^(j|~A))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,w.g[2]=w.g[2]+j&4294967295,w.g[3]=w.g[3]+P&4294967295}r.prototype.v=function(w,A){A===void 0&&(A=w.length);const R=A-this.blockSize,V=this.C;let j=this.h,P=0;for(;P<A;){if(j==0)for(;P<=R;)o(this,w,P),P+=this.blockSize;if(typeof w=="string"){for(;P<A;)if(V[j++]=w.charCodeAt(P++),j==this.blockSize){o(this,V),j=0;break}}else for(;P<A;)if(V[j++]=w[P++],j==this.blockSize){o(this,V),j=0;break}}this.h=j,this.o+=A},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)w[A++]=this.g[R]>>>V&255;return w};function u(w,A){var R=d;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=A(w)}function c(w,A){this.h=A;const R=[];let V=!0;for(let j=w.length-1;j>=0;j--){const P=w[j]|0;V&&P==A||(R[j]=P,V=!1)}this.g=R}var d={};function g(w){return-128<=w&&w<128?u(w,function(A){return new c([A|0],A<0?-1:0)}):new c([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return B(y(-w));const A=[];let R=1;for(let V=0;w>=R;V++)A[V]=w/R|0,R*=4294967296;return new c(A,0)}function v(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return B(v(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let V=b;for(let P=0;P<w.length;P+=8){var j=Math.min(8,w.length-P);const D=parseInt(w.substring(P,P+j),A);j<8?(j=y(Math.pow(A,j)),V=V.j(j).add(y(D))):(V=V.j(R),V=V.add(y(D)))}return V}var b=g(0),S=g(1),M=g(16777216);n=c.prototype,n.m=function(){if(q(this))return-B(this).m();let w=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);w+=(V>=0?V:4294967296+V)*A,A*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(k(this))return"0";if(q(this))return"-"+B(this).toString(w);const A=y(Math.pow(w,6));var R=this;let V="";for(;;){const j=Q(R,A).g;R=Z(R,j.j(A));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=j,k(R))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function k(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function q(w){return w.h==-1}n.l=function(w){return w=Z(this,w),q(w)?-1:k(w)?0:1};function B(w){const A=w.g.length,R=[];for(let V=0;V<A;V++)R[V]=~w.g[V];return new c(R,~w.h).add(S)}n.abs=function(){return q(this)?B(this):this},n.add=function(w){const A=Math.max(this.g.length,w.g.length),R=[];let V=0;for(let j=0;j<=A;j++){let P=V+(this.i(j)&65535)+(w.i(j)&65535),D=(P>>>16)+(this.i(j)>>>16)+(w.i(j)>>>16);V=D>>>16,P&=65535,D&=65535,R[j]=D<<16|P}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Z(w,A){return w.add(B(A))}n.j=function(w){if(k(this)||k(w))return b;if(q(this))return q(w)?B(this).j(B(w)):B(B(this).j(w));if(q(w))return B(this.j(B(w)));if(this.l(M)<0&&w.l(M)<0)return y(this.m()*w.m());const A=this.g.length+w.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let j=0;j<w.g.length;j++){const P=this.i(V)>>>16,D=this.i(V)&65535,At=w.i(j)>>>16,wt=w.i(j)&65535;R[2*V+2*j]+=D*wt,O(R,2*V+2*j),R[2*V+2*j+1]+=P*wt,O(R,2*V+2*j+1),R[2*V+2*j+1]+=D*At,O(R,2*V+2*j+1),R[2*V+2*j+2]+=P*At,O(R,2*V+2*j+2)}for(w=0;w<A;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=A;w<2*A;w++)R[w]=0;return new c(R,0)};function O(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function H(w,A){this.g=w,this.h=A}function Q(w,A){if(k(A))throw Error("division by zero");if(k(w))return new H(b,b);if(q(w))return A=Q(B(w),A),new H(B(A.g),B(A.h));if(q(A))return A=Q(w,B(A)),new H(B(A.g),A.h);if(w.g.length>30){if(q(w)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,V=A;V.l(w)<=0;)R=tt(R),V=tt(V);var j=et(R,1),P=et(V,1);for(V=et(V,2),R=et(R,2);!k(V);){var D=P.add(V);D.l(w)<=0&&(j=j.add(R),P=D),V=et(V,1),R=et(R,1)}return A=Z(w,j.j(A)),new H(j,A)}for(j=b;w.l(A)>=0;){for(R=Math.max(1,Math.floor(w.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(R),D=P.j(A);q(D)||D.l(w)>0;)R-=V,P=y(R),D=P.j(A);k(P)&&(P=S),j=j.add(P),w=Z(w,D)}return new H(j,w)}n.B=function(w){return Q(this,w).h},n.and=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&w.i(V);return new c(R,this.h&w.h)},n.or=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|w.i(V);return new c(R,this.h|w.h)},n.xor=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^w.i(V);return new c(R,this.h^w.h)};function tt(w){const A=w.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=w.i(V)<<1|w.i(V-1)>>>31;return new c(R,w.h)}function et(w,A){const R=A>>5;A%=32;const V=w.g.length-R,j=[];for(let P=0;P<V;P++)j[P]=A>0?w.i(P+R)>>>A|w.i(P+R+1)<<32-A:w.i(P+R);return new c(j,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Ir=c}).apply(typeof D1<"u"?D1:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bT,uu,_T,Of,Rm,TT,ST,ET;(function(){var n,t=Object.defineProperty;function i(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var x=0;x<f.length;++x){var T=f[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(f,x){if(x)t:{var T=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var K=f[C];if(!(K in T))break t;T=T[K]}f=f[f.length-1],C=T[f],x=x(C),x!=C&&x!=null&&t(T,f,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(x){var T=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&T.push([C,x[C]]);return T}});var u=u||{},c=this||self;function d(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function g(f,x,T){return f.call.apply(f.bind,arguments)}function y(f,x,T){return y=g,y.apply(null,arguments)}function v(f,x){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function b(f,x){function T(){}T.prototype=x.prototype,f.Z=x.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,K,nt){for(var mt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)mt[zt-2]=arguments[zt];return x.prototype[K].apply(C,mt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function M(f){const x=f.length;if(x>0){const T=Array(x);for(let C=0;C<x;C++)T[C]=f[C];return T}return[]}function k(f,x){for(let C=1;C<arguments.length;C++){const K=arguments[C];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=f.length||0;const nt=K.length||0;f.length=T+nt;for(let mt=0;mt<nt;mt++)f[T+mt]=K[mt]}else f.push(K)}}class q{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(f){c.setTimeout(()=>{throw f},0)}function Z(){var f=w;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class O{constructor(){this.h=this.g=null}add(x,T){const C=H.get();C.set(x,T),this.h?this.h.next=C:this.g=C,this.h=C}}var H=new q(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,et=!1,w=new O,A=()=>{const f=Promise.resolve(void 0);tt=()=>{f.then(R)}};function R(){for(var f;f=Z();){try{f.h.call(f.g)}catch(T){B(T)}var x=H;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}et=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function At(f,x){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}b(At,j),At.prototype.init=function(f,x){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(T=="mouseover"?x=f.fromElement:T=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&At.Z.h.call(this)},At.prototype.h=function(){At.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function I(f,x,T,C,K){this.listener=f,this.proxy=null,this.src=x,this.type=T,this.capture=!!C,this.ha=K,this.key=++Y,this.da=this.fa=!1}function U(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ct(f,x,T){for(const C in f)x.call(T,f[C],C,f)}function gt(f,x){for(const T in f)x.call(void 0,f[T],T,f)}function N(f){const x={};for(const T in f)x[T]=f[T];return x}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(f,x){let T,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(T in C)f[T]=C[T];for(let nt=0;nt<W.length;nt++)T=W[nt],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function dt(f){this.src=f,this.g={},this.h=0}dt.prototype.add=function(f,x,T,C,K){const nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);const mt=pt(f,x,C,K);return mt>-1?(x=f[mt],T||(x.fa=!1)):(x=new I(x,this.src,nt,!!C,K),x.fa=T,f.push(x)),x};function yt(f,x){const T=x.type;if(T in f.g){var C=f.g[T],K=Array.prototype.indexOf.call(C,x,void 0),nt;(nt=K>=0)&&Array.prototype.splice.call(C,K,1),nt&&(U(x),f.g[T].length==0&&(delete f.g[T],f.h--))}}function pt(f,x,T,C){for(let K=0;K<f.length;++K){const nt=f[K];if(!nt.da&&nt.listener==x&&nt.capture==!!T&&nt.ha==C)return K}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),se={};function Xt(f,x,T,C,K){if(Array.isArray(x)){for(let nt=0;nt<x.length;nt++)Xt(f,x[nt],T,C,K);return null}return T=vs(T),f&&f[wt]?f.J(x,T,d(C)?!!C.capture:!1,K):xn(f,x,T,!1,C,K)}function xn(f,x,T,C,K,nt){if(!x)throw Error("Invalid event type");const mt=d(K)?!!K.capture:!!K;let zt=Ai(f);if(zt||(f[_t]=zt=new dt(f)),T=zt.add(x,T,C,mt,nt),T.proxy)return T;if(C=Fn(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)P||(K=mt),K===void 0&&(K=!1),f.addEventListener(x.toString(),C,K);else if(f.attachEvent)f.attachEvent(_n(x.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Fn(){function f(T){return x.call(f.src,f.listener,T)}const x=si;return f}function qn(f,x,T,C,K){if(Array.isArray(x))for(var nt=0;nt<x.length;nt++)qn(f,x[nt],T,C,K);else C=d(C)?!!C.capture:!!C,T=vs(T),f&&f[wt]?(f=f.i,nt=String(x).toString(),nt in f.g&&(x=f.g[nt],T=pt(x,T,C,K),T>-1&&(U(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete f.g[nt],f.h--)))):f&&(f=Ai(f))&&(x=f.g[x.toString()],f=-1,x&&(f=pt(x,T,C,K)),(T=f>-1?x[f]:null)&&bn(T))}function bn(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[wt])yt(x.i,f);else{var T=f.type,C=f.proxy;x.removeEventListener?x.removeEventListener(T,C,f.capture):x.detachEvent?x.detachEvent(_n(T),C):x.addListener&&x.removeListener&&x.removeListener(C),(T=Ai(x))?(yt(T,f),T.h==0&&(T.src=null,x[_t]=null)):U(f)}}}function _n(f){return f in se?se[f]:se[f]="on"+f}function si(f,x){if(f.da)f=!0;else{x=new At(x,this);const T=f.listener,C=f.ha||f.src;f.fa&&bn(f),f=T.call(C,x)}return f}function Ai(f){return f=f[_t],f instanceof dt?f:null}var wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function vs(f){return typeof f=="function"?f:(f[wi]||(f[wi]=function(x){return f.handleEvent(x)}),f[wi])}function re(){V.call(this),this.i=new dt(this),this.M=this,this.G=null}b(re,V),re.prototype[wt]=!0,re.prototype.removeEventListener=function(f,x,T,C){qn(this,f,x,T,C)};function be(f,x){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=x.type||x,typeof x=="string")x=new j(x,f);else if(x instanceof j)x.target=x.target||f;else{var K=x;x=new j(C,f),st(x,K)}K=!0;let nt,mt;if(T)for(mt=T.length-1;mt>=0;mt--)nt=x.g=T[mt],K=at(nt,C,!0,x)&&K;if(nt=x.g=f,K=at(nt,C,!0,x)&&K,K=at(nt,C,!1,x)&&K,T)for(mt=0;mt<T.length;mt++)nt=x.g=T[mt],K=at(nt,C,!1,x)&&K}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const T=f.g[x];for(let C=0;C<T.length;C++)U(T[C]);delete f.g[x],f.h--}}this.G=null},re.prototype.J=function(f,x,T,C){return this.i.add(String(f),x,!1,T,C)},re.prototype.K=function(f,x,T,C){return this.i.add(String(f),x,!0,T,C)};function at(f,x,T,C){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let nt=0;nt<x.length;++nt){const mt=x[nt];if(mt&&!mt.da&&mt.capture==T){const zt=mt.listener,Ne=mt.ha||mt.src;mt.fa&&yt(f.i,mt),K=zt.call(Ne,C)!==!1&&K}}return K&&!C.defaultPrevented}function Ct(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function St(f){f.g=Ct(()=>{f.g=null,f.i&&(f.i=!1,St(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class te extends V{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(f){V.call(this),this.h=f,this.g={}}b(ae,V);var ee=[];function ri(f){ct(f.g,function(x,T){this.g.hasOwnProperty(T)&&bn(x)},f),f.g={}}ae.prototype.N=function(){ae.Z.N.call(this),ri(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,Hh=c.JSON.parse,Qu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Wu(){}function Xu(){}var Ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function un(){j.call(this,"d")}b(un,j);function ai(){j.call(this,"c")}b(ai,j);var Me={},$u=null;function za(){return $u=$u||new re}Me.Ia="serverreachability";function Zu(f){j.call(this,Me.Ia,f)}b(Zu,j);function Fi(f){const x=za();be(x,new Zu(x))}Me.STAT_EVENT="statevent";function Kr(f,x){j.call(this,Me.STAT_EVENT,f),this.stat=x}b(Kr,j);function ze(f){const x=za();be(x,new Kr(x,f))}Me.Ja="timingevent";function qi(f,x){j.call(this,Me.Ja,f),this.size=x}b(qi,j);function Hi(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function Ri(){this.g=!0}Ri.prototype.ua=function(){this.g=!1};function Gh(f,x,T,C,K,nt){f.info(function(){if(f.g)if(nt){var mt="",zt=nt.split("&");for(let oe=0;oe<zt.length;oe++){var Ne=zt[oe].split("=");if(Ne.length>1){const Ee=Ne[0];Ne=Ne[1];const ci=Ee.split("_");mt=ci.length>=2&&ci[1]=="type"?mt+(Ee+"="+Ne+"&"):mt+(Ee+"=redacted&")}}}else mt=null;else mt=nt;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+x+`
`+T+`
`+mt})}function Ju(f,x,T,C,K,nt,mt){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+x+`
`+T+`
`+nt+" "+mt})}function Gi(f,x,T,C){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Yh(f,T)+(C?" "+C:"")})}function Qr(f,x){f.info(function(){return"TIMEOUT: "+x})}Ri.prototype.info=function(){};function Yh(f,x){if(!f.g)return x;if(!x)return null;try{const nt=JSON.parse(x);if(nt){for(f=0;f<nt.length;f++)if(Array.isArray(nt[f])){var T=nt[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let mt=1;mt<C.length;mt++)C[mt]=""}}}}return Gs(nt)}catch{return x}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function Xr(){}b(Xr,Wu),Xr.prototype.g=function(){return new XMLHttpRequest},ll=new Xr;function xs(f){return encodeURIComponent(String(f))}function tc(f){var x=1;f=f.split(":");const T=[];for(;x>0&&f.length;)T.push(f.shift()),x--;return f.length&&T.push(f.join(":")),T}function Ii(f,x,T,C){this.j=f,this.i=x,this.l=T,this.S=C||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var Ue={},nn={};function Yi(f,x,T){f.M=1,f.A=$r(qe(x)),f.u=T,f.R=!0,Ua(f,null)}function Ua(f,x){f.F=Date.now(),Ki(f),f.B=qe(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),Ga(T.i,"t",C),f.C=0,T=f.j.L,f.h=new Di,f.g=mc(f.j,T?x:null,!f.u),f.P>0&&(f.O=new te(y(f.Y,f,f.g),f.P)),x=f.V,T=f.g,C=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(ee[0]=K.toString()),K=ee);for(let nt=0;nt<K.length;nt++){const mt=Xt(T,K[nt],C||x.handleEvent,!1,x.h||x);if(!mt)break;x.g[mt.key]=mt}x=f.J?N(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Fi(),Gh(f.i,f.v,f.B,f.l,f.S,f.u)}Ii.prototype.ba=function(f){f=f.target;const x=this.O;x&&Mi(f)==3?x.j():this.Y(f)},Ii.prototype.Y=function(f){try{if(f==this.g)t:{const zt=Mi(this.g),Ne=this.g.ya(),oe=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||zt!=4||Ne==7||(Ne==8||oe<=0?Fi(3):Fi(2)),Qi(this);var x=this.g.ca();this.X=x;var T=Kh(this);if(this.o=x==200,Ju(this.i,this.v,this.B,this.l,this.S,zt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var nt=C;break e}}nt=null}if(f=nt)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wi(this,f);else{this.o=!1,this.m=3,ze(12),Hn(this),oi(this);break t}}if(this.R){f=!0;let Ee;for(;!this.K&&this.C<T.length;)if(Ee=nc(this,T),Ee==nn){zt==4&&(this.m=4,ze(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==Ue){this.m=4,ze(15),Gi(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Ee,null),Wi(this,Ee);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||T.length!=0||this.h.h||(this.m=1,ze(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,T,"[Invalid Chunked Response]"),Hn(this),oi(this);else if(T.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Sl(mt),mt.P=!0,ze(11))}}else Gi(this.i,this.l,T,null),Wi(this,T);zt==4&&Hn(this),this.o&&!this.K&&(zt==4?fc(this.j,this):(this.o=!1,Ki(this)))}else _s(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,ze(12)):(this.m=0,ze(13)),Hn(this),oi(this)}}}catch{}};function Kh(f){if(!ec(f))return f.g.la();const x=cn(f.g);if(x==="")return"";let T="";const C=x.length,K=Mi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Hn(f),oi(f),"";f.h.i=new c.TextDecoder}for(let nt=0;nt<C;nt++)f.h.h=!0,T+=f.h.i.decode(x[nt],{stream:!(K&&nt==C-1)});return x.length=0,f.h.g+=T,f.C=0,f.h.g}function ec(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nc(f,x){var T=f.C,C=x.indexOf(`
`,T);return C==-1?nn:(T=Number(x.substring(T,C)),isNaN(T)?Ue:(C+=1,C+T>x.length?nn:(x=x.slice(C,C+T),f.C=C+T,x)))}Ii.prototype.cancel=function(){this.K=!0,Hn(this)};function Ki(f){f.T=Date.now()+f.H,Fa(f,f.H)}function Fa(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Hi(y(f.aa,f),x)}function Qi(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ii.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(Fi(),ze(17)),Hn(this),this.m=2,oi(this)):Fa(this,this.T-f)};function oi(f){f.j.I==0||f.K||fc(f.j,f)}function Hn(f){Qi(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,ri(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Wi(f,x){try{var T=f.j;if(T.I!=0&&(T.g==f||$i(T.h,f))){if(!f.L&&$i(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Xa(T),Js(T);else break t;sa(T),ze(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Hi(y(T.Va,T),6e3));Xi(T.h)<=1&&T.ta&&(T.ta=void 0)}else is(T,11)}else if((f.L||T.g==f)&&Xa(T),!D(x))for(K=T.Ba.g.parse(x),x=0;x<K.length;x++){let oe=K[x];const Ee=oe[0];if(!(Ee<=T.K))if(T.K=Ee,oe=oe[1],T.I==2)if(oe[0]=="c"){T.M=oe[1],T.ba=oe[2];const ci=oe[3];ci!=null&&(T.ka=ci,T.j.info("VER="+T.ka));const ss=oe[4];ss!=null&&(T.za=ss,T.j.info("SVER="+T.za));const Ni=oe[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(C=1.5*Ni,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Oi=f.g;if(Oi){const ra=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var nt=C.h;nt.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(fl(nt,nt.h),nt.h=null))}if(C.G){const $a=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(C.wa=$a,fe(C.J,C.G,$a))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var mt=f;if(C.na=pc(C,C.L?C.ba:null,C.W),mt.L){hl(C.h,mt);var zt=mt,Ne=C.O;Ne&&(zt.H=Ne),zt.D&&(Qi(zt),Ki(zt)),C.g=mt}else uc(C);T.i.length>0&&ns(T)}else oe[0]!="stop"&&oe[0]!="close"||is(T,7);else T.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?is(T,7):_l(T):oe[0]!="noop"&&T.l&&T.l.qa(oe),T.A=0)}}Fi(4)}catch{}}var Fe=class{constructor(f,x){this.g=f,this.map=x}};function ul(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xi(f){return f.h?1:f.g?f.g.size:0}function $i(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function fl(f,x){f.g?f.g.add(x):f.h=x}function hl(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const T of f.g.values())x=x.concat(T.G);return x}return M(f.i)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(f,x){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let K,nt=null;C>=0?(K=f[T].substring(0,C),nt=f[T].substring(C+1)):K=f[T],x(K,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Gn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof Gn?(this.l=f.l,sn(this,f.j),this.o=f.o,this.g=f.g,Ys(this,f.u),this.h=f.h,pl(this,oc(f.i)),this.m=f.m):f&&(x=String(f).match(ic))?(this.l=!1,sn(this,x[1]||"",!0),this.o=Zi(x[2]||""),this.g=Zi(x[3]||"",!0),Ys(this,x[4]),this.h=Zi(x[5]||"",!0),pl(this,x[6]||"",!0),this.m=Zi(x[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}Gn.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Zr(x,Ha,!0),":");var T=this.g;return(T||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Zr(x,Ha,!0),"@"),f.push(xs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Zr(T,T.charAt(0)=="/"?ml:sc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Zr(T,rc)),f.join("")},Gn.prototype.resolve=function(f){const x=qe(this);let T=!!f.j;T?sn(x,f.j):T=!!f.o,T?x.o=f.o:T=!!f.g,T?x.g=f.g:T=f.u!=null;var C=f.h;if(T)Ys(x,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=x.h.lastIndexOf("/");K!=-1&&(C=x.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const nt=[];for(let mt=0;mt<K.length;){const zt=K[mt++];zt=="."?C&&mt==K.length&&nt.push(""):zt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),C&&mt==K.length&&nt.push("")):(nt.push(zt),C=!0)}C=nt.join("/")}else C=K}return T?x.h=C:T=f.i.toString()!=="",T?pl(x,oc(f.i)):T=!!f.m,T&&(x.m=f.m),x};function qe(f){return new Gn(f)}function sn(f,x,T){f.j=T?Zi(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Ys(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function pl(f,x,T){x instanceof Qs?(f.i=x,Ya(f.i,f.l)):(T||(x=Zr(x,Ks)),f.i=new Qs(x,f.l))}function fe(f,x,T){f.i.set(x,T)}function $r(f){return fe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Zi(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zr(f,x,T){return typeof f=="string"?(f=encodeURI(f).replace(x,jn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ha=/[#\/\?@]/g,sc=/[#\?:]/g,ml=/[#\?]/g,Ks=/[#\?@]/g,rc=/#/g;function Qs(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&qa(f.i,function(x,T){f.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=Qs.prototype,n.add=function(f,x){Vn(this),this.i=null,f=Ws(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(x),this.h+=1,this};function ac(f,x){Vn(f),x=Ws(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function gl(f,x){return Vn(f),x=Ws(f,x),f.g.has(x)}n.forEach=function(f,x){Vn(this),this.g.forEach(function(T,C){T.forEach(function(K){f.call(x,K,C,this)},this)},this)};function yl(f,x){Vn(f);let T=[];if(typeof x=="string")gl(f,x)&&(T=T.concat(f.g.get(Ws(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)T=T.concat(f[x]);return T}n.set=function(f,x){return Vn(this),this.i=null,f=Ws(this,f),gl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=yl(this,f),f.length>0?String(f[0]):x):x};function Ga(f,x,T){ac(f,x),T.length>0&&(f.i=null,f.g.set(Ws(f,x),M(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var T=x[C];const K=xs(T);T=yl(this,T);for(let nt=0;nt<T.length;nt++){let mt=K;T[nt]!==""&&(mt+="="+xs(T[nt])),f.push(mt)}}return this.i=f.join("&")};function oc(f){const x=new Qs;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Ws(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Ya(f,x){x&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(T,C){const K=C.toLowerCase();C!=K&&(ac(this,C),Ga(this,K,T))},f)),f.j=x}function ji(f,x){const T=new Ri;if(c.Image){const C=new Image;C.onload=v(li,T,"TestLoadImage: loaded",!0,x,C),C.onerror=v(li,T,"TestLoadImage: error",!1,x,C),C.onabort=v(li,T,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(li,T,"TestLoadImage: timeout",!1,x,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else x(!1)}function vl(f,x){const T=new Ri,C=new AbortController,K=setTimeout(()=>{C.abort(),li(T,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:C.signal}).then(nt=>{clearTimeout(K),nt.ok?li(T,"TestPingServer: ok",!0,x):li(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),li(T,"TestPingServer: error",!1,x)})}function li(f,x,T,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(T)}catch{}}function Xs(){this.g=new Qu}function Ji(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Ji,Wu),Ji.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(f,x){re.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Jr,re),n=Jr.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Vi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?$s(this):Vi(this),this.readyState==3&&Ka(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,$s(this))},n.Na=function(f){this.g&&(this.response=f,$s(this))},n.ga=function(){this.g&&$s(this)};function $s(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Vi(f)}n.setRequestHeader=function(f,x){this.A.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=x.next();return f.join(`\r
`)};function Vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ui(f){let x="";return ct(f,function(T,C){x+=C,x+=":",x+=T,x+=`\r
`}),x}function ta(f,x,T){t:{for(C in T){var C=!1;break t}C=!0}C||(T=ui(T),typeof f=="string"?T!=null&&xs(T):fe(f,x,T))}function pe(f){re.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(pe,re);var ts=/^https?$/i,xl=["POST","PUT"];n=pe.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,x,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(nt){ea(this,nt);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)T.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const nt of C.keys())T.set(nt,C.get(nt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(nt=>nt.toLowerCase()=="content-type"),K=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(xl,x,void 0)>=0)||C||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,mt]of T)this.g.setRequestHeader(nt,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(nt){ea(this,nt)}};function ea(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,bl(f),bs(f)}function bl(f){f.A||(f.A=!0,be(f,"complete"),be(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,be(this,"complete"),be(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),pe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(f){if(f.h&&typeof u<"u"){if(f.v&&Mi(f)==4)setTimeout(f.Ca.bind(f),0);else if(be(f,"readystatechange"),Mi(f)==4){f.h=!1;try{const nt=f.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var C;if(C=nt===0){let mt=String(f.D).match(ic)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),C=!ts.test(mt?mt.toLowerCase():"")}T=C}if(T)be(f,"complete"),be(f,"success");else{f.o=6;try{var K=Mi(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",bl(f)}}finally{bs(f)}}}}function bs(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,x||be(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Mi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Hh(x)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(f){const x={};f=(f.g&&Mi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(D(f[C]))continue;var T=tc(f[C]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const nt=x[K]||[];x[K]=nt,nt.push(T)}gt(x,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(f,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||x}function Zs(f){this.za=0,this.i=[],this.j=new Ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,f),this.Za=es("retryDelaySeedMs",1e4,f),this.Ta=es("forwardChannelMaxRetries",2,f),this.va=es("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(f&&f.concurrentRequestLimit),this.Ba=new Xs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zs.prototype,n.ka=8,n.I=1,n.connect=function(f,x,T,C){ze(0),this.W=f,this.H=x||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=pc(this,null,this.W),ns(this)};function _l(f){if(Qa(f),f.I==3){var x=f.V++,T=qe(f.J);if(fe(T,"SID",f.M),fe(T,"RID",x),fe(T,"TYPE","terminate"),ia(f,T),x=new Ii(f,f.j,x),x.M=2,x.A=$r(qe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=mc(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ki(x)}dc(f)}function Js(f){f.g&&(Sl(f),f.g.cancel(),f.g=null)}function Qa(f){Js(f),f.v&&(c.clearTimeout(f.v),f.v=null),Xa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ns(f){if(!cl(f.h)&&!f.m){f.m=!0;var x=f.Ea;tt||A(),et||(tt(),et=!0),w.add(x,f),f.D=0}}function Wa(f,x){return Xi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Hi(y(f.Ea,f,x),hc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new Ii(this,this.j,f);let nt=this.o;if(this.U&&(nt?(nt=N(nt),st(nt,this.U)):nt=this.U),this.u!==null||this.R||(K.J=nt,nt=null),this.S)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=lc(this,K,x),T=qe(this.J),fe(T,"RID",f),fe(T,"CVER",22),this.G&&fe(T,"X-HTTP-Session-Id",this.G),ia(this,T),nt&&(this.R?x="headers="+xs(ui(nt))+"&"+x:this.u&&ta(T,this.u,nt)),fl(this.h,K),this.Ra&&fe(T,"TYPE","init"),this.S?(fe(T,"$req",x),fe(T,"SID","null"),K.U=!0,Yi(K,T,null)):Yi(K,T,x),this.I=2}}else this.I==3&&(f?Tl(this,f):this.i.length==0||cl(this.h)||Tl(this))};function Tl(f,x){var T;x?T=x.l:T=f.V++;const C=qe(f.J);fe(C,"SID",f.M),fe(C,"RID",T),fe(C,"AID",f.K),ia(f,C),f.u&&f.o&&ta(C,f.u,f.o),T=new Ii(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),x&&(f.i=x.G.concat(f.i)),x=lc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),fl(f.h,T),Yi(T,C,x)}function ia(f,x){f.H&&ct(f.H,function(T,C){fe(x,C,T)}),f.l&&ct({},function(T,C){fe(x,C,T)})}function lc(f,x,T){T=Math.min(f.i.length,T);const C=f.l?y(f.l.Ka,f.l,f):null;t:{var K=f.i;let zt=-1;for(;;){const Ne=["count="+T];zt==-1?T>0?(zt=K[0].g,Ne.push("ofs="+zt)):zt=0:Ne.push("ofs="+zt);let oe=!0;for(let Ee=0;Ee<T;Ee++){var nt=K[Ee].g;const ci=K[Ee].map;if(nt-=zt,nt<0)zt=Math.max(0,K[Ee].g-100),oe=!1;else try{nt="req"+nt+"_"||"";try{var mt=ci instanceof Map?ci:Object.entries(ci);for(const[ss,Ni]of mt){let Oi=Ni;d(Ni)&&(Oi=Gs(Ni)),Ne.push(nt+ss+"="+encodeURIComponent(Oi))}}catch(ss){throw Ne.push(nt+"type="+encodeURIComponent("_badmap")),ss}}catch{C&&C(ci)}}if(oe){mt=Ne.join("&");break t}}mt=void 0}return f=f.i.splice(0,T),x.G=f,mt}function uc(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;tt||A(),et||(tt(),et=!0),w.add(x,f),f.A=0}}function sa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Hi(y(f.Da,f),hc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Hi(y(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ze(10),Js(this),cc(this))};function Sl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function cc(f){f.g=new Ii(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=qe(f.na);fe(x,"RID","rpc"),fe(x,"SID",f.M),fe(x,"AID",f.K),fe(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&fe(x,"TO",f.ia),fe(x,"TYPE","xmlhttp"),ia(f,x),f.u&&f.o&&ta(x,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=$r(qe(x)),T.u=null,T.R=!0,Ua(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Js(this),sa(this),ze(19))};function Xa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function fc(f,x){var T=null;if(f.g==x){Xa(f),Sl(f),f.g=null;var C=2}else if($i(f.h,x))T=x.G,hl(f.h,x),C=1;else return;if(f.I!=0){if(x.o)if(C==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var K=f.D;C=za(),be(C,new qi(C,T)),ns(f)}else uc(f);else if(K=x.m,K==3||K==0&&x.X>0||!(C==1&&Wa(f,x)||C==2&&sa(f)))switch(T&&T.length>0&&(x=f.h,x.i=x.i.concat(T)),K){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function hc(f,x){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*x}function is(f,x){if(f.j.info("Error code "+x),x==2){var T=y(f.bb,f),C=f.Ua;const K=!C;C=new Gn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sn(C,"https"),$r(C),K?ji(C.toString(),T):vl(C.toString(),T)}else ze(2);f.I=0,f.l&&f.l.pa(x),dc(f),Qa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function dc(f){if(f.I=0,f.ja=[],f.l){const x=dl(f.h);(x.length!=0||f.i.length!=0)&&(k(f.ja,x),k(f.ja,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.oa()}}function pc(f,x,T){var C=T instanceof Gn?qe(T):new Gn(T);if(C.g!="")x&&(C.g=x+"."+C.g),Ys(C,C.u);else{var K=c.location;C=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const nt=new Gn(null);C&&sn(nt,C),x&&(nt.g=x),K&&Ys(nt,K),T&&(nt.h=T),C=nt}return T=f.G,x=f.wa,T&&x&&fe(C,T,x),fe(C,"VER",f.ka),ia(f,C),C}function mc(f,x,T){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new pe(new Ji({ab:T})):new pe(f.ma),x.Fa(f.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function tr(){}tr.prototype.g=function(f,x){return new Cn(f,x)};function Cn(f,x){re.call(this),this.g=new Zs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!D(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Ts(this)}b(Cn,re),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){_l(this.g)},Cn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Gs(f),f=T);x.i.push(new Fe(x.Ya++,f)),x.I==3&&ns(x)},Cn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,Cn.Z.N.call(this)};function yc(f){un.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){t:{for(const T in x){f=T;break t}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}b(yc,un);function vc(){ai.call(this),this.status=1}b(vc,ai);function Ts(f){this.g=f}b(Ts,gc),Ts.prototype.ra=function(){be(this.g,"a")},Ts.prototype.qa=function(f){be(this.g,new yc(f))},Ts.prototype.pa=function(f){be(this.g,new vc)},Ts.prototype.oa=function(){be(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,ET=function(){return new tr},ST=function(){return za()},TT=Me,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,Of=Wr,ol.COMPLETE="complete",_T=ol,Xu.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",re.prototype.listen=re.prototype.J,uu=Xu,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,bT=pe}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const j1="@firebase/firestore",V1="4.9.3";class En{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let Jo="12.7.0";const Ma=new xg("@firebase/firestore");function Do(){return Ma.logLevel}function bt(n,...t){if(Ma.logLevel<=Jt.DEBUG){const i=t.map(_g);Ma.debug(`Firestore (${Jo}): ${n}`,...i)}}function Us(n,...t){if(Ma.logLevel<=Jt.ERROR){const i=t.map(_g);Ma.error(`Firestore (${Jo}): ${n}`,...i)}}function Ho(n,...t){if(Ma.logLevel<=Jt.WARN){const i=t.map(_g);Ma.warn(`Firestore (${Jo}): ${n}`,...i)}}function _g(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function Mt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,AT(n,r,i)}function AT(n,t,i){let r=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Us(r),new Error(r)}function ce(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||AT(t,o,r)}function Bt(n,t){return n}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class wT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NR{constructor(t){this.t=t,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ce(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},d=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new wT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new En(t)}}class OR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ce(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=kR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function Im(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return $p(o)===$p(u)?Kt(o,u):$p(o)?1:-1}return Kt(n.length,t.length)}const BR=55296,zR=57343;function $p(n){const t=n.charCodeAt(0);return t>=BR&&t<=zR}function Go(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}const N1="__name__";class us{constructor(t,i,r){i===void 0?i=0:i>t.length&&Mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return us.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof us?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=us.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Kt(t.length,i.length)}static compareSegments(t,i){const r=us.isNumericId(t),o=us.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?us.extractNumericId(t).compare(us.extractNumericId(i)):Im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class xe extends us{construct(t,i,r){return new xe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new vt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new xe(i)}static emptyPath(){return new xe([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends us{construct(t,i,r){return new yn(t,i,r)}static isValidIdentifier(t){return UR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N1}static keyField(){return new yn([N1])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new vt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new vt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new vt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new vt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(i)}static emptyPath(){return new yn([])}}class jt{constructor(t){this.path=t}static fromPath(t){return new jt(xe.fromString(t))}static fromName(t){return new jt(xe.fromString(t).popFirst(5))}static empty(){return new jt(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return xe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new jt(new xe(t.slice()))}}function CT(n,t,i){if(!i)throw new vt(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function FR(n,t,i,r){if(t===!0&&r===!0)throw new vt(ut.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function O1(n){if(!jt.isDocumentKey(n))throw new vt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P1(n){if(jt.isDocumentKey(n))throw new vt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function Ti(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(n);throw new vt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function qR(n,t){if(t<=0)throw new vt(ut.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function Ze(n,t){const i={typeString:n};return t&&(i.value=t),i}function ku(n,t){if(!RT(n))throw new vt(ut.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new vt(ut.INVALID_ARGUMENT,i);return!0}const L1=-62135596800,k1=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*k1);return new Se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<L1)throw new vt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k1}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ku(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-L1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:Ze("string",Se._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Se(0,0))}static max(){return new Lt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function HR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new Mr(o,jt.empty(),t)}function GR(n){return new Mr(n.readTime,n.key,Au)}class Mr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Mr(Lt.min(),jt.empty(),Au)}static max(){return new Mr(Lt.max(),jt.empty(),Au)}}function YR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=jt.comparator(n.documentKey,t.documentKey),i!==0?i:Kt(n.largestBatchId,t.largestBatchId))}const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==KR)throw n;bt("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ht(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ht?i:ht.resolve(i)}catch(i){return ht.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ht.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ht.reject(i)}static resolve(t){return new ht(((i,r)=>{i(t)}))}static reject(t){return new ht(((i,r)=>{r(t)}))}static waitFor(t){return new ht(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(g=>r(g)))})),c=!0,u===o&&i()}))}static or(t){let i=ht.resolve(!1);for(const r of t)i=i.next((o=>o?ht.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new ht(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;i(t[y]).next((v=>{c[y]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new ht(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function WR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function el(n){return n.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const Sg=-1;function xh(n){return n==null}function Qf(n){return n===0&&1/n==-1/0}function XR(n){return typeof n=="number"&&Number.isInteger(n)&&!Qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const IT="";function $R(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=B1(t)),t=ZR(n.get(i),t);return B1(t)}function ZR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case IT:i+="";break;default:i+=u}}return i}function B1(n){return n+IT+""}function z1(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function qr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function DT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Re{constructor(t,i){this.comparator=t,this.root=i||gn.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ef(this.root,t,this.comparator,!0)}}class Ef{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??gn.RED,this.left=o??gn.EMPTY,this.right=u??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new gn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new gn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U1(this.data.getIterator())}getIteratorFrom(t){return new U1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class U1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new ti([])}unionWith(t){let i=new en(yn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ti(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}})(t);return new vn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new vn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(ce(!!n,39018),typeof n=="string"){let t=0;const i=JR.exec(n);if(ce(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}const VT="server_timestamp",MT="__type__",NT="__previous_value__",OT="__local_write_time__";function Eg(n){return(n?.mapValue?.fields||{})[MT]?.stringValue===VT}function bh(n){const t=n.mapValue.fields[NT];return Eg(t)?bh(t):t}function wu(n){const t=Nr(n.mapValue.fields[OT].timestampValue);return new Se(t.seconds,t.nanos)}class tI{constructor(t,i,r,o,u,c,d,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Wf="(default)";class Cu{constructor(t,i){this.projectId=t,this.database=i||Wf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}const PT="__type__",eI="__max__",Af={mapValue:{}},LT="__vector__",Xf="value";function Pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Eg(n)?4:iI(n)?9007199254740991:nI(n)?10:11:Mt(28295,{value:n})}function ys(n,t){if(n===t)return!0;const i=Pr(n);if(i!==Pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return wu(n).isEqual(wu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Nr(o.timestampValue),d=Nr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Or(o.bytesValue).isEqual(Or(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return ke(o.geoPointValue.latitude)===ke(u.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ke(o.integerValue)===ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ke(o.doubleValue),d=ke(u.doubleValue);return c===d?Qf(c)===Qf(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Go(n.arrayValue.values||[],t.arrayValue.values||[],ys);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(z1(c)!==z1(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!ys(c[g],d[g])))return!1;return!0})(n,t);default:return Mt(52216,{left:n})}}function Ru(n,t){return(n.values||[]).find((i=>ys(i,t)))!==void 0}function Yo(n,t){if(n===t)return 0;const i=Pr(n),r=Pr(t);if(i!==r)return Kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=ke(u.integerValue||u.doubleValue),g=ke(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(n,t);case 3:return F1(n.timestampValue,t.timestampValue);case 4:return F1(wu(n),wu(t));case 5:return Im(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Or(u),g=Or(c);return d.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),g=c.split("/");for(let y=0;y<d.length&&y<g.length;y++){const v=Kt(d[y],g[y]);if(v!==0)return v}return Kt(d.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Kt(ke(u.latitude),ke(c.latitude));return d!==0?d:Kt(ke(u.longitude),ke(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return q1(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},g=c.fields||{},y=d[Xf]?.arrayValue,v=g[Xf]?.arrayValue,b=Kt(y?.values?.length||0,v?.values?.length||0);return b!==0?b:q1(y,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Af.mapValue&&c===Af.mapValue)return 0;if(u===Af.mapValue)return 1;if(c===Af.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=c.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let b=0;b<g.length&&b<v.length;++b){const S=Im(g[b],v[b]);if(S!==0)return S;const M=Yo(d[g[b]],y[v[b]]);if(M!==0)return M}return Kt(g.length,v.length)})(n.mapValue,t.mapValue);default:throw Mt(23264,{he:i})}}function F1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Kt(n,t);const i=Nr(n),r=Nr(t),o=Kt(i.seconds,r.seconds);return o!==0?o:Kt(i.nanos,r.nanos)}function q1(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Yo(i[o],r[o]);if(u)return u}return Kt(i.length,r.length)}function Ko(n){return Dm(n)}function Dm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return Or(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return jt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Dm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Dm(i.fields[c])}`;return o+"}"})(n.mapValue):Mt(61005,{value:n})}function Pf(n){switch(Pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(n);return t?16+Pf(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Pf(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return qr(r.fields,((u,c)=>{o+=u.length+Pf(c)})),o})(n.mapValue);default:throw Mt(13486,{value:n})}}function H1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function jm(n){return!!n&&"integerValue"in n}function Ag(n){return!!n&&"arrayValue"in n}function G1(n){return!!n&&"nullValue"in n}function Y1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lf(n){return!!n&&"mapValue"in n}function nI(n){return(n?.mapValue?.fields||{})[PT]?.stringValue===LT}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return qr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=mu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=mu(n.arrayValue.values[i]);return t}return{...n}}function iI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eI}class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Lf(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(i)}setAll(t){let i=yn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=mu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Lf(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ys(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Lf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){qr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new zn(mu(this.value))}}function kT(n){const t=[];return qr(n.fields,((i,r)=>{const o=new yn([i]);if(Lf(r)){const u=kT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ti(t)}class An{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new An(t,0,Lt.min(),Lt.min(),Lt.min(),zn.empty(),0)}static newFoundDocument(t,i,r,o){return new An(t,1,i,Lt.min(),r,o,0)}static newNoDocument(t,i){return new An(t,2,i,Lt.min(),Lt.min(),zn.empty(),0)}static newUnknownDocument(t,i){return new An(t,3,i,Lt.min(),Lt.min(),zn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof An&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(t,i){this.position=t,this.inclusive=i}}function K1(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=jt.comparator(jt.fromName(c.referenceValue),i.key):r=Yo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!ys(n.position[i],t.position[i]))return!1;return!0}class Iu{constructor(t,i="asc"){this.field=t,this.dir=i}}function sI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class BT{}class $e extends BT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new aI(t,i,r):i==="array-contains"?new uI(t,r):i==="in"?new cI(t,r):i==="not-in"?new fI(t,r):i==="array-contains-any"?new hI(t,r):new $e(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new oI(t,r):new lI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Yo(i,this.value)):i!==null&&Pr(this.value)===Pr(i)&&this.matchesComparison(Yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends BT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return zT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(n){return n.op==="and"}function UT(n){return rI(n)&&zT(n)}function rI(n){for(const t of n.filters)if(t instanceof Ui)return!1;return!0}function Vm(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(UT(n))return n.filters.map((t=>Vm(t))).join(",");{const t=n.filters.map((i=>Vm(i))).join(",");return`${n.op}(${t})`}}function FT(n,t){return n instanceof $e?(function(r,o){return o instanceof $e&&r.op===o.op&&r.field.isEqual(o.field)&&ys(r.value,o.value)})(n,t):n instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&FT(c,o.filters[d])),!0):!1})(n,t):void Mt(19439)}function qT(n){return n instanceof $e?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ko(i.value)}`})(n):n instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(qT).join(" ,")+"}"})(n):"Filter"}class aI extends $e{constructor(t,i,r){super(t,i,r),this.key=jt.fromName(r.referenceValue)}matches(t){const i=jt.comparator(t.key,this.key);return this.matchesComparison(i)}}class oI extends $e{constructor(t,i){super(t,"in",i),this.keys=HT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lI extends $e{constructor(t,i){super(t,"not-in",i),this.keys=HT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function HT(n,t){return(t.arrayValue?.values||[]).map((i=>jt.fromName(i.referenceValue)))}class uI extends $e{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ag(i)&&Ru(i.arrayValue,this.value)}}class cI extends $e{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ru(this.value.arrayValue,i)}}class fI extends $e{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ru(this.value.arrayValue,i)}}class hI extends $e{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ru(this.value.arrayValue,r)))}}class dI{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function W1(n,t=null,i=[],r=[],o=null,u=null,c=null){return new dI(n,t,i,r,o,u,c)}function wg(n){const t=Bt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Vm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ko(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ko(r))).join(",")),t.Te=i}return t.Te}function Cg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!sI(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!FT(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Q1(n.startAt,t.startAt)&&Q1(n.endAt,t.endAt)}function Mm(n){return jt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nl{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pI(n,t,i,r,o,u,c,d){return new nl(n,t,i,r,o,u,c,d)}function _h(n){return new nl(n)}function X1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GT(n){return n.collectionGroup!==null}function gu(n){const t=Bt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new en(yn.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Iu(u,r))})),i.has(yn.keyField().canonicalString())||t.Ie.push(new Iu(yn.keyField(),r))}return t.Ie}function fs(n){const t=Bt(n);return t.Ee||(t.Ee=mI(t,gu(n))),t.Ee}function mI(n,t){if(n.limitType==="F")return W1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const i=n.endAt?new $f(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $f(n.startAt.position,n.startAt.inclusive):null;return W1(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Nm(n,t){const i=n.filters.concat([t]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Zf(n,t,i){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Th(n,t){return Cg(fs(n),fs(t))&&n.limitType===t.limitType}function YT(n){return`${wg(fs(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>qT(o))).join(", ")}]`),xh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ko(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ko(o))).join(",")),`Target(${r})`})(fs(n))}; limitType=${n.limitType})`}function Sh(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):jt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of gu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,g){const y=K1(c,d,g);return c.inclusive?y<=0:y<0})(r.startAt,gu(r),o)||r.endAt&&!(function(c,d,g){const y=K1(c,d,g);return c.inclusive?y>=0:y>0})(r.endAt,gu(r),o))})(n,t)}function gI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KT(n){return(t,i)=>{let r=!1;for(const o of gu(n)){const u=yI(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yI(n,t,i){const r=n.field.isKeyField()?jt.comparator(t.key,i.key):(function(u,c,d){const g=c.data.field(u),y=d.data.field(u);return g!==null&&y!==null?Yo(g,y):Mt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:n.dir})}}class La{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}const vI=new Re(jt.comparator);function Fs(){return vI}const QT=new Re(jt.comparator);function cu(...n){let t=QT;for(const i of n)t=t.insert(i.key,i);return t}function WT(n){let t=QT;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Aa(){return yu()}function XT(){return yu()}function yu(){return new La((n=>n.toString()),((n,t)=>n.isEqual(t)))}const xI=new Re(jt.comparator),bI=new en(jt.comparator);function Qt(...n){let t=bI;for(const i of n)t=t.add(i);return t}const _I=new en(Kt);function TI(){return _I}function Rg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(t)?"-0":t}}function $T(n){return{integerValue:""+n}}function SI(n,t){return XR(t)?$T(t):Rg(n,t)}class Eh{constructor(){this._=void 0}}function EI(n,t,i){return n instanceof Jf?(function(o,u){const c={fields:{[MT]:{stringValue:VT},[OT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Eg(u)&&(u=bh(u)),u&&(c.fields[NT]=u),{mapValue:c}})(i,t):n instanceof Du?JT(n,t):n instanceof ju?tS(n,t):(function(o,u){const c=ZT(o,u),d=$1(c)+$1(o.Ae);return jm(c)&&jm(o.Ae)?$T(d):Rg(o.serializer,d)})(n,t)}function AI(n,t,i){return n instanceof Du?JT(n,t):n instanceof ju?tS(n,t):i}function ZT(n,t){return n instanceof th?(function(r){return jm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Jf extends Eh{}class Du extends Eh{constructor(t){super(),this.elements=t}}function JT(n,t){const i=eS(t);for(const r of n.elements)i.some((o=>ys(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ju extends Eh{constructor(t){super(),this.elements=t}}function tS(n,t){let i=eS(t);for(const r of n.elements)i=i.filter((o=>!ys(o,r)));return{arrayValue:{values:i}}}class th extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function $1(n){return ke(n.integerValue||n.doubleValue)}function eS(n){return Ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Du&&o instanceof Du||r instanceof ju&&o instanceof ju?Go(r.elements,o.elements,ys):r instanceof th&&o instanceof th?ys(r.Ae,o.Ae):r instanceof Jf&&o instanceof Jf})(n.transform,t.transform)}class CI{constructor(t,i){this.version=t,this.transformResults=i}}class Si{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ah{}function nS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ig(n.key,Si.none()):new Bu(n.key,n.data,Si.none());{const i=n.data,r=zn.empty();let o=new en(yn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Hr(n.key,r,new ti(o.toArray()),Si.none())}}function RI(n,t,i){n instanceof Bu?(function(o,u,c){const d=o.value.clone(),g=J1(o.fieldTransforms,u,c.transformResults);d.setAll(g),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,i):n instanceof Hr?(function(o,u,c){if(!kf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=J1(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(iS(o)),g.setAll(d),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function vu(n,t,i,r){return n instanceof Bu?(function(u,c,d,g){if(!kf(u.precondition,c))return d;const y=u.value.clone(),v=tb(u.fieldTransforms,g,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,t,i,r):n instanceof Hr?(function(u,c,d,g){if(!kf(u.precondition,c))return d;const y=tb(u.fieldTransforms,g,c),v=c.data;return v.setAll(iS(u)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,d){return kf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,i)}function II(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=ZT(r.transform,o||null);u!=null&&(i===null&&(i=zn.empty()),i.set(r.field,u))}return i||null}function Z1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Go(r,o,((u,c)=>wI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Bu extends Ah{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Ah{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iS(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function J1(n,t,i){const r=new Map;ce(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,AI(c,d,i[o]))}return r}function tb(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,EI(u,c,t))}return r}class Ig extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&RI(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=vu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=vu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=XT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const g=nS(c,d);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,((i,r)=>Z1(i,r)))&&Go(this.baseMutations,t.baseMutations,((i,r)=>Z1(i,r)))}}class Dg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return xI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Dg(t,i,r,o)}}class VI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MI{constructor(t,i){this.count=t,this.unchangedNames=i}}var We,$t;function NI(n){switch(n){case ut.OK:return Mt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function sS(n){if(n===void 0)return Us("GRPC error has no .code"),ut.UNKNOWN;switch(n){case We.OK:return ut.OK;case We.CANCELLED:return ut.CANCELLED;case We.UNKNOWN:return ut.UNKNOWN;case We.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case We.INTERNAL:return ut.INTERNAL;case We.UNAVAILABLE:return ut.UNAVAILABLE;case We.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case We.NOT_FOUND:return ut.NOT_FOUND;case We.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case We.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case We.ABORTED:return ut.ABORTED;case We.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case We.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case We.DATA_LOSS:return ut.DATA_LOSS;default:return Mt(39323,{code:n})}}($t=We||(We={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function OI(){return new TextEncoder}const PI=new Ir([4294967295,4294967295],0);function eb(n){const t=OI().encode(n),i=new xT;return i.update(t),new Uint8Array(i.digest())}function nb(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ir([i,r],0),new Ir([o,u],0)]}class jg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fu(`Invalid padding: ${i}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new fu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ir.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Ir.fromNumber(r)));return o.compare(PI)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=eb(t),[r,o]=nb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new jg(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=eb(t),[r,o]=nb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new wh(Lt.min(),o,new Re(Kt),Fs(),Qt())}}class zu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new zu(r,i,Qt(),Qt(),Qt())}}class Bf{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class rS{constructor(t,i){this.targetId=t,this.Ce=i}}class aS{constructor(t,i,r=vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class ib{constructor(){this.ve=0,this.Fe=sb(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),i=Qt(),r=Qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Mt(38017,{changeType:u})}})),new zu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=sb()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fs(),this.Je=wf(),this.He=wf(),this.Ye=new Re(Kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Mm(u))if(r===0){const c=new jt(u.path);this.et(i,c,An.newNoDocument(c,Lt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=Or(r).toUint8Array()}catch(g){if(g instanceof jT)return Ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new jg(c,o,u)}catch(g){return Ho(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Mm(d.target)){const g=new jt(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,An.newNoDocument(g,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Qt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new wh(t,i,this.Ye,this.je,r);return this.je=Fs(),this.Je=wf(),this.He=wf(),this.Ye=new Re(Kt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new ib,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new en(Kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new en(Kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||bt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ib),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wf(){return new Re(jt.comparator)}function sb(){return new Re(jt.comparator)}const kI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zI={and:"AND",or:"OR"};class UI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Om(n,t){return n.useProto3Json||xh(t)?t:{value:t}}function eh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function FI(n,t){return eh(n,t.toTimestamp())}function hs(n){return ce(!!n,49232),Lt.fromTimestamp((function(i){const r=Nr(i);return new Se(r.seconds,r.nanos)})(n))}function Vg(n,t){return Pm(n,t).canonicalString()}function Pm(n,t){const i=(function(o){return new xe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function lS(n){const t=xe.fromString(n);return ce(dS(t),10190,{key:t.toString()}),t}function Lm(n,t){return Vg(n.databaseId,t.path)}function Zp(n,t){const i=lS(t);if(i.get(1)!==n.databaseId.projectId)throw new vt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new vt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new jt(cS(i))}function uS(n,t){return Vg(n.databaseId,t)}function qI(n){const t=lS(n);return t.length===4?xe.emptyPath():cS(t)}function km(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cS(n){return ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rb(n,t,i){return{name:Lm(n,t),fields:i.value.mapValue.fields}}function HI(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,v){return y.useProto3Json?(ce(v===void 0||typeof v=="string",58123),vn.fromBase64String(v||"")):(ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),vn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(y){const v=y.code===void 0?ut.UNKNOWN:sS(y.code);return new vt(v,y.message||"")})(c);i=new aS(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zp(n,r.document.name),u=hs(r.document.updateTime),c=r.document.createTime?hs(r.document.createTime):Lt.min(),d=new zn({mapValue:{fields:r.document.fields}}),g=An.newFoundDocument(o,u,c,d),y=r.targetIds||[],v=r.removedTargetIds||[];i=new Bf(y,v,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Zp(n,r.document),u=r.readTime?hs(r.readTime):Lt.min(),c=An.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Bf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Zp(n,r.document),u=r.removedTargetIds||[];i=new Bf([],u,o,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new MI(o,u),d=r.targetId;i=new rS(d,c)}}return i}function GI(n,t){let i;if(t instanceof Bu)i={update:rb(n,t.key,t.value)};else if(t instanceof Ig)i={delete:Lm(n,t.key)};else if(t instanceof Hr)i={update:rb(n,t.key,t.data),updateMask:tD(t.fieldMask)};else{if(!(t instanceof DI))return Mt(16599,{Vt:t.type});i={verify:Lm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Jf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof th)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Mt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt(27497)})(n,t.precondition)),i}function YI(n,t){return n&&n.length>0?(ce(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?hs(o.updateTime):hs(u);return c.isEqual(Lt.min())&&(c=hs(u)),new CI(c,o.transformResults||[])})(i,t)))):[]}function KI(n,t){return{documents:[uS(n,t.path)]}}function QI(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=uS(n,o);const u=(function(y){if(y.length!==0)return hS(Ui.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:Vo(S.field),direction:$I(S.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=Om(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function WI(n){let t=qI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ce(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const S=fS(b);return S instanceof Ui&&UT(S)?S.getFilters():[S]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((S=>(function(k){return new Iu(Mo(k.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(i.orderBy));let d=null;i.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,xh(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(b){const S=!!b.before,M=b.values||[];return new $f(M,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,M=b.values||[];return new $f(M,S)})(i.endAt)),pI(t,o,c,u,d,"F",g,y)}function XI(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function fS(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Mo(i.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(i.unaryFilter.field);return $e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Mo(i.unaryFilter.field);return $e.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(i.unaryFilter.field);return $e.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return $e.create(Mo(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((r=>fS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(i.compositeFilter.op))})(n):Mt(30097,{filter:n})}function $I(n){return kI[n]}function ZI(n){return BI[n]}function JI(n){return zI[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return yn.fromServerFormat(n.fieldPath)}function hS(n){return n instanceof $e?(function(i){if(i.op==="=="){if(Y1(i.value))return{unaryFilter:{field:Vo(i.field),op:"IS_NAN"}};if(G1(i.value))return{unaryFilter:{field:Vo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y1(i.value))return{unaryFilter:{field:Vo(i.field),op:"IS_NOT_NAN"}};if(G1(i.value))return{unaryFilter:{field:Vo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(i.field),op:ZI(i.op),value:i.value}}})(n):n instanceof Ui?(function(i){const r=i.getFilters().map((o=>hS(o)));return r.length===1?r[0]:{compositeFilter:{op:JI(i.op),filters:r}}})(n):Mt(54877,{filter:n})}function tD(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function dS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Er{constructor(t,i,r,o,u=Lt.min(),c=Lt.min(),d=vn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eD{constructor(t){this.yt=t}}function nD(n){const t=WI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zf(t,t.limit,"L"):t}class iD{constructor(){this.Cn=new sD}addToCollectionParentIndex(t,i){return this.Cn.add(i),ht.resolve()}getCollectionParents(t,i){return ht.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ht.resolve()}deleteFieldIndex(t,i){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,i){return ht.resolve()}getDocumentsMatchingTarget(t,i){return ht.resolve(null)}getIndexType(t,i){return ht.resolve(0)}getFieldIndexes(t,i){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,i){return ht.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,i){return ht.resolve(Mr.min())}updateCollectionGroup(t,i,r){return ht.resolve()}updateIndexEntries(t,i){return ht.resolve()}}class sD{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new en(xe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new en(xe.comparator)).toArray()}}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(pS,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Qo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Qo(0)}static cr(){return new Qo(-1)}}const ob="LruGarbageCollector",rD=1048576;function lb([n,t],[i,r]){const o=Kt(n,i);return o===0?Kt(t,r):o}class aD{constructor(t){this.Ir=t,this.buffer=new en(lb),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();lb(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oD{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(ob,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){el(i)?bt(ob,"Ignoring IndexedDB error during garbage collection: ",i):await tl(i)}await this.Vr(3e5)}))}}class lD{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return ht.resolve(vh.ce);const r=new aD(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(ab)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,g,y;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,d=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Do()<=Jt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function uD(n,t){return new lD(n,t)}class cD{constructor(){this.changes=new La((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,An.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ht.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class hD{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&vu(r.mutation,o,ti.empty(),Se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Qt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Qt()){const o=Aa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=cu();return u.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=Aa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Qt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=Fs();const c=yu(),d=(function(){return yu()})();return i.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Hr)?u=u.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),vu(v.mutation,y,v.mutation.getFieldMask(),Se.now())):c.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,v)=>c.set(y,v))),i.forEach(((y,v)=>d.set(y,new fD(v,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=yu();let o=new Re(((c,d)=>c-d)),u=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let v=r.get(g)||ti.empty();v=d.applyToLocalView(y,v),r.set(g,v);const b=(o.get(d.batchId)||Qt()).add(g);o=o.insert(d.batchId,b)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,v=g.value,b=XT();v.forEach((S=>{if(!u.has(S)){const M=nS(i.get(S),r.get(S));M!==null&&b.set(S,M),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,y,b))}return ht.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return jt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):GT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ht.resolve(Aa());let d=Au,g=u;return c.next((y=>ht.forEach(y,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ht.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Qt()))).next((v=>({batchId:d,changes:WT(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new jt(i)).next((r=>{let o=cu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(t,u).next((d=>ht.forEach(d,(g=>{const y=(function(b,S){return new nl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((g,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,An.newInvalidDocument(v)))}));let d=cu();return c.forEach(((g,y)=>{const v=u.get(g);v!==void 0&&vu(v.mutation,y,ti.empty(),Se.now()),Sh(i,y)&&(d=d.insert(g,y))})),d}))}}class dD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return ht.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:hs(o.createTime)}})(i)),ht.resolve()}getNamedQuery(t,i){return ht.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:hs(o.readTime)}})(i)),ht.resolve()}}class pD{constructor(){this.overlays=new Re(jt.comparator),this.qr=new Map}getOverlay(t,i){return ht.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Aa();return ht.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),ht.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ht.resolve()}getOverlaysForCollection(t,i,r){const o=Aa(),u=i.length+1,c=new jt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ht.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Re(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let v=u.get(y.largestBatchId);v===null&&(v=Aa(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return ht.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new VI(i,r));let u=this.qr.get(i);u===void 0&&(u=Qt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class mD{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ht.resolve()}}class Mg{constructor(){this.Qr=new en(ln.$r),this.Ur=new en(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ln(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ln(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new jt(new xe([])),r=new ln(i,t),o=new ln(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new jt(new xe([])),r=new ln(i,t),o=new ln(i,t+1);let u=Qt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new ln(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ln{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return jt.comparator(t.key,i.key)||Kt(t.Yr,i.Yr)}static Kr(t,i){return Kt(t.Yr,i.Yr)||jt.comparator(t.key,i.key)}}class gD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(ln.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jI(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ln(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ht.resolve(c)}lookupMutationBatch(t,i){return ht.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return ht.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ht.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new en(Kt);return i.forEach((o=>{const u=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),ht.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;jt.isDocumentKey(u)||(u=u.child(""));const c=new ln(new jt(u),0);let d=new en(Kt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.Yr)),!0)}),c),ht.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ce(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ht.forEach(i.mutations,(o=>{const u=new ln(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ln(i,0),o=this.Zr.firstAfterOrEqual(r);return ht.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yD{constructor(t){this.ri=t,this.docs=(function(){return new Re(jt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ht.resolve(r?r.document.mutableCopy():An.newInvalidDocument(i))}getEntries(t,i){let r=Fs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():An.newInvalidDocument(o))})),ht.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Fs();const c=i.path,d=new jt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||YR(GR(v),r)<=0||(o.has(v.key)||Sh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ht.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Mt(9500)}ii(t,i){return ht.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new vD(this)}getSize(t){return ht.resolve(this.size)}}class vD extends cD{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ht.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class xD{constructor(t){this.persistence=t,this.si=new La((i=>wg(i)),Cg),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mg,this.targetCount=0,this.ai=Qo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ht.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Qo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,ht.resolve()}updateTargetData(t,i){return this.Pr(i),ht.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),ht.waitFor(u).next((()=>o))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return ht.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),ht.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ht.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),ht.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return ht.resolve(r)}containsKey(t,i){return ht.resolve(this._i.containsKey(i))}}class mS{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new mD,this.referenceDelegate=t(this),this.Pi=new xD(this),this.indexManager=new iD,this.remoteDocumentCache=(function(o){return new yD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eD(i),this.Ii=new dD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new pD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new gD(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){bt("MemoryPersistence","Starting transaction:",t);const o=new bD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return ht.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class bD extends QR{constructor(t){super(),this.currentSequenceNumber=t}}class Ng{constructor(t){this.persistence=t,this.Ri=new Mg,this.Vi=null}static mi(t){return new Ng(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ht.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),ht.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,(r=>{const o=jt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Lt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return ht.or([()=>ht.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.pi=new La((r=>$R(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=uD(this,i)}static mi(t,i){return new nh(t,i)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return ht.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ht.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Lt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pf(t.data.value)),i}br(t,i,r){return ht.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return ht.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Og{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Qt(),o=Qt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Og(t,i.fromCache,r,o)}}class _D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hC()?8:WR(uC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new _D;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Do()<=Jt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Do()<=Jt.DEBUG&&bt("QueryEngine","Query:",jo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Do()<=Jt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fs(i))):ht.resolve())}ys(t,i){if(X1(i))return ht.resolve(null);let r=fs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Zf(i,null,"F"),r=fs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Qt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(i,d);return this.Cs(i,y,c,g.readTime)?this.ys(t,Zf(i,null,"F")):this.vs(t,y,i,g)}))))})))))}ws(t,i,r,o){return X1(i)||o.isEqual(Lt.min())?ht.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?ht.resolve(null):(Do()<=Jt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(i)),this.vs(t,c,i,HR(o,Au)).next((d=>d)))}))}Ds(t,i){let r=new en(KT(t));return i.forEach(((o,u)=>{Sh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Do()<=Jt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",jo(i)),this.ps.getDocumentsMatchingQuery(t,i,Mr.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Pg="LocalStore",SD=3e8;class ED{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Re(Kt),this.xs=new La((u=>wg(u)),Cg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function AD(n,t,i,r){return new ED(n,t,i,r)}async function gS(n,t){const i=Bt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let g=Qt();for(const y of o){c.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of u){d.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function wD(n,t){const i=Bt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,g,y,v){const b=y.batch,S=b.keys();let M=ht.resolve();return S.forEach((k=>{M=M.next((()=>v.getEntry(g,k))).next((q=>{const B=y.docVersions.get(k);ce(B!==null,48541),q.version.compareTo(B)<0&&(b.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),v.addEntry(q)))}))})),M.next((()=>d.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=Qt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function yS(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function CD(n,t){const i=Bt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((v,b)=>{const S=o.get(b);if(!S)return;d.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?M=M.withResumeToken(vn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,r)),o=o.insert(b,M),(function(q,B,Z){return q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=SD?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,M,v)&&d.push(i.Pi.updateTargetData(u,M))}));let g=Fs(),y=Qt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(RD(u,c,t.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(Lt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return ht.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=o,u)))}function RD(n,t,i){let r=Qt(),o=Qt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Fs();return i.forEach(((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Lt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):bt(Pg,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function ID(n,t){const i=Bt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function DD(n,t){const i=Bt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,ht.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Er(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Bm(n,t,i){const r=Bt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!el(c))throw c;bt(Pg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ub(n,t,i){const r=Bt(n);let o=Lt.min(),u=Qt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,y,v){const b=Bt(g),S=b.xs.get(v);return S!==void 0?ht.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,v)})(r,c,fs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Lt.min(),i?u:Qt()))).next((d=>(jD(r,gI(t),d),{documents:d,Qs:u})))))}function jD(n,t,i){let r=n.Os.get(t)||Lt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class cb{constructor(){this.activeTargetIds=TI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VD{constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MD{Oo(t){}shutdown(){}}const fb="ConnectivityMonitor";class hb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(fb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(fb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function zm(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const Jp="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=zm(),d=this.zo(t,i.toUriEncodedString());bt(Jp,`Sending RPC '${t}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(d),v=vg(y);return this.Jo(t,d,g,r,v).then((b=>(bt(Jp,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw Ho(Jp,`RPC '${t}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=ND[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class PD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Sn="WebChannelConnection";class LD extends OD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=zm();return new Promise(((d,g)=>{const y=new bT;y.setWithCredentials(!0),y.listenOnce(_T.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Of.NO_ERROR:const b=y.getResponseJson();bt(Sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case Of.TIMEOUT:bt(Sn,`RPC '${t}' ${c} timed out`),g(new vt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const S=y.getStatus();if(bt(Sn,`RPC '${t}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const k=M?.error;if(k&&k.status&&k.message){const q=(function(Z){const O=Z.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(O)>=0?O:ut.UNKNOWN})(k.status);g(new vt(q,k.message))}else g(new vt(ut.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new vt(ut.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{bt(Sn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);bt(Sn,`RPC '${t}' ${c} sending request:`,o),y.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=ET(),d=ST(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=u.join("");bt(Sn,`Creating RPC '${t}' stream ${o}: ${v}`,g);const b=c.createWebChannel(v,g);this.I_(b);let S=!1,M=!1;const k=new PD({Yo:B=>{M?bt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(S||(bt(Sn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),bt(Sn,`RPC '${t}' stream ${o} sending:`,B),b.send(B))},Zo:()=>b.close()}),q=(B,Z,O)=>{B.listen(Z,(H=>{try{O(H)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return q(b,uu.EventType.OPEN,(()=>{M||(bt(Sn,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),q(b,uu.EventType.CLOSE,(()=>{M||(M=!0,bt(Sn,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(b))})),q(b,uu.EventType.ERROR,(B=>{M||(M=!0,Ho(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),k.a_(new vt(ut.UNAVAILABLE,"The operation could not be completed")))})),q(b,uu.EventType.MESSAGE,(B=>{if(!M){const Z=B.data[0];ce(!!Z,16349);const O=Z,H=O?.error||O[0]?.error;if(H){bt(Sn,`RPC '${t}' stream ${o} received error:`,H);const Q=H.status;let tt=(function(A){const R=We[A];if(R!==void 0)return sS(R)})(Q),et=H.message;tt===void 0&&(tt=ut.INTERNAL,et="Unknown error status: "+Q+" with message "+H.message),M=!0,k.a_(new vt(tt,et)),b.close()}else bt(Sn,`RPC '${t}' stream ${o} received:`,Z),k.u_(Z)}})),q(d,TT.STAT_EVENT,(B=>{B.stat===Rm.PROXY?bt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Rm.NOPROXY&&bt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function tm(){return typeof document<"u"?document:null}function Ch(n){return new UI(n,!0)}class vS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const db="PersistentStream";class xS{constructor(t,i,r,o,u,c,d,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ut.RESOURCE_EXHAUSTED?(Us(i.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new vt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return bt(db,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(bt(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kD extends xS{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=HI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?hs(c.readTime):Lt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=km(this.serializer),i.addTarget=(function(u,c){let d;const g=c.target;if(d=Mm(g)?{documents:KI(u,g)}:{query:QI(u,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=oS(u,c.resumeToken);const y=Om(u,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Lt.min())>0){d.readTime=eh(u,c.snapshotVersion.toTimestamp());const y=Om(u,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,t);const r=XI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=km(this.serializer),i.removeTarget=t,this.q_(i)}}class BD extends xS{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=YI(t.writeResults,t.commitTime),r=hs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=km(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>GI(this.serializer,r)))};this.q_(i)}}class zD{}class UD extends zD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new vt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Pm(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(ut.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Pm(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(ut.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(i),this.aa=!1):bt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class qD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ka(this)&&(bt(Na,"Restarting streams for network reachability change."),await(async function(g){const y=Bt(g);y.Ea.add(4),await Uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Ra=new FD(r,o)}}async function Rh(n){if(ka(n))for(const t of n.da)await t(!0)}async function Uu(n){for(const t of n.da)await t(!1)}function bS(n,t){const i=Bt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zg(i)?Bg(i):il(i).O_()&&kg(i,t))}function Lg(n,t){const i=Bt(n),r=il(i);i.Ia.delete(t),r.O_()&&_S(i,t),i.Ia.size===0&&(r.O_()?r.L_():ka(i)&&i.Ra.set("Unknown"))}function kg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}il(n).Y_(t)}function _S(n,t){n.Va.Ue(t),il(n).Z_(t)}function Bg(n){n.Va=new LI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),il(n).start(),n.Ra.ua()}function zg(n){return ka(n)&&!il(n).x_()&&n.Ia.size>0}function ka(n){return Bt(n).Ea.size===0}function TS(n){n.Va=void 0}async function HD(n){n.Ra.set("Online")}async function GD(n){n.Ia.forEach(((t,i)=>{kg(n,t)}))}async function YD(n,t){TS(n),zg(n)?(n.Ra.ha(t),Bg(n)):n.Ra.set("Unknown")}async function KD(n,t,i){if(n.Ra.set("Online"),t instanceof aS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(r){bt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ih(n,r)}else if(t instanceof Bf?n.Va.Ze(t):t instanceof rS?n.Va.st(t):n.Va.tt(t),!i.isEqual(Lt.min()))try{const r=await yS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(y);v&&u.Ia.set(y,v.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,y)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(vn.EMPTY_BYTE_STRING,v.snapshotVersion)),_S(u,g);const b=new Er(v.target,g,y,v.sequenceNumber);kg(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(n,i)}catch(r){bt(Na,"Failed to raise snapshot:",r),await ih(n,r)}}async function ih(n,t,i){if(!el(t))throw t;n.Ea.add(1),await Uu(n),n.Ra.set("Offline"),i||(i=()=>yS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{bt(Na,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Rh(n)}))}function SS(n,t){return t().catch((i=>ih(n,i,t)))}async function Ih(n){const t=Bt(n),i=Lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sg;for(;QD(t);)try{const o=await ID(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,WD(t,o)}catch(o){await ih(t,o)}ES(t)&&AS(t)}function QD(n){return ka(n)&&n.Ta.length<10}function WD(n,t){n.Ta.push(t);const i=Lr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function ES(n){return ka(n)&&!Lr(n).x_()&&n.Ta.length>0}function AS(n){Lr(n).start()}async function XD(n){Lr(n).ra()}async function $D(n){const t=Lr(n);for(const i of n.Ta)t.ea(i.mutations)}async function ZD(n,t,i){const r=n.Ta.shift(),o=Dg.from(r,t,i);await SS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ih(n)}async function JD(n,t){t&&Lr(n).X_&&await(async function(r,o){if((function(c){return NI(c)&&c!==ut.ABORTED})(o.code)){const u=r.Ta.shift();Lr(r).B_(),await SS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ih(r)}})(n,t),ES(n)&&AS(n)}async function pb(n,t){const i=Bt(n);i.asyncQueue.verifyOperationInProgress(),bt(Na,"RemoteStore received new credentials");const r=ka(i);i.Ea.add(3),await Uu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function tj(n,t){const i=Bt(n);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await Uu(i),i.Ra.set("Unknown"))}function il(n){return n.ma||(n.ma=(function(i,r,o){const u=Bt(i);return u.sa(),new kD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:HD.bind(null,n),t_:GD.bind(null,n),r_:YD.bind(null,n),H_:KD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),zg(n)?Bg(n):n.Ra.set("Unknown")):(await n.ma.stop(),TS(n))}))),n.ma}function Lr(n){return n.fa||(n.fa=(function(i,r,o){const u=Bt(i);return u.sa(),new BD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:XD.bind(null,n),r_:JD.bind(null,n),ta:$D.bind(null,n),na:ZD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Ih(n)):(await n.fa.stop(),n.Ta.length>0&&(bt(Na,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ug{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new Ug(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(n,t){if(Us("AsyncQueue",`${t}: ${n}`),el(n))return new vt(ut.UNAVAILABLE,`${t}: ${n}`);throw n}class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||jt.comparator(i.key,r.key):(i,r)=>jt.comparator(i.key,r.key),this.keyedMap=cu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class mb{constructor(){this.ga=new Re(jt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Wo{constructor(t,i,r,o,u,c,d,g,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Wo(t,i,Bo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class ej{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nj{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Bt(i),u=o.queries;o.queries=gb(),u.forEach(((c,d)=>{for(const g of d.Sa)g.onError(r)}))})(this,new vt(ut.ABORTED,"Firestore shutting down"))}}function gb(){return new La((n=>YT(n)),Th)}async function wS(n,t){const i=Bt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new ej,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Fg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&qg(i)}async function CS(n,t){const i=Bt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function ij(n,t){const i=Bt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&qg(i)}function sj(n,t,i){const r=Bt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function qg(n){n.Ca.forEach((t=>{t.next()}))}var Um,yb;(yb=Um||(Um={})).Ma="default",yb.Cache="cache";class RS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Wo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class IS{constructor(t){this.key=t}}class DS{constructor(t){this.key=t}}class rj{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=KT(t),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new mb,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const S=o.get(v),M=Sh(this.query,b)?b:null,k=!!S&&this.mutatedKeys.has(S.key),q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;S&&M?S.data.isEqual(M.data)?k!==q&&(r.track({type:3,doc:M}),B=!0):this.su(S,M)||(r.track({type:2,doc:M}),B=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(d=!0)):!S&&M?(r.track({type:0,doc:M}),B=!0):S&&!M&&(r.track({type:1,doc:S}),B=!0,(g||y)&&(d=!0)),B&&(M?(c=c.add(M),u=q?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(M,k){const q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:B})}};return q(M)-q(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,c.length!==0||y?{snapshot:new Wo(this.query,t.tu,u,c,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new DS(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new IS(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class aj{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class oj{constructor(t){this.key=t,this.hu=!1}}class lj{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new La((d=>YT(d)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new Re(jt.comparator),this.Au=new Map,this.Ru=new Mg,this.Vu={},this.mu=new Map,this.fu=Qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uj(n,t,i=!0){const r=PS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jS(r,t,i,!0),o}async function cj(n,t){const i=PS(n);await jS(i,t,!0,!1)}async function jS(n,t,i,r){const o=await DD(n.localStore,fs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await fj(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&bS(n.remoteStore,o),d}async function fj(n,t,i,r,o){n.pu=(b,S,M)=>(async function(q,B,Z,O){let H=B.view.ru(Z);H.Cs&&(H=await ub(q.localStore,B.query,!1).then((({documents:w})=>B.view.ru(w,H))));const Q=O&&O.targetChanges.get(B.targetId),tt=O&&O.targetMismatches.get(B.targetId)!=null,et=B.view.applyChanges(H,q.isPrimaryClient,Q,tt);return xb(q,B.targetId,et.au),et.snapshot})(n,b,S,M);const u=await ub(n.localStore,t,!0),c=new rj(t,u.Qs),d=c.ru(u.documents),g=zu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,g);xb(n,i,y.au);const v=new aj(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),y.snapshot}async function hj(n,t,i){const r=Bt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Th(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Lg(r.remoteStore,o.targetId),Fm(r,o.targetId)})).catch(tl)):(Fm(r,o.targetId),await Bm(r.localStore,o.targetId,!0))}async function dj(n,t){const i=Bt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(i.remoteStore,r.targetId))}async function pj(n,t,i){const r=_j(n);try{const o=await(function(c,d){const g=Bt(c),y=Se.now(),v=d.reduce(((M,k)=>M.add(k.key)),Qt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let k=Fs(),q=Qt();return g.Ns.getEntries(M,v).next((B=>{k=B,k.forEach(((Z,O)=>{O.isValidDocument()||(q=q.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,k))).next((B=>{b=B;const Z=[];for(const O of d){const H=II(O,b.get(O.key).overlayedDocument);H!=null&&Z.push(new Hr(O.key,H,kT(H.value.mapValue),Si.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,Z,d)})).next((B=>{S=B;const Z=B.applyToLocalDocumentSet(b,q);return g.documentOverlayCache.saveOverlays(M,B.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:WT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,g){let y=c.Vu[c.currentUser.toKey()];y||(y=new Re(Kt)),y=y.insert(d,g),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,i),await Fu(r,o.changes),await Ih(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");i.reject(u)}}async function VS(n,t){const i=Bt(n);try{const r=await CD(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await Fu(i,r,t)}catch(r){await tl(r)}}function vb(n,t,i){const r=Bt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const g=Bt(c);g.onlineState=d;let y=!1;g.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(d)&&(y=!0)})),y&&qg(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mj(n,t,i){const r=Bt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Re(jt.comparator);c=c.insert(u,An.newNoDocument(u,Lt.min()));const d=Qt().add(u),g=new wh(Lt.min(),new Map,new Re(Kt),c,d);await VS(r,g),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await Bm(r.localStore,t,!1).then((()=>Fm(r,t,i))).catch(tl)}async function gj(n,t){const i=Bt(n),r=t.batch.batchId;try{const o=await wD(i.localStore,t);NS(i,r,null),MS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(i,o)}catch(o){await tl(o)}}async function yj(n,t,i){const r=Bt(n);try{const o=await(function(c,d){const g=Bt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,d).next((b=>(ce(b!==null,37113),v=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,t);NS(r,t,i),MS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Fu(r,o)}catch(o){await tl(o)}}function MS(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function NS(n,t,i){const r=Bt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Fm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||OS(n,r)}))}function OS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(Lg(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Gg(n))}function xb(n,t,i){for(const r of i)r instanceof IS?(n.Ru.addReference(r.key,t),vj(n,r)):r instanceof DS?(bt(Hg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||OS(n,r.key)):Mt(19791,{wu:r})}function vj(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(bt(Hg,"New document in limbo: "+i),n.Eu.add(r),Gg(n))}function Gg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new jt(xe.fromString(t)),r=n.fu.next();n.Au.set(r,new oj(i)),n.du=n.du.insert(i,r),bS(n.remoteStore,new Er(fs(_h(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function Fu(n,t,i){const r=Bt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{c.push(r.pu(g,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const v=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Og.As(g.targetId,y);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,y){const v=Bt(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ht.forEach(y,(S=>ht.forEach(S.Es,(M=>v.persistence.referenceDelegate.addReference(b,S.targetId,M))).next((()=>ht.forEach(S.ds,(M=>v.persistence.referenceDelegate.removeReference(b,S.targetId,M)))))))))}catch(b){if(!el(b))throw b;bt(Pg,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const M=v.Ms.get(S),k=M.snapshotVersion,q=M.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(S,q)}}})(r.localStore,u))}async function xj(n,t){const i=Bt(n);if(!i.currentUser.isEqual(t)){bt(Hg,"User change. New user:",t.toKey());const r=await gS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((g=>{g.reject(new vt(ut.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fu(i,r.Ls)}}function bj(n,t){const i=Bt(n),r=i.Au.get(t);if(r&&r.hu)return Qt().add(r.key);{let o=Qt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function PS(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mj.bind(null,t),t.Pu.H_=ij.bind(null,t.eventManager),t.Pu.yu=sj.bind(null,t.eventManager),t}function _j(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yj.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return AD(this.persistence,new TD,t.initialUser,this.serializer)}Cu(t){return new mS(Ng.mi,this.serializer)}Du(t){return new VD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class Tj extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ce(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oD(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new mS((r=>nh.mi(r,i)),this.serializer)}}class qm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xj.bind(null,this.syncEngine),await tj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nj})()}createDatastore(t){const i=Ch(t.databaseInfo.databaseId),r=(function(u){return new LD(u)})(t.databaseInfo);return(function(u,c,d,g){return new UD(u,c,d,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new qD(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>vb(this.syncEngine,i,0)),(function(){return hb.v()?new hb:new MD})())}createSyncEngine(t,i){return(function(o,u,c,d,g,y,v){const b=new lj(o,u,c,d,g,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Bt(i);bt(Na,"RemoteStore shutting down."),r.Ea.add(5),await Uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class LS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const kr="FirestoreClient";class Sj{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{bt(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(bt(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Fg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function em(n,t){n.asyncQueue.verifyOperationInProgress(),bt(kr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await gS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function bb(n,t){n.asyncQueue.verifyOperationInProgress();const i=await Ej(n);bt(kr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>pb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>pb(t.remoteStore,o))),n._onlineComponents=t}async function Ej(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(kr,"Using user provided OfflineComponentProvider");try{await em(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ho("Error using user provided cache. Falling back to memory cache: "+i),await em(n,new sh)}}else bt(kr,"Using default OfflineComponentProvider"),await em(n,new Tj(void 0));return n._offlineComponents}async function kS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(kr,"Using user provided OnlineComponentProvider"),await bb(n,n._uninitializedComponentsProvider._online)):(bt(kr,"Using default OnlineComponentProvider"),await bb(n,new qm))),n._onlineComponents}function Aj(n){return kS(n).then((t=>t.syncEngine))}async function Hm(n){const t=await kS(n),i=t.eventManager;return i.onListen=uj.bind(null,t.syncEngine),i.onUnlisten=hj.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cj.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dj.bind(null,t.syncEngine),i}function wj(n,t,i={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,g,y){const v=new LS({next:S=>{v.Nu(),c.enqueueAndForget((()=>CS(u,b)));const M=S.docs.has(d);!M&&S.fromCache?y.reject(new vt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&g&&g.source==="server"?y.reject(new vt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new RS(_h(d.path),v,{includeMetadataChanges:!0,qa:!0});return wS(u,b)})(await Hm(n),n.asyncQueue,t,i,r))),r.promise}function BS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const _b=new Map;const zS="firestore.googleapis.com",Tb=!0;class Sb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zS,this.ssl=Tb}else this.host=t.host,this.ssl=t.ssl??Tb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rD)throw new vt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_b.get(i);r&&(bt("ComponentProvider","Removing Datastore"),_b.delete(i),r.terminate())})(this),Promise.resolve()}}function Cj(n,t,i,r={}){n=Ti(n,Dh);const o=vg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${i}`;o&&(sC(`https://${d}`),lC("Firestore",!0)),u.host!==zS&&u.host!==d&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:d,ssl:o,emulatorOptions:r};if(!Su(g,c)&&(n._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=En.MOCK_USER;else{y=rC(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new vt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(b)}n._authCredentials=new MR(new wT(y,v))}}class Gr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gr(this.firestore,t,this._query)}}class Ve{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ku(i,Ve._jsonSchema))return new Ve(t,r||null,new jt(xe.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ze("string",Ve._jsonSchemaVersion),referencePath:Ze("string")};class jr extends Gr{constructor(t,i,r){super(t,i,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new jt(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function Bn(n,t,...i){if(n=ii(n),CT("collection","path",t),n instanceof Dh){const r=xe.fromString(t,...i);return P1(r),new jr(n,null,r)}{if(!(n instanceof Ve||n instanceof jr))throw new vt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...i));return P1(r),new jr(n.firestore,null,r)}}function Le(n,t,...i){if(n=ii(n),arguments.length===1&&(t=Tg.newId()),CT("doc","path",t),n instanceof Dh){const r=xe.fromString(t,...i);return O1(r),new Ve(n,null,new jt(r))}{if(!(n instanceof Ve||n instanceof jr))throw new vt(ut.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...i));return O1(r),new Ve(n.firestore,n instanceof jr?n.converter:null,new jt(r))}}const Eb="AsyncQueue";class Ab{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vS(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&bt(Eb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;bt(Eb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",wb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Ug.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function wb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Cb(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Br extends Dh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Ab,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ab(t),this._firestoreClient=void 0,await t}}}function Rj(n,t){const i=typeof n=="object"?n:gT(),r=typeof n=="string"?n:Wf,o=Lu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nC("firestore");u&&Cj(o,...u)}return o}function Yg(n){if(n._terminated)throw new vt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ij(n),n._firestoreClient}function Ij(n){const t=n._freezeSettings(),i=(function(o,u,c,d){return new tI(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,BS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Sj(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class bi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bi(vn.fromBase64String(t))}catch(i){throw new vt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new bi(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ku(t,bi._jsonSchema))return bi.fromBase64String(t.bytes)}}bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:Ze("string",bi._jsonSchemaVersion),bytes:Ze("string")};class jh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kg{constructor(t){this._methodName=t}}class ds{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(t){if(ku(t,ds._jsonSchema))return new ds(t.latitude,t.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:Ze("string",ds._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class ps{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ku(t,ps._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ps(t.vectorValues);throw new vt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Ze("string",ps._jsonSchemaVersion),vectorValues:Ze("object")};const Dj=/^__.*__$/;class jj{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bu(t,this.data,i,this.fieldTransforms)}}class US{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function FS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:n})}}class Qg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(FS(this.Ac)&&Dj.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vj{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ch(t)}Cc(t,i,r,o=!1){return new Qg({Ac:t,methodName:i,Dc:r,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(n){const t=n._freezeSettings(),i=Ch(n._databaseId);return new Vj(n._databaseId,!!t.ignoreUndefinedProperties,i)}function qS(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);Wg("Data must be an object, but it was:",c,r);const d=HS(r,c);let g,y;if(u.merge)g=new ti(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=Gm(t,b,i);if(!c.contains(S))throw new vt(ut.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);YS(v,S)||v.push(S)}g=new ti(v),y=c.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=c.fieldTransforms;return new jj(new zn(d),g,y)}class Mh extends Kg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}function Mj(n,t,i,r){const o=n.Cc(1,t,i);Wg("Data must be an object, but it was:",o,r);const u=[],c=zn.empty();qr(r,((g,y)=>{const v=Xg(t,g,i);y=ii(y);const b=o.yc(v);if(y instanceof Mh)u.push(v);else{const S=qu(y,b);S!=null&&(u.push(v),c.set(v,S))}}));const d=new ti(u);return new US(c,d,o.fieldTransforms)}function Nj(n,t,i,r,o,u){const c=n.Cc(1,t,i),d=[Gm(t,r,i)],g=[o];if(u.length%2!=0)throw new vt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Gm(t,u[S])),g.push(u[S+1]);const y=[],v=zn.empty();for(let S=d.length-1;S>=0;--S)if(!YS(y,d[S])){const M=d[S];let k=g[S];k=ii(k);const q=c.yc(M);if(k instanceof Mh)y.push(M);else{const B=qu(k,q);B!=null&&(y.push(M),v.set(M,B))}}const b=new ti(y);return new US(v,b,c.fieldTransforms)}function Oj(n,t,i,r=!1){return qu(i,n.Cc(r?4:3,t))}function qu(n,t){if(GS(n=ii(n)))return Wg("Unsupported field value:",t,n),HS(n,t);if(n instanceof Kg)return(function(r,o){if(!FS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let g=qu(d,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Se.fromDate(r);return{timestampValue:eh(o.serializer,u)}}if(r instanceof Se){const u=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(o.serializer,u)}}if(r instanceof ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:oS(o.serializer,r._byteString)};if(r instanceof Ve){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ps)return(function(c,d){return{mapValue:{fields:{[PT]:{stringValue:LT},[Xf]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return Rg(d.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${yh(r)}`)})(n,t)}function HS(n,t){const i={};return DT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(n,((r,o)=>{const u=qu(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function GS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Se||n instanceof ds||n instanceof bi||n instanceof Ve||n instanceof Kg||n instanceof ps)}function Wg(n,t,i){if(!GS(i)||!RT(i)){const r=yh(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Gm(n,t,i){if((t=ii(t))instanceof jh)return t._internalPath;if(typeof t=="string")return Xg(n,t);throw rh("Field path arguments must be of type string or ",n,!1,void 0,i)}const Pj=new RegExp("[~\\*/\\[\\]]");function Xg(n,t,i){if(t.search(Pj)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new jh(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function rh(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new vt(ut.INVALID_ARGUMENT,d+n+g)}function YS(n,t){return n.some((i=>i.isEqual(t)))}class KS{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Lj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Nh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Lj extends KS{data(){return super.data()}}function Nh(n,t){return typeof t=="string"?Xg(n,t):t instanceof jh?t._internalPath:t._delegate._internalPath}function kj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class Zg extends $g{}function wa(n,t,...i){let r=[];t instanceof $g&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((g=>g instanceof Jg)).length,d=u.filter((g=>g instanceof Oh)).length;if(c>1||c>0&&d>0)throw new vt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Oh extends Zg{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Oh(t,i,r)}_apply(t){const i=this._parse(t);return QS(t._query,i),new Gr(t.firestore,t.converter,Nm(t._query,i))}_parse(t){const i=Vh(t.firestore);return(function(u,c,d,g,y,v,b){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new vt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Db(b,v);const k=[];for(const q of b)k.push(Ib(g,u,q));S={arrayValue:{values:k}}}else S=Ib(g,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Db(b,v),S=Oj(d,c,b,v==="in"||v==="not-in");return $e.create(y,v,S)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function nm(n,t,i){const r=t,o=Nh("where",n);return Oh._create(o,r,i)}class Jg extends $g{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Jg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ui.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const g of d)QS(c,g),c=Nm(c,g)})(t._query,i),new Gr(t.firestore,t.converter,Nm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ty extends Zg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ty(t,i)}_apply(t){const i=(function(o,u,c){if(o.startAt!==null)throw new vt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new vt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,c)})(t._query,this._field,this._direction);return new Gr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new nl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Rf(n,t="asc"){const i=t,r=Nh("orderBy",n);return ty._create(r,i)}class ey extends Zg{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new ey(t,i,r)}_apply(t){return new Gr(t.firestore,t.converter,Zf(t._query,this._limit,this._limitType))}}function Rb(n){return qR("limit",n),ey._create("limit",n,"F")}function Ib(n,t,i){if(typeof(i=ii(i))=="string"){if(i==="")throw new vt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(t)&&i.indexOf("/")!==-1)throw new vt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(xe.fromString(i));if(!jt.isDocumentKey(r))throw new vt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H1(n,new jt(r))}if(i instanceof Ve)return H1(n,i._key);throw new vt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function Db(n,t){if(!Array.isArray(n)||n.length===0)throw new vt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QS(n,t){const i=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new vt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Bj{convertValue(t,i="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return qr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Xf].arrayValue?.values?.map((r=>ke(r.doubleValue)));return new ps(i)}convertGeoPoint(t){return new ds(ke(t.latitude),ke(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=bh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(wu(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=xe.fromString(t);ce(dS(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new jt(r.popFirst(5));return o.isEqual(i)||Us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function WS(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}class hu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends KS{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Nh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ze("string",Da._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class zf extends Da{data(t={}){return super.data(t)}}class zo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new zf(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const g=new zf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const g=new zf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:zj(d.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}function Ar(n){n=Ti(n,Ve);const t=Ti(n.firestore,Br);return wj(Yg(t),n._key).then((i=>$S(t,n,i)))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:Ze("string",zo._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class XS extends Bj{constructor(t){super(),this.firestore=t}convertBytes(t){return new bi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function Uf(n,t,i){n=Ti(n,Ve);const r=Ti(n.firestore,Br),o=WS(n.converter,t,i);return Ph(r,[qS(Vh(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Si.none())])}function wr(n,t,i,...r){n=Ti(n,Ve);const o=Ti(n.firestore,Br),u=Vh(o);let c;return c=typeof(t=ii(t))=="string"||t instanceof jh?Nj(u,"updateDoc",n._key,t,i,r):Mj(u,"updateDoc",n._key,t),Ph(o,[c.toMutation(n._key,Si.exists(!0))])}function im(n){return Ph(Ti(n.firestore,Br),[new Ig(n._key,Si.none())])}function Xo(n,t){const i=Ti(n.firestore,Br),r=Le(n),o=WS(n.converter,t);return Ph(i,[qS(Vh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then((()=>r))}function ks(n,...t){n=ii(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Cb(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cb(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,d;if(n instanceof Ve)c=Ti(n.firestore,Br),d=_h(n._key.path),u={next:g=>{t[r]&&t[r]($S(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=Ti(n,Gr);c=Ti(g.firestore,Br),d=g._query;const y=new XS(c);u={next:v=>{t[r]&&t[r](new zo(c,y,g,v))},error:t[r+1],complete:t[r+2]},kj(n._query)}return(function(y,v,b,S){const M=new LS(S),k=new RS(v,M,b);return y.asyncQueue.enqueueAndForget((async()=>wS(await Hm(y),k))),()=>{M.Nu(),y.asyncQueue.enqueueAndForget((async()=>CS(await Hm(y),k)))}})(Yg(c),d,o,u)}function Ph(n,t){return(function(r,o){const u=new Dr;return r.asyncQueue.enqueueAndForget((async()=>pj(await Aj(r),o,u))),u.promise})(Yg(n),t)}function $S(n,t,i){const r=i.docs.get(t._key),o=new XS(n);return new Da(n,o,t._key,r,new hu(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Jo=o})(xR),Vr(new Bs("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Br(new NR(r.getProvider("auth-internal")),new LR(c,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new vt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(y.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),cs(j1,V1,t),cs(j1,V1,"esm2020")})();const ZS="@firebase/installations",ny="0.6.19";const JS=1e4,tE=`w:${ny}`,eE="FIS_v2",Uj="https://firebaseinstallations.googleapis.com/v1",Fj=3600*1e3,qj="installations",Hj="Installations";const Gj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oa=new gh(qj,Hj,Gj);function nE(n){return n instanceof Fr&&n.code.includes("request-failed")}function iE({projectId:n}){return`${Uj}/projects/${n}/installations`}function sE(n){return{token:n.token,requestStatus:2,expiresIn:Kj(n.expiresIn),creationTime:Date.now()}}async function rE(n,t){const r=(await t.json()).error;return Oa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function aE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Yj(n,{refreshToken:t}){const i=aE(n);return i.append("Authorization",Qj(t)),i}async function oE(n){const t=await n();return t.status>=500&&t.status<600?n():t}function Kj(n){return Number(n.replace("s","000"))}function Qj(n){return`${eE} ${n}`}async function Wj({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=iE(n),o=aE(n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:i,authVersion:eE,appId:n.appId,sdkVersion:tE},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await oE(()=>fetch(r,d));if(g.ok){const y=await g.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:sE(y.authToken)}}else throw await rE("Create Installation",g)}function lE(n){return new Promise(t=>{setTimeout(t,n)})}function Xj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const $j=/^[cdef][\w-]{21}$/,Ym="";function Zj(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=Jj(n);return $j.test(i)?i:Ym}catch{return Ym}}function Jj(n){return Xj(n).substr(0,22)}function Lh(n){return`${n.appName}!${n.appId}`}const uE=new Map;function cE(n,t){const i=Lh(n);fE(i,t),t4(i,t)}function fE(n,t){const i=uE.get(n);if(i)for(const r of i)r(t)}function t4(n,t){const i=e4();i&&i.postMessage({key:n,fid:t}),n4()}let Ca=null;function e4(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=n=>{fE(n.data.key,n.data.fid)}),Ca}function n4(){uE.size===0&&Ca&&(Ca.close(),Ca=null)}const i4="firebase-installations-database",s4=1,Pa="firebase-installations-store";let sm=null;function iy(){return sm||(sm=pT(i4,s4,{upgrade:(n,t)=>{t===0&&n.createObjectStore(Pa)}})),sm}async function ah(n,t){const i=Lh(n),o=(await iy()).transaction(Pa,"readwrite"),u=o.objectStore(Pa),c=await u.get(i);return await u.put(t,i),await o.done,(!c||c.fid!==t.fid)&&cE(n,t.fid),t}async function hE(n){const t=Lh(n),r=(await iy()).transaction(Pa,"readwrite");await r.objectStore(Pa).delete(t),await r.done}async function kh(n,t){const i=Lh(n),o=(await iy()).transaction(Pa,"readwrite"),u=o.objectStore(Pa),c=await u.get(i),d=t(c);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!c||c.fid!==d.fid)&&cE(n,d.fid),d}async function sy(n){let t;const i=await kh(n.appConfig,r=>{const o=r4(r),u=a4(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Ym?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function r4(n){const t=n||{fid:Zj(),registrationStatus:0};return dE(t)}function a4(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Oa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=o4(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:l4(n)}:{installationEntry:t}}async function o4(n,t){try{const i=await Wj(n,t);return ah(n.appConfig,i)}catch(i){throw nE(i)&&i.customData.serverCode===409?await hE(n.appConfig):await ah(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function l4(n){let t=await jb(n.appConfig);for(;t.registrationStatus===1;)await lE(100),t=await jb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await sy(n);return r||i}return t}function jb(n){return kh(n,t=>{if(!t)throw Oa.create("installation-not-found");return dE(t)})}function dE(n){return u4(n)?{fid:n.fid,registrationStatus:0}:n}function u4(n){return n.registrationStatus===1&&n.registrationTime+JS<Date.now()}async function c4({appConfig:n,heartbeatServiceProvider:t},i){const r=f4(n,i),o=Yj(n,i),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:tE,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await oE(()=>fetch(r,d));if(g.ok){const y=await g.json();return sE(y)}else throw await rE("Generate Auth Token",g)}function f4(n,{fid:t}){return`${iE(n)}/${t}/authTokens:generate`}async function ry(n,t=!1){let i;const r=await kh(n.appConfig,u=>{if(!pE(u))throw Oa.create("not-registered");const c=u.authToken;if(!t&&p4(c))return u;if(c.requestStatus===1)return i=h4(n,t),u;{if(!navigator.onLine)throw Oa.create("app-offline");const d=g4(u);return i=d4(n,d),d}});return i?await i:r.authToken}async function h4(n,t){let i=await Vb(n.appConfig);for(;i.authToken.requestStatus===1;)await lE(100),i=await Vb(n.appConfig);const r=i.authToken;return r.requestStatus===0?ry(n,t):r}function Vb(n){return kh(n,t=>{if(!pE(t))throw Oa.create("not-registered");const i=t.authToken;return y4(i)?{...t,authToken:{requestStatus:0}}:t})}async function d4(n,t){try{const i=await c4(n,t),r={...t,authToken:i};return await ah(n.appConfig,r),i}catch(i){if(nE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await hE(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await ah(n.appConfig,r)}throw i}}function pE(n){return n!==void 0&&n.registrationStatus===2}function p4(n){return n.requestStatus===2&&!m4(n)}function m4(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+Fj}function g4(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function y4(n){return n.requestStatus===1&&n.requestTime+JS<Date.now()}async function v4(n){const t=n,{installationEntry:i,registrationPromise:r}=await sy(t);return r?r.catch(console.error):ry(t).catch(console.error),i.fid}async function x4(n,t=!1){const i=n;return await b4(i),(await ry(i,t)).token}async function b4(n){const{registrationPromise:t}=await sy(n);t&&await t}function _4(n){if(!n||!n.options)throw rm("App Configuration");if(!n.name)throw rm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw rm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function rm(n){return Oa.create("missing-app-config-values",{valueName:n})}const mE="installations",T4="installations-internal",S4=n=>{const t=n.getProvider("app").getImmediate(),i=_4(t),r=Lu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},E4=n=>{const t=n.getProvider("app").getImmediate(),i=Lu(t,mE).getImmediate();return{getId:()=>v4(i),getToken:o=>x4(i,o)}};function A4(){Vr(new Bs(mE,S4,"PUBLIC")),Vr(new Bs(T4,E4,"PRIVATE"))}A4();cs(ZS,ny);cs(ZS,ny,"esm2020");const oh="analytics",w4="firebase_id",C4="origin",R4=60*1e3,I4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ay="https://www.googletagmanager.com/gtag/js";const Dn=new xg("@firebase/analytics");const D4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ni=new gh("analytics","Analytics",D4);function j4(n){if(!n.startsWith(ay)){const t=ni.create("invalid-gtag-resource",{gtagURL:n});return Dn.warn(t.message),""}return n}function gE(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function V4(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function M4(n,t){const i=V4("firebase-js-sdk-policy",{createScriptURL:j4}),r=document.createElement("script"),o=`${ay}?l=${n}&id=${t}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function N4(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function O4(n,t,i,r,o,u){const c=r[o];try{if(c)await t[c];else{const g=(await gE(i)).find(y=>y.measurementId===o);g&&await t[g.appId]}}catch(d){Dn.error(d)}n("config",o,u)}async function P4(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await gE(i);for(const g of c){const y=d.find(b=>b.measurementId===g),v=y&&t[y.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Dn.error(u)}}function L4(n,t,i,r){async function o(u,...c){try{if(u==="event"){const[d,g]=c;await P4(n,t,i,d,g)}else if(u==="config"){const[d,g]=c;await O4(n,t,i,r,d,g)}else if(u==="consent"){const[d,g]=c;n("consent",d,g)}else if(u==="get"){const[d,g,y]=c;n("get",d,g,y)}else if(u==="set"){const[d]=c;n("set",d)}else n(u,...c)}catch(d){Dn.error(d)}}return o}function k4(n,t,i,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=L4(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function B4(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(ay)&&i.src.includes(n))return i;return null}const z4=30,U4=1e3;class F4{constructor(t={},i=U4){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const yE=new F4;function q4(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function H4(n){const{appId:t,apiKey:i}=n,r={method:"GET",headers:q4(i)},o=I4.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function G4(n,t=yE,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ni.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ni.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Q4;return setTimeout(async()=>{d.abort()},R4),vE({appId:r,apiKey:o,measurementId:u},c,d,t)}async function vE(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=yE){const{appId:u,measurementId:c}=n;try{await Y4(r,t)}catch(d){if(c)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await H4(n);return o.deleteThrottleMetadata(u),d}catch(d){const g=d;if(!K4(g)){if(o.deleteThrottleMetadata(u),c)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:c};throw d}const y=Number(g?.customData?.httpStatus)===503?_1(i,o.intervalMillis,z4):_1(i,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return o.setThrottleMetadata(u,v),Dn.debug(`Calling attemptFetch again in ${y} millis`),vE(n,v,r,o)}}function Y4(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(ni.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function K4(n){if(!(n instanceof Fr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class Q4{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function W4(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,c={...r,send_to:u};n("event",i,c)}}async function X4(n,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:i})}}async function $4(){if(cT())try{await fT()}catch(n){return Dn.warn(ni.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Dn.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Z4(n,t,i,r,o,u,c){const d=G4(n);d.then(S=>{i[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Dn.error(S)),t.push(d);const g=$4().then(S=>{if(S)return r.getId()}),[y,v]=await Promise.all([d,g]);B4(u)||M4(u,y.measurementId),o("js",new Date);const b=c?.config??{};return b[C4]="firebase",b.update=!0,v!=null&&(b[w4]=v),o("config",y.measurementId,b),y.measurementId}class J4{constructor(t){this.app=t}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},Mb=[];const Nb={};let am="dataLayer",tV="gtag",Ob,oy,Pb=!1;function eV(){const n=[];if(fC()&&n.push("This is a browser extension environment."),dC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=ni.create("invalid-analytics-context",{errorInfo:t});Dn.warn(i.message)}}function nV(n,t,i){eV();const r=n.options.appId;if(!r)throw ni.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ni.create("no-api-key");if(Uo[r]!=null)throw ni.create("already-exists",{id:r});if(!Pb){N4(am);const{wrappedGtag:u,gtagCore:c}=k4(Uo,Mb,Nb,am,tV);oy=u,Ob=c,Pb=!0}return Uo[r]=Z4(n,Mb,Nb,t,Ob,am,i),new J4(n)}function iV(n=gT()){n=ii(n);const t=Lu(n,oh);return t.isInitialized()?t.getImmediate():sV(n)}function sV(n,t={}){const i=Lu(n,oh);if(i.isInitialized()){const o=i.getImmediate();if(Su(t,i.getOptions()))return o;throw ni.create("already-initialized")}return i.initialize({options:t})}function rV(n,t,i){n=ii(n),X4(oy,Uo[n.app.options.appId],t,i).catch(r=>Dn.error(r))}function aV(n,t,i,r){n=ii(n),W4(oy,Uo[n.app.options.appId],t,i,r).catch(o=>Dn.error(o))}const Lb="@firebase/analytics",kb="0.10.19";function oV(){Vr(new Bs(oh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return nV(r,o,i)},"PUBLIC")),Vr(new Bs("analytics-internal",n,"PRIVATE")),cs(Lb,kb),cs(Lb,kb,"esm2020");function n(t){try{const i=t.getProvider(oh).getImmediate();return{logEvent:(r,o,u)=>aV(i,r,o,u),setUserProperties:(r,o)=>rV(i,r,o)}}catch(i){throw ni.create("interop-component-reg-failed",{reason:i})}}}oV();const lV={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},xE=mT(lV);iV(xE);const Zt=Rj(xE);function uV({t:n,lang:t,users:i,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:d,logo:g,logoSize:y,logoPos:v,styles:b,isAdmin:S,syncToFirebase:M}){const[k,q]=F.useState("login"),[B,Z]=F.useState(""),[O,H]=F.useState(""),[Q,tt]=F.useState(""),et=async()=>{if(!B||!O||!Q)return alert(t==="ko"?"  .":"Please fill all info.");const R=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(Y=>Y.code===Q),V=i.find(Y=>Y.id===Q);if(!R&&!V&&!(Q==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(i.find(Y=>Y.id===B))return alert(t==="ko"?"  .":"ID already exists.");const D=(2783982189+i.length).toString(),At={id:B,pw:O,no:D,referral:Q,diamond:0,refCode:B,agentName:R?R.name:"",joinedAt:new Date().toISOString()},wt=[...i,At];r(wt),M&&await M({users:wt}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),Z(""),H(""),tt(""),q("login")},w=A=>{A.key==="Enter"&&(k==="login"?o(B,O):et())};return p.jsxs("div",{style:{...b.landingWrapper,minHeight:"100dvh"},children:[p.jsxs("div",{style:{...b.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[p.jsx("div",{style:b.bgOverlay}),c.mode==="image"&&c.imageSrc&&p.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&d&&p.jsx("video",{src:d,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...b.bgVideo,height:"100dvh",objectFit:"cover"}},d)]}),p.jsx("div",{style:{...b.logoContainer,left:`${v.x}px`,top:`${v.y}px`,transition:"all 0.3s ease"},children:g?p.jsx("img",{src:g,alt:"logo",style:{height:`${y}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):p.jsx("strong",{style:b.defaultLogo,children:"DAISY"})}),p.jsxs("div",{style:b.mainContent,children:[p.jsxs("div",{style:b.heroSection,children:[p.jsx("h1",{style:b.mainTitle,children:c.title[t]}),p.jsx("p",{style:b.subTitle,children:c.desc[t]})]}),!S&&p.jsx("div",{style:b.authWrap,children:p.jsxs("div",{style:{...b.authCard,padding:"50px 40px"},children:[p.jsx("h2",{style:{...b.authTitle,fontSize:"28px",marginBottom:"35px"},children:k==="login"?n.login:n.signup}),p.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:B,onChange:A=>Z(A.target.value),onKeyDown:w}),p.jsx("input",{type:"password",style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:O,onChange:A=>H(A.target.value),onKeyDown:w}),k==="signup"&&p.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:Q,onChange:A=>tt(A.target.value),onKeyDown:w}),p.jsx("button",{style:{...b.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>k==="login"?o(B,O):et(),children:k==="login"?n.login:n.signup}),k==="login"&&p.jsx("button",{style:{...b.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),p.jsx("div",{style:{...b.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{q(k==="login"?"signup":"login"),Z(""),H(""),tt("")},children:k==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const ly=F.createContext({});function Bh(n){const t=F.useRef(null);return t.current===null&&(t.current=n()),t.current}const uy=typeof window<"u",cy=uy?F.useLayoutEffect:F.useEffect,zh=F.createContext(null);function fy(n,t){n.indexOf(t)===-1&&n.push(t)}function hy(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const qs=(n,t,i)=>i>t?t:i<n?n:i;let dy=()=>{};const Hs={},bE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function _E(n){return typeof n=="object"&&n!==null}const TE=n=>/^0[^.\s]+$/u.test(n);function py(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ei=n=>n,cV=(n,t)=>i=>t(n(i)),Hu=(...n)=>n.reduce(cV),Vu=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class my{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>hy(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=n=>n*1e3,_i=n=>n/1e3;function SE(n,t){return t?n*(1e3/t):0}const EE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,fV=1e-7,hV=12;function dV(n,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=EE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>fV&&++d<hV);return c}function Gu(n,t,i,r){if(n===t&&i===r)return Ei;const o=u=>dV(u,0,1,n,i);return u=>u===0||u===1?u:EE(o(u),t,r)}const AE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,wE=n=>t=>1-n(1-t),CE=Gu(.33,1.53,.69,.99),gy=wE(CE),RE=AE(gy),IE=n=>(n*=2)<1?.5*gy(n):.5*(2-Math.pow(2,-10*(n-1))),yy=n=>1-Math.sin(Math.acos(n)),DE=wE(yy),jE=AE(yy),pV=Gu(.42,0,1,1),mV=Gu(0,0,.58,1),VE=Gu(.42,0,.58,1),gV=n=>Array.isArray(n)&&typeof n[0]!="number",ME=n=>Array.isArray(n)&&typeof n[0]=="number",yV={linear:Ei,easeIn:pV,easeInOut:VE,easeOut:mV,circIn:yy,circInOut:jE,circOut:DE,backIn:gy,backInOut:RE,backOut:CE,anticipate:IE},vV=n=>typeof n=="string",Bb=n=>{if(ME(n)){dy(n.length===4);const[t,i,r,o]=n;return Gu(t,i,r,o)}else if(vV(n))return yV[n];return n},If=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xV(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(y.schedule(v),n()),v(d)}const y={schedule:(v,b=!1,S=!1)=>{const k=S&&o?i:r;return b&&c.add(v),k.has(v)||k.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),i.clear(),o=!1,u&&(u=!1,y.process(v))}};return y}const bV=40;function NE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=If.reduce((H,Q)=>(H[Q]=xV(u),H),{}),{setup:d,read:g,resolveKeyframes:y,preUpdate:v,update:b,preRender:S,render:M,postRender:k}=c,q=()=>{const H=Hs.useManualTiming?o.timestamp:performance.now();i=!1,Hs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(H-o.timestamp,bV),1)),o.timestamp=H,o.isProcessing=!0,d.process(o),g.process(o),y.process(o),v.process(o),b.process(o),S.process(o),M.process(o),k.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(q))},B=()=>{i=!0,r=!0,o.isProcessing||n(q)};return{schedule:If.reduce((H,Q)=>{const tt=c[Q];return H[Q]=(et,w=!1,A=!1)=>(i||B(),tt.schedule(et,w,A)),H},{}),cancel:H=>{for(let Q=0;Q<If.length;Q++)c[If[Q]].cancel(H)},state:o,steps:c}}const{schedule:we,cancel:zr,state:mn,steps:om}=NE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0);let Ff;function _V(){Ff=void 0}const Un={now:()=>(Ff===void 0&&Un.set(mn.isProcessing||Hs.useManualTiming?mn.timestamp:performance.now()),Ff),set:n=>{Ff=n,queueMicrotask(_V)}},OE=n=>t=>typeof t=="string"&&t.startsWith(n),PE=OE("--"),TV=OE("var(--"),vy=n=>TV(n)?SV.test(n.split("/*")[0].trim()):!1,SV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Mu={...sl,transform:n=>qs(0,1,n)},Df={...sl,default:1},xu=n=>Math.round(n*1e5)/1e5,xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EV(n){return n==null}const AV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,by=(n,t)=>i=>!!(typeof i=="string"&&AV.test(i)&&i.startsWith(n)||t&&!EV(i)&&Object.prototype.hasOwnProperty.call(i,t)),LE=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(xy);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},wV=n=>qs(0,255,n),lm={...sl,transform:n=>Math.round(wV(n))},Ra={test:by("rgb","red"),parse:LE("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+lm.transform(n)+", "+lm.transform(t)+", "+lm.transform(i)+", "+xu(Mu.transform(r))+")"};function CV(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Km={test:by("#"),parse:CV,transform:Ra.transform},Yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Sr=Yu("deg"),gs=Yu("%"),Nt=Yu("px"),RV=Yu("vh"),IV=Yu("vw"),zb={...gs,parse:n=>gs.parse(n)/100,transform:n=>gs.transform(n*100)},No={test:by("hsl","hue"),parse:LE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+gs.transform(xu(t))+", "+gs.transform(xu(i))+", "+xu(Mu.transform(r))+")"},Xe={test:n=>Ra.test(n)||Km.test(n)||No.test(n),parse:n=>Ra.test(n)?Ra.parse(n):No.test(n)?No.parse(n):Km.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ra.transform(n):No.transform(n),getAnimatableNone:n=>{const t=Xe.parse(n);return t.alpha=0,Xe.transform(t)}},DV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jV(n){return isNaN(n)&&typeof n=="string"&&(n.match(xy)?.length||0)+(n.match(DV)?.length||0)>0}const kE="number",BE="color",VV="var",MV="var(",Ub="${}",NV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(NV,g=>(Xe.test(g)?(r.color.push(u),o.push(BE),i.push(Xe.parse(g))):g.startsWith(MV)?(r.var.push(u),o.push(VV),i.push(g)):(r.number.push(u),o.push(kE),i.push(parseFloat(g))),++u,Ub)).split(Ub);return{values:i,split:d,indexes:r,types:o}}function zE(n){return Nu(n).values}function UE(n){const{split:t,types:i}=Nu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===kE?u+=xu(o[c]):d===BE?u+=Xe.transform(o[c]):u+=o[c]}return u}}const OV=n=>typeof n=="number"?0:Xe.test(n)?Xe.getAnimatableNone(n):n;function PV(n){const t=zE(n);return UE(n)(t.map(OV))}const Ur={test:jV,parse:zE,createTransformer:UE,getAnimatableNone:PV};function um(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function LV({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,g=2*i-d;o=um(g,d,n+1/3),u=um(g,d,n),c=um(g,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function lh(n,t){return i=>i>0?t:n}const Ce=(n,t,i)=>n+(t-n)*i,cm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},kV=[Km,Ra,No],BV=n=>kV.find(t=>t.test(n));function Fb(n){const t=BV(n);if(!t)return!1;let i=t.parse(n);return t===No&&(i=LV(i)),i}const qb=(n,t)=>{const i=Fb(n),r=Fb(t);if(!i||!r)return lh(n,t);const o={...i};return u=>(o.red=cm(i.red,r.red,u),o.green=cm(i.green,r.green,u),o.blue=cm(i.blue,r.blue,u),o.alpha=Ce(i.alpha,r.alpha,u),Ra.transform(o))},Qm=new Set(["none","hidden"]);function zV(n,t){return Qm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function UV(n,t){return i=>Ce(n,t,i)}function _y(n){return typeof n=="number"?UV:typeof n=="string"?vy(n)?lh:Xe.test(n)?qb:HV:Array.isArray(n)?FE:typeof n=="object"?Xe.test(n)?qb:FV:lh}function FE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>_y(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function FV(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=_y(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function qV(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],d=n.values[c]??0;i[o]=d,r[u]++}return i}const HV=(n,t)=>{const i=Ur.createTransformer(t),r=Nu(n),o=Nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Qm.has(n)&&!o.values.length||Qm.has(t)&&!r.values.length?zV(n,t):Hu(FE(qV(r,o),o.values),i):lh(n,t)};function qE(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Ce(n,t,i):_y(n)(n,t)}const GV=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>we.update(t,i),stop:()=>zr(t),now:()=>mn.isProcessing?mn.timestamp:Un.now()}},HE=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},uh=2e4;function Ty(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<uh;)t+=i,r=n.next(t);return t>=uh?1/0:t}function YV(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Ty(r),uh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:_i(o)}}const KV=5;function GE(n,t,i){const r=Math.max(t-KV,0);return SE(i-n(r),t-r)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fm=.001;function QV({duration:n=je.duration,bounce:t=je.bounce,velocity:i=je.velocity,mass:r=je.mass}){let o,u,c=1-t;c=qs(je.minDamping,je.maxDamping,c),n=qs(je.minDuration,je.maxDuration,_i(n)),c<1?(o=y=>{const v=y*c,b=v*n,S=v-i,M=Wm(y,c),k=Math.exp(-b);return fm-S/M*k},u=y=>{const b=y*c*n,S=b*i+i,M=Math.pow(c,2)*Math.pow(y,2)*n,k=Math.exp(-b),q=Wm(Math.pow(y,2),c);return(-o(y)+fm>0?-1:1)*((S-M)*k)/q}):(o=y=>{const v=Math.exp(-y*n),b=(y-i)*n+1;return-fm+v*b},u=y=>{const v=Math.exp(-y*n),b=(i-y)*(n*n);return v*b});const d=5/n,g=XV(o,u,d);if(n=ms(n),isNaN(g))return{stiffness:je.stiffness,damping:je.damping,duration:n};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:c*2*Math.sqrt(r*y),duration:n}}}const WV=12;function XV(n,t,i){let r=i;for(let o=1;o<WV;o++)r=r-n(r)/t(r);return r}function Wm(n,t){return n*Math.sqrt(1-t*t)}const $V=["duration","bounce"],ZV=["stiffness","damping","mass"];function Hb(n,t){return t.some(i=>n[i]!==void 0)}function JV(n){let t={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...n};if(!Hb(n,ZV)&&Hb(n,$V))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*qs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:je.mass,stiffness:o,damping:u}}else{const i=QV(n);t={...t,...i,mass:je.mass},t.isResolvedFromDuration=!0}return t}function ch(n=je.visualDuration,t=je.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:g,damping:y,mass:v,duration:b,velocity:S,isResolvedFromDuration:M}=JV({...i,velocity:-_i(i.velocity||0)}),k=S||0,q=y/(2*Math.sqrt(g*v)),B=c-u,Z=_i(Math.sqrt(g/v)),O=Math.abs(B)<5;r||(r=O?je.restSpeed.granular:je.restSpeed.default),o||(o=O?je.restDelta.granular:je.restDelta.default);let H;if(q<1){const tt=Wm(Z,q);H=et=>{const w=Math.exp(-q*Z*et);return c-w*((k+q*Z*B)/tt*Math.sin(tt*et)+B*Math.cos(tt*et))}}else if(q===1)H=tt=>c-Math.exp(-Z*tt)*(B+(k+Z*B)*tt);else{const tt=Z*Math.sqrt(q*q-1);H=et=>{const w=Math.exp(-q*Z*et),A=Math.min(tt*et,300);return c-w*((k+q*Z*B)*Math.sinh(A)+tt*B*Math.cosh(A))/tt}}const Q={calculatedDuration:M&&b||null,next:tt=>{const et=H(tt);if(M)d.done=tt>=b;else{let w=tt===0?k:0;q<1&&(w=tt===0?ms(k):GE(H,tt,et));const A=Math.abs(w)<=r,R=Math.abs(c-et)<=o;d.done=A&&R}return d.value=d.done?c:et,d},toString:()=>{const tt=Math.min(Ty(Q),uh),et=HE(w=>Q.next(tt*w).value,tt,30);return tt+"ms "+et},toTransition:()=>{}};return Q}ch.applyToOptions=n=>{const t=YV(n,100,ch);return n.ease=t.ease,n.duration=ms(t.duration),n.type="keyframes",n};function Xm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:g,restDelta:y=.5,restSpeed:v}){const b=n[0],S={done:!1,value:b},M=A=>d!==void 0&&A<d||g!==void 0&&A>g,k=A=>d===void 0?g:g===void 0||Math.abs(d-A)<Math.abs(g-A)?d:g;let q=i*t;const B=b+q,Z=c===void 0?B:c(B);Z!==B&&(q=Z-b);const O=A=>-q*Math.exp(-A/r),H=A=>Z+O(A),Q=A=>{const R=O(A),V=H(A);S.done=Math.abs(R)<=y,S.value=S.done?Z:V};let tt,et;const w=A=>{M(S.value)&&(tt=A,et=ch({keyframes:[S.value,k(S.value)],velocity:GE(H,A,S.value),damping:o,stiffness:u,restDelta:y,restSpeed:v}))};return w(0),{calculatedDuration:null,next:A=>{let R=!1;return!et&&tt===void 0&&(R=!0,Q(A),w(A)),tt!==void 0&&A>=tt?et.next(A-tt):(!R&&Q(A),S)}}}function t3(n,t,i){const r=[],o=i||Hs.mix||qE,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const g=Array.isArray(t)?t[c]||Ei:t;d=Hu(g,d)}r.push(d)}return r}function e3(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(dy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=t3(t,r,o),g=d.length,y=v=>{if(c&&v<n[0])return t[0];let b=0;if(g>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const S=Vu(n[b],n[b+1],v);return d[b](S)};return i?v=>y(qs(n[0],n[u-1],v)):y}function n3(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Vu(0,t,r);n.push(Ce(i,1,o))}}function i3(n){const t=[0];return n3(t,n.length-1),t}function s3(n,t){return n.map(i=>i*t)}function r3(n,t){return n.map(()=>t||VE).splice(0,n.length-1)}function bu({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=gV(r)?r.map(Bb):Bb(r),u={done:!1,value:t[0]},c=s3(i&&i.length===t.length?i:i3(t),n),d=e3(c,t,{ease:Array.isArray(o)?o:r3(t,o)});return{calculatedDuration:n,next:g=>(u.value=d(g),u.done=g>=n,u)}}const a3=n=>n!==null;function Sy(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(a3),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const o3={decay:Xm,inertia:Xm,tween:bu,keyframes:bu,spring:ch};function YE(n){typeof n.type=="string"&&(n.type=o3[n.type])}class Ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const l3=n=>n/100;class Ay extends Ey{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;YE(t);const{type:i=bu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const g=i||bu;g!==bu&&typeof d[0]!="number"&&(this.mixKeyframes=Hu(l3,qE(d[0],d[1])),d=[0,100]);const y=g({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...d].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Ty(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:M,type:k,onUpdate:q,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-y*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?Z<0:Z>o;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let H=this.currentTime,Q=r;if(b){const A=Math.min(this.currentTime,o)/d;let R=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&R--,R=Math.min(R,b+1),R%2&&(S==="reverse"?(V=1-V,M&&(V-=M/d)):S==="mirror"&&(Q=c)),H=qs(0,1,V)*d}const tt=O?{done:!1,value:v[0]}:Q.next(H);u&&(tt.value=u(tt.value));let{done:et}=tt;!O&&g!==null&&(et=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&et);return w&&k!==Xm&&(tt.value=Sy(v,this.options,B,this.speed)),q&&q(tt.value),w&&this.finish(),tt}then(t,i){return this.finished.then(t,i)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){t=ms(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=GV,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function u3(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Ia=n=>n*180/Math.PI,$m=n=>{const t=Ia(Math.atan2(n[1],n[0]));return Zm(t)},c3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$m,rotateZ:$m,skewX:n=>Ia(Math.atan(n[1])),skewY:n=>Ia(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Zm=n=>(n=n%360,n<0&&(n+=360),n),Gb=$m,Yb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Kb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),f3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yb,scaleY:Kb,scale:n=>(Yb(n)+Kb(n))/2,rotateX:n=>Zm(Ia(Math.atan2(n[6],n[5]))),rotateY:n=>Zm(Ia(Math.atan2(-n[2],n[0]))),rotateZ:Gb,rotate:Gb,skewX:n=>Ia(Math.atan(n[4])),skewY:n=>Ia(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Jm(n){return n.includes("scale")?1:0}function tg(n,t){if(!n||n==="none")return Jm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=f3,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=c3,o=d}if(!o)return Jm(t);const u=r[t],c=o[1].split(",").map(d3);return typeof u=="function"?u(c):c[u]}const h3=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return tg(i,t)};function d3(n){return parseFloat(n.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(rl),Qb=n=>n===sl||n===Nt,p3=new Set(["x","y","z"]),m3=rl.filter(n=>!p3.has(n));function g3(n){const t=[];return m3.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ja={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>tg(t,"x"),y:(n,{transform:t})=>tg(t,"y")};ja.translateX=ja.x;ja.translateY=ja.y;const Va=new Set;let eg=!1,ng=!1,ig=!1;function KE(){if(ng){const n=Array.from(Va).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=g3(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ng=!1,eg=!1,Va.forEach(n=>n.complete(ig)),Va.clear()}function QE(){Va.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ng=!0)})}function y3(){ig=!0,QE(),KE(),ig=!1}class wy{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Va.add(this),eg||(eg=!0,we.read(QE),we.resolveKeyframes(KE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}u3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Va.delete(this)}cancel(){this.state==="scheduled"&&(Va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v3=n=>n.startsWith("--");function x3(n,t,i){v3(t)?n.style.setProperty(t,i):n.style[t]=i}const b3=py(()=>window.ScrollTimeline!==void 0),_3={};function T3(n,t){const i=py(n);return()=>_3[t]??i()}const WE=T3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Wb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function XE(n,t){if(n)return typeof n=="function"?WE()?HE(n,t):"ease-out":ME(n)?du(n):Array.isArray(n)?n.map(i=>XE(i,t)||Wb.easeOut):Wb[n]}function S3(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:g}={},y=void 0){const v={[t]:i};g&&(v.offset=g);const b=XE(d,o);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),n.animate(v,S)}function $E(n){return typeof n=="function"&&"applyToOptions"in n}function E3({type:n,...t}){return $E(n)&&WE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class A3 extends Ey{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:g}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,dy(typeof t.type!="string");const y=E3(t);this.animation=S3(i,r,o,y,u),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Sy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):x3(i,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ms(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&b3()?(this.animation.timeline=t,Ei):i(this)}}const ZE={anticipate:IE,backInOut:RE,circInOut:jE};function w3(n){return n in ZE}function C3(n){typeof n.ease=="string"&&w3(n.ease)&&(n.ease=ZE[n.ease])}const Xb=10;class R3 extends A3{constructor(t){C3(t),YE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Ay({...c,autoplay:!1}),g=ms(this.finishedTime??this.time);i.setWithVelocity(d.sample(g-Xb).value,d.sample(g).value,Xb),d.stop()}}const $b=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ur.test(n)||n==="0")&&!n.startsWith("url("));function I3(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function D3(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=$b(o,t),d=$b(u,t);return!c||!d?!1:I3(n)||(i==="spring"||$E(i))&&r}function sg(n){n.duration=0,n.type="keyframes"}const j3=new Set(["opacity","clipPath","filter","transform"]),V3=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M3(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=t.owner.getProps();return V3()&&i&&j3.has(i)&&(i!=="transform"||!y)&&!g&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const N3=40;class O3 extends Ey{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:g,motionValue:y,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:g,motionValue:y,element:v,...b},M=v?.KeyframeResolver||wy;this.keyframeResolver=new M(d,(k,q,B)=>this.onKeyframesResolved(k,q,S,!B),g,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:g,isHandoff:y,onUpdate:v}=r;this.resolvedAt=Un.now(),D3(t,u,c,d)||((Hs.instantAnimations||!g)&&v?.(Sy(t,r,i)),t[0]=t[t.length-1],sg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>N3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},M=!y&&M3(S)?new R3({...S,element:S.motionValue.owner.current}):new Ay(S);M.finished.then(()=>this.notifyFinished()).catch(Ei),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const P3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L3(n){const t=P3.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function JE(n,t,i=1){const[r,o]=L3(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return bE(c)?parseFloat(c):c}return vy(o)?JE(o,t,i+1):o}function Cy(n,t){return n?.[t]??n?.default??n}const tA=new Set(["width","height","top","left","right","bottom",...rl]),k3={test:n=>n==="auto",parse:n=>n},eA=n=>t=>t.test(n),nA=[sl,Nt,gs,Sr,IV,RV,k3],Zb=n=>nA.find(eA(n));function B3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||TE(n):!0}const z3=new Set(["brightness","contrast","saturate","opacity"]);function U3(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(xy)||[];if(!r)return n;const o=i.replace(r,"");let u=z3.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const F3=/\b([a-z-]*)\(.*?\)/gu,rg={...Ur,getAnimatableNone:n=>{const t=n.match(F3);return t?t.map(U3).join(" "):n}},Jb={...sl,transform:Math.round},q3={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:Sr,skewX:Sr,skewY:Sr,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:Mu,originX:zb,originY:zb,originZ:Nt},Ry={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,backgroundPositionX:Nt,backgroundPositionY:Nt,...q3,zIndex:Jb,fillOpacity:Mu,strokeOpacity:Mu,numOctaves:Jb},H3={...Ry,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:rg,WebkitFilter:rg},iA=n=>H3[n];function sA(n,t){let i=iA(n);return i!==rg&&(i=Ur),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const G3=new Set(["auto","none","0"]);function Y3(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!G3.has(u)&&Nu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=sA(i,o)}class K3 extends wy{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let y=t[g];if(typeof y=="string"&&(y=y.trim(),vy(y))){const v=JE(y,i.current);v!==void 0&&(t[g]=v),g===t.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!tA.has(r)||t.length!==2)return;const[o,u]=t,c=Zb(o),d=Zb(u);if(c!==d)if(Qb(c)&&Qb(d))for(let g=0;g<t.length;g++){const y=t[g];typeof y=="string"&&(t[g]=parseFloat(y))}else ja[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||B3(t[o]))&&r.push(o);r.length&&Y3(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ja[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ja[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,g])=>{t.getValue(d).set(g)}),this.resolveNoneKeyframes()}}function Q3(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const rA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function aA(n){return _E(n)&&"offsetHeight"in n}const t_=30,W3=n=>!isNaN(parseFloat(n));class X3{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Un.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new my);const r=this.events[t].add(i);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>t_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,t_);return SE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(n,t){return new X3(n,t)}const{schedule:Iy}=NE(queueMicrotask,!1),zi={x:!1,y:!1};function oA(){return zi.x||zi.y}function $3(n){return n==="x"||n==="y"?zi[n]?null:(zi[n]=!0,()=>{zi[n]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function lA(n,t){const i=Q3(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function e_(n){return!(n.pointerType==="touch"||oA())}function Z3(n,t,i={}){const[r,o,u]=lA(n,i),c=d=>{if(!e_(d))return;const{target:g}=d,y=t(g,d);if(typeof y!="function"||!g)return;const v=b=>{e_(b)&&(y(b),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const uA=(n,t)=>t?n===t?!0:uA(n,t.parentElement):!1,Dy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,J3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tM(n){return J3.has(n.tagName)||n.tabIndex!==-1}const qf=new WeakSet;function n_(n){return t=>{t.key==="Enter"&&n(t)}}function hm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eM=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=n_(()=>{if(qf.has(i))return;hm(i,"down");const o=n_(()=>{hm(i,"up")}),u=()=>hm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function i_(n){return Dy(n)&&!oA()}function nM(n,t,i={}){const[r,o,u]=lA(n,i),c=d=>{const g=d.currentTarget;if(!i_(d))return;qf.add(g);const y=t(g,d),v=(M,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),qf.has(g)&&qf.delete(g),i_(M)&&typeof y=="function"&&y(M,{success:k})},b=M=>{v(M,g===window||g===document||i.useGlobalTarget||uA(g,M.target))},S=M=>{v(M,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),aA(d)&&(d.addEventListener("focus",y=>eM(y,o)),!tM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function cA(n){return _E(n)&&"ownerSVGElement"in n}function iM(n){return cA(n)&&n.tagName==="svg"}const wn=n=>!!(n&&n.getVelocity),sM=[...nA,Xe,Ur],rM=n=>sM.find(eA(n)),jy=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function s_(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function aM(...n){return t=>{let i=!1;const r=n.map(o=>{const u=s_(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():s_(n[o],null)}}}}function oM(...n){return F.useCallback(aM(...n),n)}class lM extends F.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=aA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uM({children:n,isPresent:t,anchorX:i,root:r}){const o=F.useId(),u=F.useRef(null),c=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=F.useContext(jy),g=oM(u,n?.ref);return F.useInsertionEffect(()=>{const{width:y,height:v,top:b,left:S,right:M}=c.current;if(t||!u.current||!y||!v)return;const k=i==="left"?`left: ${S}`:`right: ${M}`;u.current.dataset.motionPopId=o;const q=document.createElement("style");d&&(q.nonce=d);const B=r??document.head;return B.appendChild(q),q.sheet&&q.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${k}px !important;
            top: ${b}px !important;
          }
        `),()=>{B.contains(q)&&B.removeChild(q)}},[t]),p.jsx(lM,{isPresent:t,childRef:u,sizeRef:c,children:F.cloneElement(n,{ref:g})})}const cM=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:g})=>{const y=Bh(fM),v=F.useId();let b=!0,S=F.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:M=>{y.set(M,!0);for(const k of y.values())if(!k)return;r&&r()},register:M=>(y.set(M,!1),()=>y.delete(M))}),[i,y,r]);return u&&b&&(S={...S}),F.useMemo(()=>{y.forEach((M,k)=>y.set(k,!1))},[i]),F.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),c==="popLayout"&&(n=p.jsx(uM,{isPresent:i,anchorX:d,root:g,children:n})),p.jsx(zh.Provider,{value:S,children:n})};function fM(){return new Map}function fA(n=!0){const t=F.useContext(zh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=F.useId();F.useEffect(()=>{if(n)return o(u)},[n]);const c=F.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const jf=n=>n.key||"";function r_(n){const t=[];return F.Children.forEach(n,i=>{F.isValidElement(i)&&t.push(i)}),t}const Fo=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:g})=>{const[y,v]=fA(c),b=F.useMemo(()=>r_(n),[n]),S=c&&!y?[]:b.map(jf),M=F.useRef(!0),k=F.useRef(b),q=Bh(()=>new Map),[B,Z]=F.useState(b),[O,H]=F.useState(b);cy(()=>{M.current=!1,k.current=b;for(let et=0;et<O.length;et++){const w=jf(O[et]);S.includes(w)?q.delete(w):q.get(w)!==!0&&q.set(w,!1)}},[O,S.length,S.join("-")]);const Q=[];if(b!==B){let et=[...b];for(let w=0;w<O.length;w++){const A=O[w],R=jf(A);S.includes(R)||(et.splice(w,0,A),Q.push(A))}return u==="wait"&&Q.length&&(et=Q),H(r_(et)),Z(b),null}const{forceRender:tt}=F.useContext(ly);return p.jsx(p.Fragment,{children:O.map(et=>{const w=jf(et),A=c&&!y?!1:b===O||S.includes(w),R=()=>{if(q.has(w))q.set(w,!0);else return;let V=!0;q.forEach(j=>{j||(V=!1)}),V&&(tt?.(),H(k.current),c&&v?.(),r&&r())};return p.jsx(cM,{isPresent:A,initial:!M.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:A?void 0:R,anchorX:d,children:et},w)})})},hA=F.createContext({strict:!1}),a_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const n in a_)Zo[n]={isEnabled:t=>a_[n].some(i=>!!t[i])};function hM(n){for(const t in n)Zo[t]={...Zo[t],...n[t]}}const dM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dM.has(n)}let dA=n=>!fh(n);function pM(n){typeof n=="function"&&(dA=t=>t.startsWith("on")?!fh(t):n(t))}try{pM(require("@emotion/is-prop-valid").default)}catch{}function mM(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(dA(o)||i===!0&&fh(o)||!t&&!fh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Uh=F.createContext({});function Fh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ou(n){return typeof n=="string"||Array.isArray(n)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],My=["initial",...Vy];function qh(n){return Fh(n.animate)||My.some(t=>Ou(n[t]))}function pA(n){return!!(qh(n)||n.variants)}function gM(n,t){if(qh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Ou(i)?i:void 0,animate:Ou(r)?r:void 0}}return n.inherit!==!1?t:{}}function yM(n){const{initial:t,animate:i}=gM(n,F.useContext(Uh));return F.useMemo(()=>({initial:t,animate:i}),[o_(t),o_(i)])}function o_(n){return Array.isArray(n)?n.join(" "):n}function l_(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const lu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Nt.test(n))n=parseFloat(n);else return n;const i=l_(n,t.target.x),r=l_(n,t.target.y);return`${i}% ${r}%`}},vM={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Ur.parse(n);if(o.length>5)return r;const u=Ur.createTransformer(n),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,g=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=g;const y=Ce(d,g,.5);return typeof o[2+c]=="number"&&(o[2+c]/=y),typeof o[3+c]=="number"&&(o[3+c]/=y),u(o)}},ag={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:vM};function mA(n,{layout:t,layoutId:i}){return al.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!ag[n]||n==="opacity")}const xM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bM=rl.length;function _M(n,t,i){let r="",o=!0;for(let u=0;u<bM;u++){const c=rl[u],d=n[c];if(d===void 0)continue;let g=!0;if(typeof d=="number"?g=d===(c.startsWith("scale")?1:0):g=parseFloat(d)===0,!g||i){const y=rA(d,Ry[c]);if(!g){o=!1;const v=xM[c]||c;r+=`${v}(${y}) `}i&&(t[c]=y)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Ny(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const g in t){const y=t[g];if(al.has(g)){c=!0;continue}else if(PE(g)){o[g]=y;continue}else{const v=rA(y,Ry[g]);g.startsWith("origin")?(d=!0,u[g]=v):r[g]=v}}if(t.transform||(c||i?r.transform=_M(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:g="50%",originY:y="50%",originZ:v=0}=u;r.transformOrigin=`${g} ${y} ${v}`}}const Oy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gA(n,t,i){for(const r in t)!wn(t[r])&&!mA(r,i)&&(n[r]=t[r])}function TM({transformTemplate:n},t){return F.useMemo(()=>{const i=Oy();return Ny(i,t,n),Object.assign({},i.vars,i.style)},[t])}function SM(n,t){const i=n.style||{},r={};return gA(r,i,n),Object.assign(r,TM(n,t)),r}function EM(n,t){const i={},r=SM(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const AM={offset:"stroke-dashoffset",array:"stroke-dasharray"},wM={offset:"strokeDashoffset",array:"strokeDasharray"};function CM(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?AM:wM;n[u.offset]=Nt.transform(-r);const c=Nt.transform(t),d=Nt.transform(i);n[u.array]=`${c} ${d}`}function yA(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},g,y,v){if(Ny(n,d,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:S}=n;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&CM(b,o,u,c,!1)}const vA=()=>({...Oy(),attrs:{}}),xA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function RM(n,t,i,r){const o=F.useMemo(()=>{const u=vA();return yA(u,t,xA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};gA(u,n.style,n),o.style={...u,...o.style}}return o}const IM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Py(n){return typeof n!="string"||n.includes("-")?!1:!!(IM.indexOf(n)>-1||/[A-Z]/u.test(n))}function DM(n,t,i,{latestValues:r},o,u=!1){const d=(Py(n)?RM:EM)(t,r,o,n),g=mM(t,typeof n=="string",u),y=n!==F.Fragment?{...g,...d,ref:i}:{},{children:v}=t,b=F.useMemo(()=>wn(v)?v.get():v,[v]);return F.createElement(n,{...y,children:b})}function u_(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Ly(n,t,i,r){if(typeof t=="function"){const[o,u]=u_(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=u_(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function Hf(n){return wn(n)?n.get():n}function jM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:VM(i,r,o,n),renderState:t()}}function VM(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=Hf(u[S]);let{initial:c,animate:d}=n;const g=qh(n),y=pA(n);t&&y&&!g&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Fh(b)){const S=Array.isArray(b)?b:[b];for(let M=0;M<S.length;M++){const k=Ly(n,S[M]);if(k){const{transitionEnd:q,transition:B,...Z}=k;for(const O in Z){let H=Z[O];if(Array.isArray(H)){const Q=v?H.length-1:0;H=H[Q]}H!==null&&(o[O]=H)}for(const O in q)o[O]=q[O]}}}return o}const bA=n=>(t,i)=>{const r=F.useContext(Uh),o=F.useContext(zh),u=()=>jM(n,t,r,o);return i?u():Bh(u)};function ky(n,t,i){const{style:r}=n,o={};for(const u in r)(wn(r[u])||t.style&&wn(t.style[u])||mA(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const MM=bA({scrapeMotionValuesFromProps:ky,createRenderState:Oy});function _A(n,t,i){const r=ky(n,t,i);for(const o in n)if(wn(n[o])||wn(t[o])){const u=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const NM=bA({scrapeMotionValuesFromProps:_A,createRenderState:vA}),OM=Symbol.for("motionComponentSymbol");function Oo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function PM(n,t,i){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Oo(i)&&(i.current=r))},[t])}const By=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LM="framerAppearId",TA="data-"+By(LM),SA=F.createContext({});function kM(n,t,i,r,o){const{visualElement:u}=F.useContext(Uh),c=F.useContext(hA),d=F.useContext(zh),g=F.useContext(jy).reducedMotion,y=F.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,b=F.useContext(SA);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&BM(y.current,i,o,b);const S=F.useRef(!1);F.useInsertionEffect(()=>{v&&S.current&&v.update(i,d)});const M=i[TA],k=F.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return cy(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),F.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),k.current=!1),v.enteringChildren=void 0)}),v}function BM(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:g,layoutRoot:y,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:EA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Oo(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:y})}function EA(n){if(n)return n.options.allowProjection!==!1?n.projection:EA(n.parent)}function dm(n,{forwardMotionProps:t=!1}={},i,r){i&&hM(i);const o=Py(n)?NM:MM;function u(d,g){let y;const v={...F.useContext(jy),...d,layoutId:zM(d)},{isStatic:b}=v,S=yM(d),M=o(d,b);if(!b&&uy){UM();const k=FM(v);y=k.MeasureLayout,S.visualElement=kM(n,M,v,r,k.ProjectionNode)}return p.jsxs(Uh.Provider,{value:S,children:[y&&S.visualElement?p.jsx(y,{visualElement:S.visualElement,...v}):null,DM(n,d,PM(M,S.visualElement,g),M,b,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=F.forwardRef(u);return c[OM]=n,c}function zM({layoutId:n}){const t=F.useContext(ly).id;return t&&n!==void 0?t+"-"+n:n}function UM(n,t){F.useContext(hA).strict}function FM(n){const{drag:t,layout:i}=Zo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function qM(n,t){if(typeof Proxy>"u")return dm;const i=new Map,r=(u,c)=>dm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,dm(c,void 0,n,t)),i.get(c))})}function AA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function HM({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function GM(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function pm(n){return n===void 0||n===1}function og({scale:n,scaleX:t,scaleY:i}){return!pm(n)||!pm(t)||!pm(i)}function Ea(n){return og(n)||wA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function wA(n){return c_(n.x)||c_(n.y)}function c_(n){return n&&n!=="0%"}function hh(n,t,i){const r=n-i,o=t*r;return i+o}function f_(n,t,i,r,o){return o!==void 0&&(n=hh(n,o,r)),hh(n,i,r)+t}function lg(n,t=0,i=1,r,o){n.min=f_(n.min,t,i,r,o),n.max=f_(n.max,t,i,r,o)}function CA(n,{x:t,y:i}){lg(n.x,t.translate,t.scale,t.originPoint),lg(n.y,i.translate,i.scale,i.originPoint)}const h_=.999999999999,d_=1.0000000000001;function YM(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,CA(n,c)),r&&Ea(u.latestValues)&&Lo(n,u.latestValues))}t.x<d_&&t.x>h_&&(t.x=1),t.y<d_&&t.y>h_&&(t.y=1)}function Po(n,t){n.min=n.min+t,n.max=n.max+t}function p_(n,t,i,r,o=.5){const u=Ce(n.min,n.max,o);lg(n,t,i,u,r)}function Lo(n,t){p_(n.x,t.x,t.scaleX,t.scale,t.originX),p_(n.y,t.y,t.scaleY,t.scale,t.originY)}function RA(n,t){return AA(GM(n.getBoundingClientRect(),t))}function KM(n,t,i){const r=RA(n,i),{scroll:o}=t;return o&&(Po(r.x,o.offset.x),Po(r.y,o.offset.y)),r}const m_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:m_(),y:m_()}),g_=()=>({min:0,max:0}),tn=()=>({x:g_(),y:g_()}),ug={current:null},IA={current:!1};function QM(){if(IA.current=!0,!!uy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>ug.current=n.matches;n.addEventListener("change",t),t()}else ug.current=!1}const WM=new WeakMap;function XM(n,t,i){for(const r in t){const o=t[r],u=i[r];if(wn(o))n.addValue(r,o);else if(wn(u))n.addValue(r,$o(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,$o(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const y_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $M{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Un.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,we.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=qh(i),this.isVariantNode=pA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in b){const M=b[S];g[S]!==void 0&&wn(M)&&M.set(g[S])}}mount(t){this.current=t,WM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),IA.current||QM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ug.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=al.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const i=Zo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<y_.length;r++){const o=y_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=XM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=$o(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(bE(r)||TE(r))?r=parseFloat(r):!rM(r)&&Ur.test(i)&&(r=sA(t,i)),this.setBaseTarget(t,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Ly(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!wn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new my),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Iy.render(this.render)}}class DA extends $M{constructor(){super(...arguments),this.KeyframeResolver=K3}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function jA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function ZM(n){return window.getComputedStyle(n)}class JM extends DA{constructor(){super(...arguments),this.type="html",this.renderInstance=jA}readValueFromInstance(t,i){if(al.has(i))return this.projection?.isProjecting?Jm(i):h3(t,i);{const r=ZM(t),o=(PE(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return RA(t,i)}build(t,i,r){Ny(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return ky(t,i,r)}}const VA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t5(n,t,i,r){jA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(VA.has(o)?o:By(o),t.attrs[o])}class e5 extends DA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(al.has(i)){const r=iA(i);return r&&r.default||0}return i=VA.has(i)?i:By(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return _A(t,i,r)}build(t,i,r){yA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){t5(t,i,r,o)}mount(t){this.isSVGTag=xA(t.tagName),super.mount(t)}}const n5=(n,t)=>Py(n)?new e5(t):new JM(t,{allowProjection:n!==F.Fragment});function qo(n,t,i){const r=n.getProps();return Ly(r,t,i!==void 0?i:r.custom,n)}const cg=n=>Array.isArray(n);function i5(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,$o(i))}function s5(n){return cg(n)?n[n.length-1]||0:n}function zy(n,t){const i=qo(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=s5(u[c]);i5(n,c,d)}}function r5(n){return!!(wn(n)&&n.add)}function fg(n,t){const i=n.getValue("willChange");if(r5(i))return i.add(t);if(!i&&Hs.WillChange){const r=new Hs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function MA(n){return n.props[TA]}const a5=n=>n!==null;function o5(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(a5),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const l5={type:"spring",stiffness:500,damping:25,restSpeed:10},u5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),c5={type:"keyframes",duration:.8},f5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h5=(n,{keyframes:t})=>t.length>2?c5:al.has(n)?n.startsWith("scale")?u5(t[1]):l5:f5;function d5({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:g,elapsed:y,...v}){return!!Object.keys(v).length}const Uy=(n,t,i,r={},o,u)=>c=>{const d=Cy(r,n)||{},g=d.delay||r.delay||0;let{elapsed:y=0}=r;y=y-ms(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-y,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};d5(d)||Object.assign(v,h5(n,v)),v.duration&&(v.duration=ms(v.duration)),v.repeatDelay&&(v.repeatDelay=ms(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(sg(v),v.delay===0&&(b=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(b=!0,sg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!u&&t.get()!==void 0){const S=o5(v.keyframes,d);if(S!==void 0){we.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new Ay(v):new O3(v)};function p5({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function NA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const g=[],y=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const b=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||y&&p5(y,v))continue;const M={delay:i,...Cy(u||{},v)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===k&&!M.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const Z=MA(n);if(Z){const O=window.MotionHandoffAnimation(Z,v,we);O!==null&&(M.startTime=O,q=!0)}}fg(n,v),b.start(Uy(v,b,S,n.shouldReduceMotion&&tA.has(v)?{type:!1}:M,n,q));const B=b.animation;B&&g.push(B)}return c&&Promise.all(g).then(()=>{we.update(()=>{c&&zy(n,c)})}),g}function OA(n,t,i,r=0,o=1){const u=Array.from(n).sort((y,v)=>y.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function hg(n,t,i={}){const r=qo(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(NA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=o;return m5(n,t,g,y,v,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,y]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>y())}else return Promise.all([u(),c(i.delay)])}function m5(n,t,i=0,r=0,o=0,u=1,c){const d=[];for(const g of n.variantChildren)g.notify("AnimationStart",t),d.push(hg(g,t,{...c,delay:i+(typeof r=="function"?0:r)+OA(n.variantChildren,g,r,o,u)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(d)}function PA(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>hg(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=hg(n,t,i);else{const o=typeof t=="function"?qo(n,t,i.custom):t;r=Promise.all(NA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function LA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const g5=My.length;function kA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?kA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<g5;i++){const r=My[i],o=n.props[r];(Ou(o)||o===!1)&&(t[r]=o)}return t}const y5=[...Vy].reverse(),v5=Vy.length;function x5(n){return t=>Promise.all(t.map(({animation:i,options:r})=>PA(n,i,r)))}function b5(n){let t=x5(n),i=v_(),r=!0;const o=g=>(y,v)=>{const b=qo(n,v,g==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:M,...k}=b;y={...y,...k,...M}}return y};function u(g){t=g(n)}function c(g){const{props:y}=n,v=kA(n.parent)||{},b=[],S=new Set;let M={},k=1/0;for(let B=0;B<v5;B++){const Z=y5[B],O=i[Z],H=y[Z]!==void 0?y[Z]:v[Z],Q=Ou(H),tt=Z===g?O.isActive:null;tt===!1&&(k=B);let et=H===v[Z]&&H!==y[Z]&&Q;if(et&&r&&n.manuallyAnimateOnMount&&(et=!1),O.protectedKeys={...M},!O.isActive&&tt===null||!H&&!O.prevProp||Fh(H)||typeof H=="boolean")continue;const w=_5(O.prevProp,H);let A=w||Z===g&&O.isActive&&!et&&Q||B>k&&Q,R=!1;const V=Array.isArray(H)?H:[H];let j=V.reduce(o(Z),{});tt===!1&&(j={});const{prevResolvedValues:P={}}=O,D={...P,...j},At=I=>{A=!0,S.has(I)&&(R=!0,S.delete(I)),O.needsAnimating[I]=!0;const U=n.getValue(I);U&&(U.liveStyle=!1)};for(const I in D){const U=j[I],ct=P[I];if(M.hasOwnProperty(I))continue;let gt=!1;cg(U)&&cg(ct)?gt=!LA(U,ct):gt=U!==ct,gt?U!=null?At(I):S.add(I):U!==void 0&&S.has(I)?At(I):O.protectedKeys[I]=!0}O.prevProp=H,O.prevResolvedValues=j,O.isActive&&(M={...M,...j}),r&&n.blockInitialAnimation&&(A=!1);const wt=et&&w;A&&(!wt||R)&&b.push(...V.map(I=>{const U={type:Z};if(typeof I=="string"&&r&&!wt&&n.manuallyAnimateOnMount&&n.parent){const{parent:ct}=n,gt=qo(ct,I);if(ct.enteringChildren&&gt){const{delayChildren:N}=gt.transition||{};U.delay=OA(ct.enteringChildren,n,N)}}return{animation:I,options:U}}))}if(S.size){const B={};if(typeof y.initial!="boolean"){const Z=qo(n,Array.isArray(y.initial)?y.initial[0]:y.initial);Z&&Z.transition&&(B.transition=Z.transition)}S.forEach(Z=>{const O=n.getBaseTarget(Z),H=n.getValue(Z);H&&(H.liveStyle=!0),B[Z]=O??null}),b.push({animation:B})}let q=!!b.length;return r&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(q=!1),r=!1,q?t(b):Promise.resolve()}function d(g,y){if(i[g].isActive===y)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(g,y)),i[g].isActive=y;const v=c(g);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=v_()}}}function _5(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!LA(t,n):!1}function _a(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v_(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class T5 extends Yr{constructor(t){super(t),t.animationState||(t.animationState=b5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let S5=0;class E5 extends Yr{constructor(){super(...arguments),this.id=S5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A5={animation:{Feature:T5},exit:{Feature:E5}};function Pu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Ku(n){return{point:{x:n.pageX,y:n.pageY}}}const w5=n=>t=>Dy(t)&&n(t,Ku(t));function _u(n,t,i,r){return Pu(n,t,w5(i),r)}const BA=1e-4,C5=1-BA,R5=1+BA,zA=.01,I5=0-zA,D5=0+zA;function In(n){return n.max-n.min}function j5(n,t,i){return Math.abs(n-t)<=i}function x_(n,t,i,r=.5){n.origin=r,n.originPoint=Ce(t.min,t.max,n.origin),n.scale=In(i)/In(t),n.translate=Ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=C5&&n.scale<=R5||isNaN(n.scale))&&(n.scale=1),(n.translate>=I5&&n.translate<=D5||isNaN(n.translate))&&(n.translate=0)}function Tu(n,t,i,r){x_(n.x,t.x,i.x,r?r.originX:void 0),x_(n.y,t.y,i.y,r?r.originY:void 0)}function b_(n,t,i){n.min=i.min+t.min,n.max=n.min+In(t)}function V5(n,t,i){b_(n.x,t.x,i.x),b_(n.y,t.y,i.y)}function __(n,t,i){n.min=t.min-i.min,n.max=n.min+In(t)}function dh(n,t,i){__(n.x,t.x,i.x),__(n.y,t.y,i.y)}function xi(n){return[n("x"),n("y")]}const UA=({current:n})=>n?n.ownerDocument.defaultView:null,T_=(n,t)=>Math.abs(n-t);function M5(n,t){const i=T_(n.x,t.x),r=T_(n.y,t.y);return Math.sqrt(i**2+r**2)}class FA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=gm(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,k=M5(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!k)return;const{point:q}=S,{timestamp:B}=mn;this.history.push({...q,timestamp:B});const{onStart:Z,onMove:O}=this.handlers;M||(Z&&Z(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=mm(M,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:k,onSessionEnd:q,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=gm(S.type==="pointercancel"?this.lastMoveEventInfo:mm(M,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,Z),q&&q(S,Z)},!Dy(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ku(t),g=mm(d,this.transformPagePoint),{point:y}=g,{timestamp:v}=mn;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,gm(g,this.history)),this.removeListeners=Hu(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function mm(n,t){return t?{point:t(n.point)}:n}function S_(n,t){return{x:n.x-t.x,y:n.y-t.y}}function gm({point:n},t){return{point:n,delta:S_(n,qA(t)),offset:S_(n,N5(t)),velocity:O5(t,.1)}}function N5(n){return n[0]}function qA(n){return n[n.length-1]}function O5(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=qA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>ms(t)));)i--;if(!r)return{x:0,y:0};const u=_i(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function P5(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Ce(i,n,r.max):Math.min(n,i)),n}function E_(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function L5(n,{top:t,left:i,bottom:r,right:o}){return{x:E_(n.x,i,o),y:E_(n.y,t,r)}}function A_(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function k5(n,t){return{x:A_(n.x,t.x),y:A_(n.y,t.y)}}function B5(n,t){let i=.5;const r=In(n),o=In(t);return o>r?i=Vu(t.min,t.max-r,n.min):r>o&&(i=Vu(n.min,n.max-o,t.min)),qs(0,1,i)}function z5(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const dg=.35;function U5(n=dg){return n===!1?n=0:n===!0&&(n=dg),{x:w_(n,"left","right"),y:w_(n,"top","bottom")}}function w_(n,t,i){return{min:C_(n,t),max:C_(n,i)}}function C_(n,t){return typeof n=="number"?n:n[t]||0}const F5=new WeakMap;class q5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ku(b).point)},c=(b,S)=>{const{drag:M,dragPropagation:k,onDragStart:q}=this.getProps();if(M&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$3(M),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(Z=>{let O=this.getAxisMotionValue(Z).get()||0;if(gs.test(O)){const{projection:H}=this.visualElement;if(H&&H.layout){const Q=H.layout.layoutBox[Z];Q&&(O=In(Q)*(parseFloat(O)/100))}}this.originPoint[Z]=O}),q&&we.postRender(()=>q(b,S)),fg(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},d=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:M,dragDirectionLock:k,onDirectionLock:q,onDrag:B}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:Z}=S;if(k&&this.currentDirection===null){this.currentDirection=H5(Z),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",S.point,Z),this.updateAxis("y",S.point,Z),this.visualElement.render(),B&&B(b,S)},g=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>xi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new FA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:UA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&we.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Vf(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=P5(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Oo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=L5(r.layoutBox,t):this.constraints=!1,this.elastic=U5(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=z5(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Oo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=KM(r,o.root,this.visualElement.getTransformPagePoint());let c=k5(o.layout.layoutBox,u);if(i){const d=i(HM(c));this.hasMutatedConstraints=!!d,d&&(c=AA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},y=xi(v=>{if(!Vf(v,i,this.currentDirection))return;let b=g&&g[v]||{};c&&(b={min:0,max:0});const S=o?200:1e6,M=o?40:1e7,k={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,k)});return Promise.all(y).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return fg(this.visualElement,t),r.start(Uy(t,r,0,i,this.visualElement,!1))}stopAnimation(){xi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xi(i=>{const{drag:r}=this.getProps();if(!Vf(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const g=d.get();o[c]=B5({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(c=>{if(!Vf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:g,max:y}=this.constraints[c];d.set(Ce(g,y,o[c]))})}addListeners(){if(!this.visualElement.current)return;F5.set(this.visualElement,this);const t=this.visualElement.current,i=_u(t,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Oo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),we.read(r);const c=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(xi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=g[v].translate,b.set(b.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=dg,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Vf(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function H5(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class G5 extends Yr{constructor(t){super(t),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new q5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const R_=n=>(t,i)=>{n&&we.postRender(()=>n(t,i))};class Y5 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(t){this.session=new FA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:R_(t),onStart:R_(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&we.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ym=!1;class K5 extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),ym&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,ym=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||we.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;ym=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function HA(n){const[t,i]=fA(),r=F.useContext(ly);return p.jsx(K5,{...n,layoutGroup:r,switchLayoutGroup:F.useContext(SA),isPresent:t,safeToRemove:i})}function Q5(n,t,i){const r=wn(n)?n:$o(n);return r.start(Uy("",r,t,i)),r.animation}const W5=(n,t)=>n.depth-t.depth;class X5{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){hy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W5),this.isDirty=!1,this.children.forEach(t)}}function $5(n,t){const i=Un.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(zr(r),n(u-t))};return we.setup(r,!0),()=>zr(r)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],Z5=GA.length,I_=n=>typeof n=="string"?parseFloat(n):n,D_=n=>typeof n=="number"||Nt.test(n);function J5(n,t,i,r,o,u){o?(n.opacity=Ce(0,i.opacity??1,tN(r)),n.opacityExit=Ce(t.opacity??1,0,eN(r))):u&&(n.opacity=Ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<Z5;c++){const d=`border${GA[c]}Radius`;let g=j_(t,d),y=j_(i,d);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||D_(g)===D_(y)?(n[d]=Math.max(Ce(I_(g),I_(y),r),0),(gs.test(y)||gs.test(g))&&(n[d]+="%")):n[d]=y}(t.rotate||i.rotate)&&(n.rotate=Ce(t.rotate||0,i.rotate||0,r))}function j_(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const tN=YA(0,.5,DE),eN=YA(.5,.95,Ei);function YA(n,t,i){return r=>r<n?0:r>t?1:i(Vu(n,t,r))}function V_(n,t){n.min=t.min,n.max=t.max}function Bi(n,t){V_(n.x,t.x),V_(n.y,t.y)}function M_(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function N_(n,t,i,r,o){return n-=t,n=hh(n,1/i,r),o!==void 0&&(n=hh(n,1/o,r)),n}function nN(n,t=0,i=1,r=.5,o,u=n,c=n){if(gs.test(t)&&(t=parseFloat(t),t=Ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ce(u.min,u.max,r);n===u&&(d-=t),n.min=N_(n.min,t,i,d,o),n.max=N_(n.max,t,i,d,o)}function O_(n,t,[i,r,o],u,c){nN(n,t[i],t[r],t[o],t.scale,u,c)}const iN=["x","scaleX","originX"],sN=["y","scaleY","originY"];function P_(n,t,i,r){O_(n.x,t,iN,i?i.x:void 0,r?r.x:void 0),O_(n.y,t,sN,i?i.y:void 0,r?r.y:void 0)}function L_(n){return n.translate===0&&n.scale===1}function KA(n){return L_(n.x)&&L_(n.y)}function k_(n,t){return n.min===t.min&&n.max===t.max}function rN(n,t){return k_(n.x,t.x)&&k_(n.y,t.y)}function B_(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function QA(n,t){return B_(n.x,t.x)&&B_(n.y,t.y)}function z_(n){return In(n.x)/In(n.y)}function U_(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class aN{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(hy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oN(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:y,rotate:v,rotateX:b,rotateY:S,skewX:M,skewY:k}=i;y&&(r=`perspective(${y}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),M&&(r+=`skewX(${M}deg) `),k&&(r+=`skewY(${k}deg) `)}const d=n.x.scale*t.x,g=n.y.scale*t.y;return(d!==1||g!==1)&&(r+=`scale(${d}, ${g})`),r||"none"}const vm=["","X","Y","Z"],lN=1e3;let uN=0;function xm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function WA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=MA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",we,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&WA(r)}function XA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=uN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hN),this.nodes.forEach(gN),this.nodes.forEach(yN),this.nodes.forEach(dN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new X5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new my),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const g=this.eventHandlers.get(c);g&&g.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=cA(c)&&!iM(c),this.instance=c;const{layoutId:d,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||d)&&(this.isLayoutDirty=!0),n){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;we.read(()=>{b=window.innerWidth}),n(c,()=>{const M=window.innerWidth;M!==b&&(b=M,this.root.updateBlockedByResize=!0,v&&v(),v=$5(S,250),Gf.hasAnimatedSinceResize&&(Gf.hasAnimatedSinceResize=!1,this.nodes.forEach(H_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||TN,{onLayoutAnimationStart:q,onLayoutAnimationComplete:B}=y.getProps(),Z=!this.targetLayout||!QA(this.targetLayout,M),O=!b&&S;if(this.options.layoutRoot||this.resumeFrom||O||b&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Cy(k,"layout"),onPlay:q,onComplete:B};(y.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,O)}else b||H_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mN),this.nodes.forEach(cN),this.nodes.forEach(fN)):this.nodes.forEach(q_),this.clearAllSnapshots();const d=Un.now();mn.delta=qs(0,1e3/60,d-mn.timestamp),mn.timestamp=d,mn.isProcessing=!0,om.update.process(mn),om.preRender.process(mn),om.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pN),this.sharedNodes.forEach(xN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!KA(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ea(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return c&&(g=this.removeTransform(g)),SN(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return tn();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EN))){const{scroll:y}=this.root;y&&(Po(d.x,y.offset.x),Po(d.y,y.offset.y))}return d}removeElementScroll(c){const d=tn();if(Bi(d,c),this.scroll?.wasRoot)return d;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Bi(d,c),Po(d.x,v.offset.x),Po(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const g=tn();Bi(g,c);for(let y=0;y<this.path.length;y++){const v=this.path[y];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Lo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ea(v.latestValues)&&Lo(g,v.latestValues)}return Ea(this.latestValues)&&Lo(g,this.latestValues),g}removeTransform(c){const d=tn();Bi(d,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!Ea(y.latestValues))continue;og(y.latestValues)&&y.updateSnapshot();const v=tn(),b=y.measurePageBox();Bi(v,b),P_(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return Ea(this.latestValues)&&P_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==d;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=mn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),CA(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||wA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),dh(this.relativeTargetOrigin,d,g),Bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Bi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;YM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tn());const{target:M}=c;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(M_(this.prevProjectionDelta.x,this.projectionDelta.x),M_(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!U_(this.projectionDelta.x,this.prevProjectionDelta.x)||!U_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(c,d=!1){const g=this.snapshot,y=g?g.latestValues:{},v={...this.latestValues},b=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=tn(),M=g?g.source:void 0,k=this.layout?this.layout.source:void 0,q=M!==k,B=this.getStack(),Z=!B||B.members.length<=1,O=!!(q&&!Z&&this.options.crossfade===!0&&!this.path.some(_N));this.animationProgress=0;let H;this.mixTargetDelta=Q=>{const tt=Q/1e3;G_(b.x,c.x,tt),G_(b.y,c.y,tt),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bN(this.relativeTarget,this.relativeTargetOrigin,S,tt),H&&rN(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=tn()),Bi(H,this.relativeTarget)),q&&(this.animationValues=v,J5(v,y,this.latestValues,tt,O,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=Q5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:g,layout:y,latestValues:v}=c;if(!(!d||!g||!y)){if(this!==c&&this.layout&&y&&$A(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||tn();const b=In(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+b;const S=In(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}Bi(d,g),Lo(d,v),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new aN),this.sharedNodes.get(c).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const y={};g.z&&xm("z",c,y,this.animationValues);for(let v=0;v<vm.length;v++)xm(`rotate${vm[v]}`,c,y,this.animationValues),xm(`skew${vm[v]}`,c,y,this.animationValues);c.render();for(const v in y)c.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Hf(d?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Hf(d?.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=oN(this.projectionDeltaWithTransform,this.treeScale,v);g&&(b=g(v,b)),c.transform=b;const{x:S,y:M}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,y.animationValues?c.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in ag){if(v[k]===void 0)continue;const{correct:q,applyTo:B,isCSSVariable:Z}=ag[k],O=b==="none"?v[k]:q(v[k],y);if(B){const H=B.length;for(let Q=0;Q<H;Q++)c[B[Q]]=O}else Z?this.options.visualElement.renderState.vars[k]=O:c[k]=O}this.options.layoutId&&(c.pointerEvents=y===this?Hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(F_),this.root.sharedNodes.clear()}}}function cN(n){n.updateLayout()}function fN(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?xi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=In(b);b.min=i[v].min,b.max=b.min+S}):$A(o,t.layoutBox,i)&&xi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=In(i[v]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=ko();Tu(c,i,t.layoutBox);const d=ko();u?Tu(d,n.applyTransform(r,!0),t.measuredBox):Tu(d,i,t.layoutBox);const g=!KA(c);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const M=tn();dh(M,t.layoutBox,b.layoutBox);const k=tn();dh(k,i,S.layoutBox),QA(M,k)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=M,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function hN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function dN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function pN(n){n.clearSnapshot()}function F_(n){n.clearMeasurements()}function q_(n){n.isLayoutDirty=!1}function mN(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function H_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function gN(n){n.resolveTargetDelta()}function yN(n){n.calcProjection()}function vN(n){n.resetSkewAndRotation()}function xN(n){n.removeLeadSnapshot()}function G_(n,t,i){n.translate=Ce(t.translate,0,i),n.scale=Ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function Y_(n,t,i,r){n.min=Ce(t.min,i.min,r),n.max=Ce(t.max,i.max,r)}function bN(n,t,i,r){Y_(n.x,t.x,i.x,r),Y_(n.y,t.y,i.y,r)}function _N(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const TN={duration:.45,ease:[.4,0,.1,1]},K_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Q_=K_("applewebkit/")&&!K_("chrome/")?Math.round:Ei;function W_(n){n.min=Q_(n.min),n.max=Q_(n.max)}function SN(n){W_(n.x),W_(n.y)}function $A(n,t,i){return n==="position"||n==="preserve-aspect"&&!j5(z_(t),z_(i),.2)}function EN(n){return n!==n.root&&n.scroll?.wasRoot}const AN=XA({attachResizeListener:(n,t)=>Pu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bm={current:void 0},ZA=XA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bm.current){const n=new AN({});n.mount(window),n.setOptions({layoutScroll:!0}),bm.current=n}return bm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),wN={pan:{Feature:Y5},drag:{Feature:G5,ProjectionNode:ZA,MeasureLayout:HA}};function X_(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&we.postRender(()=>u(t,Ku(t)))}class CN extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=Z3(t,(i,r)=>(X_(this.node,r,"Start"),o=>X_(this.node,o,"End"))))}unmount(){}}class RN extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $_(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&we.postRender(()=>u(t,Ku(t)))}class IN extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=nM(t,(i,r)=>($_(this.node,r,"Start"),(o,{success:u})=>$_(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pg=new WeakMap,_m=new WeakMap,DN=n=>{const t=pg.get(n.target);t&&t(n)},jN=n=>{n.forEach(DN)};function VN({root:n,...t}){const i=n||document;_m.has(i)||_m.set(i,{});const r=_m.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(jN,{root:n,...t})),r[o]}function MN(n,t,i){const r=VN(t);return pg.set(n,i),r.observe(n),()=>{pg.delete(n),r.unobserve(n)}}const NN={some:0,all:1};class ON extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:NN[o]},d=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,u&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=y?v:b;S&&S(g)};return MN(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(PN(t,i))&&this.startObserver()}unmount(){}}function PN({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const LN={inView:{Feature:ON},tap:{Feature:IN},focus:{Feature:RN},hover:{Feature:CN}},kN={layout:{ProjectionNode:ZA,MeasureLayout:HA}},BN={...A5,...LN,...wN,...kN},Be=qM(BN,n5);function zN(n){n.values.forEach(t=>t.stop())}function mg(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&zy(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{mg(u,t)})})}function UN(n,t){if(Array.isArray(t))return mg(n,t);if(typeof t=="string")return mg(n,[t]);zy(n,t)}function FN(){const n=new Set,t={subscribe(i){return n.add(i),()=>{n.delete(i)}},start(i,r){const o=[];return n.forEach(u=>{o.push(PA(u,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return n.forEach(r=>{UN(r,i)})},stop(){n.forEach(i=>{zN(i)})},mount(){return()=>{t.stop()}}};return t}function qN(){const n=Bh(FN);return cy(n.mount,[]),n}const JA=qN;class HN{play(t){}}const Tm=new HN,GN=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],YN=["S","H","D","C"],KN=n=>["10","J","Q","K"].includes(n)?0:n==="A"?1:parseInt(n),Mf=n=>n.reduce((i,r)=>i+r.val,0)%10,QN=n=>{var t=Math.sin(n++)*1e4;return t-Math.floor(t)},Z_=n=>{let t=[n(),n()],i=[n(),n()],r=Mf(t),o=Mf(i);if(r>=8||o>=8)return{pHand:t,bHand:i,pScore:r,bScore:o};let u=null;r<=5&&(u=n(),t.push(u),r=Mf(t));let c=!1;if(u===null)o<=5&&(c=!0);else{const d=u.val;(o<=2||o===3&&d!==8||o===4&&[2,3,4,5,6,7].includes(d)||o===5&&[4,5,6,7].includes(d)||o===6&&[6,7].includes(d))&&(c=!0)}return c&&(i.push(n()),o=Mf(i)),{pHand:t,bHand:i,pScore:r,bScore:o}},ei={getCurrentRoundInfo:()=>{const i=new Date("2025-01-01T00:00:00Z").getTime(),o=Date.now()-i,u=1e4+Math.floor(o/(75*1e3)),c=75*1e3-o%(75*1e3),d=Math.floor(c/1e3);return{round:u,timeLeft:d,isDrawingPhase:d<=15}},shuffleDeck:(n=null)=>{let t=[];for(let i=0;i<8;i++)YN.forEach(r=>{GN.forEach(o=>{t.push({rank:o,suit:r,val:KN(o)})})});for(let i=t.length-1;i>0;i--){const r=n?QN(n+i):Math.random(),o=Math.floor(r*(i+1));[t[i],t[o]]=[t[o],t[i]]}return t},generateBaccaratResult:(n=null)=>{let t,i,r=0;do{const o=ei.shuffleDeck();let u=0;if(t=Z_(()=>o[u++]),t.pScore>t.bScore?i="PLAYER":t.bScore>t.pScore?i="BANKER":i="TIE",r++,!n)break}while(i!==n&&r<500);return{...t,result:i}},generateDeterministicResult:n=>{const t=ei.shuffleDeck(n);let i=0;const o=Z_(()=>t[i++]);let u="TIE";o.pScore>o.bScore?u="PLAYER":o.bScore>o.pScore&&(u="BANKER");const y=new Date("2025-01-01T00:00:00Z").getTime()+(n-1e4)*75*1e3,v=new Date(y).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{...o,result:u,round:n,date:v}},getPastHistory:n=>{const t=[];for(let i=n-1;i>=n-50;i--)t.push(ei.generateDeterministicResult(i));return t},generateBigRoad:n=>{if(!n||!Array.isArray(n))return[];const t=[...n].sort((u,c)=>u.round-c.round),i=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(i.push(r),r=[c],o=c))}),r.length>0&&i.push(r),i.slice(-25)},generateBeadRoad:n=>n?[...n].sort((t,i)=>t.round-i.round).slice(-72):[],calculateStats:n=>{if(!n||!Array.isArray(n))return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=n.filter(c=>c.result),i=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:i,b:r,t:o,total:u,pRate:Math.round(i/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function tw(n,t,i,r){const o=F.useRef(!1),u=F.useRef(t),c=F.useRef(null),d=F.useRef(0);F.useEffect(()=>{u.current=t},[t]);const g=V=>{try{const j=localStorage.getItem(V);if(!j)return[];const P=JSON.parse(j);if(!Array.isArray(P))return[];const D=P.filter(At=>At&&typeof At.result=="string");return D.length!==P.length&&(console.warn(` [System] ${V}   ${P.length-D.length}  .`),localStorage.setItem(V,JSON.stringify(D))),D}catch(j){return console.error("  , .",j),[]}},[y,v]=F.useState([]),[b,S]=F.useState(()=>g(`event_my_history_${n?.id}`)),[M,k]=F.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,isSqueezing:!1,squeezeTarget:null}),[q,B]=F.useState(null),[Z,O]=F.useState(null),[H,Q]=F.useState("   !"),tt=F.useCallback(V=>{i&&(i(V),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[i,r]),et=V=>{c.current=V,B(V),V?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify(V)):localStorage.removeItem(`pending_bet_${n?.id}`)};F.useEffect(()=>{(()=>{const{round:j}=ei.getCurrentRoundInfo(),P=g("event_total_history");if(P.length===0||P[0]&&P[0].round<j-2){const D=ei.getPastHistory(j);v(D),localStorage.setItem("event_total_history",JSON.stringify(D))}else v(P)})()},[]);const w=F.useCallback(async V=>{if(o.current)return;o.current=!0,k(wt=>({...wt,isDrawing:!0,timeLeft:0,isSqueezing:!1})),Tm.play("draw");let j=null;try{const wt=await Ar(Le(Zt,"event_manipulation",String(V)));wt.exists()&&(j=wt.data().winner)}catch{}const P=ei.generateBaccaratResult(j),D=c.current;let At=null;D&&D.picks&&(D.picks.includes("BANKER")?At="BANKER":D.picks.includes("PLAYER")&&(At="PLAYER")),setTimeout(()=>{k(wt=>({...wt,gameResult:P})),At?setTimeout(()=>{k(wt=>({...wt,isSqueezing:!0,squeezeTarget:At}))},1e3):setTimeout(()=>A(V,P,D),2e3)},800)},[n?.id]),A=(V,j,P)=>{const{result:D,pHand:At,bHand:wt}=j,Y=At[0].rank===At[1].rank,I=wt[0].rank===wt[1].rank,U=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(v(ct=>{const gt={round:V,result:D,isPP:Y,isBP:I,date:U};if(ct.length>0&&ct[0].round===V)return ct;const N=[gt,...ct].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(N)),N}),P&&P.round===V){const{picks:ct,perAmount:gt,totalCost:N}=P;let W=0;ct.forEach(st=>{st==="PLAYER"&&D==="PLAYER"&&(W+=Math.floor(gt*2)),st==="BANKER"&&D==="BANKER"&&(W+=Math.floor(gt*1.95)),st==="TIE"&&D==="TIE"&&(W+=Math.floor(gt*8)),st==="P_PAIR"&&Y&&(W+=Math.floor(gt*11)),st==="B_PAIR"&&I&&(W+=Math.floor(gt*11)),D==="TIE"&&(st==="PLAYER"||st==="BANKER")&&(W+=gt)}),W>0&&tt(u.current+W),W>N?Tm.play("win"):W===0&&Tm.play("lose"),O({totalEarn:W,totalCost:N,result:D,isPP:Y,isBP:I,picks:ct}),S(st=>{const dt=[{round:V,picks:ct,result:D,isPP:Y,isBP:I,earn:W,cost:N,date:U},...st].slice(0,50);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(dt)),dt})}k(ct=>({...ct,isSqueezing:!1})),setTimeout(()=>{et(null),k(ct=>({...ct,gameResult:null,isDrawing:!1})),o.current=!1},4e3)},R=()=>A(M.round,M.gameResult,c.current);return F.useEffect(()=>{const j=setInterval(()=>{const{round:P,timeLeft:D,isDrawingPhase:At}=ei.getCurrentRoundInfo();d.current!==0&&P>d.current&&!o.current&&w(d.current),d.current=P,k(wt=>o.current?wt:{...wt,round:P,timeLeft:D,isDrawing:At})},1e3);return()=>clearInterval(j)},[w]),{gameState:M,onSqueezeComplete:R,totalHistory:y,myHistory:b,myPendingBet:q,setMyPendingBet:et,showResult:Z,setShowResult:O,liveNoti:H,updatePointWithAnim:tt}}const ph=({type:n,amount:t})=>{const i=n.includes("PLAYER")||n==="P_PAIR"?"#4d94ff":n.includes("BANKER")||n==="B_PAIR"?"#ff4d4d":"#00e676";return p.jsx(Be.div,{initial:{scale:2,opacity:0,y:-100,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:200,damping:10},style:{width:"40px",height:"40px",borderRadius:"50%",border:"4px dashed white",backgroundColor:i,boxShadow:"0 5px 15px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:20,bottom:"10px",right:"10px"},children:p.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",fontWeight:"900",color:"#fff"},children:"CHIP"})})},Nf=({rank:n,suit:t,index:i,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t],d=r?300:-300;return p.jsxs(Be.div,{initial:{x:d,y:-400,scale:.5,rotate:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:i*.2,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"50px",height:"75px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"22px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontSize:"12px",position:"absolute",top:"2px",left:"4px"},children:n}),p.jsx("span",{style:{fontSize:"28px"},children:c}),p.jsx("span",{style:{fontSize:"12px",position:"absolute",bottom:"2px",right:"4px",transform:"rotate(180deg)"},children:n})]}),o&&p.jsx("div",{style:{width:"36px",height:"60px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},ew=({cards:n,targetName:t,onComplete:i})=>{const[r,o]=F.useState([!1,!1]),u=(c,d)=>{if(d.offset.y>100){const g=[...r];g[c]=!0,o(g),g[0]&&g[1]&&setTimeout(i,800)}};return p.jsxs(Be.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[p.jsxs("h2",{style:{color:"#fff",fontSize:"24px",marginBottom:"30px",fontWeight:"900",letterSpacing:"2px"},children:[p.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),p.jsx("div",{style:{display:"flex",gap:"30px"},children:n.slice(0,2).map((c,d)=>p.jsxs("div",{style:{position:"relative",width:"140px",height:"210px"},children:[p.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:c.suit==="H"||c.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[p.jsx("div",{children:c.suit==="S"?"":c.suit==="H"?"":c.suit==="D"?"":""}),p.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:c.rank})]}),p.jsx(Be.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,onDragEnd:(g,y)=>u(d,y),animate:r[d]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:p.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},d))}),p.jsx("div",{style:{marginTop:"30px",color:"#888",fontSize:"13px"},children:"    (5 )"})]})},nw=({round:n,timeLeft:t,isDrawing:i,gameResult:r,gameStep:o,isSqueezing:u})=>p.jsxs(Be.div,{style:{...Ro.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden",position:"relative"},children:[p.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),p.jsxs("div",{style:{...Ro.bannerContent,zIndex:10},children:[p.jsxs("div",{style:Ro.bannerTop,children:[p.jsx("div",{style:{...Ro.liveBadge,background:i?"#ff3b30":"#00e676",color:"#fff"},children:i?"DEALING":"BETTING OPEN"}),p.jsxs("span",{style:{...Ro.roundInfo,color:"#8fbc8f",marginLeft:"8px"},children:["Rd. ",n]})]}),p.jsx("div",{style:{...Ro.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:i&&r?p.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[p.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.pHand.slice(0,2).map((c,d)=>p.jsx(Nf,{...c,index:d,isPlayer:!0,hidden:u&&d>=0},`p-${d}`)),o>=3&&r.pHand[2]&&p.jsx(Nf,{...r.pHand[2],index:2,isPlayer:!0})]}),!u&&p.jsx(Be.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),p.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[p.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.bHand.slice(0,2).map((c,d)=>p.jsx(Nf,{...c,index:d+.2,isPlayer:!1,hidden:u&&d>=0},`b-${d}`)),o>=3&&r.bHand[2]&&p.jsx(Nf,{...r.bHand[2],index:2.2,isPlayer:!1})]}),!u&&p.jsx(Be.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):p.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:p.jsx("h2",{style:{fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace",fontWeight:"900"},children:t})})})]})]}),iw=({beadRoad:n,bigRoad:t,stats:i})=>p.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[p.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[p.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",i.p," (",i.pRate,"%)"]}),p.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",i.b," (",i.bRate,"%)"]}),p.jsxs("div",{style:{color:"#00e676"},children:["T: ",i.t," (",i.tRate,"%)"]}),p.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",i.total]})]}),p.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[p.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:t.map((r,o)=>p.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>p.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},`res-${o}-${c}`))},`col-${o}`))}),p.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=n[n.length-36+o];return p.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&p.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},`bead-${o}`)})})]})]}),Ro={eventBanner:{borderRadius:"28px",padding:"20px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"220px"},bannerContent:{position:"relative",width:"100%",height:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},liveBadge:{fontSize:"10px",fontWeight:"900",padding:"4px 10px",borderRadius:"4px"},roundInfo:{fontSize:"12px"},timerDisplay:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},J_=[{id:"P_PAIR",name:"P.PAIR",label:"x11",color:"#4d94ff",type:"sub",desc:" "},{id:"TIE",name:"TIE",label:"x8",color:"#00e676",type:"sub",desc:""},{id:"B_PAIR",name:"B.PAIR",label:"x11",color:"#ff4d4d",type:"sub",desc:" "},{id:"PLAYER",name:"PLAYER",label:"x2.0",color:"#4d94ff",type:"main",desc:" "},{id:"BANKER",name:"BANKER",label:"x1.95",color:"#ff4d4d",type:"main",desc:" "}];function WN({user:n,userPoint:t=0,confirmedImage:i,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const d=JA(),[g,y]=F.useState(t),v=F.useRef(null),{gameState:b,gameStep:S,onSqueezeComplete:M,totalHistory:k,myHistory:q,myPendingBet:B,setMyPendingBet:Z,showResult:O,setShowResult:H,liveNoti:Q,updatePointWithAnim:tt}=tw(n,t,u,d),et=F.useMemo(()=>({bigRoad:ei.generateBigRoad(k),beadRoad:ei.generateBeadRoad(k),stats:ei.calculateStats(k)}),[k]),[w,A]=F.useState([]),[R,V]=F.useState(""),[j,P]=F.useState("mine");F.useEffect(()=>{y(t)},[t]),F.useEffect(()=>{const I=U=>{n&&U.detail&&U.detail.userId===n.id&&(y(U.detail.point),tt(U.detail.point))};return window.addEventListener("user_point_update",I),()=>window.removeEventListener("user_point_update",I)},[n,tt]);const D=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],At=F.useMemo(()=>{if(i)return i;const I=r||0;return`https://api.dicebear.com/7.x/${D[I]}/svg?seed=${n?.id}_${I}&backgroundColor=2a2a2e`},[i,r,n?.id]),wt=I=>{B||A(U=>U.includes(I)?U.filter(ct=>ct!==I):[...U,I])},Y=async()=>{if(w.length===0)return alert("  .");const I=parseInt(R);if(!I||I<=0)return alert(" .");const U=I*w.length;if(U>g)return alert(`  . (: ${U.toLocaleString()})`);const ct=g-U;y(ct),tt(ct);const gt={round:b.round,picks:w,perAmount:I,totalCost:U};Z(gt);try{await Xo(Bn(Zt,"event_bets"),{round:b.round,userId:n.id,betAmount:U,picks:w,timestamp:new Date().toISOString()})}catch(N){console.error("Firebase Error",N)}A([]),V("")};return p.jsxs("div",{style:It.screenContainer,children:[p.jsxs("div",{style:It.fixedHeader,children:[p.jsxs("div",{style:It.navLeft,onClick:o,children:[p.jsx("span",{style:It.backBtn,children:""}),p.jsx("span",{style:It.navTitle,children:"ROYAL BACCARAT"})]}),p.jsxs("div",{style:It.navRight,children:[p.jsxs(Be.div,{animate:d,style:It.pointBadge,children:[p.jsx("span",{style:It.coinIcon,children:""}),p.jsx("span",{style:It.headerPoint,children:g.toLocaleString()})]}),p.jsx("div",{style:It.profileCircle,children:p.jsx("img",{src:At,alt:"profile",style:It.profileImg})})]})]}),p.jsxs("div",{style:It.scrollBody,ref:v,children:[p.jsx("div",{style:It.liveTicker,children:p.jsxs(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:It.tickerText,children:[" ",Q]},Q)}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(nw,{round:b.round,timeLeft:b.timeLeft,isDrawing:b.isDrawing,gameResult:b.gameResult,gameStep:S,isSqueezing:b.isSqueezing}),p.jsx(Fo,{children:b.isSqueezing&&b.gameResult&&p.jsx(ew,{targetName:b.squeezeTarget,cards:b.squeezeTarget==="PLAYER"?b.gameResult.pHand:b.gameResult.bHand,onComplete:M})})]}),p.jsx(iw,{...et}),p.jsxs("div",{style:It.sectionLabel,children:[p.jsx("span",{style:It.labelBar})," MULTI BETTING ZONE"]}),p.jsxs("div",{style:It.baccaratGrid,children:[p.jsx("div",{style:It.rowTop,children:J_.filter(I=>I.type==="sub").map(I=>{const U=w.includes(I.id),ct=B&&B.picks&&B.picks.includes(I.id);return p.jsxs(Be.div,{whileTap:{scale:.95},onClick:()=>wt(I.id),style:{...It.zoneCardSmall,border:U?`2px solid ${I.color}`:"1px solid #333",background:U?`linear-gradient(180deg, ${I.color}22, #111)`:"#161616",opacity:B&&!ct?.3:1},children:[p.jsx("div",{style:{color:I.color,fontSize:"13px",fontWeight:"900"},children:I.name}),p.jsx("div",{style:{color:"#fff",fontSize:"10px",marginTop:"2px"},children:I.label}),U&&!B&&p.jsx("div",{style:{...It.checkBadge,background:I.color},children:""}),ct&&p.jsx(ph,{type:I.id})]},I.id)})}),p.jsx("div",{style:It.rowBottom,children:J_.filter(I=>I.type==="main").map(I=>{const U=w.includes(I.id),ct=B&&B.picks&&B.picks.includes(I.id);return p.jsxs(Be.div,{whileTap:{scale:.95},onClick:()=>wt(I.id),style:{...It.zoneCardBig,border:U?`2px solid ${I.color}`:"1px solid #333",background:U?`linear-gradient(180deg, ${I.color}22, #111)`:"#161616",opacity:B&&!ct?.3:1},children:[p.jsx("div",{style:{color:I.color,fontSize:"28px",fontWeight:"900"},children:I.name[0]}),p.jsx("div",{style:{color:I.color,fontSize:"14px",fontWeight:"bold",marginTop:"-5px"},children:I.name}),p.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"5px"},children:I.desc}),U&&!B&&p.jsx("div",{style:{...It.checkBadge,background:I.color},children:""}),ct&&p.jsx(ph,{type:I.id})]},I.id)})})]}),p.jsxs("div",{style:It.tabSection,children:[p.jsxs("div",{style:It.tabHeader,children:[p.jsx("button",{style:{...It.tabBtn,color:j==="mine"?"#fff":"#666",borderBottom:j==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>P("mine"),children:" "}),p.jsx("button",{style:{...It.tabBtn,color:j==="total"?"#fff":"#666",borderBottom:j==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>P("total"),children:""})]}),p.jsxs("div",{style:It.tabContent,children:[j==="mine"&&q.slice(0,30).map((I,U)=>p.jsxs("div",{style:{...It.histItem,flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"12px",color:"#666"},children:[p.jsxs("span",{style:It.histRound,children:["No. ",I.round]}),p.jsx("span",{style:It.histDate,children:I.date})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[p.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Picks: ",p.jsx("b",{style:{color:"#fff"},children:I.picks?I.picks.join(", "):I.pick})]}),p.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Result: ",p.jsxs("b",{style:{color:"#fff"},children:[I.result," ",I.isPP&&"(PP)"," ",I.isBP&&"(BP)"]})]})]}),p.jsx("div",{style:It.histRight,children:p.jsx("div",{style:{...It.histEarn,color:I.earn>0?"#34D399":I.earn===0?"#fff":"#FB7185"},children:I.earn>0?`+${I.earn.toLocaleString()}`:I.earn===0?"REFUND":`-${I.cost.toLocaleString()}`})})]})]},`my-${U}`)),j==="total"&&k.slice(0,30).map((I,U)=>p.jsxs("div",{style:It.histItem,children:[p.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[I.round,""]}),p.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:I.result==="PLAYER"?"#4d94ff":I.result==="BANKER"?"#ff4d4d":"#00e676"},children:[I.result," ",I.isPP&&p.jsx("small",{style:{color:"#4d94ff",fontSize:"9px"},children:"PP"})," ",I.isBP&&p.jsx("small",{style:{color:"#ff4d4d",fontSize:"9px"},children:"BP"})]})]},`tot-${U}`)),(j==="mine"?q:k).length===0&&p.jsx("div",{style:It.emptyText,children:" ."})]})]})]}),p.jsx(Fo,{children:(w.length>0||B)&&p.jsx(Be.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:It.bottomPanel,children:B?p.jsxs("div",{style:It.pendingContainer,children:[p.jsxs("div",{style:It.pendingInfo,children:[p.jsxs("div",{style:It.pendingTitle,children:[b.round," "]}),p.jsxs("div",{style:It.pendingDetail,children:[p.jsxs("b",{style:{color:"#fff"},children:[B.picks?B.picks.length:1," "]}),"  ",B.totalCost.toLocaleString()," DIA "]})]}),b.timeLeft>10&&p.jsx("button",{style:It.cancelBtn,onClick:()=>{const I=g+B.totalCost;y(I),tt(I),Z(null)},children:""})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:It.panelTop,children:[p.jsxs("span",{style:It.selectionText,children:[": ",p.jsxs("b",{style:{color:"#fff"},children:[w.length," "]})]}),p.jsx("button",{style:It.clearBtn,onClick:()=>A([]),children:""})]}),p.jsx("div",{style:It.amountPresets,children:["10%","50%","MAX","CLEAR"].map(I=>p.jsx("button",{onClick:()=>{if(I==="CLEAR")V("");else{let U=I==="10%"?Math.floor(g*.1):I==="50%"?Math.floor(g*.5):g;V(U>0?U.toString():"")}},style:It.presetBtn,children:I},I))}),p.jsxs("div",{style:It.betInputGroup,children:[p.jsx("input",{type:"number",value:R,onChange:I=>V(I.target.value),style:It.mainInput,placeholder:"  "}),p.jsx("button",{style:It.finalBtn,onClick:Y,disabled:!R,children:R?`${(parseInt(R)*w.length).toLocaleString()} BET`:"BET"})]})]})})}),p.jsx(Fo,{children:O&&p.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:It.modalOverlay,onClick:()=>H(null),children:p.jsxs(Be.div,{initial:{scale:.8},animate:{scale:1},style:It.modalCard,onClick:I=>I.stopPropagation(),children:[p.jsx("div",{style:{...It.modalTitle,color:O.totalEarn>0?"#ffd700":"#fff",fontSize:"32px",marginBottom:"10px"},children:O.totalEarn>0?"WIN!":"LOSE"}),p.jsxs("div",{style:{fontSize:"20px",margin:"20px 0",fontWeight:"bold",color:"#fff"},children:[O.result," ",p.jsxs("div",{style:{fontSize:"12px",marginTop:"5px",color:"#aaa"},children:[O.isPP&&p.jsx("span",{style:{color:"#4d94ff",marginRight:"5px"},children:"Player Pair!"}),O.isBP&&p.jsx("span",{style:{color:"#ff4d4d"},children:"Banker Pair!"})]})]}),p.jsxs("div",{style:It.modalInfoBox,children:[p.jsxs("div",{children:[" : ",O.totalCost.toLocaleString()]}),p.jsxs("div",{children:[" : ",O.totalEarn.toLocaleString()]})]}),p.jsxs("div",{style:{...It.modalAmount,color:O.totalEarn>0?"#34D399":"#fff"},children:[O.totalEarn>0?"+":"",(O.totalEarn-O.totalCost).toLocaleString()," DIA"]}),p.jsx("button",{style:It.modalCloseBtn,onClick:()=>H(null),children:""})]})})})]})}const It={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:10,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"25px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},baccaratGrid:{display:"flex",flexDirection:"column",gap:"10px"},rowTop:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",height:"90px"},rowBottom:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",height:"150px"},zoneCardSmall:{borderRadius:"14px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},zoneCardBig:{borderRadius:"18px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},checkBadge:{position:"absolute",top:8,right:8,width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"900",zIndex:2},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDate:{fontSize:"11px",color:"#444"},histRight:{textAlign:"right"},histEarn:{fontSize:"15px",fontWeight:"900"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"fixed",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},panelTop:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"center"},selectionText:{fontSize:"13px",color:"#888"},clearBtn:{background:"none",border:"none",color:"#ff3b30",fontSize:"13px",fontWeight:"700"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},pendingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},pendingInfo:{display:"flex",flexDirection:"column",gap:"4px"},pendingTitle:{fontSize:"15px",fontWeight:"900",color:"#ffb347"},pendingDetail:{fontSize:"12px",color:"#888"},cancelBtn:{background:"#ff3b30",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:"900",fontSize:"13px"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"24px",fontWeight:"900"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"13px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}};function XN({filteredMembers:n,regions:t,selectedRegion:i,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[d,g]=F.useState(null),[y,v]=F.useState(null);F.useEffect(()=>{o&&(g(o),window.history.pushState({isDetail:!0},""))},[o]),F.useEffect(()=>{const O=()=>{y?v(null):d&&S()};return window.addEventListener("popstate",O),()=>window.removeEventListener("popstate",O)},[y,d]);const b=(O,H)=>{v({type:O,url:H}),window.history.pushState({isFull:!0},"")},S=()=>{g(null),u&&u()},M=O=>O&&(O.includes("/video/upload/")||O.match(/\.(mp4|webm|mov|avi)$/i)),k={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},q=c.home==="",B=O=>q?O:k[O]||O,Z=O=>{const H=q?[`${O}        .`,`     ${O}  .`,`      ${O} .`]:[`${O} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${O}, who boasts a visual perfected through thorough self-management.`,`${O} promises a comfortable time with bright energy and consideration.`];let Q=(O||"").split("").reduce((tt,et)=>tt+et.charCodeAt(0),0);return H[Q%H.length]};return p.jsxs("div",{style:Pt.container,children:[p.jsx("div",{style:Pt.filterWrapper,children:p.jsx("div",{style:Pt.filterScroll,children:t.map(O=>p.jsx("div",{onClick:()=>r(O),style:{...Pt.filterItem,color:i===O?"#000":"#888",background:i===O?"#FFD700":"transparent",borderColor:i===O?"#FFD700":"#333"},children:B(O)},O))})}),p.jsx("div",{style:Pt.grid,children:n.map((O,H)=>p.jsxs("div",{style:Pt.card,onClick:()=>{g(O),window.history.pushState({isDetail:!0},"")},children:[p.jsxs("div",{style:Pt.cardImgWrap,children:[p.jsx("img",{src:O.img,style:Pt.cardImg,alt:O.name}),p.jsx("div",{style:Pt.cardOverlay}),p.jsx("div",{style:Pt.cardBadge,children:"PREMIUM"})]}),p.jsxs("div",{style:Pt.cardInfo,children:[p.jsx("div",{style:Pt.cardName,children:O.name}),p.jsxs("div",{style:Pt.cardSpecs,children:[B(O.loc||O.region||(q?"":"LOC")),"  ",O.age?`${O.age}${q?"":""}`:q?"20":"20s"]}),p.jsxs("div",{style:{...Pt.cardSpecs,marginTop:"4px"},children:[O.height?O.height+"cm":"cm","  ",O.bust||O.size||"Size"]})]})]},H))}),d&&p.jsx("div",{style:Pt.modalOverlay,onClick:S,children:p.jsxs("div",{style:Pt.modalContent,onClick:O=>O.stopPropagation(),children:[p.jsxs("div",{style:Pt.modalImageWrap,onClick:()=>b("img",d.img),children:[p.jsx("img",{src:d.img,style:Pt.modalActualImg,alt:""}),p.jsxs("div",{style:Pt.luxTag,children:[" ",q?" ":"CLICK TO ZOOM"]})]}),p.jsxs("div",{style:Pt.modalBody,children:[p.jsx("h2",{style:Pt.modalName,children:d.name}),p.jsxs("div",{style:Pt.specGrid,children:[p.jsxs("div",{style:Pt.specItem,children:["LOC",p.jsx("br",{}),p.jsx("b",{style:Pt.specVal,children:B(d.loc||d.region||(q?"":"TBA"))})]}),p.jsxs("div",{style:Pt.specItem,children:["AGE",p.jsx("br",{}),p.jsx("b",{style:Pt.specVal,children:d.age?`${d.age}${q?"":""}`:"20s"})]}),p.jsxs("div",{style:Pt.specItem,children:["HEIGHT",p.jsx("br",{}),p.jsx("b",{style:Pt.specVal,children:d.height?d.height+"cm":"cm"})]}),p.jsxs("div",{style:Pt.specItem,children:["WEIGHT",p.jsx("br",{}),p.jsx("b",{style:Pt.specVal,children:d.weight?d.weight+"kg":"kg"})]}),p.jsxs("div",{style:Pt.specItem,children:["SIZE",p.jsx("br",{}),p.jsx("b",{style:Pt.specVal,children:d.bust||d.size||"Size"})]})]}),p.jsxs("div",{style:Pt.introBox,children:[p.jsx("div",{style:Pt.introTitle,children:"INTRO"}),p.jsx("p",{style:Pt.introText,children:d.desc||Z(d.name)})]}),(d.video||M(d.img))&&p.jsxs("div",{style:Pt.videoArea,onClick:()=>b("video",d.video||d.img),children:[p.jsxs("div",{style:Pt.introTitle,children:["PRIVATE MOVIE (",q?" ":"CLICK TO ENLARGE",")"]}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx("video",{src:d.video||d.img,style:Pt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),p.jsxs("div",{style:Pt.videoOverlay,children:[" ",q?" ":"TAP TO FULL VIEW"]})]})]}),p.jsx("button",{style:Pt.closeBtn,onClick:S,children:q?"":"CLOSE"})]})]})}),y&&p.jsxs("div",{id:"full-screen-view",style:Pt.fullScreenOverlay,onClick:()=>v(null),children:[p.jsxs("button",{style:Pt.fullScreenClose,onClick:()=>v(null),children:[" ",q?"":"CLOSE"]}),p.jsx("div",{style:Pt.fullScreenContent,onClick:O=>O.stopPropagation(),children:y.type==="video"?p.jsx("video",{src:y.url,style:Pt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):p.jsx("img",{src:y.url,style:Pt.fullMedia,alt:""})})]})]})}const Pt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function $N({videoCategories:n=[],selectedCategory:t,setSelectedCategory:i,filteredVideos:r=[],t:o}){const[u,c]=F.useState(null),[d,g]=F.useState(1),y=10,v=o.home==="",b={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},S=Q=>v?Q:b[Q]||Q;F.useEffect(()=>{g(1)},[t]);const M=d*y,k=M-y,q=r.slice(k,M),B=Math.ceil(r.length/y),Z=t==="ALL";F.useEffect(()=>{const Q=()=>{u&&c(null)};return window.addEventListener("popstate",Q),()=>window.removeEventListener("popstate",Q)},[u]);const O=Q=>{c(Q),window.history.pushState({isFullVideo:!0},"")},H=()=>{c(null)};return p.jsxs("div",{style:Qe.pagePadding,children:[p.jsx("h2",{style:Qe.tabDisplayTitle,children:v?" ":"PREMIUM GALLERY"}),p.jsxs("div",{style:Qe.videoCategoryBar,children:[p.jsxs("span",{onClick:()=>i("ALL"),style:{...Qe.videoCatItem,color:Z?"#ffb347":"#555",borderBottom:Z?"2px solid #ffb347":"2px solid transparent"},children:[" ",S("ALL")," "]}),n.map(Q=>p.jsxs("span",{onClick:()=>i(Q),style:{...Qe.videoCatItem,color:t===Q?"#ffb347":"#555",borderBottom:t===Q?"2px solid #ffb347":"2px solid transparent"},children:[" ",S(Q)," "]},Q))]}),p.jsx("div",{style:Qe.videoGrid,children:q.length>0?q.map(Q=>p.jsxs("div",{style:Qe.videoCard,onClick:()=>O(Q.url),children:[p.jsxs("div",{style:Qe.videoWrapper,children:[p.jsx("video",{src:Q.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:Qe.videoEl,poster:Q.poster||""}),p.jsxs("div",{style:Qe.playOverlay,children:[" ",v?"":"FULL VIEW"]})]}),p.jsxs("div",{style:Qe.videoDesc,children:[p.jsx("span",{style:Qe.descBadge,children:"EXCLUSIVE"}),p.jsx("p",{style:Qe.descText,children:Q.description||(v?` ${Q.category} `:`PREMIUM ${S(Q.category)} SHOW`)})]})]},Q.id)):p.jsx("div",{style:Qe.noData,children:v?"    .":"Videos in this category are coming soon."})}),B>1&&p.jsx("div",{style:Qe.pagination,children:Array.from({length:B},(Q,tt)=>tt+1).map(Q=>p.jsxs("button",{onClick:()=>{g(Q),window.scrollTo(0,0)},style:{...Qe.pageBtn,background:d===Q?"#ffb347":"#1a1a1a",color:d===Q?"#000":"#888"},children:[" ",Q," "]},Q))}),u&&p.jsxs("div",{id:"full-screen-view",style:Qe.fullOverlay,onClick:H,children:[p.jsxs("button",{style:Qe.closeFull,onClick:H,children:[" ",v?"":"CLOSE"]}),p.jsx("div",{style:Qe.fullContent,onClick:Q=>Q.stopPropagation(),children:p.jsx("video",{src:u,style:Qe.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const Qe={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},tT=[{id:"P_PAIR",name:"P.PAIR",label:"x11",color:"#4d94ff",type:"sub",desc:" "},{id:"TIE",name:"TIE",label:"x8",color:"#00e676",type:"sub",desc:""},{id:"B_PAIR",name:"B.PAIR",label:"x11",color:"#ff4d4d",type:"sub",desc:" "},{id:"PLAYER",name:"PLAYER",label:"x2.0",color:"#4d94ff",type:"main",desc:" "},{id:"BANKER",name:"BANKER",label:"x1.95",color:"#ff4d4d",type:"main",desc:" "}];function sw({user:n,userPoint:t=0,confirmedImage:i,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const d=JA(),[g,y]=F.useState(t),v=F.useRef(null),{gameState:b,gameStep:S,onSqueezeComplete:M,totalHistory:k,myHistory:q,myPendingBet:B,setMyPendingBet:Z,showResult:O,setShowResult:H,liveNoti:Q,updatePointWithAnim:tt}=tw(n,t,u,d),et=F.useMemo(()=>({bigRoad:ei.generateBigRoad(k),beadRoad:ei.generateBeadRoad(k),stats:ei.calculateStats(k)}),[k]),[w,A]=F.useState([]),[R,V]=F.useState(""),[j,P]=F.useState("mine");F.useEffect(()=>{y(t)},[t]),F.useEffect(()=>{const I=U=>{n&&U.detail&&U.detail.userId===n.id&&(y(U.detail.point),tt(U.detail.point))};return window.addEventListener("user_point_update",I),()=>window.removeEventListener("user_point_update",I)},[n,tt]);const D=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],At=F.useMemo(()=>{if(i)return i;const I=r||0;return`https://api.dicebear.com/7.x/${D[I]}/svg?seed=${n?.id}_${I}&backgroundColor=2a2a2e`},[i,r,n?.id]),wt=I=>{B||A(U=>U.includes(I)?U.filter(ct=>ct!==I):[...U,I])},Y=async()=>{if(w.length===0)return alert("  .");const I=parseInt(R);if(!I||I<=0)return alert(" .");const U=I*w.length;if(U>g)return alert(`  . (: ${U.toLocaleString()})`);const ct=g-U;y(ct),tt(ct);const gt={round:b.round,picks:w,perAmount:I,totalCost:U};Z(gt);try{await Xo(Bn(Zt,"event_bets"),{round:b.round,userId:n.id,betAmount:U,picks:w,timestamp:new Date().toISOString()})}catch(N){console.error("Firebase Error",N)}A([]),V("")};return p.jsxs("div",{style:Dt.screenContainer,children:[p.jsxs("div",{style:Dt.fixedHeader,children:[p.jsxs("div",{style:Dt.navLeft,onClick:o,children:[p.jsx("span",{style:Dt.backBtn,children:""}),p.jsx("span",{style:Dt.navTitle,children:"ROYAL BACCARAT"})]}),p.jsxs("div",{style:Dt.navRight,children:[p.jsxs(Be.div,{animate:d,style:Dt.pointBadge,children:[p.jsx("span",{style:Dt.coinIcon,children:""}),p.jsx("span",{style:Dt.headerPoint,children:g.toLocaleString()})]}),p.jsx("div",{style:Dt.profileCircle,children:p.jsx("img",{src:At,alt:"profile",style:Dt.profileImg})})]})]}),p.jsxs("div",{style:Dt.scrollBody,ref:v,children:[p.jsx("div",{style:Dt.liveTicker,children:p.jsxs(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:Dt.tickerText,children:[" ",Q]},Q)}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(nw,{round:b.round,timeLeft:b.timeLeft,isDrawing:b.isDrawing,gameResult:b.gameResult,gameStep:S,isSqueezing:b.isSqueezing}),p.jsx(Fo,{children:b.isSqueezing&&b.gameResult&&p.jsx(ew,{targetName:b.squeezeTarget,cards:b.squeezeTarget==="PLAYER"?b.gameResult.pHand:b.gameResult.bHand,onComplete:M})})]}),p.jsx(iw,{...et}),p.jsxs("div",{style:Dt.sectionLabel,children:[p.jsx("span",{style:Dt.labelBar})," MULTI BETTING ZONE"]}),p.jsxs("div",{style:Dt.baccaratGrid,children:[p.jsx("div",{style:Dt.rowTop,children:tT.filter(I=>I.type==="sub").map(I=>{const U=w.includes(I.id),ct=B&&B.picks.includes(I.id);return p.jsxs(Be.div,{whileTap:{scale:.95},onClick:()=>wt(I.id),style:{...Dt.zoneCardSmall,border:U?`2px solid ${I.color}`:"1px solid #333",background:U?`linear-gradient(180deg, ${I.color}22, #111)`:"#161616",opacity:B&&!ct?.3:1},children:[p.jsx("div",{style:{color:I.color,fontSize:"13px",fontWeight:"900"},children:I.name}),p.jsx("div",{style:{color:"#fff",fontSize:"10px",marginTop:"2px"},children:I.label}),U&&!B&&p.jsx("div",{style:{...Dt.checkBadge,background:I.color},children:""}),ct&&p.jsx(ph,{type:I.id})]},I.id)})}),p.jsx("div",{style:Dt.rowBottom,children:tT.filter(I=>I.type==="main").map(I=>{const U=w.includes(I.id),ct=B&&B.picks.includes(I.id);return p.jsxs(Be.div,{whileTap:{scale:.95},onClick:()=>wt(I.id),style:{...Dt.zoneCardBig,border:U?`2px solid ${I.color}`:"1px solid #333",background:U?`linear-gradient(180deg, ${I.color}22, #111)`:"#161616",opacity:B&&!ct?.3:1},children:[p.jsx("div",{style:{color:I.color,fontSize:"28px",fontWeight:"900"},children:I.name[0]}),p.jsx("div",{style:{color:I.color,fontSize:"14px",fontWeight:"bold",marginTop:"-5px"},children:I.name}),p.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"5px"},children:I.desc}),U&&!B&&p.jsx("div",{style:{...Dt.checkBadge,background:I.color},children:""}),ct&&p.jsx(ph,{type:I.id})]},I.id)})})]}),p.jsxs("div",{style:Dt.tabSection,children:[p.jsxs("div",{style:Dt.tabHeader,children:[p.jsx("button",{style:{...Dt.tabBtn,color:j==="mine"?"#fff":"#666",borderBottom:j==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>P("mine"),children:" "}),p.jsx("button",{style:{...Dt.tabBtn,color:j==="total"?"#fff":"#666",borderBottom:j==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>P("total"),children:""})]}),p.jsxs("div",{style:Dt.tabContent,children:[j==="mine"&&q.slice(0,30).map((I,U)=>p.jsxs("div",{style:{...Dt.histItem,flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"12px",color:"#666"},children:[p.jsxs("span",{style:Dt.histRound,children:["No. ",I.round]}),p.jsx("span",{style:Dt.histDate,children:I.date})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[p.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Picks: ",p.jsx("b",{style:{color:"#fff"},children:I.picks?I.picks.join(", "):I.pick})]}),p.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["Result: ",p.jsxs("b",{style:{color:"#fff"},children:[I.result," ",I.isPP&&"(PP)"," ",I.isBP&&"(BP)"]})]})]}),p.jsx("div",{style:Dt.histRight,children:p.jsx("div",{style:{...Dt.histEarn,color:I.earn>0?"#34D399":I.earn===0?"#fff":"#FB7185"},children:I.earn>0?`+${I.earn.toLocaleString()}`:I.earn===0?"REFUND":`-${I.cost.toLocaleString()}`})})]})]},`my-${U}`)),j==="total"&&k.slice(0,30).map((I,U)=>p.jsxs("div",{style:Dt.histItem,children:[p.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[I.round,""]}),p.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:I.result==="PLAYER"?"#4d94ff":I.result==="BANKER"?"#ff4d4d":"#00e676"},children:[I.result," ",I.isPP&&p.jsx("small",{style:{color:"#4d94ff",fontSize:"9px"},children:"PP"})," ",I.isBP&&p.jsx("small",{style:{color:"#ff4d4d",fontSize:"9px"},children:"BP"})]})]},`tot-${U}`)),(j==="mine"?q:k).length===0&&p.jsx("div",{style:Dt.emptyText,children:" ."})]})]})]}),p.jsx(Fo,{children:(w.length>0||B)&&p.jsx(Be.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:Dt.bottomPanel,children:B?p.jsxs("div",{style:Dt.pendingContainer,children:[p.jsxs("div",{style:Dt.pendingInfo,children:[p.jsxs("div",{style:Dt.pendingTitle,children:[b.round," "]}),p.jsxs("div",{style:Dt.pendingDetail,children:[p.jsxs("b",{style:{color:"#fff"},children:[B.picks.length," "]}),"  ",B.totalCost.toLocaleString()," DIA "]})]}),b.timeLeft>10&&p.jsx("button",{style:Dt.cancelBtn,onClick:()=>{const I=g+B.totalCost;y(I),tt(I),Z(null)},children:""})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:Dt.panelTop,children:[p.jsxs("span",{style:Dt.selectionText,children:[": ",p.jsxs("b",{style:{color:"#fff"},children:[w.length," "]})]}),p.jsx("button",{style:Dt.clearBtn,onClick:()=>A([]),children:""})]}),p.jsx("div",{style:Dt.amountPresets,children:["10%","50%","MAX","CLEAR"].map(I=>p.jsx("button",{onClick:()=>{if(I==="CLEAR")V("");else{let U=I==="10%"?Math.floor(g*.1):I==="50%"?Math.floor(g*.5):g;V(U>0?U.toString():"")}},style:Dt.presetBtn,children:I},I))}),p.jsxs("div",{style:Dt.betInputGroup,children:[p.jsx("input",{type:"number",value:R,onChange:I=>V(I.target.value),style:Dt.mainInput,placeholder:"  "}),p.jsx("button",{style:Dt.finalBtn,onClick:Y,disabled:!R,children:R?`${(parseInt(R)*w.length).toLocaleString()} BET`:"BET"})]})]})})}),p.jsx(Fo,{children:O&&p.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:Dt.modalOverlay,onClick:()=>H(null),children:p.jsxs(Be.div,{initial:{scale:.8},animate:{scale:1},style:Dt.modalCard,onClick:I=>I.stopPropagation(),children:[p.jsx("div",{style:{...Dt.modalTitle,color:O.totalEarn>0?"#ffd700":"#fff",fontSize:"32px",marginBottom:"10px"},children:O.totalEarn>0?"WIN!":"LOSE"}),p.jsxs("div",{style:{fontSize:"20px",margin:"20px 0",fontWeight:"bold",color:"#fff"},children:[O.result," ",p.jsxs("div",{style:{fontSize:"12px",marginTop:"5px",color:"#aaa"},children:[O.isPP&&p.jsx("span",{style:{color:"#4d94ff",marginRight:"5px"},children:"Player Pair!"}),O.isBP&&p.jsx("span",{style:{color:"#ff4d4d"},children:"Banker Pair!"})]})]}),p.jsxs("div",{style:Dt.modalInfoBox,children:[p.jsxs("div",{children:[" : ",O.totalCost.toLocaleString()]}),p.jsxs("div",{children:[" : ",O.totalEarn.toLocaleString()]})]}),p.jsxs("div",{style:{...Dt.modalAmount,color:O.totalEarn>0?"#34D399":"#fff"},children:[O.totalEarn>0?"+":"",(O.totalEarn-O.totalCost).toLocaleString()," DIA"]}),p.jsx("button",{style:Dt.modalCloseBtn,onClick:()=>H(null),children:""})]})})})]})}const Dt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:10,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"25px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},baccaratGrid:{display:"flex",flexDirection:"column",gap:"10px"},rowTop:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",height:"90px"},rowBottom:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",height:"150px"},zoneCardSmall:{borderRadius:"14px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},zoneCardBig:{borderRadius:"18px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer"},checkBadge:{position:"absolute",top:8,right:8,width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"900",zIndex:2},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDate:{fontSize:"11px",color:"#444"},histRight:{textAlign:"right"},histEarn:{fontSize:"15px",fontWeight:"900"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"fixed",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},panelTop:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"center"},selectionText:{fontSize:"13px",color:"#888"},clearBtn:{background:"none",border:"none",color:"#ff3b30",fontSize:"13px",fontWeight:"700"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},pendingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},pendingInfo:{display:"flex",flexDirection:"column",gap:"4px"},pendingTitle:{fontSize:"15px",fontWeight:"900",color:"#ffb347"},pendingDetail:{fontSize:"12px",color:"#888"},cancelBtn:{background:"#ff3b30",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:"900",fontSize:"13px"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"24px",fontWeight:"900"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"13px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},lt={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},mh=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],rw=(n,t)=>{const i=n>=0&&n<mh.length?n:0;return`https://api.dicebear.com/7.x/${mh[i]}/svg?seed=${t}_${i}&backgroundColor=2a2a2e`},ZN=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},JN=({userId:n,tempSelectedIdx:t,tempUploadedImg:i,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:d})=>{const g=F.useRef(null);return p.jsxs("div",{style:lt.avatarPicker,children:[p.jsxs("div",{style:lt.pickerHeader,children:[p.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:d,style:lt.randomBtn,children:" "}),p.jsx("button",{onClick:u,style:lt.closeBtn,children:""})]})]}),p.jsx("div",{style:lt.charGrid,children:mh.map((y,v)=>p.jsx("div",{onClick:()=>{o(null),r(v)},style:{...lt.pickerItem,border:t===v&&!i?"2px solid #D4AF37":"1px solid #333"},children:p.jsx("img",{src:rw(v,n),alt:"char",style:{width:"85%"}})},v))}),p.jsx("input",{type:"file",accept:"image/*",ref:g,onChange:y=>{const v=y.target.files[0];if(v){const b=new FileReader;b.onloadend=()=>{o(b.result),r(-1)},b.readAsDataURL(v)}},style:{display:"none"}}),p.jsx("button",{onClick:()=>g.current.click(),style:lt.uploadBtn,children:"   "}),p.jsx("button",{onClick:c,style:lt.applyBtn,children:""})]})},eT=new BroadcastChannel("daisy_global_channel"),tO=(n,t,i)=>{const[r,o]=F.useState(n||null),[u,c]=F.useState(()=>{if(!n)return!1;const O=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===O}),[d,g]=F.useState([]),[y,v]=F.useState([]);F.useEffect(()=>{n&&o(n)},[n]),F.useEffect(()=>{const O=(Q,tt)=>{o(et=>et&&et.id===Q?{...et,diamond:tt}:et)},H=Q=>{const{userId:tt,point:et}=Q.detail||{};tt&&O(tt,et)};return window.addEventListener("user_point_update",H),eT.onmessage=Q=>{const{type:tt,userId:et,point:w}=Q.data||{};tt==="POINT_UPDATE"&&et&&O(et,w)},()=>window.removeEventListener("user_point_update",H)},[]),F.useEffect(()=>{if(!r?.id)return;const O=wa(Bn(Zt,"deposit_requests"),nm("userId","==",r.id)),H=wa(Bn(Zt,"withdraw_requests"),nm("userId","==",r.id)),Q=wa(Bn(Zt,"finance_history"),nm("userId","==",r.id));let tt=[],et=[],w=[];const A=()=>{const P=w.filter(Y=>Y.type==="").map(Y=>({...Y,status:""})),D=[...tt,...P].sort((Y,I)=>new Date(I.timestamp||I.completedAt)-new Date(Y.timestamp||Y.completedAt));g(D);const At=w.filter(Y=>Y.type==="").map(Y=>({...Y,status:""})),wt=[...et,...At].sort((Y,I)=>new Date(I.timestamp||I.completedAt)-new Date(Y.timestamp||Y.completedAt));v(wt)},R=ks(O,P=>{tt=P.docs.map(D=>({id:D.id,...D.data(),status:""})),A()}),V=ks(H,P=>{et=P.docs.map(D=>({id:D.id,...D.data(),status:""})),A()}),j=ks(Q,P=>{w=P.docs.map(D=>({id:D.id,...D.data()})),A()});return()=>{R(),V(),j()}},[r?.id]);const b=F.useCallback(O=>{window.speechSynthesis.cancel();const H=new SpeechSynthesisUtterance(O),Q=window.speechSynthesis.getVoices(),tt=Q.find(et=>et.lang.includes("ko")&&et.name.includes("Google"))||Q.find(et=>et.lang.includes("ko")&&(et.name.includes("Female")||et.name.includes("")))||Q.find(et=>et.lang.includes("ko"));tt&&(H.voice=tt),H.lang=i?"ko-KR":"en-US",H.rate=1.1,H.pitch=1,window.speechSynthesis.speak(H)},[i]);return{userInfo:r,isCheckedIn:u,myDeposits:d,myWithdraws:y,handleDailyCheckIn:async()=>{if(!u)try{const O=Le(Zt,"settings","global"),H=await Ar(O);if(!H.exists())throw new Error("Database Error");const Q=H.data().users||[],tt=Math.floor(Math.random()*1901)+100;let et=0;const w=Q.map(R=>R.id===r.id?(et=(R.diamond||0)+tt,{...R,diamond:et}):R);await wr(O,{users:w}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(R=>({...R,diamond:et})),t&&t(et),eT.postMessage({type:"POINT_UPDATE",userId:r.id,point:et});const A=i?`  ${tt}  .`:`Daily bonus ${tt} diamonds paid.`;b(A),alert(i?`! ${tt.toLocaleString()} DIA .`:`Congrats! ${tt.toLocaleString()} DIA paid.`)}catch(O){console.error(O);const H=1e3;o(Q=>({...Q,diamond:(Q.diamond||0)+H})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(i?`( ) ${H} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(O,H)=>{if(!O.trim()||!H)return alert(i?" .":"Enter info.");try{return await Xo(Bn(Zt,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:O,amount:Number(H),status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Deposit requested."),alert(i?" !":"Done!"),!0}catch(Q){return alert("Error: "+Q.message),!1}},requestWithdraw:async(O,H,Q)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(Q!==tt)return alert(i?" ":"PIN mismatch");if(Number(O)>r.diamond)return alert(i?" ":"Not enough balance");try{return await Xo(Bn(Zt,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(O),bankInfo:H,status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Withdrawal requested."),alert(i?" !":"Done!"),!0}catch(et){return alert("Error: "+et.message),!1}},updatePassword:async(O,H,Q)=>{if(!O||H!==Q)return alert(i?"  .":"Check inputs.");try{const tt=Le(Zt,"settings","global"),et=await Ar(tt);if(et.exists()){const A=(et.data().users||[]).map(R=>R.id===r.id?{...R,password:H}:R);await wr(tt,{users:A})}return alert(i?"  ":"Success"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updatePin:async(O,H,Q)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(tt&&O!==tt)return alert(i?" PIN ":"Old PIN wrong");if(H!==Q||H.length!==6)return alert(i?" PIN  ":"Check New PIN");try{const et=Le(Zt,"settings","global"),w=await Ar(et);if(w.exists()){const A=w.data().users.map(R=>R.id===r.id?{...R,pin:H}:R);await wr(et,{users:A})}return localStorage.setItem(`user_pin_${r.id}`,H),alert(i?" ":"Done"),!0}catch(et){return alert("Error: "+et.message),!1}},updateAvatar:async(O,H,Q)=>{const tt={image:O,idx:H};try{const et=Le(Zt,"settings","global"),w=await Ar(et);if(w.exists()){const A=w.data().users.map(R=>R.id===r.id?{...R,avatar:tt}:R);await wr(et,{users:A})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(tt)),Q&&Q(O,H),alert(i?"  ":"Updated"),!0}catch(et){return alert("Error: "+et.message),!1}}}},Ba=({title:n,onBack:t})=>p.jsxs("div",{style:lt.subHeader,children:[p.jsx("button",{onClick:t,style:lt.backBtn,children:""}),p.jsx("span",{style:lt.subTitle,children:n}),p.jsx("div",{style:{width:30}})]}),eO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),[g,y]=F.useState(""),v=async()=>{await i(o,c,g)&&n()};return p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:t?" ":"Change Password",onBack:n}),p.jsxs("div",{style:lt.formArea,children:[p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:"ID"}),p.jsx("input",{style:lt.inputDisabled,value:r.id,disabled:!0})]}),p.jsx("div",{style:{height:20}}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?" ":"Old Password"}),p.jsx("input",{type:"password",style:lt.input,value:o,onChange:b=>u(b.target.value)})]}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?" ":"New Password"}),p.jsx("input",{type:"password",style:lt.input,value:c,onChange:b=>d(b.target.value)})]}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?"":"Confirm"}),p.jsx("input",{type:"password",style:lt.input,value:g,onChange:b=>y(b.target.value)})]}),p.jsx("button",{style:lt.saveBtn,onClick:v,children:t?"":"Save"})]})]})},nO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),[g,y]=F.useState(""),v=localStorage.getItem(`user_pin_${r.id}`),b=async()=>{await i(o,c,g)&&n()};return p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:v?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),p.jsxs("div",{style:lt.formArea,children:[v?p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?" PIN":"Old PIN"}),p.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:S=>u(S.target.value.replace(/[^0-9]/g,""))})]}):null,p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?" PIN (6)":"New PIN"}),p.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:S=>d(S.target.value.replace(/[^0-9]/g,""))})]}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?"PIN ":"Confirm"}),p.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:g,onChange:S=>y(S.target.value.replace(/[^0-9]/g,""))})]}),p.jsx("button",{style:lt.saveBtn,onClick:b,children:t?"":"Done"})]})]})},iO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),g=async()=>{await i(o,c)&&n()};return p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:t?" ":"Deposit",onBack:n}),p.jsxs("div",{style:lt.formArea,children:[p.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:p.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?"":"Name"}),p.jsx("input",{style:lt.input,value:o,onChange:y=>u(y.target.value)})]}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?"":"Amount"}),p.jsx("input",{type:"number",style:lt.input,value:c,onChange:y=>d(y.target.value)})]}),p.jsx("button",{style:lt.saveBtn,onClick:g,children:t?"":"Request"})]})]})},sO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),[g,y]=F.useState(""),[v,b]=F.useState(""),[S,M]=F.useState(""),k=async()=>{await i(o,{bank:c,account:g,holder:v},S)&&n()};return p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:t?" ":"Withdraw",onBack:n}),p.jsxs("div",{style:lt.formArea,children:[p.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:p.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?"":"Amount"}),p.jsx("input",{type:"number",style:lt.input,value:o,onChange:q=>u(q.target.value)})]}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:t?" ":"Bank Info"}),p.jsx("input",{style:{...lt.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:q=>d(q.target.value)}),p.jsx("input",{style:{...lt.input,marginBottom:5},placeholder:t?"":"Account No",value:g,onChange:q=>y(q.target.value)}),p.jsx("input",{style:lt.input,placeholder:t?"":"Holder",value:v,onChange:q=>b(q.target.value)})]}),p.jsxs("div",{style:lt.inputGroup,children:[p.jsx("label",{style:lt.inputLabel,children:"PIN"}),p.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:S,onChange:q=>M(q.target.value.replace(/[^0-9]/g,""))})]}),p.jsx("button",{style:{...lt.saveBtn,background:"#D4AF37",color:"#000"},onClick:k,children:t?"":"Request"})]})]})},nT=({onBack:n,isKo:t,title:i,data:r})=>p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:i,onBack:n}),p.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?p.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",d=c?"#4cd137":"#fbc531",g=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",y=c?t?"":"Done":t?"":"Pending";return p.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),p.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),p.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),p.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:g,color:d,border:`1px solid ${d}`},children:y})]},u)})})]}),rO=({onBack:n,isKo:t,userId:i})=>{const r=F.useMemo(()=>{if(!i)return[];const o=localStorage.getItem(`event_my_history_${i}`);return o?JSON.parse(o):[]},[i]);return p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:t?" ":"History",onBack:n}),p.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?p.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>p.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[p.jsxs("span",{children:[o.round,t?"":"R"]}),p.jsx("span",{children:o.date})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),p.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},aO=({onBack:n,isKo:t,onChangeView:i})=>p.jsxs("div",{style:lt.container,children:[p.jsx(Ba,{title:t?" ":"Settings",onBack:n}),p.jsxs("div",{style:lt.settingList,children:[p.jsxs("div",{style:lt.settingItem,onClick:()=>i("profile"),children:[p.jsx("span",{style:lt.settingText,children:t?"  ":"Change Password"}),p.jsx("span",{style:lt.arrow,children:""})]}),p.jsxs("div",{style:lt.settingItem,onClick:()=>i("payment_pin"),children:[p.jsx("span",{style:lt.settingText,children:t?" (PIN) ":"Setup PIN"}),p.jsx("span",{style:lt.arrow,children:""})]})]})]});function oO({user:n,onBack:t,onLogout:i,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:d}){const[g,y]=F.useState("main"),v=d.home==="",{userInfo:b,isCheckedIn:S,myDeposits:M,myWithdraws:k,handleDailyCheckIn:q,requestDeposit:B,requestWithdraw:Z,updatePassword:O,updatePin:H,updateAvatar:Q}=tO(n,c,v),[tt,et]=F.useState(o||0),[w,A]=F.useState(r||null),[R,V]=F.useState(!1);if(!b)return p.jsx("div",{style:lt.loading,children:"SECRET MEMBERSHIP..."});const j=ZN(b.diamond);return g==="profile"?p.jsx(eO,{onBack:()=>y("settings"),isKo:v,onSubmit:O,userInfo:b}):g==="payment_pin"?p.jsx(nO,{onBack:()=>y("settings"),isKo:v,onSubmit:H,userInfo:b}):g==="deposit"?p.jsx(iO,{onBack:()=>y("main"),isKo:v,onSubmit:B,onViewHistory:()=>y("deposit_history")}):g==="withdraw"?p.jsx(sO,{onBack:()=>y("main"),isKo:v,onSubmit:Z,onViewHistory:()=>y("withdraw_history")}):g==="deposit_history"?p.jsx(nT,{onBack:()=>y("deposit"),isKo:v,title:v?"  ":"Deposit History",data:M}):g==="withdraw_history"?p.jsx(nT,{onBack:()=>y("withdraw"),isKo:v,title:v?"  ":"Withdraw History",data:k}):g==="history"?p.jsx(rO,{onBack:()=>y("main"),isKo:v,userId:b.id}):g==="settings"?p.jsx(aO,{onBack:()=>y("main"),isKo:v,onChangeView:y}):g==="event_donation"?p.jsx(sw,{user:b,userPoint:b.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>y("main"),t:d}):p.jsxs("div",{style:lt.container,children:[p.jsxs("div",{style:lt.topBar,children:[p.jsx("button",{onClick:t,style:lt.backBtn,children:""}),p.jsx("span",{style:lt.topTitle,children:"PRIVATE LOUNGE"}),p.jsx("span",{onClick:()=>y("settings"),style:lt.settingsIcon,children:""})]}),p.jsx("div",{style:lt.profileHeaderMain,children:p.jsxs("div",{style:lt.profileInfoMain,children:[p.jsxs("div",{style:lt.avatarWrapper,children:[p.jsx("div",{style:lt.avatarLarge,children:r?p.jsx("img",{src:r,alt:"profile",style:lt.imgFull}):p.jsx("img",{src:rw(o,b.id),alt:"avatar",style:lt.imgFull})}),p.jsx("button",{style:lt.editBadgeOutside,onClick:()=>V(!0),children:v?"":"Edit"})]}),p.jsxs("div",{style:lt.userTextMain,children:[p.jsxs("div",{style:lt.userIdMain,children:[b.name||b.id," ",p.jsx("span",{style:{...lt.vipBadge,background:j.color,color:"#000"},children:j.name})]}),p.jsxs("div",{style:lt.tierContainer,children:[p.jsxs("div",{style:lt.tierText,children:[v?" ":"Next Tier",": ",j.next.toLocaleString()]}),p.jsx("div",{style:lt.tierBarOuter,children:p.jsx("div",{style:{...lt.tierBarInner,width:`${j.per}%`,background:j.color}})})]}),p.jsxs("div",{style:lt.userNoMain,children:["UID: ",b.no||"000000"]})]})]})}),p.jsxs("div",{style:lt.balanceCard,children:[p.jsxs("div",{style:lt.balanceItem,children:[p.jsx("div",{style:lt.label,children:v?" ":"Diamonds"}),p.jsxs("div",{style:lt.value,children:[" ",b.diamond?.toLocaleString()??0]})]}),p.jsx("div",{style:lt.divider}),p.jsxs("div",{style:{...lt.balanceItem,cursor:S?"default":"pointer"},onClick:q,children:[p.jsx("div",{style:{...lt.label,color:S?"#444":"#D4AF37"},children:S?v?" ":"Claimed":v?" ":"Daily Bonus"}),p.jsx("div",{style:lt.value,children:S?"":""})]})]}),p.jsxs("div",{style:lt.menuList,children:[p.jsxs("div",{style:lt.goldMenu,onClick:()=>y("event_donation"),children:[p.jsxs("div",{style:lt.goldMenuContent,children:[p.jsx("div",{style:lt.goldTag,children:"HOT"}),p.jsx("span",{style:lt.goldMenuTitle,children:v?"  ":"Join Event"})]}),p.jsx("span",{children:""})]}),p.jsxs("div",{style:lt.menuGroup,children:[p.jsxs("div",{style:lt.menuItem,onClick:()=>y("deposit"),children:[p.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"Deposit"]}),p.jsx("span",{style:lt.arrow,children:""})]}),p.jsxs("div",{style:lt.menuItem,onClick:()=>y("withdraw"),children:[p.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"Withdraw"]}),p.jsx("span",{style:lt.arrow,children:""})]}),p.jsxs("div",{style:lt.menuItem,onClick:()=>y("history"),children:[p.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"History"]}),p.jsx("span",{style:lt.arrow,children:""})]}),p.jsxs("div",{style:lt.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[p.jsxs("span",{style:lt.menuTitle,children:["  ",v?"1:1  ":"1:1 Support"]}),p.jsx("span",{style:lt.arrow,children:""})]})]}),p.jsx("button",{onClick:i,style:{...lt.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:v?"":"LOG OUT"})]}),R&&p.jsx(JN,{userId:b.id,tempSelectedIdx:tt,tempUploadedImg:w,setTempSelectedIdx:et,setTempUploadedImg:A,onClose:()=>V(!1),onApply:()=>Q(w,tt,u).then(P=>P&&V(!1)),onRandom:()=>{A(null),et(Math.floor(Math.random()*mh.length))}})]})}function lO({user:n,onUpdatePoint:t,appAvatarImage:i,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:d,dashStyles:g,isGuest:y,members:v=[],regions:b=[],slideImages:S=[],videos:M=[],videoCategories:k=[],innerLogo:q,telegramLink:B="https://t.me/your_address"}){const[Z,O]=F.useState("home"),[H,Q]=F.useState(null),[tt,et]=F.useState(""),[w,A]=F.useState(""),[R,V]=F.useState(!1),[j,P]=F.useState(!1),D=n||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},At=M.filter(st=>tt==="ALL"||!tt?!0:st.category===tt),wt=v.filter(st=>!w||w===""||w==="ALL"?!0:st.region===w),[Y,I]=F.useState(()=>{const st=localStorage.getItem("live_count"),dt=st?parseInt(st):142;return dt>=123&&dt<=179?dt:145});F.useEffect(()=>{const st=setInterval(()=>{I(dt=>{const yt=Math.random();let pt=yt<.45?1:yt<.9?-1:yt<.95?2:-2,_t=dt+pt;return _t<=123&&(_t=125),_t>=179&&(_t=177),localStorage.setItem("live_count",_t),_t})},5e3);return()=>clearInterval(st)},[]);const U=F.useCallback(()=>{document.getElementById("full-screen-view")||H||document.getElementById("manager-detail-view")||(Z!=="home"?O("home"):P(!0),window.history.pushState(null,""))},[H,Z]);F.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",U),()=>window.removeEventListener("popstate",U)),[U]);const ct=st=>{if(y&&(st==="event"||st==="mypage")){alert(d==="ko"?"   .":"Authorized Members Only.");return}st==="event"?(V(!0),O(st),setTimeout(()=>V(!1),800)):O(st)},gt=st=>{Q(st),O("manager"),window.history.pushState({isDetail:!0},"")},N=()=>{B?window.open(B,"_blank"):alert(d==="ko"?"   .":"Link not set.")};F.useEffect(()=>{window.scrollTo(0,0)},[Z]);const W=()=>{switch(Z){case"home":return p.jsx(WN,{t:u,innerLogo:q,slideImages:S,members:v,setActiveTab:O,openDetail:gt,handleTelegram:N,matchingCount:Y});case"manager":return p.jsx(XN,{t:u,regions:b,selectedRegion:w,setSelectedRegion:A,filteredMembers:wt,initialMember:H,onCloseDetail:()=>Q(null)});case"event":return R?p.jsxs("div",{style:Jn.loadingContainer,children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("div",{style:Jn.loadingText,children:d==="ko"?"   ...":"Loading Private Benefits..."})]}):p.jsx(sw,{t:u,user:D,userPoint:D.diamond,onUpdatePoint:t,onBack:()=>O("home"),confirmedImage:i,confirmedAvatarIdx:r});case"video":return p.jsx($N,{t:u,videoCategories:k,selectedCategory:tt,setSelectedCategory:et,filteredVideos:At});case"mypage":return p.jsx(oO,{t:u,user:D,onBack:()=>O("home"),onLogout:()=>P(!0),confirmedImage:i,confirmedAvatarIdx:r,onAvatarChange:o,s:Jn});default:return null}};return p.jsxs("div",{style:{...g.container,background:"#080808",zIndex:10,position:"relative"},children:[p.jsxs("div",{style:{...g.contentArea,background:"transparent"},children:[Z!=="home"&&Z!=="event"&&Z!=="mypage"&&p.jsx("div",{style:Jn.topStatus,children:p.jsxs("div",{style:Jn.statusInner,children:[p.jsx("span",{className:"dot-active"}),p.jsx("span",{style:Jn.statusText,children:"LIVE CONNECTED : "}),p.jsxs("b",{style:Jn.statusCount,children:[Y," MEMBERS"]})]})}),W()]}),j&&p.jsx("div",{style:Jn.modalOverlay,onClick:()=>P(!1),children:p.jsxs("div",{style:{...Jn.modalContent,textAlign:"center"},onClick:st=>st.stopPropagation(),children:[p.jsx("h3",{style:Jn.modalName,children:u.logout}),p.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:d==="ko"?"  ?":"Are you sure you want to log out?"}),p.jsxs("div",{style:Jn.modalBtnGroup,children:[p.jsx("button",{onClick:c,style:Jn.mMatchBtn,children:u.logout}),p.jsx("button",{onClick:()=>P(!1),style:Jn.mCloseBtn,children:d==="ko"?"":"CANCEL"})]})]})}),p.jsx("nav",{style:{...g.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(st=>p.jsxs("div",{onClick:()=>ct(st.key),style:{...g.navItem,color:Z===st.key?"#D4AF37":"#555"},children:[p.jsx("span",{style:{fontSize:22,filter:Z===st.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:st.icon}),p.jsx("span",{style:{fontSize:10,fontWeight:800},children:st.label})]},st.key))}),p.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const Jn={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},uO="dwla93cgd",cO="daisy_upload",iT=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",i=new FormData;i.append("file",n),i.append("upload_preset",cO);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${uO}/${t}/upload`,{method:"POST",body:i})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function fO({adminPreviewMode:n,setAdminPreviewMode:t,hero:i,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:d,logoSize:g,setLogoSize:y,logoPos:v,setLogoPos:b,innerLogo:S,setInnerLogo:M,onExit:k,members:q,setMembers:B,slideImages:Z,setSlideImages:O,videos:H,setVideos:Q,adminPw:tt,setAdminPw:et,telegramLink:w,setTelegramLink:A,saveToFirebase:R,syncToFirebase:V,openIndependent:j,styles:P}){const D={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},At=Object.keys(D),wt=["","","","",""],Y={name:"",region:"",loc:D.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[I,U]=F.useState(Y),[ct,gt]=F.useState(null),[N,W]=F.useState(!1),[st,dt]=F.useState(""),[yt,pt]=F.useState(""),[_t,se]=F.useState(!1),[Xt,xn]=F.useState(!1),[Fn,qn]=F.useState(null),[bn,_n]=F.useState(""),si=at=>{U({...I,region:at,loc:D[at][0]})},Ai=at=>{gt(at.id),U(at),se(!0);const Ct=document.getElementById("manager-modal-scroll");Ct&&Ct.scrollTo({top:0,behavior:"smooth"})},wi=async()=>{if(N)return alert("  .  .");if(!I.img||!I.name)return alert("   .");let at;ct?(at=q.map(St=>St.id===ct?{...I,id:ct}:St),gt(null)):at=[...q,{...I,id:Date.now()}],B(at),W(!0);const Ct=await V({members:at});W(!1),Ct&&(U(Y),alert("    ! "))},vs=async()=>{if(!bn)return alert("   .");let at;Fn?(at=H.map(St=>St.id===Fn?{...St,url:bn,category:st,description:yt}:St),qn(null)):at=[...H,{id:Date.now(),url:bn,category:st,description:yt}],Q(at),W(!0);const Ct=await V({videos:at});W(!1),Ct&&(_n(""),pt(""),alert("   ! "))},re=async(at,Ct,St)=>{const te=at.target.files?.[0];if(te)try{W(!0);const ae=await iT(te);if(ae){St(ae);let ee={};Ct==="logo"?ee={logo:ae}:Ct==="innerLogo"?ee={innerLogo:ae}:Ct==="heroImg"&&(ee={hero:{...i,imageSrc:ae,mode:"image"}}),Object.keys(ee).length>0&&await V(ee)}}catch(ae){console.error("  :",ae)}finally{W(!1),at.target.value=""}},be=async()=>{W(!0);const at=await V({telegramLink:w,adminPw:tt});W(!1),at&&alert("      ! ")};return p.jsxs("div",{style:Ot.cms,children:[p.jsxs("div",{style:Ot.toggleArea,children:[p.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Ot.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),p.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Ot.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),p.jsxs("div",{style:{padding:"20px"},children:[p.jsx("h3",{style:Ot.mainTitle,children:"SERVER ADMIN PANEL"}),p.jsxs("div",{style:Ot.sectionBox,children:[p.jsx("label",{style:Ot.sectionLabel,children:"    "}),p.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[p.jsx("button",{onClick:()=>r({...i,mode:"image"}),style:{...Ot.modeBtn,background:i.mode==="image"?"#fff":"#333",color:i.mode==="image"?"#000":"#888"},children:" "}),p.jsx("button",{onClick:()=>r({...i,mode:"video"}),style:{...Ot.modeBtn,background:i.mode==="video"?"#fff":"#333",color:i.mode==="video"?"#000":"#888"},children:" "})]}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"  (  )"}),p.jsx("input",{type:"file",accept:"image/*",style:Ot.fileInput,onChange:at=>re(at,"heroImg",Ct=>r({...i,imageSrc:Ct,mode:"image"}))}),i.imageSrc&&p.jsx("img",{src:i.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"  (  )"}),p.jsx("input",{type:"file",accept:"video/*",style:Ot.fileInput,onChange:at=>re(at,"heroVid",Ct=>{u(Ct),r({...i,mode:"video"})})}),o&&p.jsx("div",{style:{marginTop:5},children:p.jsx("p",{style:Ot.checkText,children:"  "})})]}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"    "}),p.jsx("input",{type:"file",accept:"image/*",style:Ot.fileInput,onChange:at=>re(at,"logo",d)}),p.jsxs("div",{style:Ot.rangeRow,children:[p.jsxs("span",{children:[": ",g,"px"]}),p.jsx("input",{type:"range",min:"40",max:"600",value:g,onChange:at=>y(+at.target.value)})]}),p.jsxs("div",{style:Ot.rangeGrid,children:[p.jsxs("div",{children:[p.jsx("span",{children:"(Y)"}),p.jsx("input",{type:"range",min:"0",max:"1000",value:v.y,onChange:at=>b({...v,y:+at.target.value})})]}),p.jsxs("div",{children:[p.jsx("span",{children:"(X)"}),p.jsx("input",{type:"range",min:"0",max:"1000",value:v.x,onChange:at=>b({...v,x:+at.target.value})})]})]})]})]}),p.jsxs("div",{style:{...Ot.sectionBox,borderColor:"#FFD700"},children:[p.jsx("label",{style:{...Ot.sectionLabel,color:"#FFD700"},children:"  "}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"   (Inner Logo)"}),p.jsx("input",{type:"file",accept:"image/*",style:Ot.fileInput,onChange:at=>re(at,"innerLogo",M)}),S&&p.jsx("img",{src:S,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"   (X  )"}),p.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Ot.fileInput,onChange:async at=>{const Ct=Array.from(at.target.files);W(!0);const te=(await Promise.all(Ct.map(ee=>iT(ee)))).filter(ee=>ee).map(ee=>({id:Date.now()+Math.random(),url:ee})),ae=[...Z,...te];O(ae),await V({slideImages:ae}),W(!1),at.target.value=""}}),p.jsx("div",{style:Ot.bannerList,children:Z.map(at=>p.jsxs("div",{style:Ot.bannerThumb,children:[p.jsx("img",{src:at.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),p.jsx("button",{onClick:async()=>{const Ct=Z.filter(St=>St.id!==at.id);O(Ct),await V({slideImages:Ct})},style:Ot.bannerDelBtn,children:""})]},at.id))})]})]}),p.jsxs("div",{style:Ot.sectionBox,children:[p.jsx("label",{style:Ot.sectionLabel,children:"   "}),p.jsxs("button",{onClick:()=>se(!0),style:Ot.modalOpenBtn,children:["   (",q.length,")"]}),p.jsxs("button",{onClick:()=>xn(!0),style:{...Ot.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",H.length,")"]}),p.jsx("button",{onClick:()=>j&&j(),style:{...Ot.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),p.jsxs("div",{style:Ot.sectionBox,children:[p.jsx("label",{style:Ot.sectionLabel,children:"  "}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"   "}),p.jsx("input",{type:"text",style:Ot.textInput,placeholder:"@TelegramID",value:w||"",onChange:at=>A(at.target.value)})]}),p.jsxs("div",{style:Ot.fieldGroup,children:[p.jsx("label",{style:Ot.fieldLabel,children:"  "}),p.jsx("input",{type:"text",style:Ot.textInput,placeholder:"  ",value:tt||"",onChange:at=>et(at.target.value)})]}),p.jsx("button",{onClick:be,style:{...Ot.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),p.jsx("button",{style:{...Ot.saveExitBtn,background:N?"#ffb347":"#fff",cursor:N?"wait":"pointer"},onClick:async()=>{if(N)return;W(!0);const at=setTimeout(()=>{k()},5e3);try{R&&await R(),clearTimeout(at),k()}catch{k()}finally{W(!1)}},children:N?"   ...":"    "})]}),_t&&p.jsx("div",{style:ue.overlay,children:p.jsxs("div",{id:"manager-modal-scroll",style:ue.container,children:[p.jsxs("div",{style:ue.header,children:[p.jsx("h2",{style:{color:"#ffb347"},children:ct?"  ":"  "}),p.jsx("button",{onClick:()=>{se(!1),gt(null),U(Y)},style:ue.closeBtn,children:""})]}),p.jsxs("div",{style:ue.formBox,children:[p.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[p.jsx("select",{value:I.region,onChange:at=>si(at.target.value),style:ue.select,children:At.map(at=>p.jsx("option",{value:at,children:at},at))}),p.jsx("select",{value:I.loc,onChange:at=>U({...I,loc:at.target.value}),style:ue.select,children:D[I.region].map(at=>p.jsx("option",{value:at,children:at},at))})]}),p.jsxs("div",{style:{display:"flex",gap:10},children:[p.jsx("input",{style:{...ue.input,flex:2},placeholder:" ",value:I.name,onChange:at=>U({...I,name:at.target.value})}),p.jsx("input",{style:{...ue.input,flex:1},placeholder:"",value:I.age,onChange:at=>U({...I,age:at.target.value})})]}),p.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[p.jsx("input",{style:ue.input,placeholder:" (cm)",value:I.height,onChange:at=>U({...I,height:at.target.value})}),p.jsx("input",{style:ue.input,placeholder:" (kg)",value:I.weight,onChange:at=>U({...I,weight:at.target.value})}),p.jsx("input",{style:ue.input,placeholder:" ()",value:I.bust,onChange:at=>U({...I,bust:at.target.value})})]}),p.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[p.jsxs("div",{style:{flex:1},children:[p.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),p.jsx("input",{type:"file",accept:"image/*",onChange:at=>re(at,"image",Ct=>U({...I,img:Ct}))}),I.img&&p.jsx("img",{src:I.img,style:ue.previewImg,alt:"p"})]}),p.jsxs("div",{style:{flex:1},children:[p.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),p.jsx("input",{type:"file",accept:"video/*",onChange:at=>re(at,"video",Ct=>U({...I,video:Ct}))}),I.video&&p.jsx("video",{src:I.video,style:ue.previewImg,controls:!0})]})]}),p.jsx("button",{onClick:wi,style:ue.actionBtn,children:ct?" ":" "})]}),p.jsx("div",{style:ue.list,children:q.map(at=>p.jsxs("div",{style:ue.listItem,children:[p.jsxs("span",{children:["[",at.loc,"] ",at.name," (",at.age?at.age+"":"",")"]}),p.jsxs("div",{children:[p.jsx("button",{onClick:()=>Ai(at),style:ue.editBtn,children:""}),p.jsx("button",{onClick:async()=>{if(confirm("?")){const Ct=q.filter(St=>St.id!==at.id);B(Ct),await V({members:Ct})}},style:ue.delBtn,children:""})]})]},at.id))})]})}),Xt&&p.jsx("div",{style:ue.overlay,children:p.jsxs("div",{id:"video-modal-scroll",style:{...ue.container,border:"2px solid #2196F3"},children:[p.jsxs("div",{style:ue.header,children:[p.jsx("h2",{style:{color:"#2196F3"},children:Fn?"  ":"  "}),p.jsx("button",{onClick:()=>{xn(!1),qn(null),pt(""),_n("")},style:ue.closeBtn,children:""})]}),p.jsxs("div",{style:ue.formBox,children:[p.jsx("select",{value:st,onChange:at=>dt(at.target.value),style:ue.select,children:wt.map(at=>p.jsx("option",{value:at,children:at},at))}),p.jsx("input",{style:{...ue.input,marginTop:10},placeholder:" ",value:yt,onChange:at=>pt(at.target.value)}),p.jsx("input",{type:"file",accept:"video/*",onChange:at=>re(at,"video",Ct=>_n(Ct))}),bn&&p.jsx("video",{src:bn,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),p.jsx("button",{onClick:vs,style:{...ue.actionBtn,background:"#2196F3"},children:" "})]}),p.jsx("div",{style:ue.list,children:H.map(at=>p.jsxs("div",{style:ue.listItem,children:[p.jsx("video",{src:at.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),p.jsx("div",{style:{flex:1,marginLeft:10},children:p.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:at.description})}),p.jsx("button",{onClick:async()=>{if(confirm("?")){const Ct=H.filter(St=>St.id!==at.id);Q(Ct),await V({videos:Ct})}},style:ue.delBtn,children:""})]},at.id))})]})})]})}const Ot={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ue={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Io={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},hO=(n,t)=>{const[i,r]=F.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[o,u]=F.useState(0),[c,d]=F.useState({}),[g,y]=F.useState([]),[v,b]=F.useState([]),[S,M]=F.useState([]),[k,q]=F.useState([]),[B,Z]=F.useState([]),[O,H]=F.useState([]),[Q,tt]=F.useState(""),[et,w]=F.useState(""),A=F.useMemo(()=>{const U=Date.now();return n.filter(ct=>ct.lastActive&&U-ct.lastActive<6e4)},[n]),R=async U=>{const ct=JSON.parse(JSON.stringify(U));await Uf(Le(Zt,"settings","global"),{users:ct},{merge:!0})};return F.useEffect(()=>{const U=ks(Bn(Zt,"event_manipulation"),yt=>{const pt={};yt.forEach(_t=>{pt[_t.id]=_t.data().winner||_t.data().items}),d(pt)}),ct=ks(wa(Bn(Zt,"event_bets"),Rf("round","desc"),Rb(100)),yt=>{const pt=[];yt.forEach(_t=>pt.push({id:_t.id,..._t.data()})),pt.length>0&&b(pt)}),gt=ks(wa(Bn(Zt,"deposit_requests"),Rf("timestamp","desc")),yt=>{const pt=[];yt.forEach(_t=>pt.push({id:_t.id,..._t.data()})),M(pt)}),N=ks(wa(Bn(Zt,"withdraw_requests"),Rf("timestamp","desc")),yt=>{const pt=[];yt.forEach(_t=>pt.push({id:_t.id,..._t.data()})),q(pt)}),W=ks(wa(Bn(Zt,"finance_history"),Rf("completedAt","desc"),Rb(50)),yt=>{const pt=[];yt.forEach(_t=>pt.push({id:_t.id,..._t.data()})),Z(pt)});H(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const st=JSON.parse(localStorage.getItem("event_total_history")||"[]");y(st.sort((yt,pt)=>pt.round-yt.round));const dt=setInterval(()=>{const pt=Date.now()-Io.START_TIME,_t=Io.BASE_ROUND+Math.floor(pt/(Io.ROUND_DURATION*1e3)),se=Io.ROUND_DURATION*1e3-pt%(Io.ROUND_DURATION*1e3);let Xt=Math.floor(se/1e3);Xt>=Io.ROUND_DURATION&&(Xt=0),r({currentRound:_t,timeLeft:Xt,isDrawing:Xt<=5}),u(xn=>xn===0?_t+1:xn)},1e3);return()=>{U(),ct(),gt(),N(),W(),clearInterval(dt)}},[]),{currentInfo:i,targetRound:o,setTargetRound:u,queue:c,deleteQueue:async U=>{try{await im(Le(Zt,"event_manipulation",String(U)));const ct={...c};delete ct[U],d(ct)}catch{alert(" ")}},gameHistory:g,sponsorships:v,activeUsers:A,depositRequests:S,withdrawRequests:k,financeHistory:B,approveDeposit:async U=>{if(window.confirm(`${U.userId} ${U.amount.toLocaleString()} DIA  ?`))try{const ct=Le(Zt,"settings","global"),gt=await Ar(ct),N=gt.exists()?gt.data().users||[]:[],W=N.find(pt=>pt.id===U.userId),dt=(W&&W.diamond||0)+U.amount,yt=N.map(pt=>pt.id===U.userId?{...pt,diamond:dt}:pt);t(yt),await R(yt);try{await wr(Le(Zt,"users",U.userId),{diamond:dt})}catch{}await Xo(Bn(Zt,"finance_history"),{...U,type:"",status:"",completedAt:new Date().toISOString()}),await im(Le(Zt,"deposit_requests",U.id)),alert("  !")}catch(ct){alert(" : "+ct.message)}},approveWithdraw:async U=>{if(window.confirm(`${U.userId}  () ?`))try{const ct=Le(Zt,"settings","global"),gt=await Ar(ct),N=gt.exists()?gt.data().users||[]:[],W=N.find(pt=>pt.id===U.userId),st=W&&W.diamond||0;if(st<U.amount&&!window.confirm(`[]  (${st}) (${U.amount}) . ?`))return;const dt=st-U.amount,yt=N.map(pt=>pt.id===U.userId?{...pt,diamond:dt}:pt);t(yt),await R(yt);try{await wr(Le(Zt,"users",U.userId),{diamond:dt})}catch{}await Xo(Bn(Zt,"finance_history"),{...U,type:"",status:"",completedAt:new Date().toISOString()}),await im(Le(Zt,"withdraw_requests",U.id)),alert("    !")}catch(ct){alert(" : "+ct.message)}},agents:O,newAgentName:Q,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:w,addAgent:()=>{if(!Q)return;const U=[...O,{name:Q,code:et,id:Date.now()}];H(U),localStorage.setItem("daisy_agents",JSON.stringify(U)),tt(""),w("")},handleApplyManipulation:async U=>{if(!U)return alert(" .");try{return await Uf(Le(Zt,"event_manipulation",String(o)),{winner:U,updatedAt:new Date().toISOString()}),d({...c,[o]:U}),alert(`[${o}]  [${U}] !`),!0}catch(ct){return alert(": "+ct.message),!1}},updateFullUserInfo:async(U,ct,gt,N)=>{const W=parseInt(ct);if(isNaN(W))return alert(" .");try{const st=n.map(dt=>dt.id===U?{...dt,diamond:W,refCode:gt||"",referral:N||""}:dt);t(st),localStorage.setItem("users",JSON.stringify(st)),await R(st);try{await wr(Le(Zt,"users",U),{diamond:W,refCode:gt||"",referral:N||""})}catch{}alert(`[${U}]   `)}catch(st){alert(" : "+st.message)}},handleChangeUserPassword:async U=>{const ct=window.prompt(`[${U}]   :`);if(ct)try{const gt=n.map(N=>N.id===U?{...N,password:ct}:N);t(gt),localStorage.setItem("users",JSON.stringify(gt)),await R(gt);try{await wr(Le(Zt,"users",U),{password:ct})}catch{}alert("  ")}catch{alert(" ")}},handleChangeAdminPassword:async()=>{const U=window.prompt(" ' (game)'   :");if(U)try{await Uf(Le(Zt,"settings","global"),{gamePw:U},{merge:!0}),localStorage.setItem("daisy_game_password",U),alert(`     ! 
: ${U}`)}catch(ct){alert(" : "+ct.message)}}}},dO=({depositRequests:n,withdrawRequests:t,approveDeposit:i,approveWithdraw:r})=>p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[p.jsxs("div",{children:[p.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:n.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsxs("td",{children:[p.jsx("b",{children:o.userId}),p.jsx("br",{}),p.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),p.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),p.jsx("td",{children:p.jsx("button",{onClick:()=>i(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:t.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsxs("td",{children:[p.jsx("b",{children:o.userId}),p.jsx("br",{}),p.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),p.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),p.jsx("td",{children:p.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),pO=({financeHistory:n})=>p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:"ID"}),p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:n.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),p.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),p.jsx("td",{children:p.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),p.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),p.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),mO=({currentInfo:n,targetRound:t,setTargetRound:i,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,d]=F.useState(null);return p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"   "}),p.jsxs("div",{style:xt.monitorBox,children:[p.jsxs("div",{children:[" : ",p.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[n.currentRound,""]})]}),p.jsxs("div",{children:[" : ",p.jsxs("b",{style:{fontSize:"24px",color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]})]}),p.jsxs("div",{style:{marginTop:30},children:[p.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),p.jsx("input",{type:"number",placeholder:"",value:t,onChange:g=>i(parseInt(g.target.value)),style:xt.adminInput}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[p.jsxs("div",{onClick:()=>d("PLAYER"),style:{...xt.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff"},children:[p.jsx("div",{style:{fontSize:"20px"},children:"PLAYER"}),p.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),p.jsxs("div",{onClick:()=>d("TIE"),style:{...xt.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676"},children:[p.jsx("div",{style:{fontSize:"20px"},children:"TIE"}),p.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),p.jsxs("div",{onClick:()=>d("BANKER"),style:{...xt.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d"},children:[p.jsx("div",{style:{fontSize:"20px"},children:"BANKER"}),p.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),p.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(g=>{g&&d(null)})},style:{...xt.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5},children:[t,"  ",p.jsxs("b",{children:["[",c,"]"]})," "]})]}),p.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[p.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?p.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([g,y])=>p.jsxs("div",{style:xt.queueRow,children:[p.jsxs("div",{children:[p.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[g,""]}),p.jsxs("span",{style:{fontWeight:"bold",color:y==="PLAYER"?"#4d94ff":y==="BANKER"?"#ff4d4d":"#00e676"},children:[y," WIN"]})]}),p.jsx("button",{onClick:()=>o(g),style:xt.delBtn,children:""})]},g))]})]})},gO=({users:n,updateFullUserInfo:t,handleChangeUserPassword:i})=>{const[r,o]=F.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"  "}),p.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[p.jsx("span",{style:{fontSize:24},children:""}),p.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:u.map(c=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?p.jsx("span",{style:{color:"#0f0"},children:""}):p.jsx("span",{style:{color:"#444"},children:""})}),p.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),p.jsxs("td",{style:{color:"#ffb347"},children:[" ",c.diamond?.toLocaleString()]}),p.jsx("td",{children:p.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),p.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[p.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),p.jsx("button",{onClick:()=>i(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},yO=({agents:n,users:t,newAgentName:i,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:d})=>p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"  "}),p.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[p.jsx("input",{placeholder:"",value:i,onChange:g=>r(g.target.value),style:xt.giantInput}),p.jsx("input",{placeholder:"",value:o,onChange:g=>u(g.target.value),style:xt.giantInput}),p.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:n.map(g=>{const y=t.filter(v=>v.referral===g.code);return p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{style:{color:"#ffb347",fontSize:18},children:g.name}),p.jsx("td",{children:g.code}),p.jsx("td",{style:{color:"#00ff00"},children:y.length}),p.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:y.map(v=>v.id).join(", ")}),p.jsx("td",{children:p.jsx("button",{onClick:()=>{const v=n.filter(b=>b.id!==g.id);d(v),localStorage.setItem("daisy_agents",JSON.stringify(v))},style:xt.delBtn,children:""})})]},g.id)})})]})]}),vO=({users:n,updateFullUserInfo:t})=>p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"  "}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:" "}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:n.map(i=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{children:i.id}),p.jsx("td",{children:p.jsx("input",{id:`rc-${i.id}`,defaultValue:i.refCode||"",style:xt.giantInput})}),p.jsx("td",{children:p.jsx("input",{id:`rf-${i.id}`,defaultValue:i.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),p.jsx("td",{children:p.jsx("button",{onClick:()=>t(i.id,i.diamond,document.getElementById(`rc-${i.id}`).value,document.getElementById(`rf-${i.id}`).value),style:xt.giantBtn,children:""})})]},i.id))})]})]}),xO=({gameHistory:n})=>p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"  "}),p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:n.map(t=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),p.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,")"]})]},t.round))})]})]}),bO=({sponsorships:n})=>p.jsxs("div",{style:xt.card,children:[p.jsx("h1",{style:xt.bigTabTitle,children:"  "}),p.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:p.jsxs("table",{style:xt.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:""}),p.jsx("th",{children:"ID"}),p.jsx("th",{children:""}),p.jsx("th",{children:""}),p.jsx("th",{children:""})]})}),p.jsx("tbody",{children:n.map((t,i)=>p.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[p.jsx("td",{style:{color:"#ffb347"},children:t.round}),p.jsx("td",{children:p.jsx("b",{children:t.userId})}),p.jsx("td",{style:{color:t.pick==="PLAYER"?"#4d94ff":t.pick==="BANKER"?"#ff4d4d":"#00e676",fontWeight:"bold"},children:t.pick}),p.jsx("td",{style:{color:"#fff"},children:t.betAmount?.toLocaleString()}),p.jsx("td",{children:t.win===null?p.jsx("span",{style:{color:"#888"},children:""}):t.win?p.jsx("span",{style:{color:"#0f0"},children:""}):p.jsx("span",{style:{color:"#f00"},children:""})})]},i))})]})})]});function _O({users:n,setUsers:t,onExit:i}){const[r,o]=F.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:d,queue:g,deleteQueue:y,gameHistory:v,sponsorships:b,activeUsers:S,depositRequests:M,withdrawRequests:k,financeHistory:q,approveDeposit:B,approveWithdraw:Z,agents:O,setAgents:H,newAgentName:Q,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:w,addAgent:A,handleApplyManipulation:R,updateFullUserInfo:V,handleChangeUserPassword:j,handleChangeAdminPassword:P}=hO(n,t);return p.jsxs("div",{style:xt.container,children:[p.jsxs("aside",{style:xt.sidebar,children:[p.jsx("h2",{style:xt.title,children:"CASINO MASTER"}),p.jsxs("div",{style:xt.onlineBadge,children:[p.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),p.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",S.length,""]})]}),p.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",p.jsx("span",{style:xt.countTag,children:M.length+k.length})]}),p.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),p.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),p.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:p.jsx("button",{onClick:P,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),p.jsx("button",{onClick:i,style:xt.exitBtn,children:" "})]}),p.jsxs("main",{style:xt.main,children:[r==="requests"&&p.jsx(dO,{depositRequests:M,withdrawRequests:k,approveDeposit:B,approveWithdraw:Z}),r==="finance"&&p.jsx(pO,{financeHistory:q}),r==="event"&&p.jsx(mO,{currentInfo:u,targetRound:c,setTargetRound:d,queue:g,deleteQueue:y,handleApplyManipulation:R}),r==="users"&&p.jsx(gO,{users:n,updateFullUserInfo:V,handleChangeUserPassword:j}),r==="referrals"&&p.jsx(vO,{users:n,updateFullUserInfo:V}),r==="agents"&&p.jsx(yO,{agents:O,setAgents:H,users:n,newAgentName:Q,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:w,addAgent:A}),r==="history"&&p.jsx(xO,{gameHistory:v}),r==="sponsorships"&&p.jsx(bO,{sponsorships:b})]})]})}const TO=new BroadcastChannel("daisy_global_channel"),sT=[""," "," ","","","","","","",""],rT=["","","","",""],an=(n,t)=>{try{const i=localStorage.getItem(n);if(!i)return t;const r=JSON.parse(i);return r===null?t:r}catch{return t}},on=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(i){i.name==="QuotaExceededError"&&alert("Storage quota exceeded! Please reduce image sizes.")}},aT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:""},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE"}};function SO(){const[n,t]=F.useState(()=>an("lang","ko")),[i,r]=F.useState(()=>an("loggedIn",!1)),[o,u]=F.useState(()=>an("isAdmin",!1)),[c,d]=F.useState(()=>an("isGuest",!1)),[g,y]=F.useState(()=>an("users",[])),[v,b]=F.useState(()=>an("currentUser",null)),[S,M]=F.useState(null),[k,q]=F.useState(0),[B,Z]=F.useState(!1),[O,H]=F.useState(()=>an("adminPw","123456")),[Q,tt]=F.useState(()=>an("gamePw","1234")),[et,w]=F.useState(()=>an("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[A,R]=F.useState(!0),[V,j]=F.useState(!1),[P,D]=F.useState(()=>an("members",[])),[At,wt]=F.useState(()=>an("slideImages",[])),[Y,I]=F.useState(()=>an("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[U,ct]=F.useState(()=>an("videoURL",null)),[gt,N]=F.useState(()=>an("videos",[])),[W,st]=F.useState(()=>an("logo",null)),[dt,yt]=F.useState(()=>an("logoSize",140)),[pt,_t]=F.useState(()=>an("logoPos",{x:0,y:0})),[se,Xt]=F.useState(()=>an("innerLogo",null)),[xn,Fn]=F.useState("dashboard"),qn=F.useMemo(()=>aT[n]||aT.ko,[n]);F.useEffect(()=>{const at=ks(Le(Zt,"settings","global"),Ct=>{if(Ct.exists()){const St=Ct.data();St.hero&&I(St.hero),St.videoURL!==void 0&&ct(St.videoURL),St.logo!==void 0&&st(St.logo),St.logoSize&&yt(St.logoSize),St.logoPos&&_t(St.logoPos),St.members&&D(St.members),St.slideImages&&wt(St.slideImages),St.videos&&N(St.videos),St.innerLogo!==void 0&&Xt(St.innerLogo),St.adminPassword?H(St.adminPassword):St.adminPw&&H(St.adminPw),St.gamePw&&tt(St.gamePw),St.telegramLink&&w(St.telegramLink),St.users&&y(St.users)}});return()=>at()},[]);const bn=async at=>{try{const Ct={hero:Y,videoURL:U,logo:W,logoSize:dt,logoPos:pt,members:P,slideImages:At,videos:gt,innerLogo:se,adminPw:O,gamePw:Q,telegramLink:et,users:g,...at};return await Uf(Le(Zt,"settings","global"),Ct),console.log(" Server Sync Complete"),!0}catch(Ct){return console.error(" Sync Failed:",Ct),!1}},_n=async()=>await bn({}),si=F.useCallback((at,Ct,St,te)=>{y(ae=>ae.map(ee=>ee.id===at?{...ee,diamond:Ct,refCode:St,referral:te}:ee)),b(ae=>ae?.id===at?{...ae,diamond:Ct,refCode:St,referral:te}:ae)},[]);F.useEffect(()=>{TO.onmessage=Ct=>{const{type:St,userId:te,point:ae,refCode:ee,referral:ri}=Ct.data||{};(St==="USER_UPDATE"||St==="POINT_UPDATE")&&te&&si(te,ae,ee,ri)};const at=Ct=>{const{userId:St,point:te,refCode:ae,referral:ee}=Ct.detail||{};St&&si(St,te,ae,ee)};return window.addEventListener("user_point_update",at),()=>window.removeEventListener("user_point_update",at)},[si]),F.useEffect(()=>{on("lang",n),on("loggedIn",i),on("isAdmin",o),on("isGuest",c),on("users",g),on("currentUser",v),on("members",P),on("hero",Y),on("logo",W),on("logoSize",dt),on("logoPos",pt),on("slideImages",At),on("videoURL",U),on("videos",gt),on("innerLogo",se),on("adminPw",O),on("gamePw",Q),on("telegramLink",et)},[n,i,o,c,g,v,Y,W,dt,pt,P,At,U,gt,se,O,Q,et]);const Ai=async(at,Ct)=>{let St=O,te=Q;try{const ee=await Ar(Le(Zt,"settings","global"));if(ee.exists()){const ri=ee.data();ri.adminPw&&(St=ri.adminPw),ri.gamePw&&(te=ri.gamePw),H(St),tt(te)}}catch{console.error("   ")}if(at==="game")if(Ct===te){Z(!0),r(!0);return}else return alert("   .");if(at==="admin")if(Ct===St){u(!0),r(!0),b({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),Fn("dashboard");return}else return alert("   .");const ae=g.find(ee=>ee.id===at&&ee.pw===Ct);if(!ae)return alert(n==="ko"?"  .":"Login Failed");b({...ae}),r(!0),d(!1)},wi=()=>{r(!1),u(!1),d(!1),Z(!1),b(null)},vs=(at,Ct)=>{M(at),q(Ct)};if(B)return p.jsx(_O,{users:g,setUsers:y,onExit:wi});const re=i&&v,be=!re||o&&xn==="landing";return p.jsxs("div",{style:{...Ta.app,height:"100vh",overflow:"hidden"},children:[A&&!o&&re&&!be&&p.jsx("div",{style:Ta.popupOverlay,children:p.jsxs("div",{style:Ta.popupContent,children:[p.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),p.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),p.jsx("button",{onClick:()=>R(!1),style:Ta.popupBtn,children:qn.close})]})}),be?p.jsx("div",{style:{height:"100%",overflowY:"auto"},children:p.jsx(uV,{t:qn,lang:n,users:g,setUsers:y,hero:Y,videoURL:U,logo:W,logoSize:dt,logoPos:pt,styles:Ta,isAdmin:o,setLang:t,onLogin:Ai,onGuestLogin:()=>{b({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),d(!0)},syncToFirebase:bn})}):p.jsx(lO,{user:v,onUpdatePoint:at=>si(v.id,at,v.refCode,v.referral),appAvatarImage:S,appAvatarIdx:k,onAvatarChange:vs,t:qn,lang:n,isGuest:c,members:P,regions:sT,slideImages:At,videos:gt,videoCategories:rT,innerLogo:se,telegramLink:et,onLogout:wi,dashStyles:EO}),o&&p.jsx(fO,{adminPreviewMode:xn,setAdminPreviewMode:Fn,hero:Y,setHero:I,setVideoURL:ct,videoURL:U,logo:W,setLogo:st,logoSize:dt,setLogoSize:yt,logoPos:pt,setLogoPos:_t,members:P,setMembers:D,regions:sT,slideImages:At,setSlideImages:wt,videos:gt,setVideos:N,videoCategories:rT,innerLogo:se,setInnerLogo:Xt,onExit:wi,styles:Ta,adminPw:O,setAdminPw:H,telegramLink:et,setTelegramLink:w,openIndependent:()=>Z(!0),saveToFirebase:_n,syncToFirebase:bn}),!o&&be&&p.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:p.jsx("button",{style:Ta.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Ta={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},EO={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};G2.createRoot(document.getElementById("root")).render(p.jsx(F.StrictMode,{children:p.jsx(SO,{})}));

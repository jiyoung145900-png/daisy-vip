(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var kp={exports:{}},au={};var o_;function R2(){if(o_)return au;o_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return au.Fragment=t,au.jsx=i,au.jsxs=i,au}var l_;function I2(){return l_||(l_=1,kp.exports=R2()),kp.exports}var y=I2(),Bp={exports:{}},kt={};var u_;function D2(){if(u_)return kt;u_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,q={};function Q(D,Y,st){this.props=D,this.context=Y,this.refs=q,this.updater=st||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},Q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=Q.prototype;function U(D,Y,st){this.props=D,this.context=Y,this.refs=q,this.updater=st||N}var X=U.prototype=new k;X.constructor=U,P(X,Q.prototype),X.isPureReactComponent=!0;var Z=Array.isArray;function tt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,Y,st){var dt=st.ref;return{$$typeof:n,type:D,key:Y,ref:dt!==void 0?dt:null,props:st}}function V(D,Y){return R(D.type,Y,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function L(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return Y[st]})}var I=/\/+/g;function bt(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):Y.toString(36)}function Et(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(tt,tt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,Y,st,dt,mt){var gt=typeof D;(gt==="undefined"||gt==="boolean")&&(D=null);var Dt=!1;if(D===null)Dt=!0;else switch(gt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(D.$$typeof){case n:case t:Dt=!0;break;case v:return Dt=D._init,G(Dt(D._payload),Y,st,dt,mt)}}if(Dt)return mt=mt(D),Dt=dt===""?"."+bt(D,0):dt,Z(mt)?(st="",Dt!=null&&(st=Dt.replace(I,"$&/")+"/"),G(mt,Y,st,"",function(Bn){return Bn})):mt!=null&&(M(mt)&&(mt=V(mt,st+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(I,"$&/")+"/")+Dt)),Y.push(mt)),1;Dt=0;var Gt=dt===""?".":dt+":";if(Z(D))for(var Jt=0;Jt<D.length;Jt++)dt=D[Jt],gt=Gt+bt(dt,Jt),Dt+=G(dt,Y,st,gt,mt);else if(Jt=j(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(dt=D.next()).done;)dt=dt.value,gt=Gt+bt(dt,Jt++),Dt+=G(dt,Y,st,gt,mt);else if(gt==="object"){if(typeof D.then=="function")return G(Et(D),Y,st,dt,mt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function F(D,Y,st){if(D==null)return D;var dt=[],mt=0;return G(D,dt,"","",function(gt){return Y.call(st,gt,mt++)}),dt}function ot(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},et={map:F,forEach:function(D,Y,st){F(D,function(){Y.apply(this,arguments)},st)},count:function(D){var Y=0;return F(D,function(){Y++}),Y},toArray:function(D){return F(D,function(Y){return Y})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return kt.Activity=b,kt.Children=et,kt.Component=Q,kt.Fragment=i,kt.Profiler=o,kt.PureComponent=U,kt.StrictMode=r,kt.Suspense=m,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,kt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},kt.cache=function(D){return function(){return D.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(D,Y,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var dt=P({},D.props),mt=D.key;if(Y!=null)for(gt in Y.key!==void 0&&(mt=""+Y.key),Y)!A.call(Y,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Y.ref===void 0||(dt[gt]=Y[gt]);var gt=arguments.length-2;if(gt===1)dt.children=st;else if(1<gt){for(var Dt=Array(gt),Gt=0;Gt<gt;Gt++)Dt[Gt]=arguments[Gt+2];dt.children=Dt}return R(D.type,mt,dt)},kt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},kt.createElement=function(D,Y,st){var dt,mt={},gt=null;if(Y!=null)for(dt in Y.key!==void 0&&(gt=""+Y.key),Y)A.call(Y,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(mt[dt]=Y[dt]);var Dt=arguments.length-2;if(Dt===1)mt.children=st;else if(1<Dt){for(var Gt=Array(Dt),Jt=0;Jt<Dt;Jt++)Gt[Jt]=arguments[Jt+2];mt.children=Gt}if(D&&D.defaultProps)for(dt in Dt=D.defaultProps,Dt)mt[dt]===void 0&&(mt[dt]=Dt[dt]);return R(D,gt,mt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(D){return{$$typeof:d,render:D}},kt.isValidElement=M,kt.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:ot}},kt.memo=function(D,Y){return{$$typeof:g,type:D,compare:Y===void 0?null:Y}},kt.startTransition=function(D){var Y=C.T,st={};C.T=st;try{var dt=D(),mt=C.S;mt!==null&&mt(st,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(tt,pt)}catch(gt){pt(gt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),C.T=Y}},kt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},kt.use=function(D){return C.H.use(D)},kt.useActionState=function(D,Y,st){return C.H.useActionState(D,Y,st)},kt.useCallback=function(D,Y){return C.H.useCallback(D,Y)},kt.useContext=function(D){return C.H.useContext(D)},kt.useDebugValue=function(){},kt.useDeferredValue=function(D,Y){return C.H.useDeferredValue(D,Y)},kt.useEffect=function(D,Y){return C.H.useEffect(D,Y)},kt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},kt.useId=function(){return C.H.useId()},kt.useImperativeHandle=function(D,Y,st){return C.H.useImperativeHandle(D,Y,st)},kt.useInsertionEffect=function(D,Y){return C.H.useInsertionEffect(D,Y)},kt.useLayoutEffect=function(D,Y){return C.H.useLayoutEffect(D,Y)},kt.useMemo=function(D,Y){return C.H.useMemo(D,Y)},kt.useOptimistic=function(D,Y){return C.H.useOptimistic(D,Y)},kt.useReducer=function(D,Y,st){return C.H.useReducer(D,Y,st)},kt.useRef=function(D){return C.H.useRef(D)},kt.useState=function(D){return C.H.useState(D)},kt.useSyncExternalStore=function(D,Y,st){return C.H.useSyncExternalStore(D,Y,st)},kt.useTransition=function(){return C.H.useTransition()},kt.version="19.2.3",kt}var c_;function mg(){return c_||(c_=1,Bp.exports=D2()),Bp.exports}var z=mg(),zp={exports:{}},ou={},Up={exports:{}},Fp={};var h_;function V2(){return h_||(h_=1,(function(n){function t(G,F){var ot=G.length;G.push(F);t:for(;0<ot;){var pt=ot-1>>>1,et=G[pt];if(0<o(et,F))G[pt]=F,G[ot]=et,ot=pt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var F=G[0],ot=G.pop();if(ot!==F){G[0]=ot;t:for(var pt=0,et=G.length,D=et>>>1;pt<D;){var Y=2*(pt+1)-1,st=G[Y],dt=Y+1,mt=G[dt];if(0>o(st,ot))dt<et&&0>o(mt,st)?(G[pt]=mt,G[dt]=ot,pt=dt):(G[pt]=st,G[Y]=ot,pt=Y);else if(dt<et&&0>o(mt,ot))G[pt]=mt,G[dt]=ot,pt=dt;else break t}}return F}function o(G,F){var ot=G.sortIndex-F.sortIndex;return ot!==0?ot:G.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,S=3,j=!1,N=!1,P=!1,q=!1,Q=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(G){for(var F=i(g);F!==null;){if(F.callback===null)r(g);else if(F.startTime<=G)r(g),F.sortIndex=F.expirationTime,t(m,F);else break;F=i(g)}}function Z(G){if(P=!1,X(G),!N)if(i(m)!==null)N=!0,tt||(tt=!0,L());else{var F=i(g);F!==null&&Et(Z,F.startTime-G)}}var tt=!1,C=-1,A=5,R=-1;function V(){return q?!0:!(n.unstable_now()-R<A)}function M(){if(q=!1,tt){var G=n.unstable_now();R=G;var F=!0;try{t:{N=!1,P&&(P=!1,k(C),C=-1),j=!0;var ot=S;try{e:{for(X(G),b=i(m);b!==null&&!(b.expirationTime>G&&V());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,S=b.priorityLevel;var et=pt(b.expirationTime<=G);if(G=n.unstable_now(),typeof et=="function"){b.callback=et,X(G),F=!0;break e}b===i(m)&&r(m),X(G)}else r(m);b=i(m)}if(b!==null)F=!0;else{var D=i(g);D!==null&&Et(Z,D.startTime-G),F=!1}}break t}finally{b=null,S=ot,j=!1}F=void 0}}finally{F?L():tt=!1}}}var L;if(typeof U=="function")L=function(){U(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,bt=I.port2;I.port1.onmessage=M,L=function(){bt.postMessage(null)}}else L=function(){Q(M,0)};function Et(G,F){C=Q(function(){G(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(G){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var ot=S;S=F;try{return G()}finally{S=ot}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=S;S=G;try{return F()}finally{S=ot}},n.unstable_scheduleCallback=function(G,F,ot){var pt=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?pt+ot:pt):ot=pt,G){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=ot+et,G={id:v++,callback:F,priorityLevel:G,startTime:ot,expirationTime:et,sortIndex:-1},ot>pt?(G.sortIndex=ot,t(g,G),i(m)===null&&G===i(g)&&(P?(k(C),C=-1):P=!0,Et(Z,ot-pt))):(G.sortIndex=et,t(m,G),N||j||(N=!0,tt||(tt=!0,L()))),G},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(G){var F=S;return function(){var ot=S;S=F;try{return G.apply(this,arguments)}finally{S=ot}}}})(Fp)),Fp}var f_;function j2(){return f_||(f_=1,Up.exports=V2()),Up.exports}var qp={exports:{}},bn={};var d_;function M2(){if(d_)return bn;d_=1;var n=mg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},bn.flushSync=function(m){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=v,r.d.f()}},bn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},bn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},bn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:j}):v==="script"&&r.d.X(m,{crossOrigin:b,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},bn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},bn.requestFormReset=function(m){r.d.r(m)},bn.unstable_batchedUpdates=function(m,g){return m(g)},bn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var p_;function O2(){if(p_)return qp.exports;p_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qp.exports=M2(),qp.exports}var m_;function N2(){if(m_)return ou;m_=1;var n=j2(),t=mg(),i=O2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),e;if(p===l)return m(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,l=p;break}if(E===l){x=!0,l=f,a=p;break}E=E.sibling}if(!x){for(E=p.child;E;){if(E===a){x=!0,a=p,l=f;break}if(E===l){x=!0,l=p,a=f;break}E=E.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case Q:return"Profiler";case q:return"StrictMode";case Z:return"Suspense";case tt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case U:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case X:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return s=e.displayName||null,s!==null?s:bt(e.type)||"Memo";case A:s=e._payload,e=e._init;try{return bt(e(s))}catch{}}return null}var Et=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},pt=[],et=-1;function D(e){return{current:e}}function Y(e){0>et||(e.current=pt[et],pt[et]=null,et--)}function st(e,s){et++,pt[et]=e.current,e.current=s}var dt=D(null),mt=D(null),gt=D(null),Dt=D(null);function Gt(e,s){switch(st(gt,s),st(mt,e),st(dt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?D1(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=D1(s),e=V1(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(dt),st(dt,e)}function Jt(){Y(dt),Y(mt),Y(gt)}function Bn(e){e.memoizedState!==null&&st(Dt,e);var s=dt.current,a=V1(s,e.type);s!==a&&(st(mt,e),st(dt,a))}function zn(e){mt.current===e&&(Y(dt),Y(mt)),Dt.current===e&&(Y(Dt),nu._currentValue=ot)}var Un,vn;function _n(e){if(Un===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Un=s&&s[1]||"",vn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+e+vn}var ni=!1;function Ti(e,s){if(!e||ni)return"";ni=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(it){var J=it}Reflect.construct(e,[],ht)}else{try{ht.call()}catch(it){J=it}e.call(ht.prototype)}}else{try{throw Error()}catch(it){J=it}(ht=e())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(it){if(it&&J&&typeof it.stack=="string")return[it.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),x=p[0],E=p[1];if(x&&E){var O=x.split(`
`),$=E.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===$.length)for(l=O.length-1,f=$.length-1;1<=l&&0<=f&&O[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==$[f]){var rt=`
`+O[l].replace(" at new "," at ");return e.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",e.displayName)),rt}while(1<=l&&0<=f);break}}}finally{ni=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_n(a):""}function Si(e,s){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return e.child!==s&&s!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return Ti(e.type,!1);case 11:return Ti(e.type.render,!1);case 1:return Ti(e.type,!0);case 31:return _n("Activity");default:return""}}function ys(e){try{var s="",a=null;do s+=Si(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ie=Object.prototype.hasOwnProperty,_e=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,wt=n.unstable_requestPaint,se=n.unstable_now,fe=n.unstable_getCurrentPriorityLevel,be=n.unstable_ImmediatePriority,Yr=n.unstable_UserBlockingPriority,Gs=n.unstable_NormalPriority,Uf=n.unstable_LowPriority,Xu=n.unstable_IdlePriority,Wu=n.log,$u=n.unstable_setDisableYieldValue,Ei=null,ln=null;function ii(e){if(typeof Wu=="function"&&$u(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ei,e)}catch{}}var Me=Math.clz32?Math.clz32:Ju,Zu=Math.log,Fa=Math.LN2;function Ju(e){return e>>>=0,e===0?32:31-(Zu(e)/Fa|0)|0}var Ui=256,Qr=262144,ke=4194304;function Fi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,p=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?f=Fi(l):(x&=E,x!==0?f=Fi(x):a||(a=E&~e,a!==0&&(f=Fi(a))))):(E=l&~p,E!==0?f=Fi(E):x!==0?f=Fi(x):a||(a=l&~e,a!==0&&(f=Fi(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function Ai(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Ff(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var e=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),e}function Hi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Kr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qf(e,s,a,l,f,p){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,O=e.expirationTimes,$=e.hiddenUpdates;for(a=x&~a;0<a;){var rt=31-Me(a),ht=1<<rt;E[rt]=0,O[rt]=-1;var J=$[rt];if(J!==null)for($[rt]=null,rt=0;rt<J.length;rt++){var it=J[rt];it!==null&&(it.lane&=-536870913)}a&=~ht}l!==0&&Xr(e,l,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(x&~s))}function Xr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Me(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function ol(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Me(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function ll(e,s){var a=s&-s;return a=(a&42)!==0?1:Wr(a),(a&(e.suspendedLanes|s))!==0?0:a}function Wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:t_(e.type))}function wi(e,s){var a=F.p;try{return F.p=e,s()}finally{F.p=a}}var Ci=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ci,en="__reactProps$"+Ci,Gi="__reactContainer$"+Ci,qa="__reactEvents$"+Ci,Hf="__reactListeners$"+Ci,nc="__reactHandles$"+Ci,ic="__reactResources$"+Ci,Yi="__reactMarker$"+Ci;function Ha(e){delete e[Be],delete e[en],delete e[qa],delete e[Hf],delete e[nc]}function Qi(e){var s=e[Be];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Gi]||a[Be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=k1(e);e!==null;){if(a=e[Be])return a;e=k1(e)}return s}e=a,a=e.parentNode}return null}function si(e){if(e=e[Be]||e[Gi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Fn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Ki(e){var s=e[ic];return s||(s=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ze(e){e[Yi]=!0}var ul=new Set,cl={};function Xi(e,s){Wi(e,s),Wi(e+"Capture",s)}function Wi(e,s){for(cl[e]=s,e=0;e<s.length;e++)ul.add(s[e])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function sc(e){return ie.call(dl,e)?!0:ie.call(fl,e)?!1:hl.test(e)?dl[e]=!0:(fl[e]=!0,!1)}function Ga(e,s,a){if(sc(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function qn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ue(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ys(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pl(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,p.call(this,x)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function ue(e){if(!e._valueTracker){var s=Ys(e)?"checked":"value";e._valueTracker=pl(e,s,""+e[s])}}function $r(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Ys(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zr=/[\n"\\]/g;function In(e){return e.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ya(e,s,a,l,f,p,x,E){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),s!=null?x==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+nn(s)):e.value!==""+nn(s)&&(e.value=""+nn(s)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),s!=null?ml(e,x,nn(s)):a!=null?ml(e,x,nn(a)):l!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function rc(e,s,a,l,f,p,x,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){ue(e);return}a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,E||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),ue(e)}function ml(e,s,a){s==="number"&&$i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qs(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function ac(e,s,a){if(s!=null&&(s=""+nn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+nn(a):""}function Ks(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ue(e)}function Dn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||oc.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function yl(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&gl(e,f,l)}else for(var p in s)s.hasOwnProperty(p)&&gl(e,p,s[p])}function Qa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(e){return Xs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ri(){}var vl=null;function ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ws=null,Zi=null;function Jr(e){var s=si(e);if(s&&(e=s.stateNode)){var a=e[en]||null;t:switch(e=s.stateNode,s.type){case"input":if(Ya(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[en]||null;if(!f)throw Error(r(90));Ya(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&$r(l)}break t;case"textarea":ac(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Qs(e,!!a.multiple,s,!1)}}}var Xa=!1;function $s(e,s,a){if(Xa)return e(s,a);Xa=!0;try{var l=e(s);return l}finally{if(Xa=!1,(Ws!==null||Zi!==null)&&(eh(),Ws&&(s=Ws,e=Zi,Zi=Ws=null,Jr(s),e)))for(s=0;s<e.length;s++)Jr(e[s])}}function Ii(e,s){var a=e.stateNode;if(a===null)return null;var l=a[en]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(ai)try{var de={};Object.defineProperty(de,"passive",{get:function(){ta=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{ta=!1}var Ji=null,_l=null,ea=null;function bl(){if(ea)return ea;var e,s=_l,a=s.length,l,f="value"in Ji?Ji.value:Ji.textContent,p=f.length;for(e=0;e<a&&s[e]===f[e];e++);var x=a-e;for(l=1;l<=x&&s[a-l]===f[p-l];l++);return ea=f.slice(e,1<l?1-l:void 0)}function na(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Di(){return!1}function un(e){function s(a,l,f,p,x){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_s:Di,this.isPropagationStopped=Di,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),s}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=un(bs),Zs=b({},bs,{view:0,detail:0}),xl=un(Zs),Js,Wa,es,$a=b({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(Js=e.screenX-es.screenX,Wa=e.screenY-es.screenY):Wa=Js=0,es=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),Tl=un($a),ia=b({},$a,{dataTransfer:0}),uc=un(ia),cc=b({},Zs,{relatedTarget:0}),sa=un(cc),Sl=b({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=un(Sl),Za=b({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fc=un(Za),dc=b({},bs,{data:0}),ns=un(dc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=gc[e])?!!s[e]:!1}function tr(){return yc}var An=b({},Zs,{key:function(e){if(e.key){var s=pc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vc=un(An),_c=b({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xs=un(_c),h=b({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),_=un(h),T=b({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=un(T),K=b({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=un(K),yt=b({},bs,{newState:0,oldState:0}),zt=un(yt),Oe=[9,13,27,32],re=ai&&"CompositionEvent"in window,Ee=null;ai&&"documentMode"in document&&(Ee=document.documentMode);var oi=ai&&"TextEvent"in window&&!Ee,is=ai&&(!re||Ee&&8<Ee&&11>=Ee),Vi=" ",ji=!1;function ra(e,s){switch(e){case"keyup":return Oe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function ZA(e,s){switch(e){case"compositionend":return Ja(s);case"keypress":return s.which!==32?null:(ji=!0,Vi);case"textInput":return e=s.data,e===Vi&&ji?null:e;default:return null}}function JA(e,s){if(to)return e==="compositionend"||!re&&ra(e,s)?(e=bl(),ea=_l=Ji=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!tw[e.type]:s==="textarea"}function Fy(e,s,a,l){Ws?Zi?Zi.push(l):Zi=[l]:Ws=l,s=lh(s,"onChange"),0<s.length&&(a=new ts("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var El=null,Al=null;function ew(e){E1(e,0)}function bc(e){var s=Fn(e);if($r(s))return e}function qy(e,s){if(e==="change")return s}var Hy=!1;if(ai){var Gf;if(ai){var Yf="oninput"in document;if(!Yf){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Yf=typeof Gy.oninput=="function"}Gf=Yf}else Gf=!1;Hy=Gf&&(!document.documentMode||9<document.documentMode)}function Yy(){El&&(El.detachEvent("onpropertychange",Qy),Al=El=null)}function Qy(e){if(e.propertyName==="value"&&bc(Al)){var s=[];Fy(s,Al,e,ri(e)),$s(ew,s)}}function nw(e,s,a){e==="focusin"?(Yy(),El=s,Al=a,El.attachEvent("onpropertychange",Qy)):e==="focusout"&&Yy()}function iw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bc(Al)}function sw(e,s){if(e==="click")return bc(s)}function rw(e,s){if(e==="input"||e==="change")return bc(s)}function aw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Hn=typeof Object.is=="function"?Object.is:aw;function wl(e,s){if(Hn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ie.call(s,f)||!Hn(e[f],s[f]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xy(e,s){var a=Ky(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ky(a)}}function Wy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Wy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function $y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=$i(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=$i(e.document)}return s}function Qf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var ow=ai&&"documentMode"in document&&11>=document.documentMode,eo=null,Kf=null,Cl=null,Xf=!1;function Zy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||eo==null||eo!==$i(l)||(l=eo,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&wl(Cl,l)||(Cl=l,l=lh(Kf,"onSelect"),0<l.length&&(s=new ts("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=eo)))}function aa(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var no={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Wf={},Jy={};ai&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function oa(e){if(Wf[e])return Wf[e];if(!no[e])return e;var s=no[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jy)return Wf[e]=s[a];return e}var t0=oa("animationend"),e0=oa("animationiteration"),n0=oa("animationstart"),lw=oa("transitionrun"),uw=oa("transitionstart"),cw=oa("transitioncancel"),i0=oa("transitionend"),s0=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function Mi(e,s){s0.set(e,s),Xi(s,[e])}var xc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},li=[],io=0,Zf=0;function Tc(){for(var e=io,s=Zf=io=0;s<e;){var a=li[s];li[s++]=null;var l=li[s];li[s++]=null;var f=li[s];li[s++]=null;var p=li[s];if(li[s++]=null,l!==null&&f!==null){var x=l.pending;x===null?f.next=f:(f.next=x.next,x.next=f),l.pending=f}p!==0&&r0(a,f,p)}}function Sc(e,s,a,l){li[io++]=e,li[io++]=s,li[io++]=a,li[io++]=l,Zf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jf(e,s,a,l){return Sc(e,s,a,l),Ec(e)}function la(e,s){return Sc(e,null,null,s),Ec(e)}function r0(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=e.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&s!==null&&(f=31-Me(a),e=p.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Ec(e){if(50<Xl)throw Xl=0,lp=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var so={};function hw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,s,a,l){return new hw(e,s,a,l)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ts(e,s){var a=e.alternate;return a===null?(a=Gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function a0(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Ac(e,s,a,l,f,p){var x=0;if(l=e,typeof e=="function")td(e)&&(x=1);else if(typeof e=="string")x=g2(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Gn(31,a,s,f),e.elementType=R,e.lanes=p,e;case P:return ua(a.children,f,p,s);case q:x=8,f|=24;break;case Q:return e=Gn(12,a,s,f|2),e.elementType=Q,e.lanes=p,e;case Z:return e=Gn(13,a,s,f),e.elementType=Z,e.lanes=p,e;case tt:return e=Gn(19,a,s,f),e.elementType=tt,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:x=10;break t;case k:x=9;break t;case X:x=11;break t;case C:x=14;break t;case A:x=16,l=null;break t}x=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Gn(x,a,s,f),s.elementType=e,s.type=l,s.lanes=p,s}function ua(e,s,a,l){return e=Gn(7,e,l,s),e.lanes=a,e}function ed(e,s,a){return e=Gn(6,e,null,s),e.lanes=a,e}function o0(e){var s=Gn(18,null,null,0);return s.stateNode=e,s}function nd(e,s,a){return s=Gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var l0=new WeakMap;function ui(e,s){if(typeof e=="object"&&e!==null){var a=l0.get(e);return a!==void 0?a:(s={value:e,source:s,stack:ys(s)},l0.set(e,s),s)}return{value:e,source:s,stack:ys(s)}}var ro=[],ao=0,wc=null,Rl=0,ci=[],hi=0,er=null,ss=1,rs="";function Ss(e,s){ro[ao++]=Rl,ro[ao++]=wc,wc=e,Rl=s}function u0(e,s,a){ci[hi++]=ss,ci[hi++]=rs,ci[hi++]=er,er=e;var l=ss;e=rs;var f=32-Me(l)-1;l&=~(1<<f),a+=1;var p=32-Me(s)+f;if(30<p){var x=f-f%5;p=(l&(1<<x)-1).toString(32),l>>=x,f-=x,ss=1<<32-Me(s)+f|a<<f|l,rs=p+e}else ss=1<<p|a<<f|l,rs=e}function id(e){e.return!==null&&(Ss(e,1),u0(e,1,0))}function sd(e){for(;e===wc;)wc=ro[--ao],ro[ao]=null,Rl=ro[--ao],ro[ao]=null;for(;e===er;)er=ci[--hi],ci[hi]=null,rs=ci[--hi],ci[hi]=null,ss=ci[--hi],ci[hi]=null}function c0(e,s){ci[hi++]=ss,ci[hi++]=rs,ci[hi++]=er,ss=s.id,rs=s.overflow,er=e}var cn=null,xe=null,Wt=!1,nr=null,fi=!1,rd=Error(r(519));function ir(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(ui(s,e)),rd}function h0(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Be]=e,s[en]=l,a){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(a=0;a<$l.length;a++)Ht($l[a],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),rc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),Ks(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||R1(s.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),l.onScroll!=null&&Ht("scroll",s),l.onScrollEnd!=null&&Ht("scrollend",s),l.onClick!=null&&(s.onclick=Ri),s=!0):s=!1,s||ir(e,!0)}function f0(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:cn=cn.return}}function oo(e){if(e!==cn)return!1;if(!Wt)return f0(e),Wt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sp(e.type,e.memoizedProps)),a=!a),a&&xe&&ir(e),f0(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xe=P1(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xe=P1(e)}else s===27?(s=xe,yr(e.type)?(e=Rp,Rp=null,xe=e):xe=s):xe=cn?pi(e.stateNode.nextSibling):null;return!0}function ca(){xe=cn=null,Wt=!1}function ad(){var e=nr;return e!==null&&(On===null?On=e:On.push.apply(On,e),nr=null),e}function Il(e){nr===null?nr=[e]:nr.push(e)}var od=D(null),ha=null,Es=null;function sr(e,s,a){st(od,s._currentValue),s._currentValue=a}function As(e){e._currentValue=od.current,Y(od)}function ld(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function ud(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var x=f.child;p=p.firstContext;t:for(;p!==null;){var E=p;p=f;for(var O=0;O<s.length;O++)if(E.context===s[O]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),ld(p.return,a,e),l||(x=null);break t}p=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(r(341));x.lanes|=a,p=x.alternate,p!==null&&(p.lanes|=a),ld(x,a,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function lo(e,s,a,l){e=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var E=f.type;Hn(f.pendingProps.value,x.value)||(e!==null?e.push(E):e=[E])}}else if(f===Dt.current){if(x=f.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(nu):e=[nu])}f=f.return}e!==null&&ud(s,e,a,l),s.flags|=262144}function Cc(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){ha=e,Es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function hn(e){return d0(ha,e)}function Rc(e,s){return ha===null&&fa(e),d0(e,s)}function d0(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Es===null){if(e===null)throw Error(r(308));Es=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Es=Es.next=s;return a}var fw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},dw=n.unstable_scheduleCallback,pw=n.unstable_NormalPriority,Fe={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new fw,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&dw(pw,function(){e.controller.abort()})}var Vl=null,hd=0,uo=0,co=null;function mw(e,s){if(Vl===null){var a=Vl=[];hd=0,uo=pp(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hd++,s.then(p0,p0),s}function p0(){if(--hd===0&&Vl!==null){co!==null&&(co.status="fulfilled");var e=Vl;Vl=null,uo=0,co=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function gw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var m0=G.S;G.S=function(e,s){Zv=se(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mw(e,s),m0!==null&&m0(e,s)};var da=D(null);function fd(){var e=da.current;return e!==null?e:ye.pooledCache}function Ic(e,s){s===null?st(da,da.current):st(da,s.pool)}function g0(){var e=fd();return e===null?null:{parent:Fe._currentValue,pool:e}}var ho=Error(r(460)),dd=Error(r(474)),Dc=Error(r(542)),Vc={then:function(){}};function y0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function v0(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Ri,Ri),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,b0(e),e;default:if(typeof s.status=="string")s.then(Ri,Ri);else{if(e=ye,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,b0(e),e}throw ma=s,ho}}function pa(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,ho):a}}var ma=null;function _0(){if(ma===null)throw Error(r(459));var e=ma;return ma=null,e}function b0(e){if(e===ho||e===Dc)throw Error(r(483))}var fo=null,jl=0;function jc(e){var s=jl;return jl+=1,fo===null&&(fo=[]),v0(fo,e,s)}function Ml(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Mc(e,s){throw s.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function x0(e){function s(H,B){if(e){var W=H.deletions;W===null?(H.deletions=[B],H.flags|=16):W.push(B)}}function a(H,B){if(!e)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function l(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Ts(H,B),H.index=0,H.sibling=null,H}function p(H,B,W){return H.index=W,e?(W=H.alternate,W!==null?(W=W.index,W<B?(H.flags|=67108866,B):W):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function x(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function E(H,B,W,lt){return B===null||B.tag!==6?(B=ed(W,H.mode,lt),B.return=H,B):(B=f(B,W),B.return=H,B)}function O(H,B,W,lt){var Rt=W.type;return Rt===P?rt(H,B,W.props.children,lt,W.key):B!==null&&(B.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===A&&pa(Rt)===B.type)?(B=f(B,W.props),Ml(B,W),B.return=H,B):(B=Ac(W.type,W.key,W.props,null,H.mode,lt),Ml(B,W),B.return=H,B)}function $(H,B,W,lt){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=nd(W,H.mode,lt),B.return=H,B):(B=f(B,W.children||[]),B.return=H,B)}function rt(H,B,W,lt,Rt){return B===null||B.tag!==7?(B=ua(W,H.mode,lt,Rt),B.return=H,B):(B=f(B,W),B.return=H,B)}function ht(H,B,W){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ed(""+B,H.mode,W),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return W=Ac(B.type,B.key,B.props,null,H.mode,W),Ml(W,B),W.return=H,W;case N:return B=nd(B,H.mode,W),B.return=H,B;case A:return B=pa(B),ht(H,B,W)}if(Et(B)||L(B))return B=ua(B,H.mode,W,null),B.return=H,B;if(typeof B.then=="function")return ht(H,jc(B),W);if(B.$$typeof===U)return ht(H,Rc(H,B),W);Mc(H,B)}return null}function J(H,B,W,lt){var Rt=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Rt!==null?null:E(H,B,""+W,lt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===Rt?O(H,B,W,lt):null;case N:return W.key===Rt?$(H,B,W,lt):null;case A:return W=pa(W),J(H,B,W,lt)}if(Et(W)||L(W))return Rt!==null?null:rt(H,B,W,lt,null);if(typeof W.then=="function")return J(H,B,jc(W),lt);if(W.$$typeof===U)return J(H,B,Rc(H,W),lt);Mc(H,W)}return null}function it(H,B,W,lt,Rt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return H=H.get(W)||null,E(B,H,""+lt,Rt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case j:return H=H.get(lt.key===null?W:lt.key)||null,O(B,H,lt,Rt);case N:return H=H.get(lt.key===null?W:lt.key)||null,$(B,H,lt,Rt);case A:return lt=pa(lt),it(H,B,W,lt,Rt)}if(Et(lt)||L(lt))return H=H.get(W)||null,rt(B,H,lt,Rt,null);if(typeof lt.then=="function")return it(H,B,W,jc(lt),Rt);if(lt.$$typeof===U)return it(H,B,W,Rc(B,lt),Rt);Mc(B,lt)}return null}function St(H,B,W,lt){for(var Rt=null,te=null,At=B,Ft=B=0,Qt=null;At!==null&&Ft<W.length;Ft++){At.index>Ft?(Qt=At,At=null):Qt=At.sibling;var ee=J(H,At,W[Ft],lt);if(ee===null){At===null&&(At=Qt);break}e&&At&&ee.alternate===null&&s(H,At),B=p(ee,B,Ft),te===null?Rt=ee:te.sibling=ee,te=ee,At=Qt}if(Ft===W.length)return a(H,At),Wt&&Ss(H,Ft),Rt;if(At===null){for(;Ft<W.length;Ft++)At=ht(H,W[Ft],lt),At!==null&&(B=p(At,B,Ft),te===null?Rt=At:te.sibling=At,te=At);return Wt&&Ss(H,Ft),Rt}for(At=l(At);Ft<W.length;Ft++)Qt=it(At,H,Ft,W[Ft],lt),Qt!==null&&(e&&Qt.alternate!==null&&At.delete(Qt.key===null?Ft:Qt.key),B=p(Qt,B,Ft),te===null?Rt=Qt:te.sibling=Qt,te=Qt);return e&&At.forEach(function(Tr){return s(H,Tr)}),Wt&&Ss(H,Ft),Rt}function Vt(H,B,W,lt){if(W==null)throw Error(r(151));for(var Rt=null,te=null,At=B,Ft=B=0,Qt=null,ee=W.next();At!==null&&!ee.done;Ft++,ee=W.next()){At.index>Ft?(Qt=At,At=null):Qt=At.sibling;var Tr=J(H,At,ee.value,lt);if(Tr===null){At===null&&(At=Qt);break}e&&At&&Tr.alternate===null&&s(H,At),B=p(Tr,B,Ft),te===null?Rt=Tr:te.sibling=Tr,te=Tr,At=Qt}if(ee.done)return a(H,At),Wt&&Ss(H,Ft),Rt;if(At===null){for(;!ee.done;Ft++,ee=W.next())ee=ht(H,ee.value,lt),ee!==null&&(B=p(ee,B,Ft),te===null?Rt=ee:te.sibling=ee,te=ee);return Wt&&Ss(H,Ft),Rt}for(At=l(At);!ee.done;Ft++,ee=W.next())ee=it(At,H,Ft,ee.value,lt),ee!==null&&(e&&ee.alternate!==null&&At.delete(ee.key===null?Ft:ee.key),B=p(ee,B,Ft),te===null?Rt=ee:te.sibling=ee,te=ee);return e&&At.forEach(function(C2){return s(H,C2)}),Wt&&Ss(H,Ft),Rt}function ge(H,B,W,lt){if(typeof W=="object"&&W!==null&&W.type===P&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:t:{for(var Rt=W.key;B!==null;){if(B.key===Rt){if(Rt=W.type,Rt===P){if(B.tag===7){a(H,B.sibling),lt=f(B,W.props.children),lt.return=H,H=lt;break t}}else if(B.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===A&&pa(Rt)===B.type){a(H,B.sibling),lt=f(B,W.props),Ml(lt,W),lt.return=H,H=lt;break t}a(H,B);break}else s(H,B);B=B.sibling}W.type===P?(lt=ua(W.props.children,H.mode,lt,W.key),lt.return=H,H=lt):(lt=Ac(W.type,W.key,W.props,null,H.mode,lt),Ml(lt,W),lt.return=H,H=lt)}return x(H);case N:t:{for(Rt=W.key;B!==null;){if(B.key===Rt)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){a(H,B.sibling),lt=f(B,W.children||[]),lt.return=H,H=lt;break t}else{a(H,B);break}else s(H,B);B=B.sibling}lt=nd(W,H.mode,lt),lt.return=H,H=lt}return x(H);case A:return W=pa(W),ge(H,B,W,lt)}if(Et(W))return St(H,B,W,lt);if(L(W)){if(Rt=L(W),typeof Rt!="function")throw Error(r(150));return W=Rt.call(W),Vt(H,B,W,lt)}if(typeof W.then=="function")return ge(H,B,jc(W),lt);if(W.$$typeof===U)return ge(H,B,Rc(H,W),lt);Mc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,B!==null&&B.tag===6?(a(H,B.sibling),lt=f(B,W),lt.return=H,H=lt):(a(H,B),lt=ed(W,H.mode,lt),lt.return=H,H=lt),x(H)):a(H,B)}return function(H,B,W,lt){try{jl=0;var Rt=ge(H,B,W,lt);return fo=null,Rt}catch(At){if(At===ho||At===Dc)throw At;var te=Gn(29,At,null,H.mode);return te.lanes=lt,te.return=H,te}}}var ga=x0(!0),T0=x0(!1),rr=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ae&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ec(e),r0(e,null,a),s}return Sc(e,l,s,a),Ec(e)}function Ol(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,ol(e,a)}}function gd(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=x:p=p.next=x,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var yd=!1;function Nl(){if(yd){var e=co;if(e!==null)throw e}}function Ll(e,s,a,l){yd=!1;var f=e.updateQueue;rr=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,$=O.next;O.next=null,x===null?p=$:x.next=$,x=O;var rt=e.alternate;rt!==null&&(rt=rt.updateQueue,E=rt.lastBaseUpdate,E!==x&&(E===null?rt.firstBaseUpdate=$:E.next=$,rt.lastBaseUpdate=O))}if(p!==null){var ht=f.baseState;x=0,rt=$=O=null,E=p;do{var J=E.lane&-536870913,it=J!==E.lane;if(it?(Yt&J)===J:(l&J)===J){J!==0&&J===uo&&(yd=!0),rt!==null&&(rt=rt.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var St=e,Vt=E;J=s;var ge=a;switch(Vt.tag){case 1:if(St=Vt.payload,typeof St=="function"){ht=St.call(ge,ht,J);break t}ht=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Vt.payload,J=typeof St=="function"?St.call(ge,ht,J):St,J==null)break t;ht=b({},ht,J);break t;case 2:rr=!0}}J=E.callback,J!==null&&(e.flags|=64,it&&(e.flags|=8192),it=f.callbacks,it===null?f.callbacks=[J]:it.push(J))}else it={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},rt===null?($=rt=it,O=ht):rt=rt.next=it,x|=J;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;it=E,E=it.next,it.next=null,f.lastBaseUpdate=it,f.shared.pending=null}}while(!0);rt===null&&(O=ht),f.baseState=O,f.firstBaseUpdate=$,f.lastBaseUpdate=rt,p===null&&(f.shared.lanes=0),fr|=x,e.lanes=x,e.memoizedState=ht}}function S0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function E0(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)S0(a[e],s)}var po=D(null),Oc=D(0);function A0(e,s){e=Os,st(Oc,e),st(po,s),Os=e|s.baseLanes}function vd(){st(Oc,Os),st(po,po.current)}function _d(){Os=Oc.current,Y(po),Y(Oc)}var Yn=D(null),di=null;function lr(e){var s=e.alternate;st(Ne,Ne.current&1),st(Yn,e),di===null&&(s===null||po.current!==null||s.memoizedState!==null)&&(di=e)}function bd(e){st(Ne,Ne.current),st(Yn,e),di===null&&(di=e)}function w0(e){e.tag===22?(st(Ne,Ne.current),st(Yn,e),di===null&&(di=e)):ur()}function ur(){st(Ne,Ne.current),st(Yn,Yn.current)}function Qn(e){Y(Yn),di===e&&(di=null),Y(Ne)}var Ne=D(0);function Nc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wp(a)||Cp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ws=0,Ut=null,pe=null,qe=null,Lc=!1,mo=!1,ya=!1,Pc=0,Pl=0,go=null,yw=0;function Ie(){throw Error(r(321))}function xd(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Hn(e[a],s[a]))return!1;return!0}function Td(e,s,a,l,f,p){return ws=p,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=e===null||e.memoizedState===null?uv:Pd,ya=!1,p=a(l,f),ya=!1,mo&&(p=R0(s,a,l,f)),C0(e),p}function C0(e){G.H=zl;var s=pe!==null&&pe.next!==null;if(ws=0,qe=pe=Ut=null,Lc=!1,Pl=0,go=null,s)throw Error(r(300));e===null||He||(e=e.dependencies,e!==null&&Cc(e)&&(He=!0))}function R0(e,s,a,l){Ut=e;var f=0;do{if(mo&&(go=null),Pl=0,mo=!1,25<=f)throw Error(r(301));if(f+=1,qe=pe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=cv,p=s(a,l)}while(mo);return p}function vw(){var e=G.H,s=e.useState()[0];return s=typeof s.then=="function"?kl(s):s,e=e.useState()[0],(pe!==null?pe.memoizedState:null)!==e&&(Ut.flags|=1024),s}function Sd(){var e=Pc!==0;return Pc=0,e}function Ed(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Ad(e){if(Lc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Lc=!1}ws=0,qe=pe=Ut=null,mo=!1,Pl=Pc=0,go=null}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ut.memoizedState=qe=e:qe=qe.next=e,qe}function Le(){if(pe===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var s=qe===null?Ut.memoizedState:qe.next;if(s!==null)qe=s,pe=e;else{if(e===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},qe===null?Ut.memoizedState=qe=e:qe=qe.next=e}return qe}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var s=Pl;return Pl+=1,go===null&&(go=[]),e=v0(go,e,s),s=Ut,(qe===null?s.memoizedState:qe.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?uv:Pd),e}function Bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===U)return hn(e)}throw Error(r(438,String(e)))}function wd(e){var s=null,a=Ut.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=kc(),Ut.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=V;return s.index++,a}function Cs(e,s){return typeof s=="function"?s(e):s}function zc(e){var s=Le();return Cd(s,pe,e)}function Cd(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,p=l.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}s.baseQueue=f=p,l.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{s=f.next;var E=x=null,O=null,$=s,rt=!1;do{var ht=$.lane&-536870913;if(ht!==$.lane?(Yt&ht)===ht:(ws&ht)===ht){var J=$.revertLane;if(J===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ht===uo&&(rt=!0);else if((ws&J)===J){$=$.next,J===uo&&(rt=!0);continue}else ht={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(E=O=ht,x=p):O=O.next=ht,Ut.lanes|=J,fr|=J;ht=$.action,ya&&a(p,ht),p=$.hasEagerState?$.eagerState:a(p,ht)}else J={lane:ht,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(E=O=J,x=p):O=O.next=J,Ut.lanes|=ht,fr|=ht;$=$.next}while($!==null&&$!==s);if(O===null?x=p:O.next=E,!Hn(p,e.memoizedState)&&(He=!0,rt&&(a=co,a!==null)))throw a;e.memoizedState=p,e.baseState=x,e.baseQueue=O,l.lastRenderedState=p}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rd(e){var s=Le(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do p=e(p,x.action),x=x.next;while(x!==f);Hn(p,s.memoizedState)||(He=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function I0(e,s,a){var l=Ut,f=Le(),p=Wt;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var x=!Hn((pe||f).memoizedState,a);if(x&&(f.memoizedState=a,He=!0),f=f.queue,Vd(j0.bind(null,l,f,e),[e]),f.getSnapshot!==s||x||qe!==null&&qe.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},V0.bind(null,l,f,a,s),null),ye===null)throw Error(r(349));p||(ws&127)!==0||D0(l,s,a)}return a}function D0(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ut.updateQueue,s===null?(s=kc(),Ut.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function V0(e,s,a,l){s.value=a,s.getSnapshot=l,M0(s)&&O0(e)}function j0(e,s,a){return a(function(){M0(s)&&O0(e)})}function M0(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Hn(e,a)}catch{return!0}}function O0(e){var s=la(e,2);s!==null&&Nn(s,e,2)}function Id(e){var s=wn();if(typeof e=="function"){var a=e;if(e=a(),ya){ii(!0);try{a()}finally{ii(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},s}function N0(e,s,a,l){return e.baseState=a,Cd(e,pe,typeof l=="function"?l:Cs)}function _w(e,s,a,l,f){if(qc(e))throw Error(r(485));if(e=s.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};G.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,L0(s,p)):(p.next=a.next,s.pending=a.next=p)}}function L0(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var p=G.T,x={};G.T=x;try{var E=a(f,l),O=G.S;O!==null&&O(x,E),P0(e,s,E)}catch($){Dd(e,s,$)}finally{p!==null&&x.types!==null&&(p.types=x.types),G.T=p}}else try{p=a(f,l),P0(e,s,p)}catch($){Dd(e,s,$)}}function P0(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){k0(e,s,l)},function(l){return Dd(e,s,l)}):k0(e,s,a)}function k0(e,s,a){s.status="fulfilled",s.value=a,B0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,L0(e,a)))}function Dd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,B0(s),s=s.next;while(s!==l)}e.action=null}function B0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function z0(e,s){return s}function U0(e,s){if(Wt){var a=ye.formState;if(a!==null){t:{var l=Ut;if(Wt){if(xe){e:{for(var f=xe,p=fi;f.nodeType!==8;){if(!p){f=null;break e}if(f=pi(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){xe=pi(f.nextSibling),l=f.data==="F!";break t}}ir(l)}l=!1}l&&(s=a[0])}}return a=wn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:s},a.queue=l,a=av.bind(null,Ut,l),l.dispatch=a,l=Id(!1),p=Ld.bind(null,Ut,!1,l.queue),l=wn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=_w.bind(null,Ut,f,p,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function F0(e){var s=Le();return q0(s,pe,e)}function q0(e,s,a){if(s=Cd(e,s,z0)[0],e=zc(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=kl(s)}catch(x){throw x===ho?Dc:x}else l=s;s=Le();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Ut.flags|=2048,yo(9,{destroy:void 0},bw.bind(null,f,a),null)),[l,p,e]}function bw(e,s){e.action=s}function H0(e){var s=Le(),a=pe;if(a!==null)return q0(s,a,e);Le(),s=s.memoizedState,a=Le();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function yo(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Ut.updateQueue,s===null&&(s=kc(),Ut.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function G0(){return Le().memoizedState}function Uc(e,s,a,l){var f=wn();Ut.flags|=e,f.memoizedState=yo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fc(e,s,a,l){var f=Le();l=l===void 0?null:l;var p=f.memoizedState.inst;pe!==null&&l!==null&&xd(l,pe.memoizedState.deps)?f.memoizedState=yo(s,p,a,l):(Ut.flags|=e,f.memoizedState=yo(1|s,p,a,l))}function Y0(e,s){Uc(8390656,8,e,s)}function Vd(e,s){Fc(2048,8,e,s)}function xw(e){Ut.flags|=4;var s=Ut.updateQueue;if(s===null)s=kc(),Ut.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Q0(e){var s=Le().memoizedState;return xw({ref:s,nextImpl:e}),function(){if((ae&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function K0(e,s){return Fc(4,2,e,s)}function X0(e,s){return Fc(4,4,e,s)}function W0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function $0(e,s,a){a=a!=null?a.concat([e]):null,Fc(4,4,W0.bind(null,s,e),a)}function jd(){}function Z0(e,s){var a=Le();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&xd(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function J0(e,s){var a=Le();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&xd(s,l[1]))return l[0];if(l=e(),ya){ii(!0);try{e()}finally{ii(!1)}}return a.memoizedState=[l,s],l}function Md(e,s,a){return a===void 0||(ws&1073741824)!==0&&(Yt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=t1(),Ut.lanes|=e,fr|=e,a)}function tv(e,s,a,l){return Hn(a,s)?a:po.current!==null?(e=Md(e,a,l),Hn(e,s)||(He=!0),e):(ws&42)===0||(ws&1073741824)!==0&&(Yt&261930)===0?(He=!0,e.memoizedState=a):(e=t1(),Ut.lanes|=e,fr|=e,s)}function ev(e,s,a,l,f){var p=F.p;F.p=p!==0&&8>p?p:8;var x=G.T,E={};G.T=E,Ld(e,!1,s,a);try{var O=f(),$=G.S;if($!==null&&$(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var rt=gw(O,l);Bl(e,s,rt,Wn(e))}else Bl(e,s,l,Wn(e))}catch(ht){Bl(e,s,{then:function(){},status:"rejected",reason:ht},Wn())}finally{F.p=p,x!==null&&E.types!==null&&(x.types=E.types),G.T=x}}function Tw(){}function Od(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=nv(e).queue;ev(e,f,s,ot,a===null?Tw:function(){return iv(e),a(l)})}function nv(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:ot},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function iv(e){var s=nv(e);s.next===null&&(s=e.alternate.memoizedState),Bl(e,s.next.queue,{},Wn())}function Nd(){return hn(nu)}function sv(){return Le().memoizedState}function rv(){return Le().memoizedState}function Sw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Wn();e=ar(a);var l=or(s,e,a);l!==null&&(Nn(l,s,a),Ol(l,s,a)),s={cache:cd()},e.payload=s;return}s=s.return}}function Ew(e,s,a){var l=Wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(e)?ov(s,a):(a=Jf(e,s,a,l),a!==null&&(Nn(a,e,l),lv(a,s,l)))}function av(e,s,a){var l=Wn();Bl(e,s,a,l)}function Bl(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(e))ov(s,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var x=s.lastRenderedState,E=p(x,a);if(f.hasEagerState=!0,f.eagerState=E,Hn(E,x))return Sc(e,s,f,0),ye===null&&Tc(),!1}catch{}if(a=Jf(e,s,f,l),a!==null)return Nn(a,e,l),lv(a,s,l),!0}return!1}function Ld(e,s,a,l){if(l={lane:2,revertLane:pp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(e)){if(s)throw Error(r(479))}else s=Jf(e,a,l,2),s!==null&&Nn(s,e,2)}function qc(e){var s=e.alternate;return e===Ut||s!==null&&s===Ut}function ov(e,s){mo=Lc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function lv(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,ol(e,a)}}var zl={readContext:hn,use:Bc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};zl.useEffectEvent=Ie;var uv={readContext:hn,use:Bc,useCallback:function(e,s){return wn().memoizedState=[e,s===void 0?null:s],e},useContext:hn,useEffect:Y0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Uc(4194308,4,W0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Uc(4194308,4,e,s)},useInsertionEffect:function(e,s){Uc(4,2,e,s)},useMemo:function(e,s){var a=wn();s=s===void 0?null:s;var l=e();if(ya){ii(!0);try{e()}finally{ii(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=wn();if(a!==void 0){var f=a(s);if(ya){ii(!0);try{a(s)}finally{ii(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Ew.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var s=wn();return e={current:e},s.memoizedState=e},useState:function(e){e=Id(e);var s=e.queue,a=av.bind(null,Ut,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(e,s){var a=wn();return Md(a,e,s)},useTransition:function(){var e=Id(!1);return e=ev.bind(null,Ut,e.queue,!0,!1),wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Ut,f=wn();if(Wt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ye===null)throw Error(r(349));(Yt&127)!==0||D0(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,Y0(j0.bind(null,l,p,e),[e]),l.flags|=2048,yo(9,{destroy:void 0},V0.bind(null,l,p,a,s),null),a},useId:function(){var e=wn(),s=ye.identifierPrefix;if(Wt){var a=rs,l=ss;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Pc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=yw++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Nd,useFormState:U0,useActionState:U0,useOptimistic:function(e){var s=wn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ld.bind(null,Ut,!0,a),a.dispatch=s,[e,s]},useMemoCache:wd,useCacheRefresh:function(){return wn().memoizedState=Sw.bind(null,Ut)},useEffectEvent:function(e){var s=wn(),a={impl:e};return s.memoizedState=a,function(){if((ae&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:hn,use:Bc,useCallback:Z0,useContext:hn,useEffect:Vd,useImperativeHandle:$0,useInsertionEffect:K0,useLayoutEffect:X0,useMemo:J0,useReducer:zc,useRef:G0,useState:function(){return zc(Cs)},useDebugValue:jd,useDeferredValue:function(e,s){var a=Le();return tv(a,pe.memoizedState,e,s)},useTransition:function(){var e=zc(Cs)[0],s=Le().memoizedState;return[typeof e=="boolean"?e:kl(e),s]},useSyncExternalStore:I0,useId:sv,useHostTransitionStatus:Nd,useFormState:F0,useActionState:F0,useOptimistic:function(e,s){var a=Le();return N0(a,pe,e,s)},useMemoCache:wd,useCacheRefresh:rv};Pd.useEffectEvent=Q0;var cv={readContext:hn,use:Bc,useCallback:Z0,useContext:hn,useEffect:Vd,useImperativeHandle:$0,useInsertionEffect:K0,useLayoutEffect:X0,useMemo:J0,useReducer:Rd,useRef:G0,useState:function(){return Rd(Cs)},useDebugValue:jd,useDeferredValue:function(e,s){var a=Le();return pe===null?Md(a,e,s):tv(a,pe.memoizedState,e,s)},useTransition:function(){var e=Rd(Cs)[0],s=Le().memoizedState;return[typeof e=="boolean"?e:kl(e),s]},useSyncExternalStore:I0,useId:sv,useHostTransitionStatus:Nd,useFormState:H0,useActionState:H0,useOptimistic:function(e,s){var a=Le();return pe!==null?N0(a,pe,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:rv};cv.useEffectEvent=Q0;function kd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Wn(),f=ar(l);f.payload=s,a!=null&&(f.callback=a),s=or(e,f,l),s!==null&&(Nn(s,e,l),Ol(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Wn(),f=ar(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=or(e,f,l),s!==null&&(Nn(s,e,l),Ol(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Wn(),l=ar(a);l.tag=2,s!=null&&(l.callback=s),s=or(e,l,a),s!==null&&(Nn(s,e,a),Ol(s,e,a))}};function hv(e,s,a,l,f,p,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,x):s.prototype&&s.prototype.isPureReactComponent?!wl(a,l)||!wl(f,p):!0}function fv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Bd.enqueueReplaceState(s,s.state,null)}function va(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function dv(e){xc(e)}function pv(e){console.error(e)}function mv(e){xc(e)}function Hc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function gv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(e,s,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Hc(e,s)},a}function yv(e){return e=ar(e),e.tag=3,e}function vv(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;e.payload=function(){return f(p)},e.callback=function(){gv(s,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){gv(s,a,l),typeof f!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Aw(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&lo(s,a,f,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return di===null?nh():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),hp(e,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),hp(e,l,f)),!1}throw Error(r(435,a.tag))}return hp(e,l,f),nh(),!1}if(Wt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==rd&&(e=Error(r(422),{cause:l}),Il(ui(e,a)))):(l!==rd&&(s=Error(r(423),{cause:l}),Il(ui(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=ui(l,a),f=zd(e.stateNode,l,f),gd(e,f),De!==4&&(De=2)),!1;var p=Error(r(520),{cause:l});if(p=ui(p,a),Kl===null?Kl=[p]:Kl.push(p),De!==4&&(De=2),s===null)return!0;l=ui(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=zd(a.stateNode,l,e),gd(a,e),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(dr===null||!dr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=yv(f),vv(f,e,a,l),gd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(r(461)),He=!1;function fn(e,s,a,l){s.child=e===null?T0(s,null,a,l):ga(s,e.child,a,l)}function _v(e,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var x={};for(var E in l)E!=="ref"&&(x[E]=l[E])}else x=l;return fa(s),l=Td(e,s,a,x,p,f),E=Sd(),e!==null&&!He?(Ed(e,s,f),Rs(e,s,f)):(Wt&&E&&id(s),s.flags|=1,fn(e,s,l,f),s.child)}function bv(e,s,a,l,f){if(e===null){var p=a.type;return typeof p=="function"&&!td(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,xv(e,s,p,l,f)):(e=Ac(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(p=e.child,!Xd(e,f)){var x=p.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(x,l)&&e.ref===s.ref)return Rs(e,s,f)}return s.flags|=1,e=Ts(p,l),e.ref=s.ref,e.return=s,s.child=e}function xv(e,s,a,l,f){if(e!==null){var p=e.memoizedProps;if(wl(p,l)&&e.ref===s.ref)if(He=!1,s.pendingProps=l=p,Xd(e,f))(e.flags&131072)!==0&&(He=!0);else return s.lanes=e.lanes,Rs(e,s,f)}return Fd(e,s,a,l,f)}function Tv(e,s,a,l){var f=l.children,p=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return Sv(e,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ic(s,p!==null?p.cachePool:null),p!==null?A0(s,p):vd(),w0(s);else return l=s.lanes=536870912,Sv(e,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Ic(s,p.cachePool),A0(s,p),ur(),s.memoizedState=null):(e!==null&&Ic(s,null),vd(),ur());return fn(e,s,f,a),s.child}function Ul(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Sv(e,s,a,l,f){var p=fd();return p=p===null?null:{parent:Fe._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},e!==null&&Ic(s,null),vd(),w0(s),e!==null&&lo(e,s,l,!0),s.childLanes=f,null}function Gc(e,s){return s=Qc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Ev(e,s,a){return ga(s,e.child,null,a),e=Gc(s,s.pendingProps),e.flags|=2,Qn(s),s.memoizedState=null,e}function ww(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Wt){if(l.mode==="hidden")return e=Gc(s,l),s.lanes=536870912,Ul(null,e);if(bd(s),(e=xe)?(e=L1(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:er!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=o0(e),a.return=s,s.child=a,cn=s,xe=null)):e=null,e===null)throw ir(s);return s.lanes=536870912,null}return Gc(s,l)}var p=e.memoizedState;if(p!==null){var x=p.dehydrated;if(bd(s),f)if(s.flags&256)s.flags&=-257,s=Ev(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(He||lo(e,s,a,!1),f=(a&e.childLanes)!==0,He||f){if(l=ye,l!==null&&(x=ll(l,a),x!==0&&x!==p.retryLane))throw p.retryLane=x,la(e,x),Nn(l,e,x),Ud;nh(),s=Ev(e,s,a)}else e=p.treeContext,xe=pi(x.nextSibling),cn=s,Wt=!0,nr=null,fi=!1,e!==null&&c0(s,e),s=Gc(s,l),s.flags|=4096;return s}return e=Ts(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Yc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Fd(e,s,a,l,f){return fa(s),a=Td(e,s,a,l,void 0,f),l=Sd(),e!==null&&!He?(Ed(e,s,f),Rs(e,s,f)):(Wt&&l&&id(s),s.flags|=1,fn(e,s,a,f),s.child)}function Av(e,s,a,l,f,p){return fa(s),s.updateQueue=null,a=R0(s,l,a,f),C0(e),l=Sd(),e!==null&&!He?(Ed(e,s,p),Rs(e,s,p)):(Wt&&l&&id(s),s.flags|=1,fn(e,s,a,p),s.child)}function wv(e,s,a,l,f){if(fa(s),s.stateNode===null){var p=so,x=a.contextType;typeof x=="object"&&x!==null&&(p=hn(x)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},pd(s),x=a.contextType,p.context=typeof x=="object"&&x!==null?hn(x):so,p.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(kd(s,a,x,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Bd.enqueueReplaceState(p,p.state,null),Ll(s,l,p,f),Nl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){p=s.stateNode;var E=s.memoizedProps,O=va(a,E);p.props=O;var $=p.context,rt=a.contextType;x=so,typeof rt=="object"&&rt!==null&&(x=hn(rt));var ht=a.getDerivedStateFromProps;rt=typeof ht=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,rt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||$!==x)&&fv(s,p,l,x),rr=!1;var J=s.memoizedState;p.state=J,Ll(s,l,p,f),Nl(),$=s.memoizedState,E||J!==$||rr?(typeof ht=="function"&&(kd(s,a,ht,l),$=s.memoizedState),(O=rr||hv(s,a,O,l,J,$,x))?(rt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),p.props=l,p.state=$,p.context=x,l=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,md(e,s),x=s.memoizedProps,rt=va(a,x),p.props=rt,ht=s.pendingProps,J=p.context,$=a.contextType,O=so,typeof $=="object"&&$!==null&&(O=hn($)),E=a.getDerivedStateFromProps,($=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==ht||J!==O)&&fv(s,p,l,O),rr=!1,J=s.memoizedState,p.state=J,Ll(s,l,p,f),Nl();var it=s.memoizedState;x!==ht||J!==it||rr||e!==null&&e.dependencies!==null&&Cc(e.dependencies)?(typeof E=="function"&&(kd(s,a,E,l),it=s.memoizedState),(rt=rr||hv(s,a,rt,l,J,it,O)||e!==null&&e.dependencies!==null&&Cc(e.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,it,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,it,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=it),p.props=l,p.state=it,p.context=O,l=rt):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(s.flags|=1024),l=!1)}return p=l,Yc(e,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,e!==null&&l?(s.child=ga(s,e.child,null,f),s.child=ga(s,null,a,f)):fn(e,s,a,f),s.memoizedState=p.state,e=s.child):e=Rs(e,s,f),e}function Cv(e,s,a,l){return ca(),s.flags|=256,fn(e,s,a,l),s.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:g0()}}function Gd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Xn),e}function Rv(e,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),x&&(f=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,e===null){if(Wt){if(f?lr(s):ur(),(e=xe)?(e=L1(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:er!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=o0(e),a.return=s,s.child=a,cn=s,xe=null)):e=null,e===null)throw ir(s);return Cp(e)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(ur(),f=s.mode,E=Qc({mode:"hidden",children:E},f),l=ua(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Hd(a),l.childLanes=Gd(e,x,a),s.memoizedState=qd,Ul(null,l)):(lr(s),Yd(s,E))}var O=e.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(p)s.flags&256?(lr(s),s.flags&=-257,s=Qd(e,s,a)):s.memoizedState!==null?(ur(),s.child=e.child,s.flags|=128,s=null):(ur(),E=l.fallback,f=s.mode,l=Qc({mode:"visible",children:l.children},f),E=ua(E,f,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,ga(s,e.child,null,a),l=s.child,l.memoizedState=Hd(a),l.childLanes=Gd(e,x,a),s.memoizedState=qd,s=Ul(null,l));else if(lr(s),Cp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var $=x.dgst;x=$,l=Error(r(419)),l.stack="",l.digest=x,Il({value:l,source:null,stack:null}),s=Qd(e,s,a)}else if(He||lo(e,s,a,!1),x=(a&e.childLanes)!==0,He||x){if(x=ye,x!==null&&(l=ll(x,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,la(e,l),Nn(x,e,l),Ud;wp(E)||nh(),s=Qd(e,s,a)}else wp(E)?(s.flags|=192,s.child=e.child,s=null):(e=O.treeContext,xe=pi(E.nextSibling),cn=s,Wt=!0,nr=null,fi=!1,e!==null&&c0(s,e),s=Yd(s,l.children),s.flags|=4096);return s}return f?(ur(),E=l.fallback,f=s.mode,O=e.child,$=O.sibling,l=Ts(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,$!==null?E=Ts($,E):(E=ua(E,f,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Ul(null,l),l=s.child,E=e.child.memoizedState,E===null?E=Hd(a):(f=E.cachePool,f!==null?(O=Fe._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=g0(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Gd(e,x,a),s.memoizedState=qd,Ul(e.child,l)):(lr(s),a=e.child,e=a.sibling,a=Ts(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(x=s.deletions,x===null?(s.deletions=[e],s.flags|=16):x.push(e)),s.child=a,s.memoizedState=null,a)}function Yd(e,s){return s=Qc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Qc(e,s){return e=Gn(22,e,null,s),e.lanes=0,e}function Qd(e,s,a){return ga(s,e.child,null,a),e=Yd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Iv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),ld(e.return,s,a)}function Kd(e,s,a,l,f,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=f,x.treeForkCount=p)}function Dv(e,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var x=Ne.current,E=(x&2)!==0;if(E?(x=x&1|2,s.flags|=128):x&=1,st(Ne,x),fn(e,s,l,a),l=Wt?Rl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iv(e,a,s);else if(e.tag===19)Iv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&Nc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Kd(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Nc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Kd(s,!0,a,null,p,l);break;case"together":Kd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Rs(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),fr|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(lo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ts(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ts(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Xd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Cc(e)))}function Cw(e,s,a){switch(s.tag){case 3:Gt(s,s.stateNode.containerInfo),sr(s,Fe,e.memoizedState.cache),ca();break;case 27:case 5:Bn(s);break;case 4:Gt(s,s.stateNode.containerInfo);break;case 10:sr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Rv(e,s,a):(lr(s),e=Rs(e,s,a),e!==null?e.sibling:null);lr(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(lo(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Dv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Ne,Ne.current),l)break;return null;case 22:return s.lanes=0,Tv(e,s,a,s.pendingProps);case 24:sr(s,Fe,e.memoizedState.cache)}return Rs(e,s,a)}function Vv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)He=!0;else{if(!Xd(e,a)&&(s.flags&128)===0)return He=!1,Cw(e,s,a);He=(e.flags&131072)!==0}else He=!1,Wt&&(s.flags&1048576)!==0&&u0(s,Rl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=pa(s.elementType),s.type=e,typeof e=="function")td(e)?(l=va(e,l),s.tag=1,s=wv(null,s,e,l,a)):(s.tag=0,s=Fd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===X){s.tag=11,s=_v(null,s,e,l,a);break t}else if(f===C){s.tag=14,s=bv(null,s,e,l,a);break t}}throw s=bt(e)||e,Error(r(306,s,""))}}return s;case 0:return Fd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=va(l,s.pendingProps),wv(e,s,l,f,a);case 3:t:{if(Gt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,md(e,s),Ll(s,l,null,a);var x=s.memoizedState;if(l=x.cache,sr(s,Fe,l),l!==p.cache&&ud(s,[Fe],a,!0),Nl(),l=x.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Cv(e,s,l,a);break t}else if(l!==f){f=ui(Error(r(424)),s),Il(f),s=Cv(e,s,l,a);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xe=pi(e.firstChild),cn=s,Wt=!0,nr=null,fi=!0,a=T0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ca(),l===f){s=Rs(e,s,a);break t}fn(e,s,l,a)}s=s.child}return s;case 26:return Yc(e,s),e===null?(a=F1(s.type,null,s.pendingProps,null))?s.memoizedState=a:Wt||(a=s.type,e=s.pendingProps,l=uh(gt.current).createElement(a),l[Be]=s,l[en]=e,dn(l,a,e),ze(l),s.stateNode=l):s.memoizedState=F1(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Bn(s),e===null&&Wt&&(l=s.stateNode=B1(s.type,s.pendingProps,gt.current),cn=s,fi=!0,f=xe,yr(s.type)?(Rp=f,xe=pi(l.firstChild)):xe=f),fn(e,s,s.pendingProps.children,a),Yc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Wt&&((f=l=xe)&&(l=i2(l,s.type,s.pendingProps,fi),l!==null?(s.stateNode=l,cn=s,xe=pi(l.firstChild),fi=!1,f=!0):f=!1),f||ir(s)),Bn(s),f=s.type,p=s.pendingProps,x=e!==null?e.memoizedProps:null,l=p.children,Sp(f,p)?l=null:x!==null&&Sp(f,x)&&(s.flags|=32),s.memoizedState!==null&&(f=Td(e,s,vw,null,null,a),nu._currentValue=f),Yc(e,s),fn(e,s,l,a),s.child;case 6:return e===null&&Wt&&((e=a=xe)&&(a=s2(a,s.pendingProps,fi),a!==null?(s.stateNode=a,cn=s,xe=null,e=!0):e=!1),e||ir(s)),null;case 13:return Rv(e,s,a);case 4:return Gt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=ga(s,null,l,a):fn(e,s,l,a),s.child;case 11:return _v(e,s,s.type,s.pendingProps,a);case 7:return fn(e,s,s.pendingProps,a),s.child;case 8:return fn(e,s,s.pendingProps.children,a),s.child;case 12:return fn(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,sr(s,s.type,l.value),fn(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,fa(s),f=hn(f),l=l(f),s.flags|=1,fn(e,s,l,a),s.child;case 14:return bv(e,s,s.type,s.pendingProps,a);case 15:return xv(e,s,s.type,s.pendingProps,a);case 19:return Dv(e,s,a);case 31:return ww(e,s,a);case 22:return Tv(e,s,a,s.pendingProps);case 24:return fa(s),l=hn(Fe),e===null?(f=fd(),f===null&&(f=ye,p=cd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},pd(s),sr(s,Fe,f)):((e.lanes&a)!==0&&(md(e,s),Ll(s,null,null,a),Nl()),f=e.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),sr(s,Fe,l)):(l=p.cache,sr(s,Fe,l),l!==f.cache&&ud(s,[Fe],a,!0))),fn(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Is(e){e.flags|=4}function Wd(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(s1())e.flags|=8192;else throw ma=Vc,dd}else e.flags&=-16777217}function jv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Q1(s))if(s1())e.flags|=8192;else throw ma=Vc,dd}function Kc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?tc():536870912,e.lanes|=s,xo|=s)}function Fl(e,s){if(!Wt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Te(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Rw(e,s,a){var l=s.pendingProps;switch(sd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(s),null;case 1:return Te(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),As(Fe),Jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oo(s)?Is(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),Te(s),null;case 26:var f=s.type,p=s.memoizedState;return e===null?(Is(s),p!==null?(Te(s),jv(s,p)):(Te(s),Wd(s,f,null,l,a))):p?p!==e.memoizedState?(Is(s),Te(s),jv(s,p)):(Te(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Is(s),Te(s),Wd(s,f,e,l,a)),null;case 27:if(zn(s),a=gt.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}e=dt.current,oo(s)?h0(s):(e=B1(f,l,a),s.stateNode=e,Is(s))}return Te(s),null;case 5:if(zn(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}if(p=dt.current,oo(s))h0(s);else{var x=uh(gt.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?x.createElement(f,{is:l.is}):x.createElement(f)}}p[Be]=s,p[en]=l;t:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break t;for(;x.sibling===null;){if(x.return===null||x.return===s)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=p;t:switch(dn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Is(s)}}return Te(s),Wd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=gt.current,oo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Be]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||R1(e.nodeValue,a)),e||ir(s,!0)}else e=uh(e).createTextNode(l),e[Be]=s,s.stateNode=e}return Te(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=oo(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Be]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),e=!1}else a=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Qn(s),s):(Qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Te(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=oo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Be]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),f=!1}else f=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Qn(s),s):(Qn(s),null)}return Qn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Kc(s,s.updateQueue),Te(s),null);case 4:return Jt(),e===null&&vp(s.stateNode.containerInfo),Te(s),null;case 10:return As(s.type),Te(s),null;case 19:if(Y(Ne),l=s.memoizedState,l===null)return Te(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Fl(l,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(p=Nc(e),p!==null){for(s.flags|=128,Fl(l,!1),e=p.updateQueue,s.updateQueue=e,Kc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)a0(a,e),a=a.sibling;return st(Ne,Ne.current&1|2),Wt&&Ss(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&se()>Jc&&(s.flags|=128,f=!0,Fl(l,!1),s.lanes=4194304)}else{if(!f)if(e=Nc(p),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,Kc(s,e),Fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Wt)return Te(s),null}else 2*se()-l.renderingStartTime>Jc&&a!==536870912&&(s.flags|=128,f=!0,Fl(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(e=l.last,e!==null?e.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=se(),e.sibling=null,a=Ne.current,st(Ne,f?a&1|2:a&1),Wt&&Ss(s,l.treeForkCount),e):(Te(s),null);case 22:case 23:return Qn(s),_d(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Te(s),s.subtreeFlags&6&&(s.flags|=8192)):Te(s),a=s.updateQueue,a!==null&&Kc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&Y(da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),As(Fe),Te(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Iw(e,s){switch(sd(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return As(Fe),Jt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return zn(s),null;case 31:if(s.memoizedState!==null){if(Qn(s),s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Qn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Y(Ne),null;case 4:return Jt(),null;case 10:return As(s.type),null;case 22:case 23:return Qn(s),_d(),e!==null&&Y(da),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return As(Fe),null;case 25:return null;default:return null}}function Mv(e,s){switch(sd(s),s.tag){case 3:As(Fe),Jt();break;case 26:case 27:case 5:zn(s);break;case 4:Jt();break;case 31:s.memoizedState!==null&&Qn(s);break;case 13:Qn(s);break;case 19:Y(Ne);break;case 10:As(s.type);break;case 22:case 23:Qn(s),_d(),e!==null&&Y(da);break;case 24:As(Fe)}}function ql(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var p=a.create,x=a.inst;l=p(),x.destroy=l}a=a.next}while(a!==f)}}catch(E){he(s,s.return,E)}}function cr(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&e)===e){var x=l.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=s;var O=a,$=E;try{$()}catch(rt){he(f,O,rt)}}}l=l.next}while(l!==p)}}catch(rt){he(s,s.return,rt)}}function Ov(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{E0(s,a)}catch(l){he(e,e.return,l)}}}function Nv(e,s,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){he(e,s,l)}}function Hl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){he(e,s,f)}}function as(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){he(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){he(e,s,f)}else a.current=null}function Lv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){he(e,e.return,f)}}function $d(e,s,a){try{var l=e.stateNode;$w(l,e.type,a,s),l[en]=s}catch(f){he(e,e.return,f)}}function Pv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ri));else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Jd(e,s,a),e=e.sibling;e!==null;)Jd(e,s,a),e=e.sibling}function Xc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xc(e,s,a),e=e.sibling;e!==null;)Xc(e,s,a),e=e.sibling}function kv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);dn(s,l,a),s[Be]=e,s[en]=a}catch(p){he(e,e.return,p)}}var Ds=!1,Ge=!1,tp=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Dw(e,s){if(e=e.containerInfo,xp=gh,e=$y(e),Qf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var x=0,E=-1,O=-1,$=0,rt=0,ht=e,J=null;e:for(;;){for(var it;ht!==a||f!==0&&ht.nodeType!==3||(E=x+f),ht!==p||l!==0&&ht.nodeType!==3||(O=x+l),ht.nodeType===3&&(x+=ht.nodeValue.length),(it=ht.firstChild)!==null;)J=ht,ht=it;for(;;){if(ht===e)break e;if(J===a&&++$===f&&(E=x),J===p&&++rt===l&&(O=x),(it=ht.nextSibling)!==null)break;ht=J,J=ht.parentNode}ht=it}a=E===-1||O===-1?null:{start:E,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tp={focusedElem:e,selectionRange:a},gh=!1,sn=s;sn!==null;)if(s=sn,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,sn=e;else for(;sn!==null;){switch(s=sn,p=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var St=va(a.type,f);e=l.getSnapshotBeforeUpdate(St,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){he(a,a.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Ap(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ap(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,sn=e;break}sn=s.return}}function zv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:js(e,a),l&4&&ql(5,a);break;case 1:if(js(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(x){he(a,a.return,x)}else{var f=va(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(x){he(a,a.return,x)}}l&64&&Ov(a),l&512&&Hl(a,a.return);break;case 3:if(js(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{E0(e,s)}catch(x){he(a,a.return,x)}}break;case 27:s===null&&l&4&&kv(a);case 26:case 5:js(e,a),s===null&&l&4&&Lv(a),l&512&&Hl(a,a.return);break;case 12:js(e,a);break;case 31:js(e,a),l&4&&qv(e,a);break;case 13:js(e,a),l&4&&Hv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Bw.bind(null,a),r2(e,a))));break;case 22:if(l=a.memoizedState!==null||Ds,!l){s=s!==null&&s.memoizedState!==null||Ge,f=Ds;var p=Ge;Ds=l,(Ge=s)&&!p?Ms(e,a,(a.subtreeFlags&8772)!==0):js(e,a),Ds=f,Ge=p}break;case 30:break;default:js(e,a)}}function Uv(e){var s=e.alternate;s!==null&&(e.alternate=null,Uv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Ha(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,Vn=!1;function Vs(e,s,a){for(a=a.child;a!==null;)Fv(e,s,a),a=a.sibling}function Fv(e,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ei,a)}catch{}switch(a.tag){case 26:Ge||as(a,s),Vs(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||as(a,s);var l=Ae,f=Vn;yr(a.type)&&(Ae=a.stateNode,Vn=!1),Vs(e,s,a),Jl(a.stateNode),Ae=l,Vn=f;break;case 5:Ge||as(a,s);case 6:if(l=Ae,f=Vn,Ae=null,Vs(e,s,a),Ae=l,Vn=f,Ae!==null)if(Vn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(p){he(a,s,p)}else try{Ae.removeChild(a.stateNode)}catch(p){he(a,s,p)}break;case 18:Ae!==null&&(Vn?(e=Ae,O1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Io(e)):O1(Ae,a.stateNode));break;case 4:l=Ae,f=Vn,Ae=a.stateNode.containerInfo,Vn=!0,Vs(e,s,a),Ae=l,Vn=f;break;case 0:case 11:case 14:case 15:cr(2,a,s),Ge||cr(4,a,s),Vs(e,s,a);break;case 1:Ge||(as(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Nv(a,s,l)),Vs(e,s,a);break;case 21:Vs(e,s,a);break;case 22:Ge=(l=Ge)||a.memoizedState!==null,Vs(e,s,a),Ge=l;break;default:Vs(e,s,a)}}function qv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Io(e)}catch(a){he(s,s.return,a)}}}function Hv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Io(e)}catch(a){he(s,s.return,a)}}function Vw(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Bv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Bv),s;default:throw Error(r(435,e.tag))}}function Wc(e,s){var a=Vw(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=zw.bind(null,e,l);l.then(f,f)}})}function jn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=e,x=s,E=x;t:for(;E!==null;){switch(E.tag){case 27:if(yr(E.type)){Ae=E.stateNode,Vn=!1;break t}break;case 5:Ae=E.stateNode,Vn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,Vn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));Fv(p,x,f),Ae=null,Vn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Gv(s,e),s=s.sibling}var Oi=null;function Gv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(s,e),Mn(e),l&4&&(cr(3,e,e.return),ql(3,e),cr(5,e,e.return));break;case 1:jn(s,e),Mn(e),l&512&&(Ge||a===null||as(a,a.return)),l&64&&Ds&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Oi;if(jn(s,e),Mn(e),l&512&&(Ge||a===null||as(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Yi]||p[Be]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),dn(p,l,a),p[Be]=e,ze(p),l=p;break t;case"link":var x=G1("link","href",f).get(l+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(p=x[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break e}}p=f.createElement(l),dn(p,l,a),f.head.appendChild(p);break;case"meta":if(x=G1("meta","content",f).get(l+(a.content||""))){for(E=0;E<x.length;E++)if(p=x[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break e}}p=f.createElement(l),dn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[Be]=e,ze(p),l=p}e.stateNode=l}else Y1(f,e.type,e.stateNode);else e.stateNode=H1(f,l,e.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?Y1(f,e.type,e.stateNode):H1(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$d(e,e.memoizedProps,a.memoizedProps)}break;case 27:jn(s,e),Mn(e),l&512&&(Ge||a===null||as(a,a.return)),a!==null&&l&4&&$d(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jn(s,e),Mn(e),l&512&&(Ge||a===null||as(a,a.return)),e.flags&32){f=e.stateNode;try{Dn(f,"")}catch(St){he(e,e.return,St)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,$d(e,f,a!==null?a.memoizedProps:f)),l&1024&&(tp=!0);break;case 6:if(jn(s,e),Mn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(St){he(e,e.return,St)}}break;case 3:if(fh=null,f=Oi,Oi=ch(s.containerInfo),jn(s,e),Oi=f,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(St){he(e,e.return,St)}tp&&(tp=!1,Yv(e));break;case 4:l=Oi,Oi=ch(e.stateNode.containerInfo),jn(s,e),Mn(e),Oi=l;break;case 12:jn(s,e),Mn(e);break;case 31:jn(s,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 13:jn(s,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=se()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,$=Ds,rt=Ge;if(Ds=$||f,Ge=rt||O,jn(s,e),Ge=rt,Ds=$,Mn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||Ds||Ge||_a(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(p=O.stateNode,f)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=O.stateNode;var ht=O.memoizedProps.style,J=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(St){he(O,O.return,St)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(St){he(O,O.return,St)}}}else if(s.tag===18){if(a===null){O=s;try{var it=O.stateNode;f?N1(it,!0):N1(O.stateNode,!1)}catch(St){he(O,O.return,St)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(e,a))));break;case 19:jn(s,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 30:break;case 21:break;default:jn(s,e),Mn(e)}}function Mn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Pv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=Zd(e);Xc(e,p,f);break;case 5:var x=a.stateNode;a.flags&32&&(Dn(x,""),a.flags&=-33);var E=Zd(e);Xc(e,E,x);break;case 3:case 4:var O=a.stateNode.containerInfo,$=Zd(e);Jd(e,$,O);break;default:throw Error(r(161))}}catch(rt){he(e,e.return,rt)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Yv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Yv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function js(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zv(e,s.alternate,s),s=s.sibling}function _a(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:cr(4,s,s.return),_a(s);break;case 1:as(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Nv(s,s.return,a),_a(s);break;case 27:Jl(s.stateNode);case 26:case 5:as(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}e=e.sibling}}function Ms(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,p=s,x=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(f,p,a),ql(4,p);break;case 1:if(Ms(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){he(l,l.return,$)}if(l=p,f=l.updateQueue,f!==null){var E=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)S0(O[f],E)}catch($){he(l,l.return,$)}}a&&x&64&&Ov(p),Hl(p,p.return);break;case 27:kv(p);case 26:case 5:Ms(f,p,a),a&&l===null&&x&4&&Lv(p),Hl(p,p.return);break;case 12:Ms(f,p,a);break;case 31:Ms(f,p,a),a&&x&4&&qv(f,p);break;case 13:Ms(f,p,a),a&&x&4&&Hv(f,p);break;case 22:p.memoizedState===null&&Ms(f,p,a),Hl(p,p.return);break;case 30:break;default:Ms(f,p,a)}s=s.sibling}}function ep(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Dl(a))}function np(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Dl(e))}function Ni(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qv(e,s,a,l),s=s.sibling}function Qv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ni(e,s,a,l),f&2048&&ql(9,s);break;case 1:Ni(e,s,a,l);break;case 3:Ni(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Dl(e)));break;case 12:if(f&2048){Ni(e,s,a,l),e=s.stateNode;try{var p=s.memoizedProps,x=p.id,E=p.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){he(s,s.return,O)}}else Ni(e,s,a,l);break;case 31:Ni(e,s,a,l);break;case 13:Ni(e,s,a,l);break;case 23:break;case 22:p=s.stateNode,x=s.alternate,s.memoizedState!==null?p._visibility&2?Ni(e,s,a,l):Gl(e,s):p._visibility&2?Ni(e,s,a,l):(p._visibility|=2,vo(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&ep(x,s);break;case 24:Ni(e,s,a,l),f&2048&&np(s.alternate,s);break;default:Ni(e,s,a,l)}}function vo(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=e,x=s,E=a,O=l,$=x.flags;switch(x.tag){case 0:case 11:case 15:vo(p,x,E,O,f),ql(8,x);break;case 23:break;case 22:var rt=x.stateNode;x.memoizedState!==null?rt._visibility&2?vo(p,x,E,O,f):Gl(p,x):(rt._visibility|=2,vo(p,x,E,O,f)),f&&$&2048&&ep(x.alternate,x);break;case 24:vo(p,x,E,O,f),f&&$&2048&&np(x.alternate,x);break;default:vo(p,x,E,O,f)}s=s.sibling}}function Gl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:Gl(a,l),f&2048&&ep(l.alternate,l);break;case 24:Gl(a,l),f&2048&&np(l.alternate,l);break;default:Gl(a,l)}s=s.sibling}}var Yl=8192;function _o(e,s,a){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Kv(e,s,a),e=e.sibling}function Kv(e,s,a){switch(e.tag){case 26:_o(e,s,a),e.flags&Yl&&e.memoizedState!==null&&y2(a,Oi,e.memoizedState,e.memoizedProps);break;case 5:_o(e,s,a);break;case 3:case 4:var l=Oi;Oi=ch(e.stateNode.containerInfo),_o(e,s,a),Oi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yl,Yl=16777216,_o(e,s,a),Yl=l):_o(e,s,a));break;default:_o(e,s,a)}}function Xv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Ql(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,$v(l,e)}Xv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wv(e),e=e.sibling}function Wv(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,$c(e)):Ql(e);break;default:Ql(e)}}function $c(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,$v(l,e)}Xv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:cr(8,s,s.return),$c(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,$c(s));break;default:$c(s)}e=e.sibling}}function $v(e,s){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:cr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else t:for(a=e;sn!==null;){l=sn;var f=l.sibling,p=l.return;if(Uv(l),l===a){sn=null;break t}if(f!==null){f.return=p,sn=f;break t}sn=p}}}var jw={getCacheForType:function(e){var s=hn(Fe),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return hn(Fe).controller.signal}},Mw=typeof WeakMap=="function"?WeakMap:Map,ae=0,ye=null,qt=null,Yt=0,ce=0,Kn=null,hr=!1,bo=!1,ip=!1,Os=0,De=0,fr=0,ba=0,sp=0,Xn=0,xo=0,Kl=null,On=null,rp=!1,Zc=0,Zv=0,Jc=1/0,th=null,dr=null,Ze=0,pr=null,To=null,Ns=0,ap=0,op=null,Jv=null,Xl=0,lp=null;function Wn(){return(ae&2)!==0&&Yt!==0?Yt&-Yt:G.T!==null?pp():ec()}function t1(){if(Xn===0)if((Yt&536870912)===0||Wt){var e=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),Xn=e}else Xn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Xn}function Nn(e,s,a){(e===ye&&(ce===2||ce===9)||e.cancelPendingCommit!==null)&&(So(e,0),mr(e,Yt,Xn,!1)),Kr(e,a),((ae&2)===0||e!==ye)&&(e===ye&&((ae&2)===0&&(ba|=a),De===4&&mr(e,Yt,Xn,!1)),os(e))}function e1(e,s,a){if((ae&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Ai(e,s),f=l?Lw(e,s):cp(e,s,!0),p=l;do{if(f===0){bo&&!l&&mr(e,s,0,!1);break}else{if(a=e.current.alternate,p&&!Ow(a)){f=cp(e,s,!1),p=!1;continue}if(f===2){if(p=s,e.errorRecoveryDisabledLanes&p)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var E=e;f=Kl;var O=E.current.memoizedState.isDehydrated;if(O&&(So(E,x).flags|=256),x=cp(E,x,!1),x!==2){if(ip&&!O){E.errorRecoveryDisabledLanes|=p,ba|=p,f=4;break t}p=On,On=f,p!==null&&(On===null?On=p:On.push.apply(On,p))}f=x}if(p=!1,f!==2)continue}}if(f===1){So(e,0),mr(e,s,0,!0);break}t:{switch(l=e,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:mr(l,s,Xn,!hr);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-se(),10<f)){if(mr(l,s,Xn,!hr),qi(l,0,!0)!==0)break t;Ns=s,l.timeoutHandle=j1(n1.bind(null,l,a,On,th,rp,s,Xn,ba,xo,hr,p,"Throttled",-0,0),f);break t}n1(l,a,On,th,rp,s,Xn,ba,xo,hr,p,null,-0,0)}}break}while(!0);os(e)}function n1(e,s,a,l,f,p,x,E,O,$,rt,ht,J,it){if(e.timeoutHandle=-1,ht=s.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},Kv(s,p,ht);var St=(p&62914560)===p?Zc-se():(p&4194048)===p?Zv-se():0;if(St=v2(ht,St),St!==null){Ns=p,e.cancelPendingCommit=St(c1.bind(null,e,s,p,a,l,f,x,E,O,rt,ht,null,J,it)),mr(e,p,x,!$);return}}c1(e,s,p,a,l,f,x,E,O)}function Ow(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Hn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function mr(e,s,a,l){s&=~sp,s&=~ba,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var p=31-Me(f),x=1<<p;l[p]=-1,f&=~x}a!==0&&Xr(e,a,s)}function eh(){return(ae&6)===0?(Wl(0),!1):!0}function up(){if(qt!==null){if(ce===0)var e=qt.return;else e=qt,Es=ha=null,Ad(e),fo=null,jl=0,e=qt;for(;e!==null;)Mv(e.alternate,e),e=e.return;qt=null}}function So(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,t2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ns=0,up(),ye=e,qt=a=Ts(e.current,null),Yt=s,ce=0,Kn=null,hr=!1,bo=Ai(e,s),ip=!1,xo=Xn=sp=ba=fr=De=0,On=Kl=null,rp=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Me(l),p=1<<f;s|=e[f],l&=~p}return Os=s,Tc(),a}function i1(e,s){Ut=null,G.H=zl,s===ho||s===Dc?(s=_0(),ce=3):s===dd?(s=_0(),ce=4):ce=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,qt===null&&(De=1,Hc(e,ui(s,e.current)))}function s1(){var e=Yn.current;return e===null?!0:(Yt&4194048)===Yt?di===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?e===di:!1}function r1(){var e=G.H;return G.H=zl,e===null?zl:e}function a1(){var e=G.A;return G.A=jw,e}function nh(){De=4,hr||(Yt&4194048)!==Yt&&Yn.current!==null||(bo=!0),(fr&134217727)===0&&(ba&134217727)===0||ye===null||mr(ye,Yt,Xn,!1)}function cp(e,s,a){var l=ae;ae|=2;var f=r1(),p=a1();(ye!==e||Yt!==s)&&(th=null,So(e,s)),s=!1;var x=De;t:do try{if(ce!==0&&qt!==null){var E=qt,O=Kn;switch(ce){case 8:up(),x=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var $=ce;if(ce=0,Kn=null,Eo(e,E,O,$),a&&bo){x=0;break t}break;default:$=ce,ce=0,Kn=null,Eo(e,E,O,$)}}Nw(),x=De;break}catch(rt){i1(e,rt)}while(!0);return s&&e.shellSuspendCounter++,Es=ha=null,ae=l,G.H=f,G.A=p,qt===null&&(ye=null,Yt=0,Tc()),x}function Nw(){for(;qt!==null;)o1(qt)}function Lw(e,s){var a=ae;ae|=2;var l=r1(),f=a1();ye!==e||Yt!==s?(th=null,Jc=se()+500,So(e,s)):bo=Ai(e,s);t:do try{if(ce!==0&&qt!==null){s=qt;var p=Kn;e:switch(ce){case 1:ce=0,Kn=null,Eo(e,s,p,1);break;case 2:case 9:if(y0(p)){ce=0,Kn=null,l1(s);break}s=function(){ce!==2&&ce!==9||ye!==e||(ce=7),os(e)},p.then(s,s);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:y0(p)?(ce=0,Kn=null,l1(s)):(ce=0,Kn=null,Eo(e,s,p,7));break;case 5:var x=null;switch(qt.tag){case 26:x=qt.memoizedState;case 5:case 27:var E=qt;if(x?Q1(x):E.stateNode.complete){ce=0,Kn=null;var O=E.sibling;if(O!==null)qt=O;else{var $=E.return;$!==null?(qt=$,ih($)):qt=null}break e}}ce=0,Kn=null,Eo(e,s,p,5);break;case 6:ce=0,Kn=null,Eo(e,s,p,6);break;case 8:up(),De=6;break t;default:throw Error(r(462))}}Pw();break}catch(rt){i1(e,rt)}while(!0);return Es=ha=null,G.H=l,G.A=f,ae=a,qt!==null?0:(ye=null,Yt=0,Tc(),De)}function Pw(){for(;qt!==null&&!Ct();)o1(qt)}function o1(e){var s=Vv(e.alternate,e,Os);e.memoizedProps=e.pendingProps,s===null?ih(e):qt=s}function l1(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Av(a,s,s.pendingProps,s.type,void 0,Yt);break;case 11:s=Av(a,s,s.pendingProps,s.type.render,s.ref,Yt);break;case 5:Ad(s);default:Mv(a,s),s=qt=a0(s,Os),s=Vv(a,s,Os)}e.memoizedProps=e.pendingProps,s===null?ih(e):qt=s}function Eo(e,s,a,l){Es=ha=null,Ad(s),fo=null,jl=0;var f=s.return;try{if(Aw(e,f,s,a,Yt)){De=1,Hc(e,ui(a,e.current)),qt=null;return}}catch(p){if(f!==null)throw qt=f,p;De=1,Hc(e,ui(a,e.current)),qt=null;return}s.flags&32768?(Wt||l===1?e=!0:bo||(Yt&536870912)!==0?e=!1:(hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u1(s,e)):ih(s)}function ih(e){var s=e;do{if((s.flags&32768)!==0){u1(s,hr);return}e=s.return;var a=Rw(s.alternate,s,Os);if(a!==null){qt=a;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=e}while(s!==null);De===0&&(De=5)}function u1(e,s){do{var a=Iw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);De=6,qt=null}function c1(e,s,a,l,f,p,x,E,O){e.cancelPendingCommit=null;do sh();while(Ze!==0);if((ae&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Zf,qf(e,a,p,x,E,O),e===ye&&(qt=ye=null,Yt=0),To=s,pr=e,Ns=a,ap=p,op=f,Jv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Uw(Gs,function(){return m1(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=F.p,F.p=2,x=ae,ae|=4;try{Dw(e,s,a)}finally{ae=x,F.p=f,G.T=l}}Ze=1,h1(),f1(),d1()}}function h1(){if(Ze===1){Ze=0;var e=pr,s=To,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=F.p;F.p=2;var f=ae;ae|=4;try{Gv(s,e);var p=Tp,x=$y(e.containerInfo),E=p.focusedElem,O=p.selectionRange;if(x!==E&&E&&E.ownerDocument&&Wy(E.ownerDocument.documentElement,E)){if(O!==null&&Qf(E)){var $=O.start,rt=O.end;if(rt===void 0&&(rt=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(rt,E.value.length);else{var ht=E.ownerDocument||document,J=ht&&ht.defaultView||window;if(J.getSelection){var it=J.getSelection(),St=E.textContent.length,Vt=Math.min(O.start,St),ge=O.end===void 0?Vt:Math.min(O.end,St);!it.extend&&Vt>ge&&(x=ge,ge=Vt,Vt=x);var H=Xy(E,Vt),B=Xy(E,ge);if(H&&B&&(it.rangeCount!==1||it.anchorNode!==H.node||it.anchorOffset!==H.offset||it.focusNode!==B.node||it.focusOffset!==B.offset)){var W=ht.createRange();W.setStart(H.node,H.offset),it.removeAllRanges(),Vt>ge?(it.addRange(W),it.extend(B.node,B.offset)):(W.setEnd(B.node,B.offset),it.addRange(W))}}}}for(ht=[],it=E;it=it.parentNode;)it.nodeType===1&&ht.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ht.length;E++){var lt=ht[E];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}gh=!!xp,Tp=xp=null}finally{ae=f,F.p=l,G.T=a}}e.current=s,Ze=2}}function f1(){if(Ze===2){Ze=0;var e=pr,s=To,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=F.p;F.p=2;var f=ae;ae|=4;try{zv(e,s.alternate,s)}finally{ae=f,F.p=l,G.T=a}}Ze=3}}function d1(){if(Ze===4||Ze===3){Ze=0,wt();var e=pr,s=To,a=Ns,l=Jv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,To=pr=null,p1(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(dr=null),vs(a),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ei,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,f=F.p,F.p=2,G.T=null;try{for(var p=e.onRecoverableError,x=0;x<l.length;x++){var E=l[x];p(E.value,{componentStack:E.stack})}}finally{G.T=s,F.p=f}}(Ns&3)!==0&&sh(),os(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===lp?Xl++:(Xl=0,lp=e):Xl=0,Wl(0)}}function p1(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Dl(s)))}function sh(){return h1(),f1(),d1(),m1()}function m1(){if(Ze!==5)return!1;var e=pr,s=ap;ap=0;var a=vs(Ns),l=G.T,f=F.p;try{F.p=32>a?32:a,G.T=null,a=op,op=null;var p=pr,x=Ns;if(Ze=0,To=pr=null,Ns=0,(ae&6)!==0)throw Error(r(331));var E=ae;if(ae|=4,Wv(p.current),Qv(p,p.current,x,a),ae=E,Wl(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ei,p)}catch{}return!0}finally{F.p=f,G.T=l,p1(e,s)}}function g1(e,s,a){s=ui(a,s),s=zd(e.stateNode,s,2),e=or(e,s,2),e!==null&&(Kr(e,2),os(e))}function he(e,s,a){if(e.tag===3)g1(e,e,a);else for(;s!==null;){if(s.tag===3){g1(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){e=ui(a,e),a=yv(2),l=or(s,a,2),l!==null&&(vv(a,l,s,e),Kr(l,2),os(l));break}}s=s.return}}function hp(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Mw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(ip=!0,f.add(a),e=kw.bind(null,e,s,a),s.then(e,e))}function kw(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ye===e&&(Yt&a)===a&&(De===4||De===3&&(Yt&62914560)===Yt&&300>se()-Zc?(ae&2)===0&&So(e,0):sp|=a,xo===Yt&&(xo=0)),os(e)}function y1(e,s){s===0&&(s=tc()),e=la(e,s),e!==null&&(Kr(e,s),os(e))}function Bw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),y1(e,a)}function zw(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),y1(e,a)}function Uw(e,s){return _e(e,s)}var rh=null,Ao=null,fp=!1,ah=!1,dp=!1,gr=0;function os(e){e!==Ao&&e.next===null&&(Ao===null?rh=Ao=e:Ao=Ao.next=e),ah=!0,fp||(fp=!0,qw())}function Wl(e,s){if(!dp&&ah){dp=!0;do for(var a=!1,l=rh;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var x=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Me(42|e)+1)-1,p&=f&~(x&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,x1(l,p))}else p=Yt,p=qi(l,l===ye?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ai(l,p)||(a=!0,x1(l,p));l=l.next}while(a);dp=!1}}function Fw(){v1()}function v1(){ah=fp=!1;var e=0;gr!==0&&Jw()&&(e=gr);for(var s=se(),a=null,l=rh;l!==null;){var f=l.next,p=_1(l,s);p===0?(l.next=null,a===null?rh=f:a.next=f,f===null&&(Ao=a)):(a=l,(e!==0||(p&3)!==0)&&(ah=!0)),l=f}Ze!==0&&Ze!==5||Wl(e),gr!==0&&(gr=0)}function _1(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var x=31-Me(p),E=1<<x,O=f[x];O===-1?((E&a)===0||(E&l)!==0)&&(f[x]=Ff(E,s)):O<=s&&(e.expiredLanes|=E),p&=~E}if(s=ye,a=Yt,a=qi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(ce===2||ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&at(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ai(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&at(l),vs(a)){case 2:case 8:a=Yr;break;case 32:a=Gs;break;case 268435456:a=Xu;break;default:a=Gs}return l=b1.bind(null,e),a=_e(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&at(l),e.callbackPriority=2,e.callbackNode=null,2}function b1(e,s){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sh()&&e.callbackNode!==a)return null;var l=Yt;return l=qi(e,e===ye?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(e1(e,l,s),_1(e,se()),e.callbackNode!=null&&e.callbackNode===a?b1.bind(null,e):null)}function x1(e,s){if(sh())return null;e1(e,s,!0)}function qw(){e2(function(){(ae&6)!==0?_e(be,Fw):v1()})}function pp(){if(gr===0){var e=uo;e===0&&(e=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),gr=e}return gr}function T1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ka(""+e)}function S1(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Hw(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=T1((f[en]||null).action),x=l.submitter;x&&(s=(s=x[en]||null)?T1(s.formAction):x.getAttribute("formAction"),s!==null&&(p=s,x=null));var E=new ts("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gr!==0){var O=x?S1(f,x):new FormData(f);Od(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(E.preventDefault(),O=x?S1(f,x):new FormData(f),Od(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var mp=0;mp<$f.length;mp++){var gp=$f[mp],Gw=gp.toLowerCase(),Yw=gp[0].toUpperCase()+gp.slice(1);Mi(Gw,"on"+Yw)}Mi(t0,"onAnimationEnd"),Mi(e0,"onAnimationIteration"),Mi(n0,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(lw,"onTransitionRun"),Mi(uw,"onTransitionStart"),Mi(cw,"onTransitionCancel"),Mi(i0,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function E1(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var x=l.length-1;0<=x;x--){var E=l[x],O=E.instance,$=E.currentTarget;if(E=E.listener,O!==p&&f.isPropagationStopped())break t;p=E,f.currentTarget=$;try{p(f)}catch(rt){xc(rt)}f.currentTarget=null,p=O}else for(x=0;x<l.length;x++){if(E=l[x],O=E.instance,$=E.currentTarget,E=E.listener,O!==p&&f.isPropagationStopped())break t;p=E,f.currentTarget=$;try{p(f)}catch(rt){xc(rt)}f.currentTarget=null,p=O}}}}function Ht(e,s){var a=s[qa];a===void 0&&(a=s[qa]=new Set);var l=e+"__bubble";a.has(l)||(A1(s,e,2,!1),a.add(l))}function yp(e,s,a){var l=0;s&&(l|=4),A1(a,e,l,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function vp(e){if(!e[oh]){e[oh]=!0,ul.forEach(function(a){a!=="selectionchange"&&(Qw.has(a)||yp(a,!1,e),yp(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[oh]||(s[oh]=!0,yp("selectionchange",!1,s))}}function A1(e,s,a,l){switch(t_(s)){case 2:var f=x2;break;case 8:f=T2;break;default:f=Mp}a=f.bind(null,s,a,e),f=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function _p(e,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var E=l.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=l.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=Qi(E),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){l=p=x;continue t}E=E.parentNode}}l=l.return}$s(function(){var $=p,rt=ri(a),ht=[];t:{var J=s0.get(e);if(J!==void 0){var it=ts,St=e;switch(e){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":it=vc;break;case"focusin":St="focus",it=sa;break;case"focusout":St="blur",it=sa;break;case"beforeblur":case"afterblur":it=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=_;break;case t0:case e0:case n0:it=hc;break;case i0:it=w;break;case"scroll":case"scrollend":it=xl;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=xs;break;case"toggle":case"beforetoggle":it=zt}var Vt=(s&4)!==0,ge=!Vt&&(e==="scroll"||e==="scrollend"),H=Vt?J!==null?J+"Capture":null:J;Vt=[];for(var B=$,W;B!==null;){var lt=B;if(W=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||W===null||H===null||(lt=Ii(B,H),lt!=null&&Vt.push(Zl(B,lt,W))),ge)break;B=B.return}0<Vt.length&&(J=new it(J,St,null,a,rt),ht.push({event:J,listeners:Vt}))}}if((s&7)===0){t:{if(J=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",J&&a!==vl&&(St=a.relatedTarget||a.fromElement)&&(Qi(St)||St[Gi]))break t;if((it||J)&&(J=rt.window===rt?rt:(J=rt.ownerDocument)?J.defaultView||J.parentWindow:window,it?(St=a.relatedTarget||a.toElement,it=$,St=St?Qi(St):null,St!==null&&(ge=u(St),Vt=St.tag,St!==ge||Vt!==5&&Vt!==27&&Vt!==6)&&(St=null)):(it=null,St=$),it!==St)){if(Vt=Tl,lt="onMouseLeave",H="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=xs,lt="onPointerLeave",H="onPointerEnter",B="pointer"),ge=it==null?J:Fn(it),W=St==null?J:Fn(St),J=new Vt(lt,B+"leave",it,a,rt),J.target=ge,J.relatedTarget=W,lt=null,Qi(rt)===$&&(Vt=new Vt(H,B+"enter",St,a,rt),Vt.target=W,Vt.relatedTarget=ge,lt=Vt),ge=lt,it&&St)e:{for(Vt=Kw,H=it,B=St,W=0,lt=H;lt;lt=Vt(lt))W++;lt=0;for(var Rt=B;Rt;Rt=Vt(Rt))lt++;for(;0<W-lt;)H=Vt(H),W--;for(;0<lt-W;)B=Vt(B),lt--;for(;W--;){if(H===B||B!==null&&H===B.alternate){Vt=H;break e}H=Vt(H),B=Vt(B)}Vt=null}else Vt=null;it!==null&&w1(ht,J,it,Vt,!1),St!==null&&ge!==null&&w1(ht,ge,St,Vt,!0)}}t:{if(J=$?Fn($):window,it=J.nodeName&&J.nodeName.toLowerCase(),it==="select"||it==="input"&&J.type==="file")var te=qy;else if(Uy(J))if(Hy)te=rw;else{te=iw;var At=nw}else it=J.nodeName,!it||it.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?$&&Qa($.elementType)&&(te=qy):te=sw;if(te&&(te=te(e,$))){Fy(ht,te,a,rt);break t}At&&At(e,J,$),e==="focusout"&&$&&J.type==="number"&&$.memoizedProps.value!=null&&ml(J,"number",J.value)}switch(At=$?Fn($):window,e){case"focusin":(Uy(At)||At.contentEditable==="true")&&(eo=At,Kf=$,Cl=null);break;case"focusout":Cl=Kf=eo=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Zy(ht,a,rt);break;case"selectionchange":if(ow)break;case"keydown":case"keyup":Zy(ht,a,rt)}var Ft;if(re)t:{switch(e){case"compositionstart":var Qt="onCompositionStart";break t;case"compositionend":Qt="onCompositionEnd";break t;case"compositionupdate":Qt="onCompositionUpdate";break t}Qt=void 0}else to?ra(e,a)&&(Qt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Qt="onCompositionStart");Qt&&(is&&a.locale!=="ko"&&(to||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&to&&(Ft=bl()):(Ji=rt,_l="value"in Ji?Ji.value:Ji.textContent,to=!0)),At=lh($,Qt),0<At.length&&(Qt=new ns(Qt,e,null,a,rt),ht.push({event:Qt,listeners:At}),Ft?Qt.data=Ft:(Ft=Ja(a),Ft!==null&&(Qt.data=Ft)))),(Ft=oi?ZA(e,a):JA(e,a))&&(Qt=lh($,"onBeforeInput"),0<Qt.length&&(At=new ns("onBeforeInput","beforeinput",null,a,rt),ht.push({event:At,listeners:Qt}),At.data=Ft)),Hw(ht,e,$,a,rt)}E1(ht,s)})}function Zl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function lh(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ii(e,a),f!=null&&l.unshift(Zl(e,f,p)),f=Ii(e,s),f!=null&&l.push(Zl(e,f,p))),e.tag===3)return l;e=e.return}return[]}function Kw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w1(e,s,a,l,f){for(var p=s._reactName,x=[];a!==null&&a!==l;){var E=a,O=E.alternate,$=E.stateNode;if(E=E.tag,O!==null&&O===l)break;E!==5&&E!==26&&E!==27||$===null||(O=$,f?($=Ii(a,p),$!=null&&x.unshift(Zl(a,$,O))):f||($=Ii(a,p),$!=null&&x.push(Zl(a,$,O)))),a=a.return}x.length!==0&&e.push({event:s,listeners:x})}var Xw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function C1(e){return(typeof e=="string"?e:""+e).replace(Xw,`
`).replace(Ww,"")}function R1(e,s){return s=C1(s),C1(e)===s}function me(e,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Dn(e,""+l);break;case"className":qn(e,"class",l);break;case"tabIndex":qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,a,l);break;case"style":yl(e,l,p);break;case"data":if(s!=="object"){qn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&me(e,s,"name",f.name,f,null),me(e,s,"formEncType",f.formEncType,f,null),me(e,s,"formMethod",f.formMethod,f,null),me(e,s,"formTarget",f.formTarget,f,null)):(me(e,s,"encType",f.encType,f,null),me(e,s,"method",f.method,f,null),me(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ri);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ka(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Ga(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,Ga(e,a,l))}}function bp(e,s,a,l,f,p){switch(a){case"style":yl(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Dn(e,l):(typeof l=="number"||typeof l=="bigint")&&Dn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=e[en]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ga(e,a,l)}}}function dn(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var x=a[p];if(x!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(e,s,p,x,a,null)}}f&&me(e,s,"srcSet",a.srcSet,a,null),l&&me(e,s,"src",a.src,a,null);return;case"input":Ht("invalid",e);var E=p=x=f=null,O=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var rt=a[l];if(rt!=null)switch(l){case"name":f=rt;break;case"type":x=rt;break;case"checked":O=rt;break;case"defaultChecked":$=rt;break;case"value":p=rt;break;case"defaultValue":E=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,s));break;default:me(e,s,l,rt,a,null)}}rc(e,p,E,O,$,x,f,!1);return;case"select":Ht("invalid",e),l=x=p=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":x=E;break;case"multiple":l=E;default:me(e,s,f,E,a,null)}s=p,a=x,e.multiple=!!l,s!=null?Qs(e,!!l,s,!1):a!=null&&Qs(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),p=f=l=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":l=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:me(e,s,x,E,a,null)}Ks(e,l,f,p);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":me(e,s,O,l,a,null));return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<$l.length;l++)Ht($l[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(e,s,$,l,a,null)}return;default:if(Qa(s)){for(rt in a)a.hasOwnProperty(rt)&&(l=a[rt],l!==void 0&&bp(e,s,rt,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&me(e,s,E,l,a,null))}function $w(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,x=null,E=null,O=null,$=null,rt=null;for(it in a){var ht=a[it];if(a.hasOwnProperty(it)&&ht!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":O=ht;default:l.hasOwnProperty(it)||me(e,s,it,null,l,ht)}}for(var J in l){var it=l[J];if(ht=a[J],l.hasOwnProperty(J)&&(it!=null||ht!=null))switch(J){case"type":p=it;break;case"name":f=it;break;case"checked":$=it;break;case"defaultChecked":rt=it;break;case"value":x=it;break;case"defaultValue":E=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:it!==ht&&me(e,s,J,it,l,ht)}}Ya(e,x,E,O,$,rt,p,f);return;case"select":it=x=E=J=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":it=O;default:l.hasOwnProperty(p)||me(e,s,p,null,l,O)}for(f in l)if(p=l[f],O=a[f],l.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":J=p;break;case"defaultValue":E=p;break;case"multiple":x=p;default:p!==O&&me(e,s,f,p,l,O)}s=E,a=x,l=it,J!=null?Qs(e,!!a,J,!1):!!l!=!!a&&(s!=null?Qs(e,!!a,s,!0):Qs(e,!!a,a?[]:"",!1));return;case"textarea":it=J=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:me(e,s,E,null,l,f)}for(x in l)if(f=l[x],p=a[x],l.hasOwnProperty(x)&&(f!=null||p!=null))switch(x){case"value":J=f;break;case"defaultValue":it=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&me(e,s,x,f,l,p)}ac(e,J,it);return;case"option":for(var St in a)J=a[St],a.hasOwnProperty(St)&&J!=null&&!l.hasOwnProperty(St)&&(St==="selected"?e.selected=!1:me(e,s,St,null,l,J));for(O in l)J=l[O],it=a[O],l.hasOwnProperty(O)&&J!==it&&(J!=null||it!=null)&&(O==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":me(e,s,O,J,l,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in a)J=a[Vt],a.hasOwnProperty(Vt)&&J!=null&&!l.hasOwnProperty(Vt)&&me(e,s,Vt,null,l,J);for($ in l)if(J=l[$],it=a[$],l.hasOwnProperty($)&&J!==it&&(J!=null||it!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:me(e,s,$,J,l,it)}return;default:if(Qa(s)){for(var ge in a)J=a[ge],a.hasOwnProperty(ge)&&J!==void 0&&!l.hasOwnProperty(ge)&&bp(e,s,ge,void 0,l,J);for(rt in l)J=l[rt],it=a[rt],!l.hasOwnProperty(rt)||J===it||J===void 0&&it===void 0||bp(e,s,rt,J,l,it);return}}for(var H in a)J=a[H],a.hasOwnProperty(H)&&J!=null&&!l.hasOwnProperty(H)&&me(e,s,H,null,l,J);for(ht in l)J=l[ht],it=a[ht],!l.hasOwnProperty(ht)||J===it||J==null&&it==null||me(e,s,ht,J,l,it)}function I1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,x=f.initiatorType,E=f.duration;if(p&&E&&I1(x)){for(x=0,E=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],$=O.startTime;if($>E)break;var rt=O.transferSize,ht=O.initiatorType;rt&&I1(ht)&&(O=O.responseEnd,x+=rt*(O<E?1:(E-$)/(O-$)))}if(--l,s+=8*(p+x)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xp=null,Tp=null;function uh(e){return e.nodeType===9?e:e.ownerDocument}function D1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V1(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Sp(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ep=null;function Jw(){var e=window.event;return e&&e.type==="popstate"?e===Ep?!1:(Ep=e,!0):(Ep=null,!1)}var j1=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(e){return M1.resolve(null).then(e).catch(n2)}:j1;function n2(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function O1(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),Io(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Jl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Jl(a);for(var p=a.firstChild;p;){var x=p.nextSibling,E=p.nodeName;p[Yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=x}}else a==="body"&&Jl(e.ownerDocument.body);a=f}while(a);Io(s)}function N1(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ap(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ap(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function i2(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=pi(e.nextSibling),e===null)break}return null}function s2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pi(e.nextSibling),e===null))return null;return e}function L1(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=pi(e.nextSibling),e===null))return null;return e}function wp(e){return e.data==="$?"||e.data==="$~"}function Cp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function pi(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Rp=null;function P1(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return pi(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function k1(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function B1(e,s,a){switch(s=uh(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Jl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Ha(e)}var mi=new Map,z1=new Set;function ch(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ls=F.d;F.d={f:a2,r:o2,D:l2,C:u2,L:c2,m:h2,X:d2,S:f2,M:p2};function a2(){var e=Ls.f(),s=eh();return e||s}function o2(e){var s=si(e);s!==null&&s.tag===5&&s.type==="form"?iv(s):Ls.r(e)}var wo=typeof document>"u"?null:document;function U1(e,s,a){var l=wo;if(l&&typeof s=="string"&&s){var f=In(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),z1.has(f)||(z1.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),dn(s,"link",e),ze(s),l.head.appendChild(s)))}}function l2(e){Ls.D(e),U1("dns-prefetch",e,null)}function u2(e,s){Ls.C(e,s),U1("preconnect",e,s)}function c2(e,s,a){Ls.L(e,s,a);var l=wo;if(l&&e&&s){var f='link[rel="preload"][as="'+In(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+In(a.imageSizes)+'"]')):f+='[href="'+In(e)+'"]';var p=f;switch(s){case"style":p=Co(e);break;case"script":p=Ro(e)}mi.has(p)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),mi.set(p,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(tu(p))||s==="script"&&l.querySelector(eu(p))||(s=l.createElement("link"),dn(s,"link",e),ze(s),l.head.appendChild(s)))}}function h2(e,s){Ls.m(e,s);var a=wo;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(e)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ro(e)}if(!mi.has(p)&&(e=b({rel:"modulepreload",href:e},s),mi.set(p,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(p)))return}l=a.createElement("link"),dn(l,"link",e),ze(l),a.head.appendChild(l)}}}function f2(e,s,a){Ls.S(e,s,a);var l=wo;if(l&&e){var f=Ki(l).hoistableStyles,p=Co(e);s=s||"default";var x=f.get(p);if(!x){var E={loading:0,preload:null};if(x=l.querySelector(tu(p)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=mi.get(p))&&Ip(e,a);var O=x=l.createElement("link");ze(O),dn(O,"link",e),O._p=new Promise(function($,rt){O.onload=$,O.onerror=rt}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hh(x,s,l)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(p,x)}}}function d2(e,s){Ls.X(e,s);var a=wo;if(a&&e){var l=Ki(a).hoistableScripts,f=Ro(e),p=l.get(f);p||(p=a.querySelector(eu(f)),p||(e=b({src:e,async:!0},s),(s=mi.get(f))&&Dp(e,s),p=a.createElement("script"),ze(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function p2(e,s){Ls.M(e,s);var a=wo;if(a&&e){var l=Ki(a).hoistableScripts,f=Ro(e),p=l.get(f);p||(p=a.querySelector(eu(f)),p||(e=b({src:e,async:!0,type:"module"},s),(s=mi.get(f))&&Dp(e,s),p=a.createElement("script"),ze(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function F1(e,s,a,l){var f=(f=gt.current)?ch(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Co(a.href),a=Ki(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Co(a.href);var p=Ki(f).hoistableStyles,x=p.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,x),(p=f.querySelector(tu(e)))&&!p._p&&(x.instance=p,x.state.loading=5),mi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mi.set(e,a),p||m2(f,e,a,x.state))),s&&l===null)throw Error(r(528,""));return x}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(a),a=Ki(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Co(e){return'href="'+In(e)+'"'}function tu(e){return'link[rel="stylesheet"]['+e+"]"}function q1(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function m2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dn(s,"link",a),ze(s),e.head.appendChild(s))}function Ro(e){return'[src="'+In(e)+'"]'}function eu(e){return"script[async]"+e}function H1(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+In(a.href)+'"]');if(l)return s.instance=l,ze(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ze(l),dn(l,"style",f),hh(l,a.precedence,e),s.instance=l;case"stylesheet":f=Co(a.href);var p=e.querySelector(tu(f));if(p)return s.state.loading|=4,s.instance=p,ze(p),p;l=q1(a),(f=mi.get(f))&&Ip(l,f),p=(e.ownerDocument||e).createElement("link"),ze(p);var x=p;return x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),dn(p,"link",l),s.state.loading|=4,hh(p,a.precedence,e),s.instance=p;case"script":return p=Ro(a.src),(f=e.querySelector(eu(p)))?(s.instance=f,ze(f),f):(l=a,(f=mi.get(p))&&(l=b({},a),Dp(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ze(f),dn(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hh(l,a.precedence,e));return s.instance}function hh(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,x=0;x<l.length;x++){var E=l[x];if(E.dataset.precedence===s)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Ip(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Dp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var fh=null;function G1(e,s,a){if(fh===null){var l=new Map,f=fh=new Map;f.set(a,l)}else f=fh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var p=a[f];if(!(p[Yi]||p[Be]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(s)||"";x=e+x;var E=l.get(x);E?E.push(p):l.set(x,[p])}}return l}function Y1(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function g2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Q1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function y2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Co(l.href),p=s.querySelector(tu(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=dh.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=p,ze(p);return}p=s.ownerDocument||s,l=q1(l),(f=mi.get(f))&&Ip(l,f),p=p.createElement("link"),ze(p);var x=p;x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),dn(p,"link",l),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=dh.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vp=0;function v2(e,s){return e.stylesheets&&e.count===0&&mh(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&mh(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+s);0<e.imgBytes&&Vp===0&&(Vp=62500*Zw());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mh(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Vp?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ph=null;function mh(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ph=new Map,s.forEach(_2,e),ph=null,dh.call(e))}function _2(e,s){if(!(s.state.loading&4)){var a=ph.get(e);if(a)var l=a.get(null);else{a=new Map,ph.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var x=f[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}f=s.instance,x=f.getAttribute("data-precedence"),p=a.get(x)||l,p===l&&a.set(null,f),a.set(x,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var nu={$$typeof:U,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function b2(e,s,a,l,f,p,x,E,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function K1(e,s,a,l,f,p,x,E,O,$,rt,ht){return e=new b2(e,s,a,x,O,$,rt,ht,E),s=1,p===!0&&(s|=24),p=Gn(3,null,null,s),e.current=p,p.stateNode=e,s=cd(),s.refCount++,e.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},pd(p),e}function X1(e){return e?(e=so,e):so}function W1(e,s,a,l,f,p){f=X1(f),l.context===null?l.context=f:l.pendingContext=f,l=ar(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=or(e,l,s),a!==null&&(Nn(a,e,s),Ol(a,e,s))}function $1(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function jp(e,s){$1(e,s),(e=e.alternate)&&$1(e,s)}function Z1(e){if(e.tag===13||e.tag===31){var s=la(e,67108864);s!==null&&Nn(s,e,67108864),jp(e,67108864)}}function J1(e){if(e.tag===13||e.tag===31){var s=Wn();s=Wr(s);var a=la(e,s);a!==null&&Nn(a,e,s),jp(e,s)}}var gh=!0;function x2(e,s,a,l){var f=G.T;G.T=null;var p=F.p;try{F.p=2,Mp(e,s,a,l)}finally{F.p=p,G.T=f}}function T2(e,s,a,l){var f=G.T;G.T=null;var p=F.p;try{F.p=8,Mp(e,s,a,l)}finally{F.p=p,G.T=f}}function Mp(e,s,a,l){if(gh){var f=Op(l);if(f===null)_p(e,s,l,yh,a),e_(e,l);else if(E2(f,e,s,a,l))l.stopPropagation();else if(e_(e,l),s&4&&-1<S2.indexOf(e)){for(;f!==null;){var p=si(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Fi(p.pendingLanes);if(x!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var O=1<<31-Me(x);E.entanglements[1]|=O,x&=~O}os(p),(ae&6)===0&&(Jc=se()+500,Wl(0))}}break;case 31:case 13:E=la(p,2),E!==null&&Nn(E,p,2),eh(),jp(p,2)}if(p=Op(l),p===null&&_p(e,s,l,yh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else _p(e,s,l,null,a)}}function Op(e){return e=ri(e),Np(e)}var yh=null;function Np(e){if(yh=null,e=Qi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=d(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return yh=e,null}function t_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case be:return 2;case Yr:return 8;case Gs:case Uf:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var Lp=!1,vr=null,_r=null,br=null,iu=new Map,su=new Map,xr=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,s){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":iu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(s.pointerId)}}function ru(e,s,a,l,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=si(s),s!==null&&Z1(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function E2(e,s,a,l,f){switch(s){case"focusin":return vr=ru(vr,e,s,a,l,f),!0;case"dragenter":return _r=ru(_r,e,s,a,l,f),!0;case"mouseover":return br=ru(br,e,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return iu.set(p,ru(iu.get(p)||null,e,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,su.set(p,ru(su.get(p)||null,e,s,a,l,f)),!0}return!1}function n_(e){var s=Qi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,wi(e.priority,function(){J1(a)});return}}else if(s===31){if(s=d(a),s!==null){e.blockedOn=s,wi(e.priority,function(){J1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vh(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Op(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);vl=l,a.target.dispatchEvent(l),vl=null}else return s=si(a),s!==null&&Z1(s),e.blockedOn=a,!1;s.shift()}return!0}function i_(e,s,a){vh(e)&&a.delete(s)}function A2(){Lp=!1,vr!==null&&vh(vr)&&(vr=null),_r!==null&&vh(_r)&&(_r=null),br!==null&&vh(br)&&(br=null),iu.forEach(i_),su.forEach(i_)}function _h(e,s){e.blockedOn===s&&(e.blockedOn=null,Lp||(Lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A2)))}var bh=null;function s_(e){bh!==e&&(bh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bh===e&&(bh=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Np(l||a)===null)continue;break}var p=si(a);p!==null&&(e.splice(s,3),s-=3,Od(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Io(e){function s(O){return _h(O,e)}vr!==null&&_h(vr,e),_r!==null&&_h(_r,e),br!==null&&_h(br,e),iu.forEach(s),su.forEach(s);for(var a=0;a<xr.length;a++){var l=xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)n_(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],x=f[en]||null;if(typeof p=="function")x||s_(a);else if(x){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,x=p[en]||null)E=x.formAction;else if(Np(f)!==null)continue}else E=x.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),s_(a)}}}function r_(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Pp(e){this._internalRoot=e}xh.prototype.render=Pp.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Wn();W1(a,l,e,s,null,null)},xh.prototype.unmount=Pp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;W1(e.current,2,null,e,null,null),eh(),s[Gi]=null}};function xh(e){this._internalRoot=e}xh.prototype.unstable_scheduleHydration=function(e){if(e){var s=ec();e={blockedOn:null,target:e,priority:s};for(var a=0;a<xr.length&&s!==0&&s<xr[a].priority;a++);xr.splice(a,0,e),a===0&&n_(e)}};var a_=t.version;if(a_!=="19.2.3")throw Error(r(527,a_,"19.2.3"));F.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var w2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Ei=Th.inject(w2),ln=Th}catch{}}return ou.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=dv,p=pv,x=mv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=K1(e,1,!1,null,null,a,l,null,f,p,x,r_),e[Gi]=s.current,vp(e),new Pp(s)},ou.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",p=dv,x=pv,E=mv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=K1(e,1,!0,s,a??null,l,f,O,p,x,E,r_),s.context=X1(null),a=s.current,l=Wn(),l=Wr(l),f=ar(l),f.callback=null,or(a,f,l),a=l,s.current.lanes=a,Kr(s,a),os(s),e[Gi]=s.current,vp(e),new xh(s)},ou.version="19.2.3",ou}var g_;function L2(){if(g_)return zp.exports;g_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zp.exports=N2(),zp.exports}var P2=L2();const k2=()=>{};var y_={};const sT=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},B2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],d=n[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,j=g&63;m||(j=64,c||(S=64)),r.push(i[v],i[b],i[S],i[j])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(sT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):B2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new z2;const S=u<<2|d>>4;if(r.push(S),g!==64){const j=d<<4&240|g>>2;if(r.push(j),b!==64){const N=g<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U2=function(n){const t=sT(n);return rT.encodeByteArray(t,!0)},qh=function(n){return U2(n).replace(/\./g,"")},F2=function(n){try{return rT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H2=()=>q2().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof y_>"u")return;const n=y_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&F2(n[1]);return t&&JSON.parse(t)},gg=()=>{try{return k2()||H2()||G2()||Y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q2=n=>gg()?.emulatorHosts?.[n],K2=n=>{const t=Q2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},aT=()=>gg()?.config;class X2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function yg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W2(n){return(await fetch(n,{credentials:"include"})).ok}function $2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[qh(JSON.stringify(i)),qh(JSON.stringify(c)),""].join(".")}const pu={};function Z2(){const n={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?n.emulator.push(t):n.prod.push(t);return n}function J2(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let v_=!1;function tC(n,t){if(typeof window>"u"||typeof document>"u"||!yg(window.location.host)||pu[n]===t||pu[n]||v_)return;pu[n]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=Z2().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{v_=!0,c()},S}function v(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=J2(r),j=i("text"),N=document.getElementById(j)||document.createElement("span"),P=i("learnmore"),q=document.getElementById(P)||document.createElement("a"),Q=i("preprendIcon"),k=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const U=S.element;d(U),v(q,P);const X=g();m(k,Q),U.append(k,N,q,X),document.body.appendChild(U)}u?(N.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function eC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){const n=gg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sC(){return!nC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function lT(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function rC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const aC="FirebaseError";class Ur extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=aC,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?oC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ur(o,d,r)}}function oC(n,t){return n.replace(lC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const lC=/\{\$([^}]+)}/g;function Su(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(__(u)&&__(c)){if(!Su(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function __(n){return n!==null&&typeof n=="object"}const uC=1e3,cC=2,hC=14400*1e3,fC=.5;function b_(n,t=uC,i=cC){const r=t*Math.pow(i,n),o=Math.round(fC*r*(Math.random()-.5)*2);return Math.min(hC,r+o)}function ei(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class dC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new X2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mC(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(n){return n===Ea?void 0:n}function mC(n){return n.instantiationMode==="EAGER"}class gC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new dC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Zt||(Zt={}));const yC={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},vC=Zt.INFO,_C={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},bC=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=_C[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vg{constructor(t){this.name=t,this._logLevel=vC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const xC=(n,t)=>t.some(i=>n instanceof i);let x_,T_;function TC(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Tm=new WeakMap,cT=new WeakMap,Hp=new WeakMap,_g=new WeakMap;function EC(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(wr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&uT.set(i,n)}).catch(()=>{}),_g.set(t,n),t}function AC(n){if(Tm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Tm.set(n,t)}let Sm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Tm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||cT.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wC(n){Sm=n(Sm)}function CC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Gp(this),t,...i);return cT.set(r,t.sort?t.sort():[t]),wr(r)}:SC().includes(n)?function(...t){return n.apply(Gp(this),t),wr(uT.get(this))}:function(...t){return wr(n.apply(Gp(this),t))}}function RC(n){return typeof n=="function"?CC(n):(n instanceof IDBTransaction&&AC(n),xC(n,TC())?new Proxy(n,Sm):n)}function wr(n){if(n instanceof IDBRequest)return EC(n);if(Hp.has(n))return Hp.get(n);const t=RC(n);return t!==n&&(Hp.set(n,t),_g.set(t,n)),t}const Gp=n=>_g.get(n);function hT(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=wr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(wr(c.result),m.oldVersion,m.newVersion,wr(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const IC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],Yp=new Map;function S_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Yp.get(t))return Yp.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=DC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IC.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&m.done]))[0]};return Yp.set(t,u),u}wC(n=>({...n,get:(t,i,r)=>S_(t,i)||n.get(t,i,r),has:(t,i)=>!!S_(t,i)||n.has(t,i)}));class VC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function jC(n){return n.getComponent()?.type==="VERSION"}const Em="@firebase/app",E_="0.14.6";const zs=new vg("@firebase/app"),MC="@firebase/app-compat",OC="@firebase/analytics-compat",NC="@firebase/analytics",LC="@firebase/app-check-compat",PC="@firebase/app-check",kC="@firebase/auth",BC="@firebase/auth-compat",zC="@firebase/database",UC="@firebase/data-connect",FC="@firebase/database-compat",qC="@firebase/functions",HC="@firebase/functions-compat",GC="@firebase/installations",YC="@firebase/installations-compat",QC="@firebase/messaging",KC="@firebase/messaging-compat",XC="@firebase/performance",WC="@firebase/performance-compat",$C="@firebase/remote-config",ZC="@firebase/remote-config-compat",JC="@firebase/storage",tR="@firebase/storage-compat",eR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",sR="firebase",rR="12.6.0";const Am="[DEFAULT]",aR={[Em]:"fire-core",[MC]:"fire-core-compat",[NC]:"fire-analytics",[OC]:"fire-analytics-compat",[PC]:"fire-app-check",[LC]:"fire-app-check-compat",[kC]:"fire-auth",[BC]:"fire-auth-compat",[zC]:"fire-rtdb",[UC]:"fire-data-connect",[FC]:"fire-rtdb-compat",[qC]:"fire-fn",[HC]:"fire-fn-compat",[GC]:"fire-iid",[YC]:"fire-iid-compat",[QC]:"fire-fcm",[KC]:"fire-fcm-compat",[XC]:"fire-perf",[WC]:"fire-perf-compat",[$C]:"fire-rc",[ZC]:"fire-rc-compat",[JC]:"fire-gcs",[tR]:"fire-gcs-compat",[eR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};const Hh=new Map,oR=new Map,wm=new Map;function A_(n,t){try{n.container.addComponent(t)}catch(i){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Vr(n){const t=n.name;if(wm.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;wm.set(t,n);for(const i of Hh.values())A_(i,n);for(const i of oR.values())A_(i,n);return!0}function ku(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function lR(n){return n==null?!1:n.settings!==void 0}const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new df("app","Firebase",uR);class cR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const hR=rR;function fT(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Am,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Cr.create("bad-app-name",{appName:String(o)});if(i||(i=aT()),!i)throw Cr.create("no-options");const u=Hh.get(o);if(u){if(Su(i,u.options)&&Su(r,u.config))return u;throw Cr.create("duplicate-app",{appName:o})}const c=new gC(o);for(const m of wm.values())c.addComponent(m);const d=new cR(i,r,c);return Hh.set(o,d),d}function dT(n=Am){const t=Hh.get(n);if(!t&&n===Am&&aT())return fT();if(!t)throw Cr.create("no-app",{appName:n});return t}function us(n,t,i){let r=aR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}Vr(new Bs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const fR="firebase-heartbeat-database",dR=1,Eu="firebase-heartbeat-store";let Qp=null;function pT(){return Qp||(Qp=hT(fR,dR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Eu)}catch(i){console.warn(i)}}}}).catch(n=>{throw Cr.create("idb-open",{originalErrorMessage:n.message})})),Qp}async function pR(n){try{const i=(await pT()).transaction(Eu),r=await i.objectStore(Eu).get(mT(n));return await i.done,r}catch(t){if(t instanceof Ur)zs.warn(t.message);else{const i=Cr.create("idb-get",{originalErrorMessage:t?.message});zs.warn(i.message)}}}async function w_(n,t){try{const r=(await pT()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,mT(n)),await r.done}catch(i){if(i instanceof Ur)zs.warn(i.message);else{const r=Cr.create("idb-set",{originalErrorMessage:i?.message});zs.warn(r.message)}}}function mT(n){return`${n.name}!${n.options.appId}`}const mR=1024,gR=30;class yR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _R(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>gR){const o=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=C_(),{heartbeatsToSend:i,unsentEntries:r}=vR(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zs.warn(t),""}}}function C_(){return new Date().toISOString().substring(0,10)}function vR(n,t=mR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),R_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),R_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class _R{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?lT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function R_(n){return qh(JSON.stringify({version:2,heartbeats:n})).length}function bR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}function xR(n){Vr(new Bs("platform-logger",t=>new VC(t),"PRIVATE")),Vr(new Bs("heartbeat",t=>new yR(t),"PRIVATE")),us(Em,E_,n),us(Em,E_,"esm2020"),us("fire-js","")}xR("");var TR="firebase",SR="12.7.0";us(TR,SR,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,gT;(function(){var n;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,M,L){for(var I=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)I[bt-2]=arguments[bt];return A.prototype[M].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)V[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)V[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],I;I=A+(L^R&(M^L))+V[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+V[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+V[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(L^R&(M^L))+V[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(M^A&(R^M))+V[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=M+(R^L&(A^R))+V[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=R+(A^M&(L^A))+V[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(M^L&(R^M))+V[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+V[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+V[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^L&(R^M))+V[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^M&(A^R))+V[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(L^A))+V[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(M^L))+V[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(R^M^L)+V[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+V[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+V[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^L)+V[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^M)+V[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=M+(L^A^R)+V[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=R+(M^L^A)+V[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(M^(R|~L))+V[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+V[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+V[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~L))+V[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~M))+V[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=M+(A^(L|~R))+V[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=R+(L^(M|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(V[M++]=C.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<A;)if(V[M++]=C[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[A++]=this.g[R]>>>V&255;return C};function u(C,A){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function c(C,A){this.h=A;const R=[];let V=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;V&&L==A||(R[M]=L,V=!1)}this.g=R}var d={};function m(C){return-128<=C&&C<128?u(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return q(g(-C));const A=[];let R=1;for(let V=0;C>=R;V++)A[V]=C/R|0,R*=4294967296;return new c(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return q(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let V=b;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+M),A);M<8?(M=g(Math.pow(A,M)),V=V.j(M).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var b=m(0),S=m(1),j=m(16777216);n=c.prototype,n.m=function(){if(P(this))return-q(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+q(this).toString(C);const A=g(Math.pow(C,6));var R=this;let V="";for(;;){const M=X(R,A).g;R=Q(R,M.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,N(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function P(C){return C.h==-1}n.l=function(C){return C=Q(this,C),P(C)?-1:N(C)?0:1};function q(C){const A=C.g.length,R=[];for(let V=0;V<A;V++)R[V]=~C.g[V];return new c(R,~C.h).add(S)}n.abs=function(){return P(this)?q(this):this},n.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let M=0;M<=A;M++){let L=V+(this.i(M)&65535)+(C.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=I>>>16,L&=65535,I&=65535,R[M]=I<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Q(C,A){return C.add(q(A))}n.j=function(C){if(N(this)||N(C))return b;if(P(this))return P(C)?q(this).j(q(C)):q(q(this).j(C));if(P(C))return q(this.j(q(C)));if(this.l(j)<0&&C.l(j)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const L=this.i(V)>>>16,I=this.i(V)&65535,bt=C.i(M)>>>16,Et=C.i(M)&65535;R[2*V+2*M]+=I*Et,k(R,2*V+2*M),R[2*V+2*M+1]+=L*Et,k(R,2*V+2*M+1),R[2*V+2*M+1]+=I*bt,k(R,2*V+2*M+1),R[2*V+2*M+2]+=L*bt,k(R,2*V+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new c(R,0)};function k(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function U(C,A){this.g=C,this.h=A}function X(C,A){if(N(A))throw Error("division by zero");if(N(C))return new U(b,b);if(P(C))return A=X(q(C),A),new U(q(A.g),q(A.h));if(P(A))return A=X(C,q(A)),new U(q(A.g),A.h);if(C.g.length>30){if(P(C)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,V=A;V.l(C)<=0;)R=Z(R),V=Z(V);var M=tt(R,1),L=tt(V,1);for(V=tt(V,2),R=tt(R,2);!N(V);){var I=L.add(V);I.l(C)<=0&&(M=M.add(R),L=I),V=tt(V,1),R=tt(R,1)}return A=Q(C,M.j(A)),new U(M,A)}for(M=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(R),I=L.j(A);P(I)||I.l(C)>0;)R-=V,L=g(R),I=L.j(A);N(L)&&(L=S),M=M.add(L),C=Q(C,I)}return new U(M,C)}n.B=function(C){return X(this,C).h},n.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&C.i(V);return new c(R,this.h&C.h)},n.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|C.i(V);return new c(R,this.h|C.h)},n.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^C.i(V);return new c(R,this.h^C.h)};function Z(C){const A=C.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(R,C.h)}function tt(C,A){const R=A>>5;A%=32;const V=C.g.length-R,M=[];for(let L=0;L<V;L++)M[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new c(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Rr=c}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yT,uu,vT,Mh,Cm,_T,bT,xT;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,_){if(_)t:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var K=h[w];if(!(K in T))break t;T=T[K]}h=h[h.length-1],w=T[h],_=_(w),_!=w&&_!=null&&t(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});var u=u||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=m,g.apply(null,arguments)}function v(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,K,nt){for(var yt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)yt[zt-2]=arguments[zt];return _.prototype[K].apply(w,yt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const _=h.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=h[w];return T}return[]}function N(h,_){for(let w=1;w<arguments.length;w++){const K=arguments[w];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=h.length||0;const nt=K.length||0;h.length=T+nt;for(let yt=0;yt<nt;yt++)h[T+yt]=K[yt]}else h.push(K)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class k{constructor(){this.h=this.g=null}add(_,T){const w=U.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var U=new P(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,tt=!1,C=new k,A=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(R)}};function R(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){q(T)}var _=U;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function bt(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(bt,M),bt.prototype.init=function(h,_){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),G=0;function F(h,_,T,w,K){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=K,this.key=++G,this.da=this.fa=!1}function ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pt(h,_,T){for(const w in h)_.call(T,h[w],w,h)}function et(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function D(h){const _={};for(const T in h)_[T]=h[T];return _}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(h,_){let T,w;for(let K=1;K<arguments.length;K++){w=arguments[K];for(T in w)h[T]=w[T];for(let nt=0;nt<Y.length;nt++)T=Y[nt],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,T,w,K){const nt=h.toString();h=this.g[nt],h||(h=this.g[nt]=[],this.h++);const yt=gt(h,_,w,K);return yt>-1?(_=h[yt],T||(_.fa=!1)):(_=new F(_,this.src,nt,!!w,K),_.fa=T,h.push(_)),_};function mt(h,_){const T=_.type;if(T in h.g){var w=h.g[T],K=Array.prototype.indexOf.call(w,_,void 0),nt;(nt=K>=0)&&Array.prototype.splice.call(w,K,1),nt&&(ot(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function gt(h,_,T,w){for(let K=0;K<h.length;++K){const nt=h[K];if(!nt.da&&nt.listener==_&&nt.capture==!!T&&nt.ha==w)return K}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),Gt={};function Jt(h,_,T,w,K){if(Array.isArray(_)){for(let nt=0;nt<_.length;nt++)Jt(h,_[nt],T,w,K);return null}return T=ys(T),h&&h[Et]?h.J(_,T,d(w)?!!w.capture:!1,K):Bn(h,_,T,!1,w,K)}function Bn(h,_,T,w,K,nt){if(!_)throw Error("Invalid event type");const yt=d(K)?!!K.capture:!!K;let zt=Ti(h);if(zt||(h[Dt]=zt=new dt(h)),T=zt.add(_,T,w,yt,nt),T.proxy)return T;if(w=zn(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)L||(K=yt),K===void 0&&(K=!1),h.addEventListener(_.toString(),w,K);else if(h.attachEvent)h.attachEvent(_n(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zn(){function h(T){return _.call(h.src,h.listener,T)}const _=ni;return h}function Un(h,_,T,w,K){if(Array.isArray(_))for(var nt=0;nt<_.length;nt++)Un(h,_[nt],T,w,K);else w=d(w)?!!w.capture:!!w,T=ys(T),h&&h[Et]?(h=h.i,nt=String(_).toString(),nt in h.g&&(_=h.g[nt],T=gt(_,T,w,K),T>-1&&(ot(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[nt],h.h--)))):h&&(h=Ti(h))&&(_=h.g[_.toString()],h=-1,_&&(h=gt(_,T,w,K)),(T=h>-1?_[h]:null)&&vn(T))}function vn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Et])mt(_.i,h);else{var T=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(T,w,h.capture):_.detachEvent?_.detachEvent(_n(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Ti(_))?(mt(T,h),T.h==0&&(T.src=null,_[Dt]=null)):ot(h)}}}function _n(h){return h in Gt?Gt[h]:Gt[h]="on"+h}function ni(h,_){if(h.da)h=!0;else{_=new bt(_,this);const T=h.listener,w=h.ha||h.src;h.fa&&vn(h),h=T.call(w,_)}return h}function Ti(h){return h=h[Dt],h instanceof dt?h:null}var Si="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(h){return typeof h=="function"?h:(h[Si]||(h[Si]=function(_){return h.handleEvent(_)}),h[Si])}function ie(){V.call(this),this.i=new dt(this),this.M=this,this.G=null}b(ie,V),ie.prototype[Et]=!0,ie.prototype.removeEventListener=function(h,_,T,w){Un(this,h,_,T,w)};function _e(h,_){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var K=_;_=new M(w,h),st(_,K)}K=!0;let nt,yt;if(T)for(yt=T.length-1;yt>=0;yt--)nt=_.g=T[yt],K=at(nt,w,!0,_)&&K;if(nt=_.g=h,K=at(nt,w,!0,_)&&K,K=at(nt,w,!1,_)&&K,T)for(yt=0;yt<T.length;yt++)nt=_.g=T[yt],K=at(nt,w,!1,_)&&K}ie.prototype.N=function(){if(ie.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let w=0;w<T.length;w++)ot(T[w]);delete h.g[_],h.h--}}this.G=null},ie.prototype.J=function(h,_,T,w){return this.i.add(String(h),_,!1,T,w)},ie.prototype.K=function(h,_,T,w){return this.i.add(String(h),_,!0,T,w)};function at(h,_,T,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let nt=0;nt<_.length;++nt){const yt=_[nt];if(yt&&!yt.da&&yt.capture==T){const zt=yt.listener,Oe=yt.ha||yt.src;yt.fa&&mt(h.i,yt),K=zt.call(Oe,w)!==!1&&K}}return K&&!w.defaultPrevented}function Ct(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function wt(h){h.g=Ct(()=>{h.g=null,h.i&&(h.i=!1,wt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class se extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(h){V.call(this),this.h=h,this.g={}}b(fe,V);var be=[];function Yr(h){pt(h.g,function(_,T){this.g.hasOwnProperty(T)&&vn(_)},h),h.g={}}fe.prototype.N=function(){fe.Z.N.call(this),Yr(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,Uf=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function $u(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}b(ln,M);function ii(){M.call(this,"c")}b(ii,M);var Me={},Zu=null;function Fa(){return Zu=Zu||new ie}Me.Ia="serverreachability";function Ju(h){M.call(this,Me.Ia,h)}b(Ju,M);function Ui(h){const _=Fa();_e(_,new Ju(_))}Me.STAT_EVENT="statevent";function Qr(h,_){M.call(this,Me.STAT_EVENT,h),this.stat=_}b(Qr,M);function ke(h){const _=Fa();_e(_,new Qr(_,h))}Me.Ja="timingevent";function Fi(h,_){M.call(this,Me.Ja,h),this.size=_}b(Fi,M);function qi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function Ff(h,_,T,w,K,nt){h.info(function(){if(h.g)if(nt){var yt="",zt=nt.split("&");for(let re=0;re<zt.length;re++){var Oe=zt[re].split("=");if(Oe.length>1){const Ee=Oe[0];Oe=Oe[1];const oi=Ee.split("_");yt=oi.length>=2&&oi[1]=="type"?yt+(Ee+"="+Oe+"&"):yt+(Ee+"=redacted&")}}}else yt=null;else yt=nt;return"XMLHTTP REQ ("+w+") [attempt "+K+"]: "+_+`
`+T+`
`+yt})}function tc(h,_,T,w,K,nt,yt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+K+"]: "+_+`
`+T+`
`+nt+" "+yt})}function Hi(h,_,T,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+qf(h,T)+(w?" "+w:"")})}function Kr(h,_){h.info(function(){return"TIMEOUT: "+_})}Ai.prototype.info=function(){};function qf(h,_){if(!h.g)return _;if(!_)return null;try{const nt=JSON.parse(_);if(nt){for(h=0;h<nt.length;h++)if(Array.isArray(nt[h])){var T=nt[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var K=w[0];if(K!="noop"&&K!="stop"&&K!="close")for(let yt=1;yt<w.length;yt++)w[yt]=""}}}}return Gs(nt)}catch{return _}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function Wr(){}b(Wr,Wu),Wr.prototype.g=function(){return new XMLHttpRequest},ll=new Wr;function vs(h){return encodeURIComponent(String(h))}function ec(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function wi(h,_,T,w){this.j=h,this.i=_,this.l=T,this.S=w||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}var Be={},en={};function Gi(h,_,T){h.M=1,h.A=$r(Ue(_)),h.u=T,h.R=!0,qa(h,null)}function qa(h,_){h.F=Date.now(),Yi(h),h.B=Ue(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Qa(T.i,"t",w),h.C=0,T=h.j.L,h.h=new Ci,h.g=gc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new se(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,w=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(be[0]=K.toString()),K=be);for(let nt=0;nt<K.length;nt++){const yt=Jt(T,K[nt],w||_.handleEvent,!1,_.h||_);if(!yt)break;_.g[yt.key]=yt}_=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ui(),Ff(h.i,h.v,h.B,h.l,h.S,h.u)}wi.prototype.ba=function(h){h=h.target;const _=this.O;_&&Di(h)==3?_.j():this.Y(h)},wi.prototype.Y=function(h){try{if(h==this.g)t:{const zt=Di(this.g),Oe=this.g.ya(),re=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||zt!=4||Oe==7||(Oe==8||re<=0?Ui(3):Ui(2)),Qi(this);var _=this.g.ca();this.X=_;var T=Hf(this);if(this.o=_==200,tc(this.i,this.v,this.B,this.l,this.S,zt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,K=this.g;if((w=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var nt=w;break e}}nt=null}if(h=nt)Hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,h);else{this.o=!1,this.m=3,ke(12),Fn(this),si(this);break t}}if(this.R){h=!0;let Ee;for(;!this.K&&this.C<T.length;)if(Ee=ic(this,T),Ee==en){zt==4&&(this.m=4,ke(14),h=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==Be){this.m=4,ke(15),Hi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Hi(this.i,this.l,Ee,null),Ki(this,Ee);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||T.length!=0||this.h.h||(this.m=1,ke(16),h=!1),this.o=this.o&&h,!h)Hi(this.i,this.l,T,"[Invalid Chunked Response]"),Fn(this),si(this);else if(T.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Sl(yt),yt.P=!0,ke(11))}}else Hi(this.i,this.l,T,null),Ki(this,T);zt==4&&Fn(this),this.o&&!this.K&&(zt==4?fc(this.j,this):(this.o=!1,Yi(this)))}else bs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Fn(this),si(this)}}}catch{}};function Hf(h){if(!nc(h))return h.g.la();const _=un(h.g);if(_==="")return"";let T="";const w=_.length,K=Di(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),si(h),"";h.h.i=new c.TextDecoder}for(let nt=0;nt<w;nt++)h.h.h=!0,T+=h.h.i.decode(_[nt],{stream:!(K&&nt==w-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function nc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ic(h,_){var T=h.C,w=_.indexOf(`
`,T);return w==-1?en:(T=Number(_.substring(T,w)),isNaN(T)?Be:(w+=1,w+T>_.length?en:(_=_.slice(w,w+T),h.C=w+T,_)))}wi.prototype.cancel=function(){this.K=!0,Fn(this)};function Yi(h){h.T=Date.now()+h.H,Ha(h,h.H)}function Ha(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=qi(g(h.aa,h),_)}function Qi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}wi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Kr(this.i,this.B),this.M!=2&&(Ui(),ke(17)),Fn(this),this.m=2,si(this)):Ha(this,this.T-h)};function si(h){h.j.I==0||h.K||fc(h.j,h)}function Fn(h){Qi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Yr(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ki(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Wi(T.h,h))){if(!h.L&&Wi(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var K=w;if(K[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Za(T),Js(T);else break t;sa(T),ke(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qi(g(T.Va,T),6e3));Xi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ns(T,11)}else if((h.L||T.g==h)&&Za(T),!I(_))for(K=T.Ba.g.parse(_),_=0;_<K.length;_++){let re=K[_];const Ee=re[0];if(!(Ee<=T.K))if(T.K=Ee,re=re[1],T.I==2)if(re[0]=="c"){T.M=re[1],T.ba=re[2];const oi=re[3];oi!=null&&(T.ka=oi,T.j.info("VER="+T.ka));const is=re[4];is!=null&&(T.za=is,T.j.info("SVER="+T.za));const Vi=re[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(w=1.5*Vi,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const ji=h.g;if(ji){const ra=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var nt=w.h;nt.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(hl(nt,nt.h),nt.h=null))}if(w.G){const Ja=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(w.wa=Ja,ue(w.J,w.G,Ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var yt=h;if(w.na=mc(w,w.L?w.ba:null,w.W),yt.L){fl(w.h,yt);var zt=yt,Oe=w.O;Oe&&(zt.H=Oe),zt.D&&(Qi(zt),Yi(zt)),w.g=yt}else cc(w);T.i.length>0&&es(T)}else re[0]!="stop"&&re[0]!="close"||ns(T,7);else T.I==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?ns(T,7):xl(T):re[0]!="noop"&&T.l&&T.l.qa(re),T.A=0)}}Ui(4)}catch{}}var ze=class{constructor(h,_){this.g=h,this.map=_}};function ul(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function Wi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function hl(h,_){h.g?h.g.add(_):h.h=_}function fl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return j(h.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let K,nt=null;w>=0?(K=h[T].substring(0,w),nt=h[T].substring(w+1)):K=h[T],_(K,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof qn?(this.l=h.l,nn(this,h.j),this.o=h.o,this.g=h.g,Ys(this,h.u),this.h=h.h,pl(this,lc(h.i)),this.m=h.m):h&&(_=String(h).match(sc))?(this.l=!1,nn(this,_[1]||"",!0),this.o=$i(_[2]||""),this.g=$i(_[3]||"",!0),Ys(this,_[4]),this.h=$i(_[5]||"",!0),pl(this,_[6]||"",!0),this.m=$i(_[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}qn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Zr(_,Ya,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Zr(_,Ya,!0),"@"),h.push(vs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Zr(T,T.charAt(0)=="/"?ml:rc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Zr(T,ac)),h.join("")},qn.prototype.resolve=function(h){const _=Ue(this);let T=!!h.j;T?nn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var w=h.h;if(T)Ys(_,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var K=_.h.lastIndexOf("/");K!=-1&&(w=_.h.slice(0,K+1)+w)}if(K=w,K==".."||K==".")w="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){w=K.lastIndexOf("/",0)==0,K=K.split("/");const nt=[];for(let yt=0;yt<K.length;){const zt=K[yt++];zt=="."?w&&yt==K.length&&nt.push(""):zt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),w&&yt==K.length&&nt.push("")):(nt.push(zt),w=!0)}w=nt.join("/")}else w=K}return T?_.h=w:T=h.i.toString()!=="",T?pl(_,lc(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Ue(h){return new qn(h)}function nn(h,_,T){h.j=T?$i(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ys(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function pl(h,_,T){_ instanceof Ks?(h.i=_,Ka(h.i,h.l)):(T||(_=Zr(_,Qs)),h.i=new Ks(_,h.l))}function ue(h,_,T){h.i.set(_,T)}function $r(h){return ue(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $i(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zr(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,In),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function In(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,rc=/[#\?:]/g,ml=/[#\?]/g,Qs=/[#\?@]/g,ac=/#/g;function Ks(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ga(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Ks.prototype,n.add=function(h,_){Dn(this),this.i=null,h=Xs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function oc(h,_){Dn(h),_=Xs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function gl(h,_){return Dn(h),_=Xs(h,_),h.g.has(_)}n.forEach=function(h,_){Dn(this),this.g.forEach(function(T,w){T.forEach(function(K){h.call(_,K,w,this)},this)},this)};function yl(h,_){Dn(h);let T=[];if(typeof _=="string")gl(h,_)&&(T=T.concat(h.g.get(Xs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}n.set=function(h,_){return Dn(this),this.i=null,h=Xs(this,h),gl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=yl(this,h),h.length>0?String(h[0]):_):_};function Qa(h,_,T){oc(h,_),T.length>0&&(h.i=null,h.g.set(Xs(h,_),j(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const K=vs(T);T=yl(this,T);for(let nt=0;nt<T.length;nt++){let yt=K;T[nt]!==""&&(yt+="="+vs(T[nt])),h.push(yt)}}return this.i=h.join("&")};function lc(h){const _=new Ks;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Xs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ka(h,_){_&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(T,w){const K=w.toLowerCase();w!=K&&(oc(this,w),Qa(this,K,T))},h)),h.j=_}function Ri(h,_){const T=new Ai;if(c.Image){const w=new Image;w.onload=v(ri,T,"TestLoadImage: loaded",!0,_,w),w.onerror=v(ri,T,"TestLoadImage: error",!1,_,w),w.onabort=v(ri,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=v(ri,T,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function vl(h,_){const T=new Ai,w=new AbortController,K=setTimeout(()=>{w.abort(),ri(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(nt=>{clearTimeout(K),nt.ok?ri(T,"TestPingServer: ok",!0,_):ri(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),ri(T,"TestPingServer: error",!1,_)})}function ri(h,_,T,w,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),w(T)}catch{}}function Ws(){this.g=new Xu}function Zi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Zi,Wu),Zi.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(h,_){ie.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Jr,ie),n=Jr.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ii(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?$s(this):Ii(this),this.readyState==3&&Xa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,$s(this))},n.Na=function(h){this.g&&(this.response=h,$s(this))},n.ga=function(){this.g&&$s(this)};function $s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ii(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ai(h){let _="";return pt(h,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function ta(h,_,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=ai(T),typeof h=="string"?T!=null&&vs(T):ue(h,_,T))}function de(h){ie.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(de,ie);var Ji=/^https?$/i,_l=["POST","PUT"];n=de.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(nt){ea(this,nt);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var K in w)T.set(K,w[K]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const nt of w.keys())T.set(nt,w.get(nt));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(nt=>nt.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(_l,_,void 0)>=0)||w||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,yt]of T)this.g.setRequestHeader(nt,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(nt){ea(this,nt)}};function ea(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,bl(h),_s(h)}function bl(h){h.A||(h.A=!0,_e(h,"complete"),_e(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,_e(this,"complete"),_e(this,"abort"),_s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),de.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(h){if(h.h&&typeof u<"u"){if(h.v&&Di(h)==4)setTimeout(h.Ca.bind(h),0);else if(_e(h,"readystatechange"),Di(h)==4){h.h=!1;try{const nt=h.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var w;if(w=nt===0){let yt=String(h.D).match(sc)[1]||null;!yt&&c.self&&c.self.location&&(yt=c.self.location.protocol.slice(0,-1)),w=!Ji.test(yt?yt.toLowerCase():"")}T=w}if(T)_e(h,"complete"),_e(h,"success");else{h.o=6;try{var K=Di(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",bl(h)}}finally{_s(h)}}}}function _s(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||_e(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Di(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Uf(_)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(h){const _={};h=(h.g&&Di(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(I(h[w]))continue;var T=ec(h[w]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const nt=_[K]||[];_[K]=nt,nt.push(T)}et(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Zs(h){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,h),this.Za=ts("retryDelaySeedMs",1e4,h),this.Ta=ts("forwardChannelMaxRetries",2,h),this.va=ts("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(h&&h.concurrentRequestLimit),this.Ba=new Ws,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zs.prototype,n.ka=8,n.I=1,n.connect=function(h,_,T,w){ke(0),this.W=h,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=mc(this,null,this.W),es(this)};function xl(h){if(Wa(h),h.I==3){var _=h.V++,T=Ue(h.J);if(ue(T,"SID",h.M),ue(T,"RID",_),ue(T,"TYPE","terminate"),ia(h,T),_=new wi(h,h.j,_),_.M=2,_.A=$r(Ue(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=gc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Yi(_)}pc(h)}function Js(h){h.g&&(Sl(h),h.g.cancel(),h.g=null)}function Wa(h){Js(h),h.v&&(c.clearTimeout(h.v),h.v=null),Za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function es(h){if(!cl(h.h)&&!h.m){h.m=!0;var _=h.Ea;Z||A(),tt||(Z(),tt=!0),C.add(_,h),h.D=0}}function $a(h,_){return Xi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=qi(g(h.Ea,h,_),dc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new wi(this,this.j,h);let nt=this.o;if(this.U&&(nt?(nt=D(nt),st(nt,this.U)):nt=this.U),this.u!==null||this.R||(K.J=nt,nt=null),this.S)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=uc(this,K,_),T=Ue(this.J),ue(T,"RID",h),ue(T,"CVER",22),this.G&&ue(T,"X-HTTP-Session-Id",this.G),ia(this,T),nt&&(this.R?_="headers="+vs(ai(nt))+"&"+_:this.u&&ta(T,this.u,nt)),hl(this.h,K),this.Ra&&ue(T,"TYPE","init"),this.S?(ue(T,"$req",_),ue(T,"SID","null"),K.U=!0,Gi(K,T,null)):Gi(K,T,_),this.I=2}}else this.I==3&&(h?Tl(this,h):this.i.length==0||cl(this.h)||Tl(this))};function Tl(h,_){var T;_?T=_.l:T=h.V++;const w=Ue(h.J);ue(w,"SID",h.M),ue(w,"RID",T),ue(w,"AID",h.K),ia(h,w),h.u&&h.o&&ta(w,h.u,h.o),T=new wi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=uc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),hl(h.h,T),Gi(T,w,_)}function ia(h,_){h.H&&pt(h.H,function(T,w){ue(_,w,T)}),h.l&&pt({},function(T,w){ue(_,w,T)})}function uc(h,_,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var K=h.i;let zt=-1;for(;;){const Oe=["count="+T];zt==-1?T>0?(zt=K[0].g,Oe.push("ofs="+zt)):zt=0:Oe.push("ofs="+zt);let re=!0;for(let Ee=0;Ee<T;Ee++){var nt=K[Ee].g;const oi=K[Ee].map;if(nt-=zt,nt<0)zt=Math.max(0,K[Ee].g-100),re=!1;else try{nt="req"+nt+"_"||"";try{var yt=oi instanceof Map?oi:Object.entries(oi);for(const[is,Vi]of yt){let ji=Vi;d(Vi)&&(ji=Gs(Vi)),Oe.push(nt+is+"="+encodeURIComponent(ji))}}catch(is){throw Oe.push(nt+"type="+encodeURIComponent("_badmap")),is}}catch{w&&w(oi)}}if(re){yt=Oe.join("&");break t}}yt=void 0}return h=h.i.splice(0,T),_.G=h,yt}function cc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;Z||A(),tt||(Z(),tt=!0),C.add(_,h),h.A=0}}function sa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=qi(g(h.Da,h),dc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=qi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Js(this),hc(this))};function Sl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function hc(h){h.g=new wi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ue(h.na);ue(_,"RID","rpc"),ue(_,"SID",h.M),ue(_,"AID",h.K),ue(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ue(_,"TO",h.ia),ue(_,"TYPE","xmlhttp"),ia(h,_),h.u&&h.o&&ta(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=$r(Ue(_)),T.u=null,T.R=!0,qa(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Js(this),sa(this),ke(19))};function Za(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fc(h,_){var T=null;if(h.g==_){Za(h),Sl(h),h.g=null;var w=2}else if(Wi(h.h,_))T=_.G,fl(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;w=Fa(),_e(w,new Fi(w,T)),es(h)}else cc(h);else if(K=_.m,K==3||K==0&&_.X>0||!(w==1&&$a(h,_)||w==2&&sa(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),K){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function dc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function ns(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),w=h.Ua;const K=!w;w=new qn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(w,"https"),$r(w),K?Ri(w.toString(),T):vl(w.toString(),T)}else ke(2);h.I=0,h.l&&h.l.pa(_),pc(h),Wa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const _=dl(h.h);(_.length!=0||h.i.length!=0)&&(N(h.ja,_),N(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function mc(h,_,T){var w=T instanceof qn?Ue(T):new qn(T);if(w.g!="")_&&(w.g=_+"."+w.g),Ys(w,w.u);else{var K=c.location;w=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const nt=new qn(null);w&&nn(nt,w),_&&(nt.g=_),K&&Ys(nt,K),T&&(nt.h=T),w=nt}return T=h.G,_=h.wa,T&&_&&ue(w,T,_),ue(w,"VER",h.ka),ia(h,w),w}function gc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new de(new Zi({ab:T})):new de(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}n=yc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function tr(){}tr.prototype.g=function(h,_){return new An(h,_)};function An(h,_){ie.call(this),this.g=new Zs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new xs(this)}b(An,ie),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){xl(this.g)},An.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Gs(h),h=T);_.i.push(new ze(_.Ya++,h)),_.I==3&&es(_)},An.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,An.Z.N.call(this)};function vc(h){ln.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const T in _){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(vc,ln);function _c(){ii.call(this),this.status=1}b(_c,ii);function xs(h){this.g=h}b(xs,yc),xs.prototype.ra=function(){_e(this.g,"a")},xs.prototype.qa=function(h){_e(this.g,new vc(h))},xs.prototype.pa=function(h){_e(this.g,new _c)},xs.prototype.oa=function(){_e(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,xT=function(){return new tr},bT=function(){return Fa()},_T=Me,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Mh=Xr,ol.COMPLETE="complete",vT=ol,$u.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",ie.prototype.listen=ie.prototype.J,uu=$u,de.prototype.listenOnce=de.prototype.K,de.prototype.getLastError=de.prototype.Ha,de.prototype.getLastErrorCode=de.prototype.ya,de.prototype.getStatus=de.prototype.ca,de.prototype.getResponseJson=de.prototype.La,de.prototype.getResponseText=de.prototype.la,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Fa,yT=de}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",V_="4.9.3";class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let Jo="12.7.0";const Na=new vg("@firebase/firestore");function Vo(){return Na.logLevel}function Tt(n,...t){if(Na.logLevel<=Zt.DEBUG){const i=t.map(bg);Na.debug(`Firestore (${Jo}): ${n}`,...i)}}function Us(n,...t){if(Na.logLevel<=Zt.ERROR){const i=t.map(bg);Na.error(`Firestore (${Jo}): ${n}`,...i)}}function Go(n,...t){if(Na.logLevel<=Zt.WARN){const i=t.map(bg);Na.warn(`Firestore (${Jo}): ${n}`,...i)}}function bg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function Mt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,TT(n,r,i)}function TT(n,t,i){let r=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Us(r),new Error(r)}function le(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||TT(t,o,r)}function Bt(n,t){return n}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Ur{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ST{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ER{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Tn.UNAUTHENTICATED)))}shutdown(){}}class AR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){le(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let u=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ir,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ir)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new ST(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}}class CR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){le(this.o===void 0,3512);const r=u=>{u.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(le(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}class xg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=DR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function Rm(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Kp(o)===Kp(u)?Kt(o,u):Kp(o)?1:-1}return Kt(n.length,t.length)}const VR=55296,jR=57343;function Kp(n){const t=n.charCodeAt(0);return t>=VR&&t<=jR}function Yo(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}const M_="__name__";class ls{constructor(t,i,r){i===void 0?i=0:i>t.length&&Mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ls.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ls?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ls.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Kt(t.length,i.length)}static compareSegments(t,i){const r=ls.isNumericId(t),o=ls.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ls.extractNumericId(t).compare(ls.extractNumericId(i)):Rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rr.fromString(t.substring(4,t.length-2))}}class ve extends ls{construct(t,i,r){return new ve(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new vt(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ve(i)}static emptyPath(){return new ve([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends ls{construct(t,i,r){return new gn(t,i,r)}static isValidIdentifier(t){return MR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new gn([M_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new vt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new vt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new vt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new vt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(i)}static emptyPath(){return new gn([])}}class It{constructor(t){this.path=t}static fromPath(t){return new It(ve.fromString(t))}static fromName(t){return new It(ve.fromString(t).popFirst(5))}static empty(){return new It(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ve.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new ve(t.slice()))}}function ET(n,t,i){if(!i)throw new vt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function OR(n,t,i,r){if(t===!0&&r===!0)throw new vt(ct.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function O_(n){if(!It.isDocumentKey(n))throw new vt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N_(n){if(It.isDocumentKey(n))throw new vt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function _i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pf(n);throw new vt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function NR(n,t){if(t<=0)throw new vt(ct.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function $e(n,t){const i={typeString:n};return t&&(i.value=t),i}function Bu(n,t){if(!AT(n))throw new vt(ct.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new vt(ct.INVALID_ARGUMENT,i);return!0}const L_=-62135596800,P_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*P_);return new Se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<L_)throw new vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-L_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:$e("string",Se._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Se(0,0))}static max(){return new Pt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function LR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new jr(o,It.empty(),t)}function PR(n){return new jr(n.readTime,n.key,Au)}class jr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new jr(Pt.min(),It.empty(),Au)}static max(){return new jr(Pt.max(),It.empty(),Au)}}function kR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=It.comparator(n.documentKey,t.documentKey),i!==0?i:Kt(n.largestBatchId,t.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==BR)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ft(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ft?i:ft.resolve(i)}catch(i){return ft.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.reject(i)}static resolve(t){return new ft(((i,r)=>{i(t)}))}static reject(t){return new ft(((i,r)=>{r(t)}))}static waitFor(t){return new ft(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(m=>r(m)))})),c=!0,u===o&&i()}))}static or(t){let i=ft.resolve(!1);for(const r of t)i=i.next((o=>o?ft.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new ft(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;i(t[g]).next((v=>{c[g]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new ft(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function UR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function el(n){return n.name==="IndexedDbTransactionError"}class mf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mf.ce=-1;const Tg=-1;function gf(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function FR(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const wT="";function qR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=k_(t)),t=HR(n.get(i),t);return k_(t)}function HR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case wT:i+="";break;default:i+=u}}return i}function k_(n){return n+wT+""}function B_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function Fr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function CT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Re{constructor(t,i){this.comparator=t,this.root=i||mn.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Eh(this.root,t,this.comparator,!0)}}class Eh{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new mn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new mn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(t){return new z_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new tn(this.comparator);return i.data=t,i}}class z_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new tn(gn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}})(t);return new yn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new yn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(n){if(le(!!n,39018),typeof n=="string"){let t=0;const i=GR.exec(n);if(le(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const IT="server_timestamp",DT="__type__",VT="__previous_value__",jT="__local_write_time__";function Sg(n){return(n?.mapValue?.fields||{})[DT]?.stringValue===IT}function yf(n){const t=n.mapValue.fields[VT];return Sg(t)?yf(t):t}function wu(n){const t=Mr(n.mapValue.fields[jT].timestampValue);return new Se(t.seconds,t.nanos)}class YR{constructor(t,i,r,o,u,c,d,m,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Yh="(default)";class Cu{constructor(t,i){this.projectId=t,this.database=i||Yh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}const MT="__type__",QR="__max__",Ah={mapValue:{}},OT="__vector__",Qh="value";function Nr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:XR(n)?9007199254740991:KR(n)?10:11:Mt(28295,{value:n})}function gs(n,t){if(n===t)return!0;const i=Nr(n);if(i!==Nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return wu(n).isEqual(wu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Mr(o.timestampValue),d=Mr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Or(o.bytesValue).isEqual(Or(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Pe(o.geoPointValue.latitude)===Pe(u.geoPointValue.latitude)&&Pe(o.geoPointValue.longitude)===Pe(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Pe(o.integerValue)===Pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Pe(o.doubleValue),d=Pe(u.doubleValue);return c===d?Gh(c)===Gh(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Yo(n.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(B_(c)!==B_(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!gs(c[m],d[m])))return!1;return!0})(n,t);default:return Mt(52216,{left:n})}}function Ru(n,t){return(n.values||[]).find((i=>gs(i,t)))!==void 0}function Qo(n,t){if(n===t)return 0;const i=Nr(n),r=Nr(t);if(i!==r)return Kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Pe(u.integerValue||u.doubleValue),m=Pe(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,t);case 3:return U_(n.timestampValue,t.timestampValue);case 4:return U_(wu(n),wu(t));case 5:return Rm(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Or(u),m=Or(c);return d.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Kt(d[g],m[g]);if(v!==0)return v}return Kt(d.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Kt(Pe(u.latitude),Pe(c.latitude));return d!==0?d:Kt(Pe(u.longitude),Pe(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return F_(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[Qh]?.arrayValue,v=m[Qh]?.arrayValue,b=Kt(g?.values?.length||0,v?.values?.length||0);return b!==0?b:F_(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ah.mapValue&&c===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(c===Ah.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const S=Rm(m[b],v[b]);if(S!==0)return S;const j=Qo(d[m[b]],g[v[b]]);if(j!==0)return j}return Kt(m.length,v.length)})(n.mapValue,t.mapValue);default:throw Mt(23264,{he:i})}}function U_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Kt(n,t);const i=Mr(n),r=Mr(t),o=Kt(i.seconds,r.seconds);return o!==0?o:Kt(i.nanos,r.nanos)}function F_(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Qo(i[o],r[o]);if(u)return u}return Kt(i.length,r.length)}function Ko(n){return Im(n)}function Im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=Mr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return Or(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return It.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Im(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Im(i.fields[c])}`;return o+"}"})(n.mapValue):Mt(61005,{value:n})}function Oh(n){switch(Nr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yf(n);return t?16+Oh(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Oh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Fr(r.fields,((u,c)=>{o+=u.length+Oh(c)})),o})(n.mapValue);default:throw Mt(13486,{value:n})}}function q_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Dm(n){return!!n&&"integerValue"in n}function Eg(n){return!!n&&"arrayValue"in n}function H_(n){return!!n&&"nullValue"in n}function G_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nh(n){return!!n&&"mapValue"in n}function KR(n){return(n?.mapValue?.fields||{})[MT]?.stringValue===OT}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Fr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=mu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=mu(n.arrayValue.values[i]);return t}return{...n}}function XR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QR}class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Nh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(i)}setAll(t){let i=gn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=mu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Fr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Pn(mu(this.value))}}function NT(n){const t=[];return Fr(n.fields,((i,r)=>{const o=new gn([i]);if(Nh(r)){const u=NT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Jn(t)}class Sn{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Sn(t,0,Pt.min(),Pt.min(),Pt.min(),Pn.empty(),0)}static newFoundDocument(t,i,r,o){return new Sn(t,1,i,Pt.min(),r,o,0)}static newNoDocument(t,i){return new Sn(t,2,i,Pt.min(),Pt.min(),Pn.empty(),0)}static newUnknownDocument(t,i){return new Sn(t,3,i,Pt.min(),Pt.min(),Pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(t,i){this.position=t,this.inclusive=i}}function Y_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=It.comparator(It.fromName(c.referenceValue),i.key):r=Qo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!gs(n.position[i],t.position[i]))return!1;return!0}class Iu{constructor(t,i="asc"){this.field=t,this.dir=i}}function WR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class LT{}class We extends LT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new ZR(t,i,r):i==="array-contains"?new eI(t,r):i==="in"?new nI(t,r):i==="not-in"?new iI(t,r):i==="array-contains-any"?new sI(t,r):new We(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new JR(t,r):new tI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qo(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Qo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends LT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return PT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PT(n){return n.op==="and"}function kT(n){return $R(n)&&PT(n)}function $R(n){for(const t of n.filters)if(t instanceof zi)return!1;return!0}function Vm(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(kT(n))return n.filters.map((t=>Vm(t))).join(",");{const t=n.filters.map((i=>Vm(i))).join(",");return`${n.op}(${t})`}}function BT(n,t){return n instanceof We?(function(r,o){return o instanceof We&&r.op===o.op&&r.field.isEqual(o.field)&&gs(r.value,o.value)})(n,t):n instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&BT(c,o.filters[d])),!0):!1})(n,t):void Mt(19439)}function zT(n){return n instanceof We?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ko(i.value)}`})(n):n instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zT).join(" ,")+"}"})(n):"Filter"}class ZR extends We{constructor(t,i,r){super(t,i,r),this.key=It.fromName(r.referenceValue)}matches(t){const i=It.comparator(t.key,this.key);return this.matchesComparison(i)}}class JR extends We{constructor(t,i){super(t,"in",i),this.keys=UT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tI extends We{constructor(t,i){super(t,"not-in",i),this.keys=UT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UT(n,t){return(t.arrayValue?.values||[]).map((i=>It.fromName(i.referenceValue)))}class eI extends We{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Eg(i)&&Ru(i.arrayValue,this.value)}}class nI extends We{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ru(this.value.arrayValue,i)}}class iI extends We{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ru(this.value.arrayValue,i)}}class sI extends We{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Eg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ru(this.value.arrayValue,r)))}}class rI{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function K_(n,t=null,i=[],r=[],o=null,u=null,c=null){return new rI(n,t,i,r,o,u,c)}function Ag(n){const t=Bt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Vm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),gf(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ko(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ko(r))).join(",")),t.Te=i}return t.Te}function wg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!WR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!BT(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Q_(n.startAt,t.startAt)&&Q_(n.endAt,t.endAt)}function jm(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nl{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aI(n,t,i,r,o,u,c,d){return new nl(n,t,i,r,o,u,c,d)}function vf(n){return new nl(n)}function X_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FT(n){return n.collectionGroup!==null}function gu(n){const t=Bt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(gn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Iu(u,r))})),i.has(gn.keyField().canonicalString())||t.Ie.push(new Iu(gn.keyField(),r))}return t.Ie}function cs(n){const t=Bt(n);return t.Ee||(t.Ee=oI(t,gu(n))),t.Ee}function oI(n,t){if(n.limitType==="F")return K_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const i=n.endAt?new Kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kh(n.startAt.position,n.startAt.inclusive):null;return K_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Mm(n,t){const i=n.filters.concat([t]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Xh(n,t,i){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function _f(n,t){return wg(cs(n),cs(t))&&n.limitType===t.limitType}function qT(n){return`${Ag(cs(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>zT(o))).join(", ")}]`),gf(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ko(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ko(o))).join(",")),`Target(${r})`})(cs(n))}; limitType=${n.limitType})`}function bf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):It.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of gu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,m){const g=Y_(c,d,m);return c.inclusive?g<=0:g<0})(r.startAt,gu(r),o)||r.endAt&&!(function(c,d,m){const g=Y_(c,d,m);return c.inclusive?g>=0:g>0})(r.endAt,gu(r),o))})(n,t)}function lI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HT(n){return(t,i)=>{let r=!1;for(const o of gu(n)){const u=uI(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function uI(n,t,i){const r=n.field.isKeyField()?It.comparator(t.key,i.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Qo(m,g):Mt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:n.dir})}}class Ba{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}const cI=new Re(It.comparator);function Fs(){return cI}const GT=new Re(It.comparator);function cu(...n){let t=GT;for(const i of n)t=t.insert(i.key,i);return t}function YT(n){let t=GT;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function wa(){return yu()}function QT(){return yu()}function yu(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const hI=new Re(It.comparator),fI=new tn(It.comparator);function Xt(...n){let t=fI;for(const i of n)t=t.add(i);return t}const dI=new tn(Kt);function pI(){return dI}function Cg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(t)?"-0":t}}function KT(n){return{integerValue:""+n}}function mI(n,t){return FR(t)?KT(t):Cg(n,t)}class xf{constructor(){this._=void 0}}function gI(n,t,i){return n instanceof Wh?(function(o,u){const c={fields:{[DT]:{stringValue:IT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sg(u)&&(u=yf(u)),u&&(c.fields[VT]=u),{mapValue:c}})(i,t):n instanceof Du?WT(n,t):n instanceof Vu?$T(n,t):(function(o,u){const c=XT(o,u),d=W_(c)+W_(o.Ae);return Dm(c)&&Dm(o.Ae)?KT(d):Cg(o.serializer,d)})(n,t)}function yI(n,t,i){return n instanceof Du?WT(n,t):n instanceof Vu?$T(n,t):i}function XT(n,t){return n instanceof $h?(function(r){return Dm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Wh extends xf{}class Du extends xf{constructor(t){super(),this.elements=t}}function WT(n,t){const i=ZT(t);for(const r of n.elements)i.some((o=>gs(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Vu extends xf{constructor(t){super(),this.elements=t}}function $T(n,t){let i=ZT(t);for(const r of n.elements)i=i.filter((o=>!gs(o,r)));return{arrayValue:{values:i}}}class $h extends xf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function W_(n){return Pe(n.integerValue||n.doubleValue)}function ZT(n){return Eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Du&&o instanceof Du||r instanceof Vu&&o instanceof Vu?Yo(r.elements,o.elements,gs):r instanceof $h&&o instanceof $h?gs(r.Ae,o.Ae):r instanceof Wh&&o instanceof Wh})(n.transform,t.transform)}class _I{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Tf{}function JT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Rg(n.key,bi.none()):new zu(n.key,n.data,bi.none());{const i=n.data,r=Pn.empty();let o=new tn(gn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new qr(n.key,r,new Jn(o.toArray()),bi.none())}}function bI(n,t,i){n instanceof zu?(function(o,u,c){const d=o.value.clone(),m=Z_(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,i):n instanceof qr?(function(o,u,c){if(!Lh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=Z_(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(tS(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function vu(n,t,i,r){return n instanceof zu?(function(u,c,d,m){if(!Lh(u.precondition,c))return d;const g=u.value.clone(),v=J_(u.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof qr?(function(u,c,d,m){if(!Lh(u.precondition,c))return d;const g=J_(u.fieldTransforms,m,c),v=c.data;return v.setAll(tS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,d){return Lh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,i)}function xI(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=XT(r.transform,o||null);u!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,u))}return i||null}function $_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,((u,c)=>vI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zu extends Tf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qr extends Tf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tS(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function Z_(n,t,i){const r=new Map;le(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,yI(c,d,i[o]))}return r}function J_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,gI(u,c,t))}return r}class Rg extends Tf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TI extends Tf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&bI(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=vu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=vu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=QT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const m=JT(c,d);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Pt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,((i,r)=>$_(i,r)))&&Yo(this.baseMutations,t.baseMutations,((i,r)=>$_(i,r)))}}class Ig{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){le(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return hI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ig(t,i,r,o)}}class EI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Qe,$t;function wI(n){switch(n){case ct.OK:return Mt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function eS(n){if(n===void 0)return Us("GRPC error has no .code"),ct.UNKNOWN;switch(n){case Qe.OK:return ct.OK;case Qe.CANCELLED:return ct.CANCELLED;case Qe.UNKNOWN:return ct.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return ct.INTERNAL;case Qe.UNAVAILABLE:return ct.UNAVAILABLE;case Qe.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Qe.NOT_FOUND:return ct.NOT_FOUND;case Qe.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Qe.ABORTED:return ct.ABORTED;case Qe.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Qe.DATA_LOSS:return ct.DATA_LOSS;default:return Mt(39323,{code:n})}}($t=Qe||(Qe={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function CI(){return new TextEncoder}const RI=new Rr([4294967295,4294967295],0);function tb(n){const t=CI().encode(n),i=new gT;return i.update(t),new Uint8Array(i.digest())}function eb(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Rr([i,r],0),new Rr([o,u],0)]}class Dg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new hu(`Invalid padding: ${i}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new hu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Rr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Rr.fromNumber(r)));return o.compare(RI)===1&&(o=new Rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=tb(t),[r,o]=eb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Dg(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=tb(t),[r,o]=eb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Uu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sf(Pt.min(),o,new Re(Kt),Fs(),Xt())}}class Uu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Uu(r,i,Xt(),Xt(),Xt())}}class Ph{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class nS{constructor(t,i){this.targetId=t,this.Ce=i}}class iS{constructor(t,i,r=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class nb{constructor(){this.ve=0,this.Fe=ib(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),i=Xt(),r=Xt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Mt(38017,{changeType:u})}})),new Uu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=ib()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class II{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fs(),this.Je=wh(),this.He=wh(),this.Ye=new Re(Kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(jm(u))if(r===0){const c=new It(u.path);this.et(i,c,Sn.newNoDocument(c,Pt.min()))}else le(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=Or(r).toUint8Array()}catch(m){if(m instanceof RT)return Go("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Dg(c,o,u)}catch(m){return Go(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&jm(d.target)){const m=new It(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Sn.newNoDocument(m,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Xt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Sf(t,i,this.Ye,this.je,r);return this.je=Fs(),this.Je=wh(),this.He=wh(),this.Ye=new Re(Kt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new nb,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new tn(Kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new tn(Kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||Tt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nb),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wh(){return new Re(It.comparator)}function ib(){return new Re(It.comparator)}const DI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class MI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Om(n,t){return n.useProto3Json||gf(t)?t:{value:t}}function Zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function OI(n,t){return Zh(n,t.toTimestamp())}function hs(n){return le(!!n,49232),Pt.fromTimestamp((function(i){const r=Mr(i);return new Se(r.seconds,r.nanos)})(n))}function Vg(n,t){return Nm(n,t).canonicalString()}function Nm(n,t){const i=(function(o){return new ve(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function rS(n){const t=ve.fromString(n);return le(cS(t),10190,{key:t.toString()}),t}function Lm(n,t){return Vg(n.databaseId,t.path)}function Xp(n,t){const i=rS(t);if(i.get(1)!==n.databaseId.projectId)throw new vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new It(oS(i))}function aS(n,t){return Vg(n.databaseId,t)}function NI(n){const t=rS(n);return t.length===4?ve.emptyPath():oS(t)}function Pm(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oS(n){return le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sb(n,t,i){return{name:Lm(n,t),fields:i.value.mapValue.fields}}function LI(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Mt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(le(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(le(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ct.UNKNOWN:eS(g.code);return new vt(v,g.message||"")})(c);i=new iS(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xp(n,r.document.name),u=hs(r.document.updateTime),c=r.document.createTime?hs(r.document.createTime):Pt.min(),d=new Pn({mapValue:{fields:r.document.fields}}),m=Sn.newFoundDocument(o,u,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Ph(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Xp(n,r.document),u=r.readTime?hs(r.readTime):Pt.min(),c=Sn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Ph([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Xp(n,r.document),u=r.removedTargetIds||[];i=new Ph([],u,o,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new AI(o,u),d=r.targetId;i=new nS(d,c)}}return i}function PI(n,t){let i;if(t instanceof zu)i={update:sb(n,t.key,t.value)};else if(t instanceof Rg)i={delete:Lm(n,t.key)};else if(t instanceof qr)i={update:sb(n,t.key,t.data),updateMask:YI(t.fieldMask)};else{if(!(t instanceof TI))return Mt(16599,{Vt:t.type});i={verify:Lm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Wh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $h)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Mt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:OI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt(27497)})(n,t.precondition)),i}function kI(n,t){return n&&n.length>0?(le(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?hs(o.updateTime):hs(u);return c.isEqual(Pt.min())&&(c=hs(u)),new _I(c,o.transformResults||[])})(i,t)))):[]}function BI(n,t){return{documents:[aS(n,t.path)]}}function zI(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=aS(n,o);const u=(function(g){if(g.length!==0)return uS(zi.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Mo(S.field),direction:qI(S.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=Om(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function UI(n){let t=NI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){le(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const S=lS(b);return S instanceof zi&&kT(S)?S.getFilters():[S]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((S=>(function(N){return new Iu(Oo(N.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(i.orderBy));let d=null;i.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,gf(S)?null:S})(i.limit));let m=null;i.startAt&&(m=(function(b){const S=!!b.before,j=b.values||[];return new Kh(j,S)})(i.startAt));let g=null;return i.endAt&&(g=(function(b){const S=!b.before,j=b.values||[];return new Kh(j,S)})(i.endAt)),aI(t,o,c,u,d,"F",m,g)}function FI(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lS(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Oo(i.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(i.unaryFilter.field);return We.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(i.unaryFilter.field);return We.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(i.unaryFilter.field);return We.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return We.create(Oo(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>lS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(i.compositeFilter.op))})(n):Mt(30097,{filter:n})}function qI(n){return DI[n]}function HI(n){return VI[n]}function GI(n){return jI[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return gn.fromServerFormat(n.fieldPath)}function uS(n){return n instanceof We?(function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NAN"}};if(H_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NAN"}};if(H_(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(i.field),op:HI(i.op),value:i.value}}})(n):n instanceof zi?(function(i){const r=i.getFilters().map((o=>uS(o)));return r.length===1?r[0]:{compositeFilter:{op:GI(i.op),filters:r}}})(n):Mt(54877,{filter:n})}function YI(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Er{constructor(t,i,r,o,u=Pt.min(),c=Pt.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QI{constructor(t){this.yt=t}}function KI(n){const t=UI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xh(t,t.limit,"L"):t}class XI{constructor(){this.Cn=new WI}addToCollectionParentIndex(t,i){return this.Cn.add(i),ft.resolve()}getCollectionParents(t,i){return ft.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ft.resolve()}deleteFieldIndex(t,i){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,i){return ft.resolve()}getDocumentsMatchingTarget(t,i){return ft.resolve(null)}getIndexType(t,i){return ft.resolve(0)}getFieldIndexes(t,i){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,i){return ft.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,i){return ft.resolve(jr.min())}updateCollectionGroup(t,i,r){return ft.resolve()}updateIndexEntries(t,i){return ft.resolve()}}class WI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new tn(ve.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(ve.comparator)).toArray()}}const rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(hS,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Xo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}const ab="LruGarbageCollector",$I=1048576;function ob([n,t],[i,r]){const o=Kt(n,i);return o===0?Kt(t,r):o}class ZI{constructor(t){this.Ir=t,this.buffer=new tn(ob),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();ob(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(ab,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){el(i)?Tt(ab,"Ignoring IndexedDB error during garbage collection: ",i):await tl(i)}await this.Vr(3e5)}))}}class tD{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return ft.resolve(mf.ce);const r=new ZI(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(rb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rb):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,d=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(g=Date.now(),Vo()<=Zt.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function eD(n,t){return new tD(n,t)}class nD{constructor(){this.changes=new Ba((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ft.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class sD{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&vu(r.mutation,o,Jn.empty(),Se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Xt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Xt()){const o=wa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=cu();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=wa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Xt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=Fs();const c=yu(),d=(function(){return yu()})();return i.forEach(((m,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof qr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),vu(v.mutation,g,v.mutation.getFieldMask(),Se.now())):c.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>d.set(g,new iD(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=yu();let o=new Re(((c,d)=>c-d)),u=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=i.get(m);if(g===null)return;let v=r.get(m)||Jn.empty();v=d.applyToLocalView(g,v),r.set(m,v);const b=(o.get(d.batchId)||Xt()).add(m);o=o.insert(d.batchId,b)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=QT();v.forEach((S=>{if(!u.has(S)){const j=JT(i.get(S),r.get(S));j!==null&&b.set(S,j),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return ft.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return It.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):FT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ft.resolve(wa());let d=Au,m=u;return c.next((g=>ft.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ft.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{m=m.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,Xt()))).next((v=>({batchId:d,changes:YT(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new It(i)).next((r=>{let o=cu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(t,u).next((d=>ft.forEach(d,(m=>{const g=(function(b,S){return new nl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Sn.newInvalidDocument(v)))}));let d=cu();return c.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&vu(v.mutation,g,Jn.empty(),Se.now()),bf(i,g)&&(d=d.insert(m,g))})),d}))}}class rD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return ft.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:hs(o.createTime)}})(i)),ft.resolve()}getNamedQuery(t,i){return ft.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:KI(o.bundledQuery),readTime:hs(o.readTime)}})(i)),ft.resolve()}}class aD{constructor(){this.overlays=new Re(It.comparator),this.qr=new Map}getOverlay(t,i){return ft.resolve(this.overlays.get(i))}getOverlays(t,i){const r=wa();return ft.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),ft.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ft.resolve()}getOverlaysForCollection(t,i,r){const o=wa(),u=i.length+1,c=new It(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ft.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Re(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=wa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=wa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return ft.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new EI(i,r));let u=this.qr.get(i);u===void 0&&(u=Xt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class oD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ft.resolve()}}class jg{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new on(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new on(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new It(new ve([])),r=new on(i,t),o=new on(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new It(new ve([])),r=new on(i,t),o=new on(i,t+1);let u=Xt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new on(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return It.comparator(t.key,i.key)||Kt(t.Yr,i.Yr)}static Kr(t,i){return Kt(t.Yr,i.Yr)||It.comparator(t.key,i.key)}}class lD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SI(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new on(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ft.resolve(c)}lookupMutationBatch(t,i){return ft.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return ft.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?Tg:this.tr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ft.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new tn(Kt);return i.forEach((o=>{const u=new on(o,0),c=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),ft.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;It.isDocumentKey(u)||(u=u.child(""));const c=new on(new It(u),0);let d=new tn(Kt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),ft.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){le(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ft.forEach(i.mutations,(o=>{const u=new on(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new on(i,0),o=this.Zr.firstAfterOrEqual(r);return ft.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uD{constructor(t){this.ri=t,this.docs=(function(){return new Re(It.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ft.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(i))}getEntries(t,i){let r=Fs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Sn.newInvalidDocument(o))})),ft.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Fs();const c=i.path,d=new It(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kR(PR(v),r)<=0||(o.has(v.key)||bf(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ft.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Mt(9500)}ii(t,i){return ft.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new cD(this)}getSize(t){return ft.resolve(this.size)}}class cD extends nD{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ft.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class hD{constructor(t){this.persistence=t,this.si=new Ba((i=>Ag(i)),wg),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new jg,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ft.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,ft.resolve()}updateTargetData(t,i){return this.Pr(i),ft.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),ft.waitFor(u).next((()=>o))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return ft.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),ft.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ft.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),ft.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return ft.resolve(r)}containsKey(t,i){return ft.resolve(this._i.containsKey(i))}}class fS{constructor(t,i){this.ui={},this.overlays={},this.ci=new mf(0),this.li=!1,this.li=!0,this.hi=new oD,this.referenceDelegate=t(this),this.Pi=new hD(this),this.indexManager=new XI,this.remoteDocumentCache=(function(o){return new uD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QI(i),this.Ii=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new lD(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){Tt("MemoryPersistence","Starting transaction:",t);const o=new fD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return ft.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class fD extends zR{constructor(t){super(),this.currentSequenceNumber=t}}class Mg{constructor(t){this.persistence=t,this.Ri=new jg,this.Vi=null}static mi(t){return new Mg(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ft.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ft.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),ft.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.fi,(r=>{const o=It.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return ft.or([()=>ft.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jh{constructor(t,i){this.persistence=t,this.pi=new Ba((r=>qR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=eD(this,i)}static mi(t,i){return new Jh(t,i)}Ei(){}di(t){return ft.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return ft.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ft.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Pt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oh(t.data.value)),i}br(t,i,r){return ft.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return ft.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Og{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Xt(),o=Xt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Og(t,i.fromCache,r,o)}}class dD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sC()?8:UR(eC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new dD;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Vo()<=Zt.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ft.resolve()):(Vo()<=Zt.DEBUG&&Tt("QueryEngine","Query:",jo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Vo()<=Zt.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cs(i))):ft.resolve())}ys(t,i){if(X_(i))return ft.resolve(null);let r=cs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Xh(i,null,"F"),r=cs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Xt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.Ds(i,d);return this.Cs(i,g,c,m.readTime)?this.ys(t,Xh(i,null,"F")):this.vs(t,g,i,m)}))))})))))}ws(t,i,r,o){return X_(i)||o.isEqual(Pt.min())?ft.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?ft.resolve(null):(Vo()<=Zt.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(i)),this.vs(t,c,i,LR(o,Au)).next((d=>d)))}))}Ds(t,i){let r=new tn(HT(t));return i.forEach(((o,u)=>{bf(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Vo()<=Zt.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",jo(i)),this.ps.getDocumentsMatchingQuery(t,i,jr.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Ng="LocalStore",mD=3e8;class gD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Re(Kt),this.xs=new Ba((u=>Ag(u)),wg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function yD(n,t,i,r){return new gD(n,t,i,r)}async function dS(n,t){const i=Bt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let m=Xt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return i.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function vD(n,t){const i=Bt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const b=g.batch,S=b.keys();let j=ft.resolve();return S.forEach((N=>{j=j.next((()=>v.getEntry(m,N))).next((P=>{const q=g.docVersions.get(N);le(q!==null,48541),P.version.compareTo(q)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),j.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=Xt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function pS(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function _D(n,t){const i=Bt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((v,b)=>{const S=o.get(b);if(!S)return;d.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let j=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(yn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,r)),o=o.insert(b,j),(function(P,q,Q){return P.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=mD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,j,v)&&d.push(i.Pi.updateTargetData(u,j))}));let m=Fs(),g=Xt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(bD(u,c,t.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!r.isEqual(Pt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return ft.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(i.Ms=o,u)))}function bD(n,t,i){let r=Xt(),o=Xt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Fs();return i.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Pt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):Tt(Ng,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function xD(n,t){const i=Bt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Tg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function TD(n,t){const i=Bt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,ft.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Er(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function km(n,t,i){const r=Bt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!el(c))throw c;Tt(Ng,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function lb(n,t,i){const r=Bt(n);let o=Pt.min(),u=Xt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Bt(m),S=b.xs.get(v);return S!==void 0?ft.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,v)})(r,c,cs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Pt.min(),i?u:Xt()))).next((d=>(SD(r,lI(t),d),{documents:d,Qs:u})))))}function SD(n,t,i){let r=n.Os.get(t)||Pt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class ub{constructor(){this.activeTargetIds=pI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ED{constructor(){this.Mo=new ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ub,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AD{Oo(t){}shutdown(){}}const cb="ConnectivityMonitor";class hb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(cb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(cb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function Bm(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const Wp="RestConnection",wD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=Bm(),d=this.zo(t,i.toUriEncodedString());Tt(Wp,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),v=yg(g);return this.Jo(t,d,m,r,v).then((b=>(Tt(Wp,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw Go(Wp,`RPC '${t}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=wD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class RD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const xn="WebChannelConnection";class ID extends CD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=Bm();return new Promise(((d,m)=>{const g=new yT;g.setWithCredentials(!0),g.listenOnce(vT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mh.NO_ERROR:const b=g.getResponseJson();Tt(xn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case Mh.TIMEOUT:Tt(xn,`RPC '${t}' ${c} timed out`),m(new vt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const S=g.getStatus();if(Tt(xn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const N=j?.error;if(N&&N.status&&N.message){const P=(function(Q){const k=Q.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(k)>=0?k:ct.UNKNOWN})(N.status);m(new vt(P,N.message))}else m(new vt(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new vt(ct.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Tt(xn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);Tt(xn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=Bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=xT(),d=bT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const v=u.join("");Tt(xn,`Creating RPC '${t}' stream ${o}: ${v}`,m);const b=c.createWebChannel(v,m);this.I_(b);let S=!1,j=!1;const N=new RD({Yo:q=>{j?Tt(xn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(Tt(xn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),Tt(xn,`RPC '${t}' stream ${o} sending:`,q),b.send(q))},Zo:()=>b.close()}),P=(q,Q,k)=>{q.listen(Q,(U=>{try{k(U)}catch(X){setTimeout((()=>{throw X}),0)}}))};return P(b,uu.EventType.OPEN,(()=>{j||(Tt(xn,`RPC '${t}' stream ${o} transport opened.`),N.o_())})),P(b,uu.EventType.CLOSE,(()=>{j||(j=!0,Tt(xn,`RPC '${t}' stream ${o} transport closed`),N.a_(),this.E_(b))})),P(b,uu.EventType.ERROR,(q=>{j||(j=!0,Go(xn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),N.a_(new vt(ct.UNAVAILABLE,"The operation could not be completed")))})),P(b,uu.EventType.MESSAGE,(q=>{if(!j){const Q=q.data[0];le(!!Q,16349);const k=Q,U=k?.error||k[0]?.error;if(U){Tt(xn,`RPC '${t}' stream ${o} received error:`,U);const X=U.status;let Z=(function(A){const R=Qe[A];if(R!==void 0)return eS(R)})(X),tt=U.message;Z===void 0&&(Z=ct.INTERNAL,tt="Unknown error status: "+X+" with message "+U.message),j=!0,N.a_(new vt(Z,tt)),b.close()}else Tt(xn,`RPC '${t}' stream ${o} received:`,Q),N.u_(Q)}})),P(d,_T.STAT_EVENT,(q=>{q.stat===Cm.PROXY?Tt(xn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Cm.NOPROXY&&Tt(xn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $p(){return typeof document<"u"?document:null}function Ef(n){return new MI(n,!0)}class mS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&Tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fb="PersistentStream";class gS{constructor(t,i,r,o,u,c,d,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ct.RESOURCE_EXHAUSTED?(Us(i.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new vt(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Tt(fb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(Tt(fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DD extends gS{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Pt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?hs(c.readTime):Pt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Pm(this.serializer),i.addTarget=(function(u,c){let d;const m=c.target;if(d=jm(m)?{documents:BI(u,m)}:{query:zI(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=sS(u,c.resumeToken);const g=Om(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Pt.min())>0){d.readTime=Zh(u,c.snapshotVersion.toTimestamp());const g=Om(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=FI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Pm(this.serializer),i.removeTarget=t,this.q_(i)}}class VD extends gS{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return le(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,le(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){le(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kI(t.writeResults,t.commitTime),r=hs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>PI(this.serializer,r)))};this.q_(i)}}class jD{}class MD extends jD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new vt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Nm(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(ct.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Nm(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(i),this.aa=!1):Tt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class ND{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{za(this)&&(Tt(La,"Restarting streams for network reachability change."),await(async function(m){const g=Bt(m);g.Ea.add(4),await Fu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Af(g)})(this))}))})),this.Ra=new OD(r,o)}}async function Af(n){if(za(n))for(const t of n.da)await t(!0)}async function Fu(n){for(const t of n.da)await t(!1)}function yS(n,t){const i=Bt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bg(i)?kg(i):il(i).O_()&&Pg(i,t))}function Lg(n,t){const i=Bt(n),r=il(i);i.Ia.delete(t),r.O_()&&vS(i,t),i.Ia.size===0&&(r.O_()?r.L_():za(i)&&i.Ra.set("Unknown"))}function Pg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}il(n).Y_(t)}function vS(n,t){n.Va.Ue(t),il(n).Z_(t)}function kg(n){n.Va=new II({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),il(n).start(),n.Ra.ua()}function Bg(n){return za(n)&&!il(n).x_()&&n.Ia.size>0}function za(n){return Bt(n).Ea.size===0}function _S(n){n.Va=void 0}async function LD(n){n.Ra.set("Online")}async function PD(n){n.Ia.forEach(((t,i)=>{Pg(n,t)}))}async function kD(n,t){_S(n),Bg(n)?(n.Ra.ha(t),kg(n)):n.Ra.set("Unknown")}async function BD(n,t,i){if(n.Ra.set("Online"),t instanceof iS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(r){Tt(La,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await tf(n,r)}else if(t instanceof Ph?n.Va.Ze(t):t instanceof nS?n.Va.st(t):n.Va.tt(t),!i.isEqual(Pt.min()))try{const r=await pS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),vS(u,m);const b=new Er(v.target,m,g,v.sequenceNumber);Pg(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(n,i)}catch(r){Tt(La,"Failed to raise snapshot:",r),await tf(n,r)}}async function tf(n,t,i){if(!el(t))throw t;n.Ea.add(1),await Fu(n),n.Ra.set("Offline"),i||(i=()=>pS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Tt(La,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Af(n)}))}function bS(n,t){return t().catch((i=>tf(n,i,t)))}async function wf(n){const t=Bt(n),i=Lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tg;for(;zD(t);)try{const o=await xD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,UD(t,o)}catch(o){await tf(t,o)}xS(t)&&TS(t)}function zD(n){return za(n)&&n.Ta.length<10}function UD(n,t){n.Ta.push(t);const i=Lr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function xS(n){return za(n)&&!Lr(n).x_()&&n.Ta.length>0}function TS(n){Lr(n).start()}async function FD(n){Lr(n).ra()}async function qD(n){const t=Lr(n);for(const i of n.Ta)t.ea(i.mutations)}async function HD(n,t,i){const r=n.Ta.shift(),o=Ig.from(r,t,i);await bS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await wf(n)}async function GD(n,t){t&&Lr(n).X_&&await(async function(r,o){if((function(c){return wI(c)&&c!==ct.ABORTED})(o.code)){const u=r.Ta.shift();Lr(r).B_(),await bS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wf(r)}})(n,t),xS(n)&&TS(n)}async function db(n,t){const i=Bt(n);i.asyncQueue.verifyOperationInProgress(),Tt(La,"RemoteStore received new credentials");const r=za(i);i.Ea.add(3),await Fu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Af(i)}async function YD(n,t){const i=Bt(n);t?(i.Ea.delete(2),await Af(i)):t||(i.Ea.add(2),await Fu(i),i.Ra.set("Unknown"))}function il(n){return n.ma||(n.ma=(function(i,r,o){const u=Bt(i);return u.sa(),new DD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:LD.bind(null,n),t_:PD.bind(null,n),r_:kD.bind(null,n),H_:BD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Bg(n)?kg(n):n.Ra.set("Unknown")):(await n.ma.stop(),_S(n))}))),n.ma}function Lr(n){return n.fa||(n.fa=(function(i,r,o){const u=Bt(i);return u.sa(),new VD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:FD.bind(null,n),r_:GD.bind(null,n),ta:qD.bind(null,n),na:HD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await wf(n)):(await n.fa.stop(),n.Ta.length>0&&(Tt(La,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class zg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new zg(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(n,t){if(Us("AsyncQueue",`${t}: ${n}`),el(n))return new vt(ct.UNAVAILABLE,`${t}: ${n}`);throw n}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||It.comparator(i.key,r.key):(i,r)=>It.comparator(i.key,r.key),this.keyedMap=cu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class pb{constructor(){this.ga=new Re(It.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Wo{constructor(t,i,r,o,u,c,d,m,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Wo(t,i,Uo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class QD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KD{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Bt(i),u=o.queries;o.queries=mb(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new vt(ct.ABORTED,"Firestore shutting down"))}}function mb(){return new Ba((n=>qT(n)),_f)}async function SS(n,t){const i=Bt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new QD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Ug(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Fg(i)}async function ES(n,t){const i=Bt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XD(n,t){const i=Bt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&Fg(i)}function WD(n,t,i){const r=Bt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Fg(n){n.Ca.forEach((t=>{t.next()}))}var zm,gb;(gb=zm||(zm={})).Ma="default",gb.Cache="cache";class AS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Wo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zm.Cache}}class wS{constructor(t){this.key=t}}class CS{constructor(t){this.key=t}}class $D{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=HT(t),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new pb,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const S=o.get(v),j=bf(this.query,b)?b:null,N=!!S&&this.mutatedKeys.has(S.key),P=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let q=!1;S&&j?S.data.isEqual(j.data)?N!==P&&(r.track({type:3,doc:j}),q=!0):this.su(S,j)||(r.track({type:2,doc:j}),q=!0,(m&&this.eu(j,m)>0||g&&this.eu(j,g)<0)&&(d=!0)):!S&&j?(r.track({type:0,doc:j}),q=!0):S&&!j&&(r.track({type:1,doc:S}),q=!0,(m||g)&&(d=!0)),q&&(j?(c=c.add(j),u=P?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(j,N){const P=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:q})}};return P(j)-P(N)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Wo(this.query,t.tu,u,c,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new CS(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new wS(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class ZD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class JD{constructor(t){this.key=t,this.hu=!1}}class tV{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((d=>qT(d)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new Re(It.comparator),this.Au=new Map,this.Ru=new jg,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eV(n,t,i=!0){const r=MS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await RS(r,t,i,!0),o}async function nV(n,t){const i=MS(n);await RS(i,t,!0,!1)}async function RS(n,t,i,r){const o=await TD(n.localStore,cs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await iV(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&yS(n.remoteStore,o),d}async function iV(n,t,i,r,o){n.pu=(b,S,j)=>(async function(P,q,Q,k){let U=q.view.ru(Q);U.Cs&&(U=await lb(P.localStore,q.query,!1).then((({documents:C})=>q.view.ru(C,U))));const X=k&&k.targetChanges.get(q.targetId),Z=k&&k.targetMismatches.get(q.targetId)!=null,tt=q.view.applyChanges(U,P.isPrimaryClient,X,Z);return vb(P,q.targetId,tt.au),tt.snapshot})(n,b,S,j);const u=await lb(n.localStore,t,!0),c=new $D(t,u.Qs),d=c.ru(u.documents),m=Uu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,m);vb(n,i,g.au);const v=new ZD(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function sV(n,t,i){const r=Bt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!_f(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await km(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Lg(r.remoteStore,o.targetId),Um(r,o.targetId)})).catch(tl)):(Um(r,o.targetId),await km(r.localStore,o.targetId,!0))}async function rV(n,t){const i=Bt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(i.remoteStore,r.targetId))}async function aV(n,t,i){const r=dV(n);try{const o=await(function(c,d){const m=Bt(c),g=Se.now(),v=d.reduce(((j,N)=>j.add(N.key)),Xt());let b,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let N=Fs(),P=Xt();return m.Ns.getEntries(j,v).next((q=>{N=q,N.forEach(((Q,k)=>{k.isValidDocument()||(P=P.add(Q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(j,N))).next((q=>{b=q;const Q=[];for(const k of d){const U=xI(k,b.get(k.key).overlayedDocument);U!=null&&Q.push(new qr(k.key,U,NT(U.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(j,g,Q,d)})).next((q=>{S=q;const Q=q.applyToLocalDocumentSet(b,P);return m.documentOverlayCache.saveOverlays(j,q.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:YT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Re(Kt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await qu(r,o.changes),await wf(r.remoteStore)}catch(o){const u=Ug(o,"Failed to persist write");i.reject(u)}}async function IS(n,t){const i=Bt(n);try{const r=await _D(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?le(c.hu,14607):o.removedDocuments.size>0&&(le(c.hu,42227),c.hu=!1))})),await qu(i,r,t)}catch(r){await tl(r)}}function yb(n,t,i){const r=Bt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Bt(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(d)&&(g=!0)})),g&&Fg(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oV(n,t,i){const r=Bt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Re(It.comparator);c=c.insert(u,Sn.newNoDocument(u,Pt.min()));const d=Xt().add(u),m=new Sf(Pt.min(),new Map,new Re(Kt),c,d);await IS(r,m),r.du=r.du.remove(u),r.Au.delete(t),Hg(r)}else await km(r.localStore,t,!1).then((()=>Um(r,t,i))).catch(tl)}async function lV(n,t){const i=Bt(n),r=t.batch.batchId;try{const o=await vD(i.localStore,t);VS(i,r,null),DS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await qu(i,o)}catch(o){await tl(o)}}async function uV(n,t,i){const r=Bt(n);try{const o=await(function(c,d){const m=Bt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(le(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);VS(r,t,i),DS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await qu(r,o)}catch(o){await tl(o)}}function DS(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function VS(n,t,i){const r=Bt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Um(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||jS(n,r)}))}function jS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(Lg(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Hg(n))}function vb(n,t,i){for(const r of i)r instanceof wS?(n.Ru.addReference(r.key,t),cV(n,r)):r instanceof CS?(Tt(qg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||jS(n,r.key)):Mt(19791,{wu:r})}function cV(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(Tt(qg,"New document in limbo: "+i),n.Eu.add(r),Hg(n))}function Hg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new It(ve.fromString(t)),r=n.fu.next();n.Au.set(r,new JD(i)),n.du=n.du.insert(i,r),yS(n.remoteStore,new Er(cs(vf(i.path)),r,"TargetPurposeLimboResolution",mf.ce))}}async function qu(n,t,i){const r=Bt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const v=g?!g.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Og.As(m.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,g){const v=Bt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ft.forEach(g,(S=>ft.forEach(S.Es,(j=>v.persistence.referenceDelegate.addReference(b,S.targetId,j))).next((()=>ft.forEach(S.ds,(j=>v.persistence.referenceDelegate.removeReference(b,S.targetId,j)))))))))}catch(b){if(!el(b))throw b;Tt(Ng,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const j=v.Ms.get(S),N=j.snapshotVersion,P=j.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,P)}}})(r.localStore,u))}async function hV(n,t){const i=Bt(n);if(!i.currentUser.isEqual(t)){Tt(qg,"User change. New user:",t.toKey());const r=await dS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new vt(ct.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qu(i,r.Ls)}}function fV(n,t){const i=Bt(n),r=i.Au.get(t);if(r&&r.hu)return Xt().add(r.key);{let o=Xt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function MS(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oV.bind(null,t),t.Pu.H_=XD.bind(null,t.eventManager),t.Pu.yu=WD.bind(null,t.eventManager),t}function dV(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,t),t}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yD(this.persistence,new pD,t.initialUser,this.serializer)}Cu(t){return new fS(Mg.mi,this.serializer)}Du(t){return new ED}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class pV extends ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){le(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new fS((r=>Jh.mi(r,i)),this.serializer)}}class Fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hV.bind(null,this.syncEngine),await YD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KD})()}createDatastore(t){const i=Ef(t.databaseInfo.databaseId),r=(function(u){return new ID(u)})(t.databaseInfo);return(function(u,c,d,m){return new MD(u,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new ND(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>yb(this.syncEngine,i,0)),(function(){return hb.v()?new hb:new AD})())}createSyncEngine(t,i){return(function(o,u,c,d,m,g,v){const b=new tV(o,u,c,d,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Bt(i);Tt(La,"RemoteStore shutting down."),r.Ea.add(5),await Fu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};class OS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Pr="FirestoreClient";class mV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Tt(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Tt(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ug(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Zp(n,t){n.asyncQueue.verifyOperationInProgress(),Tt(Pr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await dS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function _b(n,t){n.asyncQueue.verifyOperationInProgress();const i=await gV(n);Tt(Pr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>db(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>db(t.remoteStore,o))),n._onlineComponents=t}async function gV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt(Pr,"Using user provided OfflineComponentProvider");try{await Zp(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ct.FAILED_PRECONDITION||o.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Go("Error using user provided cache. Falling back to memory cache: "+i),await Zp(n,new ef)}}else Tt(Pr,"Using default OfflineComponentProvider"),await Zp(n,new pV(void 0));return n._offlineComponents}async function NS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt(Pr,"Using user provided OnlineComponentProvider"),await _b(n,n._uninitializedComponentsProvider._online)):(Tt(Pr,"Using default OnlineComponentProvider"),await _b(n,new Fm))),n._onlineComponents}function yV(n){return NS(n).then((t=>t.syncEngine))}async function qm(n){const t=await NS(n),i=t.eventManager;return i.onListen=eV.bind(null,t.syncEngine),i.onUnlisten=sV.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nV.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rV.bind(null,t.syncEngine),i}function vV(n,t,i={}){const r=new Ir;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,g){const v=new OS({next:S=>{v.Nu(),c.enqueueAndForget((()=>ES(u,b)));const j=S.docs.has(d);!j&&S.fromCache?g.reject(new vt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&m&&m.source==="server"?g.reject(new vt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new AS(vf(d.path),v,{includeMetadataChanges:!0,qa:!0});return SS(u,b)})(await qm(n),n.asyncQueue,t,i,r))),r.promise}function LS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const bb=new Map;const PS="firestore.googleapis.com",xb=!0;class Tb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=xb}else this.host=t.host,this.ssl=t.ssl??xb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$I)throw new vt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cf{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ER;switch(r.type){case"firstParty":return new RR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=bb.get(i);r&&(Tt("ComponentProvider","Removing Datastore"),bb.delete(i),r.terminate())})(this),Promise.resolve()}}function _V(n,t,i,r={}){n=_i(n,Cf);const o=yg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${i}`;o&&(W2(`https://${d}`),tC("Firestore",!0)),u.host!==PS&&u.host!==d&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:r};if(!Su(m,c)&&(n._setSettings(m),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Tn.MOCK_USER;else{g=$2(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new vt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Tn(b)}n._authCredentials=new AR(new ST(g,v))}}class Hr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Hr(this.firestore,t,this._query)}}class je{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Bu(i,je._jsonSchema))return new je(t,r||null,new It(ve.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:$e("string",je._jsonSchemaVersion),referencePath:$e("string")};class Dr extends Hr{constructor(t,i,r){super(t,i,vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new It(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function Zn(n,t,...i){if(n=ei(n),ET("collection","path",t),n instanceof Cf){const r=ve.fromString(t,...i);return N_(r),new Dr(n,null,r)}{if(!(n instanceof je||n instanceof Dr))throw new vt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(t,...i));return N_(r),new Dr(n.firestore,null,r)}}function Ke(n,t,...i){if(n=ei(n),arguments.length===1&&(t=xg.newId()),ET("doc","path",t),n instanceof Cf){const r=ve.fromString(t,...i);return O_(r),new je(n,null,new It(r))}{if(!(n instanceof je||n instanceof Dr))throw new vt(ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(t,...i));return O_(r),new je(n.firestore,n instanceof Dr?n.converter:null,new It(r))}}const Sb="AsyncQueue";class Eb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mS(this,"async_queue_retry"),this._c=()=>{const r=$p();r&&Tt(Sb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$p();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$p();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;Tt(Sb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",Ab(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=zg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:Ab(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ab(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function wb(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class kr extends Cf{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Eb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Eb(t),this._firestoreClient=void 0,await t}}}function bV(n,t){const i=typeof n=="object"?n:dT(),r=typeof n=="string"?n:Yh,o=ku(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=K2("firestore");u&&_V(o,...u)}return o}function Gg(n){if(n._terminated)throw new vt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xV(n),n._firestoreClient}function xV(n){const t=n._freezeSettings(),i=(function(o,u,c,d){return new YR(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new mV(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(yn.fromBase64String(t))}catch(i){throw new vt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new yi(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:$e("string",yi._jsonSchemaVersion),bytes:$e("string")};class Rf{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Yg{constructor(t){this._methodName=t}}class fs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,fs._jsonSchema))return new fs(t.latitude,t.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:$e("string",fs._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};class ds{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,ds._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ds(t.vectorValues);throw new vt(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:$e("string",ds._jsonSchemaVersion),vectorValues:$e("object")};const TV=/^__.*__$/;class SV{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new zu(t,this.data,i,this.fieldTransforms)}}class kS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new qr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function BS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:n})}}class Qg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BS(this.Ac)&&TV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ef(t)}Cc(t,i,r,o=!1){return new Qg({Ac:t,methodName:i,Dc:r,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(n){const t=n._freezeSettings(),i=Ef(n._databaseId);return new EV(n._databaseId,!!t.ignoreUndefinedProperties,i)}function zS(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);Kg("Data must be an object, but it was:",c,r);const d=US(r,c);let m,g;if(u.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=Hm(t,b,i);if(!c.contains(S))throw new vt(ct.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qS(v,S)||v.push(S)}m=new Jn(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new SV(new Pn(d),m,g)}class Df extends Yg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Df}}function AV(n,t,i,r){const o=n.Cc(1,t,i);Kg("Data must be an object, but it was:",o,r);const u=[],c=Pn.empty();Fr(r,((m,g)=>{const v=Xg(t,m,i);g=ei(g);const b=o.yc(v);if(g instanceof Df)u.push(v);else{const S=Hu(g,b);S!=null&&(u.push(v),c.set(v,S))}}));const d=new Jn(u);return new kS(c,d,o.fieldTransforms)}function wV(n,t,i,r,o,u){const c=n.Cc(1,t,i),d=[Hm(t,r,i)],m=[o];if(u.length%2!=0)throw new vt(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Hm(t,u[S])),m.push(u[S+1]);const g=[],v=Pn.empty();for(let S=d.length-1;S>=0;--S)if(!qS(g,d[S])){const j=d[S];let N=m[S];N=ei(N);const P=c.yc(j);if(N instanceof Df)g.push(j);else{const q=Hu(N,P);q!=null&&(g.push(j),v.set(j,q))}}const b=new Jn(g);return new kS(v,b,c.fieldTransforms)}function CV(n,t,i,r=!1){return Hu(i,n.Cc(r?4:3,t))}function Hu(n,t){if(FS(n=ei(n)))return Kg("Unsupported field value:",t,n),US(n,t);if(n instanceof Yg)return(function(r,o){if(!BS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let m=Hu(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Se.fromDate(r);return{timestampValue:Zh(o.serializer,u)}}if(r instanceof Se){const u=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(r instanceof fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yi)return{bytesValue:sS(o.serializer,r._byteString)};if(r instanceof je){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ds)return(function(c,d){return{mapValue:{fields:{[MT]:{stringValue:OT},[Qh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Cg(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${pf(r)}`)})(n,t)}function US(n,t){const i={};return CT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(n,((r,o)=>{const u=Hu(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function FS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Se||n instanceof fs||n instanceof yi||n instanceof je||n instanceof Yg||n instanceof ds)}function Kg(n,t,i){if(!FS(i)||!AT(i)){const r=pf(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Hm(n,t,i){if((t=ei(t))instanceof Rf)return t._internalPath;if(typeof t=="string")return Xg(n,t);throw nf("Field path arguments must be of type string or ",n,!1,void 0,i)}const RV=new RegExp("[~\\*/\\[\\]]");function Xg(n,t,i){if(t.search(RV)>=0)throw nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Rf(...t.split("."))._internalPath}catch{throw nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function nf(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new vt(ct.INVALID_ARGUMENT,d+n+m)}function qS(n,t){return n.some((i=>i.isEqual(t)))}class HS{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Vf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class IV extends HS{data(){return super.data()}}function Vf(n,t){return typeof t=="string"?Xg(n,t):t instanceof Rf?t._internalPath:t._delegate._internalPath}function DV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class $g extends Wg{}function Ca(n,t,...i){let r=[];t instanceof Wg&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((m=>m instanceof Zg)).length,d=u.filter((m=>m instanceof jf)).length;if(c>1||c>0&&d>0)throw new vt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class jf extends $g{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new jf(t,i,r)}_apply(t){const i=this._parse(t);return GS(t._query,i),new Hr(t.firestore,t.converter,Mm(t._query,i))}_parse(t){const i=If(t.firestore);return(function(u,c,d,m,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new vt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Ib(b,v);const N=[];for(const P of b)N.push(Rb(m,u,P));S={arrayValue:{values:N}}}else S=Rb(m,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Ib(b,v),S=CV(d,c,b,v==="in"||v==="not-in");return We.create(g,v,S)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Jp(n,t,i){const r=t,o=Vf("where",n);return jf._create(o,r,i)}class Zg extends Wg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:zi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const m of d)GS(c,m),c=Mm(c,m)})(t._query,i),new Hr(t.firestore,t.converter,Mm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jg extends $g{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Jg(t,i)}_apply(t){const i=(function(o,u,c){if(o.startAt!==null)throw new vt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new vt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,c)})(t._query,this._field,this._direction);return new Hr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new nl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Rh(n,t="asc"){const i=t,r=Vf("orderBy",n);return Jg._create(r,i)}class ty extends $g{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new ty(t,i,r)}_apply(t){return new Hr(t.firestore,t.converter,Xh(t._query,this._limit,this._limitType))}}function Cb(n){return NR("limit",n),ty._create("limit",n,"F")}function Rb(n,t,i){if(typeof(i=ei(i))=="string"){if(i==="")throw new vt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(t)&&i.indexOf("/")!==-1)throw new vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ve.fromString(i));if(!It.isDocumentKey(r))throw new vt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q_(n,new It(r))}if(i instanceof je)return q_(n,i._key);throw new vt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(i)}.`)}function Ib(n,t){if(!Array.isArray(n)||n.length===0)throw new vt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GS(n,t){const i=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new vt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class VV{convertValue(t,i="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Fr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Qh].arrayValue?.values?.map((r=>Pe(r.doubleValue)));return new ds(i)}convertGeoPoint(t){return new fs(Pe(t.latitude),Pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yf(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(wu(t));default:return null}}convertTimestamp(t){const i=Mr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ve.fromString(t);le(cS(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new It(r.popFirst(5));return o.isEqual(i)||Us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function YS(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}class fu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends HS{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Vf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ja._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:$e("string",ja._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class kh extends ja{data(t={}){return super.data(t)}}class Fo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kh(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:jV(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}function Ra(n){n=_i(n,je);const t=_i(n.firestore,kr);return vV(Gg(t),n._key).then((i=>KS(t,n,i)))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:$e("string",Fo._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class QS extends VV{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function No(n,t,i){n=_i(n,je);const r=_i(n.firestore,kr),o=YS(n.converter,t,i);return Mf(r,[zS(If(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,bi.none())])}function Ar(n,t,i,...r){n=_i(n,je);const o=_i(n.firestore,kr),u=If(o);let c;return c=typeof(t=ei(t))=="string"||t instanceof Rf?wV(u,"updateDoc",n._key,t,i,r):AV(u,"updateDoc",n._key,t),Mf(o,[c.toMutation(n._key,bi.exists(!0))])}function tm(n){return Mf(_i(n.firestore,kr),[new Rg(n._key,bi.none())])}function ju(n,t){const i=_i(n.firestore,kr),r=Ke(n),o=YS(n.converter,t);return Mf(i,[zS(If(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then((()=>r))}function Ps(n,...t){n=ei(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||wb(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wb(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let u,c,d;if(n instanceof je)c=_i(n.firestore,kr),d=vf(n._key.path),u={next:m=>{t[r]&&t[r](KS(c,n,m))},error:t[r+1],complete:t[r+2]};else{const m=_i(n,Hr);c=_i(m.firestore,kr),d=m._query;const g=new QS(c);u={next:v=>{t[r]&&t[r](new Fo(c,g,m,v))},error:t[r+1],complete:t[r+2]},DV(n._query)}return(function(g,v,b,S){const j=new OS(S),N=new AS(v,j,b);return g.asyncQueue.enqueueAndForget((async()=>SS(await qm(g),N))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>ES(await qm(g),N)))}})(Gg(c),d,o,u)}function Mf(n,t){return(function(r,o){const u=new Ir;return r.asyncQueue.enqueueAndForget((async()=>aV(await yV(r),o,u))),u.promise})(Gg(n),t)}function KS(n,t,i){const r=i.docs.get(t._key),o=new QS(n);return new ja(n,o,t._key,r,new fu(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Jo=o})(hR),Vr(new Bs("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new kr(new wR(r.getProvider("auth-internal")),new IR(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new vt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),us(D_,V_,t),us(D_,V_,"esm2020")})();const XS="@firebase/installations",ey="0.6.19";const WS=1e4,$S=`w:${ey}`,ZS="FIS_v2",MV="https://firebaseinstallations.googleapis.com/v1",OV=3600*1e3,NV="installations",LV="Installations";const PV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new df(NV,LV,PV);function JS(n){return n instanceof Ur&&n.code.includes("request-failed")}function tE({projectId:n}){return`${MV}/projects/${n}/installations`}function eE(n){return{token:n.token,requestStatus:2,expiresIn:BV(n.expiresIn),creationTime:Date.now()}}async function nE(n,t){const r=(await t.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function kV(n,{refreshToken:t}){const i=iE(n);return i.append("Authorization",zV(t)),i}async function sE(n){const t=await n();return t.status>=500&&t.status<600?n():t}function BV(n){return Number(n.replace("s","000"))}function zV(n){return`${ZS} ${n}`}async function UV({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=tE(n),o=iE(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:i,authVersion:ZS,appId:n.appId,sdkVersion:$S},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await sE(()=>fetch(r,d));if(m.ok){const g=await m.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:eE(g.authToken)}}else throw await nE("Create Installation",m)}function rE(n){return new Promise(t=>{setTimeout(t,n)})}function FV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const qV=/^[cdef][\w-]{21}$/,Gm="";function HV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=GV(n);return qV.test(i)?i:Gm}catch{return Gm}}function GV(n){return FV(n).substr(0,22)}function Of(n){return`${n.appName}!${n.appId}`}const aE=new Map;function oE(n,t){const i=Of(n);lE(i,t),YV(i,t)}function lE(n,t){const i=aE.get(n);if(i)for(const r of i)r(t)}function YV(n,t){const i=QV();i&&i.postMessage({key:n,fid:t}),KV()}let Ia=null;function QV(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=n=>{lE(n.data.key,n.data.fid)}),Ia}function KV(){aE.size===0&&Ia&&(Ia.close(),Ia=null)}const XV="firebase-installations-database",WV=1,ka="firebase-installations-store";let em=null;function ny(){return em||(em=hT(XV,WV,{upgrade:(n,t)=>{t===0&&n.createObjectStore(ka)}})),em}async function sf(n,t){const i=Of(n),o=(await ny()).transaction(ka,"readwrite"),u=o.objectStore(ka),c=await u.get(i);return await u.put(t,i),await o.done,(!c||c.fid!==t.fid)&&oE(n,t.fid),t}async function uE(n){const t=Of(n),r=(await ny()).transaction(ka,"readwrite");await r.objectStore(ka).delete(t),await r.done}async function Nf(n,t){const i=Of(n),o=(await ny()).transaction(ka,"readwrite"),u=o.objectStore(ka),c=await u.get(i),d=t(c);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!c||c.fid!==d.fid)&&oE(n,d.fid),d}async function iy(n){let t;const i=await Nf(n.appConfig,r=>{const o=$V(r),u=ZV(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Gm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function $V(n){const t=n||{fid:HV(),registrationStatus:0};return cE(t)}function ZV(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=JV(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:tj(n)}:{installationEntry:t}}async function JV(n,t){try{const i=await UV(n,t);return sf(n.appConfig,i)}catch(i){throw JS(i)&&i.customData.serverCode===409?await uE(n.appConfig):await sf(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function tj(n){let t=await Db(n.appConfig);for(;t.registrationStatus===1;)await rE(100),t=await Db(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await iy(n);return r||i}return t}function Db(n){return Nf(n,t=>{if(!t)throw Pa.create("installation-not-found");return cE(t)})}function cE(n){return ej(n)?{fid:n.fid,registrationStatus:0}:n}function ej(n){return n.registrationStatus===1&&n.registrationTime+WS<Date.now()}async function nj({appConfig:n,heartbeatServiceProvider:t},i){const r=ij(n,i),o=kV(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:$S,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await sE(()=>fetch(r,d));if(m.ok){const g=await m.json();return eE(g)}else throw await nE("Generate Auth Token",m)}function ij(n,{fid:t}){return`${tE(n)}/${t}/authTokens:generate`}async function sy(n,t=!1){let i;const r=await Nf(n.appConfig,u=>{if(!hE(u))throw Pa.create("not-registered");const c=u.authToken;if(!t&&aj(c))return u;if(c.requestStatus===1)return i=sj(n,t),u;{if(!navigator.onLine)throw Pa.create("app-offline");const d=lj(u);return i=rj(n,d),d}});return i?await i:r.authToken}async function sj(n,t){let i=await Vb(n.appConfig);for(;i.authToken.requestStatus===1;)await rE(100),i=await Vb(n.appConfig);const r=i.authToken;return r.requestStatus===0?sy(n,t):r}function Vb(n){return Nf(n,t=>{if(!hE(t))throw Pa.create("not-registered");const i=t.authToken;return uj(i)?{...t,authToken:{requestStatus:0}}:t})}async function rj(n,t){try{const i=await nj(n,t),r={...t,authToken:i};return await sf(n.appConfig,r),i}catch(i){if(JS(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await uE(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await sf(n.appConfig,r)}throw i}}function hE(n){return n!==void 0&&n.registrationStatus===2}function aj(n){return n.requestStatus===2&&!oj(n)}function oj(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+OV}function lj(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function uj(n){return n.requestStatus===1&&n.requestTime+WS<Date.now()}async function cj(n){const t=n,{installationEntry:i,registrationPromise:r}=await iy(t);return r?r.catch(console.error):sy(t).catch(console.error),i.fid}async function hj(n,t=!1){const i=n;return await fj(i),(await sy(i,t)).token}async function fj(n){const{registrationPromise:t}=await iy(n);t&&await t}function dj(n){if(!n||!n.options)throw nm("App Configuration");if(!n.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw nm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function nm(n){return Pa.create("missing-app-config-values",{valueName:n})}const fE="installations",pj="installations-internal",mj=n=>{const t=n.getProvider("app").getImmediate(),i=dj(t),r=ku(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gj=n=>{const t=n.getProvider("app").getImmediate(),i=ku(t,fE).getImmediate();return{getId:()=>cj(i),getToken:o=>hj(i,o)}};function yj(){Vr(new Bs(fE,mj,"PUBLIC")),Vr(new Bs(pj,gj,"PRIVATE"))}yj();us(XS,ey);us(XS,ey,"esm2020");const rf="analytics",vj="firebase_id",_j="origin",bj=60*1e3,xj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ry="https://www.googletagmanager.com/gtag/js";const Rn=new vg("@firebase/analytics");const Tj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ti=new df("analytics","Analytics",Tj);function Sj(n){if(!n.startsWith(ry)){const t=ti.create("invalid-gtag-resource",{gtagURL:n});return Rn.warn(t.message),""}return n}function dE(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function Ej(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function Aj(n,t){const i=Ej("firebase-js-sdk-policy",{createScriptURL:Sj}),r=document.createElement("script"),o=`${ry}?l=${n}&id=${t}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function wj(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function Cj(n,t,i,r,o,u){const c=r[o];try{if(c)await t[c];else{const m=(await dE(i)).find(g=>g.measurementId===o);m&&await t[m.appId]}}catch(d){Rn.error(d)}n("config",o,u)}async function Rj(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await dE(i);for(const m of c){const g=d.find(b=>b.measurementId===m),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Rn.error(u)}}function Ij(n,t,i,r){async function o(u,...c){try{if(u==="event"){const[d,m]=c;await Rj(n,t,i,d,m)}else if(u==="config"){const[d,m]=c;await Cj(n,t,i,r,d,m)}else if(u==="consent"){const[d,m]=c;n("consent",d,m)}else if(u==="get"){const[d,m,g]=c;n("get",d,m,g)}else if(u==="set"){const[d]=c;n("set",d)}else n(u,...c)}catch(d){Rn.error(d)}}return o}function Dj(n,t,i,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Ij(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function Vj(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(ry)&&i.src.includes(n))return i;return null}const jj=30,Mj=1e3;class Oj{constructor(t={},i=Mj){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const pE=new Oj;function Nj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Lj(n){const{appId:t,apiKey:i}=n,r={method:"GET",headers:Nj(i)},o=xj.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function Pj(n,t=pE,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ti.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ti.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new zj;return setTimeout(async()=>{d.abort()},bj),mE({appId:r,apiKey:o,measurementId:u},c,d,t)}async function mE(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=pE){const{appId:u,measurementId:c}=n;try{await kj(r,t)}catch(d){if(c)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await Lj(n);return o.deleteThrottleMetadata(u),d}catch(d){const m=d;if(!Bj(m)){if(o.deleteThrottleMetadata(u),c)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?b_(i,o.intervalMillis,jj):b_(i,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:i+1};return o.setThrottleMetadata(u,v),Rn.debug(`Calling attemptFetch again in ${g} millis`),mE(n,v,r,o)}}function kj(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(ti.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Bj(n){if(!(n instanceof Ur)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class zj{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Uj(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,c={...r,send_to:u};n("event",i,c)}}async function Fj(n,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:i})}}async function qj(){if(oT())try{await lT()}catch(n){return Rn.warn(ti.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Rn.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Hj(n,t,i,r,o,u,c){const d=Pj(n);d.then(S=>{i[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Rn.error(S)),t.push(d);const m=qj().then(S=>{if(S)return r.getId()}),[g,v]=await Promise.all([d,m]);Vj(u)||Aj(u,g.measurementId),o("js",new Date);const b=c?.config??{};return b[_j]="firebase",b.update=!0,v!=null&&(b[vj]=v),o("config",g.measurementId,b),g.measurementId}class Gj{constructor(t){this.app=t}_delete(){return delete qo[this.app.options.appId],Promise.resolve()}}let qo={},jb=[];const Mb={};let im="dataLayer",Yj="gtag",Ob,ay,Nb=!1;function Qj(){const n=[];if(iC()&&n.push("This is a browser extension environment."),rC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=ti.create("invalid-analytics-context",{errorInfo:t});Rn.warn(i.message)}}function Kj(n,t,i){Qj();const r=n.options.appId;if(!r)throw ti.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ti.create("no-api-key");if(qo[r]!=null)throw ti.create("already-exists",{id:r});if(!Nb){wj(im);const{wrappedGtag:u,gtagCore:c}=Dj(qo,jb,Mb,im,Yj);ay=u,Ob=c,Nb=!0}return qo[r]=Hj(n,jb,Mb,t,Ob,im,i),new Gj(n)}function Xj(n=dT()){n=ei(n);const t=ku(n,rf);return t.isInitialized()?t.getImmediate():Wj(n)}function Wj(n,t={}){const i=ku(n,rf);if(i.isInitialized()){const o=i.getImmediate();if(Su(t,i.getOptions()))return o;throw ti.create("already-initialized")}return i.initialize({options:t})}function $j(n,t,i){n=ei(n),Fj(ay,qo[n.app.options.appId],t,i).catch(r=>Rn.error(r))}function Zj(n,t,i,r){n=ei(n),Uj(ay,qo[n.app.options.appId],t,i,r).catch(o=>Rn.error(o))}const Lb="@firebase/analytics",Pb="0.10.19";function Jj(){Vr(new Bs(rf,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return Kj(r,o,i)},"PUBLIC")),Vr(new Bs("analytics-internal",n,"PRIVATE")),us(Lb,Pb),us(Lb,Pb,"esm2020");function n(t){try{const i=t.getProvider(rf).getImmediate();return{logEvent:(r,o,u)=>Zj(i,r,o,u),setUserProperties:(r,o)=>$j(i,r,o)}}catch(i){throw ti.create("interop-component-reg-failed",{reason:i})}}}Jj();const tM={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},gE=fT(tM);Xj(gE);const ne=bV(gE);function eM({t:n,lang:t,users:i,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:d,logo:m,logoSize:g,logoPos:v,styles:b,isAdmin:S,syncToFirebase:j}){const[N,P]=z.useState("login"),[q,Q]=z.useState(""),[k,U]=z.useState(""),[X,Z]=z.useState(""),tt=async()=>{if(!q||!k||!X)return alert(t==="ko"?"  .":"Please fill all info.");const R=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(G=>G.code===X),V=i.find(G=>G.id===X);if(!R&&!V&&!(X==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(i.find(G=>G.id===q))return alert(t==="ko"?"  .":"ID already exists.");const I=(2783982189+i.length).toString(),bt={id:q,pw:k,no:I,referral:X,diamond:0,refCode:q,agentName:R?R.name:"",joinedAt:new Date().toISOString()},Et=[...i,bt];r(Et),j&&await j({users:Et}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),Q(""),U(""),Z(""),P("login")},C=A=>{A.key==="Enter"&&(N==="login"?o(q,k):tt())};return y.jsxs("div",{style:{...b.landingWrapper,minHeight:"100dvh"},children:[y.jsxs("div",{style:{...b.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[y.jsx("div",{style:b.bgOverlay}),c.mode==="image"&&c.imageSrc&&y.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&d&&y.jsx("video",{src:d,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...b.bgVideo,height:"100dvh",objectFit:"cover"}},d)]}),y.jsx("div",{style:{...b.logoContainer,left:`${v.x}px`,top:`${v.y}px`,transition:"all 0.3s ease"},children:m?y.jsx("img",{src:m,alt:"logo",style:{height:`${g}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):y.jsx("strong",{style:b.defaultLogo,children:"DAISY"})}),y.jsxs("div",{style:b.mainContent,children:[y.jsxs("div",{style:b.heroSection,children:[y.jsx("h1",{style:b.mainTitle,children:c.title[t]}),y.jsx("p",{style:b.subTitle,children:c.desc[t]})]}),!S&&y.jsx("div",{style:b.authWrap,children:y.jsxs("div",{style:{...b.authCard,padding:"50px 40px"},children:[y.jsx("h2",{style:{...b.authTitle,fontSize:"28px",marginBottom:"35px"},children:N==="login"?n.login:n.signup}),y.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:q,onChange:A=>Q(A.target.value),onKeyDown:C}),y.jsx("input",{type:"password",style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:k,onChange:A=>U(A.target.value),onKeyDown:C}),N==="signup"&&y.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:X,onChange:A=>Z(A.target.value),onKeyDown:C}),y.jsx("button",{style:{...b.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>N==="login"?o(q,k):tt(),children:N==="login"?n.login:n.signup}),N==="login"&&y.jsx("button",{style:{...b.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),y.jsx("div",{style:{...b.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{P(N==="login"?"signup":"login"),Q(""),U(""),Z("")},children:N==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const kb=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function nM({members:n=[],slideImages:t=[],innerLogo:i,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:d}){const[m,g]=z.useState(0),v=z.useRef(null);z.useEffect(()=>{if(!t||t.length<=1)return;const N=setInterval(()=>{g(P=>(P+1)%t.length)},4e3);return()=>clearInterval(N)},[t]);const b=z.useMemo(()=>!n||n.length===0?[]:[...n,...n,...n],[n]),S=N=>{v.current&&v.current.scrollBy({left:N==="left"?-300:300,behavior:"smooth"})},j=N=>{const P=v.current;if(!P)return;let q=!0,Q=N.pageX-P.offsetLeft,k=P.scrollLeft;const U=Z=>{if(!q)return;Z.preventDefault();const C=(Z.pageX-P.offsetLeft-Q)*2;P.scrollLeft=k-C},X=()=>{q=!1,window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",X)};window.addEventListener("mousemove",U),window.addEventListener("mouseup",X)};return y.jsxs("div",{style:jt.container,children:[y.jsx("div",{className:"bg-glow"}),y.jsx("div",{className:"bg-pattern"}),y.jsxs("header",{style:jt.header,children:[y.jsx("div",{style:jt.logoArea,children:i?y.jsx("img",{src:i,style:jt.logoImg,alt:"logo"}):y.jsxs("h1",{style:jt.defaultLogo,children:["DAISY",y.jsx("br",{}),y.jsx("span",{children:"LOUNGE"})]})}),y.jsxs("div",{style:jt.statusBadge,children:[y.jsx("div",{className:"dot-pulse-wrap",children:y.jsx("span",{className:"dot-pulse"})}),y.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),y.jsxs("b",{style:jt.countText,children:[c," MEMBERS"]})]})]}),y.jsxs("div",{style:jt.introTextArea,children:[y.jsx("div",{style:jt.introSub,children:"WELCOME TO THE PRIVATE"}),y.jsxs("div",{style:jt.introMain,children:[d.welcome.replace(" ",""),y.jsx("span",{style:jt.introSparkle,children:""})]})]}),t&&t.length>0&&y.jsx("div",{style:jt.sliderContainer,children:y.jsxs("div",{style:jt.sliderWrap,children:[t.map((N,P)=>{const q=N.url||N,Q=P===m;return y.jsx("div",{style:{...jt.slide,opacity:Q?1:0,visibility:Q?"visible":"hidden"},children:y.jsxs("div",{style:jt.imageBorderWrapper,children:[y.jsx("img",{src:q,style:jt.actualImg,alt:"slide",draggable:"false"}),y.jsx("div",{style:jt.slideOverlay}),y.jsx("div",{style:jt.adTag,children:"PREMIUM PICK"})]})},P)}),y.jsx("div",{style:jt.indicatorWrap,children:t.map((N,P)=>y.jsx("div",{style:{...jt.dot,width:P===m?20:6,backgroundColor:P===m?"#FFD700":"rgba(255,255,255,0.3)"}},P))})]})}),y.jsxs("div",{style:jt.welcomeBox,children:[y.jsx("div",{style:jt.welcomeLine}),y.jsx("span",{style:jt.welcomeText,children:d.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),y.jsx("div",{style:jt.welcomeLine})]}),y.jsxs("div",{style:jt.sectionLabel,children:[y.jsxs("div",{style:jt.labelLeft,children:[y.jsx("span",{className:"shine-text",style:jt.labelIcon,children:""}),y.jsxs("span",{style:jt.labelText,children:["DAISY ",d.manager.toUpperCase()]})]}),y.jsx("div",{onClick:()=>o&&o("manager"),style:jt.moreBtn,children:"VIEW ALL "})]}),y.jsxs("div",{style:{position:"relative",width:"100%"},children:[y.jsx("div",{ref:v,className:"snap-container",style:jt.scrollArea,onMouseDown:j,children:b.map((N,P)=>y.jsxs("div",{style:jt.card,onClick:()=>u&&u(N),children:[y.jsxs("div",{style:jt.cardImgWrap,children:[y.jsx("img",{src:N.img,style:jt.cardImg,alt:N.name||"member",draggable:"false"}),y.jsx("div",{style:jt.cardOverlay}),y.jsx("div",{style:jt.cardBadge,children:kb[P%kb.length]})]}),y.jsxs("div",{style:jt.cardInfo,children:[y.jsx("div",{style:jt.cardName,children:N.name}),y.jsxs("div",{style:jt.cardSpecs,children:[y.jsx("span",{style:jt.specText,children:N.loc||N.region||(d.home===""?"":"Area")}),y.jsx("span",{style:jt.specDivider,children:""}),y.jsx("span",{style:jt.specText,children:N.age?`${N.age}${d.home===""?"":""}`:d.home===""?"20":"20s"})]}),y.jsxs("div",{style:{...jt.cardSpecs,marginTop:"5px"},children:[y.jsx("span",{style:jt.specText,children:N.height?N.height+"cm":"cm"}),y.jsx("span",{style:jt.specDivider,children:""}),y.jsx("span",{style:jt.specText,children:N.weight?N.weight+"kg":"kg"}),y.jsx("span",{style:jt.specDivider,children:""}),y.jsx("span",{style:jt.specText,children:N.bust||N.size||"Size"})]})]})]},P))}),y.jsxs("div",{className:"pc-arrows-wrap",children:[y.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("left")},children:""}),y.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("right")},children:""})]})]}),y.jsxs("div",{style:jt.footerBtnArea,children:[y.jsxs("button",{onClick:r,className:"shimmer-btn",style:jt.teleBtn,children:[" ",d.home===""?"  ":"Connect Real-time Chat"]}),y.jsx("p",{style:jt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),y.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const jt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function iM({filteredMembers:n,regions:t,selectedRegion:i,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[d,m]=z.useState(null),[g,v]=z.useState(null);z.useEffect(()=>{o&&(m(o),window.history.pushState({isDetail:!0},""))},[o]),z.useEffect(()=>{const k=()=>{g?v(null):d&&S()};return window.addEventListener("popstate",k),()=>window.removeEventListener("popstate",k)},[g,d]);const b=(k,U)=>{v({type:k,url:U}),window.history.pushState({isFull:!0},"")},S=()=>{m(null),u&&u()},j=k=>k&&(k.includes("/video/upload/")||k.match(/\.(mp4|webm|mov|avi)$/i)),N={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},P=c.home==="",q=k=>P?k:N[k]||k,Q=k=>{const U=P?[`${k}        .`,`     ${k}  .`,`      ${k} .`]:[`${k} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${k}, who boasts a visual perfected through thorough self-management.`,`${k} promises a comfortable time with bright energy and consideration.`];let X=(k||"").split("").reduce((Z,tt)=>Z+tt.charCodeAt(0),0);return U[X%U.length]};return y.jsxs("div",{style:Lt.container,children:[y.jsx("div",{style:Lt.filterWrapper,children:y.jsx("div",{style:Lt.filterScroll,children:t.map(k=>y.jsx("div",{onClick:()=>r(k),style:{...Lt.filterItem,color:i===k?"#000":"#888",background:i===k?"#FFD700":"transparent",borderColor:i===k?"#FFD700":"#333"},children:q(k)},k))})}),y.jsx("div",{style:Lt.grid,children:n.map((k,U)=>y.jsxs("div",{style:Lt.card,onClick:()=>{m(k),window.history.pushState({isDetail:!0},"")},children:[y.jsxs("div",{style:Lt.cardImgWrap,children:[y.jsx("img",{src:k.img,style:Lt.cardImg,alt:k.name}),y.jsx("div",{style:Lt.cardOverlay}),y.jsx("div",{style:Lt.cardBadge,children:"PREMIUM"})]}),y.jsxs("div",{style:Lt.cardInfo,children:[y.jsx("div",{style:Lt.cardName,children:k.name}),y.jsxs("div",{style:Lt.cardSpecs,children:[q(k.loc||k.region||(P?"":"LOC")),"  ",k.age?`${k.age}${P?"":""}`:P?"20":"20s"]}),y.jsxs("div",{style:{...Lt.cardSpecs,marginTop:"4px"},children:[k.height?k.height+"cm":"cm","  ",k.bust||k.size||"Size"]})]})]},U))}),d&&y.jsx("div",{style:Lt.modalOverlay,onClick:S,children:y.jsxs("div",{style:Lt.modalContent,onClick:k=>k.stopPropagation(),children:[y.jsxs("div",{style:Lt.modalImageWrap,onClick:()=>b("img",d.img),children:[y.jsx("img",{src:d.img,style:Lt.modalActualImg,alt:""}),y.jsxs("div",{style:Lt.luxTag,children:[" ",P?" ":"CLICK TO ZOOM"]})]}),y.jsxs("div",{style:Lt.modalBody,children:[y.jsx("h2",{style:Lt.modalName,children:d.name}),y.jsxs("div",{style:Lt.specGrid,children:[y.jsxs("div",{style:Lt.specItem,children:["LOC",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:q(d.loc||d.region||(P?"":"TBA"))})]}),y.jsxs("div",{style:Lt.specItem,children:["AGE",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.age?`${d.age}${P?"":""}`:"20s"})]}),y.jsxs("div",{style:Lt.specItem,children:["HEIGHT",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.height?d.height+"cm":"cm"})]}),y.jsxs("div",{style:Lt.specItem,children:["WEIGHT",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.weight?d.weight+"kg":"kg"})]}),y.jsxs("div",{style:Lt.specItem,children:["SIZE",y.jsx("br",{}),y.jsx("b",{style:Lt.specVal,children:d.bust||d.size||"Size"})]})]}),y.jsxs("div",{style:Lt.introBox,children:[y.jsx("div",{style:Lt.introTitle,children:"INTRO"}),y.jsx("p",{style:Lt.introText,children:d.desc||Q(d.name)})]}),(d.video||j(d.img))&&y.jsxs("div",{style:Lt.videoArea,onClick:()=>b("video",d.video||d.img),children:[y.jsxs("div",{style:Lt.introTitle,children:["PRIVATE MOVIE (",P?" ":"CLICK TO ENLARGE",")"]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("video",{src:d.video||d.img,style:Lt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),y.jsxs("div",{style:Lt.videoOverlay,children:[" ",P?" ":"TAP TO FULL VIEW"]})]})]}),y.jsx("button",{style:Lt.closeBtn,onClick:S,children:P?"":"CLOSE"})]})]})}),g&&y.jsxs("div",{id:"full-screen-view",style:Lt.fullScreenOverlay,onClick:()=>v(null),children:[y.jsxs("button",{style:Lt.fullScreenClose,onClick:()=>v(null),children:[" ",P?"":"CLOSE"]}),y.jsx("div",{style:Lt.fullScreenContent,onClick:k=>k.stopPropagation(),children:g.type==="video"?y.jsx("video",{src:g.url,style:Lt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):y.jsx("img",{src:g.url,style:Lt.fullMedia,alt:""})})]})]})}const Lt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function sM({videoCategories:n=[],selectedCategory:t,setSelectedCategory:i,filteredVideos:r=[],t:o}){const[u,c]=z.useState(null),[d,m]=z.useState(1),g=10,v=o.home==="",b={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},S=X=>v?X:b[X]||X;z.useEffect(()=>{m(1)},[t]);const j=d*g,N=j-g,P=r.slice(N,j),q=Math.ceil(r.length/g),Q=t==="ALL";z.useEffect(()=>{const X=()=>{u&&c(null)};return window.addEventListener("popstate",X),()=>window.removeEventListener("popstate",X)},[u]);const k=X=>{c(X),window.history.pushState({isFullVideo:!0},"")},U=()=>{c(null)};return y.jsxs("div",{style:Ye.pagePadding,children:[y.jsx("h2",{style:Ye.tabDisplayTitle,children:v?" ":"PREMIUM GALLERY"}),y.jsxs("div",{style:Ye.videoCategoryBar,children:[y.jsxs("span",{onClick:()=>i("ALL"),style:{...Ye.videoCatItem,color:Q?"#ffb347":"#555",borderBottom:Q?"2px solid #ffb347":"2px solid transparent"},children:[" ",S("ALL")," "]}),n.map(X=>y.jsxs("span",{onClick:()=>i(X),style:{...Ye.videoCatItem,color:t===X?"#ffb347":"#555",borderBottom:t===X?"2px solid #ffb347":"2px solid transparent"},children:[" ",S(X)," "]},X))]}),y.jsx("div",{style:Ye.videoGrid,children:P.length>0?P.map(X=>y.jsxs("div",{style:Ye.videoCard,onClick:()=>k(X.url),children:[y.jsxs("div",{style:Ye.videoWrapper,children:[y.jsx("video",{src:X.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:Ye.videoEl,poster:X.poster||""}),y.jsxs("div",{style:Ye.playOverlay,children:[" ",v?"":"FULL VIEW"]})]}),y.jsxs("div",{style:Ye.videoDesc,children:[y.jsx("span",{style:Ye.descBadge,children:"EXCLUSIVE"}),y.jsx("p",{style:Ye.descText,children:X.description||(v?` ${X.category} `:`PREMIUM ${S(X.category)} SHOW`)})]})]},X.id)):y.jsx("div",{style:Ye.noData,children:v?"    .":"Videos in this category are coming soon."})}),q>1&&y.jsx("div",{style:Ye.pagination,children:Array.from({length:q},(X,Z)=>Z+1).map(X=>y.jsxs("button",{onClick:()=>{m(X),window.scrollTo(0,0)},style:{...Ye.pageBtn,background:d===X?"#ffb347":"#1a1a1a",color:d===X?"#000":"#888"},children:[" ",X," "]},X))}),u&&y.jsxs("div",{id:"full-screen-view",style:Ye.fullOverlay,onClick:U,children:[y.jsxs("button",{style:Ye.closeFull,onClick:U,children:[" ",v?"":"CLOSE"]}),y.jsx("div",{style:Ye.fullContent,onClick:X=>X.stopPropagation(),children:y.jsx("video",{src:u,style:Ye.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const Ye={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},oy=z.createContext({});function Lf(n){const t=z.useRef(null);return t.current===null&&(t.current=n()),t.current}const ly=typeof window<"u",uy=ly?z.useLayoutEffect:z.useEffect,Pf=z.createContext(null);function cy(n,t){n.indexOf(t)===-1&&n.push(t)}function hy(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const qs=(n,t,i)=>i>t?t:i<n?n:i;let fy=()=>{};const Hs={},yE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function vE(n){return typeof n=="object"&&n!==null}const _E=n=>/^0[^.\s]+$/u.test(n);function dy(n){let t;return()=>(t===void 0&&(t=n()),t)}const xi=n=>n,rM=(n,t)=>i=>t(n(i)),Gu=(...n)=>n.reduce(rM),Mu=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class py{constructor(){this.subscriptions=[]}add(t){return cy(this.subscriptions,t),()=>hy(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ps=n=>n*1e3,vi=n=>n/1e3;function bE(n,t){return t?n*(1e3/t):0}const xE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,aM=1e-7,oM=12;function lM(n,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=xE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>aM&&++d<oM);return c}function Yu(n,t,i,r){if(n===t&&i===r)return xi;const o=u=>lM(u,0,1,n,i);return u=>u===0||u===1?u:xE(o(u),t,r)}const TE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,SE=n=>t=>1-n(1-t),EE=Yu(.33,1.53,.69,.99),my=SE(EE),AE=TE(my),wE=n=>(n*=2)<1?.5*my(n):.5*(2-Math.pow(2,-10*(n-1))),gy=n=>1-Math.sin(Math.acos(n)),CE=SE(gy),RE=TE(gy),uM=Yu(.42,0,1,1),cM=Yu(0,0,.58,1),IE=Yu(.42,0,.58,1),hM=n=>Array.isArray(n)&&typeof n[0]!="number",DE=n=>Array.isArray(n)&&typeof n[0]=="number",fM={linear:xi,easeIn:uM,easeInOut:IE,easeOut:cM,circIn:gy,circInOut:RE,circOut:CE,backIn:my,backInOut:AE,backOut:EE,anticipate:wE},dM=n=>typeof n=="string",Bb=n=>{if(DE(n)){fy(n.length===4);const[t,i,r,o]=n;return Yu(t,i,r,o)}else if(dM(n))return fM[n];return n},Ih=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pM(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,b=!1,S=!1)=>{const N=S&&o?i:r;return b&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const mM=40;function VE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Ih.reduce((U,X)=>(U[X]=pM(u),U),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:S,render:j,postRender:N}=c,P=()=>{const U=Hs.useManualTiming?o.timestamp:performance.now();i=!1,Hs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(U-o.timestamp,mM),1)),o.timestamp=U,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),v.process(o),b.process(o),S.process(o),j.process(o),N.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(P))},q=()=>{i=!0,r=!0,o.isProcessing||n(P)};return{schedule:Ih.reduce((U,X)=>{const Z=c[X];return U[X]=(tt,C=!1,A=!1)=>(i||q(),Z.schedule(tt,C,A)),U},{}),cancel:U=>{for(let X=0;X<Ih.length;X++)c[Ih[X]].cancel(U)},state:o,steps:c}}const{schedule:we,cancel:Br,state:pn,steps:sm}=VE(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0);let Bh;function gM(){Bh=void 0}const kn={now:()=>(Bh===void 0&&kn.set(pn.isProcessing||Hs.useManualTiming?pn.timestamp:performance.now()),Bh),set:n=>{Bh=n,queueMicrotask(gM)}},jE=n=>t=>typeof t=="string"&&t.startsWith(n),ME=jE("--"),yM=jE("var(--"),yy=n=>yM(n)?vM.test(n.split("/*")[0].trim()):!1,vM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ou={...sl,transform:n=>qs(0,1,n)},Dh={...sl,default:1},_u=n=>Math.round(n*1e5)/1e5,vy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _M(n){return n==null}const bM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_y=(n,t)=>i=>!!(typeof i=="string"&&bM.test(i)&&i.startsWith(n)||t&&!_M(i)&&Object.prototype.hasOwnProperty.call(i,t)),OE=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(vy);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},xM=n=>qs(0,255,n),rm={...sl,transform:n=>Math.round(xM(n))},Da={test:_y("rgb","red"),parse:OE("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+rm.transform(n)+", "+rm.transform(t)+", "+rm.transform(i)+", "+_u(Ou.transform(r))+")"};function TM(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Ym={test:_y("#"),parse:TM,transform:Da.transform},Qu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Sr=Qu("deg"),ms=Qu("%"),Ot=Qu("px"),SM=Qu("vh"),EM=Qu("vw"),zb={...ms,parse:n=>ms.parse(n)/100,transform:n=>ms.transform(n*100)},Lo={test:_y("hsl","hue"),parse:OE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+ms.transform(_u(t))+", "+ms.transform(_u(i))+", "+_u(Ou.transform(r))+")"},Xe={test:n=>Da.test(n)||Ym.test(n)||Lo.test(n),parse:n=>Da.test(n)?Da.parse(n):Lo.test(n)?Lo.parse(n):Ym.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Da.transform(n):Lo.transform(n),getAnimatableNone:n=>{const t=Xe.parse(n);return t.alpha=0,Xe.transform(t)}},AM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wM(n){return isNaN(n)&&typeof n=="string"&&(n.match(vy)?.length||0)+(n.match(AM)?.length||0)>0}const NE="number",LE="color",CM="var",RM="var(",Ub="${}",IM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(IM,m=>(Xe.test(m)?(r.color.push(u),o.push(LE),i.push(Xe.parse(m))):m.startsWith(RM)?(r.var.push(u),o.push(CM),i.push(m)):(r.number.push(u),o.push(NE),i.push(parseFloat(m))),++u,Ub)).split(Ub);return{values:i,split:d,indexes:r,types:o}}function PE(n){return Nu(n).values}function kE(n){const{split:t,types:i}=Nu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===NE?u+=_u(o[c]):d===LE?u+=Xe.transform(o[c]):u+=o[c]}return u}}const DM=n=>typeof n=="number"?0:Xe.test(n)?Xe.getAnimatableNone(n):n;function VM(n){const t=PE(n);return kE(n)(t.map(DM))}const zr={test:wM,parse:PE,createTransformer:kE,getAnimatableNone:VM};function am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function jM({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;o=am(m,d,n+1/3),u=am(m,d,n),c=am(m,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function af(n,t){return i=>i>0?t:n}const Ce=(n,t,i)=>n+(t-n)*i,om=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},MM=[Ym,Da,Lo],OM=n=>MM.find(t=>t.test(n));function Fb(n){const t=OM(n);if(!t)return!1;let i=t.parse(n);return t===Lo&&(i=jM(i)),i}const qb=(n,t)=>{const i=Fb(n),r=Fb(t);if(!i||!r)return af(n,t);const o={...i};return u=>(o.red=om(i.red,r.red,u),o.green=om(i.green,r.green,u),o.blue=om(i.blue,r.blue,u),o.alpha=Ce(i.alpha,r.alpha,u),Da.transform(o))},Qm=new Set(["none","hidden"]);function NM(n,t){return Qm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function LM(n,t){return i=>Ce(n,t,i)}function by(n){return typeof n=="number"?LM:typeof n=="string"?yy(n)?af:Xe.test(n)?qb:BM:Array.isArray(n)?BE:typeof n=="object"?Xe.test(n)?qb:PM:af}function BE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>by(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function PM(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=by(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function kM(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],d=n.values[c]??0;i[o]=d,r[u]++}return i}const BM=(n,t)=>{const i=zr.createTransformer(t),r=Nu(n),o=Nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Qm.has(n)&&!o.values.length||Qm.has(t)&&!r.values.length?NM(n,t):Gu(BE(kM(r,o),o.values),i):af(n,t)};function zE(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Ce(n,t,i):by(n)(n,t)}const zM=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>we.update(t,i),stop:()=>Br(t),now:()=>pn.isProcessing?pn.timestamp:kn.now()}},UE=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},of=2e4;function xy(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<of;)t+=i,r=n.next(t);return t>=of?1/0:t}function UM(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(xy(r),of);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:vi(o)}}const FM=5;function FE(n,t,i){const r=Math.max(t-FM,0);return bE(i-n(r),t-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function qM({duration:n=Ve.duration,bounce:t=Ve.bounce,velocity:i=Ve.velocity,mass:r=Ve.mass}){let o,u,c=1-t;c=qs(Ve.minDamping,Ve.maxDamping,c),n=qs(Ve.minDuration,Ve.maxDuration,vi(n)),c<1?(o=g=>{const v=g*c,b=v*n,S=v-i,j=Km(g,c),N=Math.exp(-b);return lm-S/j*N},u=g=>{const b=g*c*n,S=b*i+i,j=Math.pow(c,2)*Math.pow(g,2)*n,N=Math.exp(-b),P=Km(Math.pow(g,2),c);return(-o(g)+lm>0?-1:1)*((S-j)*N)/P}):(o=g=>{const v=Math.exp(-g*n),b=(g-i)*n+1;return-lm+v*b},u=g=>{const v=Math.exp(-g*n),b=(i-g)*(n*n);return v*b});const d=5/n,m=GM(o,u,d);if(n=ps(n),isNaN(m))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:n};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const HM=12;function GM(n,t,i){let r=i;for(let o=1;o<HM;o++)r=r-n(r)/t(r);return r}function Km(n,t){return n*Math.sqrt(1-t*t)}const YM=["duration","bounce"],QM=["stiffness","damping","mass"];function Hb(n,t){return t.some(i=>n[i]!==void 0)}function KM(n){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...n};if(!Hb(n,QM)&&Hb(n,YM))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*qs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ve.mass,stiffness:o,damping:u}}else{const i=qM(n);t={...t,...i,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function lf(n=Ve.visualDuration,t=Ve.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:b,velocity:S,isResolvedFromDuration:j}=KM({...i,velocity:-vi(i.velocity||0)}),N=S||0,P=g/(2*Math.sqrt(m*v)),q=c-u,Q=vi(Math.sqrt(m/v)),k=Math.abs(q)<5;r||(r=k?Ve.restSpeed.granular:Ve.restSpeed.default),o||(o=k?Ve.restDelta.granular:Ve.restDelta.default);let U;if(P<1){const Z=Km(Q,P);U=tt=>{const C=Math.exp(-P*Q*tt);return c-C*((N+P*Q*q)/Z*Math.sin(Z*tt)+q*Math.cos(Z*tt))}}else if(P===1)U=Z=>c-Math.exp(-Q*Z)*(q+(N+Q*q)*Z);else{const Z=Q*Math.sqrt(P*P-1);U=tt=>{const C=Math.exp(-P*Q*tt),A=Math.min(Z*tt,300);return c-C*((N+P*Q*q)*Math.sinh(A)+Z*q*Math.cosh(A))/Z}}const X={calculatedDuration:j&&b||null,next:Z=>{const tt=U(Z);if(j)d.done=Z>=b;else{let C=Z===0?N:0;P<1&&(C=Z===0?ps(N):FE(U,Z,tt));const A=Math.abs(C)<=r,R=Math.abs(c-tt)<=o;d.done=A&&R}return d.value=d.done?c:tt,d},toString:()=>{const Z=Math.min(xy(X),of),tt=UE(C=>X.next(Z*C).value,Z,30);return Z+"ms "+tt},toTransition:()=>{}};return X}lf.applyToOptions=n=>{const t=UM(n,100,lf);return n.ease=t.ease,n.duration=ps(t.duration),n.type="keyframes",n};function Xm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const b=n[0],S={done:!1,value:b},j=A=>d!==void 0&&A<d||m!==void 0&&A>m,N=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let P=i*t;const q=b+P,Q=c===void 0?q:c(q);Q!==q&&(P=Q-b);const k=A=>-P*Math.exp(-A/r),U=A=>Q+k(A),X=A=>{const R=k(A),V=U(A);S.done=Math.abs(R)<=g,S.value=S.done?Q:V};let Z,tt;const C=A=>{j(S.value)&&(Z=A,tt=lf({keyframes:[S.value,N(S.value)],velocity:FE(U,A,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!tt&&Z===void 0&&(R=!0,X(A),C(A)),Z!==void 0&&A>=Z?tt.next(A-Z):(!R&&X(A),S)}}}function XM(n,t,i){const r=[],o=i||Hs.mix||zE,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||xi:t;d=Gu(m,d)}r.push(d)}return r}function WM(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(fy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=XM(t,r,o),m=d.length,g=v=>{if(c&&v<n[0])return t[0];let b=0;if(m>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const S=Mu(n[b],n[b+1],v);return d[b](S)};return i?v=>g(qs(n[0],n[u-1],v)):g}function $M(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Mu(0,t,r);n.push(Ce(i,1,o))}}function ZM(n){const t=[0];return $M(t,n.length-1),t}function JM(n,t){return n.map(i=>i*t)}function t5(n,t){return n.map(()=>t||IE).splice(0,n.length-1)}function bu({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=hM(r)?r.map(Bb):Bb(r),u={done:!1,value:t[0]},c=JM(i&&i.length===t.length?i:ZM(t),n),d=WM(c,t,{ease:Array.isArray(o)?o:t5(t,o)});return{calculatedDuration:n,next:m=>(u.value=d(m),u.done=m>=n,u)}}const e5=n=>n!==null;function Ty(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(e5),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const n5={decay:Xm,inertia:Xm,tween:bu,keyframes:bu,spring:lf};function qE(n){typeof n.type=="string"&&(n.type=n5[n.type])}class Sy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const i5=n=>n/100;class Ey extends Sy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qE(t);const{type:i=bu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=i||bu;m!==bu&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(i5,zE(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=xy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:j,type:N,onUpdate:P,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let U=this.currentTime,X=r;if(b){const A=Math.min(this.currentTime,o)/d;let R=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&R--,R=Math.min(R,b+1),R%2&&(S==="reverse"?(V=1-V,j&&(V-=j/d)):S==="mirror"&&(X=c)),U=qs(0,1,V)*d}const Z=k?{done:!1,value:v[0]}:X.next(U);u&&(Z.value=u(Z.value));let{done:tt}=Z;!k&&m!==null&&(tt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&tt);return C&&N!==Xm&&(Z.value=Ty(v,this.options,q,this.speed)),P&&P(Z.value),C&&this.finish(),Z}then(t,i){return this.finished.then(t,i)}get duration(){return vi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+vi(t)}get time(){return vi(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(kn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=zM,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function s5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Va=n=>n*180/Math.PI,Wm=n=>{const t=Va(Math.atan2(n[1],n[0]));return $m(t)},r5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Wm,rotateZ:Wm,skewX:n=>Va(Math.atan(n[1])),skewY:n=>Va(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},$m=n=>(n=n%360,n<0&&(n+=360),n),Gb=Wm,Yb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Qb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),a5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yb,scaleY:Qb,scale:n=>(Yb(n)+Qb(n))/2,rotateX:n=>$m(Va(Math.atan2(n[6],n[5]))),rotateY:n=>$m(Va(Math.atan2(-n[2],n[0]))),rotateZ:Gb,rotate:Gb,skewX:n=>Va(Math.atan(n[4])),skewY:n=>Va(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Zm(n){return n.includes("scale")?1:0}function Jm(n,t){if(!n||n==="none")return Zm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=a5,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=r5,o=d}if(!o)return Zm(t);const u=r[t],c=o[1].split(",").map(l5);return typeof u=="function"?u(c):c[u]}const o5=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return Jm(i,t)};function l5(n){return parseFloat(n.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(rl),Kb=n=>n===sl||n===Ot,u5=new Set(["x","y","z"]),c5=rl.filter(n=>!u5.has(n));function h5(n){const t=[];return c5.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Ma={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Jm(t,"x"),y:(n,{transform:t})=>Jm(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Oa=new Set;let tg=!1,eg=!1,ng=!1;function HE(){if(eg){const n=Array.from(Oa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=h5(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}eg=!1,tg=!1,Oa.forEach(n=>n.complete(ng)),Oa.clear()}function GE(){Oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(eg=!0)})}function f5(){ng=!0,GE(),HE(),ng=!1}class Ay{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),tg||(tg=!0,we.read(GE),we.resolveKeyframes(HE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}s5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const d5=n=>n.startsWith("--");function p5(n,t,i){d5(t)?n.style.setProperty(t,i):n.style[t]=i}const m5=dy(()=>window.ScrollTimeline!==void 0),g5={};function y5(n,t){const i=dy(n);return()=>g5[t]??i()}const YE=y5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Xb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function QE(n,t){if(n)return typeof n=="function"?YE()?UE(n,t):"ease-out":DE(n)?du(n):Array.isArray(n)?n.map(i=>QE(i,t)||Xb.easeOut):Xb[n]}function v5(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[t]:i};m&&(v.offset=m);const b=QE(d,o);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function KE(n){return typeof n=="function"&&"applyToOptions"in n}function _5({type:n,...t}){return KE(n)&&YE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class b5 extends Sy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,fy(typeof t.type!="string");const g=_5(t);this.animation=v5(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Ty(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):p5(i,r,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return vi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+vi(t)}get time(){return vi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&m5()?(this.animation.timeline=t,xi):i(this)}}const XE={anticipate:wE,backInOut:AE,circInOut:RE};function x5(n){return n in XE}function T5(n){typeof n.ease=="string"&&x5(n.ease)&&(n.ease=XE[n.ease])}const Wb=10;class S5 extends b5{constructor(t){T5(t),qE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Ey({...c,autoplay:!1}),m=ps(this.finishedTime??this.time);i.setWithVelocity(d.sample(m-Wb).value,d.sample(m).value,Wb),d.stop()}}const $b=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zr.test(n)||n==="0")&&!n.startsWith("url("));function E5(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function A5(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=$b(o,t),d=$b(u,t);return!c||!d?!1:E5(n)||(i==="spring"||KE(i))&&r}function ig(n){n.duration=0,n.type="keyframes"}const w5=new Set(["opacity","clipPath","filter","transform"]),C5=dy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function R5(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return C5()&&i&&w5.has(i)&&(i!=="transform"||!g)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const I5=40;class D5 extends Sy{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=kn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:v,...b},j=v?.KeyframeResolver||Ay;this.keyframeResolver=new j(d,(N,P,q)=>this.onKeyframesResolved(N,P,S,!q),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=r;this.resolvedAt=kn.now(),A5(t,u,c,d)||((Hs.instantAnimations||!m)&&v?.(Ty(t,r,i)),t[0]=t[t.length-1],ig(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>I5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},j=!g&&R5(S)?new S5({...S,element:S.motionValue.owner.current}):new Ey(S);j.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),f5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const V5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j5(n){const t=V5.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function WE(n,t,i=1){const[r,o]=j5(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return yE(c)?parseFloat(c):c}return yy(o)?WE(o,t,i+1):o}function wy(n,t){return n?.[t]??n?.default??n}const $E=new Set(["width","height","top","left","right","bottom",...rl]),M5={test:n=>n==="auto",parse:n=>n},ZE=n=>t=>t.test(n),JE=[sl,Ot,ms,Sr,EM,SM,M5],Zb=n=>JE.find(ZE(n));function O5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||_E(n):!0}const N5=new Set(["brightness","contrast","saturate","opacity"]);function L5(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(vy)||[];if(!r)return n;const o=i.replace(r,"");let u=N5.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const P5=/\b([a-z-]*)\(.*?\)/gu,sg={...zr,getAnimatableNone:n=>{const t=n.match(P5);return t?t.map(L5).join(" "):n}},Jb={...sl,transform:Math.round},k5={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:Sr,skewX:Sr,skewY:Sr,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Ou,originX:zb,originY:zb,originZ:Ot},Cy={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...k5,zIndex:Jb,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:Jb},B5={...Cy,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:sg,WebkitFilter:sg},tA=n=>B5[n];function eA(n,t){let i=tA(n);return i!==sg&&(i=zr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const z5=new Set(["auto","none","0"]);function U5(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!z5.has(u)&&Nu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=eA(i,o)}class F5 extends Ay{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),yy(g))){const v=WE(g,i.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!$E.has(r)||t.length!==2)return;const[o,u]=t,c=Zb(o),d=Zb(u);if(c!==d)if(Kb(c)&&Kb(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Ma[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||O5(t[o]))&&r.push(o);r.length&&U5(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ma[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function q5(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const nA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function iA(n){return vE(n)&&"offsetHeight"in n}const tx=30,H5=n=>!isNaN(parseFloat(n));class G5{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=kn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=H5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new py);const r=this.events[t].add(i);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tx)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,tx);return bE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(n,t){return new G5(n,t)}const{schedule:Ry}=VE(queueMicrotask,!1),ki={x:!1,y:!1};function sA(){return ki.x||ki.y}function Y5(n){return n==="x"||n==="y"?ki[n]?null:(ki[n]=!0,()=>{ki[n]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function rA(n,t){const i=q5(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function ex(n){return!(n.pointerType==="touch"||sA())}function Q5(n,t,i={}){const[r,o,u]=rA(n,i),c=d=>{if(!ex(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const v=b=>{ex(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const aA=(n,t)=>t?n===t?!0:aA(n,t.parentElement):!1,Iy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,K5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X5(n){return K5.has(n.tagName)||n.tabIndex!==-1}const zh=new WeakSet;function nx(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const W5=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=nx(()=>{if(zh.has(i))return;um(i,"down");const o=nx(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function ix(n){return Iy(n)&&!sA()}function $5(n,t,i={}){const[r,o,u]=rA(n,i),c=d=>{const m=d.currentTarget;if(!ix(d))return;zh.add(m);const g=t(m,d),v=(j,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),zh.has(m)&&zh.delete(m),ix(j)&&typeof g=="function"&&g(j,{success:N})},b=j=>{v(j,m===window||m===document||i.useGlobalTarget||aA(m,j.target))},S=j=>{v(j,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),iA(d)&&(d.addEventListener("focus",g=>W5(g,o)),!X5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function oA(n){return vE(n)&&"ownerSVGElement"in n}function Z5(n){return oA(n)&&n.tagName==="svg"}const En=n=>!!(n&&n.getVelocity),J5=[...JE,Xe,zr],t4=n=>J5.find(ZE(n)),Dy=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function sx(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function e4(...n){return t=>{let i=!1;const r=n.map(o=>{const u=sx(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():sx(n[o],null)}}}}function n4(...n){return z.useCallback(e4(...n),n)}class i4 extends z.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=iA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function s4({children:n,isPresent:t,anchorX:i,root:r}){const o=z.useId(),u=z.useRef(null),c=z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=z.useContext(Dy),m=n4(u,n?.ref);return z.useInsertionEffect(()=>{const{width:g,height:v,top:b,left:S,right:j}=c.current;if(t||!u.current||!g||!v)return;const N=i==="left"?`left: ${S}`:`right: ${j}`;u.current.dataset.motionPopId=o;const P=document.createElement("style");d&&(P.nonce=d);const q=r??document.head;return q.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${b}px !important;
          }
        `),()=>{q.contains(P)&&q.removeChild(P)}},[t]),y.jsx(i4,{isPresent:t,childRef:u,sizeRef:c,children:z.cloneElement(n,{ref:m})})}const r4=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:m})=>{const g=Lf(a4),v=z.useId();let b=!0,S=z.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:j=>{g.set(j,!0);for(const N of g.values())if(!N)return;r&&r()},register:j=>(g.set(j,!1),()=>g.delete(j))}),[i,g,r]);return u&&b&&(S={...S}),z.useMemo(()=>{g.forEach((j,N)=>g.set(N,!1))},[i]),z.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),c==="popLayout"&&(n=y.jsx(s4,{isPresent:i,anchorX:d,root:m,children:n})),y.jsx(Pf.Provider,{value:S,children:n})};function a4(){return new Map}function lA(n=!0){const t=z.useContext(Pf);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=z.useId();z.useEffect(()=>{if(n)return o(u)},[n]);const c=z.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const Vh=n=>n.key||"";function rx(n){const t=[];return z.Children.forEach(n,i=>{z.isValidElement(i)&&t.push(i)}),t}const cm=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,v]=lA(c),b=z.useMemo(()=>rx(n),[n]),S=c&&!g?[]:b.map(Vh),j=z.useRef(!0),N=z.useRef(b),P=Lf(()=>new Map),[q,Q]=z.useState(b),[k,U]=z.useState(b);uy(()=>{j.current=!1,N.current=b;for(let tt=0;tt<k.length;tt++){const C=Vh(k[tt]);S.includes(C)?P.delete(C):P.get(C)!==!0&&P.set(C,!1)}},[k,S.length,S.join("-")]);const X=[];if(b!==q){let tt=[...b];for(let C=0;C<k.length;C++){const A=k[C],R=Vh(A);S.includes(R)||(tt.splice(C,0,A),X.push(A))}return u==="wait"&&X.length&&(tt=X),U(rx(tt)),Q(b),null}const{forceRender:Z}=z.useContext(oy);return y.jsx(y.Fragment,{children:k.map(tt=>{const C=Vh(tt),A=c&&!g?!1:b===k||S.includes(C),R=()=>{if(P.has(C))P.set(C,!0);else return;let V=!0;P.forEach(M=>{M||(V=!1)}),V&&(Z?.(),U(N.current),c&&v?.(),r&&r())};return y.jsx(r4,{isPresent:A,initial:!j.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:A?void 0:R,anchorX:d,children:tt},C)})})},uA=z.createContext({strict:!1}),ax={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const n in ax)Zo[n]={isEnabled:t=>ax[n].some(i=>!!t[i])};function o4(n){for(const t in n)Zo[t]={...Zo[t],...n[t]}}const l4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||l4.has(n)}let cA=n=>!uf(n);function u4(n){typeof n=="function"&&(cA=t=>t.startsWith("on")?!uf(t):n(t))}try{u4(require("@emotion/is-prop-valid").default)}catch{}function c4(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(cA(o)||i===!0&&uf(o)||!t&&!uf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const kf=z.createContext({});function Bf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lu(n){return typeof n=="string"||Array.isArray(n)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jy=["initial",...Vy];function zf(n){return Bf(n.animate)||jy.some(t=>Lu(n[t]))}function hA(n){return!!(zf(n)||n.variants)}function h4(n,t){if(zf(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Lu(i)?i:void 0,animate:Lu(r)?r:void 0}}return n.inherit!==!1?t:{}}function f4(n){const{initial:t,animate:i}=h4(n,z.useContext(kf));return z.useMemo(()=>({initial:t,animate:i}),[ox(t),ox(i)])}function ox(n){return Array.isArray(n)?n.join(" "):n}function lx(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const lu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ot.test(n))n=parseFloat(n);else return n;const i=lx(n,t.target.x),r=lx(n,t.target.y);return`${i}% ${r}%`}},d4={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=zr.parse(n);if(o.length>5)return r;const u=zr.createTransformer(n),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=Ce(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},rg={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:d4};function fA(n,{layout:t,layoutId:i}){return al.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!rg[n]||n==="opacity")}const p4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m4=rl.length;function g4(n,t,i){let r="",o=!0;for(let u=0;u<m4;u++){const c=rl[u],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||i){const g=nA(d,Cy[c]);if(!m){o=!1;const v=p4[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function My(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const m in t){const g=t[m];if(al.has(m)){c=!0;continue}else if(ME(m)){o[m]=g;continue}else{const v=nA(g,Cy[m]);m.startsWith("origin")?(d=!0,u[m]=v):r[m]=v}}if(t.transform||(c||i?r.transform=g4(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${m} ${g} ${v}`}}const Oy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dA(n,t,i){for(const r in t)!En(t[r])&&!fA(r,i)&&(n[r]=t[r])}function y4({transformTemplate:n},t){return z.useMemo(()=>{const i=Oy();return My(i,t,n),Object.assign({},i.vars,i.style)},[t])}function v4(n,t){const i=n.style||{},r={};return dA(r,i,n),Object.assign(r,y4(n,t)),r}function _4(n,t){const i={},r=v4(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const b4={offset:"stroke-dashoffset",array:"stroke-dasharray"},x4={offset:"strokeDashoffset",array:"strokeDasharray"};function T4(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?b4:x4;n[u.offset]=Ot.transform(-r);const c=Ot.transform(t),d=Ot.transform(i);n[u.array]=`${c} ${d}`}function pA(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,g,v){if(My(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:S}=n;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&T4(b,o,u,c,!1)}const mA=()=>({...Oy(),attrs:{}}),gA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function S4(n,t,i,r){const o=z.useMemo(()=>{const u=mA();return pA(u,t,gA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};dA(u,n.style,n),o.style={...u,...o.style}}return o}const E4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ny(n){return typeof n!="string"||n.includes("-")?!1:!!(E4.indexOf(n)>-1||/[A-Z]/u.test(n))}function A4(n,t,i,{latestValues:r},o,u=!1){const d=(Ny(n)?S4:_4)(t,r,o,n),m=c4(t,typeof n=="string",u),g=n!==z.Fragment?{...m,...d,ref:i}:{},{children:v}=t,b=z.useMemo(()=>En(v)?v.get():v,[v]);return z.createElement(n,{...g,children:b})}function ux(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Ly(n,t,i,r){if(typeof t=="function"){const[o,u]=ux(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=ux(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function Uh(n){return En(n)?n.get():n}function w4({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:C4(i,r,o,n),renderState:t()}}function C4(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=Uh(u[S]);let{initial:c,animate:d}=n;const m=zf(n),g=hA(n);t&&g&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Bf(b)){const S=Array.isArray(b)?b:[b];for(let j=0;j<S.length;j++){const N=Ly(n,S[j]);if(N){const{transitionEnd:P,transition:q,...Q}=N;for(const k in Q){let U=Q[k];if(Array.isArray(U)){const X=v?U.length-1:0;U=U[X]}U!==null&&(o[k]=U)}for(const k in P)o[k]=P[k]}}}return o}const yA=n=>(t,i)=>{const r=z.useContext(kf),o=z.useContext(Pf),u=()=>w4(n,t,r,o);return i?u():Lf(u)};function Py(n,t,i){const{style:r}=n,o={};for(const u in r)(En(r[u])||t.style&&En(t.style[u])||fA(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const R4=yA({scrapeMotionValuesFromProps:Py,createRenderState:Oy});function vA(n,t,i){const r=Py(n,t,i);for(const o in n)if(En(n[o])||En(t[o])){const u=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const I4=yA({scrapeMotionValuesFromProps:vA,createRenderState:mA}),D4=Symbol.for("motionComponentSymbol");function Po(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function V4(n,t,i){return z.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Po(i)&&(i.current=r))},[t])}const ky=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j4="framerAppearId",_A="data-"+ky(j4),bA=z.createContext({});function M4(n,t,i,r,o){const{visualElement:u}=z.useContext(kf),c=z.useContext(uA),d=z.useContext(Pf),m=z.useContext(Dy).reducedMotion,g=z.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=z.useContext(bA);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&O4(g.current,i,o,b);const S=z.useRef(!1);z.useInsertionEffect(()=>{v&&S.current&&v.update(i,d)});const j=i[_A],N=z.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return uy(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),z.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),N.current=!1),v.enteringChildren=void 0)}),v}function O4(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:xA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Po(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:m,layoutRoot:g})}function xA(n){if(n)return n.options.allowProjection!==!1?n.projection:xA(n.parent)}function hm(n,{forwardMotionProps:t=!1}={},i,r){i&&o4(i);const o=Ny(n)?I4:R4;function u(d,m){let g;const v={...z.useContext(Dy),...d,layoutId:N4(d)},{isStatic:b}=v,S=f4(d),j=o(d,b);if(!b&&ly){L4();const N=P4(v);g=N.MeasureLayout,S.visualElement=M4(n,j,v,r,N.ProjectionNode)}return y.jsxs(kf.Provider,{value:S,children:[g&&S.visualElement?y.jsx(g,{visualElement:S.visualElement,...v}):null,A4(n,d,V4(j,S.visualElement,m),j,b,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=z.forwardRef(u);return c[D4]=n,c}function N4({layoutId:n}){const t=z.useContext(oy).id;return t&&n!==void 0?t+"-"+n:n}function L4(n,t){z.useContext(uA).strict}function P4(n){const{drag:t,layout:i}=Zo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function k4(n,t){if(typeof Proxy>"u")return hm;const i=new Map,r=(u,c)=>hm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,hm(c,void 0,n,t)),i.get(c))})}function TA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function B4({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function z4(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function fm(n){return n===void 0||n===1}function ag({scale:n,scaleX:t,scaleY:i}){return!fm(n)||!fm(t)||!fm(i)}function Aa(n){return ag(n)||SA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function SA(n){return cx(n.x)||cx(n.y)}function cx(n){return n&&n!=="0%"}function cf(n,t,i){const r=n-i,o=t*r;return i+o}function hx(n,t,i,r,o){return o!==void 0&&(n=cf(n,o,r)),cf(n,i,r)+t}function og(n,t=0,i=1,r,o){n.min=hx(n.min,t,i,r,o),n.max=hx(n.max,t,i,r,o)}function EA(n,{x:t,y:i}){og(n.x,t.translate,t.scale,t.originPoint),og(n.y,i.translate,i.scale,i.originPoint)}const fx=.999999999999,dx=1.0000000000001;function U4(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,EA(n,c)),r&&Aa(u.latestValues)&&Bo(n,u.latestValues))}t.x<dx&&t.x>fx&&(t.x=1),t.y<dx&&t.y>fx&&(t.y=1)}function ko(n,t){n.min=n.min+t,n.max=n.max+t}function px(n,t,i,r,o=.5){const u=Ce(n.min,n.max,o);og(n,t,i,u,r)}function Bo(n,t){px(n.x,t.x,t.scaleX,t.scale,t.originX),px(n.y,t.y,t.scaleY,t.scale,t.originY)}function AA(n,t){return TA(z4(n.getBoundingClientRect(),t))}function F4(n,t,i){const r=AA(n,i),{scroll:o}=t;return o&&(ko(r.x,o.offset.x),ko(r.y,o.offset.y)),r}const mx=()=>({translate:0,scale:1,origin:0,originPoint:0}),zo=()=>({x:mx(),y:mx()}),gx=()=>({min:0,max:0}),Je=()=>({x:gx(),y:gx()}),lg={current:null},wA={current:!1};function q4(){if(wA.current=!0,!!ly)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>lg.current=n.matches;n.addEventListener("change",t),t()}else lg.current=!1}const H4=new WeakMap;function G4(n,t,i){for(const r in t){const o=t[r],u=i[r];if(En(o))n.addValue(r,o);else if(En(u))n.addValue(r,$o(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,$o(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const yx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y4{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=kn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,we.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=zf(i),this.isVariantNode=hA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in b){const j=b[S];m[S]!==void 0&&En(j)&&j.set(m[S])}}mount(t){this.current=t,H4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),wA.current||q4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=al.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const i=Zo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<yx.length;r++){const o=yx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=G4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=$o(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(yE(r)||_E(r))?r=parseFloat(r):!t4(r)&&zr.test(i)&&(r=eA(t,i)),this.setBaseTarget(t,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Ly(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!En(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new py),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Ry.render(this.render)}}class CA extends Y4{constructor(){super(...arguments),this.KeyframeResolver=F5}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function RA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function Q4(n){return window.getComputedStyle(n)}class K4 extends CA{constructor(){super(...arguments),this.type="html",this.renderInstance=RA}readValueFromInstance(t,i){if(al.has(i))return this.projection?.isProjecting?Zm(i):o5(t,i);{const r=Q4(t),o=(ME(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return AA(t,i)}build(t,i,r){My(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Py(t,i,r)}}const IA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X4(n,t,i,r){RA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(IA.has(o)?o:ky(o),t.attrs[o])}class W4 extends CA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(al.has(i)){const r=tA(i);return r&&r.default||0}return i=IA.has(i)?i:ky(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return vA(t,i,r)}build(t,i,r){pA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){X4(t,i,r,o)}mount(t){this.isSVGTag=gA(t.tagName),super.mount(t)}}const $4=(n,t)=>Ny(n)?new W4(t):new K4(t,{allowProjection:n!==z.Fragment});function Ho(n,t,i){const r=n.getProps();return Ly(r,t,i!==void 0?i:r.custom,n)}const ug=n=>Array.isArray(n);function Z4(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,$o(i))}function J4(n){return ug(n)?n[n.length-1]||0:n}function By(n,t){const i=Ho(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=J4(u[c]);Z4(n,c,d)}}function t3(n){return!!(En(n)&&n.add)}function cg(n,t){const i=n.getValue("willChange");if(t3(i))return i.add(t);if(!i&&Hs.WillChange){const r=new Hs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function DA(n){return n.props[_A]}const e3=n=>n!==null;function n3(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(e3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const i3={type:"spring",stiffness:500,damping:25,restSpeed:10},s3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),r3={type:"keyframes",duration:.8},a3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o3=(n,{keyframes:t})=>t.length>2?r3:al.has(n)?n.startsWith("scale")?s3(t[1]):i3:a3;function l3({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const zy=(n,t,i,r={},o,u)=>c=>{const d=wy(r,n)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ps(m);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};l3(d)||Object.assign(v,o3(n,v)),v.duration&&(v.duration=ps(v.duration)),v.repeatDelay&&(v.repeatDelay=ps(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(ig(v),v.delay===0&&(b=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(b=!0,ig(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!u&&t.get()!==void 0){const S=n3(v.keyframes,d);if(S!==void 0){we.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new Ey(v):new D5(v)};function u3({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function VA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const m=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const b=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||g&&u3(g,v))continue;const j={delay:i,...wy(u||{},v)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===N&&!j.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const Q=DA(n);if(Q){const k=window.MotionHandoffAnimation(Q,v,we);k!==null&&(j.startTime=k,P=!0)}}cg(n,v),b.start(zy(v,b,S,n.shouldReduceMotion&&$E.has(v)?{type:!1}:j,n,P));const q=b.animation;q&&m.push(q)}return c&&Promise.all(m).then(()=>{we.update(()=>{c&&By(n,c)})}),m}function jA(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function hg(n,t,i={}){const r=Ho(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(VA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=o;return c3(n,t,m,g,v,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,g]=d==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function c3(n,t,i=0,r=0,o=0,u=1,c){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),d.push(hg(m,t,{...c,delay:i+(typeof r=="function"?0:r)+jA(n.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function MA(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>hg(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=hg(n,t,i);else{const o=typeof t=="function"?Ho(n,t,i.custom):t;r=Promise.all(VA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function OA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const h3=jy.length;function NA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?NA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<h3;i++){const r=jy[i],o=n.props[r];(Lu(o)||o===!1)&&(t[r]=o)}return t}const f3=[...Vy].reverse(),d3=Vy.length;function p3(n){return t=>Promise.all(t.map(({animation:i,options:r})=>MA(n,i,r)))}function m3(n){let t=p3(n),i=vx(),r=!0;const o=m=>(g,v)=>{const b=Ho(n,v,m==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:j,...N}=b;g={...g,...N,...j}}return g};function u(m){t=m(n)}function c(m){const{props:g}=n,v=NA(n.parent)||{},b=[],S=new Set;let j={},N=1/0;for(let q=0;q<d3;q++){const Q=f3[q],k=i[Q],U=g[Q]!==void 0?g[Q]:v[Q],X=Lu(U),Z=Q===m?k.isActive:null;Z===!1&&(N=q);let tt=U===v[Q]&&U!==g[Q]&&X;if(tt&&r&&n.manuallyAnimateOnMount&&(tt=!1),k.protectedKeys={...j},!k.isActive&&Z===null||!U&&!k.prevProp||Bf(U)||typeof U=="boolean")continue;const C=g3(k.prevProp,U);let A=C||Q===m&&k.isActive&&!tt&&X||q>N&&X,R=!1;const V=Array.isArray(U)?U:[U];let M=V.reduce(o(Q),{});Z===!1&&(M={});const{prevResolvedValues:L={}}=k,I={...L,...M},bt=F=>{A=!0,S.has(F)&&(R=!0,S.delete(F)),k.needsAnimating[F]=!0;const ot=n.getValue(F);ot&&(ot.liveStyle=!1)};for(const F in I){const ot=M[F],pt=L[F];if(j.hasOwnProperty(F))continue;let et=!1;ug(ot)&&ug(pt)?et=!OA(ot,pt):et=ot!==pt,et?ot!=null?bt(F):S.add(F):ot!==void 0&&S.has(F)?bt(F):k.protectedKeys[F]=!0}k.prevProp=U,k.prevResolvedValues=M,k.isActive&&(j={...j,...M}),r&&n.blockInitialAnimation&&(A=!1);const Et=tt&&C;A&&(!Et||R)&&b.push(...V.map(F=>{const ot={type:Q};if(typeof F=="string"&&r&&!Et&&n.manuallyAnimateOnMount&&n.parent){const{parent:pt}=n,et=Ho(pt,F);if(pt.enteringChildren&&et){const{delayChildren:D}=et.transition||{};ot.delay=jA(pt.enteringChildren,n,D)}}return{animation:F,options:ot}}))}if(S.size){const q={};if(typeof g.initial!="boolean"){const Q=Ho(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(q.transition=Q.transition)}S.forEach(Q=>{const k=n.getBaseTarget(Q),U=n.getValue(Q);U&&(U.liveStyle=!0),q[Q]=k??null}),b.push({animation:q})}let P=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(P=!1),r=!1,P?t(b):Promise.resolve()}function d(m,g){if(i[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),i[m].isActive=g;const v=c(m);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=vx()}}}function g3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!OA(t,n):!1}function xa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vx(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class Gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class y3 extends Gr{constructor(t){super(t),t.animationState||(t.animationState=m3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let v3=0;class _3 extends Gr{constructor(){super(...arguments),this.id=v3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const b3={animation:{Feature:y3},exit:{Feature:_3}};function Pu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Ku(n){return{point:{x:n.pageX,y:n.pageY}}}const x3=n=>t=>Iy(t)&&n(t,Ku(t));function xu(n,t,i,r){return Pu(n,t,x3(i),r)}const LA=1e-4,T3=1-LA,S3=1+LA,PA=.01,E3=0-PA,A3=0+PA;function Cn(n){return n.max-n.min}function w3(n,t,i){return Math.abs(n-t)<=i}function _x(n,t,i,r=.5){n.origin=r,n.originPoint=Ce(t.min,t.max,n.origin),n.scale=Cn(i)/Cn(t),n.translate=Ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=T3&&n.scale<=S3||isNaN(n.scale))&&(n.scale=1),(n.translate>=E3&&n.translate<=A3||isNaN(n.translate))&&(n.translate=0)}function Tu(n,t,i,r){_x(n.x,t.x,i.x,r?r.originX:void 0),_x(n.y,t.y,i.y,r?r.originY:void 0)}function bx(n,t,i){n.min=i.min+t.min,n.max=n.min+Cn(t)}function C3(n,t,i){bx(n.x,t.x,i.x),bx(n.y,t.y,i.y)}function xx(n,t,i){n.min=t.min-i.min,n.max=n.min+Cn(t)}function hf(n,t,i){xx(n.x,t.x,i.x),xx(n.y,t.y,i.y)}function gi(n){return[n("x"),n("y")]}const kA=({current:n})=>n?n.ownerDocument.defaultView:null,Tx=(n,t)=>Math.abs(n-t);function R3(n,t){const i=Tx(n.x,t.x),r=Tx(n.y,t.y);return Math.sqrt(i**2+r**2)}class BA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pm(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,N=R3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!N)return;const{point:P}=S,{timestamp:q}=pn;this.history.push({...P,timestamp:q});const{onStart:Q,onMove:k}=this.handlers;j||(Q&&Q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,S)},this.handlePointerMove=(S,j)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=dm(j,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(S,j)=>{this.end();const{onEnd:N,onSessionEnd:P,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=pm(S.type==="pointercancel"?this.lastMoveEventInfo:dm(j,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,Q),P&&P(S,Q)},!Iy(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ku(t),m=dm(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=pn;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,pm(m,this.history)),this.removeListeners=Gu(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function dm(n,t){return t?{point:t(n.point)}:n}function Sx(n,t){return{x:n.x-t.x,y:n.y-t.y}}function pm({point:n},t){return{point:n,delta:Sx(n,zA(t)),offset:Sx(n,I3(t)),velocity:D3(t,.1)}}function I3(n){return n[0]}function zA(n){return n[n.length-1]}function D3(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=zA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>ps(t)));)i--;if(!r)return{x:0,y:0};const u=vi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function V3(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Ce(i,n,r.max):Math.min(n,i)),n}function Ex(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function j3(n,{top:t,left:i,bottom:r,right:o}){return{x:Ex(n.x,i,o),y:Ex(n.y,t,r)}}function Ax(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function M3(n,t){return{x:Ax(n.x,t.x),y:Ax(n.y,t.y)}}function O3(n,t){let i=.5;const r=Cn(n),o=Cn(t);return o>r?i=Mu(t.min,t.max-r,n.min):r>o&&(i=Mu(n.min,n.max-o,t.min)),qs(0,1,i)}function N3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const fg=.35;function L3(n=fg){return n===!1?n=0:n===!0&&(n=fg),{x:wx(n,"left","right"),y:wx(n,"top","bottom")}}function wx(n,t,i){return{min:Cx(n,t),max:Cx(n,i)}}function Cx(n,t){return typeof n=="number"?n:n[t]||0}const P3=new WeakMap;class k3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ku(b).point)},c=(b,S)=>{const{drag:j,dragPropagation:N,onDragStart:P}=this.getProps();if(j&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Y5(j),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(Q=>{let k=this.getAxisMotionValue(Q).get()||0;if(ms.test(k)){const{projection:U}=this.visualElement;if(U&&U.layout){const X=U.layout.layoutBox[Q];X&&(k=Cn(X)*(parseFloat(k)/100))}}this.originPoint[Q]=k}),P&&we.postRender(()=>P(b,S)),cg(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},d=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:j,dragDirectionLock:N,onDirectionLock:P,onDrag:q}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:Q}=S;if(N&&this.currentDirection===null){this.currentDirection=B3(Q),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",S.point,Q),this.updateAxis("y",S.point,Q),this.visualElement.render(),q&&q(b,S)},m=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>gi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new BA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:kA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&we.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!jh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=V3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=j3(r.layoutBox,t):this.constraints=!1,this.elastic=L3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=N3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Po(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=F4(r,o.root,this.visualElement.getTransformPagePoint());let c=M3(o.layout.layoutBox,u);if(i){const d=i(B4(c));this.hasMutatedConstraints=!!d,d&&(c=TA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=gi(v=>{if(!jh(v,i,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const S=o?200:1e6,j=o?40:1e7,N={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return cg(this.visualElement,t),r.start(zy(t,r,0,i,this.visualElement,!1))}stopAnimation(){gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){gi(i=>{const{drag:r}=this.getProps();if(!jh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Po(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};gi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=O3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gi(c=>{if(!jh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(Ce(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;P3.set(this.visualElement,this);const t=this.visualElement.current,i=xu(t,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Po(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),we.read(r);const c=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(gi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=fg,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function jh(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function B3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class z3 extends Gr{constructor(t){super(t),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new k3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rx=n=>(t,i)=>{n&&we.postRender(()=>n(t,i))};class U3 extends Gr{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(t){this.session=new BA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Rx(t),onStart:Rx(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&we.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let mm=!1;class F3 extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),mm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,mm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||we.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ry.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;mm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UA(n){const[t,i]=lA(),r=z.useContext(oy);return y.jsx(F3,{...n,layoutGroup:r,switchLayoutGroup:z.useContext(bA),isPresent:t,safeToRemove:i})}function q3(n,t,i){const r=En(n)?n:$o(n);return r.start(zy("",r,t,i)),r.animation}const H3=(n,t)=>n.depth-t.depth;class G3{constructor(){this.children=[],this.isDirty=!1}add(t){cy(this.children,t),this.isDirty=!0}remove(t){hy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(H3),this.isDirty=!1,this.children.forEach(t)}}function Y3(n,t){const i=kn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Br(r),n(u-t))};return we.setup(r,!0),()=>Br(r)}const FA=["TopLeft","TopRight","BottomLeft","BottomRight"],Q3=FA.length,Ix=n=>typeof n=="string"?parseFloat(n):n,Dx=n=>typeof n=="number"||Ot.test(n);function K3(n,t,i,r,o,u){o?(n.opacity=Ce(0,i.opacity??1,X3(r)),n.opacityExit=Ce(t.opacity??1,0,W3(r))):u&&(n.opacity=Ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<Q3;c++){const d=`border${FA[c]}Radius`;let m=Vx(t,d),g=Vx(i,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Dx(m)===Dx(g)?(n[d]=Math.max(Ce(Ix(m),Ix(g),r),0),(ms.test(g)||ms.test(m))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=Ce(t.rotate||0,i.rotate||0,r))}function Vx(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const X3=qA(0,.5,CE),W3=qA(.5,.95,xi);function qA(n,t,i){return r=>r<n?0:r>t?1:i(Mu(n,t,r))}function jx(n,t){n.min=t.min,n.max=t.max}function Li(n,t){jx(n.x,t.x),jx(n.y,t.y)}function Mx(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function Ox(n,t,i,r,o){return n-=t,n=cf(n,1/i,r),o!==void 0&&(n=cf(n,1/o,r)),n}function $3(n,t=0,i=1,r=.5,o,u=n,c=n){if(ms.test(t)&&(t=parseFloat(t),t=Ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ce(u.min,u.max,r);n===u&&(d-=t),n.min=Ox(n.min,t,i,d,o),n.max=Ox(n.max,t,i,d,o)}function Nx(n,t,[i,r,o],u,c){$3(n,t[i],t[r],t[o],t.scale,u,c)}const Z3=["x","scaleX","originX"],J3=["y","scaleY","originY"];function Lx(n,t,i,r){Nx(n.x,t,Z3,i?i.x:void 0,r?r.x:void 0),Nx(n.y,t,J3,i?i.y:void 0,r?r.y:void 0)}function Px(n){return n.translate===0&&n.scale===1}function HA(n){return Px(n.x)&&Px(n.y)}function kx(n,t){return n.min===t.min&&n.max===t.max}function tO(n,t){return kx(n.x,t.x)&&kx(n.y,t.y)}function Bx(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function GA(n,t){return Bx(n.x,t.x)&&Bx(n.y,t.y)}function zx(n){return Cn(n.x)/Cn(n.y)}function Ux(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class eO{constructor(){this.members=[]}add(t){cy(this.members,t),t.scheduleRender()}remove(t){if(hy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nO(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:S,skewX:j,skewY:N}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),j&&(r+=`skewX(${j}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const gm=["","X","Y","Z"],iO=1e3;let sO=0;function ym(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function YA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=DA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",we,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&YA(r)}function QA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=sO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oO),this.nodes.forEach(hO),this.nodes.forEach(fO),this.nodes.forEach(lO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new G3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new py),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oA(c)&&!Z5(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;we.read(()=>{b=window.innerWidth}),n(c,()=>{const j=window.innerWidth;j!==b&&(b=j,this.root.updateBlockedByResize=!0,v&&v(),v=Y3(S,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Hx)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||yO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:q}=g.getProps(),Q=!this.targetLayout||!GA(this.targetLayout,j),k=!b&&S;if(this.options.layoutRoot||this.resumeFrom||k||b&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...wy(N,"layout"),onPlay:P,onComplete:q};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(v,k)}else b||Hx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cO),this.nodes.forEach(rO),this.nodes.forEach(aO)):this.nodes.forEach(qx),this.clearAllSnapshots();const d=kn.now();pn.delta=qs(0,1e3/60,d-pn.timestamp),pn.timestamp=d,pn.isProcessing=!0,sm.update.process(pn),sm.preRender.process(pn),sm.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uO),this.sharedNodes.forEach(pO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!HA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Aa(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),vO(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Je();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_O))){const{scroll:g}=this.root;g&&(ko(d.x,g.offset.x),ko(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Je();if(Li(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Li(d,c),ko(d.x,v.offset.x),ko(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=Je();Li(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Bo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Aa(v.latestValues)&&Bo(m,v.latestValues)}return Aa(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(c){const d=Je();Li(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Aa(g.latestValues))continue;ag(g.latestValues)&&g.updateSnapshot();const v=Je(),b=g.measurePageBox();Li(v,b),Lx(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Aa(this.latestValues)&&Lx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=pn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),EA(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ag(this.parent.latestValues)||SA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),hf(this.relativeTargetOrigin,d,m),Li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Li(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;U4(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Je());const{target:j}=c;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mx(this.prevProjectionDelta.x,this.projectionDelta.x),Mx(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!Ux(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ux(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zo(),this.projectionDelta=zo(),this.projectionDeltaWithTransform=zo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Je(),j=m?m.source:void 0,N=this.layout?this.layout.source:void 0,P=j!==N,q=this.getStack(),Q=!q||q.members.length<=1,k=!!(P&&!Q&&this.options.crossfade===!0&&!this.path.some(gO));this.animationProgress=0;let U;this.mixTargetDelta=X=>{const Z=X/1e3;Gx(b.x,c.x,Z),Gx(b.y,c.y,Z),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mO(this.relativeTarget,this.relativeTargetOrigin,S,Z),U&&tO(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Je()),Li(U,this.relativeTarget)),P&&(this.animationValues=v,K3(v,g,this.latestValues,Z,k,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=q3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&KA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Je();const b=Cn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const S=Cn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}Li(d,m),Bo(d,v),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new eO),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&ym("z",c,g,this.animationValues);for(let v=0;v<gm.length;v++)ym(`rotate${gm[v]}`,c,g,this.animationValues),ym(`skew${gm[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uh(d?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=nO(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x:S,y:j}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${j.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in rg){if(v[N]===void 0)continue;const{correct:P,applyTo:q,isCSSVariable:Q}=rg[N],k=b==="none"?v[N]:P(v[N],g);if(q){const U=q.length;for(let X=0;X<U;X++)c[q[X]]=k}else Q?this.options.visualElement.renderState.vars[N]=k:c[N]=k}this.options.layoutId&&(c.pointerEvents=g===this?Uh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Fx),this.root.sharedNodes.clear()}}}function rO(n){n.updateLayout()}function aO(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?gi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Cn(b);b.min=i[v].min,b.max=b.min+S}):KA(o,t.layoutBox,i)&&gi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Cn(i[v]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=zo();Tu(c,i,t.layoutBox);const d=zo();u?Tu(d,n.applyTransform(r,!0),t.measuredBox):Tu(d,i,t.layoutBox);const m=!HA(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const j=Je();hf(j,t.layoutBox,b.layoutBox);const N=Je();hf(N,i,S.layoutBox),GA(j,N)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=j,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function oO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function uO(n){n.clearSnapshot()}function Fx(n){n.clearMeasurements()}function qx(n){n.isLayoutDirty=!1}function cO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Hx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hO(n){n.resolveTargetDelta()}function fO(n){n.calcProjection()}function dO(n){n.resetSkewAndRotation()}function pO(n){n.removeLeadSnapshot()}function Gx(n,t,i){n.translate=Ce(t.translate,0,i),n.scale=Ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function Yx(n,t,i,r){n.min=Ce(t.min,i.min,r),n.max=Ce(t.max,i.max,r)}function mO(n,t,i,r){Yx(n.x,t.x,i.x,r),Yx(n.y,t.y,i.y,r)}function gO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yO={duration:.45,ease:[.4,0,.1,1]},Qx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Kx=Qx("applewebkit/")&&!Qx("chrome/")?Math.round:xi;function Xx(n){n.min=Kx(n.min),n.max=Kx(n.max)}function vO(n){Xx(n.x),Xx(n.y)}function KA(n,t,i){return n==="position"||n==="preserve-aspect"&&!w3(zx(t),zx(i),.2)}function _O(n){return n!==n.root&&n.scroll?.wasRoot}const bO=QA({attachResizeListener:(n,t)=>Pu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},XA=QA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vm.current){const n=new bO({});n.mount(window),n.setOptions({layoutScroll:!0}),vm.current=n}return vm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xO={pan:{Feature:U3},drag:{Feature:z3,ProjectionNode:XA,MeasureLayout:UA}};function Wx(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&we.postRender(()=>u(t,Ku(t)))}class TO extends Gr{mount(){const{current:t}=this.node;t&&(this.unmount=Q5(t,(i,r)=>(Wx(this.node,r,"Start"),o=>Wx(this.node,o,"End"))))}unmount(){}}class SO extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $x(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&we.postRender(()=>u(t,Ku(t)))}class EO extends Gr{mount(){const{current:t}=this.node;t&&(this.unmount=$5(t,(i,r)=>($x(this.node,r,"Start"),(o,{success:u})=>$x(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dg=new WeakMap,_m=new WeakMap,AO=n=>{const t=dg.get(n.target);t&&t(n)},wO=n=>{n.forEach(AO)};function CO({root:n,...t}){const i=n||document;_m.has(i)||_m.set(i,{});const r=_m.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(wO,{root:n,...t})),r[o]}function RO(n,t,i){const r=CO(t);return dg.set(n,i),r.observe(n),()=>{dg.delete(n),r.unobserve(n)}}const IO={some:0,all:1};class DO extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:IO[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=g?v:b;S&&S(m)};return RO(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(VO(t,i))&&this.startObserver()}unmount(){}}function VO({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const jO={inView:{Feature:DO},tap:{Feature:EO},focus:{Feature:SO},hover:{Feature:TO}},MO={layout:{ProjectionNode:XA,MeasureLayout:UA}},OO={...b3,...jO,...xO,...MO},Pi=k4(OO,$4);function NO(n){n.values.forEach(t=>t.stop())}function pg(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&By(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{pg(u,t)})})}function LO(n,t){if(Array.isArray(t))return pg(n,t);if(typeof t=="string")return pg(n,[t]);By(n,t)}function PO(){const n=new Set,t={subscribe(i){return n.add(i),()=>{n.delete(i)}},start(i,r){const o=[];return n.forEach(u=>{o.push(MA(u,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return n.forEach(r=>{LO(r,i)})},stop(){n.forEach(i=>{NO(i)})},mount(){return()=>{t.stop()}}};return t}function kO(){const n=Lf(PO);return uy(n.mount,[]),n}const BO=kO,ks=[{name:"",nameEn:"Rocket",icon:"",color:"#6366f1",label:"x2.0 / x4.0",desc:" ",descEn:"High Score Chance"},{name:"",nameEn:"Heart",icon:"",color:"#f43f5e",label:"x2.0 / x4.0",desc:" ",descEn:"Symbol of Luck"},{name:"",nameEn:"Yacht",icon:"",color:"#0ea5e9",label:"x2.0 / x4.0",desc:" ",descEn:"Premium Pick"},{name:"",nameEn:"Rose",icon:"",color:"#ef4444",label:"x2.0 / x4.0",desc:" ",descEn:"Passion Payout"}],Ta={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()};class zO{constructor(){this.ctx=null}init(){if(!this.ctx){const t=window.AudioContext||window.webkitAudioContext;this.ctx=new t}return this.ctx.state==="suspended"&&this.ctx.resume(),this.ctx}play(t){try{const i=this.init(),r=i.createOscillator(),o=i.createGain();r.connect(o),o.connect(i.destination);const u=i.currentTime;t==="draw"?(r.type="sine",r.frequency.setValueAtTime(150,u),r.frequency.exponentialRampToValueAtTime(40,u+3),o.gain.setValueAtTime(.1,u),o.gain.exponentialRampToValueAtTime(.01,u+3),r.start(u),r.stop(u+3)):t==="win"?(r.type="triangle",[523.25,659.25,783.99].forEach((c,d)=>r.frequency.setValueAtTime(c,u+d*.1)),o.gain.setValueAtTime(.2,u),o.gain.exponentialRampToValueAtTime(.01,u+.5),r.start(u),r.stop(u+.5)):t==="lose"&&(r.type="sawtooth",r.frequency.setValueAtTime(200,u),r.frequency.linearRampToValueAtTime(100,u+.4),o.gain.setValueAtTime(.1,u),o.gain.exponentialRampToValueAtTime(.01,u+.4),r.start(u),r.stop(u+.4))}catch{}}}const bm=new zO,Bi={getCurrentRoundInfo:()=>{const t=Date.now()-Ta.START_TIME,i=Ta.ROUND_DURATION*1e3,r=Ta.BASE_ROUND+Math.floor(t/i),o=i-t%i;let u=Math.floor(o/1e3);return u>=Ta.ROUND_DURATION&&(u=0),{round:r,timeLeft:u,isDrawingPhase:u<=5}},getFixedResult:async n=>{try{const t=JSON.parse(localStorage.getItem("event_manipulation_queue")||"{}");if(t[n])return t[n].map(o=>ks.find(u=>u.name===o)).filter(Boolean);const i=Ke(ne,"event_manipulation",String(n)),r=await Ra(i);if(r.exists())return r.data().items.map(u=>ks.find(c=>c.name===u)).filter(Boolean)}catch(t){console.error("Result Fetch Error:",t)}return null},generateResult:n=>{const t=o=>{let u=0;const c=n.toString()+o+"daisy-secret";for(let d=0;d<c.length;d++)u=(u<<5)-u+c.charCodeAt(d),u|=0;return Math.abs(Math.sin(u*.123456+n)*1e4)%100};return ks.map(o=>({...o,luckScore:t(o.name)})).sort((o,u)=>u.luckScore-o.luckScore).slice(0,2).map(({luckScore:o,...u})=>u)},getMissedHistory:async(n,t)=>{const i=[],r=Math.max(n+1,t-30);for(let o=r;o<t;o++){const c=await Bi.getFixedResult(o)||Bi.generateResult(o),d=new Date(Ta.START_TIME+(o-Ta.BASE_ROUND)*Ta.ROUND_DURATION*1e3);i.push({round:o,winItems:c.map(m=>`${m.icon} ${m.name}`),date:d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})})}return i},calculateStats:n=>{const t=n.length*2;if(t===0)return{};const i={};n.forEach(o=>{o.winItems.forEach(u=>{const c=u.split(" ")[1];c&&(i[c]=(i[c]||0)+1)})});const r={};return ks.forEach(o=>{r[o.name]=Math.round((i[o.name]||0)/(t||1)*100)}),r}};function UO(n,t,i,r){const o=z.useRef(!1),u=z.useRef(t),c=z.useRef(null),d=z.useRef(0);z.useEffect(()=>{u.current=t},[t]);const[m,g]=z.useState([]);z.useEffect(()=>{(async()=>{const{round:M}=Bi.getCurrentRoundInfo(),L=JSON.parse(localStorage.getItem("event_total_history")||"[]"),I=L.length>0?L[0].round:M-1;if(M>I+1){const G=[...(await Bi.getMissedHistory(I,M)).reverse(),...L].slice(0,100);g(G),localStorage.setItem("event_total_history",JSON.stringify(G))}else g(L);const bt=localStorage.getItem(`pending_bet_${n?.id}`);if(bt){const Et=JSON.parse(bt);if(Et.round<M){const F=await Bi.getFixedResult(Et.round)||Bi.generateResult(Et.round),ot=F.map(gt=>gt.name),{items:pt,perAmount:et,totalCost:D}=Et,Y=pt.filter(gt=>ot.includes(gt)).length;let st=0;pt.length===1?Y>=1&&(st=et*2):pt.length===2&&(Y===1?st=D:Y===2&&(st=D*4));const dt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),mt={round:Et.round,selected:[...pt],winNames:ot,winIcons:F.map(gt=>gt.icon),earn:st,cost:D,date:dt,status:""};b(gt=>{if(gt.find(Gt=>Gt.round===Et.round))return gt;const Dt=[mt,...gt].slice(0,100);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(Dt)),Dt}),st>0&&tt(u.current+st),localStorage.removeItem(`pending_bet_${n?.id}`)}else c.current=Et,Q(Et)}})()},[n?.id]);const[v,b]=z.useState(()=>{const V=localStorage.getItem(`event_my_history_${n?.id}`);return V?JSON.parse(V):[]}),[S,j]=z.useState({round:0,timeLeft:60,isDrawing:!1}),[N,P]=z.useState(["",""]),[q,Q]=z.useState(null),[k,U]=z.useState(null),[X,Z]=z.useState(" !"),tt=z.useCallback(V=>{i&&(i(V),r&&r.start({scale:[1,1.2,1],transition:{duration:.3}}))},[i,r]);z.useEffect(()=>{const V=M=>{n&&M.detail&&M.detail.userId===n.id&&tt(M.detail.point)};return window.addEventListener("user_point_update",V),()=>window.removeEventListener("user_point_update",V)},[n,tt]),z.useEffect(()=>{const V=()=>{const M=localStorage.getItem("event_total_history");M&&g(JSON.parse(M))};return window.addEventListener("event_history_update",V),()=>window.removeEventListener("event_history_update",V)},[]);const C=V=>{c.current=V,Q(V),V?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify(V)):localStorage.removeItem(`pending_bet_${n?.id}`)},A=z.useCallback(async V=>{if(o.current)return;o.current=!0,j(I=>({...I,isDrawing:!0,timeLeft:0})),bm.play("draw");const M=setInterval(()=>{const I=Bi.generateResult(Math.random()).map(bt=>bt.icon);P(I)},120),L=await Bi.getFixedResult(V);setTimeout(()=>{clearInterval(M);const I=L||Bi.generateResult(V),bt=I.map(F=>F.name),Et=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});P(I.map(F=>F.icon)),g(F=>{const pt=[{round:V,winItems:I.map(et=>`${et.icon} ${et.name}`),date:Et},...F].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(pt)),pt});const G=c.current;if(G&&G.round===V){const{items:F,perAmount:ot,totalCost:pt}=G,et=F.filter(dt=>bt.includes(dt)).length;let D=0;F.length===1?et>=1&&(D=ot*2):F.length===2&&(et===1?D=pt:et===2&&(D=pt*4));const Y=D>pt,st=D===pt&&pt>0;Y?(bm.play("win"),navigator.vibrate&&navigator.vibrate([100,50,150])):!st&&pt>0&&bm.play("lose"),tt(u.current+D),U({winItems:I.map(dt=>`${dt.icon} ${dt.name}`),winAmount:D,betTotal:pt,isWin:Y,isDraw:st}),b(dt=>{const mt=[{round:V,selected:[...F],winNames:bt,winIcons:I.map(gt=>gt.icon),earn:D,cost:pt,date:Et},...dt].slice(0,100);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(mt)),mt})}setTimeout(()=>{C(null),o.current=!1},2e3)},3e3)},[n?.id,tt]);z.useEffect(()=>{const V=()=>{const{round:L,timeLeft:I,isDrawingPhase:bt}=Bi.getCurrentRoundInfo();d.current!==0&&L>d.current&&!o.current&&A(d.current),d.current=L,j(Et=>o.current?Et:Et.round!==L||Et.timeLeft!==I?{round:L,timeLeft:I,isDrawing:bt}:Et)},M=setInterval(V,1e3);return V(),()=>clearInterval(M)},[A]),z.useEffect(()=>{const V=()=>{const I=Math.random();if(I<.3){const bt=["","","","","","","","","","","","","",""],Et=["","","","","","","","","","","",""];return`${bt[Math.floor(Math.random()*bt.length)]}*${Et[Math.floor(Math.random()*Et.length)]}`}else{if(I<.6)return`010-****-${Math.floor(1e3+Math.random()*8999)}`;{const bt=["Super","King","God","Win","Lucky"];return`${bt[Math.floor(Math.random()*bt.length)]}${Math.floor(Math.random()*999)}`}}},M=[" !"," !"," !","!"," !"],L=setInterval(()=>{const I=V(),bt=ks[Math.floor(Math.random()*ks.length)],Et=M[Math.floor(Math.random()*M.length)];Z(`${I} ${bt.icon} ${bt.name} ${Et}`)},6e3+Math.random()*4e3);return()=>clearInterval(L)},[]);const R=z.useMemo(()=>Bi.calculateStats(m),[m]);return{round:S.round,timeLeft:S.timeLeft,isDrawing:S.isDrawing||o.current,drawingItems:N,totalHistory:m,myHistory:v,myPendingBet:q,setMyPendingBet:C,showResult:k,setShowResult:U,liveNoti:X,stats:R,updatePointWithAnim:tt}}function WA({user:n,userPoint:t=0,confirmedImage:i,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const d=BO(),[m,g]=z.useState(t),v=z.useRef(null),b=c&&c.home==="",S=et=>{if(!et)return"";const D=et.split(" ");let Y=et,st="";D.length>1&&isNaN(D[0])&&(st=D[0]+" ",Y=D[1]);const dt=ks.find(mt=>mt.name===Y);if(dt){const mt=b?dt.name:dt.nameEn;return st+mt}return et},{round:j,timeLeft:N,totalHistory:P,myHistory:q,myPendingBet:Q,setMyPendingBet:k,isDrawing:U,drawingItems:X,showResult:Z,setShowResult:tt,liveNoti:C,stats:A,updatePointWithAnim:R}=UO(n,t,u,d),[V,M]=z.useState([]),[L,I]=z.useState(""),[bt,Et]=z.useState("mine");z.useEffect(()=>{g(t)},[t]),z.useEffect(()=>{const et=D=>{n&&D.detail&&D.detail.userId===n.id&&(g(D.detail.point),R(D.detail.point))};return window.addEventListener("user_point_update",et),()=>window.removeEventListener("user_point_update",et)},[n,R]);const G=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],F=z.useMemo(()=>{if(i)return i;const et=r||0;return`https://api.dicebear.com/7.x/${G[et]}/svg?seed=${n?.id}_${et}&backgroundColor=2a2a2e`},[i,r,n?.id]),ot=async()=>{const et=parseInt(L),D=et*V.length;if(V.length===0)return alert(b?" .":"Please select items.");if(!et||et<=0)return alert(b?" .":"Please enter amount.");if(D>m)return alert(b?"  .":"Check your diamond balance.");const Y=m-D;g(Y),R(Y),k({round:j,items:[...V],perAmount:et,totalCost:D});try{await ju(Zn(ne,"event_bets"),{round:j,userId:n.id,betAmount:D,items:[...V],win:null,timestamp:new Date().toISOString()})}catch(st){console.error("  :",st)}M([]),I("")},pt=(parseInt(L)||0)*(V.length||0);return y.jsxs("div",{style:_t.screenContainer,children:[y.jsxs("div",{style:_t.fixedHeader,children:[y.jsxs("div",{style:_t.navLeft,onClick:o,children:[y.jsx("span",{style:_t.backBtn,children:""}),y.jsx("span",{style:_t.navTitle,children:"DIAMOND EVENT"})]}),y.jsxs("div",{style:_t.navRight,children:[y.jsxs(Pi.div,{animate:d,style:_t.pointBadge,children:[y.jsx("span",{style:_t.coinIcon,children:""}),y.jsx("span",{style:_t.headerPoint,children:m.toLocaleString()})]}),y.jsx("div",{style:_t.profileCircle,children:y.jsx("img",{src:F,alt:"profile",style:{..._t.profileImg,objectFit:"cover"}})})]})]}),y.jsxs("div",{style:_t.scrollBody,ref:v,children:[y.jsx("div",{style:_t.liveTicker,children:y.jsxs(Pi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:_t.tickerText,children:[" ",C]},C)}),y.jsxs(Pi.div,{style:{..._t.eventBanner,background:U?"linear-gradient(135deg, #1a1a1a 0%, #000 100%)":_t.eventBanner.background},animate:U?{x:[-1,1,-1,1,0],transition:{repeat:1/0,duration:.1}}:{},children:[y.jsx("div",{style:_t.radarContainer,children:U&&[0,1,2].map(et=>y.jsx(Pi.div,{style:_t.radarCircle,initial:{width:0,height:0,opacity:.8},animate:{width:600,height:600,opacity:0},transition:{duration:3,repeat:1/0,delay:et*1,ease:"easeOut"}},`radar-${et}`))}),y.jsx(cm,{children:U&&y.jsxs(y.Fragment,{children:[y.jsx(Pi.div,{style:{position:"absolute",left:"-10%",fontSize:"80px",zIndex:5,pointerEvents:"none"},initial:{x:0,opacity:0},animate:{x:300,opacity:[0,1,0],scale:[.5,1.2,.8]},exit:{opacity:0},transition:{duration:2.5,repeat:1/0,ease:"circIn"},children:""}),y.jsx(Pi.div,{style:{position:"absolute",right:"-10%",fontSize:"80px",zIndex:5,pointerEvents:"none"},initial:{x:0,opacity:0},animate:{x:-300,opacity:[0,1,0],scale:[.5,1.2,.8]},exit:{opacity:0},transition:{duration:2.5,repeat:1/0,ease:"circIn",delay:1.25},children:""})]})}),y.jsxs("div",{style:_t.bannerContent,children:[y.jsxs("div",{style:_t.bannerTop,children:[y.jsx("div",{style:{..._t.liveBadge,background:U?"#ffb347":"#ff3b30"},children:U?"DRAWING":"LIVE"}),y.jsxs("span",{style:_t.roundInfo,children:[b?` ${j}`:`Round ${j}`," ",Q?b?"()":"(Joined)":""]})]}),y.jsx("div",{style:_t.timerDisplay,children:U?y.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center",margin:"15px 0"},children:X.map((et,D)=>y.jsx(Pi.div,{initial:{scale:.5,opacity:0},animate:{scale:1.2,opacity:1},style:{fontSize:"50px"},children:et},D))}):y.jsx("h2",{style:_t.timeLeftNum,children:`${Math.floor(N/60)}:${(N%60).toString().padStart(2,"0")}`})}),y.jsxs("div",{style:_t.lastResultBar,children:[y.jsxs("span",{style:_t.lastLabel,children:[j-1,b?" :":" Result:"]}),y.jsx("div",{style:{display:"flex",gap:"5px"},children:P[0]?.winItems.map((et,D)=>y.jsx("span",{style:_t.resTag,children:S(et)},D))||(b?"":"Waiting")})]})]})]}),y.jsxs("div",{style:_t.sectionLabel,children:[y.jsx("span",{style:_t.labelBar})," ",b?" ":"Select Item",y.jsx("small",{style:_t.subLabel,children:b?" 100 ":"Last 100 Stats"})]}),y.jsx("div",{style:_t.grid,children:ks.map(et=>{const D=V.includes(et.name);return y.jsxs(Pi.div,{whileTap:Q?{}:{scale:.95},onClick:()=>!Q&&M(Y=>Y.includes(et.name)?Y.filter(st=>st!==et.name):[...Y,et.name].slice(0,2)),style:{..._t.itemCard,opacity:Q?.5:1,background:D?`linear-gradient(145deg, ${et.color}88, #111)`:"#161616",border:D?`2px solid ${et.color}`:"2px solid #252525"},children:[y.jsx("div",{style:_t.multiplier,children:et.label}),y.jsxs("div",{style:_t.statBadge,children:[A[et.name]||0,"%"]}),y.jsx("div",{style:_t.itemIcon,children:et.icon}),y.jsxs("div",{style:_t.itemInfoText,children:[y.jsx("span",{style:_t.itemName,children:b?et.name:et.nameEn}),y.jsx("span",{style:_t.itemDesc,children:b?et.desc:et.descEn})]}),D&&y.jsx("div",{style:{..._t.checkBadge,background:et.color},children:""})]},et.name)})}),y.jsxs("div",{style:_t.tabSection,children:[y.jsxs("div",{style:_t.tabHeader,children:[y.jsx("button",{style:{..._t.tabBtn,color:bt==="mine"?"#fff":"#666",borderBottom:bt==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>Et("mine"),children:b?"  ":"My History"}),y.jsx("button",{style:{..._t.tabBtn,color:bt==="total"?"#fff":"#666",borderBottom:bt==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>Et("total"),children:b?" ":"All Results"})]}),y.jsxs("div",{style:_t.tabContent,children:[(bt==="mine"?q:P).sort((et,D)=>D.round-et.round).slice(0,20).map((et,D)=>y.jsxs("div",{style:_t.histItem,children:[y.jsxs("div",{style:_t.histLeft,children:[y.jsxs("div",{style:_t.histRound,children:[et.round,b?"":" Rd"]}),y.jsx("div",{style:_t.histDetail,children:et.date})]}),y.jsx("div",{style:_t.histRight,children:bt==="mine"?y.jsx("div",{style:{color:et.earn>0?"#34D399":"#FB7185",fontWeight:"bold"},children:et.earn>0?`+${et.earn.toLocaleString()}`:`-${et.cost.toLocaleString()}`}):y.jsx("div",{style:_t.histWinIcons,children:et.winItems?.map(Y=>S(Y)).join(" ")})})]},D)),(bt==="mine"?q:P).length===0&&y.jsx("div",{style:_t.emptyText,children:b?" .":"No records found."})]})]})]}),y.jsx(cm,{children:(V.length>0||Q)&&y.jsx(Pi.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:_t.bottomPanel,children:Q?y.jsxs("div",{style:_t.pendingContainer,children:[y.jsxs("div",{style:_t.pendingInfo,children:[y.jsxs("div",{style:_t.pendingTitle,children:[j,b?"  ...":" Round Joined..."]}),y.jsxs("div",{style:_t.pendingDetail,children:[b?":":"Pick:"," ",y.jsx("b",{style:{color:"#fff"},children:Q.items.map(et=>S(et)).join(", ")})," | ",Q.totalCost.toLocaleString()," DIA"]})]}),y.jsx("button",{style:_t.cancelBtn,onClick:()=>{const et=m+Q.totalCost;g(et),R(et),k(null)},children:b?"":"Cancel"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:_t.panelTop,children:[y.jsxs("span",{style:_t.selectionText,children:[b?":":"Selected:"," ",y.jsx("b",{style:{color:"#ffb347"},children:V.map(et=>S(et)).join(", ")})]}),y.jsx("button",{style:_t.clearBtn,onClick:()=>M([]),children:b?"":"Reset"})]}),y.jsx("div",{style:_t.amountPresets,children:["10%","50%","MAX","CLEAR"].map(et=>y.jsx("button",{onClick:()=>{if(et==="CLEAR")I("");else{let D=Math.floor(et==="10%"?m*.1:et==="50%"?m*.5:m/V.length);I(D>0?D.toString():"")}},style:_t.presetBtn,children:et},et))}),y.jsxs("div",{style:_t.betInputGroup,children:[y.jsx("input",{type:"number",value:L,onChange:et=>I(et.target.value),style:_t.mainInput,placeholder:b?" ":"Enter amount"}),y.jsx("button",{style:_t.finalBtn,onClick:ot,disabled:!L,children:pt>0?`${pt.toLocaleString()} DIA ${b?"":"BET"}`:b?"":"BET"})]})]})})}),y.jsx(cm,{children:Z&&y.jsx(Pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:_t.modalOverlay,onClick:()=>tt(null),children:y.jsxs(Pi.div,{initial:{scale:.8},animate:{scale:1},style:_t.modalCard,onClick:et=>et.stopPropagation(),children:[y.jsx("div",{style:_t.modalTitle,children:Z.isWin?b?"  !":" YOU WIN!":Z.isDraw?b?"  !":" DRAW!":b?" ":" YOU LOSE"}),y.jsx("div",{style:{fontSize:"50px",margin:"20px 0"},children:Z.winItems.map(et=>S(et)).join(" ")}),y.jsxs("div",{style:_t.modalInfoBox,children:[y.jsxs("div",{children:[b?"":"Bet",": ",Z.betTotal.toLocaleString()]}),y.jsxs("div",{children:[b?"":"Result",": ",Z.winAmount.toLocaleString()]})]}),y.jsxs("div",{style:{..._t.modalAmount,color:Z.winAmount-Z.betTotal>0?"#34D399":Z.winAmount-Z.betTotal===0?"#fff":"#FB7185"},children:[Z.winAmount-Z.betTotal>0?"+":"",(Z.winAmount-Z.betTotal).toLocaleString()," DIA"]}),y.jsx("button",{style:_t.modalCloseBtn,onClick:()=>tt(null),children:b?"":"CLOSE"})]})})})]})}const _t={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:10,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},eventBanner:{background:"linear-gradient(135deg, #ffdeeb 0%, #fbc2eb 100%)",borderRadius:"28px",padding:"25px",border:"1px solid #ffb6c1",textAlign:"center",position:"relative",overflow:"hidden",height:"190px",display:"flex",alignItems:"center",justifyContent:"center"},radarContainer:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},radarCircle:{position:"absolute",borderRadius:"50%",border:"8px solid rgba(255, 255, 255, 0.6)"},bannerContent:{position:"relative",zIndex:10,width:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},liveBadge:{color:"#fff",fontSize:"10px",fontWeight:"900",padding:"2px 8px",borderRadius:"4px"},roundInfo:{fontSize:"12px",color:"#555",fontWeight:"700"},timeLeftNum:{fontSize:"52px",fontWeight:"900",margin:"5px 0",color:"#333",letterSpacing:"-1px"},lastResultBar:{background:"rgba(255,255,255,0.6)",padding:"8px 15px",borderRadius:"12px",display:"inline-flex",alignItems:"center",gap:"10px",marginTop:"10px"},lastLabel:{fontSize:"11px",color:"#333",fontWeight:"600"},resTag:{fontSize:"12px",fontWeight:"800",color:"#000"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"35px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},subLabel:{opacity:.4,marginLeft:"5px",fontWeight:"400",fontSize:"12px",color:"#fff"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},itemCard:{height:"145px",borderRadius:"24px",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden",transition:"all 0.2s ease"},multiplier:{position:"absolute",top:12,left:15,fontSize:"11px",fontWeight:"900",color:"rgba(255,255,255,0.3)"},statBadge:{position:"absolute",top:12,right:12,fontSize:"10px",color:"#ffb347",fontWeight:"bold",background:"rgba(0,0,0,0.5)",padding:"2px 6px",borderRadius:"4px"},itemIcon:{fontSize:"44px",marginBottom:"8px"},itemInfoText:{textAlign:"center"},itemName:{fontSize:"16px",fontWeight:"900",display:"block",color:"#fff"},itemDesc:{fontSize:"10px",color:"#777",marginTop:"2px"},checkBadge:{position:"absolute",top:12,right:12,width:"22px",height:"22px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"900",zIndex:2},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},histLeft:{display:"flex",flexDirection:"column",gap:"4px"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDetail:{fontSize:"11px",color:"#555"},histRight:{textAlign:"right"},histWinIcons:{fontSize:"10px",color:"#666",marginTop:"2px"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"absolute",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},panelTop:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"center"},selectionText:{fontSize:"13px",color:"#888"},clearBtn:{background:"none",border:"none",color:"#ff3b30",fontSize:"13px",fontWeight:"700"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},pendingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},pendingInfo:{display:"flex",flexDirection:"column",gap:"4px"},pendingTitle:{fontSize:"15px",fontWeight:"900",color:"#ffb347"},pendingDetail:{fontSize:"12px",color:"#888"},cancelBtn:{background:"#ff3b30",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:"900",fontSize:"13px"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"20px",fontWeight:"900",color:"#fff"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"12px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},ut={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},ff=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],$A=(n,t)=>{const i=n>=0&&n<ff.length?n:0;return`https://api.dicebear.com/7.x/${ff[i]}/svg?seed=${t}_${i}&backgroundColor=2a2a2e`},FO=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},qO=({userId:n,tempSelectedIdx:t,tempUploadedImg:i,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:d})=>{const m=z.useRef(null);return y.jsxs("div",{style:ut.avatarPicker,children:[y.jsxs("div",{style:ut.pickerHeader,children:[y.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:d,style:ut.randomBtn,children:" "}),y.jsx("button",{onClick:u,style:ut.closeBtn,children:""})]})]}),y.jsx("div",{style:ut.charGrid,children:ff.map((g,v)=>y.jsx("div",{onClick:()=>{o(null),r(v)},style:{...ut.pickerItem,border:t===v&&!i?"2px solid #D4AF37":"1px solid #333"},children:y.jsx("img",{src:$A(v,n),alt:"char",style:{width:"85%"}})},v))}),y.jsx("input",{type:"file",accept:"image/*",ref:m,onChange:g=>{const v=g.target.files[0];if(v){const b=new FileReader;b.onloadend=()=>{o(b.result),r(-1)},b.readAsDataURL(v)}},style:{display:"none"}}),y.jsx("button",{onClick:()=>m.current.click(),style:ut.uploadBtn,children:"   "}),y.jsx("button",{onClick:c,style:ut.applyBtn,children:""})]})},Zx=new BroadcastChannel("daisy_global_channel"),HO=(n,t,i)=>{const[r,o]=z.useState(n||null),[u,c]=z.useState(()=>{if(!n)return!1;const k=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===k}),[d,m]=z.useState([]),[g,v]=z.useState([]);z.useEffect(()=>{n&&o(n)},[n]),z.useEffect(()=>{const k=(X,Z)=>{o(tt=>tt&&tt.id===X?{...tt,diamond:Z}:tt)},U=X=>{const{userId:Z,point:tt}=X.detail||{};Z&&k(Z,tt)};return window.addEventListener("user_point_update",U),Zx.onmessage=X=>{const{type:Z,userId:tt,point:C}=X.data||{};Z==="POINT_UPDATE"&&tt&&k(tt,C)},()=>window.removeEventListener("user_point_update",U)},[]),z.useEffect(()=>{if(!r?.id)return;const k=Ca(Zn(ne,"deposit_requests"),Jp("userId","==",r.id)),U=Ca(Zn(ne,"withdraw_requests"),Jp("userId","==",r.id)),X=Ca(Zn(ne,"finance_history"),Jp("userId","==",r.id));let Z=[],tt=[],C=[];const A=()=>{const L=C.filter(G=>G.type==="").map(G=>({...G,status:""})),I=[...Z,...L].sort((G,F)=>new Date(F.timestamp||F.completedAt)-new Date(G.timestamp||G.completedAt));m(I);const bt=C.filter(G=>G.type==="").map(G=>({...G,status:""})),Et=[...tt,...bt].sort((G,F)=>new Date(F.timestamp||F.completedAt)-new Date(G.timestamp||G.completedAt));v(Et)},R=Ps(k,L=>{Z=L.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),V=Ps(U,L=>{tt=L.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),M=Ps(X,L=>{C=L.docs.map(I=>({id:I.id,...I.data()})),A()});return()=>{R(),V(),M()}},[r?.id]);const b=z.useCallback(k=>{window.speechSynthesis.cancel();const U=new SpeechSynthesisUtterance(k),X=window.speechSynthesis.getVoices(),Z=X.find(tt=>tt.lang.includes("ko")&&tt.name.includes("Google"))||X.find(tt=>tt.lang.includes("ko")&&(tt.name.includes("Female")||tt.name.includes("")))||X.find(tt=>tt.lang.includes("ko"));Z&&(U.voice=Z),U.lang=i?"ko-KR":"en-US",U.rate=1.1,U.pitch=1,window.speechSynthesis.speak(U)},[i]);return{userInfo:r,isCheckedIn:u,myDeposits:d,myWithdraws:g,handleDailyCheckIn:async()=>{if(!u)try{const k=Ke(ne,"settings","global"),U=await Ra(k);if(!U.exists())throw new Error("Database Error");const X=U.data().users||[],Z=Math.floor(Math.random()*1901)+100;let tt=0;const C=X.map(R=>R.id===r.id?(tt=(R.diamond||0)+Z,{...R,diamond:tt}):R);await Ar(k,{users:C}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(R=>({...R,diamond:tt})),t&&t(tt),Zx.postMessage({type:"POINT_UPDATE",userId:r.id,point:tt});const A=i?`  ${Z}  .`:`Daily bonus ${Z} diamonds paid.`;b(A),alert(i?`! ${Z.toLocaleString()} DIA .`:`Congrats! ${Z.toLocaleString()} DIA paid.`)}catch(k){console.error(k);const U=1e3;o(X=>({...X,diamond:(X.diamond||0)+U})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(i?`( ) ${U} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(k,U)=>{if(!k.trim()||!U)return alert(i?" .":"Enter info.");try{return await ju(Zn(ne,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:k,amount:Number(U),status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Deposit requested."),alert(i?" !":"Done!"),!0}catch(X){return alert("Error: "+X.message),!1}},requestWithdraw:async(k,U,X)=>{const Z=localStorage.getItem(`user_pin_${r.id}`);if(X!==Z)return alert(i?" ":"PIN mismatch");if(Number(k)>r.diamond)return alert(i?" ":"Not enough balance");try{return await ju(Zn(ne,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(k),bankInfo:U,status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Withdrawal requested."),alert(i?" !":"Done!"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updatePassword:async(k,U,X)=>{if(!k||U!==X)return alert(i?"  .":"Check inputs.");try{const Z=Ke(ne,"settings","global"),tt=await Ra(Z);if(tt.exists()){const A=(tt.data().users||[]).map(R=>R.id===r.id?{...R,password:U}:R);await Ar(Z,{users:A})}return alert(i?"  ":"Success"),!0}catch(Z){return alert("Error: "+Z.message),!1}},updatePin:async(k,U,X)=>{const Z=localStorage.getItem(`user_pin_${r.id}`);if(Z&&k!==Z)return alert(i?" PIN ":"Old PIN wrong");if(U!==X||U.length!==6)return alert(i?" PIN  ":"Check New PIN");try{const tt=Ke(ne,"settings","global"),C=await Ra(tt);if(C.exists()){const A=C.data().users.map(R=>R.id===r.id?{...R,pin:U}:R);await Ar(tt,{users:A})}return localStorage.setItem(`user_pin_${r.id}`,U),alert(i?" ":"Done"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updateAvatar:async(k,U,X)=>{const Z={image:k,idx:U};try{const tt=Ke(ne,"settings","global"),C=await Ra(tt);if(C.exists()){const A=C.data().users.map(R=>R.id===r.id?{...R,avatar:Z}:R);await Ar(tt,{users:A})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(Z)),X&&X(k,U),alert(i?"  ":"Updated"),!0}catch(tt){return alert("Error: "+tt.message),!1}}}},Ua=({title:n,onBack:t})=>y.jsxs("div",{style:ut.subHeader,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.subTitle,children:n}),y.jsx("div",{style:{width:30}})]}),GO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),[m,g]=z.useState(""),v=async()=>{await i(o,c,m)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Change Password",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"ID"}),y.jsx("input",{style:ut.inputDisabled,value:r.id,disabled:!0})]}),y.jsx("div",{style:{height:20}}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Old Password"}),y.jsx("input",{type:"password",style:ut.input,value:o,onChange:b=>u(b.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"New Password"}),y.jsx("input",{type:"password",style:ut.input,value:c,onChange:b=>d(b.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Confirm"}),y.jsx("input",{type:"password",style:ut.input,value:m,onChange:b=>g(b.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:v,children:t?"":"Save"})]})]})},YO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),[m,g]=z.useState(""),v=localStorage.getItem(`user_pin_${r.id}`),b=async()=>{await i(o,c,m)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:v?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[v?y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN":"Old PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:S=>u(S.target.value.replace(/[^0-9]/g,""))})]}):null,y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" PIN (6)":"New PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:S=>d(S.target.value.replace(/[^0-9]/g,""))})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"PIN ":"Confirm"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:m,onChange:S=>g(S.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:ut.saveBtn,onClick:b,children:t?"":"Done"})]})]})},QO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),m=async()=>{await i(o,c)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Deposit",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Name"}),y.jsx("input",{style:ut.input,value:o,onChange:g=>u(g.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:c,onChange:g=>d(g.target.value)})]}),y.jsx("button",{style:ut.saveBtn,onClick:m,children:t?"":"Request"})]})]})},KO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=z.useState(""),[c,d]=z.useState(""),[m,g]=z.useState(""),[v,b]=z.useState(""),[S,j]=z.useState(""),N=async()=>{await i(o,{bank:c,account:m,holder:v},S)&&n()};return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Withdraw",onBack:n}),y.jsxs("div",{style:ut.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ut.input,value:o,onChange:P=>u(P.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:t?" ":"Bank Info"}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:P=>d(P.target.value)}),y.jsx("input",{style:{...ut.input,marginBottom:5},placeholder:t?"":"Account No",value:m,onChange:P=>g(P.target.value)}),y.jsx("input",{style:ut.input,placeholder:t?"":"Holder",value:v,onChange:P=>b(P.target.value)})]}),y.jsxs("div",{style:ut.inputGroup,children:[y.jsx("label",{style:ut.inputLabel,children:"PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ut.input,textAlign:"center",letterSpacing:"8px"},value:S,onChange:P=>j(P.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:{...ut.saveBtn,background:"#D4AF37",color:"#000"},onClick:N,children:t?"":"Request"})]})]})},Jx=({onBack:n,isKo:t,title:i,data:r})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:i,onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",d=c?"#4cd137":"#fbc531",m=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",g=c?t?"":"Done":t?"":"Pending";return y.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),y.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),y.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),y.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:m,color:d,border:`1px solid ${d}`},children:g})]},u)})})]}),XO=({onBack:n,isKo:t,userId:i})=>{const r=z.useMemo(()=>{if(!i)return[];const o=localStorage.getItem(`event_my_history_${i}`);return o?JSON.parse(o):[]},[i]);return y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"History",onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>y.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[y.jsxs("span",{children:[o.round,t?"":"R"]}),y.jsx("span",{children:o.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),y.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},WO=({onBack:n,isKo:t,onChangeView:i})=>y.jsxs("div",{style:ut.container,children:[y.jsx(Ua,{title:t?" ":"Settings",onBack:n}),y.jsxs("div",{style:ut.settingList,children:[y.jsxs("div",{style:ut.settingItem,onClick:()=>i("profile"),children:[y.jsx("span",{style:ut.settingText,children:t?"  ":"Change Password"}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.settingItem,onClick:()=>i("payment_pin"),children:[y.jsx("span",{style:ut.settingText,children:t?" (PIN) ":"Setup PIN"}),y.jsx("span",{style:ut.arrow,children:""})]})]})]});function $O({user:n,onBack:t,onLogout:i,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:d}){const[m,g]=z.useState("main"),v=d.home==="",{userInfo:b,isCheckedIn:S,myDeposits:j,myWithdraws:N,handleDailyCheckIn:P,requestDeposit:q,requestWithdraw:Q,updatePassword:k,updatePin:U,updateAvatar:X}=HO(n,c,v),[Z,tt]=z.useState(o||0),[C,A]=z.useState(r||null),[R,V]=z.useState(!1);if(!b)return y.jsx("div",{style:ut.loading,children:"SECRET MEMBERSHIP..."});const M=FO(b.diamond);return m==="profile"?y.jsx(GO,{onBack:()=>g("settings"),isKo:v,onSubmit:k,userInfo:b}):m==="payment_pin"?y.jsx(YO,{onBack:()=>g("settings"),isKo:v,onSubmit:U,userInfo:b}):m==="deposit"?y.jsx(QO,{onBack:()=>g("main"),isKo:v,onSubmit:q,onViewHistory:()=>g("deposit_history")}):m==="withdraw"?y.jsx(KO,{onBack:()=>g("main"),isKo:v,onSubmit:Q,onViewHistory:()=>g("withdraw_history")}):m==="deposit_history"?y.jsx(Jx,{onBack:()=>g("deposit"),isKo:v,title:v?"  ":"Deposit History",data:j}):m==="withdraw_history"?y.jsx(Jx,{onBack:()=>g("withdraw"),isKo:v,title:v?"  ":"Withdraw History",data:N}):m==="history"?y.jsx(XO,{onBack:()=>g("main"),isKo:v,userId:b.id}):m==="settings"?y.jsx(WO,{onBack:()=>g("main"),isKo:v,onChangeView:g}):m==="event_donation"?y.jsx(WA,{user:b,userPoint:b.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>g("main"),t:d}):y.jsxs("div",{style:ut.container,children:[y.jsxs("div",{style:ut.topBar,children:[y.jsx("button",{onClick:t,style:ut.backBtn,children:""}),y.jsx("span",{style:ut.topTitle,children:"PRIVATE LOUNGE"}),y.jsx("span",{onClick:()=>g("settings"),style:ut.settingsIcon,children:""})]}),y.jsx("div",{style:ut.profileHeaderMain,children:y.jsxs("div",{style:ut.profileInfoMain,children:[y.jsxs("div",{style:ut.avatarWrapper,children:[y.jsx("div",{style:ut.avatarLarge,children:r?y.jsx("img",{src:r,alt:"profile",style:ut.imgFull}):y.jsx("img",{src:$A(o,b.id),alt:"avatar",style:ut.imgFull})}),y.jsx("button",{style:ut.editBadgeOutside,onClick:()=>V(!0),children:v?"":"Edit"})]}),y.jsxs("div",{style:ut.userTextMain,children:[y.jsxs("div",{style:ut.userIdMain,children:[b.name||b.id," ",y.jsx("span",{style:{...ut.vipBadge,background:M.color,color:"#000"},children:M.name})]}),y.jsxs("div",{style:ut.tierContainer,children:[y.jsxs("div",{style:ut.tierText,children:[v?" ":"Next Tier",": ",M.next.toLocaleString()]}),y.jsx("div",{style:ut.tierBarOuter,children:y.jsx("div",{style:{...ut.tierBarInner,width:`${M.per}%`,background:M.color}})})]}),y.jsxs("div",{style:ut.userNoMain,children:["UID: ",b.no||"000000"]})]})]})}),y.jsxs("div",{style:ut.balanceCard,children:[y.jsxs("div",{style:ut.balanceItem,children:[y.jsx("div",{style:ut.label,children:v?" ":"Diamonds"}),y.jsxs("div",{style:ut.value,children:[" ",b.diamond?.toLocaleString()??0]})]}),y.jsx("div",{style:ut.divider}),y.jsxs("div",{style:{...ut.balanceItem,cursor:S?"default":"pointer"},onClick:P,children:[y.jsx("div",{style:{...ut.label,color:S?"#444":"#D4AF37"},children:S?v?" ":"Claimed":v?" ":"Daily Bonus"}),y.jsx("div",{style:ut.value,children:S?"":""})]})]}),y.jsxs("div",{style:ut.menuList,children:[y.jsxs("div",{style:ut.goldMenu,onClick:()=>g("event_donation"),children:[y.jsxs("div",{style:ut.goldMenuContent,children:[y.jsx("div",{style:ut.goldTag,children:"HOT"}),y.jsx("span",{style:ut.goldMenuTitle,children:v?"  ":"Join Event"})]}),y.jsx("span",{children:""})]}),y.jsxs("div",{style:ut.menuGroup,children:[y.jsxs("div",{style:ut.menuItem,onClick:()=>g("deposit"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?" ":"Deposit"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>g("withdraw"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?" ":"Withdraw"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>g("history"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?" ":"History"]}),y.jsx("span",{style:ut.arrow,children:""})]}),y.jsxs("div",{style:ut.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[y.jsxs("span",{style:ut.menuTitle,children:["  ",v?"1:1  ":"1:1 Support"]}),y.jsx("span",{style:ut.arrow,children:""})]})]}),y.jsx("button",{onClick:i,style:{...ut.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:v?"":"LOG OUT"})]}),R&&y.jsx(qO,{userId:b.id,tempSelectedIdx:Z,tempUploadedImg:C,setTempSelectedIdx:tt,setTempUploadedImg:A,onClose:()=>V(!1),onApply:()=>X(C,Z,u).then(L=>L&&V(!1)),onRandom:()=>{A(null),tt(Math.floor(Math.random()*ff.length))}})]})}function ZO({user:n,onUpdatePoint:t,appAvatarImage:i,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:d,dashStyles:m,isGuest:g,members:v=[],regions:b=[],slideImages:S=[],videos:j=[],videoCategories:N=[],innerLogo:P,telegramLink:q="https://t.me/your_address"}){const[Q,k]=z.useState("home"),[U,X]=z.useState(null),[Z,tt]=z.useState(""),[C,A]=z.useState(""),[R,V]=z.useState(!1),[M,L]=z.useState(!1),I=n||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},bt=j.filter(st=>Z==="ALL"||!Z?!0:st.category===Z),Et=v.filter(st=>!C||C===""||C==="ALL"?!0:st.region===C),[G,F]=z.useState(()=>{const st=localStorage.getItem("live_count"),dt=st?parseInt(st):142;return dt>=123&&dt<=179?dt:145});z.useEffect(()=>{const st=setInterval(()=>{F(dt=>{const mt=Math.random();let gt=mt<.45?1:mt<.9?-1:mt<.95?2:-2,Dt=dt+gt;return Dt<=123&&(Dt=125),Dt>=179&&(Dt=177),localStorage.setItem("live_count",Dt),Dt})},5e3);return()=>clearInterval(st)},[]);const ot=z.useCallback(()=>{document.getElementById("full-screen-view")||U||document.getElementById("manager-detail-view")||(Q!=="home"?k("home"):L(!0),window.history.pushState(null,""))},[U,Q]);z.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",ot),()=>window.removeEventListener("popstate",ot)),[ot]);const pt=st=>{if(g&&(st==="event"||st==="mypage")){alert(d==="ko"?"   .":"Authorized Members Only.");return}st==="event"?(V(!0),k(st),setTimeout(()=>V(!1),800)):k(st)},et=st=>{X(st),k("manager"),window.history.pushState({isDetail:!0},"")},D=()=>{q?window.open(q,"_blank"):alert(d==="ko"?"   .":"Link not set.")};z.useEffect(()=>{window.scrollTo(0,0)},[Q]);const Y=()=>{switch(Q){case"home":return y.jsx(nM,{t:u,innerLogo:P,slideImages:S,members:v,setActiveTab:k,openDetail:et,handleTelegram:D,matchingCount:G});case"manager":return y.jsx(iM,{t:u,regions:b,selectedRegion:C,setSelectedRegion:A,filteredMembers:Et,initialMember:U,onCloseDetail:()=>X(null)});case"event":return R?y.jsxs("div",{style:$n.loadingContainer,children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("div",{style:$n.loadingText,children:d==="ko"?"   ...":"Loading Private Benefits..."})]}):y.jsx(WA,{t:u,user:I,userPoint:I.diamond,onUpdatePoint:t,onBack:()=>k("home"),confirmedImage:i,confirmedAvatarIdx:r});case"video":return y.jsx(sM,{t:u,videoCategories:N,selectedCategory:Z,setSelectedCategory:tt,filteredVideos:bt});case"mypage":return y.jsx($O,{t:u,user:I,onBack:()=>k("home"),onLogout:()=>L(!0),confirmedImage:i,confirmedAvatarIdx:r,onAvatarChange:o,s:$n});default:return null}};return y.jsxs("div",{style:{...m.container,background:"#080808",zIndex:10,position:"relative"},children:[y.jsxs("div",{style:{...m.contentArea,background:"transparent"},children:[Q!=="home"&&Q!=="event"&&Q!=="mypage"&&y.jsx("div",{style:$n.topStatus,children:y.jsxs("div",{style:$n.statusInner,children:[y.jsx("span",{className:"dot-active"}),y.jsx("span",{style:$n.statusText,children:"LIVE CONNECTED : "}),y.jsxs("b",{style:$n.statusCount,children:[G," MEMBERS"]})]})}),Y()]}),M&&y.jsx("div",{style:$n.modalOverlay,onClick:()=>L(!1),children:y.jsxs("div",{style:{...$n.modalContent,textAlign:"center"},onClick:st=>st.stopPropagation(),children:[y.jsx("h3",{style:$n.modalName,children:u.logout}),y.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:d==="ko"?"  ?":"Are you sure you want to log out?"}),y.jsxs("div",{style:$n.modalBtnGroup,children:[y.jsx("button",{onClick:c,style:$n.mMatchBtn,children:u.logout}),y.jsx("button",{onClick:()=>L(!1),style:$n.mCloseBtn,children:d==="ko"?"":"CANCEL"})]})]})}),y.jsx("nav",{style:{...m.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(st=>y.jsxs("div",{onClick:()=>pt(st.key),style:{...m.navItem,color:Q===st.key?"#D4AF37":"#555"},children:[y.jsx("span",{style:{fontSize:22,filter:Q===st.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:st.icon}),y.jsx("span",{style:{fontSize:10,fontWeight:800},children:st.label})]},st.key))}),y.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const $n={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},JO="dwla93cgd",tN="daisy_upload",tT=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",i=new FormData;i.append("file",n),i.append("upload_preset",tN);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${JO}/${t}/upload`,{method:"POST",body:i})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function eN({adminPreviewMode:n,setAdminPreviewMode:t,hero:i,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:d,logoSize:m,setLogoSize:g,logoPos:v,setLogoPos:b,innerLogo:S,setInnerLogo:j,onExit:N,members:P,setMembers:q,slideImages:Q,setSlideImages:k,videos:U,setVideos:X,adminPw:Z,setAdminPw:tt,telegramLink:C,setTelegramLink:A,saveToFirebase:R,syncToFirebase:V,openIndependent:M,styles:L}){const I={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},bt=Object.keys(I),Et=["","","","",""],G={name:"",region:"",loc:I.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[F,ot]=z.useState(G),[pt,et]=z.useState(null),[D,Y]=z.useState(!1),[st,dt]=z.useState(""),[mt,gt]=z.useState(""),[Dt,Gt]=z.useState(!1),[Jt,Bn]=z.useState(!1),[zn,Un]=z.useState(null),[vn,_n]=z.useState(""),ni=at=>{ot({...F,region:at,loc:I[at][0]})},Ti=at=>{et(at.id),ot(at),Gt(!0);const Ct=document.getElementById("manager-modal-scroll");Ct&&Ct.scrollTo({top:0,behavior:"smooth"})},Si=async()=>{if(D)return alert("  .  .");if(!F.img||!F.name)return alert("   .");let at;pt?(at=P.map(wt=>wt.id===pt?{...F,id:pt}:wt),et(null)):at=[...P,{...F,id:Date.now()}],q(at),Y(!0);const Ct=await V({members:at});Y(!1),Ct&&(ot(G),alert("    ! "))},ys=async()=>{if(!vn)return alert("   .");let at;zn?(at=U.map(wt=>wt.id===zn?{...wt,url:vn,category:st,description:mt}:wt),Un(null)):at=[...U,{id:Date.now(),url:vn,category:st,description:mt}],X(at),Y(!0);const Ct=await V({videos:at});Y(!1),Ct&&(_n(""),gt(""),alert("   ! "))},ie=async(at,Ct,wt)=>{const se=at.target.files?.[0];if(se)try{Y(!0);const fe=await tT(se);if(fe){wt(fe);let be={};Ct==="logo"?be={logo:fe}:Ct==="innerLogo"?be={innerLogo:fe}:Ct==="heroImg"&&(be={hero:{...i,imageSrc:fe,mode:"image"}}),Object.keys(be).length>0&&await V(be)}}catch(fe){console.error("  :",fe)}finally{Y(!1),at.target.value=""}},_e=async()=>{Y(!0);const at=await V({telegramLink:C,adminPw:Z});Y(!1),at&&alert("      ! ")};return y.jsxs("div",{style:Nt.cms,children:[y.jsxs("div",{style:Nt.toggleArea,children:[y.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Nt.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),y.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Nt.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("h3",{style:Nt.mainTitle,children:"SERVER ADMIN PANEL"}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"    "}),y.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[y.jsx("button",{onClick:()=>r({...i,mode:"image"}),style:{...Nt.modeBtn,background:i.mode==="image"?"#fff":"#333",color:i.mode==="image"?"#000":"#888"},children:" "}),y.jsx("button",{onClick:()=>r({...i,mode:"video"}),style:{...Nt.modeBtn,background:i.mode==="video"?"#fff":"#333",color:i.mode==="video"?"#000":"#888"},children:" "})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:at=>ie(at,"heroImg",Ct=>r({...i,imageSrc:Ct,mode:"image"}))}),i.imageSrc&&y.jsx("img",{src:i.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"video/*",style:Nt.fileInput,onChange:at=>ie(at,"heroVid",Ct=>{u(Ct),r({...i,mode:"video"})})}),o&&y.jsx("div",{style:{marginTop:5},children:y.jsx("p",{style:Nt.checkText,children:"  "})})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"    "}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:at=>ie(at,"logo",d)}),y.jsxs("div",{style:Nt.rangeRow,children:[y.jsxs("span",{children:[": ",m,"px"]}),y.jsx("input",{type:"range",min:"40",max:"600",value:m,onChange:at=>g(+at.target.value)})]}),y.jsxs("div",{style:Nt.rangeGrid,children:[y.jsxs("div",{children:[y.jsx("span",{children:"(Y)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:v.y,onChange:at=>b({...v,y:+at.target.value})})]}),y.jsxs("div",{children:[y.jsx("span",{children:"(X)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:v.x,onChange:at=>b({...v,x:+at.target.value})})]})]})]})]}),y.jsxs("div",{style:{...Nt.sectionBox,borderColor:"#FFD700"},children:[y.jsx("label",{style:{...Nt.sectionLabel,color:"#FFD700"},children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (Inner Logo)"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:at=>ie(at,"innerLogo",j)}),S&&y.jsx("img",{src:S,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (X  )"}),y.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Nt.fileInput,onChange:async at=>{const Ct=Array.from(at.target.files);Y(!0);const se=(await Promise.all(Ct.map(be=>tT(be)))).filter(be=>be).map(be=>({id:Date.now()+Math.random(),url:be})),fe=[...Q,...se];k(fe),await V({slideImages:fe}),Y(!1),at.target.value=""}}),y.jsx("div",{style:Nt.bannerList,children:Q.map(at=>y.jsxs("div",{style:Nt.bannerThumb,children:[y.jsx("img",{src:at.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:async()=>{const Ct=Q.filter(wt=>wt.id!==at.id);k(Ct),await V({slideImages:Ct})},style:Nt.bannerDelBtn,children:""})]},at.id))})]})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"   "}),y.jsxs("button",{onClick:()=>Gt(!0),style:Nt.modalOpenBtn,children:["   (",P.length,")"]}),y.jsxs("button",{onClick:()=>Bn(!0),style:{...Nt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",U.length,")"]}),y.jsx("button",{onClick:()=>M&&M(),style:{...Nt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"@TelegramID",value:C||"",onChange:at=>A(at.target.value)})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"  ",value:Z||"",onChange:at=>tt(at.target.value)})]}),y.jsx("button",{onClick:_e,style:{...Nt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),y.jsx("button",{style:{...Nt.saveExitBtn,background:D?"#ffb347":"#fff",cursor:D?"wait":"pointer"},onClick:async()=>{if(D)return;Y(!0);const at=setTimeout(()=>{N()},5e3);try{R&&await R(),clearTimeout(at),N()}catch{N()}finally{Y(!1)}},children:D?"   ...":"    "})]}),Dt&&y.jsx("div",{style:oe.overlay,children:y.jsxs("div",{id:"manager-modal-scroll",style:oe.container,children:[y.jsxs("div",{style:oe.header,children:[y.jsx("h2",{style:{color:"#ffb347"},children:pt?"  ":"  "}),y.jsx("button",{onClick:()=>{Gt(!1),et(null),ot(G)},style:oe.closeBtn,children:""})]}),y.jsxs("div",{style:oe.formBox,children:[y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[y.jsx("select",{value:F.region,onChange:at=>ni(at.target.value),style:oe.select,children:bt.map(at=>y.jsx("option",{value:at,children:at},at))}),y.jsx("select",{value:F.loc,onChange:at=>ot({...F,loc:at.target.value}),style:oe.select,children:I[F.region].map(at=>y.jsx("option",{value:at,children:at},at))})]}),y.jsxs("div",{style:{display:"flex",gap:10},children:[y.jsx("input",{style:{...oe.input,flex:2},placeholder:" ",value:F.name,onChange:at=>ot({...F,name:at.target.value})}),y.jsx("input",{style:{...oe.input,flex:1},placeholder:"",value:F.age,onChange:at=>ot({...F,age:at.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[y.jsx("input",{style:oe.input,placeholder:" (cm)",value:F.height,onChange:at=>ot({...F,height:at.target.value})}),y.jsx("input",{style:oe.input,placeholder:" (kg)",value:F.weight,onChange:at=>ot({...F,weight:at.target.value})}),y.jsx("input",{style:oe.input,placeholder:" ()",value:F.bust,onChange:at=>ot({...F,bust:at.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"image/*",onChange:at=>ie(at,"image",Ct=>ot({...F,img:Ct}))}),F.img&&y.jsx("img",{src:F.img,style:oe.previewImg,alt:"p"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"video/*",onChange:at=>ie(at,"video",Ct=>ot({...F,video:Ct}))}),F.video&&y.jsx("video",{src:F.video,style:oe.previewImg,controls:!0})]})]}),y.jsx("button",{onClick:Si,style:oe.actionBtn,children:pt?" ":" "})]}),y.jsx("div",{style:oe.list,children:P.map(at=>y.jsxs("div",{style:oe.listItem,children:[y.jsxs("span",{children:["[",at.loc,"] ",at.name," (",at.age?at.age+"":"",")"]}),y.jsxs("div",{children:[y.jsx("button",{onClick:()=>Ti(at),style:oe.editBtn,children:""}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const Ct=P.filter(wt=>wt.id!==at.id);q(Ct),await V({members:Ct})}},style:oe.delBtn,children:""})]})]},at.id))})]})}),Jt&&y.jsx("div",{style:oe.overlay,children:y.jsxs("div",{id:"video-modal-scroll",style:{...oe.container,border:"2px solid #2196F3"},children:[y.jsxs("div",{style:oe.header,children:[y.jsx("h2",{style:{color:"#2196F3"},children:zn?"  ":"  "}),y.jsx("button",{onClick:()=>{Bn(!1),Un(null),gt(""),_n("")},style:oe.closeBtn,children:""})]}),y.jsxs("div",{style:oe.formBox,children:[y.jsx("select",{value:st,onChange:at=>dt(at.target.value),style:oe.select,children:Et.map(at=>y.jsx("option",{value:at,children:at},at))}),y.jsx("input",{style:{...oe.input,marginTop:10},placeholder:" ",value:mt,onChange:at=>gt(at.target.value)}),y.jsx("input",{type:"file",accept:"video/*",onChange:at=>ie(at,"video",Ct=>_n(Ct))}),vn&&y.jsx("video",{src:vn,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),y.jsx("button",{onClick:ys,style:{...oe.actionBtn,background:"#2196F3"},children:" "})]}),y.jsx("div",{style:oe.list,children:U.map(at=>y.jsxs("div",{style:oe.listItem,children:[y.jsx("video",{src:at.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),y.jsx("div",{style:{flex:1,marginLeft:10},children:y.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:at.description})}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const Ct=U.filter(wt=>wt.id!==at.id);X(Ct),await V({videos:Ct})}},style:oe.delBtn,children:""})]},at.id))})]})})]})}const Nt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},oe={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"15px",marginTop:"20px"},adminItemCard:{padding:"20px 5px",borderRadius:"12px",textAlign:"center",cursor:"pointer",transition:"0.2s"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:10,borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center"}},Do={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},xm=new BroadcastChannel("daisy_global_channel"),nN=(n,t)=>{const[i,r]=z.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[o,u]=z.useState(0),[c,d]=z.useState({}),[m,g]=z.useState([]),[v,b]=z.useState([]),[S,j]=z.useState([]),[N,P]=z.useState([]),[q,Q]=z.useState([]),[k,U]=z.useState([]),[X,Z]=z.useState(""),[tt,C]=z.useState(""),A=z.useMemo(()=>{const F=Date.now();return n.filter(ot=>ot.lastActive&&F-ot.lastActive<6e4)},[n]);return z.useEffect(()=>{const F=Ps(Zn(ne,"event_manipulation"),dt=>{const mt={};dt.forEach(gt=>mt[gt.id]=gt.data().items),d(mt)}),ot=Ps(Ca(Zn(ne,"event_bets"),Rh("round","desc"),Cb(100)),dt=>{const mt=[];dt.forEach(gt=>mt.push({id:gt.id,...gt.data()})),mt.length>0&&b(mt)}),pt=Ps(Ca(Zn(ne,"deposit_requests"),Rh("timestamp","desc")),dt=>{const mt=[];dt.forEach(gt=>mt.push({id:gt.id,...gt.data()})),j(mt)}),et=Ps(Ca(Zn(ne,"withdraw_requests"),Rh("timestamp","desc")),dt=>{const mt=[];dt.forEach(gt=>mt.push({id:gt.id,...gt.data()})),P(mt)}),D=Ps(Ca(Zn(ne,"finance_history"),Rh("completedAt","desc"),Cb(50)),dt=>{const mt=[];dt.forEach(gt=>mt.push({id:gt.id,...gt.data()})),Q(mt)});U(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const Y=JSON.parse(localStorage.getItem("event_total_history")||"[]");g(Y.sort((dt,mt)=>mt.round-dt.round));const st=setInterval(()=>{const mt=Date.now()-Do.START_TIME,gt=Do.BASE_ROUND+Math.floor(mt/(Do.ROUND_DURATION*1e3)),Dt=Do.ROUND_DURATION*1e3-mt%(Do.ROUND_DURATION*1e3);let Gt=Math.floor(Dt/1e3);Gt>=Do.ROUND_DURATION&&(Gt=0),r({currentRound:gt,timeLeft:Gt,isDrawing:Gt<=5}),u(Jt=>Jt===0?gt+1:Jt)},1e3);return()=>{F(),ot(),pt(),et(),D(),clearInterval(st)}},[]),{currentInfo:i,targetRound:o,setTargetRound:u,queue:c,deleteQueue:async F=>{try{await tm(Ke(ne,"event_manipulation",String(F)));const ot={...c};delete ot[F],d(ot)}catch{alert(" ")}},gameHistory:m,sponsorships:v,activeUsers:A,depositRequests:S,withdrawRequests:N,financeHistory:q,approveDeposit:async F=>{if(window.confirm(`${F.userId} ${F.amount.toLocaleString()} DIA  ?`))try{const ot=Ke(ne,"users",F.userId),pt=await Ra(ot);let et=F.amount;pt.exists()&&(et+=pt.data().diamond||0,await Ar(ot,{diamond:et}));const D=n.map(Y=>Y.id===F.userId?{...Y,diamond:et}:Y);t(D),await No(Ke(ne,"settings","global"),{users:D},{merge:!0}),await ju(Zn(ne,"finance_history"),{...F,type:"",status:"",completedAt:new Date().toISOString()}),await tm(Ke(ne,"deposit_requests",F.id)),xm.postMessage({type:"USER_UPDATE",userId:F.userId,point:et}),alert("  !")}catch(ot){alert(": "+ot.message)}},approveWithdraw:async F=>{if(window.confirm(`${F.userId}   ?`))try{const ot=Ke(ne,"users",F.userId),pt=await Ra(ot);let et=0;if(pt.exists()&&(et=pt.data().diamond||0),et<F.amount&&!window.confirm(":  .  ? ( )"))return;const D=et-F.amount;await Ar(ot,{diamond:D});const Y=n.map(st=>st.id===F.userId?{...st,diamond:D}:st);t(Y),await No(Ke(ne,"settings","global"),{users:Y},{merge:!0}),await ju(Zn(ne,"finance_history"),{...F,type:"",status:"",completedAt:new Date().toISOString()}),await tm(Ke(ne,"withdraw_requests",F.id)),xm.postMessage({type:"USER_UPDATE",userId:F.userId,point:D}),alert("  !")}catch(ot){alert(": "+ot.message)}},agents:k,newAgentName:X,setNewAgentName:Z,newAgentCode:tt,setNewAgentCode:C,addAgent:()=>{if(!X)return;const F=[...k,{name:X,code:tt,id:Date.now()}];U(F),localStorage.setItem("daisy_agents",JSON.stringify(F)),Z(""),C("")},handleApplyManipulation:async F=>{if(F.length!==2)return alert(" 2  ");try{return await No(Ke(ne,"event_manipulation",String(o)),{items:F,updatedAt:new Date().toISOString()}),d({...c,[o]:F}),alert(`[${o}]  `),!0}catch{return alert(""),!1}},updateFullUserInfo:async(F,ot,pt,et)=>{const D=parseInt(ot);if(isNaN(D))return alert(" .");try{const Y=n.map(st=>st.id===F?{...st,diamond:D,refCode:pt,referral:et}:st);t(Y),localStorage.setItem("users",JSON.stringify(Y)),await No(Ke(ne,"settings","global"),{users:Y},{merge:!0});try{await Ar(Ke(ne,"users",F),{diamond:D,refCode:pt,referral:et})}catch{}xm.postMessage({type:"USER_UPDATE",userId:F,point:D}),alert(`[${F}]   `)}catch(Y){alert(" : "+Y.message)}},handleChangeUserPassword:async F=>{const ot=window.prompt(`[${F}]   :`);if(ot)try{const pt=n.map(et=>et.id===F?{...et,password:ot}:et);t(pt),localStorage.setItem("users",JSON.stringify(pt)),await No(Ke(ne,"settings","global"),{users:pt},{merge:!0});try{await Ar(Ke(ne,"users",F),{password:ot})}catch{}alert("  ")}catch{alert(" ")}},handleChangeAdminPassword:()=>{const F=window.prompt("   :");F&&(localStorage.setItem("daisy_admin_password",F),alert("   "))}}},iN=({depositRequests:n,withdrawRequests:t,approveDeposit:i,approveWithdraw:r})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),y.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>i(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),y.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),sN=({financeHistory:n})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),y.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),y.jsx("td",{children:y.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),y.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),y.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),rN=({currentInfo:n,targetRound:t,setTargetRound:i,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,d]=z.useState([]);return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"   "}),y.jsxs("div",{style:xt.monitorBox,children:[y.jsxs("div",{children:[": ",y.jsxs("b",{children:[n.currentRound,""]})]}),y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]})]}),y.jsxs("div",{style:{marginTop:30},children:[y.jsx("input",{type:"number",placeholder:"",value:t,onChange:m=>i(parseInt(m.target.value)),style:xt.adminInput}),y.jsx("div",{style:xt.adminItemGrid,children:ks.map(m=>y.jsxs("div",{onClick:()=>{const g=c.includes(m.name);d(g?c.filter(v=>v!==m.name):[...c,m.name].slice(0,2))},style:{...xt.adminItemCard,border:c.includes(m.name)?`3px solid ${m.color}`:"3px solid #333",background:c.includes(m.name)?`${m.color}33`:"#1a1a1a"},children:[y.jsx("span",{style:{fontSize:28},children:m.icon}),y.jsx("br",{}),y.jsx("b",{children:m.name})]},m.name))}),y.jsx("button",{onClick:()=>{u(c).then(m=>m&&d([]))},style:xt.applyBtn,children:"  "})]}),y.jsx("div",{style:{marginTop:20},children:Object.entries(r).map(([m,g])=>y.jsxs("div",{style:xt.queueRow,children:[y.jsxs("b",{children:[m,""]}),": ",g.join(", ")," ",y.jsx("button",{onClick:()=>o(m),style:xt.delBtn,children:"X"})]},m))})]})},aN=({users:n,updateFullUserInfo:t,handleChangeUserPassword:i})=>{const[r,o]=z.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("span",{style:{fontSize:24},children:""}),y.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:u.map(c=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?y.jsx("span",{style:{color:"#0f0"},children:""}):y.jsx("span",{style:{color:"#444"},children:""})}),y.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),y.jsxs("td",{style:{color:"#ffb347"},children:[" ",c.diamond?.toLocaleString()]}),y.jsx("td",{children:y.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),y.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[y.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),y.jsx("button",{onClick:()=>i(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},oN=({agents:n,users:t,newAgentName:i,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:d})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("input",{placeholder:"",value:i,onChange:m=>r(m.target.value),style:xt.giantInput}),y.jsx("input",{placeholder:"",value:o,onChange:m=>u(m.target.value),style:xt.giantInput}),y.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(m=>{const g=t.filter(v=>v.referral===m.code);return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347",fontSize:18},children:m.name}),y.jsx("td",{children:m.code}),y.jsx("td",{style:{color:"#00ff00"},children:g.length}),y.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:g.map(v=>v.id).join(", ")}),y.jsx("td",{children:y.jsx("button",{onClick:()=>{const v=n.filter(b=>b.id!==m.id);d(v),localStorage.setItem("daisy_agents",JSON.stringify(v))},style:xt.delBtn,children:""})})]},m.id)})})]})]}),lN=({users:n,updateFullUserInfo:t})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:" "}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(i=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:i.id}),y.jsx("td",{children:y.jsx("input",{id:`rc-${i.id}`,defaultValue:i.refCode||"",style:xt.giantInput})}),y.jsx("td",{children:y.jsx("input",{id:`rf-${i.id}`,defaultValue:i.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>t(i.id,i.diamond,document.getElementById(`rc-${i.id}`).value,document.getElementById(`rf-${i.id}`).value),style:xt.giantBtn,children:""})})]},i.id))})]})]}),uN=({gameHistory:n})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:"  "}),y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),y.jsx("td",{children:t.winItems?.join(" / ")})]},t.round))})]})]}),cN=({sponsorships:n})=>y.jsxs("div",{style:xt.card,children:[y.jsx("h1",{style:xt.bigTabTitle,children:" () "}),y.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:y.jsxs("table",{style:xt.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map((t,i)=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347"},children:t.round}),y.jsx("td",{children:y.jsx("b",{children:t.userId})}),y.jsx("td",{style:{color:"#0f0"},children:t.betAmount?.toLocaleString()}),y.jsx("td",{children:t.win===!0?"":t.win===!1?"":""})]},i))})]})})]});function hN({users:n,setUsers:t,onExit:i}){const[r,o]=z.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:d,queue:m,deleteQueue:g,gameHistory:v,sponsorships:b,activeUsers:S,depositRequests:j,withdrawRequests:N,financeHistory:P,approveDeposit:q,approveWithdraw:Q,agents:k,setAgents:U,newAgentName:X,setNewAgentName:Z,newAgentCode:tt,setNewAgentCode:C,addAgent:A,handleApplyManipulation:R,updateFullUserInfo:V,handleChangeUserPassword:M,handleChangeAdminPassword:L}=nN(n,t);return y.jsxs("div",{style:xt.container,children:[y.jsxs("aside",{style:xt.sidebar,children:[y.jsx("h2",{style:xt.title,children:"MASTER PANEL"}),y.jsxs("div",{style:xt.onlineBadge,children:[y.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),y.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",S.length,""]})]}),y.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",y.jsx("span",{style:xt.countTag,children:j.length+N.length})]}),y.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),y.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),y.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:y.jsx("button",{onClick:L,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),y.jsx("button",{onClick:i,style:xt.exitBtn,children:" "})]}),y.jsxs("main",{style:xt.main,children:[r==="requests"&&y.jsx(iN,{depositRequests:j,withdrawRequests:N,approveDeposit:q,approveWithdraw:Q}),r==="finance"&&y.jsx(sN,{financeHistory:P}),r==="event"&&y.jsx(rN,{currentInfo:u,targetRound:c,setTargetRound:d,queue:m,deleteQueue:g,handleApplyManipulation:R}),r==="users"&&y.jsx(aN,{users:n,updateFullUserInfo:V,handleChangeUserPassword:M}),r==="referrals"&&y.jsx(lN,{users:n,updateFullUserInfo:V}),r==="agents"&&y.jsx(oN,{agents:k,setAgents:U,users:n,newAgentName:X,setNewAgentName:Z,newAgentCode:tt,setNewAgentCode:C,addAgent:A}),r==="history"&&y.jsx(uN,{gameHistory:v}),r==="sponsorships"&&y.jsx(cN,{sponsorships:b})]})]})}const fN=new BroadcastChannel("daisy_global_channel"),eT=[""," "," ","","","","","","",""],nT=["","","","",""],rn=(n,t)=>{try{const i=localStorage.getItem(n);if(!i)return t;const r=JSON.parse(i);return r===null?t:r}catch{return t}},an=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(i){i.name==="QuotaExceededError"&&alert("  !  .")}},iT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:""},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE"}};function dN(){const[n,t]=z.useState(()=>rn("lang","ko")),[i,r]=z.useState(()=>rn("loggedIn",!1)),[o,u]=z.useState(()=>rn("isAdmin",!1)),[c,d]=z.useState(()=>rn("isGuest",!1)),[m,g]=z.useState(()=>rn("users",[])),[v,b]=z.useState(()=>rn("currentUser",null)),[S,j]=z.useState(null),[N,P]=z.useState(0),[q,Q]=z.useState(!1),[k,U]=z.useState(()=>rn("adminPw","123456")),[X,Z]=z.useState(()=>rn("gamePw","1234")),[tt,C]=z.useState(()=>rn("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[A,R]=z.useState(!0),[V,M]=z.useState(!1),[L,I]=z.useState(()=>rn("members",[])),[bt,Et]=z.useState(()=>rn("slideImages",[])),[G,F]=z.useState(()=>rn("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[ot,pt]=z.useState(()=>rn("videoURL",null)),[et,D]=z.useState(()=>rn("videos",[])),[Y,st]=z.useState(()=>rn("logo",null)),[dt,mt]=z.useState(()=>rn("logoSize",140)),[gt,Dt]=z.useState(()=>rn("logoPos",{x:0,y:0})),[Gt,Jt]=z.useState(()=>rn("innerLogo",null)),[Bn,zn]=z.useState("dashboard"),Un=z.useMemo(()=>iT[n]||iT.ko,[n]);z.useEffect(()=>{const at=Ps(Ke(ne,"settings","global"),Ct=>{if(Ct.exists()){const wt=Ct.data();wt.hero&&F(wt.hero),wt.videoURL!==void 0&&pt(wt.videoURL),wt.logo!==void 0&&st(wt.logo),wt.logoSize&&mt(wt.logoSize),wt.logoPos&&Dt(wt.logoPos),wt.members&&I(wt.members),wt.slideImages&&Et(wt.slideImages),wt.videos&&D(wt.videos),wt.innerLogo!==void 0&&Jt(wt.innerLogo),wt.adminPw&&U(wt.adminPw),wt.gamePw&&Z(wt.gamePw),wt.telegramLink&&C(wt.telegramLink),wt.users&&g(wt.users)}});return()=>at()},[]);const vn=async at=>{try{const Ct={hero:G,videoURL:ot,logo:Y,logoSize:dt,logoPos:gt,members:L,slideImages:bt,videos:et,innerLogo:Gt,adminPw:k,gamePw:X,telegramLink:tt,users:m,...at};return await No(Ke(ne,"settings","global"),Ct),console.log("    "),!0}catch(Ct){return console.error("  :",Ct),!1}},_n=async()=>await vn({}),ni=z.useCallback((at,Ct,wt,se)=>{g(fe=>fe.map(be=>be.id===at?{...be,diamond:Ct,refCode:wt,referral:se}:be)),b(fe=>fe?.id===at?{...fe,diamond:Ct,refCode:wt,referral:se}:fe)},[]);z.useEffect(()=>{fN.onmessage=Ct=>{const{type:wt,userId:se,point:fe,refCode:be,referral:Yr}=Ct.data||{};(wt==="USER_UPDATE"||wt==="POINT_UPDATE")&&se&&ni(se,fe,be,Yr)};const at=Ct=>{const{userId:wt,point:se,refCode:fe,referral:be}=Ct.detail||{};wt&&ni(wt,se,fe,be)};return window.addEventListener("user_point_update",at),()=>window.removeEventListener("user_point_update",at)},[ni]),z.useEffect(()=>{an("lang",n),an("loggedIn",i),an("isAdmin",o),an("isGuest",c),an("users",m),an("currentUser",v),an("members",L),an("hero",G),an("logo",Y),an("logoSize",dt),an("logoPos",gt),an("slideImages",bt),an("videoURL",ot),an("videos",et),an("innerLogo",Gt),an("adminPw",k),an("gamePw",X),an("telegramLink",tt)},[n,i,o,c,m,v,G,Y,dt,gt,L,bt,ot,et,Gt,k,X,tt]);const Ti=(at,Ct)=>{if(at==="game"&&Ct===X){Q(!0),r(!0);return}if(at==="admin"&&(Ct==="123456"||Ct===k)){u(!0),r(!0),b({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),zn("dashboard");return}const wt=m.find(se=>se.id===at&&se.pw===Ct);if(!wt)return alert(n==="ko"?"  .":"Login Failed");b({...wt}),r(!0),d(!1)},Si=()=>{r(!1),u(!1),d(!1),Q(!1),b(null)},ys=(at,Ct)=>{j(at),P(Ct)};if(q)return y.jsx(hN,{users:m,setUsers:g,onExit:Si});const ie=i&&v,_e=!ie||o&&Bn==="landing";return y.jsxs("div",{style:{...Sa.app,height:"100vh",overflow:"hidden"},children:[A&&!o&&ie&&!_e&&y.jsx("div",{style:Sa.popupOverlay,children:y.jsxs("div",{style:Sa.popupContent,children:[y.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),y.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),y.jsx("button",{onClick:()=>R(!1),style:Sa.popupBtn,children:Un.close})]})}),_e?y.jsx("div",{style:{height:"100%",overflowY:"auto"},children:y.jsx(eM,{t:Un,lang:n,users:m,setUsers:g,hero:G,videoURL:ot,logo:Y,logoSize:dt,logoPos:gt,styles:Sa,isAdmin:o,setLang:t,onLogin:Ti,onGuestLogin:()=>{b({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),d(!0)},syncToFirebase:vn})}):y.jsx(ZO,{user:v,onUpdatePoint:at=>ni(v.id,at,v.refCode,v.referral),appAvatarImage:S,appAvatarIdx:N,onAvatarChange:ys,t:Un,lang:n,isGuest:c,members:L,regions:eT,slideImages:bt,videos:et,videoCategories:nT,innerLogo:Gt,telegramLink:tt,onLogout:Si,dashStyles:pN}),o&&y.jsx(eN,{adminPreviewMode:Bn,setAdminPreviewMode:zn,hero:G,setHero:F,setVideoURL:pt,videoURL:ot,logo:Y,setLogo:st,logoSize:dt,setLogoSize:mt,logoPos:gt,setLogoPos:Dt,members:L,setMembers:I,regions:eT,slideImages:bt,setSlideImages:Et,videos:et,setVideos:D,videoCategories:nT,innerLogo:Gt,setInnerLogo:Jt,onExit:Si,styles:Sa,adminPw:k,setAdminPw:U,telegramLink:tt,setTelegramLink:C,openIndependent:()=>Q(!0),saveToFirebase:_n,syncToFirebase:vn}),!o&&_e&&y.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:y.jsx("button",{style:Sa.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Sa={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},pN={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};P2.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(dN,{})}));

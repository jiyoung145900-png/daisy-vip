(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yp={exports:{}},lu={};var gb;function B2(){if(gb)return lu;gb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var yb;function z2(){return yb||(yb=1,Yp.exports=B2()),Yp.exports}var y=z2(),Qp={exports:{}},zt={};var vb;function U2(){if(vb)return zt;vb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),_=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function j(O,q,rt){this.props=O,this.context=q,this.refs=M,this.updater=rt||E}j.prototype.isReactComponent={},j.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=j.prototype;function B(O,q,rt){this.props=O,this.context=q,this.refs=M,this.updater=rt||E}var G=B.prototype=new N;G.constructor=B,R(G,j.prototype),G.isPureReactComponent=!0;var tt=Array.isArray;function et(){}var V={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(O,q,rt){var pt=rt.ref;return{$$typeof:n,type:O,key:q,ref:pt!==void 0?pt:null,props:rt}}function P(O,q){return I(O.type,q,O.props)}function L(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function U(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return q[rt]})}var k=/\/+/g;function Ct(O,q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):q.toString(36)}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(et,et):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,q,rt,pt,vt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Tt=!1;if(O===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(O.$$typeof){case n:case t:Tt=!0;break;case b:return Tt=O._init,Q(Tt(O._payload),q,rt,pt,vt)}}if(Tt)return vt=vt(O),Tt=pt===""?"."+Ct(O,0):pt,tt(vt)?(rt="",Tt!=null&&(rt=Tt.replace(k,"$&/")+"/"),Q(vt,q,rt,"",function(ne){return ne})):vt!=null&&(L(vt)&&(vt=P(vt,rt+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(k,"$&/")+"/")+Tt)),q.push(vt)),1;Tt=0;var At=pt===""?".":pt+":";if(tt(O))for(var wt=0;wt<O.length;wt++)pt=O[wt],St=At+Ct(pt,wt),Tt+=Q(pt,q,rt,St,vt);else if(wt=T(O),typeof wt=="function")for(O=wt.call(O),wt=0;!(pt=O.next()).done;)pt=pt.value,St=At+Ct(pt,wt++),Tt+=Q(pt,q,rt,St,vt);else if(St==="object"){if(typeof O.then=="function")return Q(Ft(O),q,rt,pt,vt);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(O,q,rt){if(O==null)return O;var pt=[],vt=0;return Q(O,pt,"","",function(St){return q.call(rt,St,vt++)}),pt}function X(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var W=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ot={map:st,forEach:function(O,q,rt){st(O,function(){q.apply(this,arguments)},rt)},count:function(O){var q=0;return st(O,function(){q++}),q},toArray:function(O){return st(O,function(q){return q})||[]},only:function(O){if(!L(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return zt.Activity=f,zt.Children=ot,zt.Component=j,zt.Fragment=e,zt.Profiler=o,zt.PureComponent=B,zt.StrictMode=r,zt.Suspense=m,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,zt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return V.H.useMemoCache(O)}},zt.cache=function(O){return function(){return O.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(O,q,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var pt=R({},O.props),vt=O.key;if(q!=null)for(St in q.key!==void 0&&(vt=""+q.key),q)!C.call(q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&q.ref===void 0||(pt[St]=q[St]);var St=arguments.length-2;if(St===1)pt.children=rt;else if(1<St){for(var Tt=Array(St),At=0;At<St;At++)Tt[At]=arguments[At+2];pt.children=Tt}return I(O.type,vt,pt)},zt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},zt.createElement=function(O,q,rt){var pt,vt={},St=null;if(q!=null)for(pt in q.key!==void 0&&(St=""+q.key),q)C.call(q,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(vt[pt]=q[pt]);var Tt=arguments.length-2;if(Tt===1)vt.children=rt;else if(1<Tt){for(var At=Array(Tt),wt=0;wt<Tt;wt++)At[wt]=arguments[wt+2];vt.children=At}if(O&&O.defaultProps)for(pt in Tt=O.defaultProps,Tt)vt[pt]===void 0&&(vt[pt]=Tt[pt]);return I(O,St,vt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(O){return{$$typeof:p,render:O}},zt.isValidElement=L,zt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:X}},zt.memo=function(O,q){return{$$typeof:v,type:O,compare:q===void 0?null:q}},zt.startTransition=function(O){var q=V.T,rt={};V.T=rt;try{var pt=O(),vt=V.S;vt!==null&&vt(rt,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(et,W)}catch(St){W(St)}finally{q!==null&&rt.types!==null&&(q.types=rt.types),V.T=q}},zt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},zt.use=function(O){return V.H.use(O)},zt.useActionState=function(O,q,rt){return V.H.useActionState(O,q,rt)},zt.useCallback=function(O,q){return V.H.useCallback(O,q)},zt.useContext=function(O){return V.H.useContext(O)},zt.useDebugValue=function(){},zt.useDeferredValue=function(O,q){return V.H.useDeferredValue(O,q)},zt.useEffect=function(O,q){return V.H.useEffect(O,q)},zt.useEffectEvent=function(O){return V.H.useEffectEvent(O)},zt.useId=function(){return V.H.useId()},zt.useImperativeHandle=function(O,q,rt){return V.H.useImperativeHandle(O,q,rt)},zt.useInsertionEffect=function(O,q){return V.H.useInsertionEffect(O,q)},zt.useLayoutEffect=function(O,q){return V.H.useLayoutEffect(O,q)},zt.useMemo=function(O,q){return V.H.useMemo(O,q)},zt.useOptimistic=function(O,q){return V.H.useOptimistic(O,q)},zt.useReducer=function(O,q,rt){return V.H.useReducer(O,q,rt)},zt.useRef=function(O){return V.H.useRef(O)},zt.useState=function(O){return V.H.useState(O)},zt.useSyncExternalStore=function(O,q,rt){return V.H.useSyncExternalStore(O,q,rt)},zt.useTransition=function(){return V.H.useTransition()},zt.version="19.2.3",zt}var _b;function bg(){return _b||(_b=1,Qp.exports=U2()),Qp.exports}var H=bg(),Kp={exports:{}},uu={},Xp={exports:{}},Wp={};var bb;function F2(){return bb||(bb=1,(function(n){function t(Q,st){var X=Q.length;Q.push(st);t:for(;0<X;){var W=X-1>>>1,ot=Q[W];if(0<o(ot,st))Q[W]=st,Q[X]=ot,X=W;else break t}}function e(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var st=Q[0],X=Q.pop();if(X!==st){Q[0]=X;t:for(var W=0,ot=Q.length,O=ot>>>1;W<O;){var q=2*(W+1)-1,rt=Q[q],pt=q+1,vt=Q[pt];if(0>o(rt,X))pt<ot&&0>o(vt,rt)?(Q[W]=vt,Q[pt]=X,W=pt):(Q[W]=rt,Q[q]=X,W=q);else if(pt<ot&&0>o(vt,X))Q[W]=vt,Q[pt]=X,W=pt;else break t}}return st}function o(Q,st){var X=Q.sortIndex-st.sortIndex;return X!==0?X:Q.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var m=[],v=[],b=1,f=null,_=3,T=!1,E=!1,R=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(Q){for(var st=e(v);st!==null;){if(st.callback===null)r(v);else if(st.startTime<=Q)r(v),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(v)}}function tt(Q){if(R=!1,G(Q),!E)if(e(m)!==null)E=!0,et||(et=!0,U());else{var st=e(v);st!==null&&Ft(tt,st.startTime-Q)}}var et=!1,V=-1,C=5,I=-1;function P(){return M?!0:!(n.unstable_now()-I<C)}function L(){if(M=!1,et){var Q=n.unstable_now();I=Q;var st=!0;try{t:{E=!1,R&&(R=!1,N(V),V=-1),T=!0;var X=_;try{e:{for(G(Q),f=e(m);f!==null&&!(f.expirationTime>Q&&P());){var W=f.callback;if(typeof W=="function"){f.callback=null,_=f.priorityLevel;var ot=W(f.expirationTime<=Q);if(Q=n.unstable_now(),typeof ot=="function"){f.callback=ot,G(Q),st=!0;break e}f===e(m)&&r(m),G(Q)}else r(m);f=e(m)}if(f!==null)st=!0;else{var O=e(v);O!==null&&Ft(tt,O.startTime-Q),st=!1}}break t}finally{f=null,_=X,T=!1}st=void 0}}finally{st?U():et=!1}}}var U;if(typeof B=="function")U=function(){B(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ct=k.port2;k.port1.onmessage=L,U=function(){Ct.postMessage(null)}}else U=function(){j(L,0)};function Ft(Q,st){V=j(function(){Q(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var st=3;break;default:st=_}var X=_;_=st;try{return Q()}finally{_=X}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var X=_;_=Q;try{return st()}finally{_=X}},n.unstable_scheduleCallback=function(Q,st,X){var W=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?W+X:W):X=W,Q){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=X+ot,Q={id:b++,callback:st,priorityLevel:Q,startTime:X,expirationTime:ot,sortIndex:-1},X>W?(Q.sortIndex=X,t(v,Q),e(m)===null&&Q===e(v)&&(R?(N(V),V=-1):R=!0,Ft(tt,X-W))):(Q.sortIndex=ot,t(m,Q),E||T||(E=!0,et||(et=!0,U()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var st=_;return function(){var X=_;_=st;try{return Q.apply(this,arguments)}finally{_=X}}}})(Wp)),Wp}var xb;function H2(){return xb||(xb=1,Xp.exports=F2()),Xp.exports}var $p={exports:{}},En={};var Tb;function q2(){if(Tb)return En;Tb=1;var n=bg();function t(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,v,b){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:m,containerInfo:v,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(m,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(m,v,null,b)},En.flushSync=function(m){var v=c.T,b=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=v,r.p=b,r.d.f()}},En.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(m,v))},En.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},En.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var b=v.as,f=p(b,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:f,integrity:_,fetchPriority:T}):b==="script"&&r.d.X(m,{crossOrigin:f,integrity:_,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);r.d.M(m,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(m)},En.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,f=p(b,v.crossOrigin);r.d.L(m,b,{crossOrigin:f,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(m,v){if(typeof m=="string")if(v){var b=p(v.as,v.crossOrigin);r.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(m)},En.requestFormReset=function(m){r.d.r(m)},En.unstable_batchedUpdates=function(m,v){return m(v)},En.useFormState=function(m,v,b){return c.H.useFormState(m,v,b)},En.useFormStatus=function(){return c.H.useHostTransitionStatus()},En.version="19.2.3",En}var Sb;function G2(){if(Sb)return $p.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$p.exports=q2(),$p.exports}var Ab;function Y2(){if(Ab)return uu;Ab=1;var n=H2(),t=bg(),e=G2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(r(188))}function v(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return m(h),i;if(g===l)return m(h),s;g=g.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=g;else{for(var S=!1,w=h.child;w;){if(w===a){S=!0,a=h,l=g;break}if(w===l){S=!0,l=h,a=g;break}w=w.sibling}if(!S){for(w=g.child;w;){if(w===a){S=!0,a=g,l=h;break}if(w===l){S=!0,l=g,a=h;break}w=w.sibling}if(!S)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function b(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=b(i),s!==null)return s;i=i.sibling}return null}var f=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Ct(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case tt:return"Suspense";case et:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case B:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:Ct(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return Ct(i(s))}catch{}}return null}var Ft=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},W=[],ot=-1;function O(i){return{current:i}}function q(i){0>ot||(i.current=W[ot],W[ot]=null,ot--)}function rt(i,s){ot++,W[ot]=i.current,i.current=s}var pt=O(null),vt=O(null),St=O(null),Tt=O(null);function At(i,s){switch(rt(St,s),rt(vt,i),rt(pt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?B_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=B_(s),i=z_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(pt),rt(pt,i)}function wt(){q(pt),q(vt),q(St)}function ne(i){i.memoizedState!==null&&rt(Tt,i);var s=pt.current,a=z_(s,i.type);s!==a&&(rt(vt,i),rt(pt,a))}function Ee(i){vt.current===i&&(q(pt),q(vt)),Tt.current===i&&(q(Tt),iu._currentValue=X)}var nn,Pe;function hn(i){if(nn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);nn=s&&s[1]||"",Pe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+i+Pe}var oi=!1;function An(i,s){if(!i||oi)return"";oi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(it){var J=it}Reflect.construct(i,[],dt)}else{try{dt.call()}catch(it){J=it}i.call(dt.prototype)}}else{try{throw Error()}catch(it){J=it}(dt=i())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(it){if(it&&J&&typeof it.stack=="string")return[it.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),S=g[0],w=g[1];if(S&&w){var z=S.split(`
`),Z=w.split(`
`);for(h=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===z.length||h===Z.length)for(l=z.length-1,h=Z.length-1;1<=l&&0<=h&&z[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(z[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||z[l]!==Z[h]){var lt=`
`+z[l].replace(" at new "," at ");return i.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",i.displayName)),lt}while(1<=l&&0<=h);break}}}finally{oi=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?hn(a):""}function je(i,s){switch(i.tag){case 26:case 27:case 5:return hn(i.type);case 16:return hn("Lazy");case 13:return i.child!==s&&s!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return An(i.type,!1);case 11:return An(i.type.render,!1);case 1:return An(i.type,!0);case 31:return hn("Activity");default:return""}}function li(i){try{var s="",a=null;do s+=je(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Yt=Object.prototype.hasOwnProperty,Nt=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,gt=n.unstable_shouldYield,ie=n.unstable_requestPaint,Bt=n.unstable_now,te=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,Gi=n.unstable_UserBlockingPriority,$s=n.unstable_NormalPriority,Xd=n.unstable_LowPriority,$u=n.unstable_IdlePriority,Zu=n.log,Ju=n.unstable_setDisableYieldValue,Ri=null,pn=null;function ui(i){if(typeof Zu=="function"&&Ju(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Ri,i)}catch{}}var Le=Math.clz32?Math.clz32:ec,tc=Math.log,Fa=Math.LN2;function ec(i){return i>>>=0,i===0?32:31-(tc(i)/Fa|0)|0}var Yi=256,Xr=262144,He=4194304;function Qi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ki(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var h=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var w=l&134217727;return w!==0?(l=w&~g,l!==0?h=Qi(l):(S&=w,S!==0?h=Qi(S):a||(a=w&~i,a!==0&&(h=Qi(a))))):(w=l&~g,w!==0?h=Qi(w):S!==0?h=Qi(S):a||(a=l&~i,a!==0&&(h=Qi(a)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:h}function Ii(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function Xi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Wr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $d(i,s,a,l,h,g){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,z=i.expirationTimes,Z=i.hiddenUpdates;for(a=S&~a;0<a;){var lt=31-Le(a),dt=1<<lt;w[lt]=0,z[lt]=-1;var J=Z[lt];if(J!==null)for(Z[lt]=null,lt=0;lt<J.length;lt++){var it=J[lt];it!==null&&(it.lane&=-536870913)}a&=~dt}l!==0&&$r(i,l,0),g!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~s))}function $r(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-Le(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function ll(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-Le(a),h=1<<l;h&s|i[l]&s&&(i[l]|=s),a&=~h}}function ul(i,s){var a=s&-s;return a=(a&42)!==0?1:Zr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Zr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ic(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:ub(i.type))}function Di(i,s){var a=st.p;try{return st.p=i,s()}finally{st.p=a}}var Vi=Math.random().toString(36).slice(2),qe="__reactFiber$"+Vi,on="__reactProps$"+Vi,Wi="__reactContainer$"+Vi,Ha="__reactEvents$"+Vi,Zd="__reactListeners$"+Vi,sc="__reactHandles$"+Vi,rc="__reactResources$"+Vi,$i="__reactMarker$"+Vi;function qa(i){delete i[qe],delete i[on],delete i[Ha],delete i[Zd],delete i[sc]}function Zi(i){var s=i[qe];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Wi]||a[qe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Q_(i);i!==null;){if(a=i[qe])return a;i=Q_(i)}return s}i=a,a=i.parentNode}return null}function ci(i){if(i=i[qe]||i[Wi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Qn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ji(i){var s=i[rc];return s||(s=i[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ge(i){i[$i]=!0}var cl=new Set,fl={};function ts(i,s){es(i,s),es(i+"Capture",s)}function es(i,s){for(fl[i]=s,i=0;i<s.length;i++)cl.add(s[i])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},pl={};function ac(i){return Yt.call(pl,i)?!0:Yt.call(hl,i)?!1:dl.test(i)?pl[i]=!0:(hl[i]=!0,!1)}function Ga(i,s,a){if(ac(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Kn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Ye(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ml(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){a=""+S,g.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function he(i){if(!i._valueTracker){var s=Zs(i)?"checked":"value";i._valueTracker=ml(i,s,""+i[s])}}function Jr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Zs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function ns(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ta=/[\n"\\]/g;function kn(i){return i.replace(ta,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ya(i,s,a,l,h,g,S,w){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?gl(i,S,ln(s)):a!=null?gl(i,S,ln(a)):l!=null&&i.removeAttribute("value"),h==null&&g!=null&&(i.defaultChecked=!!g),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+ln(w):i.removeAttribute("name")}function oc(i,s,a,l,h,g,S,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){he(i);return}a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,w||s===i.value||(i.value=s),i.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=w?i.checked:!!l,i.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),he(i)}function gl(i,s,a){s==="number"&&ns(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Js(i,s,a,l){if(i=i.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=s.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function lc(i,s,a){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ln(a):""}function tr(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ln(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),he(i)}function Pn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||uc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function vl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&yl(i,h,l)}else for(var g in s)s.hasOwnProperty(g)&&yl(i,g,s[g])}function Qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return er.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ji(){}var _l=null;function fi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nr=null,is=null;function ea(i){var s=ci(i);if(s&&(i=s.stateNode)){var a=i[on]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ya(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var h=l[on]||null;if(!h)throw Error(r(90));Ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Jr(l)}break t;case"textarea":lc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Js(i,!!a.multiple,s,!1)}}}var Xa=!1;function ir(i,s,a){if(Xa)return i(s,a);Xa=!0;try{var l=i(s);return l}finally{if(Xa=!1,(nr!==null||is!==null)&&(sf(),nr&&(s=nr,i=is,is=nr=null,ea(s),i)))for(s=0;s<i.length;s++)ea(i[s])}}function Mi(i,s){var a=i.stateNode;if(a===null)return null;var l=a[on]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(di)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){na=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{na=!1}var ss=null,bl=null,ia=null;function xl(){if(ia)return ia;var i,s=bl,a=s.length,l,h="value"in ss?ss.value:ss.textContent,g=h.length;for(i=0;i<a&&s[i]===h[i];i++);var S=a-i;for(l=1;l<=S&&s[a-l]===h[g-l];l++);return ia=h.slice(i,1<l?1-l:void 0)}function sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function As(){return!0}function Oi(){return!1}function mn(i){function s(a,l,h,g,S){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?As:Oi,this.isPropagationStopped=Oi,this}return f(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),s}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=mn(Es),sr=f({},Es,{view:0,detail:0}),Tl=mn(sr),rr,Wa,as,$a=f({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(rr=i.screenX-as.screenX,Wa=i.screenY-as.screenY):Wa=rr=0,as=i),rr)},movementY:function(i){return"movementY"in i?i.movementY:Wa}}),Sl=mn($a),ra=f({},$a,{dataTransfer:0}),fc=mn(ra),dc=f({},sr,{relatedTarget:0}),aa=mn(dc),Al=f({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=mn(Al),Za=f({},Es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pc=mn(Za),mc=f({},Es,{data:0}),os=mn(mc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=vc[i])?!!s[i]:!1}function ar(){return _c}var jn=f({},sr,{key:function(i){if(i.key){var s=gc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(i){return i.type==="keypress"?sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bc=mn(jn),xc=f({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=mn(xc),d=f({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),x=mn(d),A=f({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=mn(A),K=f({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=mn(K),mt=f({},Es,{newState:0,oldState:0}),Ht=mn(mt),Be=[9,13,27,32],le=di&&"CompositionEvent"in window,we=null;di&&"documentMode"in document&&(we=document.documentMode);var hi=di&&"TextEvent"in window&&!we,ls=di&&(!le||we&&8<we&&11>=we),Ni=" ",ki=!1;function oa(i,s){switch(i){case"keyup":return Be.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var to=!1;function uw(i,s){switch(i){case"compositionend":return Ja(s);case"keypress":return s.which!==32?null:(ki=!0,Ni);case"textInput":return i=s.data,i===Ni&&ki?null:i;default:return null}}function cw(i,s){if(to)return i==="compositionend"||!le&&oa(i,s)?(i=xl(),ia=bl=ss=null,to=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ls&&s.locale!=="ko"?null:s.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!fw[i.type]:s==="textarea"}function $y(i,s,a,l){nr?is?is.push(l):is=[l]:nr=l,s=ff(s,"onChange"),0<s.length&&(a=new rs("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var El=null,wl=null;function dw(i){M_(i,0)}function Tc(i){var s=Qn(i);if(Jr(s))return i}function Zy(i,s){if(i==="change")return s}var Jy=!1;if(di){var Jd;if(di){var th="oninput"in document;if(!th){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),th=typeof t0.oninput=="function"}Jd=th}else Jd=!1;Jy=Jd&&(!document.documentMode||9<document.documentMode)}function e0(){El&&(El.detachEvent("onpropertychange",n0),wl=El=null)}function n0(i){if(i.propertyName==="value"&&Tc(wl)){var s=[];$y(s,wl,i,fi(i)),ir(dw,s)}}function hw(i,s,a){i==="focusin"?(e0(),El=s,wl=a,El.attachEvent("onpropertychange",n0)):i==="focusout"&&e0()}function pw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tc(wl)}function mw(i,s){if(i==="click")return Tc(s)}function gw(i,s){if(i==="input"||i==="change")return Tc(s)}function yw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Xn=typeof Object.is=="function"?Object.is:yw;function Cl(i,s){if(Xn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Yt.call(s,h)||!Xn(i[h],s[h]))return!1}return!0}function i0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s0(i,s){var a=i0(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=i0(a)}}function r0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?r0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function a0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ns(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=ns(i.document)}return s}function eh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var vw=di&&"documentMode"in document&&11>=document.documentMode,eo=null,nh=null,Rl=null,ih=!1;function o0(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||eo==null||eo!==ns(l)||(l=eo,"selectionStart"in l&&eh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&Cl(Rl,l)||(Rl=l,l=ff(nh,"onSelect"),0<l.length&&(s=new rs("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=eo)))}function la(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var no={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},sh={},l0={};di&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function ua(i){if(sh[i])return sh[i];if(!no[i])return i;var s=no[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in l0)return sh[i]=s[a];return i}var u0=ua("animationend"),c0=ua("animationiteration"),f0=ua("animationstart"),_w=ua("transitionrun"),bw=ua("transitionstart"),xw=ua("transitioncancel"),d0=ua("transitionend"),h0=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function Pi(i,s){h0.set(i,s),ts(s,[i])}var Sc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},pi=[],io=0,ah=0;function Ac(){for(var i=io,s=ah=io=0;s<i;){var a=pi[s];pi[s++]=null;var l=pi[s];pi[s++]=null;var h=pi[s];pi[s++]=null;var g=pi[s];if(pi[s++]=null,l!==null&&h!==null){var S=l.pending;S===null?h.next=h:(h.next=S.next,S.next=h),l.pending=h}g!==0&&p0(a,h,g)}}function Ec(i,s,a,l){pi[io++]=i,pi[io++]=s,pi[io++]=a,pi[io++]=l,ah|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function oh(i,s,a,l){return Ec(i,s,a,l),wc(i)}function ca(i,s){return Ec(i,null,null,s),wc(i)}function p0(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,g=i.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(h=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,h&&s!==null&&(h=31-Le(a),i=g.hiddenUpdates,l=i[h],l===null?i[h]=[s]:l.push(s),s.lane=a|536870912),g):null}function wc(i){if(50<Wl)throw Wl=0,gp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var so={};function Tw(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,s,a,l){return new Tw(i,s,a,l)}function lh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,s){var a=i.alternate;return a===null?(a=Wn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function m0(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Cc(i,s,a,l,h,g){var S=0;if(l=i,typeof i=="function")lh(i)&&(S=1);else if(typeof i=="string")S=C2(i,a,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Wn(31,a,s,h),i.elementType=I,i.lanes=g,i;case R:return fa(a.children,h,g,s);case M:S=8,h|=24;break;case j:return i=Wn(12,a,s,h|2),i.elementType=j,i.lanes=g,i;case tt:return i=Wn(13,a,s,h),i.elementType=tt,i.lanes=g,i;case et:return i=Wn(19,a,s,h),i.elementType=et,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:S=10;break t;case N:S=9;break t;case G:S=11;break t;case V:S=14;break t;case C:S=16,l=null;break t}S=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Wn(S,a,s,h),s.elementType=i,s.type=l,s.lanes=g,s}function fa(i,s,a,l){return i=Wn(7,i,l,s),i.lanes=a,i}function uh(i,s,a){return i=Wn(6,i,null,s),i.lanes=a,i}function g0(i){var s=Wn(18,null,null,0);return s.stateNode=i,s}function ch(i,s,a){return s=Wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var y0=new WeakMap;function mi(i,s){if(typeof i=="object"&&i!==null){var a=y0.get(i);return a!==void 0?a:(s={value:i,source:s,stack:li(s)},y0.set(i,s),s)}return{value:i,source:s,stack:li(s)}}var ro=[],ao=0,Rc=null,Il=0,gi=[],yi=0,or=null,us=1,cs="";function Rs(i,s){ro[ao++]=Il,ro[ao++]=Rc,Rc=i,Il=s}function v0(i,s,a){gi[yi++]=us,gi[yi++]=cs,gi[yi++]=or,or=i;var l=us;i=cs;var h=32-Le(l)-1;l&=~(1<<h),a+=1;var g=32-Le(s)+h;if(30<g){var S=h-h%5;g=(l&(1<<S)-1).toString(32),l>>=S,h-=S,us=1<<32-Le(s)+h|a<<h|l,cs=g+i}else us=1<<g|a<<h|l,cs=i}function fh(i){i.return!==null&&(Rs(i,1),v0(i,1,0))}function dh(i){for(;i===Rc;)Rc=ro[--ao],ro[ao]=null,Il=ro[--ao],ro[ao]=null;for(;i===or;)or=gi[--yi],gi[yi]=null,cs=gi[--yi],gi[yi]=null,us=gi[--yi],gi[yi]=null}function _0(i,s){gi[yi++]=us,gi[yi++]=cs,gi[yi++]=or,us=s.id,cs=s.overflow,or=i}var gn=null,Te=null,ee=!1,lr=null,vi=!1,hh=Error(r(519));function ur(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(mi(s,i)),hh}function b0(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[qe]=i,s[on]=l,a){case"dialog":Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":case"embed":Xt("load",s);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Xt(Zl[a],s);break;case"source":Xt("error",s);break;case"img":case"image":case"link":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"input":Xt("invalid",s),oc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Xt("invalid",s);break;case"textarea":Xt("invalid",s),tr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||P_(s.textContent,a)?(l.popover!=null&&(Xt("beforetoggle",s),Xt("toggle",s)),l.onScroll!=null&&Xt("scroll",s),l.onScrollEnd!=null&&Xt("scrollend",s),l.onClick!=null&&(s.onclick=ji),s=!0):s=!1,s||ur(i,!0)}function x0(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:gn=gn.return}}function oo(i){if(i!==gn)return!1;if(!ee)return x0(i),ee=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Vp(i.type,i.memoizedProps)),a=!a),a&&Te&&ur(i),x0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Te=Y_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Te=Y_(i)}else s===27?(s=Te,Sr(i.type)?(i=kp,kp=null,Te=i):Te=s):Te=gn?bi(i.stateNode.nextSibling):null;return!0}function da(){Te=gn=null,ee=!1}function ph(){var i=lr;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),lr=null),i}function Dl(i){lr===null?lr=[i]:lr.push(i)}var mh=O(null),ha=null,Is=null;function cr(i,s,a){rt(mh,s._currentValue),s._currentValue=a}function Ds(i){i._currentValue=mh.current,q(mh)}function gh(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function yh(i,s,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){var S=h.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=h;for(var z=0;z<s.length;z++)if(w.context===s[z]){g.lanes|=a,w=g.alternate,w!==null&&(w.lanes|=a),gh(g.return,a,i),l||(S=null);break t}g=w.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(r(341));S.lanes|=a,g=S.alternate,g!==null&&(g.lanes|=a),gh(S,a,i),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===i){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function lo(i,s,a,l){i=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var w=h.type;Xn(h.pendingProps.value,S.value)||(i!==null?i.push(w):i=[w])}}else if(h===Tt.current){if(S=h.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(iu):i=[iu])}h=h.return}i!==null&&yh(s,i,a,l),s.flags|=262144}function Ic(i){for(i=i.firstContext;i!==null;){if(!Xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pa(i){ha=i,Is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return T0(ha,i)}function Dc(i,s){return ha===null&&pa(i),T0(i,s)}function T0(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Is===null){if(i===null)throw Error(r(308));Is=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Is=Is.next=s;return a}var Sw=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},Aw=n.unstable_scheduleCallback,Ew=n.unstable_NormalPriority,Qe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new Sw,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&Aw(Ew,function(){i.controller.abort()})}var jl=null,_h=0,uo=0,co=null;function ww(i,s){if(jl===null){var a=jl=[];_h=0,uo=Tp(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _h++,s.then(S0,S0),s}function S0(){if(--_h===0&&jl!==null){co!==null&&(co.status="fulfilled");var i=jl;jl=null,uo=0,co=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Cw(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var A0=Q.S;Q.S=function(i,s){o_=Bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ww(i,s),A0!==null&&A0(i,s)};var ma=O(null);function bh(){var i=ma.current;return i!==null?i:be.pooledCache}function Vc(i,s){s===null?rt(ma,ma.current):rt(ma,s.pool)}function E0(){var i=bh();return i===null?null:{parent:Qe._currentValue,pool:i}}var fo=Error(r(460)),xh=Error(r(474)),jc=Error(r(542)),Mc={then:function(){}};function w0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function C0(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ji,ji),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,I0(i),i;default:if(typeof s.status=="string")s.then(ji,ji);else{if(i=be,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,I0(i),i}throw ya=s,fo}}function ga(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,fo):a}}var ya=null;function R0(){if(ya===null)throw Error(r(459));var i=ya;return ya=null,i}function I0(i){if(i===fo||i===jc)throw Error(r(483))}var ho=null,Ml=0;function Oc(i){var s=Ml;return Ml+=1,ho===null&&(ho=[]),C0(ho,i,s)}function Ol(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Nc(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function D0(i){function s(Y,F){if(i){var $=Y.deletions;$===null?(Y.deletions=[F],Y.flags|=16):$.push(F)}}function a(Y,F){if(!i)return null;for(;F!==null;)s(Y,F),F=F.sibling;return null}function l(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function h(Y,F){return Y=Cs(Y,F),Y.index=0,Y.sibling=null,Y}function g(Y,F,$){return Y.index=$,i?($=Y.alternate,$!==null?($=$.index,$<F?(Y.flags|=67108866,F):$):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function S(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function w(Y,F,$,ut){return F===null||F.tag!==6?(F=uh($,Y.mode,ut),F.return=Y,F):(F=h(F,$),F.return=Y,F)}function z(Y,F,$,ut){var Rt=$.type;return Rt===R?lt(Y,F,$.props.children,ut,$.key):F!==null&&(F.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===C&&ga(Rt)===F.type)?(F=h(F,$.props),Ol(F,$),F.return=Y,F):(F=Cc($.type,$.key,$.props,null,Y.mode,ut),Ol(F,$),F.return=Y,F)}function Z(Y,F,$,ut){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=ch($,Y.mode,ut),F.return=Y,F):(F=h(F,$.children||[]),F.return=Y,F)}function lt(Y,F,$,ut,Rt){return F===null||F.tag!==7?(F=fa($,Y.mode,ut,Rt),F.return=Y,F):(F=h(F,$),F.return=Y,F)}function dt(Y,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=uh(""+F,Y.mode,$),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return $=Cc(F.type,F.key,F.props,null,Y.mode,$),Ol($,F),$.return=Y,$;case E:return F=ch(F,Y.mode,$),F.return=Y,F;case C:return F=ga(F),dt(Y,F,$)}if(Ft(F)||U(F))return F=fa(F,Y.mode,$,null),F.return=Y,F;if(typeof F.then=="function")return dt(Y,Oc(F),$);if(F.$$typeof===B)return dt(Y,Dc(Y,F),$);Nc(Y,F)}return null}function J(Y,F,$,ut){var Rt=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Rt!==null?null:w(Y,F,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===Rt?z(Y,F,$,ut):null;case E:return $.key===Rt?Z(Y,F,$,ut):null;case C:return $=ga($),J(Y,F,$,ut)}if(Ft($)||U($))return Rt!==null?null:lt(Y,F,$,ut,null);if(typeof $.then=="function")return J(Y,F,Oc($),ut);if($.$$typeof===B)return J(Y,F,Dc(Y,$),ut);Nc(Y,$)}return null}function it(Y,F,$,ut,Rt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Y=Y.get($)||null,w(F,Y,""+ut,Rt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case T:return Y=Y.get(ut.key===null?$:ut.key)||null,z(F,Y,ut,Rt);case E:return Y=Y.get(ut.key===null?$:ut.key)||null,Z(F,Y,ut,Rt);case C:return ut=ga(ut),it(Y,F,$,ut,Rt)}if(Ft(ut)||U(ut))return Y=Y.get($)||null,lt(F,Y,ut,Rt,null);if(typeof ut.then=="function")return it(Y,F,$,Oc(ut),Rt);if(ut.$$typeof===B)return it(Y,F,$,Dc(F,ut),Rt);Nc(F,ut)}return null}function xt(Y,F,$,ut){for(var Rt=null,ae=null,Et=F,Gt=F=0,$t=null;Et!==null&&Gt<$.length;Gt++){Et.index>Gt?($t=Et,Et=null):$t=Et.sibling;var oe=J(Y,Et,$[Gt],ut);if(oe===null){Et===null&&(Et=$t);break}i&&Et&&oe.alternate===null&&s(Y,Et),F=g(oe,F,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe,Et=$t}if(Gt===$.length)return a(Y,Et),ee&&Rs(Y,Gt),Rt;if(Et===null){for(;Gt<$.length;Gt++)Et=dt(Y,$[Gt],ut),Et!==null&&(F=g(Et,F,Gt),ae===null?Rt=Et:ae.sibling=Et,ae=Et);return ee&&Rs(Y,Gt),Rt}for(Et=l(Et);Gt<$.length;Gt++)$t=it(Et,Y,Gt,$[Gt],ut),$t!==null&&(i&&$t.alternate!==null&&Et.delete($t.key===null?Gt:$t.key),F=g($t,F,Gt),ae===null?Rt=$t:ae.sibling=$t,ae=$t);return i&&Et.forEach(function(Rr){return s(Y,Rr)}),ee&&Rs(Y,Gt),Rt}function Dt(Y,F,$,ut){if($==null)throw Error(r(151));for(var Rt=null,ae=null,Et=F,Gt=F=0,$t=null,oe=$.next();Et!==null&&!oe.done;Gt++,oe=$.next()){Et.index>Gt?($t=Et,Et=null):$t=Et.sibling;var Rr=J(Y,Et,oe.value,ut);if(Rr===null){Et===null&&(Et=$t);break}i&&Et&&Rr.alternate===null&&s(Y,Et),F=g(Rr,F,Gt),ae===null?Rt=Rr:ae.sibling=Rr,ae=Rr,Et=$t}if(oe.done)return a(Y,Et),ee&&Rs(Y,Gt),Rt;if(Et===null){for(;!oe.done;Gt++,oe=$.next())oe=dt(Y,oe.value,ut),oe!==null&&(F=g(oe,F,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe);return ee&&Rs(Y,Gt),Rt}for(Et=l(Et);!oe.done;Gt++,oe=$.next())oe=it(Et,Y,Gt,oe.value,ut),oe!==null&&(i&&oe.alternate!==null&&Et.delete(oe.key===null?Gt:oe.key),F=g(oe,F,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe);return i&&Et.forEach(function(L2){return s(Y,L2)}),ee&&Rs(Y,Gt),Rt}function _e(Y,F,$,ut){if(typeof $=="object"&&$!==null&&$.type===R&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:t:{for(var Rt=$.key;F!==null;){if(F.key===Rt){if(Rt=$.type,Rt===R){if(F.tag===7){a(Y,F.sibling),ut=h(F,$.props.children),ut.return=Y,Y=ut;break t}}else if(F.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===C&&ga(Rt)===F.type){a(Y,F.sibling),ut=h(F,$.props),Ol(ut,$),ut.return=Y,Y=ut;break t}a(Y,F);break}else s(Y,F);F=F.sibling}$.type===R?(ut=fa($.props.children,Y.mode,ut,$.key),ut.return=Y,Y=ut):(ut=Cc($.type,$.key,$.props,null,Y.mode,ut),Ol(ut,$),ut.return=Y,Y=ut)}return S(Y);case E:t:{for(Rt=$.key;F!==null;){if(F.key===Rt)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){a(Y,F.sibling),ut=h(F,$.children||[]),ut.return=Y,Y=ut;break t}else{a(Y,F);break}else s(Y,F);F=F.sibling}ut=ch($,Y.mode,ut),ut.return=Y,Y=ut}return S(Y);case C:return $=ga($),_e(Y,F,$,ut)}if(Ft($))return xt(Y,F,$,ut);if(U($)){if(Rt=U($),typeof Rt!="function")throw Error(r(150));return $=Rt.call($),Dt(Y,F,$,ut)}if(typeof $.then=="function")return _e(Y,F,Oc($),ut);if($.$$typeof===B)return _e(Y,F,Dc(Y,$),ut);Nc(Y,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(a(Y,F.sibling),ut=h(F,$),ut.return=Y,Y=ut):(a(Y,F),ut=uh($,Y.mode,ut),ut.return=Y,Y=ut),S(Y)):a(Y,F)}return function(Y,F,$,ut){try{Ml=0;var Rt=_e(Y,F,$,ut);return ho=null,Rt}catch(Et){if(Et===fo||Et===jc)throw Et;var ae=Wn(29,Et,null,Y.mode);return ae.lanes=ut,ae.return=Y,ae}}}var va=D0(!0),V0=D0(!1),fr=!1;function Th(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function dr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hr(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(ue&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=wc(i),p0(i,null,a),s}return Ec(i,l,s,a),wc(i)}function Nl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,ll(i,a)}}function Ah(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?h=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?h=g=s:g=g.next=s}else h=g=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Eh=!1;function kl(){if(Eh){var i=co;if(i!==null)throw i}}function Pl(i,s,a,l){Eh=!1;var h=i.updateQueue;fr=!1;var g=h.firstBaseUpdate,S=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var z=w,Z=z.next;z.next=null,S===null?g=Z:S.next=Z,S=z;var lt=i.alternate;lt!==null&&(lt=lt.updateQueue,w=lt.lastBaseUpdate,w!==S&&(w===null?lt.firstBaseUpdate=Z:w.next=Z,lt.lastBaseUpdate=z))}if(g!==null){var dt=h.baseState;S=0,lt=Z=z=null,w=g;do{var J=w.lane&-536870913,it=J!==w.lane;if(it?(Wt&J)===J:(l&J)===J){J!==0&&J===uo&&(Eh=!0),lt!==null&&(lt=lt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var xt=i,Dt=w;J=s;var _e=a;switch(Dt.tag){case 1:if(xt=Dt.payload,typeof xt=="function"){dt=xt.call(_e,dt,J);break t}dt=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Dt.payload,J=typeof xt=="function"?xt.call(_e,dt,J):xt,J==null)break t;dt=f({},dt,J);break t;case 2:fr=!0}}J=w.callback,J!==null&&(i.flags|=64,it&&(i.flags|=8192),it=h.callbacks,it===null?h.callbacks=[J]:it.push(J))}else it={lane:J,tag:w.tag,payload:w.payload,callback:w.callback,next:null},lt===null?(Z=lt=it,z=dt):lt=lt.next=it,S|=J;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;it=w,w=it.next,it.next=null,h.lastBaseUpdate=it,h.shared.pending=null}}while(!0);lt===null&&(z=dt),h.baseState=z,h.firstBaseUpdate=Z,h.lastBaseUpdate=lt,g===null&&(h.shared.lanes=0),vr|=S,i.lanes=S,i.memoizedState=dt}}function j0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function M0(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)j0(a[i],s)}var po=O(null),kc=O(0);function O0(i,s){i=Bs,rt(kc,i),rt(po,s),Bs=i|s.baseLanes}function wh(){rt(kc,Bs),rt(po,po.current)}function Ch(){Bs=kc.current,q(po),q(kc)}var $n=O(null),_i=null;function pr(i){var s=i.alternate;rt(ze,ze.current&1),rt($n,i),_i===null&&(s===null||po.current!==null||s.memoizedState!==null)&&(_i=i)}function Rh(i){rt(ze,ze.current),rt($n,i),_i===null&&(_i=i)}function N0(i){i.tag===22?(rt(ze,ze.current),rt($n,i),_i===null&&(_i=i)):mr()}function mr(){rt(ze,ze.current),rt($n,$n.current)}function Zn(i){q($n),_i===i&&(_i=null),q(ze)}var ze=O(0);function Pc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Op(a)||Np(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vs=0,qt=null,ye=null,Ke=null,Lc=!1,mo=!1,_a=!1,Bc=0,Ll=0,go=null,Rw=0;function Me(){throw Error(r(321))}function Ih(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Xn(i[a],s[a]))return!1;return!0}function Dh(i,s,a,l,h,g){return Vs=g,qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?vv:Gh,_a=!1,g=a(l,h),_a=!1,mo&&(g=P0(s,a,l,h)),k0(i),g}function k0(i){Q.H=Ul;var s=ye!==null&&ye.next!==null;if(Vs=0,Ke=ye=qt=null,Lc=!1,Ll=0,go=null,s)throw Error(r(300));i===null||Xe||(i=i.dependencies,i!==null&&Ic(i)&&(Xe=!0))}function P0(i,s,a,l){qt=i;var h=0;do{if(mo&&(go=null),Ll=0,mo=!1,25<=h)throw Error(r(301));if(h+=1,Ke=ye=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=_v,g=s(a,l)}while(mo);return g}function Iw(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?Bl(s):s,i=i.useState()[0],(ye!==null?ye.memoizedState:null)!==i&&(qt.flags|=1024),s}function Vh(){var i=Bc!==0;return Bc=0,i}function jh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Mh(i){if(Lc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Lc=!1}Vs=0,Ke=ye=qt=null,mo=!1,Ll=Bc=0,go=null}function Mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?qt.memoizedState=Ke=i:Ke=Ke.next=i,Ke}function Ue(){if(ye===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=ye.next;var s=Ke===null?qt.memoizedState:Ke.next;if(s!==null)Ke=s,ye=i;else{if(i===null)throw qt.alternate===null?Error(r(467)):Error(r(310));ye=i,i={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ke===null?qt.memoizedState=Ke=i:Ke=Ke.next=i}return Ke}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(i){var s=Ll;return Ll+=1,go===null&&(go=[]),i=C0(go,i,s),s=qt,(Ke===null?s.memoizedState:Ke.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?vv:Gh),i}function Uc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bl(i);if(i.$$typeof===B)return yn(i)}throw Error(r(438,String(i)))}function Oh(i){var s=null,a=qt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=qt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zc(),qt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=P;return s.index++,a}function js(i,s){return typeof s=="function"?s(i):s}function Fc(i){var s=Ue();return Nh(s,ye,i)}function Nh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=i.baseQueue,g=l.pending;if(g!==null){if(h!==null){var S=h.next;h.next=g.next,g.next=S}s.baseQueue=h=g,l.pending=null}if(g=i.baseState,h===null)i.memoizedState=g;else{s=h.next;var w=S=null,z=null,Z=s,lt=!1;do{var dt=Z.lane&-536870913;if(dt!==Z.lane?(Wt&dt)===dt:(Vs&dt)===dt){var J=Z.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),dt===uo&&(lt=!0);else if((Vs&J)===J){Z=Z.next,J===uo&&(lt=!0);continue}else dt={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=dt,S=g):z=z.next=dt,qt.lanes|=J,vr|=J;dt=Z.action,_a&&a(g,dt),g=Z.hasEagerState?Z.eagerState:a(g,dt)}else J={lane:dt,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=J,S=g):z=z.next=J,qt.lanes|=dt,vr|=dt;Z=Z.next}while(Z!==null&&Z!==s);if(z===null?S=g:z.next=w,!Xn(g,i.memoizedState)&&(Xe=!0,lt&&(a=co,a!==null)))throw a;i.memoizedState=g,i.baseState=S,i.baseQueue=z,l.lastRenderedState=g}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function kh(i){var s=Ue(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,g=s.memoizedState;if(h!==null){a.pending=null;var S=h=h.next;do g=i(g,S.action),S=S.next;while(S!==h);Xn(g,s.memoizedState)||(Xe=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,l]}function L0(i,s,a){var l=qt,h=Ue(),g=ee;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=s();var S=!Xn((ye||h).memoizedState,a);if(S&&(h.memoizedState=a,Xe=!0),h=h.queue,Bh(U0.bind(null,l,h,i),[i]),h.getSnapshot!==s||S||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},z0.bind(null,l,h,a,s),null),be===null)throw Error(r(349));g||(Vs&127)!==0||B0(l,s,a)}return a}function B0(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=qt.updateQueue,s===null?(s=zc(),qt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function z0(i,s,a,l){s.value=a,s.getSnapshot=l,F0(s)&&H0(i)}function U0(i,s,a){return a(function(){F0(s)&&H0(i)})}function F0(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Xn(i,a)}catch{return!0}}function H0(i){var s=ca(i,2);s!==null&&Fn(s,i,2)}function Ph(i){var s=Mn();if(typeof i=="function"){var a=i;if(i=a(),_a){ui(!0);try{a()}finally{ui(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:i},s}function q0(i,s,a,l){return i.baseState=a,Nh(i,ye,typeof l=="function"?l:js)}function Dw(i,s,a,l,h){if(Gc(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};Q.T!==null?a(!0):g.isTransition=!1,l(g),a=s.pending,a===null?(g.next=s.pending=g,G0(s,g)):(g.next=a.next,s.pending=a.next=g)}}function G0(i,s){var a=s.action,l=s.payload,h=i.state;if(s.isTransition){var g=Q.T,S={};Q.T=S;try{var w=a(h,l),z=Q.S;z!==null&&z(S,w),Y0(i,s,w)}catch(Z){Lh(i,s,Z)}finally{g!==null&&S.types!==null&&(g.types=S.types),Q.T=g}}else try{g=a(h,l),Y0(i,s,g)}catch(Z){Lh(i,s,Z)}}function Y0(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Q0(i,s,l)},function(l){return Lh(i,s,l)}):Q0(i,s,a)}function Q0(i,s,a){s.status="fulfilled",s.value=a,K0(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,G0(i,a)))}function Lh(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,K0(s),s=s.next;while(s!==l)}i.action=null}function K0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function X0(i,s){return s}function W0(i,s){if(ee){var a=be.formState;if(a!==null){t:{var l=qt;if(ee){if(Te){e:{for(var h=Te,g=vi;h.nodeType!==8;){if(!g){h=null;break e}if(h=bi(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Te=bi(h.nextSibling),l=h.data==="F!";break t}}ur(l)}l=!1}l&&(s=a[0])}}return a=Mn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:s},a.queue=l,a=mv.bind(null,qt,l),l.dispatch=a,l=Ph(!1),g=qh.bind(null,qt,!1,l.queue),l=Mn(),h={state:s,dispatch:null,action:i,pending:null},l.queue=h,a=Dw.bind(null,qt,h,g,a),h.dispatch=a,l.memoizedState=i,[s,a,!1]}function $0(i){var s=Ue();return Z0(s,ye,i)}function Z0(i,s,a){if(s=Nh(i,s,X0)[0],i=Fc(js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Bl(s)}catch(S){throw S===fo?jc:S}else l=s;s=Ue();var h=s.queue,g=h.dispatch;return a!==s.memoizedState&&(qt.flags|=2048,yo(9,{destroy:void 0},Vw.bind(null,h,a),null)),[l,g,i]}function Vw(i,s){i.action=s}function J0(i){var s=Ue(),a=ye;if(a!==null)return Z0(s,a,i);Ue(),s=s.memoizedState,a=Ue();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function yo(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=qt.updateQueue,s===null&&(s=zc(),qt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function tv(){return Ue().memoizedState}function Hc(i,s,a,l){var h=Mn();qt.flags|=i,h.memoizedState=yo(1|s,{destroy:void 0},a,l===void 0?null:l)}function qc(i,s,a,l){var h=Ue();l=l===void 0?null:l;var g=h.memoizedState.inst;ye!==null&&l!==null&&Ih(l,ye.memoizedState.deps)?h.memoizedState=yo(s,g,a,l):(qt.flags|=i,h.memoizedState=yo(1|s,g,a,l))}function ev(i,s){Hc(8390656,8,i,s)}function Bh(i,s){qc(2048,8,i,s)}function jw(i){qt.flags|=4;var s=qt.updateQueue;if(s===null)s=zc(),qt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function nv(i){var s=Ue().memoizedState;return jw({ref:s,nextImpl:i}),function(){if((ue&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function iv(i,s){return qc(4,2,i,s)}function sv(i,s){return qc(4,4,i,s)}function rv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function av(i,s,a){a=a!=null?a.concat([i]):null,qc(4,4,rv.bind(null,s,i),a)}function zh(){}function ov(i,s){var a=Ue();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ih(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function lv(i,s){var a=Ue();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ih(s,l[1]))return l[0];if(l=i(),_a){ui(!0);try{i()}finally{ui(!1)}}return a.memoizedState=[l,s],l}function Uh(i,s,a){return a===void 0||(Vs&1073741824)!==0&&(Wt&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=u_(),qt.lanes|=i,vr|=i,a)}function uv(i,s,a,l){return Xn(a,s)?a:po.current!==null?(i=Uh(i,a,l),Xn(i,s)||(Xe=!0),i):(Vs&42)===0||(Vs&1073741824)!==0&&(Wt&261930)===0?(Xe=!0,i.memoizedState=a):(i=u_(),qt.lanes|=i,vr|=i,s)}function cv(i,s,a,l,h){var g=st.p;st.p=g!==0&&8>g?g:8;var S=Q.T,w={};Q.T=w,qh(i,!1,s,a);try{var z=h(),Z=Q.S;if(Z!==null&&Z(w,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var lt=Cw(z,l);zl(i,s,lt,ei(i))}else zl(i,s,l,ei(i))}catch(dt){zl(i,s,{then:function(){},status:"rejected",reason:dt},ei())}finally{st.p=g,S!==null&&w.types!==null&&(S.types=w.types),Q.T=S}}function Mw(){}function Fh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var h=fv(i).queue;cv(i,h,s,X,a===null?Mw:function(){return dv(i),a(l)})}function fv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:X},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function dv(i){var s=fv(i);s.next===null&&(s=i.alternate.memoizedState),zl(i,s.next.queue,{},ei())}function Hh(){return yn(iu)}function hv(){return Ue().memoizedState}function pv(){return Ue().memoizedState}function Ow(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=ei();i=dr(a);var l=hr(s,i,a);l!==null&&(Fn(l,s,a),Nl(l,s,a)),s={cache:vh()},i.payload=s;return}s=s.return}}function Nw(i,s,a){var l=ei();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gc(i)?gv(s,a):(a=oh(i,s,a,l),a!==null&&(Fn(a,i,l),yv(a,s,l)))}function mv(i,s,a){var l=ei();zl(i,s,a,l)}function zl(i,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gc(i))gv(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,w=g(S,a);if(h.hasEagerState=!0,h.eagerState=w,Xn(w,S))return Ec(i,s,h,0),be===null&&Ac(),!1}catch{}if(a=oh(i,s,h,l),a!==null)return Fn(a,i,l),yv(a,s,l),!0}return!1}function qh(i,s,a,l){if(l={lane:2,revertLane:Tp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gc(i)){if(s)throw Error(r(479))}else s=oh(i,a,l,2),s!==null&&Fn(s,i,2)}function Gc(i){var s=i.alternate;return i===qt||s!==null&&s===qt}function gv(i,s){mo=Lc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function yv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,ll(i,a)}}var Ul={readContext:yn,use:Uc,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Ul.useEffectEvent=Me;var vv={readContext:yn,use:Uc,useCallback:function(i,s){return Mn().memoizedState=[i,s===void 0?null:s],i},useContext:yn,useEffect:ev,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Hc(4194308,4,rv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Hc(4194308,4,i,s)},useInsertionEffect:function(i,s){Hc(4,2,i,s)},useMemo:function(i,s){var a=Mn();s=s===void 0?null:s;var l=i();if(_a){ui(!0);try{i()}finally{ui(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=Mn();if(a!==void 0){var h=a(s);if(_a){ui(!0);try{a(s)}finally{ui(!1)}}}else h=s;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=Nw.bind(null,qt,i),[l.memoizedState,i]},useRef:function(i){var s=Mn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ph(i);var s=i.queue,a=mv.bind(null,qt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:zh,useDeferredValue:function(i,s){var a=Mn();return Uh(a,i,s)},useTransition:function(){var i=Ph(!1);return i=cv.bind(null,qt,i.queue,!0,!1),Mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=qt,h=Mn();if(ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),be===null)throw Error(r(349));(Wt&127)!==0||B0(l,s,a)}h.memoizedState=a;var g={value:a,getSnapshot:s};return h.queue=g,ev(U0.bind(null,l,g,i),[i]),l.flags|=2048,yo(9,{destroy:void 0},z0.bind(null,l,g,a,s),null),a},useId:function(){var i=Mn(),s=be.identifierPrefix;if(ee){var a=cs,l=us;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Bc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Rw++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Hh,useFormState:W0,useActionState:W0,useOptimistic:function(i){var s=Mn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qh.bind(null,qt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Oh,useCacheRefresh:function(){return Mn().memoizedState=Ow.bind(null,qt)},useEffectEvent:function(i){var s=Mn(),a={impl:i};return s.memoizedState=a,function(){if((ue&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gh={readContext:yn,use:Uc,useCallback:ov,useContext:yn,useEffect:Bh,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:Fc,useRef:tv,useState:function(){return Fc(js)},useDebugValue:zh,useDeferredValue:function(i,s){var a=Ue();return uv(a,ye.memoizedState,i,s)},useTransition:function(){var i=Fc(js)[0],s=Ue().memoizedState;return[typeof i=="boolean"?i:Bl(i),s]},useSyncExternalStore:L0,useId:hv,useHostTransitionStatus:Hh,useFormState:$0,useActionState:$0,useOptimistic:function(i,s){var a=Ue();return q0(a,ye,i,s)},useMemoCache:Oh,useCacheRefresh:pv};Gh.useEffectEvent=nv;var _v={readContext:yn,use:Uc,useCallback:ov,useContext:yn,useEffect:Bh,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:kh,useRef:tv,useState:function(){return kh(js)},useDebugValue:zh,useDeferredValue:function(i,s){var a=Ue();return ye===null?Uh(a,i,s):uv(a,ye.memoizedState,i,s)},useTransition:function(){var i=kh(js)[0],s=Ue().memoizedState;return[typeof i=="boolean"?i:Bl(i),s]},useSyncExternalStore:L0,useId:hv,useHostTransitionStatus:Hh,useFormState:J0,useActionState:J0,useOptimistic:function(i,s){var a=Ue();return ye!==null?q0(a,ye,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:pv};_v.useEffectEvent=nv;function Yh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:f({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qh={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=ei(),h=dr(l);h.payload=s,a!=null&&(h.callback=a),s=hr(i,h,l),s!==null&&(Fn(s,i,l),Nl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=ei(),h=dr(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=hr(i,h,l),s!==null&&(Fn(s,i,l),Nl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=ei(),l=dr(a);l.tag=2,s!=null&&(l.callback=s),s=hr(i,l,a),s!==null&&(Fn(s,i,a),Nl(s,i,a))}};function bv(i,s,a,l,h,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,g,S):s.prototype&&s.prototype.isPureReactComponent?!Cl(a,l)||!Cl(h,g):!0}function xv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Qh.enqueueReplaceState(s,s.state,null)}function ba(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=f({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}function Tv(i){Sc(i)}function Sv(i){console.error(i)}function Av(i){Sc(i)}function Yc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Ev(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(i,s,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yc(i,s)},a}function wv(i){return i=dr(i),i.tag=3,i}function Cv(i,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;i.payload=function(){return h(g)},i.callback=function(){Ev(s,a,l)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Ev(s,a,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function kw(i,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&lo(s,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?rf():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),_p(i,l,h)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),_p(i,l,h)),!1}throw Error(r(435,a.tag))}return _p(i,l,h),rf(),!1}if(ee)return s=$n.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==hh&&(i=Error(r(422),{cause:l}),Dl(mi(i,a)))):(l!==hh&&(s=Error(r(423),{cause:l}),Dl(mi(s,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=mi(l,a),h=Kh(i.stateNode,l,h),Ah(i,h),Oe!==4&&(Oe=2)),!1;var g=Error(r(520),{cause:l});if(g=mi(g,a),Xl===null?Xl=[g]:Xl.push(g),Oe!==4&&(Oe=2),s===null)return!0;l=mi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=Kh(a.stateNode,l,i),Ah(a,i),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_r===null||!_r.has(g))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wv(h),Cv(h,i,a,l),Ah(a,h),!1}a=a.return}while(a!==null);return!1}var Xh=Error(r(461)),Xe=!1;function vn(i,s,a,l){s.child=i===null?V0(s,null,a,l):va(s,i.child,a,l)}function Rv(i,s,a,l,h){a=a.render;var g=s.ref;if("ref"in l){var S={};for(var w in l)w!=="ref"&&(S[w]=l[w])}else S=l;return pa(s),l=Dh(i,s,a,S,g,h),w=Vh(),i!==null&&!Xe?(jh(i,s,h),Ms(i,s,h)):(ee&&w&&fh(s),s.flags|=1,vn(i,s,l,h),s.child)}function Iv(i,s,a,l,h){if(i===null){var g=a.type;return typeof g=="function"&&!lh(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,Dv(i,s,g,l,h)):(i=Cc(a.type,null,l,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!ip(i,h)){var S=g.memoizedProps;if(a=a.compare,a=a!==null?a:Cl,a(S,l)&&i.ref===s.ref)return Ms(i,s,h)}return s.flags|=1,i=Cs(g,l),i.ref=s.ref,i.return=s,s.child=i}function Dv(i,s,a,l,h){if(i!==null){var g=i.memoizedProps;if(Cl(g,l)&&i.ref===s.ref)if(Xe=!1,s.pendingProps=l=g,ip(i,h))(i.flags&131072)!==0&&(Xe=!0);else return s.lanes=i.lanes,Ms(i,s,h)}return Wh(i,s,a,l,h)}function Vv(i,s,a,l){var h=l.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,i!==null){for(l=s.child=i.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~g}else l=0,s.child=null;return jv(i,s,g,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vc(s,g!==null?g.cachePool:null),g!==null?O0(s,g):wh(),N0(s);else return l=s.lanes=536870912,jv(i,s,g!==null?g.baseLanes|a:a,a,l)}else g!==null?(Vc(s,g.cachePool),O0(s,g),mr(),s.memoizedState=null):(i!==null&&Vc(s,null),wh(),mr());return vn(i,s,h,a),s.child}function Fl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function jv(i,s,a,l,h){var g=bh();return g=g===null?null:{parent:Qe._currentValue,pool:g},s.memoizedState={baseLanes:a,cachePool:g},i!==null&&Vc(s,null),wh(),N0(s),i!==null&&lo(i,s,l,!0),s.childLanes=h,null}function Qc(i,s){return s=Xc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Mv(i,s,a){return va(s,i.child,null,a),i=Qc(s,s.pendingProps),i.flags|=2,Zn(s),s.memoizedState=null,i}function Pw(i,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ee){if(l.mode==="hidden")return i=Qc(s,l),s.lanes=536870912,Fl(null,i);if(Rh(s),(i=Te)?(i=G_(i,vi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:or!==null?{id:us,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},a=g0(i),a.return=s,s.child=a,gn=s,Te=null)):i=null,i===null)throw ur(s);return s.lanes=536870912,null}return Qc(s,l)}var g=i.memoizedState;if(g!==null){var S=g.dehydrated;if(Rh(s),h)if(s.flags&256)s.flags&=-257,s=Mv(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Xe||lo(i,s,a,!1),h=(a&i.childLanes)!==0,Xe||h){if(l=be,l!==null&&(S=ul(l,a),S!==0&&S!==g.retryLane))throw g.retryLane=S,ca(i,S),Fn(l,i,S),Xh;rf(),s=Mv(i,s,a)}else i=g.treeContext,Te=bi(S.nextSibling),gn=s,ee=!0,lr=null,vi=!1,i!==null&&_0(s,i),s=Qc(s,l),s.flags|=4096;return s}return i=Cs(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Kc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Wh(i,s,a,l,h){return pa(s),a=Dh(i,s,a,l,void 0,h),l=Vh(),i!==null&&!Xe?(jh(i,s,h),Ms(i,s,h)):(ee&&l&&fh(s),s.flags|=1,vn(i,s,a,h),s.child)}function Ov(i,s,a,l,h,g){return pa(s),s.updateQueue=null,a=P0(s,l,a,h),k0(i),l=Vh(),i!==null&&!Xe?(jh(i,s,g),Ms(i,s,g)):(ee&&l&&fh(s),s.flags|=1,vn(i,s,a,g),s.child)}function Nv(i,s,a,l,h){if(pa(s),s.stateNode===null){var g=so,S=a.contextType;typeof S=="object"&&S!==null&&(g=yn(S)),g=new a(l,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=l,g.state=s.memoizedState,g.refs={},Th(s),S=a.contextType,g.context=typeof S=="object"&&S!==null?yn(S):so,g.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Yh(s,a,S,l),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Qh.enqueueReplaceState(g,g.state,null),Pl(s,l,g,h),kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,z=ba(a,w);g.props=z;var Z=g.context,lt=a.contextType;S=so,typeof lt=="object"&&lt!==null&&(S=yn(lt));var dt=a.getDerivedStateFromProps;lt=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Z!==S)&&xv(s,g,l,S),fr=!1;var J=s.memoizedState;g.state=J,Pl(s,l,g,h),kl(),Z=s.memoizedState,w||J!==Z||fr?(typeof dt=="function"&&(Yh(s,a,dt,l),Z=s.memoizedState),(z=fr||bv(s,a,z,l,J,Z,S))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Z),g.props=l,g.state=Z,g.context=S,l=z):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{g=s.stateNode,Sh(i,s),S=s.memoizedProps,lt=ba(a,S),g.props=lt,dt=s.pendingProps,J=g.context,Z=a.contextType,z=so,typeof Z=="object"&&Z!==null&&(z=yn(Z)),w=a.getDerivedStateFromProps,(Z=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==dt||J!==z)&&xv(s,g,l,z),fr=!1,J=s.memoizedState,g.state=J,Pl(s,l,g,h),kl();var it=s.memoizedState;S!==dt||J!==it||fr||i!==null&&i.dependencies!==null&&Ic(i.dependencies)?(typeof w=="function"&&(Yh(s,a,w,l),it=s.memoizedState),(lt=fr||bv(s,a,lt,l,J,it,z)||i!==null&&i.dependencies!==null&&Ic(i.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,it,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,it,z)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=it),g.props=l,g.state=it,g.context=z,l=lt):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),l=!1)}return g=l,Kc(i,s),l=(s.flags&128)!==0,g||l?(g=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&l?(s.child=va(s,i.child,null,h),s.child=va(s,null,a,h)):vn(i,s,a,h),s.memoizedState=g.state,i=s.child):i=Ms(i,s,h),i}function kv(i,s,a,l){return da(),s.flags|=256,vn(i,s,a,l),s.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(i){return{baseLanes:i,cachePool:E0()}}function Jh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=ti),i}function Pv(i,s,a){var l=s.pendingProps,h=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(ze.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(ee){if(h?pr(s):mr(),(i=Te)?(i=G_(i,vi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:or!==null?{id:us,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},a=g0(i),a.return=s,s.child=a,gn=s,Te=null)):i=null,i===null)throw ur(s);return Np(i)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(mr(),h=s.mode,w=Xc({mode:"hidden",children:w},h),l=fa(l,h,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Zh(a),l.childLanes=Jh(i,S,a),s.memoizedState=$h,Fl(null,l)):(pr(s),tp(s,w))}var z=i.memoizedState;if(z!==null&&(w=z.dehydrated,w!==null)){if(g)s.flags&256?(pr(s),s.flags&=-257,s=ep(i,s,a)):s.memoizedState!==null?(mr(),s.child=i.child,s.flags|=128,s=null):(mr(),w=l.fallback,h=s.mode,l=Xc({mode:"visible",children:l.children},h),w=fa(w,h,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,va(s,i.child,null,a),l=s.child,l.memoizedState=Zh(a),l.childLanes=Jh(i,S,a),s.memoizedState=$h,s=Fl(null,l));else if(pr(s),Np(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var Z=S.dgst;S=Z,l=Error(r(419)),l.stack="",l.digest=S,Dl({value:l,source:null,stack:null}),s=ep(i,s,a)}else if(Xe||lo(i,s,a,!1),S=(a&i.childLanes)!==0,Xe||S){if(S=be,S!==null&&(l=ul(S,a),l!==0&&l!==z.retryLane))throw z.retryLane=l,ca(i,l),Fn(S,i,l),Xh;Op(w)||rf(),s=ep(i,s,a)}else Op(w)?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,Te=bi(w.nextSibling),gn=s,ee=!0,lr=null,vi=!1,i!==null&&_0(s,i),s=tp(s,l.children),s.flags|=4096);return s}return h?(mr(),w=l.fallback,h=s.mode,z=i.child,Z=z.sibling,l=Cs(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?w=Cs(Z,w):(w=fa(w,h,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,Fl(null,l),l=s.child,w=i.child.memoizedState,w===null?w=Zh(a):(h=w.cachePool,h!==null?(z=Qe._currentValue,h=h.parent!==z?{parent:z,pool:z}:h):h=E0(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=Jh(i,S,a),s.memoizedState=$h,Fl(i.child,l)):(pr(s),a=i.child,i=a.sibling,a=Cs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=a,s.memoizedState=null,a)}function tp(i,s){return s=Xc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Xc(i,s){return i=Wn(22,i,null,s),i.lanes=0,i}function ep(i,s,a){return va(s,i.child,null,a),i=tp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Lv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),gh(i.return,s,a)}function np(i,s,a,l,h,g){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:g}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=a,S.tailMode=h,S.treeForkCount=g)}function Bv(i,s,a){var l=s.pendingProps,h=l.revealOrder,g=l.tail;l=l.children;var S=ze.current,w=(S&2)!==0;if(w?(S=S&1|2,s.flags|=128):S&=1,rt(ze,S),vn(i,s,l,a),l=ee?Il:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lv(i,a,s);else if(i.tag===19)Lv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)i=a.alternate,i!==null&&Pc(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),np(s,!1,h,a,g,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&Pc(i)===null){s.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}np(s,!0,a,null,g,l);break;case"together":np(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ms(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),vr|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(lo(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Cs(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Cs(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function ip(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ic(i)))}function Lw(i,s,a){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),cr(s,Qe,i.memoizedState.cache),da();break;case 27:case 5:ne(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:cr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rh(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Pv(i,s,a):(pr(s),i=Ms(i,s,a),i!==null?i.sibling:null);pr(s);break;case 19:var h=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(lo(i,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Bv(i,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(ze,ze.current),l)break;return null;case 22:return s.lanes=0,Vv(i,s,a,s.pendingProps);case 24:cr(s,Qe,i.memoizedState.cache)}return Ms(i,s,a)}function zv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Xe=!0;else{if(!ip(i,a)&&(s.flags&128)===0)return Xe=!1,Lw(i,s,a);Xe=(i.flags&131072)!==0}else Xe=!1,ee&&(s.flags&1048576)!==0&&v0(s,Il,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=ga(s.elementType),s.type=i,typeof i=="function")lh(i)?(l=ba(i,l),s.tag=1,s=Nv(null,s,i,l,a)):(s.tag=0,s=Wh(null,s,i,l,a));else{if(i!=null){var h=i.$$typeof;if(h===G){s.tag=11,s=Rv(null,s,i,l,a);break t}else if(h===V){s.tag=14,s=Iv(null,s,i,l,a);break t}}throw s=Ct(i)||i,Error(r(306,s,""))}}return s;case 0:return Wh(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=ba(l,s.pendingProps),Nv(i,s,l,h,a);case 3:t:{if(At(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var g=s.memoizedState;h=g.element,Sh(i,s),Pl(s,l,null,a);var S=s.memoizedState;if(l=S.cache,cr(s,Qe,l),l!==g.cache&&yh(s,[Qe],a,!0),kl(),l=S.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=kv(i,s,l,a);break t}else if(l!==h){h=mi(Error(r(424)),s),Dl(h),s=kv(i,s,l,a);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Te=bi(i.firstChild),gn=s,ee=!0,lr=null,vi=!0,a=V0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(da(),l===h){s=Ms(i,s,a);break t}vn(i,s,l,a)}s=s.child}return s;case 26:return Kc(i,s),i===null?(a=$_(s.type,null,s.pendingProps,null))?s.memoizedState=a:ee||(a=s.type,i=s.pendingProps,l=df(St.current).createElement(a),l[qe]=s,l[on]=i,_n(l,a,i),Ge(l),s.stateNode=l):s.memoizedState=$_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ne(s),i===null&&ee&&(l=s.stateNode=K_(s.type,s.pendingProps,St.current),gn=s,vi=!0,h=Te,Sr(s.type)?(kp=h,Te=bi(l.firstChild)):Te=h),vn(i,s,s.pendingProps.children,a),Kc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ee&&((h=l=Te)&&(l=p2(l,s.type,s.pendingProps,vi),l!==null?(s.stateNode=l,gn=s,Te=bi(l.firstChild),vi=!1,h=!0):h=!1),h||ur(s)),ne(s),h=s.type,g=s.pendingProps,S=i!==null?i.memoizedProps:null,l=g.children,Vp(h,g)?l=null:S!==null&&Vp(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=Dh(i,s,Iw,null,null,a),iu._currentValue=h),Kc(i,s),vn(i,s,l,a),s.child;case 6:return i===null&&ee&&((i=a=Te)&&(a=m2(a,s.pendingProps,vi),a!==null?(s.stateNode=a,gn=s,Te=null,i=!0):i=!1),i||ur(s)),null;case 13:return Pv(i,s,a);case 4:return At(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=va(s,null,l,a):vn(i,s,l,a),s.child;case 11:return Rv(i,s,s.type,s.pendingProps,a);case 7:return vn(i,s,s.pendingProps,a),s.child;case 8:return vn(i,s,s.pendingProps.children,a),s.child;case 12:return vn(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,cr(s,s.type,l.value),vn(i,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,pa(s),h=yn(h),l=l(h),s.flags|=1,vn(i,s,l,a),s.child;case 14:return Iv(i,s,s.type,s.pendingProps,a);case 15:return Dv(i,s,s.type,s.pendingProps,a);case 19:return Bv(i,s,a);case 31:return Pw(i,s,a);case 22:return Vv(i,s,a,s.pendingProps);case 24:return pa(s),l=yn(Qe),i===null?(h=bh(),h===null&&(h=be,g=vh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=a),h=g),s.memoizedState={parent:l,cache:h},Th(s),cr(s,Qe,h)):((i.lanes&a)!==0&&(Sh(i,s),Pl(s,null,null,a),kl()),h=i.memoizedState,g=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),cr(s,Qe,l)):(l=g.cache,cr(s,Qe,l),l!==h.cache&&yh(s,[Qe],a,!0))),vn(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Os(i){i.flags|=4}function sp(i,s,a,l,h){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(h&335544128)===h)if(i.stateNode.complete)i.flags|=8192;else if(h_())i.flags|=8192;else throw ya=Mc,xh}else i.flags&=-16777217}function Uv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nb(s))if(h_())i.flags|=8192;else throw ya=Mc,xh}function Wc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?nc():536870912,i.lanes|=s,xo|=s)}function Hl(i,s){if(!ee)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function Bw(i,s,a){var l=s.pendingProps;switch(dh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ds(Qe),wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(oo(s)?Os(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ph())),Se(s),null;case 26:var h=s.type,g=s.memoizedState;return i===null?(Os(s),g!==null?(Se(s),Uv(s,g)):(Se(s),sp(s,h,null,l,a))):g?g!==i.memoizedState?(Os(s),Se(s),Uv(s,g)):(Se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&Os(s),Se(s),sp(s,h,i,l,a)),null;case 27:if(Ee(s),a=St.current,h=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}i=pt.current,oo(s)?b0(s):(i=K_(h,l,a),s.stateNode=i,Os(s))}return Se(s),null;case 5:if(Ee(s),h=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(g=pt.current,oo(s))b0(s);else{var S=df(St.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?S.createElement("select",{is:l.is}):S.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?S.createElement(h,{is:l.is}):S.createElement(h)}}g[qe]=s,g[on]=l;t:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break t;for(;S.sibling===null;){if(S.return===null||S.return===s)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=g;t:switch(_n(g,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Os(s)}}return Se(s),sp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&Os(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=St.current,oo(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[qe]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P_(i.nodeValue,a)),i||ur(s,!0)}else i=df(i).createTextNode(l),i[qe]=s,s.stateNode=i}return Se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=oo(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[qe]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),i=!1}else a=ph(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Zn(s),s):(Zn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=oo(s),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[qe]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),h=!1}else h=ph(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Zn(s),s):(Zn(s),null)}return Zn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Wc(s,s.updateQueue),Se(s),null);case 4:return wt(),i===null&&wp(s.stateNode.containerInfo),Se(s),null;case 10:return Ds(s.type),Se(s),null;case 19:if(q(ze),l=s.memoizedState,l===null)return Se(s),null;if(h=(s.flags&128)!==0,g=l.rendering,g===null)if(h)Hl(l,!1);else{if(Oe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Pc(i),g!==null){for(s.flags|=128,Hl(l,!1),i=g.updateQueue,s.updateQueue=i,Wc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)m0(a,i),a=a.sibling;return rt(ze,ze.current&1|2),ee&&Rs(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&Bt()>ef&&(s.flags|=128,h=!0,Hl(l,!1),s.lanes=4194304)}else{if(!h)if(i=Pc(g),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,Wc(s,i),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!ee)return Se(s),null}else 2*Bt()-l.renderingStartTime>ef&&a!==536870912&&(s.flags|=128,h=!0,Hl(l,!1),s.lanes=4194304);l.isBackwards?(g.sibling=s.child,s.child=g):(i=l.last,i!==null?i.sibling=g:s.child=g,l.last=g)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Bt(),i.sibling=null,a=ze.current,rt(ze,h?a&1|2:a&1),ee&&Rs(s,l.treeForkCount),i):(Se(s),null);case 22:case 23:return Zn(s),Ch(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),a=s.updateQueue,a!==null&&Wc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&q(ma),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ds(Qe),Se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function zw(i,s){switch(dh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ds(Qe),wt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 31:if(s.memoizedState!==null){if(Zn(s),s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Zn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(ze),null;case 4:return wt(),null;case 10:return Ds(s.type),null;case 22:case 23:return Zn(s),Ch(),i!==null&&q(ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ds(Qe),null;case 25:return null;default:return null}}function Fv(i,s){switch(dh(s),s.tag){case 3:Ds(Qe),wt();break;case 26:case 27:case 5:Ee(s);break;case 4:wt();break;case 31:s.memoizedState!==null&&Zn(s);break;case 13:Zn(s);break;case 19:q(ze);break;case 10:Ds(s.type);break;case 22:case 23:Zn(s),Ch(),i!==null&&q(ma);break;case 24:Ds(Qe)}}function ql(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var g=a.create,S=a.inst;l=g(),S.destroy=l}a=a.next}while(a!==h)}}catch(w){me(s,s.return,w)}}function gr(i,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){var S=l.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,h=s;var z=a,Z=w;try{Z()}catch(lt){me(h,z,lt)}}}l=l.next}while(l!==g)}}catch(lt){me(s,s.return,lt)}}function Hv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{M0(s,a)}catch(l){me(i,i.return,l)}}}function qv(i,s,a){a.props=ba(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){me(i,s,l)}}function Gl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(h){me(i,s,h)}}function fs(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){me(i,s,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){me(i,s,h)}else a.current=null}function Gv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){me(i,i.return,h)}}function rp(i,s,a){try{var l=i.stateNode;l2(l,i.type,a,s),l[on]=s}catch(h){me(i,i.return,h)}}function Yv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sr(i.type)||i.tag===4}function ap(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Yv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ji));else if(l!==4&&(l===27&&Sr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(op(i,s,a),i=i.sibling;i!==null;)op(i,s,a),i=i.sibling}function $c(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Sr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for($c(i,s,a),i=i.sibling;i!==null;)$c(i,s,a),i=i.sibling}function Qv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);_n(s,l,a),s[qe]=i,s[on]=a}catch(g){me(i,i.return,g)}}var Ns=!1,We=!1,lp=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,un=null;function Uw(i,s){if(i=i.containerInfo,Ip=_f,i=a0(i),eh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var S=0,w=-1,z=-1,Z=0,lt=0,dt=i,J=null;e:for(;;){for(var it;dt!==a||h!==0&&dt.nodeType!==3||(w=S+h),dt!==g||l!==0&&dt.nodeType!==3||(z=S+l),dt.nodeType===3&&(S+=dt.nodeValue.length),(it=dt.firstChild)!==null;)J=dt,dt=it;for(;;){if(dt===i)break e;if(J===a&&++Z===h&&(w=S),J===g&&++lt===l&&(z=S),(it=dt.nextSibling)!==null)break;dt=J,J=dt.parentNode}dt=it}a=w===-1||z===-1?null:{start:w,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dp={focusedElem:i,selectionRange:a},_f=!1,un=s;un!==null;)if(s=un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,un=i;else for(;un!==null;){switch(s=un,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)h=i[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=s,h=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var xt=ba(a.type,h);i=l.getSnapshotBeforeUpdate(xt,g),l.__reactInternalSnapshotBeforeUpdate=i}catch(Dt){me(a,a.return,Dt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Mp(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,un=i;break}un=s.return}}function Xv(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ps(i,a),l&4&&ql(5,a);break;case 1:if(Ps(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(S){me(a,a.return,S)}else{var h=ba(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(h,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){me(a,a.return,S)}}l&64&&Hv(a),l&512&&Gl(a,a.return);break;case 3:if(Ps(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{M0(i,s)}catch(S){me(a,a.return,S)}}break;case 27:s===null&&l&4&&Qv(a);case 26:case 5:Ps(i,a),s===null&&l&4&&Gv(a),l&512&&Gl(a,a.return);break;case 12:Ps(i,a);break;case 31:Ps(i,a),l&4&&Zv(i,a);break;case 13:Ps(i,a),l&4&&Jv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Ww.bind(null,a),g2(i,a))));break;case 22:if(l=a.memoizedState!==null||Ns,!l){s=s!==null&&s.memoizedState!==null||We,h=Ns;var g=We;Ns=l,(We=s)&&!g?Ls(i,a,(a.subtreeFlags&8772)!==0):Ps(i,a),Ns=h,We=g}break;case 30:break;default:Ps(i,a)}}function Wv(i){var s=i.alternate;s!==null&&(i.alternate=null,Wv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&qa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ce=null,Ln=!1;function ks(i,s,a){for(a=a.child;a!==null;)$v(i,s,a),a=a.sibling}function $v(i,s,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ri,a)}catch{}switch(a.tag){case 26:We||fs(a,s),ks(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||fs(a,s);var l=Ce,h=Ln;Sr(a.type)&&(Ce=a.stateNode,Ln=!1),ks(i,s,a),tu(a.stateNode),Ce=l,Ln=h;break;case 5:We||fs(a,s);case 6:if(l=Ce,h=Ln,Ce=null,ks(i,s,a),Ce=l,Ln=h,Ce!==null)if(Ln)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(g){me(a,s,g)}else try{Ce.removeChild(a.stateNode)}catch(g){me(a,s,g)}break;case 18:Ce!==null&&(Ln?(i=Ce,H_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Io(i)):H_(Ce,a.stateNode));break;case 4:l=Ce,h=Ln,Ce=a.stateNode.containerInfo,Ln=!0,ks(i,s,a),Ce=l,Ln=h;break;case 0:case 11:case 14:case 15:gr(2,a,s),We||gr(4,a,s),ks(i,s,a);break;case 1:We||(fs(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qv(a,s,l)),ks(i,s,a);break;case 21:ks(i,s,a);break;case 22:We=(l=We)||a.memoizedState!==null,ks(i,s,a),We=l;break;default:ks(i,s,a)}}function Zv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Io(i)}catch(a){me(s,s.return,a)}}}function Jv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Io(i)}catch(a){me(s,s.return,a)}}function Fw(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Kv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Kv),s;default:throw Error(r(435,i.tag))}}function Zc(i,s){var a=Fw(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=$w.bind(null,i,l);l.then(h,h)}})}function Bn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],g=i,S=s,w=S;t:for(;w!==null;){switch(w.tag){case 27:if(Sr(w.type)){Ce=w.stateNode,Ln=!1;break t}break;case 5:Ce=w.stateNode,Ln=!1;break t;case 3:case 4:Ce=w.stateNode.containerInfo,Ln=!0;break t}w=w.return}if(Ce===null)throw Error(r(160));$v(g,S,h),Ce=null,Ln=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)t_(s,i),s=s.sibling}var Li=null;function t_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bn(s,i),zn(i),l&4&&(gr(3,i,i.return),ql(3,i),gr(5,i,i.return));break;case 1:Bn(s,i),zn(i),l&512&&(We||a===null||fs(a,a.return)),l&64&&Ns&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Li;if(Bn(s,i),zn(i),l&512&&(We||a===null||fs(a,a.return)),l&4){var g=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":g=h.getElementsByTagName("title")[0],(!g||g[$i]||g[qe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(l),h.head.insertBefore(g,h.querySelector("head > title"))),_n(g,l,a),g[qe]=i,Ge(g),l=g;break t;case"link":var S=tb("link","href",h).get(l+(a.href||""));if(S){for(var w=0;w<S.length;w++)if(g=S[w],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(w,1);break e}}g=h.createElement(l),_n(g,l,a),h.head.appendChild(g);break;case"meta":if(S=tb("meta","content",h).get(l+(a.content||""))){for(w=0;w<S.length;w++)if(g=S[w],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(w,1);break e}}g=h.createElement(l),_n(g,l,a),h.head.appendChild(g);break;default:throw Error(r(468,l))}g[qe]=i,Ge(g),l=g}i.stateNode=l}else eb(h,i.type,i.stateNode);else i.stateNode=J_(h,l,i.memoizedProps);else g!==l?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?eb(h,i.type,i.stateNode):J_(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&rp(i,i.memoizedProps,a.memoizedProps)}break;case 27:Bn(s,i),zn(i),l&512&&(We||a===null||fs(a,a.return)),a!==null&&l&4&&rp(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Bn(s,i),zn(i),l&512&&(We||a===null||fs(a,a.return)),i.flags&32){h=i.stateNode;try{Pn(h,"")}catch(xt){me(i,i.return,xt)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,rp(i,h,a!==null?a.memoizedProps:h)),l&1024&&(lp=!0);break;case 6:if(Bn(s,i),zn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(xt){me(i,i.return,xt)}}break;case 3:if(mf=null,h=Li,Li=hf(s.containerInfo),Bn(s,i),Li=h,zn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(xt){me(i,i.return,xt)}lp&&(lp=!1,e_(i));break;case 4:l=Li,Li=hf(i.stateNode.containerInfo),Bn(s,i),zn(i),Li=l;break;case 12:Bn(s,i),zn(i);break;case 31:Bn(s,i),zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 13:Bn(s,i),zn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tf=Bt()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 22:h=i.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Z=Ns,lt=We;if(Ns=Z||h,We=lt||z,Bn(s,i),We=lt,Ns=Z,zn(i),l&8192)t:for(s=i.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||z||Ns||We||xa(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){z=a=s;try{if(g=z.stateNode,h)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=z.stateNode;var dt=z.memoizedProps.style,J=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;w.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xt){me(z,z.return,xt)}}}else if(s.tag===6){if(a===null){z=s;try{z.stateNode.nodeValue=h?"":z.memoizedProps}catch(xt){me(z,z.return,xt)}}}else if(s.tag===18){if(a===null){z=s;try{var it=z.stateNode;h?q_(it,!0):q_(z.stateNode,!1)}catch(xt){me(z,z.return,xt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zc(i,a))));break;case 19:Bn(s,i),zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 30:break;case 21:break;default:Bn(s,i),zn(i)}}function zn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(Yv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,g=ap(i);$c(i,g,h);break;case 5:var S=a.stateNode;a.flags&32&&(Pn(S,""),a.flags&=-33);var w=ap(i);$c(i,w,S);break;case 3:case 4:var z=a.stateNode.containerInfo,Z=ap(i);op(i,Z,z);break;default:throw Error(r(161))}}catch(lt){me(i,i.return,lt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function e_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;e_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ps(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Xv(i,s.alternate,s),s=s.sibling}function xa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:gr(4,s,s.return),xa(s);break;case 1:fs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&qv(s,s.return,a),xa(s);break;case 27:tu(s.stateNode);case 26:case 5:fs(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}i=i.sibling}}function Ls(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=i,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:Ls(h,g,a),ql(4,g);break;case 1:if(Ls(h,g,a),l=g,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){me(l,l.return,Z)}if(l=g,h=l.updateQueue,h!==null){var w=l.stateNode;try{var z=h.shared.hiddenCallbacks;if(z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<z.length;h++)j0(z[h],w)}catch(Z){me(l,l.return,Z)}}a&&S&64&&Hv(g),Gl(g,g.return);break;case 27:Qv(g);case 26:case 5:Ls(h,g,a),a&&l===null&&S&4&&Gv(g),Gl(g,g.return);break;case 12:Ls(h,g,a);break;case 31:Ls(h,g,a),a&&S&4&&Zv(h,g);break;case 13:Ls(h,g,a),a&&S&4&&Jv(h,g);break;case 22:g.memoizedState===null&&Ls(h,g,a),Gl(g,g.return);break;case 30:break;default:Ls(h,g,a)}s=s.sibling}}function up(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Vl(a))}function cp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i))}function Bi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n_(i,s,a,l),s=s.sibling}function n_(i,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(i,s,a,l),h&2048&&ql(9,s);break;case 1:Bi(i,s,a,l);break;case 3:Bi(i,s,a,l),h&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i)));break;case 12:if(h&2048){Bi(i,s,a,l),i=s.stateNode;try{var g=s.memoizedProps,S=g.id,w=g.onPostCommit;typeof w=="function"&&w(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){me(s,s.return,z)}}else Bi(i,s,a,l);break;case 31:Bi(i,s,a,l);break;case 13:Bi(i,s,a,l);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?Bi(i,s,a,l):Yl(i,s):g._visibility&2?Bi(i,s,a,l):(g._visibility|=2,vo(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&up(S,s);break;case 24:Bi(i,s,a,l),h&2048&&cp(s.alternate,s);break;default:Bi(i,s,a,l)}}function vo(i,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,S=s,w=a,z=l,Z=S.flags;switch(S.tag){case 0:case 11:case 15:vo(g,S,w,z,h),ql(8,S);break;case 23:break;case 22:var lt=S.stateNode;S.memoizedState!==null?lt._visibility&2?vo(g,S,w,z,h):Yl(g,S):(lt._visibility|=2,vo(g,S,w,z,h)),h&&Z&2048&&up(S.alternate,S);break;case 24:vo(g,S,w,z,h),h&&Z&2048&&cp(S.alternate,S);break;default:vo(g,S,w,z,h)}s=s.sibling}}function Yl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,h=l.flags;switch(l.tag){case 22:Yl(a,l),h&2048&&up(l.alternate,l);break;case 24:Yl(a,l),h&2048&&cp(l.alternate,l);break;default:Yl(a,l)}s=s.sibling}}var Ql=8192;function _o(i,s,a){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)i_(i,s,a),i=i.sibling}function i_(i,s,a){switch(i.tag){case 26:_o(i,s,a),i.flags&Ql&&i.memoizedState!==null&&R2(a,Li,i.memoizedState,i.memoizedProps);break;case 5:_o(i,s,a);break;case 3:case 4:var l=Li;Li=hf(i.stateNode.containerInfo),_o(i,s,a),Li=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,_o(i,s,a),Ql=l):_o(i,s,a));break;default:_o(i,s,a)}}function s_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Kl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];un=l,a_(l,i)}s_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(i),i=i.sibling}function r_(i){switch(i.tag){case 0:case 11:case 15:Kl(i),i.flags&2048&&gr(9,i,i.return);break;case 3:Kl(i);break;case 12:Kl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Jc(i)):Kl(i);break;default:Kl(i)}}function Jc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];un=l,a_(l,i)}s_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:gr(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}i=i.sibling}}function a_(i,s){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:gr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,un=l;else t:for(a=i;un!==null;){l=un;var h=l.sibling,g=l.return;if(Wv(l),l===a){un=null;break t}if(h!==null){h.return=g,un=h;break t}un=g}}}var Hw={getCacheForType:function(i){var s=yn(Qe),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return yn(Qe).controller.signal}},qw=typeof WeakMap=="function"?WeakMap:Map,ue=0,be=null,Kt=null,Wt=0,pe=0,Jn=null,yr=!1,bo=!1,fp=!1,Bs=0,Oe=0,vr=0,Ta=0,dp=0,ti=0,xo=0,Xl=null,Un=null,hp=!1,tf=0,o_=0,ef=1/0,nf=null,_r=null,sn=0,br=null,To=null,zs=0,pp=0,mp=null,l_=null,Wl=0,gp=null;function ei(){return(ue&2)!==0&&Wt!==0?Wt&-Wt:Q.T!==null?Tp():ic()}function u_(){if(ti===0)if((Wt&536870912)===0||ee){var i=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),ti=i}else ti=536870912;return i=$n.current,i!==null&&(i.flags|=32),ti}function Fn(i,s,a){(i===be&&(pe===2||pe===9)||i.cancelPendingCommit!==null)&&(So(i,0),xr(i,Wt,ti,!1)),Wr(i,a),((ue&2)===0||i!==be)&&(i===be&&((ue&2)===0&&(Ta|=a),Oe===4&&xr(i,Wt,ti,!1)),ds(i))}function c_(i,s,a){if((ue&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Ii(i,s),h=l?Qw(i,s):vp(i,s,!0),g=l;do{if(h===0){bo&&!l&&xr(i,s,0,!1);break}else{if(a=i.current.alternate,g&&!Gw(a)){h=vp(i,s,!1),g=!1;continue}if(h===2){if(g=s,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var w=i;h=Xl;var z=w.current.memoizedState.isDehydrated;if(z&&(So(w,S).flags|=256),S=vp(w,S,!1),S!==2){if(fp&&!z){w.errorRecoveryDisabledLanes|=g,Ta|=g,h=4;break t}g=Un,Un=h,g!==null&&(Un===null?Un=g:Un.push.apply(Un,g))}h=S}if(g=!1,h!==2)continue}}if(h===1){So(i,0),xr(i,s,0,!0);break}t:{switch(l=i,g=h,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:xr(l,s,ti,!yr);break t;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=tf+300-Bt(),10<h)){if(xr(l,s,ti,!yr),Ki(l,0,!0)!==0)break t;zs=s,l.timeoutHandle=U_(f_.bind(null,l,a,Un,nf,hp,s,ti,Ta,xo,yr,g,"Throttled",-0,0),h);break t}f_(l,a,Un,nf,hp,s,ti,Ta,xo,yr,g,null,-0,0)}}break}while(!0);ds(i)}function f_(i,s,a,l,h,g,S,w,z,Z,lt,dt,J,it){if(i.timeoutHandle=-1,dt=s.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ji},i_(s,g,dt);var xt=(g&62914560)===g?tf-Bt():(g&4194048)===g?o_-Bt():0;if(xt=I2(dt,xt),xt!==null){zs=g,i.cancelPendingCommit=xt(__.bind(null,i,s,g,a,l,h,S,w,z,lt,dt,null,J,it)),xr(i,g,S,!Z);return}}__(i,s,g,a,l,h,S,w,z)}function Gw(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],g=h.getSnapshot;h=h.value;try{if(!Xn(g(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xr(i,s,a,l){s&=~dp,s&=~Ta,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var h=s;0<h;){var g=31-Le(h),S=1<<g;l[g]=-1,h&=~S}a!==0&&$r(i,a,s)}function sf(){return(ue&6)===0?($l(0),!1):!0}function yp(){if(Kt!==null){if(pe===0)var i=Kt.return;else i=Kt,Is=ha=null,Mh(i),ho=null,Ml=0,i=Kt;for(;i!==null;)Fv(i.alternate,i),i=i.return;Kt=null}}function So(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,f2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),zs=0,yp(),be=i,Kt=a=Cs(i.current,null),Wt=s,pe=0,Jn=null,yr=!1,bo=Ii(i,s),fp=!1,xo=ti=dp=Ta=vr=Oe=0,Un=Xl=null,hp=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var h=31-Le(l),g=1<<h;s|=i[h],l&=~g}return Bs=s,Ac(),a}function d_(i,s){qt=null,Q.H=Ul,s===fo||s===jc?(s=R0(),pe=3):s===xh?(s=R0(),pe=4):pe=s===Xh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Jn=s,Kt===null&&(Oe=1,Yc(i,mi(s,i.current)))}function h_(){var i=$n.current;return i===null?!0:(Wt&4194048)===Wt?_i===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?i===_i:!1}function p_(){var i=Q.H;return Q.H=Ul,i===null?Ul:i}function m_(){var i=Q.A;return Q.A=Hw,i}function rf(){Oe=4,yr||(Wt&4194048)!==Wt&&$n.current!==null||(bo=!0),(vr&134217727)===0&&(Ta&134217727)===0||be===null||xr(be,Wt,ti,!1)}function vp(i,s,a){var l=ue;ue|=2;var h=p_(),g=m_();(be!==i||Wt!==s)&&(nf=null,So(i,s)),s=!1;var S=Oe;t:do try{if(pe!==0&&Kt!==null){var w=Kt,z=Jn;switch(pe){case 8:yp(),S=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(s=!0);var Z=pe;if(pe=0,Jn=null,Ao(i,w,z,Z),a&&bo){S=0;break t}break;default:Z=pe,pe=0,Jn=null,Ao(i,w,z,Z)}}Yw(),S=Oe;break}catch(lt){d_(i,lt)}while(!0);return s&&i.shellSuspendCounter++,Is=ha=null,ue=l,Q.H=h,Q.A=g,Kt===null&&(be=null,Wt=0,Ac()),S}function Yw(){for(;Kt!==null;)g_(Kt)}function Qw(i,s){var a=ue;ue|=2;var l=p_(),h=m_();be!==i||Wt!==s?(nf=null,ef=Bt()+500,So(i,s)):bo=Ii(i,s);t:do try{if(pe!==0&&Kt!==null){s=Kt;var g=Jn;e:switch(pe){case 1:pe=0,Jn=null,Ao(i,s,g,1);break;case 2:case 9:if(w0(g)){pe=0,Jn=null,y_(s);break}s=function(){pe!==2&&pe!==9||be!==i||(pe=7),ds(i)},g.then(s,s);break t;case 3:pe=7;break t;case 4:pe=5;break t;case 7:w0(g)?(pe=0,Jn=null,y_(s)):(pe=0,Jn=null,Ao(i,s,g,7));break;case 5:var S=null;switch(Kt.tag){case 26:S=Kt.memoizedState;case 5:case 27:var w=Kt;if(S?nb(S):w.stateNode.complete){pe=0,Jn=null;var z=w.sibling;if(z!==null)Kt=z;else{var Z=w.return;Z!==null?(Kt=Z,af(Z)):Kt=null}break e}}pe=0,Jn=null,Ao(i,s,g,5);break;case 6:pe=0,Jn=null,Ao(i,s,g,6);break;case 8:yp(),Oe=6;break t;default:throw Error(r(462))}}Kw();break}catch(lt){d_(i,lt)}while(!0);return Is=ha=null,Q.H=l,Q.A=h,ue=a,Kt!==null?0:(be=null,Wt=0,Ac(),Oe)}function Kw(){for(;Kt!==null&&!gt();)g_(Kt)}function g_(i){var s=zv(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,s===null?af(i):Kt=s}function y_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Ov(a,s,s.pendingProps,s.type,void 0,Wt);break;case 11:s=Ov(a,s,s.pendingProps,s.type.render,s.ref,Wt);break;case 5:Mh(s);default:Fv(a,s),s=Kt=m0(s,Bs),s=zv(a,s,Bs)}i.memoizedProps=i.pendingProps,s===null?af(i):Kt=s}function Ao(i,s,a,l){Is=ha=null,Mh(s),ho=null,Ml=0;var h=s.return;try{if(kw(i,h,s,a,Wt)){Oe=1,Yc(i,mi(a,i.current)),Kt=null;return}}catch(g){if(h!==null)throw Kt=h,g;Oe=1,Yc(i,mi(a,i.current)),Kt=null;return}s.flags&32768?(ee||l===1?i=!0:bo||(Wt&536870912)!==0?i=!1:(yr=i=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(s,i)):af(s)}function af(i){var s=i;do{if((s.flags&32768)!==0){v_(s,yr);return}i=s.return;var a=Bw(s.alternate,s,Bs);if(a!==null){Kt=a;return}if(s=s.sibling,s!==null){Kt=s;return}Kt=s=i}while(s!==null);Oe===0&&(Oe=5)}function v_(i,s){do{var a=zw(i.alternate,i);if(a!==null){a.flags&=32767,Kt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Kt=i;return}Kt=i=a}while(i!==null);Oe=6,Kt=null}function __(i,s,a,l,h,g,S,w,z){i.cancelPendingCommit=null;do of();while(sn!==0);if((ue&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=ah,$d(i,a,g,S,w,z),i===be&&(Kt=be=null,Wt=0),To=s,br=i,zs=a,pp=g,mp=h,l_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Zw($s,function(){return A_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=st.p,st.p=2,S=ue,ue|=4;try{Uw(i,s,a)}finally{ue=S,st.p=h,Q.T=l}}sn=1,b_(),x_(),T_()}}function b_(){if(sn===1){sn=0;var i=br,s=To,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=st.p;st.p=2;var h=ue;ue|=4;try{t_(s,i);var g=Dp,S=a0(i.containerInfo),w=g.focusedElem,z=g.selectionRange;if(S!==w&&w&&w.ownerDocument&&r0(w.ownerDocument.documentElement,w)){if(z!==null&&eh(w)){var Z=z.start,lt=z.end;if(lt===void 0&&(lt=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(lt,w.value.length);else{var dt=w.ownerDocument||document,J=dt&&dt.defaultView||window;if(J.getSelection){var it=J.getSelection(),xt=w.textContent.length,Dt=Math.min(z.start,xt),_e=z.end===void 0?Dt:Math.min(z.end,xt);!it.extend&&Dt>_e&&(S=_e,_e=Dt,Dt=S);var Y=s0(w,Dt),F=s0(w,_e);if(Y&&F&&(it.rangeCount!==1||it.anchorNode!==Y.node||it.anchorOffset!==Y.offset||it.focusNode!==F.node||it.focusOffset!==F.offset)){var $=dt.createRange();$.setStart(Y.node,Y.offset),it.removeAllRanges(),Dt>_e?(it.addRange($),it.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),it.addRange($))}}}}for(dt=[],it=w;it=it.parentNode;)it.nodeType===1&&dt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<dt.length;w++){var ut=dt[w];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}_f=!!Ip,Dp=Ip=null}finally{ue=h,st.p=l,Q.T=a}}i.current=s,sn=2}}function x_(){if(sn===2){sn=0;var i=br,s=To,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=st.p;st.p=2;var h=ue;ue|=4;try{Xv(i,s.alternate,s)}finally{ue=h,st.p=l,Q.T=a}}sn=3}}function T_(){if(sn===4||sn===3){sn=0,ie();var i=br,s=To,a=zs,l=l_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,To=br=null,S_(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(_r=null),Ss(a),s=s.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ri,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,h=st.p,st.p=2,Q.T=null;try{for(var g=i.onRecoverableError,S=0;S<l.length;S++){var w=l[S];g(w.value,{componentStack:w.stack})}}finally{Q.T=s,st.p=h}}(zs&3)!==0&&of(),ds(i),h=i.pendingLanes,(a&261930)!==0&&(h&42)!==0?i===gp?Wl++:(Wl=0,gp=i):Wl=0,$l(0)}}function S_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vl(s)))}function of(){return b_(),x_(),T_(),A_()}function A_(){if(sn!==5)return!1;var i=br,s=pp;pp=0;var a=Ss(zs),l=Q.T,h=st.p;try{st.p=32>a?32:a,Q.T=null,a=mp,mp=null;var g=br,S=zs;if(sn=0,To=br=null,zs=0,(ue&6)!==0)throw Error(r(331));var w=ue;if(ue|=4,r_(g.current),n_(g,g.current,S,a),ue=w,$l(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ri,g)}catch{}return!0}finally{st.p=h,Q.T=l,S_(i,s)}}function E_(i,s,a){s=mi(a,s),s=Kh(i.stateNode,s,2),i=hr(i,s,2),i!==null&&(Wr(i,2),ds(i))}function me(i,s,a){if(i.tag===3)E_(i,i,a);else for(;s!==null;){if(s.tag===3){E_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){i=mi(a,i),a=wv(2),l=hr(s,a,2),l!==null&&(Cv(a,l,s,i),Wr(l,2),ds(l));break}}s=s.return}}function _p(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new qw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(fp=!0,h.add(a),i=Xw.bind(null,i,s,a),s.then(i,i))}function Xw(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,be===i&&(Wt&a)===a&&(Oe===4||Oe===3&&(Wt&62914560)===Wt&&300>Bt()-tf?(ue&2)===0&&So(i,0):dp|=a,xo===Wt&&(xo=0)),ds(i)}function w_(i,s){s===0&&(s=nc()),i=ca(i,s),i!==null&&(Wr(i,s),ds(i))}function Ww(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),w_(i,a)}function $w(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),w_(i,a)}function Zw(i,s){return Nt(i,s)}var lf=null,Eo=null,bp=!1,uf=!1,xp=!1,Tr=0;function ds(i){i!==Eo&&i.next===null&&(Eo===null?lf=Eo=i:Eo=Eo.next=i),uf=!0,bp||(bp=!0,t2())}function $l(i,s){if(!xp&&uf){xp=!0;do for(var a=!1,l=lf;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var g=0;else{var S=l.suspendedLanes,w=l.pingedLanes;g=(1<<31-Le(42|i)+1)-1,g&=h&~(S&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,D_(l,g))}else g=Wt,g=Ki(l,l===be?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Ii(l,g)||(a=!0,D_(l,g));l=l.next}while(a);xp=!1}}function Jw(){C_()}function C_(){uf=bp=!1;var i=0;Tr!==0&&c2()&&(i=Tr);for(var s=Bt(),a=null,l=lf;l!==null;){var h=l.next,g=R_(l,s);g===0?(l.next=null,a===null?lf=h:a.next=h,h===null&&(Eo=a)):(a=l,(i!==0||(g&3)!==0)&&(uf=!0)),l=h}sn!==0&&sn!==5||$l(i),Tr!==0&&(Tr=0)}function R_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Le(g),w=1<<S,z=h[S];z===-1?((w&a)===0||(w&l)!==0)&&(h[S]=Wd(w,s)):z<=s&&(i.expiredLanes|=w),g&=~w}if(s=be,a=Wt,a=Ki(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(pe===2||pe===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&at(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ii(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&at(l),Ss(a)){case 2:case 8:a=Gi;break;case 32:a=$s;break;case 268435456:a=$u;break;default:a=$s}return l=I_.bind(null,i),a=Nt(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&at(l),i.callbackPriority=2,i.callbackNode=null,2}function I_(i,s){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(of()&&i.callbackNode!==a)return null;var l=Wt;return l=Ki(i,i===be?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(c_(i,l,s),R_(i,Bt()),i.callbackNode!=null&&i.callbackNode===a?I_.bind(null,i):null)}function D_(i,s){if(of())return null;c_(i,s,!0)}function t2(){d2(function(){(ue&6)!==0?Nt(de,Jw):C_()})}function Tp(){if(Tr===0){var i=uo;i===0&&(i=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Tr=i}return Tr}function V_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function j_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function e2(i,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var g=V_((h[on]||null).action),S=l.submitter;S&&(s=(s=S[on]||null)?V_(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var w=new rs("action","action",null,l,h);i.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Tr!==0){var z=S?j_(h,S):new FormData(h);Fh(a,{pending:!0,data:z,method:h.method,action:g},null,z)}}else typeof g=="function"&&(w.preventDefault(),z=S?j_(h,S):new FormData(h),Fh(a,{pending:!0,data:z,method:h.method,action:g},g,z))},currentTarget:h}]})}}for(var Sp=0;Sp<rh.length;Sp++){var Ap=rh[Sp],n2=Ap.toLowerCase(),i2=Ap[0].toUpperCase()+Ap.slice(1);Pi(n2,"on"+i2)}Pi(u0,"onAnimationEnd"),Pi(c0,"onAnimationIteration"),Pi(f0,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(_w,"onTransitionRun"),Pi(bw,"onTransitionStart"),Pi(xw,"onTransitionCancel"),Pi(d0,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function M_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;t:{var g=void 0;if(s)for(var S=l.length-1;0<=S;S--){var w=l[S],z=w.instance,Z=w.currentTarget;if(w=w.listener,z!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=Z;try{g(h)}catch(lt){Sc(lt)}h.currentTarget=null,g=z}else for(S=0;S<l.length;S++){if(w=l[S],z=w.instance,Z=w.currentTarget,w=w.listener,z!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=Z;try{g(h)}catch(lt){Sc(lt)}h.currentTarget=null,g=z}}}}function Xt(i,s){var a=s[Ha];a===void 0&&(a=s[Ha]=new Set);var l=i+"__bubble";a.has(l)||(O_(s,i,2,!1),a.add(l))}function Ep(i,s,a){var l=0;s&&(l|=4),O_(a,i,l,s)}var cf="_reactListening"+Math.random().toString(36).slice(2);function wp(i){if(!i[cf]){i[cf]=!0,cl.forEach(function(a){a!=="selectionchange"&&(s2.has(a)||Ep(a,!1,i),Ep(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[cf]||(s[cf]=!0,Ep("selectionchange",!1,s))}}function O_(i,s,a,l){switch(ub(s)){case 2:var h=j2;break;case 8:h=M2;break;default:h=Up}a=h.bind(null,s,a,i),h=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(s,a,{capture:!0,passive:h}):i.addEventListener(s,a,!0):h!==void 0?i.addEventListener(s,a,{passive:h}):i.addEventListener(s,a,!1)}function Cp(i,s,a,l,h){var g=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var w=l.stateNode.containerInfo;if(w===h)break;if(S===4)for(S=l.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;w!==null;){if(S=Zi(w),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){l=g=S;continue t}w=w.parentNode}}l=l.return}ir(function(){var Z=g,lt=fi(a),dt=[];t:{var J=h0.get(i);if(J!==void 0){var it=rs,xt=i;switch(i){case"keypress":if(sa(a)===0)break t;case"keydown":case"keyup":it=bc;break;case"focusin":xt="focus",it=aa;break;case"focusout":xt="blur",it=aa;break;case"beforeblur":case"afterblur":it=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=x;break;case u0:case c0:case f0:it=hc;break;case d0:it=D;break;case"scroll":case"scrollend":it=Tl;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=ws;break;case"toggle":case"beforetoggle":it=Ht}var Dt=(s&4)!==0,_e=!Dt&&(i==="scroll"||i==="scrollend"),Y=Dt?J!==null?J+"Capture":null:J;Dt=[];for(var F=Z,$;F!==null;){var ut=F;if($=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||$===null||Y===null||(ut=Mi(F,Y),ut!=null&&Dt.push(Jl(F,ut,$))),_e)break;F=F.return}0<Dt.length&&(J=new it(J,xt,null,a,lt),dt.push({event:J,listeners:Dt}))}}if((s&7)===0){t:{if(J=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",J&&a!==_l&&(xt=a.relatedTarget||a.fromElement)&&(Zi(xt)||xt[Wi]))break t;if((it||J)&&(J=lt.window===lt?lt:(J=lt.ownerDocument)?J.defaultView||J.parentWindow:window,it?(xt=a.relatedTarget||a.toElement,it=Z,xt=xt?Zi(xt):null,xt!==null&&(_e=u(xt),Dt=xt.tag,xt!==_e||Dt!==5&&Dt!==27&&Dt!==6)&&(xt=null)):(it=null,xt=Z),it!==xt)){if(Dt=Sl,ut="onMouseLeave",Y="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Dt=ws,ut="onPointerLeave",Y="onPointerEnter",F="pointer"),_e=it==null?J:Qn(it),$=xt==null?J:Qn(xt),J=new Dt(ut,F+"leave",it,a,lt),J.target=_e,J.relatedTarget=$,ut=null,Zi(lt)===Z&&(Dt=new Dt(Y,F+"enter",xt,a,lt),Dt.target=$,Dt.relatedTarget=_e,ut=Dt),_e=ut,it&&xt)e:{for(Dt=r2,Y=it,F=xt,$=0,ut=Y;ut;ut=Dt(ut))$++;ut=0;for(var Rt=F;Rt;Rt=Dt(Rt))ut++;for(;0<$-ut;)Y=Dt(Y),$--;for(;0<ut-$;)F=Dt(F),ut--;for(;$--;){if(Y===F||F!==null&&Y===F.alternate){Dt=Y;break e}Y=Dt(Y),F=Dt(F)}Dt=null}else Dt=null;it!==null&&N_(dt,J,it,Dt,!1),xt!==null&&_e!==null&&N_(dt,_e,xt,Dt,!0)}}t:{if(J=Z?Qn(Z):window,it=J.nodeName&&J.nodeName.toLowerCase(),it==="select"||it==="input"&&J.type==="file")var ae=Zy;else if(Wy(J))if(Jy)ae=gw;else{ae=pw;var Et=hw}else it=J.nodeName,!it||it.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Qa(Z.elementType)&&(ae=Zy):ae=mw;if(ae&&(ae=ae(i,Z))){$y(dt,ae,a,lt);break t}Et&&Et(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&gl(J,"number",J.value)}switch(Et=Z?Qn(Z):window,i){case"focusin":(Wy(Et)||Et.contentEditable==="true")&&(eo=Et,nh=Z,Rl=null);break;case"focusout":Rl=nh=eo=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,o0(dt,a,lt);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":o0(dt,a,lt)}var Gt;if(le)t:{switch(i){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else to?oa(i,a)&&($t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&($t="onCompositionStart");$t&&(ls&&a.locale!=="ko"&&(to||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&to&&(Gt=xl()):(ss=lt,bl="value"in ss?ss.value:ss.textContent,to=!0)),Et=ff(Z,$t),0<Et.length&&($t=new os($t,i,null,a,lt),dt.push({event:$t,listeners:Et}),Gt?$t.data=Gt:(Gt=Ja(a),Gt!==null&&($t.data=Gt)))),(Gt=hi?uw(i,a):cw(i,a))&&($t=ff(Z,"onBeforeInput"),0<$t.length&&(Et=new os("onBeforeInput","beforeinput",null,a,lt),dt.push({event:Et,listeners:$t}),Et.data=Gt)),e2(dt,i,Z,a,lt)}M_(dt,s)})}function Jl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function ff(i,s){for(var a=s+"Capture",l=[];i!==null;){var h=i,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Mi(i,a),h!=null&&l.unshift(Jl(i,h,g)),h=Mi(i,s),h!=null&&l.push(Jl(i,h,g))),i.tag===3)return l;i=i.return}return[]}function r2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function N_(i,s,a,l,h){for(var g=s._reactName,S=[];a!==null&&a!==l;){var w=a,z=w.alternate,Z=w.stateNode;if(w=w.tag,z!==null&&z===l)break;w!==5&&w!==26&&w!==27||Z===null||(z=Z,h?(Z=Mi(a,g),Z!=null&&S.unshift(Jl(a,Z,z))):h||(Z=Mi(a,g),Z!=null&&S.push(Jl(a,Z,z)))),a=a.return}S.length!==0&&i.push({event:s,listeners:S})}var a2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function k_(i){return(typeof i=="string"?i:""+i).replace(a2,`
`).replace(o2,"")}function P_(i,s){return s=k_(s),k_(i)===s}function ve(i,s,a,l,h,g){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Pn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Pn(i,""+l);break;case"className":Kn(i,"class",l);break;case"tabIndex":Kn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(i,a,l);break;case"style":vl(i,l,g);break;case"data":if(s!=="object"){Kn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ka(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&ve(i,s,"name",h.name,h,null),ve(i,s,"formEncType",h.formEncType,h,null),ve(i,s,"formMethod",h.formMethod,h,null),ve(i,s,"formTarget",h.formTarget,h,null)):(ve(i,s,"encType",h.encType,h,null),ve(i,s,"method",h.method,h,null),ve(i,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ka(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ji);break;case"onScroll":l!=null&&Xt("scroll",i);break;case"onScrollEnd":l!=null&&Xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ka(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Xt("beforetoggle",i),Xt("toggle",i),Ga(i,"popover",l);break;case"xlinkActuate":Ye(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ye(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ye(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ye(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ye(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ye(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cc.get(a)||a,Ga(i,a,l))}}function Rp(i,s,a,l,h,g){switch(a){case"style":vl(i,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Pn(i,l):(typeof l=="number"||typeof l=="bigint")&&Pn(i,""+l);break;case"onScroll":l!=null&&Xt("scroll",i);break;case"onScrollEnd":l!=null&&Xt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),g=i[on]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(s,g,h),typeof l=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,h);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ga(i,a,l)}}}function _n(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",i),Xt("load",i);var l=!1,h=!1,g;for(g in a)if(a.hasOwnProperty(g)){var S=a[g];if(S!=null)switch(g){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(i,s,g,S,a,null)}}h&&ve(i,s,"srcSet",a.srcSet,a,null),l&&ve(i,s,"src",a.src,a,null);return;case"input":Xt("invalid",i);var w=g=S=h=null,z=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var lt=a[l];if(lt!=null)switch(l){case"name":h=lt;break;case"type":S=lt;break;case"checked":z=lt;break;case"defaultChecked":Z=lt;break;case"value":g=lt;break;case"defaultValue":w=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,s));break;default:ve(i,s,l,lt,a,null)}}oc(i,g,w,z,Z,S,h,!1);return;case"select":Xt("invalid",i),l=S=g=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":g=w;break;case"defaultValue":S=w;break;case"multiple":l=w;default:ve(i,s,h,w,a,null)}s=g,a=S,i.multiple=!!l,s!=null?Js(i,!!l,s,!1):a!=null&&Js(i,!!l,a,!0);return;case"textarea":Xt("invalid",i),g=h=l=null;for(S in a)if(a.hasOwnProperty(S)&&(w=a[S],w!=null))switch(S){case"value":l=w;break;case"defaultValue":h=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ve(i,s,S,w,a,null)}tr(i,l,h,g);return;case"option":for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!=null)&&(z==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":ve(i,s,z,l,a,null));return;case"dialog":Xt("beforetoggle",i),Xt("toggle",i),Xt("cancel",i),Xt("close",i);break;case"iframe":case"object":Xt("load",i);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Xt(Zl[l],i);break;case"image":Xt("error",i),Xt("load",i);break;case"details":Xt("toggle",i);break;case"embed":case"source":case"link":Xt("error",i),Xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(i,s,Z,l,a,null)}return;default:if(Qa(s)){for(lt in a)a.hasOwnProperty(lt)&&(l=a[lt],l!==void 0&&Rp(i,s,lt,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ve(i,s,w,l,a,null))}function l2(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,S=null,w=null,z=null,Z=null,lt=null;for(it in a){var dt=a[it];if(a.hasOwnProperty(it)&&dt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":z=dt;default:l.hasOwnProperty(it)||ve(i,s,it,null,l,dt)}}for(var J in l){var it=l[J];if(dt=a[J],l.hasOwnProperty(J)&&(it!=null||dt!=null))switch(J){case"type":g=it;break;case"name":h=it;break;case"checked":Z=it;break;case"defaultChecked":lt=it;break;case"value":S=it;break;case"defaultValue":w=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:it!==dt&&ve(i,s,J,it,l,dt)}}Ya(i,S,w,z,Z,lt,g,h);return;case"select":it=S=w=J=null;for(g in a)if(z=a[g],a.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":it=z;default:l.hasOwnProperty(g)||ve(i,s,g,null,l,z)}for(h in l)if(g=l[h],z=a[h],l.hasOwnProperty(h)&&(g!=null||z!=null))switch(h){case"value":J=g;break;case"defaultValue":w=g;break;case"multiple":S=g;default:g!==z&&ve(i,s,h,g,l,z)}s=w,a=S,l=it,J!=null?Js(i,!!a,J,!1):!!l!=!!a&&(s!=null?Js(i,!!a,s,!0):Js(i,!!a,a?[]:"",!1));return;case"textarea":it=J=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ve(i,s,w,null,l,h)}for(S in l)if(h=l[S],g=a[S],l.hasOwnProperty(S)&&(h!=null||g!=null))switch(S){case"value":J=h;break;case"defaultValue":it=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==g&&ve(i,s,S,h,l,g)}lc(i,J,it);return;case"option":for(var xt in a)J=a[xt],a.hasOwnProperty(xt)&&J!=null&&!l.hasOwnProperty(xt)&&(xt==="selected"?i.selected=!1:ve(i,s,xt,null,l,J));for(z in l)J=l[z],it=a[z],l.hasOwnProperty(z)&&J!==it&&(J!=null||it!=null)&&(z==="selected"?i.selected=J&&typeof J!="function"&&typeof J!="symbol":ve(i,s,z,J,l,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in a)J=a[Dt],a.hasOwnProperty(Dt)&&J!=null&&!l.hasOwnProperty(Dt)&&ve(i,s,Dt,null,l,J);for(Z in l)if(J=l[Z],it=a[Z],l.hasOwnProperty(Z)&&J!==it&&(J!=null||it!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:ve(i,s,Z,J,l,it)}return;default:if(Qa(s)){for(var _e in a)J=a[_e],a.hasOwnProperty(_e)&&J!==void 0&&!l.hasOwnProperty(_e)&&Rp(i,s,_e,void 0,l,J);for(lt in l)J=l[lt],it=a[lt],!l.hasOwnProperty(lt)||J===it||J===void 0&&it===void 0||Rp(i,s,lt,J,l,it);return}}for(var Y in a)J=a[Y],a.hasOwnProperty(Y)&&J!=null&&!l.hasOwnProperty(Y)&&ve(i,s,Y,null,l,J);for(dt in l)J=l[dt],it=a[dt],!l.hasOwnProperty(dt)||J===it||J==null&&it==null||ve(i,s,dt,J,l,it)}function L_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],g=h.transferSize,S=h.initiatorType,w=h.duration;if(g&&w&&L_(S)){for(S=0,w=h.responseEnd,l+=1;l<a.length;l++){var z=a[l],Z=z.startTime;if(Z>w)break;var lt=z.transferSize,dt=z.initiatorType;lt&&L_(dt)&&(z=z.responseEnd,S+=lt*(z<w?1:(w-Z)/(z-Z)))}if(--l,s+=8*(g+S)/(h.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ip=null,Dp=null;function df(i){return i.nodeType===9?i:i.ownerDocument}function B_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Vp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jp=null;function c2(){var i=window.event;return i&&i.type==="popstate"?i===jp?!1:(jp=i,!0):(jp=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(i){return F_.resolve(null).then(i).catch(h2)}:U_;function h2(i){setTimeout(function(){throw i})}function Sr(i){return i==="head"}function H_(i,s){var a=s,l=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(h),Io(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")tu(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,tu(a);for(var g=a.firstChild;g;){var S=g.nextSibling,w=g.nodeName;g[$i]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=S}}else a==="body"&&tu(i.ownerDocument.body);a=h}while(a);Io(s)}function q_(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Mp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mp(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function p2(i,s,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[$i])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=bi(i.nextSibling),i===null)break}return null}function m2(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=bi(i.nextSibling),i===null))return null;return i}function G_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=bi(i.nextSibling),i===null))return null;return i}function Op(i){return i.data==="$?"||i.data==="$~"}function Np(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function g2(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function bi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var kp=null;function Y_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return bi(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function Q_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function K_(i,s,a){switch(s=df(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function tu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);qa(i)}var xi=new Map,X_=new Set;function hf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Us=st.d;st.d={f:y2,r:v2,D:_2,C:b2,L:x2,m:T2,X:A2,S:S2,M:E2};function y2(){var i=Us.f(),s=sf();return i||s}function v2(i){var s=ci(i);s!==null&&s.tag===5&&s.type==="form"?dv(s):Us.r(i)}var wo=typeof document>"u"?null:document;function W_(i,s,a){var l=wo;if(l&&typeof s=="string"&&s){var h=kn(s);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),i={rel:i,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),_n(s,"link",i),Ge(s),l.head.appendChild(s)))}}function _2(i){Us.D(i),W_("dns-prefetch",i,null)}function b2(i,s){Us.C(i,s),W_("preconnect",i,s)}function x2(i,s,a){Us.L(i,s,a);var l=wo;if(l&&i&&s){var h='link[rel="preload"][as="'+kn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+kn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+kn(a.imageSizes)+'"]')):h+='[href="'+kn(i)+'"]';var g=h;switch(s){case"style":g=Co(i);break;case"script":g=Ro(i)}xi.has(g)||(i=f({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),xi.set(g,i),l.querySelector(h)!==null||s==="style"&&l.querySelector(eu(g))||s==="script"&&l.querySelector(nu(g))||(s=l.createElement("link"),_n(s,"link",i),Ge(s),l.head.appendChild(s)))}}function T2(i,s){Us.m(i,s);var a=wo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+kn(l)+'"][href="'+kn(i)+'"]',g=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ro(i)}if(!xi.has(g)&&(i=f({rel:"modulepreload",href:i},s),xi.set(g,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nu(g)))return}l=a.createElement("link"),_n(l,"link",i),Ge(l),a.head.appendChild(l)}}}function S2(i,s,a){Us.S(i,s,a);var l=wo;if(l&&i){var h=Ji(l).hoistableStyles,g=Co(i);s=s||"default";var S=h.get(g);if(!S){var w={loading:0,preload:null};if(S=l.querySelector(eu(g)))w.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":s},a),(a=xi.get(g))&&Pp(i,a);var z=S=l.createElement("link");Ge(z),_n(z,"link",i),z._p=new Promise(function(Z,lt){z.onload=Z,z.onerror=lt}),z.addEventListener("load",function(){w.loading|=1}),z.addEventListener("error",function(){w.loading|=2}),w.loading|=4,pf(S,s,l)}S={type:"stylesheet",instance:S,count:1,state:w},h.set(g,S)}}}function A2(i,s){Us.X(i,s);var a=wo;if(a&&i){var l=Ji(a).hoistableScripts,h=Ro(i),g=l.get(h);g||(g=a.querySelector(nu(h)),g||(i=f({src:i,async:!0},s),(s=xi.get(h))&&Lp(i,s),g=a.createElement("script"),Ge(g),_n(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function E2(i,s){Us.M(i,s);var a=wo;if(a&&i){var l=Ji(a).hoistableScripts,h=Ro(i),g=l.get(h);g||(g=a.querySelector(nu(h)),g||(i=f({src:i,async:!0,type:"module"},s),(s=xi.get(h))&&Lp(i,s),g=a.createElement("script"),Ge(g),_n(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function $_(i,s,a,l){var h=(h=St.current)?hf(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Co(a.href),a=Ji(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Co(a.href);var g=Ji(h).hoistableStyles,S=g.get(i);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=h.querySelector(eu(i)))&&!g._p&&(S.instance=g,S.state.loading=5),xi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xi.set(i,a),g||w2(h,i,a,S.state))),s&&l===null)throw Error(r(528,""));return S}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(a),a=Ji(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Co(i){return'href="'+kn(i)+'"'}function eu(i){return'link[rel="stylesheet"]['+i+"]"}function Z_(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function w2(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),_n(s,"link",a),Ge(s),i.head.appendChild(s))}function Ro(i){return'[src="'+kn(i)+'"]'}function nu(i){return"script[async]"+i}function J_(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+kn(a.href)+'"]');if(l)return s.instance=l,Ge(l),l;var h=f({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ge(l),_n(l,"style",h),pf(l,a.precedence,i),s.instance=l;case"stylesheet":h=Co(a.href);var g=i.querySelector(eu(h));if(g)return s.state.loading|=4,s.instance=g,Ge(g),g;l=Z_(a),(h=xi.get(h))&&Pp(l,h),g=(i.ownerDocument||i).createElement("link"),Ge(g);var S=g;return S._p=new Promise(function(w,z){S.onload=w,S.onerror=z}),_n(g,"link",l),s.state.loading|=4,pf(g,a.precedence,i),s.instance=g;case"script":return g=Ro(a.src),(h=i.querySelector(nu(g)))?(s.instance=h,Ge(h),h):(l=a,(h=xi.get(g))&&(l=f({},a),Lp(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),Ge(h),_n(h,"link",l),i.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,pf(l,a.precedence,i));return s.instance}function pf(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,g=h,S=0;S<l.length;S++){var w=l[S];if(w.dataset.precedence===s)g=w;else if(g!==h)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Pp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var mf=null;function tb(i,s,a){if(mf===null){var l=new Map,h=mf=new Map;h.set(a,l)}else h=mf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var g=a[h];if(!(g[$i]||g[qe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=i+S;var w=l.get(S);w?w.push(g):l.set(S,[g])}}return l}function eb(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function C2(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function R2(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Co(l.href),g=s.querySelector(eu(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=gf.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=g,Ge(g);return}g=s.ownerDocument||s,l=Z_(l),(h=xi.get(h))&&Pp(l,h),g=g.createElement("link"),Ge(g);var S=g;S._p=new Promise(function(w,z){S.onload=w,S.onerror=z}),_n(g,"link",l),a.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=gf.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Bp=0;function I2(i,s){return i.stylesheets&&i.count===0&&vf(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Bp===0&&(Bp=62500*u2());var h=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Bp?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yf=null;function vf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yf=new Map,s.forEach(D2,i),yf=null,gf.call(i))}function D2(i,s){if(!(s.state.loading&4)){var a=yf.get(i);if(a)var l=a.get(null);else{a=new Map,yf.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var S=h[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),l=S)}l&&a.set(null,l)}h=s.instance,S=h.getAttribute("data-precedence"),g=a.get(S)||l,g===l&&a.set(null,h),a.set(S,h),this.count++,l=gf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),g?g.parentNode.insertBefore(h,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),s.state.loading|=4}}var iu={$$typeof:B,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function V2(i,s,a,l,h,g,S,w,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function ib(i,s,a,l,h,g,S,w,z,Z,lt,dt){return i=new V2(i,s,a,S,z,Z,lt,dt,w),s=1,g===!0&&(s|=24),g=Wn(3,null,null,s),i.current=g,g.stateNode=i,s=vh(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:s},Th(g),i}function sb(i){return i?(i=so,i):so}function rb(i,s,a,l,h,g){h=sb(h),l.context===null?l.context=h:l.pendingContext=h,l=dr(s),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=hr(i,l,s),a!==null&&(Fn(a,i,s),Nl(a,i,s))}function ab(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function zp(i,s){ab(i,s),(i=i.alternate)&&ab(i,s)}function ob(i){if(i.tag===13||i.tag===31){var s=ca(i,67108864);s!==null&&Fn(s,i,67108864),zp(i,67108864)}}function lb(i){if(i.tag===13||i.tag===31){var s=ei();s=Zr(s);var a=ca(i,s);a!==null&&Fn(a,i,s),zp(i,s)}}var _f=!0;function j2(i,s,a,l){var h=Q.T;Q.T=null;var g=st.p;try{st.p=2,Up(i,s,a,l)}finally{st.p=g,Q.T=h}}function M2(i,s,a,l){var h=Q.T;Q.T=null;var g=st.p;try{st.p=8,Up(i,s,a,l)}finally{st.p=g,Q.T=h}}function Up(i,s,a,l){if(_f){var h=Fp(l);if(h===null)Cp(i,s,l,bf,a),cb(i,l);else if(N2(h,i,s,a,l))l.stopPropagation();else if(cb(i,l),s&4&&-1<O2.indexOf(i)){for(;h!==null;){var g=ci(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Qi(g.pendingLanes);if(S!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var z=1<<31-Le(S);w.entanglements[1]|=z,S&=~z}ds(g),(ue&6)===0&&(ef=Bt()+500,$l(0))}}break;case 31:case 13:w=ca(g,2),w!==null&&Fn(w,g,2),sf(),zp(g,2)}if(g=Fp(l),g===null&&Cp(i,s,l,bf,a),g===h)break;h=g}h!==null&&l.stopPropagation()}else Cp(i,s,l,null,a)}}function Fp(i){return i=fi(i),Hp(i)}var bf=null;function Hp(i){if(bf=null,i=Zi(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=p(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return bf=i,null}function ub(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case de:return 2;case Gi:return 8;case $s:case Xd:return 32;case $u:return 268435456;default:return 32}default:return 32}}var qp=!1,Ar=null,Er=null,wr=null,su=new Map,ru=new Map,Cr=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(i,s){switch(i){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(s.pointerId)}}function au(i,s,a,l,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[h]},s!==null&&(s=ci(s),s!==null&&ob(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function N2(i,s,a,l,h){switch(s){case"focusin":return Ar=au(Ar,i,s,a,l,h),!0;case"dragenter":return Er=au(Er,i,s,a,l,h),!0;case"mouseover":return wr=au(wr,i,s,a,l,h),!0;case"pointerover":var g=h.pointerId;return su.set(g,au(su.get(g)||null,i,s,a,l,h)),!0;case"gotpointercapture":return g=h.pointerId,ru.set(g,au(ru.get(g)||null,i,s,a,l,h)),!0}return!1}function fb(i){var s=Zi(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Di(i.priority,function(){lb(a)});return}}else if(s===31){if(s=p(a),s!==null){i.blockedOn=s,Di(i.priority,function(){lb(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Fp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);_l=l,a.target.dispatchEvent(l),_l=null}else return s=ci(a),s!==null&&ob(s),i.blockedOn=a,!1;s.shift()}return!0}function db(i,s,a){xf(i)&&a.delete(s)}function k2(){qp=!1,Ar!==null&&xf(Ar)&&(Ar=null),Er!==null&&xf(Er)&&(Er=null),wr!==null&&xf(wr)&&(wr=null),su.forEach(db),ru.forEach(db)}function Tf(i,s){i.blockedOn===s&&(i.blockedOn=null,qp||(qp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,k2)))}var Sf=null;function hb(i){Sf!==i&&(Sf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sf===i&&(Sf=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],h=i[s+2];if(typeof l!="function"){if(Hp(l||a)===null)continue;break}var g=ci(a);g!==null&&(i.splice(s,3),s-=3,Fh(g,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Io(i){function s(z){return Tf(z,i)}Ar!==null&&Tf(Ar,i),Er!==null&&Tf(Er,i),wr!==null&&Tf(wr,i),su.forEach(s),ru.forEach(s);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)fb(a),a.blockedOn===null&&Cr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],g=a[l+1],S=h[on]||null;if(typeof g=="function")S||hb(a);else if(S){var w=null;if(g&&g.hasAttribute("formAction")){if(h=g,S=g[on]||null)w=S.formAction;else if(Hp(h)!==null)continue}else w=S.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),hb(a)}}}function pb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Gp(i){this._internalRoot=i}Af.prototype.render=Gp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ei();rb(a,l,i,s,null,null)},Af.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;rb(i.current,2,null,i,null,null),sf(),s[Wi]=null}};function Af(i){this._internalRoot=i}Af.prototype.unstable_scheduleHydration=function(i){if(i){var s=ic();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Cr.length&&s!==0&&s<Cr[a].priority;a++);Cr.splice(a,0,i),a===0&&fb(i)}};var mb=t.version;if(mb!=="19.2.3")throw Error(r(527,mb,"19.2.3"));st.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=v(s),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var P2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Ri=Ef.inject(P2),pn=Ef}catch{}}return uu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",h=Tv,g=Sv,S=Av;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=ib(i,1,!1,null,null,a,l,null,h,g,S,pb),i[Wi]=s.current,wp(i),new Gp(s)},uu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,h="",g=Tv,S=Sv,w=Av,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),s=ib(i,1,!0,s,a??null,l,h,z,g,S,w,pb),s.context=sb(null),a=s.current,l=ei(),l=Zr(l),h=dr(l),h.callback=null,hr(a,h,l),a=l,s.current.lanes=a,Wr(s,a),ds(s),i[Wi]=s.current,wp(i),new Af(s)},uu.version="19.2.3",uu}var Eb;function Q2(){if(Eb)return Kp.exports;Eb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Kp.exports=Y2(),Kp.exports}var K2=Q2();const X2=()=>{};var wb={};const _T=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},W2=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],p=n[e++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},bT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,p=c?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,b=u>>2,f=(u&3)<<4|p>>4;let _=(p&15)<<2|v>>6,T=v&63;m||(T=64,c||(_=64)),r.push(e[b],e[f],e[_],e[T])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_T(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):W2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],p=o<n.length?e[n.charAt(o)]:0;++o;const v=o<n.length?e[n.charAt(o)]:64;++o;const f=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||p==null||v==null||f==null)throw new $2;const _=u<<2|p>>4;if(r.push(_),v!==64){const T=p<<4&240|v>>2;if(r.push(T),f!==64){const E=v<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z2=function(n){const t=_T(n);return bT.encodeByteArray(t,!0)},Wf=function(n){return Z2(n).replace(/\./g,"")},J2=function(n){try{return bT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eC=()=>tC().__FIREBASE_DEFAULTS__,nC=()=>{if(typeof process>"u"||typeof wb>"u")return;const n=wb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&J2(n[1]);return t&&JSON.parse(t)},xg=()=>{try{return X2()||eC()||nC()||iC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sC=n=>xg()?.emulatorHosts?.[n],rC=n=>{const t=sC(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},xT=()=>xg()?.config;class aC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Tg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oC(n){return(await fetch(n,{credentials:"include"})).ok}function lC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wf(JSON.stringify(e)),Wf(JSON.stringify(c)),""].join(".")}const yu={};function uC(){const n={prod:[],emulator:[]};for(const t of Object.keys(yu))yu[t]?n.emulator.push(t):n.prod.push(t);return n}function cC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Cb=!1;function fC(n,t){if(typeof window>"u"||typeof document>"u"||!Tg(window.location.host)||yu[n]===t||yu[n]||Cb)return;yu[n]=t;function e(_){return`__firebase__banner__${_}`}const r="__firebase__banner",u=uC().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function v(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Cb=!0,c()},_}function b(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function f(){const _=cC(r),T=e("text"),E=document.getElementById(T)||document.createElement("span"),R=e("learnmore"),M=document.getElementById(R)||document.createElement("a"),j=e("preprendIcon"),N=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;p(B),b(M,R);const G=v();m(N,j),B.append(N,E,M,G),document.body.appendChild(B)}u?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function dC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hC(){const n=xg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}function gC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const yC="FirebaseError";class Gr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=yC,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?vC(u,r):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Gr(o,p,r)}}function vC(n,t){return n.replace(_C,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const _C=/\{\$([^}]+)}/g;function wu(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(Rb(u)&&Rb(c)){if(!wu(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function Rb(n){return n!==null&&typeof n=="object"}const bC=1e3,xC=2,TC=14400*1e3,SC=.5;function Ib(n,t=bC,e=xC){const r=t*Math.pow(e,n),o=Math.round(SC*r*(Math.random()-.5)*2);return Math.min(TC,r+o)}function ai(n){return n&&n._delegate?n._delegate:n}class Hs{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class AC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new aC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wC(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EC(n){return n===Ea?void 0:n}function wC(n){return n.instantiationMode==="EAGER"}class CC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new AC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(re||(re={}));const RC={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},IC=re.INFO,DC={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},VC=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=DC[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sg{constructor(t){this.name=t,this._logLevel=IC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const jC=(n,t)=>t.some(e=>n instanceof e);let Db,Vb;function MC(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,Cm=new WeakMap,ET=new WeakMap,Zp=new WeakMap,Ag=new WeakMap;function NC(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(jr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&AT.set(e,n)}).catch(()=>{}),Ag.set(t,n),t}function kC(n){if(Cm.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Cm.set(n,t)}let Rm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Cm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ET.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return jr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function PC(n){Rm=n(Rm)}function LC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Jp(this),t,...e);return ET.set(r,t.sort?t.sort():[t]),jr(r)}:OC().includes(n)?function(...t){return n.apply(Jp(this),t),jr(AT.get(this))}:function(...t){return jr(n.apply(Jp(this),t))}}function BC(n){return typeof n=="function"?LC(n):(n instanceof IDBTransaction&&kC(n),jC(n,MC())?new Proxy(n,Rm):n)}function jr(n){if(n instanceof IDBRequest)return NC(n);if(Zp.has(n))return Zp.get(n);const t=BC(n);return t!==n&&(Zp.set(n,t),Ag.set(t,n)),t}const Jp=n=>Ag.get(n);function wT(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),p=jr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(jr(c.result),m.oldVersion,m.newVersion,jr(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const zC=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],tm=new Map;function jb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(tm.get(t))return tm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=UC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zC.includes(e)))return;const u=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let v=m.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[e](...p),o&&m.done]))[0]};return tm.set(t,u),u}PC(n=>({...n,get:(t,e,r)=>jb(t,e)||n.get(t,e,r),has:(t,e)=>!!jb(t,e)||n.has(t,e)}));class FC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(HC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function HC(n){return n.getComponent()?.type==="VERSION"}const Im="@firebase/app",Mb="0.14.6";const qs=new Sg("@firebase/app"),qC="@firebase/app-compat",GC="@firebase/analytics-compat",YC="@firebase/analytics",QC="@firebase/app-check-compat",KC="@firebase/app-check",XC="@firebase/auth",WC="@firebase/auth-compat",$C="@firebase/database",ZC="@firebase/data-connect",JC="@firebase/database-compat",tR="@firebase/functions",eR="@firebase/functions-compat",nR="@firebase/installations",iR="@firebase/installations-compat",sR="@firebase/messaging",rR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",fR="@firebase/storage-compat",dR="@firebase/firestore",hR="@firebase/ai",pR="@firebase/firestore-compat",mR="firebase",gR="12.6.0";const Dm="[DEFAULT]",yR={[Im]:"fire-core",[qC]:"fire-core-compat",[YC]:"fire-analytics",[GC]:"fire-analytics-compat",[KC]:"fire-app-check",[QC]:"fire-app-check-compat",[XC]:"fire-auth",[WC]:"fire-auth-compat",[$C]:"fire-rtdb",[ZC]:"fire-data-connect",[JC]:"fire-rtdb-compat",[tR]:"fire-fn",[eR]:"fire-fn-compat",[nR]:"fire-iid",[iR]:"fire-iid-compat",[sR]:"fire-fcm",[rR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[fR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};const $f=new Map,vR=new Map,Vm=new Map;function Ob(n,t){try{n.container.addComponent(t)}catch(e){qs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kr(n){const t=n.name;if(Vm.has(t))return qs.debug(`There were multiple attempts to register component ${t}.`),!1;Vm.set(t,n);for(const e of $f.values())Ob(e,n);for(const e of vR.values())Ob(e,n);return!0}function zu(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _R(n){return n==null?!1:n.settings!==void 0}const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new bd("app","Firebase",bR);class xR{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const TR=gR;function CT(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Dm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(e||(e=xT()),!e)throw Mr.create("no-options");const u=$f.get(o);if(u){if(wu(e,u.options)&&wu(r,u.config))return u;throw Mr.create("duplicate-app",{appName:o})}const c=new CC(o);for(const m of Vm.values())c.addComponent(m);const p=new xR(e,r,c);return $f.set(o,p),p}function RT(n=Dm){const t=$f.get(n);if(!t&&n===Dm&&xT())return CT();if(!t)throw Mr.create("no-app",{appName:n});return t}function ms(n,t,e){let r=yR[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qs.warn(c.join(" "));return}kr(new Hs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const SR="firebase-heartbeat-database",AR=1,Cu="firebase-heartbeat-store";let em=null;function IT(){return em||(em=wT(SR,AR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Cu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Mr.create("idb-open",{originalErrorMessage:n.message})})),em}async function ER(n){try{const e=(await IT()).transaction(Cu),r=await e.objectStore(Cu).get(DT(n));return await e.done,r}catch(t){if(t instanceof Gr)qs.warn(t.message);else{const e=Mr.create("idb-get",{originalErrorMessage:t?.message});qs.warn(e.message)}}}async function Nb(n,t){try{const r=(await IT()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(t,DT(n)),await r.done}catch(e){if(e instanceof Gr)qs.warn(e.message);else{const r=Mr.create("idb-set",{originalErrorMessage:e?.message});qs.warn(r.message)}}}function DT(n){return`${n.name}!${n.options.appId}`}const wR=1024,CR=30;class RR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new DR(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>CR){const o=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kb(),{heartbeatsToSend:e,unsentEntries:r}=IR(this._heartbeatsCache.heartbeats),o=Wf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qs.warn(t),""}}}function kb(){return new Date().toISOString().substring(0,10)}function IR(n,t=wR){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Pb(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Pb(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class DR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ER(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Pb(n){return Wf(JSON.stringify({version:2,heartbeats:n})).length}function VR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function jR(n){kr(new Hs("platform-logger",t=>new FC(t),"PRIVATE")),kr(new Hs("heartbeat",t=>new RR(t),"PRIVATE")),ms(Im,Mb,n),ms(Im,Mb,"esm2020"),ms("fire-js","")}jR("");var MR="firebase",OR="12.7.0";ms(MR,OR,"app");var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Or,VT;(function(){var n;function t(V,C){function I(){}I.prototype=C.prototype,V.F=C.prototype,V.prototype=new I,V.prototype.constructor=V,V.D=function(P,L,U){for(var k=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)k[Ct-2]=arguments[Ct];return C.prototype[L].apply(P,k)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,C,I){I||(I=0);const P=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)P[L]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(L=0;L<16;++L)P[L]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=V.g[0],I=V.g[1],L=V.g[2];let U=V.g[3],k;k=C+(U^I&(L^U))+P[0]+3614090360&4294967295,C=I+(k<<7&4294967295|k>>>25),k=U+(L^C&(I^L))+P[1]+3905402710&4294967295,U=C+(k<<12&4294967295|k>>>20),k=L+(I^U&(C^I))+P[2]+606105819&4294967295,L=U+(k<<17&4294967295|k>>>15),k=I+(C^L&(U^C))+P[3]+3250441966&4294967295,I=L+(k<<22&4294967295|k>>>10),k=C+(U^I&(L^U))+P[4]+4118548399&4294967295,C=I+(k<<7&4294967295|k>>>25),k=U+(L^C&(I^L))+P[5]+1200080426&4294967295,U=C+(k<<12&4294967295|k>>>20),k=L+(I^U&(C^I))+P[6]+2821735955&4294967295,L=U+(k<<17&4294967295|k>>>15),k=I+(C^L&(U^C))+P[7]+4249261313&4294967295,I=L+(k<<22&4294967295|k>>>10),k=C+(U^I&(L^U))+P[8]+1770035416&4294967295,C=I+(k<<7&4294967295|k>>>25),k=U+(L^C&(I^L))+P[9]+2336552879&4294967295,U=C+(k<<12&4294967295|k>>>20),k=L+(I^U&(C^I))+P[10]+4294925233&4294967295,L=U+(k<<17&4294967295|k>>>15),k=I+(C^L&(U^C))+P[11]+2304563134&4294967295,I=L+(k<<22&4294967295|k>>>10),k=C+(U^I&(L^U))+P[12]+1804603682&4294967295,C=I+(k<<7&4294967295|k>>>25),k=U+(L^C&(I^L))+P[13]+4254626195&4294967295,U=C+(k<<12&4294967295|k>>>20),k=L+(I^U&(C^I))+P[14]+2792965006&4294967295,L=U+(k<<17&4294967295|k>>>15),k=I+(C^L&(U^C))+P[15]+1236535329&4294967295,I=L+(k<<22&4294967295|k>>>10),k=C+(L^U&(I^L))+P[1]+4129170786&4294967295,C=I+(k<<5&4294967295|k>>>27),k=U+(I^L&(C^I))+P[6]+3225465664&4294967295,U=C+(k<<9&4294967295|k>>>23),k=L+(C^I&(U^C))+P[11]+643717713&4294967295,L=U+(k<<14&4294967295|k>>>18),k=I+(U^C&(L^U))+P[0]+3921069994&4294967295,I=L+(k<<20&4294967295|k>>>12),k=C+(L^U&(I^L))+P[5]+3593408605&4294967295,C=I+(k<<5&4294967295|k>>>27),k=U+(I^L&(C^I))+P[10]+38016083&4294967295,U=C+(k<<9&4294967295|k>>>23),k=L+(C^I&(U^C))+P[15]+3634488961&4294967295,L=U+(k<<14&4294967295|k>>>18),k=I+(U^C&(L^U))+P[4]+3889429448&4294967295,I=L+(k<<20&4294967295|k>>>12),k=C+(L^U&(I^L))+P[9]+568446438&4294967295,C=I+(k<<5&4294967295|k>>>27),k=U+(I^L&(C^I))+P[14]+3275163606&4294967295,U=C+(k<<9&4294967295|k>>>23),k=L+(C^I&(U^C))+P[3]+4107603335&4294967295,L=U+(k<<14&4294967295|k>>>18),k=I+(U^C&(L^U))+P[8]+1163531501&4294967295,I=L+(k<<20&4294967295|k>>>12),k=C+(L^U&(I^L))+P[13]+2850285829&4294967295,C=I+(k<<5&4294967295|k>>>27),k=U+(I^L&(C^I))+P[2]+4243563512&4294967295,U=C+(k<<9&4294967295|k>>>23),k=L+(C^I&(U^C))+P[7]+1735328473&4294967295,L=U+(k<<14&4294967295|k>>>18),k=I+(U^C&(L^U))+P[12]+2368359562&4294967295,I=L+(k<<20&4294967295|k>>>12),k=C+(I^L^U)+P[5]+4294588738&4294967295,C=I+(k<<4&4294967295|k>>>28),k=U+(C^I^L)+P[8]+2272392833&4294967295,U=C+(k<<11&4294967295|k>>>21),k=L+(U^C^I)+P[11]+1839030562&4294967295,L=U+(k<<16&4294967295|k>>>16),k=I+(L^U^C)+P[14]+4259657740&4294967295,I=L+(k<<23&4294967295|k>>>9),k=C+(I^L^U)+P[1]+2763975236&4294967295,C=I+(k<<4&4294967295|k>>>28),k=U+(C^I^L)+P[4]+1272893353&4294967295,U=C+(k<<11&4294967295|k>>>21),k=L+(U^C^I)+P[7]+4139469664&4294967295,L=U+(k<<16&4294967295|k>>>16),k=I+(L^U^C)+P[10]+3200236656&4294967295,I=L+(k<<23&4294967295|k>>>9),k=C+(I^L^U)+P[13]+681279174&4294967295,C=I+(k<<4&4294967295|k>>>28),k=U+(C^I^L)+P[0]+3936430074&4294967295,U=C+(k<<11&4294967295|k>>>21),k=L+(U^C^I)+P[3]+3572445317&4294967295,L=U+(k<<16&4294967295|k>>>16),k=I+(L^U^C)+P[6]+76029189&4294967295,I=L+(k<<23&4294967295|k>>>9),k=C+(I^L^U)+P[9]+3654602809&4294967295,C=I+(k<<4&4294967295|k>>>28),k=U+(C^I^L)+P[12]+3873151461&4294967295,U=C+(k<<11&4294967295|k>>>21),k=L+(U^C^I)+P[15]+530742520&4294967295,L=U+(k<<16&4294967295|k>>>16),k=I+(L^U^C)+P[2]+3299628645&4294967295,I=L+(k<<23&4294967295|k>>>9),k=C+(L^(I|~U))+P[0]+4096336452&4294967295,C=I+(k<<6&4294967295|k>>>26),k=U+(I^(C|~L))+P[7]+1126891415&4294967295,U=C+(k<<10&4294967295|k>>>22),k=L+(C^(U|~I))+P[14]+2878612391&4294967295,L=U+(k<<15&4294967295|k>>>17),k=I+(U^(L|~C))+P[5]+4237533241&4294967295,I=L+(k<<21&4294967295|k>>>11),k=C+(L^(I|~U))+P[12]+1700485571&4294967295,C=I+(k<<6&4294967295|k>>>26),k=U+(I^(C|~L))+P[3]+2399980690&4294967295,U=C+(k<<10&4294967295|k>>>22),k=L+(C^(U|~I))+P[10]+4293915773&4294967295,L=U+(k<<15&4294967295|k>>>17),k=I+(U^(L|~C))+P[1]+2240044497&4294967295,I=L+(k<<21&4294967295|k>>>11),k=C+(L^(I|~U))+P[8]+1873313359&4294967295,C=I+(k<<6&4294967295|k>>>26),k=U+(I^(C|~L))+P[15]+4264355552&4294967295,U=C+(k<<10&4294967295|k>>>22),k=L+(C^(U|~I))+P[6]+2734768916&4294967295,L=U+(k<<15&4294967295|k>>>17),k=I+(U^(L|~C))+P[13]+1309151649&4294967295,I=L+(k<<21&4294967295|k>>>11),k=C+(L^(I|~U))+P[4]+4149444226&4294967295,C=I+(k<<6&4294967295|k>>>26),k=U+(I^(C|~L))+P[11]+3174756917&4294967295,U=C+(k<<10&4294967295|k>>>22),k=L+(C^(U|~I))+P[2]+718787259&4294967295,L=U+(k<<15&4294967295|k>>>17),k=I+(U^(L|~C))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+U&4294967295}r.prototype.v=function(V,C){C===void 0&&(C=V.length);const I=C-this.blockSize,P=this.C;let L=this.h,U=0;for(;U<C;){if(L==0)for(;U<=I;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<C;)if(P[L++]=V.charCodeAt(U++),L==this.blockSize){o(this,P),L=0;break}}else for(;U<C;)if(P[L++]=V[U++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=C},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;C=this.o*8;for(var I=V.length-8;I<V.length;++I)V[I]=C&255,C/=256;for(this.v(V),V=Array(16),C=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)V[C++]=this.g[I]>>>P&255;return V};function u(V,C){var I=p;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=C(V)}function c(V,C){this.h=C;const I=[];let P=!0;for(let L=V.length-1;L>=0;L--){const U=V[L]|0;P&&U==C||(I[L]=U,P=!1)}this.g=I}var p={};function m(V){return-128<=V&&V<128?u(V,function(C){return new c([C|0],C<0?-1:0)}):new c([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return f;if(V<0)return M(v(-V));const C=[];let I=1;for(let P=0;V>=I;P++)C[P]=V/I|0,I*=4294967296;return new c(C,0)}function b(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return M(b(V.substring(1),C));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(C,8));let P=f;for(let U=0;U<V.length;U+=8){var L=Math.min(8,V.length-U);const k=parseInt(V.substring(U,U+L),C);L<8?(L=v(Math.pow(C,L)),P=P.j(L).add(v(k))):(P=P.j(I),P=P.add(v(k)))}return P}var f=m(0),_=m(1),T=m(16777216);n=c.prototype,n.m=function(){if(R(this))return-M(this).m();let V=0,C=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);V+=(P>=0?P:4294967296+P)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(E(this))return"0";if(R(this))return"-"+M(this).toString(V);const C=v(Math.pow(V,6));var I=this;let P="";for(;;){const L=G(I,C).g;I=j(I,L.j(C));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(V);if(I=L,E(I))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},n.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function E(V){if(V.h!=0)return!1;for(let C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function R(V){return V.h==-1}n.l=function(V){return V=j(this,V),R(V)?-1:E(V)?0:1};function M(V){const C=V.g.length,I=[];for(let P=0;P<C;P++)I[P]=~V.g[P];return new c(I,~V.h).add(_)}n.abs=function(){return R(this)?M(this):this},n.add=function(V){const C=Math.max(this.g.length,V.g.length),I=[];let P=0;for(let L=0;L<=C;L++){let U=P+(this.i(L)&65535)+(V.i(L)&65535),k=(U>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);P=k>>>16,U&=65535,k&=65535,I[L]=k<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(V,C){return V.add(M(C))}n.j=function(V){if(E(this)||E(V))return f;if(R(this))return R(V)?M(this).j(M(V)):M(M(this).j(V));if(R(V))return M(this.j(M(V)));if(this.l(T)<0&&V.l(T)<0)return v(this.m()*V.m());const C=this.g.length+V.g.length,I=[];for(var P=0;P<2*C;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<V.g.length;L++){const U=this.i(P)>>>16,k=this.i(P)&65535,Ct=V.i(L)>>>16,Ft=V.i(L)&65535;I[2*P+2*L]+=k*Ft,N(I,2*P+2*L),I[2*P+2*L+1]+=U*Ft,N(I,2*P+2*L+1),I[2*P+2*L+1]+=k*Ct,N(I,2*P+2*L+1),I[2*P+2*L+2]+=U*Ct,N(I,2*P+2*L+2)}for(V=0;V<C;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=C;V<2*C;V++)I[V]=0;return new c(I,0)};function N(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function B(V,C){this.g=V,this.h=C}function G(V,C){if(E(C))throw Error("division by zero");if(E(V))return new B(f,f);if(R(V))return C=G(M(V),C),new B(M(C.g),M(C.h));if(R(C))return C=G(V,M(C)),new B(M(C.g),C.h);if(V.g.length>30){if(R(V)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var I=_,P=C;P.l(V)<=0;)I=tt(I),P=tt(P);var L=et(I,1),U=et(P,1);for(P=et(P,2),I=et(I,2);!E(P);){var k=U.add(P);k.l(V)<=0&&(L=L.add(I),U=k),P=et(P,1),I=et(I,1)}return C=j(V,L.j(C)),new B(L,C)}for(L=f;V.l(C)>=0;){for(I=Math.max(1,Math.floor(V.m()/C.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=v(I),k=U.j(C);R(k)||k.l(V)>0;)I-=P,U=v(I),k=U.j(C);E(U)&&(U=_),L=L.add(U),V=j(V,k)}return new B(L,V)}n.B=function(V){return G(this,V).h},n.and=function(V){const C=Math.max(this.g.length,V.g.length),I=[];for(let P=0;P<C;P++)I[P]=this.i(P)&V.i(P);return new c(I,this.h&V.h)},n.or=function(V){const C=Math.max(this.g.length,V.g.length),I=[];for(let P=0;P<C;P++)I[P]=this.i(P)|V.i(P);return new c(I,this.h|V.h)},n.xor=function(V){const C=Math.max(this.g.length,V.g.length),I=[];for(let P=0;P<C;P++)I[P]=this.i(P)^V.i(P);return new c(I,this.h^V.h)};function tt(V){const C=V.g.length+1,I=[];for(let P=0;P<C;P++)I[P]=V.i(P)<<1|V.i(P-1)>>>31;return new c(I,V.h)}function et(V,C){const I=C>>5;C%=32;const P=V.g.length-I,L=[];for(let U=0;U<P;U++)L[U]=C>0?V.i(U+I)>>>C|V.i(U+I+1)<<32-C:V.i(U+I);return new c(L,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=b,Or=c}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,du,MT,Bf,jm,OT,NT,kT;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var x=0;x<d.length;++x){var A=d[x];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function o(d,x){if(x)t:{var A=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var K=d[D];if(!(K in A))break t;A=A[K]}d=d[d.length-1],D=A[d],x=x(D),x!=D&&x!=null&&t(A,d,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(x){var A=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&A.push([D,x[D]]);return A}});var u=u||{},c=this||self;function p(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function m(d,x,A){return d.call.apply(d.bind,arguments)}function v(d,x,A){return v=m,v.apply(null,arguments)}function b(d,x){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function f(d,x){function A(){}A.prototype=x.prototype,d.Z=x.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(D,K,nt){for(var mt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)mt[Ht-2]=arguments[Ht];return x.prototype[K].apply(D,mt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function T(d){const x=d.length;if(x>0){const A=Array(x);for(let D=0;D<x;D++)A[D]=d[D];return A}return[]}function E(d,x){for(let D=1;D<arguments.length;D++){const K=arguments[D];var A=typeof K;if(A=A!="object"?A:K?Array.isArray(K)?"array":A:"null",A=="array"||A=="object"&&typeof K.length=="number"){A=d.length||0;const nt=K.length||0;d.length=A+nt;for(let mt=0;mt<nt;mt++)d[A+mt]=K[mt]}else d.push(K)}}class R{constructor(x,A){this.i=x,this.j=A,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(d){c.setTimeout(()=>{throw d},0)}function j(){var d=V;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class N{constructor(){this.h=this.g=null}add(x,A){const D=B.get();D.set(x,A),this.h?this.h.next=D:this.g=D,this.h=D}}var B=new R(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(x,A){this.h=x,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,et=!1,V=new N,C=()=>{const d=Promise.resolve(void 0);tt=()=>{d.then(I)}};function I(){for(var d;d=j();){try{d.h.call(d.g)}catch(A){M(A)}var x=B;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}et=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};c.addEventListener("test",A,x),c.removeEventListener("test",A,x)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function Ct(d,x){L.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}f(Ct,L),Ct.prototype.init=function(d,x){const A=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(A=="mouseover"?x=d.fromElement:A=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),Q=0;function st(d,x,A,D,K){this.listener=d,this.proxy=null,this.src=x,this.type=A,this.capture=!!D,this.ha=K,this.key=++Q,this.da=this.fa=!1}function X(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function W(d,x,A){for(const D in d)x.call(A,d[D],D,d)}function ot(d,x){for(const A in d)x.call(void 0,d[A],A,d)}function O(d){const x={};for(const A in d)x[A]=d[A];return x}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(d,x){let A,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(A in D)d[A]=D[A];for(let nt=0;nt<q.length;nt++)A=q[nt],Object.prototype.hasOwnProperty.call(D,A)&&(d[A]=D[A])}}function pt(d){this.src=d,this.g={},this.h=0}pt.prototype.add=function(d,x,A,D,K){const nt=d.toString();d=this.g[nt],d||(d=this.g[nt]=[],this.h++);const mt=St(d,x,D,K);return mt>-1?(x=d[mt],A||(x.fa=!1)):(x=new st(x,this.src,nt,!!D,K),x.fa=A,d.push(x)),x};function vt(d,x){const A=x.type;if(A in d.g){var D=d.g[A],K=Array.prototype.indexOf.call(D,x,void 0),nt;(nt=K>=0)&&Array.prototype.splice.call(D,K,1),nt&&(X(x),d.g[A].length==0&&(delete d.g[A],d.h--))}}function St(d,x,A,D){for(let K=0;K<d.length;++K){const nt=d[K];if(!nt.da&&nt.listener==x&&nt.capture==!!A&&nt.ha==D)return K}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),At={};function wt(d,x,A,D,K){if(Array.isArray(x)){for(let nt=0;nt<x.length;nt++)wt(d,x[nt],A,D,K);return null}return A=li(A),d&&d[Ft]?d.J(x,A,p(D)?!!D.capture:!1,K):ne(d,x,A,!1,D,K)}function ne(d,x,A,D,K,nt){if(!x)throw Error("Invalid event type");const mt=p(K)?!!K.capture:!!K;let Ht=An(d);if(Ht||(d[Tt]=Ht=new pt(d)),A=Ht.add(x,A,D,mt,nt),A.proxy)return A;if(D=Ee(),A.proxy=D,D.src=d,D.listener=A,d.addEventListener)U||(K=mt),K===void 0&&(K=!1),d.addEventListener(x.toString(),D,K);else if(d.attachEvent)d.attachEvent(hn(x.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ee(){function d(A){return x.call(d.src,d.listener,A)}const x=oi;return d}function nn(d,x,A,D,K){if(Array.isArray(x))for(var nt=0;nt<x.length;nt++)nn(d,x[nt],A,D,K);else D=p(D)?!!D.capture:!!D,A=li(A),d&&d[Ft]?(d=d.i,nt=String(x).toString(),nt in d.g&&(x=d.g[nt],A=St(x,A,D,K),A>-1&&(X(x[A]),Array.prototype.splice.call(x,A,1),x.length==0&&(delete d.g[nt],d.h--)))):d&&(d=An(d))&&(x=d.g[x.toString()],d=-1,x&&(d=St(x,A,D,K)),(A=d>-1?x[d]:null)&&Pe(A))}function Pe(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[Ft])vt(x.i,d);else{var A=d.type,D=d.proxy;x.removeEventListener?x.removeEventListener(A,D,d.capture):x.detachEvent?x.detachEvent(hn(A),D):x.addListener&&x.removeListener&&x.removeListener(D),(A=An(x))?(vt(A,d),A.h==0&&(A.src=null,x[Tt]=null)):X(d)}}}function hn(d){return d in At?At[d]:At[d]="on"+d}function oi(d,x){if(d.da)d=!0;else{x=new Ct(x,this);const A=d.listener,D=d.ha||d.src;d.fa&&Pe(d),d=A.call(D,x)}return d}function An(d){return d=d[Tt],d instanceof pt?d:null}var je="__closure_events_fn_"+(Math.random()*1e9>>>0);function li(d){return typeof d=="function"?d:(d[je]||(d[je]=function(x){return d.handleEvent(x)}),d[je])}function Yt(){P.call(this),this.i=new pt(this),this.M=this,this.G=null}f(Yt,P),Yt.prototype[Ft]=!0,Yt.prototype.removeEventListener=function(d,x,A,D){nn(this,d,x,A,D)};function Nt(d,x){var A,D=d.G;if(D)for(A=[];D;D=D.G)A.push(D);if(d=d.M,D=x.type||x,typeof x=="string")x=new L(x,d);else if(x instanceof L)x.target=x.target||d;else{var K=x;x=new L(D,d),rt(x,K)}K=!0;let nt,mt;if(A)for(mt=A.length-1;mt>=0;mt--)nt=x.g=A[mt],K=at(nt,D,!0,x)&&K;if(nt=x.g=d,K=at(nt,D,!0,x)&&K,K=at(nt,D,!1,x)&&K,A)for(mt=0;mt<A.length;mt++)nt=x.g=A[mt],K=at(nt,D,!1,x)&&K}Yt.prototype.N=function(){if(Yt.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const A=d.g[x];for(let D=0;D<A.length;D++)X(A[D]);delete d.g[x],d.h--}}this.G=null},Yt.prototype.J=function(d,x,A,D){return this.i.add(String(d),x,!1,A,D)},Yt.prototype.K=function(d,x,A,D){return this.i.add(String(d),x,!0,A,D)};function at(d,x,A,D){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let nt=0;nt<x.length;++nt){const mt=x[nt];if(mt&&!mt.da&&mt.capture==A){const Ht=mt.listener,Be=mt.ha||mt.src;mt.fa&&vt(d.i,mt),K=Ht.call(Be,D)!==!1&&K}}return K&&!D.defaultPrevented}function gt(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(d,x||0)}function ie(d){d.g=gt(()=>{d.g=null,d.i&&(d.i=!1,ie(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class Bt extends P{constructor(x,A){super(),this.m=x,this.l=A,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(d){P.call(this),this.h=d,this.g={}}f(te,P);var de=[];function Gi(d){W(d.g,function(x,A){this.g.hasOwnProperty(A)&&Pe(x)},d),d.g={}}te.prototype.N=function(){te.Z.N.call(this),Gi(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=c.JSON.stringify,Xd=c.JSON.parse,$u=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Zu(){}function Ju(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){L.call(this,"d")}f(pn,L);function ui(){L.call(this,"c")}f(ui,L);var Le={},tc=null;function Fa(){return tc=tc||new Yt}Le.Ia="serverreachability";function ec(d){L.call(this,Le.Ia,d)}f(ec,L);function Yi(d){const x=Fa();Nt(x,new ec(x))}Le.STAT_EVENT="statevent";function Xr(d,x){L.call(this,Le.STAT_EVENT,d),this.stat=x}f(Xr,L);function He(d){const x=Fa();Nt(x,new Xr(x,d))}Le.Ja="timingevent";function Qi(d,x){L.call(this,Le.Ja,d),this.size=x}f(Qi,L);function Ki(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},x)}function Ii(){this.g=!0}Ii.prototype.ua=function(){this.g=!1};function Wd(d,x,A,D,K,nt){d.info(function(){if(d.g)if(nt){var mt="",Ht=nt.split("&");for(let le=0;le<Ht.length;le++){var Be=Ht[le].split("=");if(Be.length>1){const we=Be[0];Be=Be[1];const hi=we.split("_");mt=hi.length>=2&&hi[1]=="type"?mt+(we+"="+Be+"&"):mt+(we+"=redacted&")}}}else mt=null;else mt=nt;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+x+`
`+A+`
`+mt})}function nc(d,x,A,D,K,nt,mt){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+x+`
`+A+`
`+nt+" "+mt})}function Xi(d,x,A,D){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+$d(d,A)+(D?" "+D:"")})}function Wr(d,x){d.info(function(){return"TIMEOUT: "+x})}Ii.prototype.info=function(){};function $d(d,x){if(!d.g)return x;if(!x)return null;try{const nt=JSON.parse(x);if(nt){for(d=0;d<nt.length;d++)if(Array.isArray(nt[d])){var A=nt[d];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let mt=1;mt<D.length;mt++)D[mt]=""}}}}return $s(nt)}catch{return x}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ul;function Zr(){}f(Zr,Zu),Zr.prototype.g=function(){return new XMLHttpRequest},ul=new Zr;function Ss(d){return encodeURIComponent(String(d))}function ic(d){var x=1;d=d.split(":");const A=[];for(;x>0&&d.length;)A.push(d.shift()),x--;return d.length&&A.push(d.join(":")),A}function Di(d,x,A,D){this.j=d,this.i=x,this.l=A,this.S=D||1,this.V=new te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var qe={},on={};function Wi(d,x,A){d.M=1,d.A=Jr(Ye(x)),d.u=A,d.R=!0,Ha(d,null)}function Ha(d,x){d.F=Date.now(),$i(d),d.B=Ye(d.A);var A=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),Qa(A.i,"t",D),d.C=0,A=d.j.L,d.h=new Vi,d.g=vc(d.j,A?x:null,!d.u),d.P>0&&(d.O=new Bt(v(d.Y,d,d.g),d.P)),x=d.V,A=d.g,D=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(de[0]=K.toString()),K=de);for(let nt=0;nt<K.length;nt++){const mt=wt(A,K[nt],D||x.handleEvent,!1,x.h||x);if(!mt)break;x.g[mt.key]=mt}x=d.J?O(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Yi(),Wd(d.i,d.v,d.B,d.l,d.S,d.u)}Di.prototype.ba=function(d){d=d.target;const x=this.O;x&&Oi(d)==3?x.j():this.Y(d)},Di.prototype.Y=function(d){try{if(d==this.g)t:{const Ht=Oi(this.g),Be=this.g.ya(),le=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||Ht!=4||Be==7||(Be==8||le<=0?Yi(3):Yi(2)),Zi(this);var x=this.g.ca();this.X=x;var A=Zd(this);if(this.o=x==200,nc(this.i,this.v,this.B,this.l,this.S,Ht,x),this.o){if(this.U&&!this.L){e:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var nt=D;break e}}nt=null}if(d=nt)Xi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,d);else{this.o=!1,this.m=3,He(12),Qn(this),ci(this);break t}}if(this.R){d=!0;let we;for(;!this.K&&this.C<A.length;)if(we=rc(this,A),we==on){Ht==4&&(this.m=4,He(14),d=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(we==qe){this.m=4,He(15),Xi(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else Xi(this.i,this.l,we,null),Ji(this,we);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||A.length!=0||this.h.h||(this.m=1,He(16),d=!1),this.o=this.o&&d,!d)Xi(this.i,this.l,A,"[Invalid Chunked Response]"),Qn(this),ci(this);else if(A.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Al(mt),mt.P=!0,He(11))}}else Xi(this.i,this.l,A,null),Ji(this,A);Ht==4&&Qn(this),this.o&&!this.K&&(Ht==4?pc(this.j,this):(this.o=!1,$i(this)))}else Es(this.g),x==400&&A.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),Qn(this),ci(this)}}}catch{}};function Zd(d){if(!sc(d))return d.g.la();const x=mn(d.g);if(x==="")return"";let A="";const D=x.length,K=Oi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Qn(d),ci(d),"";d.h.i=new c.TextDecoder}for(let nt=0;nt<D;nt++)d.h.h=!0,A+=d.h.i.decode(x[nt],{stream:!(K&&nt==D-1)});return x.length=0,d.h.g+=A,d.C=0,d.h.g}function sc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function rc(d,x){var A=d.C,D=x.indexOf(`
`,A);return D==-1?on:(A=Number(x.substring(A,D)),isNaN(A)?qe:(D+=1,D+A>x.length?on:(x=x.slice(D,D+A),d.C=D+A,x)))}Di.prototype.cancel=function(){this.K=!0,Qn(this)};function $i(d){d.T=Date.now()+d.H,qa(d,d.H)}function qa(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ki(v(d.aa,d),x)}function Zi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Di.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(Yi(),He(17)),Qn(this),this.m=2,ci(this)):qa(this,this.T-d)};function ci(d){d.j.I==0||d.K||pc(d.j,d)}function Qn(d){Zi(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Gi(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Ji(d,x){try{var A=d.j;if(A.I!=0&&(A.g==d||es(A.h,d))){if(!d.L&&es(A.h,d)&&A.I==3){try{var D=A.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)Za(A),rr(A);else break t;aa(A),He(18)}}else A.xa=K[1],0<A.xa-A.K&&K[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Ki(v(A.Va,A),6e3));ts(A.h)<=1&&A.ta&&(A.ta=void 0)}else os(A,11)}else if((d.L||A.g==d)&&Za(A),!k(x))for(K=A.Ba.g.parse(x),x=0;x<K.length;x++){let le=K[x];const we=le[0];if(!(we<=A.K))if(A.K=we,le=le[1],A.I==2)if(le[0]=="c"){A.M=le[1],A.ba=le[2];const hi=le[3];hi!=null&&(A.ka=hi,A.j.info("VER="+A.ka));const ls=le[4];ls!=null&&(A.za=ls,A.j.info("SVER="+A.za));const Ni=le[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(D=1.5*Ni,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const ki=d.g;if(ki){const oa=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var nt=D.h;nt.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(dl(nt,nt.h),nt.h=null))}if(D.G){const Ja=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(D.wa=Ja,he(D.J,D.G,Ja))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var mt=d;if(D.na=yc(D,D.L?D.ba:null,D.W),mt.L){hl(D.h,mt);var Ht=mt,Be=D.O;Be&&(Ht.H=Be),Ht.D&&(Zi(Ht),$i(Ht)),D.g=mt}else dc(D);A.i.length>0&&as(A)}else le[0]!="stop"&&le[0]!="close"||os(A,7);else A.I==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?os(A,7):Tl(A):le[0]!="noop"&&A.l&&A.l.qa(le),A.A=0)}}Yi(4)}catch{}}var Ge=class{constructor(d,x){this.g=d,this.map=x}};function cl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ts(d){return d.h?1:d.g?d.g.size:0}function es(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function dl(d,x){d.g?d.g.add(x):d.h=x}function hl(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}cl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const A of d.g.values())x=x.concat(A.G);return x}return T(d.i)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(d,x){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const D=d[A].indexOf("=");let K,nt=null;D>=0?(K=d[A].substring(0,D),nt=d[A].substring(D+1)):K=d[A],x(K,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Kn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Kn?(this.l=d.l,ln(this,d.j),this.o=d.o,this.g=d.g,Zs(this,d.u),this.h=d.h,ml(this,cc(d.i)),this.m=d.m):d&&(x=String(d).match(ac))?(this.l=!1,ln(this,x[1]||"",!0),this.o=ns(x[2]||""),this.g=ns(x[3]||"",!0),Zs(this,x[4]),this.h=ns(x[5]||"",!0),ml(this,x[6]||"",!0),this.m=ns(x[7]||"")):(this.l=!1,this.i=new tr(null,this.l))}Kn.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(ta(x,Ya,!0),":");var A=this.g;return(A||x=="file")&&(d.push("//"),(x=this.o)&&d.push(ta(x,Ya,!0),"@"),d.push(Ss(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(ta(A,A.charAt(0)=="/"?gl:oc,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",ta(A,lc)),d.join("")},Kn.prototype.resolve=function(d){const x=Ye(this);let A=!!d.j;A?ln(x,d.j):A=!!d.o,A?x.o=d.o:A=!!d.g,A?x.g=d.g:A=d.u!=null;var D=d.h;if(A)Zs(x,d.u);else if(A=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=x.h.lastIndexOf("/");K!=-1&&(D=x.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const nt=[];for(let mt=0;mt<K.length;){const Ht=K[mt++];Ht=="."?D&&mt==K.length&&nt.push(""):Ht==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),D&&mt==K.length&&nt.push("")):(nt.push(Ht),D=!0)}D=nt.join("/")}else D=K}return A?x.h=D:A=d.i.toString()!=="",A?ml(x,cc(d.i)):A=!!d.m,A&&(x.m=d.m),x};function Ye(d){return new Kn(d)}function ln(d,x,A){d.j=A?ns(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Zs(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function ml(d,x,A){x instanceof tr?(d.i=x,Ka(d.i,d.l)):(A||(x=ta(x,Js)),d.i=new tr(x,d.l))}function he(d,x,A){d.i.set(x,A)}function Jr(d){return he(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ns(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ta(d,x,A){return typeof d=="string"?(d=encodeURI(d).replace(x,kn),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ya=/[#\/\?@]/g,oc=/[#\?:]/g,gl=/[#\?]/g,Js=/[#\?@]/g,lc=/#/g;function tr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Pn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ga(d.i,function(x,A){d.add(decodeURIComponent(x.replace(/\+/g," ")),A)}))}n=tr.prototype,n.add=function(d,x){Pn(this),this.i=null,d=er(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(x),this.h+=1,this};function uc(d,x){Pn(d),x=er(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function yl(d,x){return Pn(d),x=er(d,x),d.g.has(x)}n.forEach=function(d,x){Pn(this),this.g.forEach(function(A,D){A.forEach(function(K){d.call(x,K,D,this)},this)},this)};function vl(d,x){Pn(d);let A=[];if(typeof x=="string")yl(d,x)&&(A=A.concat(d.g.get(er(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)A=A.concat(d[x]);return A}n.set=function(d,x){return Pn(this),this.i=null,d=er(this,d),yl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},n.get=function(d,x){return d?(d=vl(this,d),d.length>0?String(d[0]):x):x};function Qa(d,x,A){uc(d,x),A.length>0&&(d.i=null,d.g.set(er(d,x),T(A)),d.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var A=x[D];const K=Ss(A);A=vl(this,A);for(let nt=0;nt<A.length;nt++){let mt=K;A[nt]!==""&&(mt+="="+Ss(A[nt])),d.push(mt)}}return this.i=d.join("&")};function cc(d){const x=new tr;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function er(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Ka(d,x){x&&!d.j&&(Pn(d),d.i=null,d.g.forEach(function(A,D){const K=D.toLowerCase();D!=K&&(uc(this,D),Qa(this,K,A))},d)),d.j=x}function ji(d,x){const A=new Ii;if(c.Image){const D=new Image;D.onload=b(fi,A,"TestLoadImage: loaded",!0,x,D),D.onerror=b(fi,A,"TestLoadImage: error",!1,x,D),D.onabort=b(fi,A,"TestLoadImage: abort",!1,x,D),D.ontimeout=b(fi,A,"TestLoadImage: timeout",!1,x,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else x(!1)}function _l(d,x){const A=new Ii,D=new AbortController,K=setTimeout(()=>{D.abort(),fi(A,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:D.signal}).then(nt=>{clearTimeout(K),nt.ok?fi(A,"TestPingServer: ok",!0,x):fi(A,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),fi(A,"TestPingServer: error",!1,x)})}function fi(d,x,A,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(A)}catch{}}function nr(){this.g=new $u}function is(d){this.i=d.Sb||null,this.h=d.ab||!1}f(is,Zu),is.prototype.g=function(){return new ea(this.i,this.h)};function ea(d,x){Yt.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ea,Yt),n=ea.prototype,n.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,Mi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?ir(this):Mi(this),this.readyState==3&&Xa(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,ir(this))},n.Na=function(d){this.g&&(this.response=d,ir(this))},n.ga=function(){this.g&&ir(this)};function ir(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Mi(d)}n.setRequestHeader=function(d,x){this.A.append(d,x)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var A=x.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=x.next();return d.join(`\r
`)};function Mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function di(d){let x="";return W(d,function(A,D){x+=D,x+=":",x+=A,x+=`\r
`}),x}function na(d,x,A){t:{for(D in A){var D=!1;break t}D=!0}D||(A=di(A),typeof d=="string"?A!=null&&Ss(A):he(d,x,A))}function ge(d){Yt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ge,Yt);var ss=/^https?$/i,bl=["POST","PUT"];n=ge.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,x,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ul.g(),this.g.onreadystatechange=_(v(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(nt){ia(this,nt);return}if(d=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)A.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const nt of D.keys())A.set(nt,D.get(nt));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(nt=>nt.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(bl,x,void 0)>=0)||D||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,mt]of A)this.g.setRequestHeader(nt,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(nt){ia(this,nt)}};function ia(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,xl(d),As(d)}function xl(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Nt(this,"complete"),Nt(this,"abort"),As(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},n.Xa=function(){sa(this)};function sa(d){if(d.h&&typeof u<"u"){if(d.v&&Oi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Nt(d,"readystatechange"),Oi(d)==4){d.h=!1;try{const nt=d.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var A;if(!(A=x)){var D;if(D=nt===0){let mt=String(d.D).match(ac)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),D=!ss.test(mt?mt.toLowerCase():"")}A=D}if(A)Nt(d,"complete"),Nt(d,"success");else{d.o=6;try{var K=Oi(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",xl(d)}}finally{As(d)}}}}function As(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,x||Nt(d,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Oi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Xd(x)}};function mn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(d){const x={};d=(d.g&&Oi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(k(d[D]))continue;var A=ic(d[D]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const nt=x[K]||[];x[K]=nt,nt.push(A)}ot(x,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(d,x,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||x}function sr(d){this.za=0,this.i=[],this.j=new Ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rs("baseRetryDelayMs",5e3,d),this.Za=rs("retryDelaySeedMs",1e4,d),this.Ta=rs("forwardChannelMaxRetries",2,d),this.va=rs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(d&&d.concurrentRequestLimit),this.Ba=new nr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=sr.prototype,n.ka=8,n.I=1,n.connect=function(d,x,A,D){He(0),this.W=d,this.H=x||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=yc(this,null,this.W),as(this)};function Tl(d){if(Wa(d),d.I==3){var x=d.V++,A=Ye(d.J);if(he(A,"SID",d.M),he(A,"RID",x),he(A,"TYPE","terminate"),ra(d,A),x=new Di(d,d.j,x),x.M=2,x.A=Jr(Ye(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=x.A,A=!0),A||(x.g=vc(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$i(x)}gc(d)}function rr(d){d.g&&(Al(d),d.g.cancel(),d.g=null)}function Wa(d){rr(d),d.v&&(c.clearTimeout(d.v),d.v=null),Za(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function as(d){if(!fl(d.h)&&!d.m){d.m=!0;var x=d.Ea;tt||C(),et||(tt(),et=!0),V.add(x,d),d.D=0}}function $a(d,x){return ts(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ki(v(d.Ea,d,x),mc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new Di(this,this.j,d);let nt=this.o;if(this.U&&(nt?(nt=O(nt),rt(nt,this.U)):nt=this.U),this.u!==null||this.R||(K.J=nt,nt=null),this.S)t:{for(var x=0,A=0;A<this.i.length;A++){e:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=A;break t}if(x===4096||A===this.i.length-1){x=A+1;break t}}x=1e3}else x=1e3;x=fc(this,K,x),A=Ye(this.J),he(A,"RID",d),he(A,"CVER",22),this.G&&he(A,"X-HTTP-Session-Id",this.G),ra(this,A),nt&&(this.R?x="headers="+Ss(di(nt))+"&"+x:this.u&&na(A,this.u,nt)),dl(this.h,K),this.Ra&&he(A,"TYPE","init"),this.S?(he(A,"$req",x),he(A,"SID","null"),K.U=!0,Wi(K,A,null)):Wi(K,A,x),this.I=2}}else this.I==3&&(d?Sl(this,d):this.i.length==0||fl(this.h)||Sl(this))};function Sl(d,x){var A;x?A=x.l:A=d.V++;const D=Ye(d.J);he(D,"SID",d.M),he(D,"RID",A),he(D,"AID",d.K),ra(d,D),d.u&&d.o&&na(D,d.u,d.o),A=new Di(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),x&&(d.i=x.G.concat(d.i)),x=fc(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),dl(d.h,A),Wi(A,D,x)}function ra(d,x){d.H&&W(d.H,function(A,D){he(x,D,A)}),d.l&&W({},function(A,D){he(x,D,A)})}function fc(d,x,A){A=Math.min(d.i.length,A);const D=d.l?v(d.l.Ka,d.l,d):null;t:{var K=d.i;let Ht=-1;for(;;){const Be=["count="+A];Ht==-1?A>0?(Ht=K[0].g,Be.push("ofs="+Ht)):Ht=0:Be.push("ofs="+Ht);let le=!0;for(let we=0;we<A;we++){var nt=K[we].g;const hi=K[we].map;if(nt-=Ht,nt<0)Ht=Math.max(0,K[we].g-100),le=!1;else try{nt="req"+nt+"_"||"";try{var mt=hi instanceof Map?hi:Object.entries(hi);for(const[ls,Ni]of mt){let ki=Ni;p(Ni)&&(ki=$s(Ni)),Be.push(nt+ls+"="+encodeURIComponent(ki))}}catch(ls){throw Be.push(nt+"type="+encodeURIComponent("_badmap")),ls}}catch{D&&D(hi)}}if(le){mt=Be.join("&");break t}}mt=void 0}return d=d.i.splice(0,A),x.G=d,mt}function dc(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;tt||C(),et||(tt(),et=!0),V.add(x,d),d.A=0}}function aa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ki(v(d.Da,d),mc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ki(v(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),rr(this),hc(this))};function Al(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function hc(d){d.g=new Di(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Ye(d.na);he(x,"RID","rpc"),he(x,"SID",d.M),he(x,"AID",d.K),he(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&he(x,"TO",d.ia),he(x,"TYPE","xmlhttp"),ra(d,x),d.u&&d.o&&na(x,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=Jr(Ye(x)),A.u=null,A.R=!0,Ha(A,d)}n.Va=function(){this.C!=null&&(this.C=null,rr(this),aa(this),He(19))};function Za(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function pc(d,x){var A=null;if(d.g==x){Za(d),Al(d),d.g=null;var D=2}else if(es(d.h,x))A=x.G,hl(d.h,x),D=1;else return;if(d.I!=0){if(x.o)if(D==1){A=x.u?x.u.length:0,x=Date.now()-x.F;var K=d.D;D=Fa(),Nt(D,new Qi(D,A)),as(d)}else dc(d);else if(K=x.m,K==3||K==0&&x.X>0||!(D==1&&$a(d,x)||D==2&&aa(d)))switch(A&&A.length>0&&(x=d.h,x.i=x.i.concat(A)),K){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function mc(d,x){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*x}function os(d,x){if(d.j.info("Error code "+x),x==2){var A=v(d.bb,d),D=d.Ua;const K=!D;D=new Kn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ln(D,"https"),Jr(D),K?ji(D.toString(),A):_l(D.toString(),A)}else He(2);d.I=0,d.l&&d.l.pa(x),gc(d),Wa(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function gc(d){if(d.I=0,d.ja=[],d.l){const x=pl(d.h);(x.length!=0||d.i.length!=0)&&(E(d.ja,x),E(d.ja,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.oa()}}function yc(d,x,A){var D=A instanceof Kn?Ye(A):new Kn(A);if(D.g!="")x&&(D.g=x+"."+D.g),Zs(D,D.u);else{var K=c.location;D=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const nt=new Kn(null);D&&ln(nt,D),x&&(nt.g=x),K&&Zs(nt,K),A&&(nt.h=A),D=nt}return A=d.G,x=d.wa,A&&x&&he(D,A,x),he(D,"VER",d.ka),ra(d,D),D}function vc(d,x,A){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new ge(new is({ab:A})):new ge(d.ma),x.Fa(d.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}n=_c.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ar(){}ar.prototype.g=function(d,x){return new jn(d,x)};function jn(d,x){Yt.call(this),this.g=new sr(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!k(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!k(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new ws(this)}f(jn,Yt),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Tl(this.g)},jn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=$s(d),d=A);x.i.push(new Ge(x.Ya++,d)),x.I==3&&as(x)},jn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,jn.Z.N.call(this)};function bc(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){t:{for(const A in x){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}f(bc,pn);function xc(){ui.call(this),this.status=1}f(xc,ui);function ws(d){this.g=d}f(ws,_c),ws.prototype.ra=function(){Nt(this.g,"a")},ws.prototype.qa=function(d){Nt(this.g,new bc(d))},ws.prototype.pa=function(d){Nt(this.g,new xc)},ws.prototype.oa=function(){Nt(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,kT=function(){return new ar},NT=function(){return Fa()},OT=Le,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Bf=$r,ll.COMPLETE="complete",MT=ll,Ju.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",Yt.prototype.listen=Yt.prototype.J,du=Ju,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,jT=ge}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const Bb="@firebase/firestore",zb="4.9.3";class Cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");let tl="12.7.0";const Na=new Sg("@firebase/firestore");function jo(){return Na.logLevel}function bt(n,...t){if(Na.logLevel<=re.DEBUG){const e=t.map(Eg);Na.debug(`Firestore (${tl}): ${n}`,...e)}}function Gs(n,...t){if(Na.logLevel<=re.ERROR){const e=t.map(Eg);Na.error(`Firestore (${tl}): ${n}`,...e)}}function Go(n,...t){if(Na.logLevel<=re.WARN){const e=t.map(Eg);Na.warn(`Firestore (${tl}): ${n}`,...e)}}function Eg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function jt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,PT(n,r,e)}function PT(n,t,e){let r=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Gs(r),new Error(r)}function fe(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||PT(t,o,r)}function Ut(n,t){return n}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Gr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class LT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Cn.UNAUTHENTICATED)))}shutdown(){}}class kR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class PR{constructor(t){this.t=t,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){fe(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string",31837,{l:r}),new LT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string",2055,{h:t}),new Cn(t)}}class LR{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BR{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ub{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_R(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){fe(this.o===void 0,3512);const r=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ub(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(fe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Ub(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class wg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Zt(n,t){return n<t?-1:n>t?1:0}function Mm(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return nm(o)===nm(u)?Zt(o,u):nm(o)?1:-1}return Zt(n.length,t.length)}const FR=55296,HR=57343;function nm(n){const t=n.charCodeAt(0);return t>=FR&&t<=HR}function Yo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const Fb="__name__";class hs{constructor(t,e,r){e===void 0?e=0:e>t.length&&jt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&jt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=hs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Zt(t.length,e.length)}static compareSegments(t,e){const r=hs.isNumericId(t),o=hs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?hs.extractNumericId(t).compare(hs.extractNumericId(e)):Mm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class xe extends hs{construct(t,e,r){return new xe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new xe(e)}static emptyPath(){return new xe([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends hs{construct(t,e,r){return new Tn(t,e,r)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fb}static keyField(){return new Tn([Fb])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new yt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(r+=p,o++):(u(),o++)}if(u(),c)throw new yt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Tn(e)}static emptyPath(){return new Tn([])}}class It{constructor(t){this.path=t}static fromPath(t){return new It(xe.fromString(t))}static fromName(t){return new It(xe.fromString(t).popFirst(5))}static empty(){return new It(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return xe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new xe(t.slice()))}}function BT(n,t,e){if(!e)throw new yt(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function GR(n,t,e,r){if(t===!0&&r===!0)throw new yt(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Hb(n){if(!It.isDocumentKey(n))throw new yt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qb(n){if(It.isDocumentKey(n))throw new yt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":jt(12329,{type:typeof n})}function Yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=xd(n);throw new yt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function YR(n,t){if(t<=0)throw new yt(ft.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function en(n,t){const e={typeString:n};return t&&(e.value=t),e}function Uu(n,t){if(!zT(n))throw new yt(ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new yt(ft.INVALID_ARGUMENT,e);return!0}const Gb=-62135596800,Yb=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Yb);return new Ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Gb)throw new yt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Gb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:en("string",Ae._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Ae(0,0))}static max(){return new Lt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function QR(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(r===1e9?new Ae(e+1,0):new Ae(e,r));return new Pr(o,It.empty(),t)}function KR(n){return new Pr(n.readTime,n.key,Ru)}class Pr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Pr(Lt.min(),It.empty(),Ru)}static max(){return new Pr(Lt.max(),It.empty(),Ru)}}function XR(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(n.documentKey,t.documentKey),e!==0?e:Zt(n.largestBatchId,t.largestBatchId))}const WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function el(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==WR)throw n;bt("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.reject(e)}static resolve(t){return new ht(((e,r)=>{e(t)}))}static reject(t){return new ht(((e,r)=>{r(t)}))}static waitFor(t){return new ht(((e,r)=>{let o=0,u=0,c=!1;t.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&e()}),(m=>r(m)))})),c=!0,u===o&&e()}))}static or(t){let e=ht.resolve(!1);for(const r of t)e=e.next((o=>o?ht.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new ht(((r,o)=>{const u=t.length,c=new Array(u);let p=0;for(let m=0;m<u;m++){const v=m;e(t[v]).next((b=>{c[v]=b,++p,p===u&&r(c)}),(b=>o(b)))}}))}static doWhile(t,e){return new ht(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ZR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function nl(n){return n.name==="IndexedDbTransactionError"}class Td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Td.ce=-1;const Cg=-1;function Sd(n){return n==null}function Zf(n){return n===0&&1/n==-1/0}function JR(n){return typeof n=="number"&&Number.isInteger(n)&&!Zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const UT="";function tI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Qb(t)),t=eI(n.get(e),t);return Qb(t)}function eI(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case UT:e+="";break;default:e+=u}}return e}function Qb(n){return n+UT+""}function Kb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function FT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ve{constructor(t,e){this.comparator=t,this.root=e||xn.EMPTY}insert(t,e){return new Ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cf(this.root,t,this.comparator,!0)}}class Cf{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??xn.RED,this.left=o??xn.EMPTY,this.right=u??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new xn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return xn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jt(27949);return t+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Xb(this.data.getIterator())}getIteratorFrom(t){return new Xb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof an)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new an(this.comparator);return e.data=t,e}}class Xb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort(Tn.comparator)}static empty(){return new si([])}unionWith(t){let e=new an(Tn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new si(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}})(t);return new Sn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Sn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const nI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(n){if(fe(!!n,39018),typeof n=="string"){let t=0;const e=nI.exec(n);if(fe(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fe(n.seconds),nanos:Fe(n.nanos)}}function Fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Br(n){return typeof n=="string"?Sn.fromBase64String(n):Sn.fromUint8Array(n)}const qT="server_timestamp",GT="__type__",YT="__previous_value__",QT="__local_write_time__";function Rg(n){return(n?.mapValue?.fields||{})[GT]?.stringValue===qT}function Ad(n){const t=n.mapValue.fields[YT];return Rg(t)?Ad(t):t}function Iu(n){const t=Lr(n.mapValue.fields[QT].timestampValue);return new Ae(t.seconds,t.nanos)}class iI{constructor(t,e,r,o,u,c,p,m,v,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=b}}const Jf="(default)";class Du{constructor(t,e){this.projectId=t,this.database=e||Jf}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(t){return t instanceof Du&&t.projectId===this.projectId&&t.database===this.database}}const KT="__type__",sI="__max__",Rf={mapValue:{}},XT="__vector__",td="value";function zr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rg(n)?4:aI(n)?9007199254740991:rI(n)?10:11:jt(28295,{value:n})}function Ts(n,t){if(n===t)return!0;const e=zr(n);if(e!==zr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Iu(n).isEqual(Iu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Lr(o.timestampValue),p=Lr(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Br(o.bytesValue).isEqual(Br(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Fe(o.geoPointValue.latitude)===Fe(u.geoPointValue.latitude)&&Fe(o.geoPointValue.longitude)===Fe(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Fe(o.integerValue)===Fe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Fe(o.doubleValue),p=Fe(u.doubleValue);return c===p?Zf(c)===Zf(p):isNaN(c)&&isNaN(p)}return!1})(n,t);case 9:return Yo(n.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Kb(c)!==Kb(p))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(p[m]===void 0||!Ts(c[m],p[m])))return!1;return!0})(n,t);default:return jt(52216,{left:n})}}function Vu(n,t){return(n.values||[]).find((e=>Ts(e,t)))!==void 0}function Qo(n,t){if(n===t)return 0;const e=zr(n),r=zr(t);if(e!==r)return Zt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const p=Fe(u.integerValue||u.doubleValue),m=Fe(c.integerValue||c.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,t);case 3:return Wb(n.timestampValue,t.timestampValue);case 4:return Wb(Iu(n),Iu(t));case 5:return Mm(n.stringValue,t.stringValue);case 6:return(function(u,c){const p=Br(u),m=Br(c);return p.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const p=u.split("/"),m=c.split("/");for(let v=0;v<p.length&&v<m.length;v++){const b=Zt(p[v],m[v]);if(b!==0)return b}return Zt(p.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const p=Zt(Fe(u.latitude),Fe(c.latitude));return p!==0?p:Zt(Fe(u.longitude),Fe(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return $b(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const p=u.fields||{},m=c.fields||{},v=p[td]?.arrayValue,b=m[td]?.arrayValue,f=Zt(v?.values?.length||0,b?.values?.length||0);return f!==0?f:$b(v,b)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rf.mapValue&&c===Rf.mapValue)return 0;if(u===Rf.mapValue)return 1;if(c===Rf.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),v=c.fields||{},b=Object.keys(v);m.sort(),b.sort();for(let f=0;f<m.length&&f<b.length;++f){const _=Mm(m[f],b[f]);if(_!==0)return _;const T=Qo(p[m[f]],v[b[f]]);if(T!==0)return T}return Zt(m.length,b.length)})(n.mapValue,t.mapValue);default:throw jt(23264,{he:e})}}function Wb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Zt(n,t);const e=Lr(n),r=Lr(t),o=Zt(e.seconds,r.seconds);return o!==0?o:Zt(e.nanos,r.nanos)}function $b(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Qo(e[o],r[o]);if(u)return u}return Zt(e.length,r.length)}function Ko(n){return Om(n)}function Om(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Lr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Br(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return It.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Om(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Om(e.fields[c])}`;return o+"}"})(n.mapValue):jt(61005,{value:n})}function zf(n){switch(zr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ad(n);return t?16+zf(t):16;case 5:return 2*n.stringValue.length;case 6:return Br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zf(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Yr(r.fields,((u,c)=>{o+=u.length+zf(c)})),o})(n.mapValue);default:throw jt(13486,{value:n})}}function Zb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Nm(n){return!!n&&"integerValue"in n}function Ig(n){return!!n&&"arrayValue"in n}function Jb(n){return!!n&&"nullValue"in n}function tx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function rI(n){return(n?.mapValue?.fields||{})[KT]?.stringValue===XT}function vu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Yr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=vu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vu(n.arrayValue.values[e]);return t}return{...n}}function aI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sI}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Uf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vu(e)}setAll(t){let e=Tn.emptyPath(),r={},o=[];t.forEach(((c,p)=>{if(!e.isImmediateParentOf(p)){const m=this.getFieldsMap(e);this.applyChanges(m,r,o),r={},o=[],e=p.popLast()}c?r[p.lastSegment()]=vu(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Uf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Uf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Yr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new qn(vu(this.value))}}function WT(n){const t=[];return Yr(n.fields,((e,r)=>{const o=new Tn([e]);if(Uf(r)){const u=WT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new si(t)}class Dn{constructor(t,e,r,o,u,c,p){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(t){return new Dn(t,0,Lt.min(),Lt.min(),Lt.min(),qn.empty(),0)}static newFoundDocument(t,e,r,o){return new Dn(t,1,e,Lt.min(),r,o,0)}static newNoDocument(t,e){return new Dn(t,2,e,Lt.min(),Lt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new Dn(t,3,e,Lt.min(),Lt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(t,e){this.position=t,this.inclusive=e}}function ex(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=It.comparator(It.fromName(c.referenceValue),e.key):r=Qo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function nx(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ts(n.position[e],t.position[e]))return!1;return!0}class ju{constructor(t,e="asc"){this.field=t,this.dir=e}}function oI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class $T{}class tn extends $T{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new uI(t,e,r):e==="array-contains"?new dI(t,r):e==="in"?new hI(t,r):e==="not-in"?new pI(t,r):e==="array-contains-any"?new mI(t,r):new tn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new cI(t,r):new fI(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Qo(e,this.value)):e!==null&&zr(this.value)===zr(e)&&this.matchesComparison(Qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends $T{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new qi(t,e)}matches(t){return ZT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZT(n){return n.op==="and"}function JT(n){return lI(n)&&ZT(n)}function lI(n){for(const t of n.filters)if(t instanceof qi)return!1;return!0}function km(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(JT(n))return n.filters.map((t=>km(t))).join(",");{const t=n.filters.map((e=>km(e))).join(",");return`${n.op}(${t})`}}function tS(n,t){return n instanceof tn?(function(r,o){return o instanceof tn&&r.op===o.op&&r.field.isEqual(o.field)&&Ts(r.value,o.value)})(n,t):n instanceof qi?(function(r,o){return o instanceof qi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,p)=>u&&tS(c,o.filters[p])),!0):!1})(n,t):void jt(19439)}function eS(n){return n instanceof tn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ko(e.value)}`})(n):n instanceof qi?(function(e){return e.op.toString()+" {"+e.getFilters().map(eS).join(" ,")+"}"})(n):"Filter"}class uI extends tn{constructor(t,e,r){super(t,e,r),this.key=It.fromName(r.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class cI extends tn{constructor(t,e){super(t,"in",e),this.keys=nS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class fI extends tn{constructor(t,e){super(t,"not-in",e),this.keys=nS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function nS(n,t){return(t.arrayValue?.values||[]).map((e=>It.fromName(e.referenceValue)))}class dI extends tn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ig(e)&&Vu(e.arrayValue,this.value)}}class hI extends tn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class pI extends tn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class mI extends tn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ig(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Vu(this.value.arrayValue,r)))}}class gI{constructor(t,e=null,r=[],o=[],u=null,c=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function ix(n,t=null,e=[],r=[],o=null,u=null,c=null){return new gI(n,t,e,r,o,u,c)}function Dg(n){const t=Ut(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>km(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Sd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Ko(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Ko(r))).join(",")),t.Te=e}return t.Te}function Vg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!oI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!tS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nx(n.startAt,t.startAt)&&nx(n.endAt,t.endAt)}function Pm(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class il{constructor(t,e=null,r=[],o=[],u=null,c="F",p=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yI(n,t,e,r,o,u,c,p){return new il(n,t,e,r,o,u,c,p)}function Ed(n){return new il(n)}function sx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iS(n){return n.collectionGroup!==null}function _u(n){const t=Ut(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new an(Tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ju(u,r))})),e.has(Tn.keyField().canonicalString())||t.Ie.push(new ju(Tn.keyField(),r))}return t.Ie}function gs(n){const t=Ut(n);return t.Ee||(t.Ee=vI(t,_u(n))),t.Ee}function vI(n,t){if(n.limitType==="F")return ix(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ju(o.field,u)}));const e=n.endAt?new ed(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ed(n.startAt.position,n.startAt.inclusive):null;return ix(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Lm(n,t){const e=n.filters.concat([t]);return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function nd(n,t,e){return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function wd(n,t){return Vg(gs(n),gs(t))&&n.limitType===t.limitType}function sS(n){return`${Dg(gs(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>eS(o))).join(", ")}]`),Sd(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Ko(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Ko(o))).join(",")),`Target(${r})`})(gs(n))}; limitType=${n.limitType})`}function Cd(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):It.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of _u(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,p,m){const v=ex(c,p,m);return c.inclusive?v<=0:v<0})(r.startAt,_u(r),o)||r.endAt&&!(function(c,p,m){const v=ex(c,p,m);return c.inclusive?v>=0:v>0})(r.endAt,_u(r),o))})(n,t)}function _I(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rS(n){return(t,e)=>{let r=!1;for(const o of _u(n)){const u=bI(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function bI(n,t,e){const r=n.field.isKeyField()?It.comparator(t.key,e.key):(function(u,c,p){const m=c.data.field(u),v=p.data.field(u);return m!==null&&v!==null?Qo(m,v):jt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:n.dir})}}class Ba{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}const xI=new Ve(It.comparator);function Ys(){return xI}const aS=new Ve(It.comparator);function hu(...n){let t=aS;for(const e of n)t=t.insert(e.key,e);return t}function oS(n){let t=aS;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Ca(){return bu()}function lS(){return bu()}function bu(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const TI=new Ve(It.comparator),SI=new an(It.comparator);function Jt(...n){let t=SI;for(const e of n)t=t.add(e);return t}const AI=new an(Zt);function EI(){return AI}function jg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(t)?"-0":t}}function uS(n){return{integerValue:""+n}}function wI(n,t){return JR(t)?uS(t):jg(n,t)}class Rd{constructor(){this._=void 0}}function CI(n,t,e){return n instanceof id?(function(o,u){const c={fields:{[GT]:{stringValue:qT},[QT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rg(u)&&(u=Ad(u)),u&&(c.fields[YT]=u),{mapValue:c}})(e,t):n instanceof Mu?fS(n,t):n instanceof Ou?dS(n,t):(function(o,u){const c=cS(o,u),p=rx(c)+rx(o.Ae);return Nm(c)&&Nm(o.Ae)?uS(p):jg(o.serializer,p)})(n,t)}function RI(n,t,e){return n instanceof Mu?fS(n,t):n instanceof Ou?dS(n,t):e}function cS(n,t){return n instanceof sd?(function(r){return Nm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class id extends Rd{}class Mu extends Rd{constructor(t){super(),this.elements=t}}function fS(n,t){const e=hS(t);for(const r of n.elements)e.some((o=>Ts(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Ou extends Rd{constructor(t){super(),this.elements=t}}function dS(n,t){let e=hS(t);for(const r of n.elements)e=e.filter((o=>!Ts(o,r)));return{arrayValue:{values:e}}}class sd extends Rd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function rx(n){return Fe(n.integerValue||n.doubleValue)}function hS(n){return Ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function II(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Mu&&o instanceof Mu||r instanceof Ou&&o instanceof Ou?Yo(r.elements,o.elements,Ts):r instanceof sd&&o instanceof sd?Ts(r.Ae,o.Ae):r instanceof id&&o instanceof id})(n.transform,t.transform)}class DI{constructor(t,e){this.version=t,this.transformResults=e}}class wi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ff(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Id{}function pS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Mg(n.key,wi.none()):new Fu(n.key,n.data,wi.none());{const e=n.data,r=qn.empty();let o=new an(Tn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Qr(n.key,r,new si(o.toArray()),wi.none())}}function VI(n,t,e){n instanceof Fu?(function(o,u,c){const p=o.value.clone(),m=ox(o.fieldTransforms,u,c.transformResults);p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):n instanceof Qr?(function(o,u,c){if(!Ff(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=ox(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(mS(o)),m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function xu(n,t,e,r){return n instanceof Fu?(function(u,c,p,m){if(!Ff(u.precondition,c))return p;const v=u.value.clone(),b=lx(u.fieldTransforms,m,c);return v.setAll(b),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,t,e,r):n instanceof Qr?(function(u,c,p,m){if(!Ff(u.precondition,c))return p;const v=lx(u.fieldTransforms,m,c),b=c.data;return b.setAll(mS(u)),b.setAll(v),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((f=>f.field)))})(n,t,e,r):(function(u,c,p){return Ff(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(n,t,e)}function jI(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=cS(r.transform,o||null);u!=null&&(e===null&&(e=qn.empty()),e.set(r.field,u))}return e||null}function ax(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,((u,c)=>II(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Fu extends Id{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends Id{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function ox(n,t,e){const r=new Map;fe(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,p=t.data.field(u.field);r.set(u.field,RI(c,p,e[o]))}return r}function lx(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,CI(u,c,t))}return r}class Mg extends Id{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MI extends Id{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OI{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&VI(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=xu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=xu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=lS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=e.has(o.key)?null:p;const m=pS(c,p);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Jt())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,((e,r)=>ax(e,r)))&&Yo(this.baseMutations,t.baseMutations,((e,r)=>ax(e,r)))}}class Og{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){fe(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return TI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Og(t,e,r,o)}}class NI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ze,se;function PI(n){switch(n){case ft.OK:return jt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return jt(15467,{code:n})}}function gS(n){if(n===void 0)return Gs("GRPC error has no .code"),ft.UNKNOWN;switch(n){case Ze.OK:return ft.OK;case Ze.CANCELLED:return ft.CANCELLED;case Ze.UNKNOWN:return ft.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return ft.INTERNAL;case Ze.UNAVAILABLE:return ft.UNAVAILABLE;case Ze.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Ze.NOT_FOUND:return ft.NOT_FOUND;case Ze.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Ze.ABORTED:return ft.ABORTED;case Ze.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Ze.DATA_LOSS:return ft.DATA_LOSS;default:return jt(39323,{code:n})}}(se=Ze||(Ze={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";function LI(){return new TextEncoder}const BI=new Or([4294967295,4294967295],0);function ux(n){const t=LI().encode(n),e=new VT;return e.update(t),new Uint8Array(e.digest())}function cx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Or([e,r],0),new Or([o,u],0)]}class Ng{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Or.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Or.fromNumber(r)));return o.compare(BI)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ux(t),[r,o]=cx(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Ng(u,o,e);return r.forEach((p=>c.insert(p))),c}insert(t){if(this.ge===0)return;const e=ux(t),[r,o]=cx(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Hu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Dd(Lt.min(),o,new Ve(Zt),Ys(),Jt())}}class Hu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Hu(r,e,Jt(),Jt(),Jt())}}class Hf{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class yS{constructor(t,e){this.targetId=t,this.Ce=e}}class vS{constructor(t,e,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class fx{constructor(){this.ve=0,this.Fe=dx(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),e=Jt(),r=Jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:jt(38017,{changeType:u})}})),new Hu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=dx()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=If(),this.He=If(),this.Ye=new Ve(Zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:jt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Pm(u))if(r===0){const c=new It(u.path);this.et(e,c,Dn.newNoDocument(c,Lt.min()))}else fe(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const p=this.ut(t),m=p?this.ct(p,t,c):1;if(m!==0){this.it(e);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,v)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,p;try{c=Br(r).toUint8Array()}catch(m){if(m instanceof HT)return Go("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Ng(c,o,u)}catch(m){return Go(m instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Pm(p.target)){const m=new It(p.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Dn.newNoDocument(m,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Jt();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Dd(t,e,this.Ye,this.je,r);return this.je=Ys(),this.Je=If(),this.He=If(),this.Ye=new Ve(Zt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new fx,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new an(Zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new an(Zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||bt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fx),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function If(){return new Ve(It.comparator)}function dx(){return new Ve(It.comparator)}const UI={asc:"ASCENDING",desc:"DESCENDING"},FI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HI={and:"AND",or:"OR"};class qI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Bm(n,t){return n.useProto3Json||Sd(t)?t:{value:t}}function rd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _S(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function GI(n,t){return rd(n,t.toTimestamp())}function ys(n){return fe(!!n,49232),Lt.fromTimestamp((function(e){const r=Lr(e);return new Ae(r.seconds,r.nanos)})(n))}function kg(n,t){return zm(n,t).canonicalString()}function zm(n,t){const e=(function(o){return new xe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function bS(n){const t=xe.fromString(n);return fe(ES(t),10190,{key:t.toString()}),t}function Um(n,t){return kg(n.databaseId,t.path)}function im(n,t){const e=bS(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(TS(e))}function xS(n,t){return kg(n.databaseId,t)}function YI(n){const t=bS(n);return t.length===4?xe.emptyPath():TS(t)}function Fm(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TS(n){return fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hx(n,t,e){return{name:Um(n,t),fields:e.value.mapValue.fields}}function QI(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:jt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,b){return v.useProto3Json?(fe(b===void 0||typeof b=="string",58123),Sn.fromBase64String(b||"")):(fe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Sn.fromUint8Array(b||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,p=c&&(function(v){const b=v.code===void 0?ft.UNKNOWN:gS(v.code);return new yt(b,v.message||"")})(c);e=new vS(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=im(n,r.document.name),u=ys(r.document.updateTime),c=r.document.createTime?ys(r.document.createTime):Lt.min(),p=new qn({mapValue:{fields:r.document.fields}}),m=Dn.newFoundDocument(o,u,c,p),v=r.targetIds||[],b=r.removedTargetIds||[];e=new Hf(v,b,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=im(n,r.document),u=r.readTime?ys(r.readTime):Lt.min(),c=Dn.newNoDocument(o,u),p=r.removedTargetIds||[];e=new Hf([],p,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=im(n,r.document),u=r.removedTargetIds||[];e=new Hf([],u,o,null)}else{if(!("filter"in t))return jt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new kI(o,u),p=r.targetId;e=new yS(p,c)}}return e}function KI(n,t){let e;if(t instanceof Fu)e={update:hx(n,t.key,t.value)};else if(t instanceof Mg)e={delete:Um(n,t.key)};else if(t instanceof Qr)e={update:hx(n,t.key,t.data),updateMask:iD(t.fieldMask)};else{if(!(t instanceof MI))return jt(16599,{Vt:t.type});e={verify:Um(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const p=c.transform;if(p instanceof id)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sd)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw jt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:jt(27497)})(n,t.precondition)),e}function XI(n,t){return n&&n.length>0?(fe(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?ys(o.updateTime):ys(u);return c.isEqual(Lt.min())&&(c=ys(u)),new DI(c,o.transformResults||[])})(e,t)))):[]}function WI(n,t){return{documents:[xS(n,t.path)]}}function $I(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=xS(n,o);const u=(function(v){if(v.length!==0)return AS(qi.create(v,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(v){if(v.length!==0)return v.map((b=>(function(_){return{field:Oo(_.field),direction:tD(_.dir)}})(b)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const p=Bm(n,t.limit);return p!==null&&(e.structuredQuery.limit=p),t.startAt&&(e.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:e,parent:o}}function ZI(n){let t=YI(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){fe(r===1,65062);const b=e.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let u=[];e.where&&(u=(function(f){const _=SS(f);return _ instanceof qi&&JT(_)?_.getFilters():[_]})(e.where));let c=[];e.orderBy&&(c=(function(f){return f.map((_=>(function(E){return new ju(No(E.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(_)))})(e.orderBy));let p=null;e.limit&&(p=(function(f){let _;return _=typeof f=="object"?f.value:f,Sd(_)?null:_})(e.limit));let m=null;e.startAt&&(m=(function(f){const _=!!f.before,T=f.values||[];return new ed(T,_)})(e.startAt));let v=null;return e.endAt&&(v=(function(f){const _=!f.before,T=f.values||[];return new ed(T,_)})(e.endAt)),yI(t,o,c,u,p,"F",m,v)}function JI(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function SS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=No(e.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=No(e.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(e.unaryFilter.field);return tn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(e.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return tn.create(No(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return qi.create(e.compositeFilter.filters.map((r=>SS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(e.compositeFilter.op))})(n):jt(30097,{filter:n})}function tD(n){return UI[n]}function eD(n){return FI[n]}function nD(n){return HI[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function No(n){return Tn.fromServerFormat(n.fieldPath)}function AS(n){return n instanceof tn?(function(e){if(e.op==="=="){if(tx(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(Jb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(tx(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(Jb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:eD(e.op),value:e.value}}})(n):n instanceof qi?(function(e){const r=e.getFilters().map((o=>AS(o)));return r.length===1?r[0]:{compositeFilter:{op:nD(e.op),filters:r}}})(n):jt(54877,{filter:n})}function iD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ES(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Dr{constructor(t,e,r,o,u=Lt.min(),c=Lt.min(),p=Sn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sD{constructor(t){this.yt=t}}function rD(n){const t=ZI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nd(t,t.limit,"L"):t}class aD{constructor(){this.Cn=new oD}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(Pr.min())}updateCollectionGroup(t,e,r){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class oD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new an(xe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new an(xe.comparator)).toArray()}}const px={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wS=41943040;class Hn{static withCacheSize(t){return new Hn(t,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(wS,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Xo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}const mx="LruGarbageCollector",lD=1048576;function gx([n,t],[e,r]){const o=Zt(n,e);return o===0?Zt(t,r):o}class uD{constructor(t){this.Ir=t,this.buffer=new an(gx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();gx(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(mx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nl(e)?bt(mx,"Ignoring IndexedDB error during garbage collection: ",e):await el(e)}await this.Vr(3e5)}))}}class fD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(Td.ce);const r=new uD(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(px)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),px):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,p,m,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),o=this.params.maximumSequenceNumbersToCollect):o=f,c=Date.now(),this.nthSequenceNumber(t,o)))).next((f=>(r=f,p=Date.now(),this.removeTargets(t,r,e)))).next((f=>(u=f,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((f=>(v=Date.now(),jo()<=re.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${f} documents in `+(v-m)+`ms
Total Duration: ${v-b}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:f}))))}}function dD(n,t){return new fD(n,t)}class hD{constructor(){this.changes=new Ba((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?ht.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class mD{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&xu(r.mutation,o,si.empty(),Ae.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Jt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Jt()){const o=Ca();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=hu();return u.forEach(((p,m)=>{c=c.insert(p,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Ca();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Jt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,p)=>{e.set(c,p)}))}))}computeViews(t,e,r,o){let u=Ys();const c=bu(),p=(function(){return bu()})();return e.forEach(((m,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Qr)?u=u.insert(v.key,v):b!==void 0?(c.set(v.key,b.mutation.getFieldMask()),xu(b.mutation,v,b.mutation.getFieldMask(),Ae.now())):c.set(v.key,si.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((v,b)=>c.set(v,b))),e.forEach(((v,b)=>p.set(v,new pD(b,c.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,e){const r=bu();let o=new Ve(((c,p)=>c-p)),u=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const p of c)p.keys().forEach((m=>{const v=e.get(m);if(v===null)return;let b=r.get(m)||si.empty();b=p.applyToLocalView(v,b),r.set(m,b);const f=(o.get(p.batchId)||Jt()).add(m);o=o.insert(p.batchId,f)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,b=m.value,f=lS();b.forEach((_=>{if(!u.has(_)){const T=pS(e.get(_),r.get(_));T!==null&&f.set(_,T),u=u.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(t,v,f))}return ht.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return It.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):iS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):ht.resolve(Ca());let p=Ru,m=u;return c.next((v=>ht.forEach(v,((b,f)=>(p<f.largestBatchId&&(p=f.largestBatchId),u.get(b)?ht.resolve():this.remoteDocumentCache.getEntry(t,b).next((_=>{m=m.insert(b,_)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,m,v,Jt()))).next((b=>({batchId:p,changes:oS(b)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next((r=>{let o=hu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(t,u).next((p=>ht.forEach(p,(m=>{const v=(function(f,_){return new il(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((b=>{b.forEach(((f,_)=>{c=c.insert(f,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((m,v)=>{const b=v.getKey();c.get(b)===null&&(c=c.insert(b,Dn.newInvalidDocument(b)))}));let p=hu();return c.forEach(((m,v)=>{const b=u.get(m);b!==void 0&&xu(b.mutation,v,si.empty(),Ae.now()),Cd(e,v)&&(p=p.insert(m,v))})),p}))}}class gD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ys(o.createTime)}})(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:rD(o.bundledQuery),readTime:ys(o.readTime)}})(e)),ht.resolve()}}class yD{constructor(){this.overlays=new Ve(It.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ca();return ht.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),ht.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ht.resolve()}getOverlaysForCollection(t,e,r){const o=Ca(),u=e.length+1,c=new It(e.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ht.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new Ve(((v,b)=>v-b));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let b=u.get(v.largestBatchId);b===null&&(b=Ca(),u=u.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=Ca(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,b)=>p.set(v,b))),!(p.size()>=o)););return ht.resolve(p)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NI(e,r));let u=this.qr.get(e);u===void 0&&(u=Jt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class vD{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}class Pg{constructor(){this.Qr=new an(dn.$r),this.Ur=new an(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new dn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new dn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new It(new xe([])),r=new dn(e,t),o=new dn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new It(new xe([])),r=new dn(e,t),o=new dn(e,t+1);let u=Jt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new dn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class dn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return It.comparator(t.key,e.key)||Zt(t.Yr,e.Yr)}static Kr(t,e){return Zt(t.Yr,e.Yr)||It.comparator(t.key,e.key)}}class _D{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new an(dn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OI(u,e,r,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new dn(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return ht.resolve(c)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return ht.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Cg:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new dn(e,0),o=new dn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),ht.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new an(Zt);return e.forEach((o=>{const u=new dn(o,0),c=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{r=r.add(p.Yr)}))})),ht.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;It.isDocumentKey(u)||(u=u.child(""));const c=new dn(new It(u),0);let p=new an(Zt);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(m.Yr)),!0)}),c),ht.resolve(this.ti(p))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){fe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ht.forEach(e.mutations,(o=>{const u=new dn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new dn(e,0),o=this.Zr.firstAfterOrEqual(r);return ht.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class bD{constructor(t){this.ri=t,this.docs=(function(){return new Ve(It.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ht.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(e))}getEntries(t,e){let r=Ys();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Dn.newInvalidDocument(o))})),ht.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ys();const c=e.path,p=new It(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:b}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||XR(KR(b),r)<=0||(o.has(b.key)||Cd(e,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ht.resolve(u)}getAllFromCollectionGroup(t,e,r,o){jt(9500)}ii(t,e){return ht.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new xD(this)}getSize(t){return ht.resolve(this.size)}}class xD extends hD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class TD{constructor(t){this.persistence=t,this.si=new Ba((e=>Dg(e)),Vg),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pg,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Xo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=e&&r.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),ht.waitFor(u).next((()=>o))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return ht.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),ht.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ht.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return ht.resolve(r)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}class CS{constructor(t,e){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new vD,this.referenceDelegate=t(this),this.Pi=new TD(this),this.indexManager=new aD,this.remoteDocumentCache=(function(o){return new bD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sD(e),this.Ii=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new _D(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){bt("MemoryPersistence","Starting transaction:",t);const o=new SD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return ht.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class SD extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class Lg{constructor(t){this.persistence=t,this.Ri=new Pg,this.Vi=null}static mi(t){return new Lg(t)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),ht.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,(r=>{const o=It.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Lt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class ad{constructor(t,e){this.persistence=t,this.pi=new Ba((r=>tI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dD(this,e)}static mi(t,e){return new ad(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return ht.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ht.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((p=>{p||(r++,u.removeEntry(c,Lt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zf(t.data.value)),e}br(t,e,r){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return ht.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Jt(),o=Jt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bg(t,e.fromCache,r,o)}}class AD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ED{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mC()?8:ZR(dC())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new AD;return this.Ss(t,e,c).next((p=>{if(u.result=p,this.Vs)return this.bs(t,e,c,p.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(jo()<=re.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Mo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(jo()<=re.DEBUG&&bt("QueryEngine","Query:",Mo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(jo()<=re.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Mo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gs(e))):ht.resolve())}ys(t,e){if(sx(e))return ht.resolve(null);let r=gs(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=nd(e,null,"F"),r=gs(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Jt(...u);return this.ps.getDocuments(t,c).next((p=>this.indexManager.getMinOffset(t,r).next((m=>{const v=this.Ds(e,p);return this.Cs(e,v,c,m.readTime)?this.ys(t,nd(e,null,"F")):this.vs(t,v,e,m)}))))})))))}ws(t,e,r,o){return sx(e)||o.isEqual(Lt.min())?ht.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?ht.resolve(null):(jo()<=re.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(e)),this.vs(t,c,e,QR(o,Ru)).next((p=>p)))}))}Ds(t,e){let r=new an(rS(t));return e.forEach(((o,u)=>{Cd(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return jo()<=re.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Mo(e)),this.ps.getDocumentsMatchingQuery(t,e,Pr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const zg="LocalStore",wD=3e8;class CD{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Ve(Zt),this.xs=new Ba((u=>Dg(u)),Vg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function RD(n,t,e,r){return new CD(n,t,e,r)}async function RS(n,t){const e=Ut(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],p=[];let m=Jt();for(const v of o){c.push(v.batchId);for(const b of v.mutations)m=m.add(b.key)}for(const v of u){p.push(v.batchId);for(const b of v.mutations)m=m.add(b.key)}return e.localDocuments.getDocuments(r,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:p})))}))}))}function ID(n,t){const e=Ut(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,v,b){const f=v.batch,_=f.keys();let T=ht.resolve();return _.forEach((E=>{T=T.next((()=>b.getEntry(m,E))).next((R=>{const M=v.docVersions.get(E);fe(M!==null,48541),R.version.compareTo(M)<0&&(f.applyToRemoteDocument(R,v),R.isValidDocument()&&(R.setReadTime(v.commitVersion),b.addEntry(R)))}))})),T.next((()=>p.mutationQueue.removeMutationBatch(m,f)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let m=Jt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(m=m.add(p.batch.mutations[v].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function IS(n){const t=Ut(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function DD(n,t){const e=Ut(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const p=[];t.targetChanges.forEach(((b,f)=>{const _=o.get(f);if(!_)return;p.push(e.Pi.removeMatchingKeys(u,b.removedDocuments,f).next((()=>e.Pi.addMatchingKeys(u,b.addedDocuments,f))));let T=_.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(f)!==null?T=T.withResumeToken(Sn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):b.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(b.resumeToken,r)),o=o.insert(f,T),(function(R,M,j){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=wD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(_,T,b)&&p.push(e.Pi.updateTargetData(u,T))}));let m=Ys(),v=Jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(VD(u,c,t.documentUpdates).next((b=>{m=b.ks,v=b.qs}))),!r.isEqual(Lt.min())){const b=e.Pi.getLastRemoteSnapshotVersion(u).next((f=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(b)}return ht.waitFor(p).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,m,v))).next((()=>m))})).then((u=>(e.Ms=o,u)))}function VD(n,t,e){let r=Jt(),o=Jt();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Ys();return e.forEach(((p,m)=>{const v=u.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Lt.min())?(t.removeEntry(p,m.readTime),c=c.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(m),c=c.insert(p,m)):bt(zg,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function jD(n,t){const e=Ut(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Cg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function MD(n,t){const e=Ut(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,ht.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Dr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Hm(n,t,e){const r=Ut(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!nl(c))throw c;bt(zg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function yx(n,t,e){const r=Ut(n);let o=Lt.min(),u=Jt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,v,b){const f=Ut(m),_=f.xs.get(b);return _!==void 0?ht.resolve(f.Ms.get(_)):f.Pi.getTargetData(v,b)})(r,c,gs(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,p.targetId).next((m=>{u=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Lt.min(),e?u:Jt()))).next((p=>(OD(r,_I(t),p),{documents:p,Qs:u})))))}function OD(n,t,e){let r=n.Os.get(t)||Lt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class vx{constructor(){this.activeTargetIds=EI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ND{constructor(){this.Mo=new vx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new vx,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class kD{Oo(t){}shutdown(){}}const _x="ConnectivityMonitor";class bx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(_x,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(_x,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function qm(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const sm="RestConnection",PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=qm(),p=this.zo(t,e.toUriEncodedString());bt(sm,`Sending RPC '${t}' ${c}:`,p,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:v}=new URL(p),b=Tg(v);return this.Jo(t,p,m,r,b).then((f=>(bt(sm,`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw Go(sm,`RPC '${t}' ${c} failed with error: `,f,"url: ",p,"request:",r),f}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=PD[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class BD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const wn="WebChannelConnection";class zD extends LD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=qm();return new Promise(((p,m)=>{const v=new jT;v.setWithCredentials(!0),v.listenOnce(MT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Bf.NO_ERROR:const f=v.getResponseJson();bt(wn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(f)),p(f);break;case Bf.TIMEOUT:bt(wn,`RPC '${t}' ${c} timed out`),m(new yt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const _=v.getStatus();if(bt(wn,`RPC '${t}' ${c} failed with status:`,_,"response text:",v.getResponseText()),_>0){let T=v.getResponseJson();Array.isArray(T)&&(T=T[0]);const E=T?.error;if(E&&E.status&&E.message){const R=(function(j){const N=j.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(N)>=0?N:ft.UNKNOWN})(E.status);m(new yt(R,E.message))}else m(new yt(ft.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new yt(ft.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:t,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{bt(wn,`RPC '${t}' ${c} completed.`)}}));const b=JSON.stringify(o);bt(wn,`RPC '${t}' ${c} sending request:`,o),v.send(e,"POST",b,r,15)}))}T_(t,e,r){const o=qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=kT(),p=NT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const b=u.join("");bt(wn,`Creating RPC '${t}' stream ${o}: ${b}`,m);const f=c.createWebChannel(b,m);this.I_(f);let _=!1,T=!1;const E=new BD({Yo:M=>{T?bt(wn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(_||(bt(wn,`Opening RPC '${t}' stream ${o} transport.`),f.open(),_=!0),bt(wn,`RPC '${t}' stream ${o} sending:`,M),f.send(M))},Zo:()=>f.close()}),R=(M,j,N)=>{M.listen(j,(B=>{try{N(B)}catch(G){setTimeout((()=>{throw G}),0)}}))};return R(f,du.EventType.OPEN,(()=>{T||(bt(wn,`RPC '${t}' stream ${o} transport opened.`),E.o_())})),R(f,du.EventType.CLOSE,(()=>{T||(T=!0,bt(wn,`RPC '${t}' stream ${o} transport closed`),E.a_(),this.E_(f))})),R(f,du.EventType.ERROR,(M=>{T||(T=!0,Go(wn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),E.a_(new yt(ft.UNAVAILABLE,"The operation could not be completed")))})),R(f,du.EventType.MESSAGE,(M=>{if(!T){const j=M.data[0];fe(!!j,16349);const N=j,B=N?.error||N[0]?.error;if(B){bt(wn,`RPC '${t}' stream ${o} received error:`,B);const G=B.status;let tt=(function(C){const I=Ze[C];if(I!==void 0)return gS(I)})(G),et=B.message;tt===void 0&&(tt=ft.INTERNAL,et="Unknown error status: "+G+" with message "+B.message),T=!0,E.a_(new yt(tt,et)),f.close()}else bt(wn,`RPC '${t}' stream ${o} received:`,j),E.u_(j)}})),R(p,OT.STAT_EVENT,(M=>{M.stat===jm.PROXY?bt(wn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===jm.NOPROXY&&bt(wn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function rm(){return typeof document<"u"?document:null}function Vd(n){return new qI(n,!0)}class DS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xx="PersistentStream";class VS{constructor(t,e,r,o,u,c,p,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return bt(xx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(bt(xx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UD extends VS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=QI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?ys(c.readTime):Lt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Fm(this.serializer),e.addTarget=(function(u,c){let p;const m=c.target;if(p=Pm(m)?{documents:WI(u,m)}:{query:$I(u,m).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=_S(u,c.resumeToken);const v=Bm(u,c.expectedCount);v!==null&&(p.expectedCount=v)}else if(c.snapshotVersion.compareTo(Lt.min())>0){p.readTime=rd(u,c.snapshotVersion.toTimestamp());const v=Bm(u,c.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=JI(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Fm(this.serializer),e.removeTarget=t,this.q_(e)}}class FD extends VS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return fe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){fe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=XI(t.writeResults,t.commitTime),r=ys(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Fm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>KI(this.serializer,r)))};this.q_(e)}}class HD{}class qD extends HD{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,zm(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ft.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(t,zm(e,r),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ft.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(e),this.aa=!1):bt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class YD{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{za(this)&&(bt(ka,"Restarting streams for network reachability change."),await(async function(m){const v=Ut(m);v.Ea.add(4),await qu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await jd(v)})(this))}))})),this.Ra=new GD(r,o)}}async function jd(n){if(za(n))for(const t of n.da)await t(!0)}async function qu(n){for(const t of n.da)await t(!1)}function jS(n,t){const e=Ut(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),qg(e)?Hg(e):sl(e).O_()&&Fg(e,t))}function Ug(n,t){const e=Ut(n),r=sl(e);e.Ia.delete(t),r.O_()&&MS(e,t),e.Ia.size===0&&(r.O_()?r.L_():za(e)&&e.Ra.set("Unknown"))}function Fg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}sl(n).Y_(t)}function MS(n,t){n.Va.Ue(t),sl(n).Z_(t)}function Hg(n){n.Va=new zI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.Ra.ua()}function qg(n){return za(n)&&!sl(n).x_()&&n.Ia.size>0}function za(n){return Ut(n).Ea.size===0}function OS(n){n.Va=void 0}async function QD(n){n.Ra.set("Online")}async function KD(n){n.Ia.forEach(((t,e)=>{Fg(n,t)}))}async function XD(n,t){OS(n),qg(n)?(n.Ra.ha(t),Hg(n)):n.Ra.set("Unknown")}async function WD(n,t,e){if(n.Ra.set("Online"),t instanceof vS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(n,t)}catch(r){bt(ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await od(n,r)}else if(t instanceof Hf?n.Va.Ze(t):t instanceof yS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Lt.min()))try{const r=await IS(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const b=u.Ia.get(v);b&&u.Ia.set(v,b.withResumeToken(m.resumeToken,c))}})),p.targetMismatches.forEach(((m,v)=>{const b=u.Ia.get(m);if(!b)return;u.Ia.set(m,b.withResumeToken(Sn.EMPTY_BYTE_STRING,b.snapshotVersion)),MS(u,m);const f=new Dr(b.target,m,v,b.sequenceNumber);Fg(u,f)})),u.remoteSyncer.applyRemoteEvent(p)})(n,e)}catch(r){bt(ka,"Failed to raise snapshot:",r),await od(n,r)}}async function od(n,t,e){if(!nl(t))throw t;n.Ea.add(1),await qu(n),n.Ra.set("Offline"),e||(e=()=>IS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{bt(ka,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await jd(n)}))}function NS(n,t){return t().catch((e=>od(n,e,t)))}async function Md(n){const t=Ut(n),e=Ur(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cg;for(;$D(t);)try{const o=await jD(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,ZD(t,o)}catch(o){await od(t,o)}kS(t)&&PS(t)}function $D(n){return za(n)&&n.Ta.length<10}function ZD(n,t){n.Ta.push(t);const e=Ur(n);e.O_()&&e.X_&&e.ea(t.mutations)}function kS(n){return za(n)&&!Ur(n).x_()&&n.Ta.length>0}function PS(n){Ur(n).start()}async function JD(n){Ur(n).ra()}async function tV(n){const t=Ur(n);for(const e of n.Ta)t.ea(e.mutations)}async function eV(n,t,e){const r=n.Ta.shift(),o=Og.from(r,t,e);await NS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Md(n)}async function nV(n,t){t&&Ur(n).X_&&await(async function(r,o){if((function(c){return PI(c)&&c!==ft.ABORTED})(o.code)){const u=r.Ta.shift();Ur(r).B_(),await NS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Md(r)}})(n,t),kS(n)&&PS(n)}async function Tx(n,t){const e=Ut(n);e.asyncQueue.verifyOperationInProgress(),bt(ka,"RemoteStore received new credentials");const r=za(e);e.Ea.add(3),await qu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await jd(e)}async function iV(n,t){const e=Ut(n);t?(e.Ea.delete(2),await jd(e)):t||(e.Ea.add(2),await qu(e),e.Ra.set("Unknown"))}function sl(n){return n.ma||(n.ma=(function(e,r,o){const u=Ut(e);return u.sa(),new UD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:QD.bind(null,n),t_:KD.bind(null,n),r_:XD.bind(null,n),H_:WD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),qg(n)?Hg(n):n.Ra.set("Unknown")):(await n.ma.stop(),OS(n))}))),n.ma}function Ur(n){return n.fa||(n.fa=(function(e,r,o){const u=Ut(e);return u.sa(),new FD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:JD.bind(null,n),r_:nV.bind(null,n),ta:tV.bind(null,n),na:eV.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Md(n)):(await n.fa.stop(),n.Ta.length>0&&(bt(ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Gg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,p=new Gg(t,e,c,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(n,t){if(Gs("AsyncQueue",`${t}: ${n}`),nl(n))return new yt(ft.UNAVAILABLE,`${t}: ${n}`);throw n}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||It.comparator(e.key,r.key):(e,r)=>It.comparator(e.key,r.key),this.keyedMap=hu(),this.sortedSet=new Ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Sx{constructor(){this.ga=new Ve(It.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):jt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Wo{constructor(t,e,r,o,u,c,p,m,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((p=>{c.push({type:0,doc:p})})),new Wo(t,e,Uo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class sV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rV{constructor(){this.queries=Ax(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Ut(e),u=o.queries;o.queries=Ax(),u.forEach(((c,p)=>{for(const m of p.Sa)m.onError(r)}))})(this,new yt(ft.ABORTED,"Firestore shutting down"))}}function Ax(){return new Ba((n=>sS(n)),wd)}async function Qg(n,t){const e=Ut(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new sV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const p=Yg(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(p)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Xg(e)}async function Kg(n,t){const e=Ut(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function aV(n,t){const e=Ut(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(r=!0);c.wa=o}}r&&Xg(e)}function oV(n,t,e){const r=Ut(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Xg(n){n.Ca.forEach((t=>{t.next()}))}var Gm,Ex;(Ex=Gm||(Gm={})).Ma="default",Ex.Cache="cache";class Wg{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Wo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gm.Cache}}class LS{constructor(t){this.key=t}}class BS{constructor(t){this.key=t}}class lV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=rS(t),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new Sx,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,f)=>{const _=o.get(b),T=Cd(this.query,f)?f:null,E=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;_&&T?_.data.isEqual(T.data)?E!==R&&(r.track({type:3,doc:T}),M=!0):this.su(_,T)||(r.track({type:2,doc:T}),M=!0,(m&&this.eu(T,m)>0||v&&this.eu(T,v)<0)&&(p=!0)):!_&&T?(r.track({type:0,doc:T}),M=!0):_&&!T&&(r.track({type:1,doc:_}),M=!0,(m||v)&&(p=!0)),M&&(T?(c=c.add(T),u=R?u.add(b):u.delete(b)):(c=c.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Cs:p,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((b,f)=>(function(T,E){const R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:M})}};return R(T)-R(E)})(b.type,f.type)||this.eu(b.doc,f.doc))),this.ou(r),o=o??!1;const p=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new Wo(this.query,t.tu,u,c,t.mutatedKeys,m===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new BS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new LS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $g="SyncEngine";class uV{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class cV{constructor(t){this.key=t,this.hu=!1}}class fV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((p=>sS(p)),wd),this.Iu=new Map,this.Eu=new Set,this.du=new Ve(It.comparator),this.Au=new Map,this.Ru=new Pg,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dV(n,t,e=!0){const r=GS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zS(r,t,e,!0),o}async function hV(n,t){const e=GS(n);await zS(e,t,!0,!1)}async function zS(n,t,e,r){const o=await MD(n.localStore,gs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let p;return r&&(p=await pV(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&jS(n.remoteStore,o),p}async function pV(n,t,e,r,o){n.pu=(f,_,T)=>(async function(R,M,j,N){let B=M.view.ru(j);B.Cs&&(B=await yx(R.localStore,M.query,!1).then((({documents:V})=>M.view.ru(V,B))));const G=N&&N.targetChanges.get(M.targetId),tt=N&&N.targetMismatches.get(M.targetId)!=null,et=M.view.applyChanges(B,R.isPrimaryClient,G,tt);return Cx(R,M.targetId,et.au),et.snapshot})(n,f,_,T);const u=await yx(n.localStore,t,!0),c=new lV(t,u.Qs),p=c.ru(u.documents),m=Hu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),v=c.applyChanges(p,n.isPrimaryClient,m);Cx(n,e,v.au);const b=new uV(t,e,c);return n.Tu.set(t,b),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),v.snapshot}async function mV(n,t,e){const r=Ut(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!wd(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Ug(r.remoteStore,o.targetId),Ym(r,o.targetId)})).catch(el)):(Ym(r,o.targetId),await Hm(r.localStore,o.targetId,!0))}async function gV(n,t){const e=Ut(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(e.remoteStore,r.targetId))}async function yV(n,t,e){const r=AV(n);try{const o=await(function(c,p){const m=Ut(c),v=Ae.now(),b=p.reduce(((T,E)=>T.add(E.key)),Jt());let f,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let E=Ys(),R=Jt();return m.Ns.getEntries(T,b).next((M=>{E=M,E.forEach(((j,N)=>{N.isValidDocument()||(R=R.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(T,E))).next((M=>{f=M;const j=[];for(const N of p){const B=jI(N,f.get(N.key).overlayedDocument);B!=null&&j.push(new Qr(N.key,B,WT(B.value.mapValue),wi.exists(!0)))}return m.mutationQueue.addMutationBatch(T,v,j,p)})).next((M=>{_=M;const j=M.applyToLocalDocumentSet(f,R);return m.documentOverlayCache.saveOverlays(T,M.batchId,j)}))})).then((()=>({batchId:_.batchId,changes:oS(f)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,p,m){let v=c.Vu[c.currentUser.toKey()];v||(v=new Ve(Zt)),v=v.insert(p,m),c.Vu[c.currentUser.toKey()]=v})(r,o.batchId,e),await Gu(r,o.changes),await Md(r.remoteStore)}catch(o){const u=Yg(o,"Failed to persist write");e.reject(u)}}async function US(n,t){const e=Ut(n);try{const r=await DD(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?fe(c.hu,14607):o.removedDocuments.size>0&&(fe(c.hu,42227),c.hu=!1))})),await Gu(e,r,t)}catch(r){await el(r)}}function wx(n,t,e){const r=Ut(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const p=c.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const m=Ut(c);m.onlineState=p;let v=!1;m.queries.forEach(((b,f)=>{for(const _ of f.Sa)_.va(p)&&(v=!0)})),v&&Xg(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vV(n,t,e){const r=Ut(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Ve(It.comparator);c=c.insert(u,Dn.newNoDocument(u,Lt.min()));const p=Jt().add(u),m=new Dd(Lt.min(),new Map,new Ve(Zt),c,p);await US(r,m),r.du=r.du.remove(u),r.Au.delete(t),Zg(r)}else await Hm(r.localStore,t,!1).then((()=>Ym(r,t,e))).catch(el)}async function _V(n,t){const e=Ut(n),r=t.batch.batchId;try{const o=await ID(e.localStore,t);HS(e,r,null),FS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(e,o)}catch(o){await el(o)}}async function bV(n,t,e){const r=Ut(n);try{const o=await(function(c,p){const m=Ut(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return m.mutationQueue.lookupMutationBatch(v,p).next((f=>(fe(f!==null,37113),b=f.keys(),m.mutationQueue.removeMutationBatch(v,f)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,b,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>m.localDocuments.getDocuments(v,b)))}))})(r.localStore,t);HS(r,t,e),FS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Gu(r,o)}catch(o){await el(o)}}function FS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function HS(n,t,e){const r=Ut(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Ym(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||qS(n,r)}))}function qS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ug(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Zg(n))}function Cx(n,t,e){for(const r of e)r instanceof LS?(n.Ru.addReference(r.key,t),xV(n,r)):r instanceof BS?(bt($g,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||qS(n,r.key)):jt(19791,{wu:r})}function xV(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(bt($g,"New document in limbo: "+e),n.Eu.add(r),Zg(n))}function Zg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new It(xe.fromString(t)),r=n.fu.next();n.Au.set(r,new cV(e)),n.du=n.du.insert(e,r),jS(n.remoteStore,new Dr(gs(Ed(e.path)),r,"TargetPurposeLimboResolution",Td.ce))}}async function Gu(n,t,e){const r=Ut(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,m)=>{c.push(r.pu(m,t,e).then((v=>{if((v||e)&&r.isPrimaryClient){const b=v?!v.fromCache:e?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(v){o.push(v);const b=Bg.As(m.targetId,v);u.push(b)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,v){const b=Ut(m);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ht.forEach(v,(_=>ht.forEach(_.Es,(T=>b.persistence.referenceDelegate.addReference(f,_.targetId,T))).next((()=>ht.forEach(_.ds,(T=>b.persistence.referenceDelegate.removeReference(f,_.targetId,T)))))))))}catch(f){if(!nl(f))throw f;bt(zg,"Failed to update sequence numbers: "+f)}for(const f of v){const _=f.targetId;if(!f.fromCache){const T=b.Ms.get(_),E=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(E);b.Ms=b.Ms.insert(_,R)}}})(r.localStore,u))}async function TV(n,t){const e=Ut(n);if(!e.currentUser.isEqual(t)){bt($g,"User change. New user:",t.toKey());const r=await RS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new yt(ft.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gu(e,r.Ls)}}function SV(n,t){const e=Ut(n),r=e.Au.get(t);if(r&&r.hu)return Jt().add(r.key);{let o=Jt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const p=e.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function GS(n){const t=Ut(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vV.bind(null,t),t.Pu.H_=aV.bind(null,t.eventManager),t.Pu.yu=oV.bind(null,t.eventManager),t}function AV(n){const t=Ut(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_V.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bV.bind(null,t),t}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return RD(this.persistence,new ED,t.initialUser,this.serializer)}Cu(t){return new CS(Lg.mi,this.serializer)}Du(t){return new ND}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class EV extends ld{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){fe(this.persistence.referenceDelegate instanceof ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cD(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new CS((r=>ad.mi(r,e)),this.serializer)}}class Qm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TV.bind(null,this.syncEngine),await iV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rV})()}createDatastore(t){const e=Vd(t.databaseInfo.databaseId),r=(function(u){return new zD(u)})(t.databaseInfo);return(function(u,c,p,m){return new qD(u,c,p,m)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,p){return new YD(r,o,u,c,p)})(this.localStore,this.datastore,t.asyncQueue,(e=>wx(this.syncEngine,e,0)),(function(){return bx.v()?new bx:new kD})())}createSyncEngine(t,e){return(function(o,u,c,p,m,v,b){const f=new fV(o,u,c,p,m,v);return b&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Ut(e);bt(ka,"RemoteStore shutting down."),r.Ea.add(5),await qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qm.provider={build:()=>new Qm};class Jg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Fr="FirestoreClient";class wV{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Cn.UNAUTHENTICATED,this.clientId=wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{bt(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(bt(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Yg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function am(n,t){n.asyncQueue.verifyOperationInProgress(),bt(Fr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await RS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Rx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await CV(n);bt(Fr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Tx(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Tx(t.remoteStore,o))),n._onlineComponents=t}async function CV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(Fr,"Using user provided OfflineComponentProvider");try{await am(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Go("Error using user provided cache. Falling back to memory cache: "+e),await am(n,new ld)}}else bt(Fr,"Using default OfflineComponentProvider"),await am(n,new EV(void 0));return n._offlineComponents}async function YS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(Fr,"Using user provided OnlineComponentProvider"),await Rx(n,n._uninitializedComponentsProvider._online)):(bt(Fr,"Using default OnlineComponentProvider"),await Rx(n,new Qm))),n._onlineComponents}function RV(n){return YS(n).then((t=>t.syncEngine))}async function ud(n){const t=await YS(n),e=t.eventManager;return e.onListen=dV.bind(null,t.syncEngine),e.onUnlisten=mV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=hV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gV.bind(null,t.syncEngine),e}function IV(n,t,e={}){const r=new Fs;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,m,v){const b=new Jg({next:_=>{b.Nu(),c.enqueueAndForget((()=>Kg(u,f)));const T=_.docs.has(p);!T&&_.fromCache?v.reject(new yt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&m&&m.source==="server"?v.reject(new yt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:_=>v.reject(_)}),f=new Wg(Ed(p.path),b,{includeMetadataChanges:!0,qa:!0});return Qg(u,f)})(await ud(n),n.asyncQueue,t,e,r))),r.promise}function DV(n,t,e={}){const r=new Fs;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,m,v){const b=new Jg({next:_=>{b.Nu(),c.enqueueAndForget((()=>Kg(u,f))),_.fromCache&&m.source==="server"?v.reject(new yt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:_=>v.reject(_)}),f=new Wg(p,b,{includeMetadataChanges:!0,qa:!0});return Qg(u,f)})(await ud(n),n.asyncQueue,t,e,r))),r.promise}function QS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const Ix=new Map;const KS="firestore.googleapis.com",Dx=!0;class Vx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KS,this.ssl=Dx}else this.host=t.host,this.ssl=t.ssl??Dx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lD)throw new yt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Od{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NR;switch(r.type){case"firstParty":return new BR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Ix.get(e);r&&(bt("ComponentProvider","Removing Datastore"),Ix.delete(e),r.terminate())})(this),Promise.resolve()}}function VV(n,t,e,r={}){n=Yn(n,Od);const o=Tg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},p=`${t}:${e}`;o&&(oC(`https://${p}`),fC("Firestore",!0)),u.host!==KS&&u.host!==p&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:r};if(!wu(m,c)&&(n._setSettings(m),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=Cn.MOCK_USER;else{v=lC(r.mockUserToken,n._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new yt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Cn(f)}n._authCredentials=new kR(new LT(v,b))}}class Ws{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class ke{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,ke._jsonSchema))return new ke(t,r||null,new It(xe.fromString(e.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:en("string",ke._jsonSchemaVersion),referencePath:en("string")};class Nr extends Ws{constructor(t,e,r){super(t,e,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new It(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function Rn(n,t,...e){if(n=ai(n),BT("collection","path",t),n instanceof Od){const r=xe.fromString(t,...e);return qb(r),new Nr(n,null,r)}{if(!(n instanceof ke||n instanceof Nr))throw new yt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...e));return qb(r),new Nr(n.firestore,null,r)}}function Re(n,t,...e){if(n=ai(n),arguments.length===1&&(t=wg.newId()),BT("doc","path",t),n instanceof Od){const r=xe.fromString(t,...e);return Hb(r),new ke(n,null,new It(r))}{if(!(n instanceof ke||n instanceof Nr))throw new yt(ft.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...e));return Hb(r),new ke(n.firestore,n instanceof Nr?n.converter:null,new It(r))}}const jx="AsyncQueue";class Mx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DS(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&bt(jx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=rm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=rm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!nl(t))throw t;bt(jx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",Ox(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Gg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&jt(47125,{Pc:Ox(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Ox(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Nx(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Qs extends Od{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Mx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mx(t),this._firestoreClient=void 0,await t}}}function jV(n,t){const e=typeof n=="object"?n:RT(),r=typeof n=="string"?n:Jf,o=zu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rC("firestore");u&&VV(o,...u)}return o}function Nd(n){if(n._terminated)throw new yt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MV(n),n._firestoreClient}function MV(n){const t=n._freezeSettings(),e=(function(o,u,c,p){return new iI(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,QS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new wV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ai(Sn.fromBase64String(t))}catch(e){throw new yt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ai(Sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Ai._jsonSchema))return Ai.fromBase64String(t.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:en("string",Ai._jsonSchemaVersion),bytes:en("string")};class kd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ty{constructor(t){this._methodName=t}}class vs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,vs._jsonSchema))return new vs(t.latitude,t.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:en("string",vs._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class _s{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,_s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new _s(t.vectorValues);throw new yt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:en("string",_s._jsonSchemaVersion),vectorValues:en("object")};const OV=/^__.*__$/;class NV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fu(t,this.data,e,this.fieldTransforms)}}class XS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function WS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:n})}}class ey{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ey({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return cd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WS(this.Ac)&&OV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class kV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Vd(t)}Cc(t,e,r,o=!1){return new ey({Ac:t,methodName:e,Dc:r,path:Tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(n){const t=n._freezeSettings(),e=Vd(n._databaseId);return new kV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $S(n,t,e,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);ny("Data must be an object, but it was:",c,r);const p=ZS(r,c);let m,v;if(u.merge)m=new si(c.fieldMask),v=c.fieldTransforms;else if(u.mergeFields){const b=[];for(const f of u.mergeFields){const _=Km(t,f,e);if(!c.contains(_))throw new yt(ft.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);tA(b,_)||b.push(_)}m=new si(b),v=c.fieldTransforms.filter((f=>m.covers(f.field)))}else m=null,v=c.fieldTransforms;return new NV(new qn(p),m,v)}class Ld extends ty{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ld}}function PV(n,t,e,r){const o=n.Cc(1,t,e);ny("Data must be an object, but it was:",o,r);const u=[],c=qn.empty();Yr(r,((m,v)=>{const b=iy(t,m,e);v=ai(v);const f=o.yc(b);if(v instanceof Ld)u.push(b);else{const _=Yu(v,f);_!=null&&(u.push(b),c.set(b,_))}}));const p=new si(u);return new XS(c,p,o.fieldTransforms)}function LV(n,t,e,r,o,u){const c=n.Cc(1,t,e),p=[Km(t,r,e)],m=[o];if(u.length%2!=0)throw new yt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)p.push(Km(t,u[_])),m.push(u[_+1]);const v=[],b=qn.empty();for(let _=p.length-1;_>=0;--_)if(!tA(v,p[_])){const T=p[_];let E=m[_];E=ai(E);const R=c.yc(T);if(E instanceof Ld)v.push(T);else{const M=Yu(E,R);M!=null&&(v.push(T),b.set(T,M))}}const f=new si(v);return new XS(b,f,c.fieldTransforms)}function BV(n,t,e,r=!1){return Yu(e,n.Cc(r?4:3,t))}function Yu(n,t){if(JS(n=ai(n)))return ny("Unsupported field value:",t,n),ZS(n,t);if(n instanceof ty)return(function(r,o){if(!WS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const p of r){let m=Yu(p,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ae.fromDate(r);return{timestampValue:rd(o.serializer,u)}}if(r instanceof Ae){const u=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(o.serializer,u)}}if(r instanceof vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:_S(o.serializer,r._byteString)};if(r instanceof ke){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof _s)return(function(c,p){return{mapValue:{fields:{[KT]:{stringValue:XT},[td]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return jg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${xd(r)}`)})(n,t)}function ZS(n,t){const e={};return FT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(n,((r,o)=>{const u=Yu(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function JS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ae||n instanceof vs||n instanceof Ai||n instanceof ke||n instanceof ty||n instanceof _s)}function ny(n,t,e){if(!JS(e)||!zT(e)){const r=xd(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Km(n,t,e){if((t=ai(t))instanceof kd)return t._internalPath;if(typeof t=="string")return iy(n,t);throw cd("Field path arguments must be of type string or ",n,!1,void 0,e)}const zV=new RegExp("[~\\*/\\[\\]]");function iy(n,t,e){if(t.search(zV)>=0)throw cd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new kd(...t.split("."))._internalPath}catch{throw cd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cd(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new yt(ft.INVALID_ARGUMENT,p+n+m)}function tA(n,t){return n.some((e=>e.isEqual(t)))}class eA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Bd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class UV extends eA{data(){return super.data()}}function Bd(n,t){return typeof t=="string"?iy(n,t):t instanceof kd?t._internalPath:t._delegate._internalPath}function nA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class ry extends sy{}function Vr(n,t,...e){let r=[];t instanceof sy&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((m=>m instanceof ay)).length,p=u.filter((m=>m instanceof zd)).length;if(c>1||c>0&&p>0)throw new yt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class zd extends ry{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new zd(t,e,r)}_apply(t){const e=this._parse(t);return iA(t._query,e),new Ws(t.firestore,t.converter,Lm(t._query,e))}_parse(t){const e=Pd(t.firestore);return(function(u,c,p,m,v,b,f){let _;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new yt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Px(f,b);const E=[];for(const R of f)E.push(kx(m,u,R));_={arrayValue:{values:E}}}else _=kx(m,u,f)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Px(f,b),_=BV(p,c,f,b==="in"||b==="not-in");return tn.create(v,b,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function qf(n,t,e){const r=t,o=Bd("where",n);return zd._create(o,r,e)}class ay extends sy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ay(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:qi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const p=u.getFlattenedFilters();for(const m of p)iA(c,m),c=Lm(c,m)})(t._query,e),new Ws(t.firestore,t.converter,Lm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oy extends ry{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new oy(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new yt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new yt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(u,c)})(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new il(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function Vf(n,t="asc"){const e=t,r=Bd("orderBy",n);return oy._create(r,e)}class ly extends ry{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new ly(t,e,r)}_apply(t){return new Ws(t.firestore,t.converter,nd(t._query,this._limit,this._limitType))}}function Xm(n){return YR("limit",n),ly._create("limit",n,"F")}function kx(n,t,e){if(typeof(e=ai(e))=="string"){if(e==="")throw new yt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iS(t)&&e.indexOf("/")!==-1)throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(xe.fromString(e));if(!It.isDocumentKey(r))throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zb(n,new It(r))}if(e instanceof ke)return Zb(n,e._key);throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(e)}.`)}function Px(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iA(n,t){const e=(function(o,u){for(const c of o)for(const p of c.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new yt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class FV{convertValue(t,e="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw jt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Yr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[td].arrayValue?.values?.map((r=>Fe(r.doubleValue)));return new _s(e)}convertGeoPoint(t){return new vs(Fe(t.latitude),Fe(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Ad(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const e=Lr(t);return new Ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=xe.fromString(t);fe(ES(r),9688,{name:t});const o=new Du(r.get(1),r.get(3)),u=new It(r.popFirst(5));return o.isEqual(e)||Gs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function sA(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class mu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Va extends eA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Bd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Va._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:en("string",Va._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Gf extends Va{data(t={}){return super.data(t)}}class ja{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Gf(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const m=new Gf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new Gf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return p.type!==0&&(v=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),b=c.indexOf(p.doc.key)),{type:HV(p.type),doc:m,oldIndex:v,newIndex:b}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:n})}}function Fi(n){n=Yn(n,ke);const t=Yn(n.firestore,Qs);return IV(Nd(t),n._key).then((e=>rA(t,n,e)))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:en("string",ja._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class uy extends FV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ai(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,e)}}function qV(n){n=Yn(n,Ws);const t=Yn(n.firestore,Qs),e=Nd(t),r=new uy(t);return nA(n._query),DV(e,n._query).then((o=>new ja(t,r,n,o)))}function Fo(n,t,e){n=Yn(n,ke);const r=Yn(n.firestore,Qs),o=sA(n.converter,t,e);return Ud(r,[$S(Pd(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,wi.none())])}function Hi(n,t,e,...r){n=Yn(n,ke);const o=Yn(n.firestore,Qs),u=Pd(o);let c;return c=typeof(t=ai(t))=="string"||t instanceof kd?LV(u,"updateDoc",n._key,t,e,r):PV(u,"updateDoc",n._key,t),Ud(o,[c.toMutation(n._key,wi.exists(!0))])}function om(n){return Ud(Yn(n.firestore,Qs),[new Mg(n._key,wi.none())])}function $o(n,t){const e=Yn(n.firestore,Qs),r=Re(n),o=sA(n.converter,t);return Ud(e,[$S(Pd(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then((()=>r))}function ps(n,...t){n=ai(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Nx(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Nx(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let u,c,p;if(n instanceof ke)c=Yn(n.firestore,Qs),p=Ed(n._key.path),u={next:m=>{t[r]&&t[r](rA(c,n,m))},error:t[r+1],complete:t[r+2]};else{const m=Yn(n,Ws);c=Yn(m.firestore,Qs),p=m._query;const v=new uy(c);u={next:b=>{t[r]&&t[r](new ja(c,v,m,b))},error:t[r+1],complete:t[r+2]},nA(n._query)}return(function(v,b,f,_){const T=new Jg(_),E=new Wg(b,T,f);return v.asyncQueue.enqueueAndForget((async()=>Qg(await ud(v),E))),()=>{T.Nu(),v.asyncQueue.enqueueAndForget((async()=>Kg(await ud(v),E)))}})(Nd(c),p,o,u)}function Ud(n,t){return(function(r,o){const u=new Fs;return r.asyncQueue.enqueueAndForget((async()=>yV(await RV(r),o,u))),u.promise})(Nd(n),t)}function rA(n,t,e){const r=e.docs.get(t._key),o=new uy(n);return new Va(n,o,t._key,r,new mu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){tl=o})(TR),kr(new Hs("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),p=new Qs(new PR(r.getProvider("auth-internal")),new zR(c,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new yt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(v.options.projectId,b)})(c,o),c);return u={useFetchStreams:e,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ms(Bb,zb,t),ms(Bb,zb,"esm2020")})();const aA="@firebase/installations",cy="0.6.19";const oA=1e4,lA=`w:${cy}`,uA="FIS_v2",GV="https://firebaseinstallations.googleapis.com/v1",YV=3600*1e3,QV="installations",KV="Installations";const XV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new bd(QV,KV,XV);function cA(n){return n instanceof Gr&&n.code.includes("request-failed")}function fA({projectId:n}){return`${GV}/projects/${n}/installations`}function dA(n){return{token:n.token,requestStatus:2,expiresIn:$V(n.expiresIn),creationTime:Date.now()}}async function hA(n,t){const r=(await t.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function WV(n,{refreshToken:t}){const e=pA(n);return e.append("Authorization",ZV(t)),e}async function mA(n){const t=await n();return t.status>=500&&t.status<600?n():t}function $V(n){return Number(n.replace("s","000"))}function ZV(n){return`${uA} ${n}`}async function JV({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=fA(n),o=pA(n),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:e,authVersion:uA,appId:n.appId,sdkVersion:lA},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await mA(()=>fetch(r,p));if(m.ok){const v=await m.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:dA(v.authToken)}}else throw await hA("Create Installation",m)}function gA(n){return new Promise(t=>{setTimeout(t,n)})}function t5(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const e5=/^[cdef][\w-]{21}$/,Wm="";function n5(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=i5(n);return e5.test(e)?e:Wm}catch{return Wm}}function i5(n){return t5(n).substr(0,22)}function Fd(n){return`${n.appName}!${n.appId}`}const yA=new Map;function vA(n,t){const e=Fd(n);_A(e,t),s5(e,t)}function _A(n,t){const e=yA.get(n);if(e)for(const r of e)r(t)}function s5(n,t){const e=r5();e&&e.postMessage({key:n,fid:t}),a5()}let Ra=null;function r5(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=n=>{_A(n.data.key,n.data.fid)}),Ra}function a5(){yA.size===0&&Ra&&(Ra.close(),Ra=null)}const o5="firebase-installations-database",l5=1,La="firebase-installations-store";let lm=null;function fy(){return lm||(lm=wT(o5,l5,{upgrade:(n,t)=>{t===0&&n.createObjectStore(La)}})),lm}async function fd(n,t){const e=Fd(n),o=(await fy()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(e);return await u.put(t,e),await o.done,(!c||c.fid!==t.fid)&&vA(n,t.fid),t}async function bA(n){const t=Fd(n),r=(await fy()).transaction(La,"readwrite");await r.objectStore(La).delete(t),await r.done}async function Hd(n,t){const e=Fd(n),o=(await fy()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(e),p=t(c);return p===void 0?await u.delete(e):await u.put(p,e),await o.done,p&&(!c||c.fid!==p.fid)&&vA(n,p.fid),p}async function dy(n){let t;const e=await Hd(n.appConfig,r=>{const o=u5(r),u=c5(n,o);return t=u.registrationPromise,u.installationEntry});return e.fid===Wm?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function u5(n){const t=n||{fid:n5(),registrationStatus:0};return xA(t)}function c5(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=f5(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:d5(n)}:{installationEntry:t}}async function f5(n,t){try{const e=await JV(n,t);return fd(n.appConfig,e)}catch(e){throw cA(e)&&e.customData.serverCode===409?await bA(n.appConfig):await fd(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function d5(n){let t=await Lx(n.appConfig);for(;t.registrationStatus===1;)await gA(100),t=await Lx(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await dy(n);return r||e}return t}function Lx(n){return Hd(n,t=>{if(!t)throw Pa.create("installation-not-found");return xA(t)})}function xA(n){return h5(n)?{fid:n.fid,registrationStatus:0}:n}function h5(n){return n.registrationStatus===1&&n.registrationTime+oA<Date.now()}async function p5({appConfig:n,heartbeatServiceProvider:t},e){const r=m5(n,e),o=WV(n,e),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:lA,appId:n.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await mA(()=>fetch(r,p));if(m.ok){const v=await m.json();return dA(v)}else throw await hA("Generate Auth Token",m)}function m5(n,{fid:t}){return`${fA(n)}/${t}/authTokens:generate`}async function hy(n,t=!1){let e;const r=await Hd(n.appConfig,u=>{if(!TA(u))throw Pa.create("not-registered");const c=u.authToken;if(!t&&v5(c))return u;if(c.requestStatus===1)return e=g5(n,t),u;{if(!navigator.onLine)throw Pa.create("app-offline");const p=b5(u);return e=y5(n,p),p}});return e?await e:r.authToken}async function g5(n,t){let e=await Bx(n.appConfig);for(;e.authToken.requestStatus===1;)await gA(100),e=await Bx(n.appConfig);const r=e.authToken;return r.requestStatus===0?hy(n,t):r}function Bx(n){return Hd(n,t=>{if(!TA(t))throw Pa.create("not-registered");const e=t.authToken;return x5(e)?{...t,authToken:{requestStatus:0}}:t})}async function y5(n,t){try{const e=await p5(n,t),r={...t,authToken:e};return await fd(n.appConfig,r),e}catch(e){if(cA(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await bA(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await fd(n.appConfig,r)}throw e}}function TA(n){return n!==void 0&&n.registrationStatus===2}function v5(n){return n.requestStatus===2&&!_5(n)}function _5(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+YV}function b5(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function x5(n){return n.requestStatus===1&&n.requestTime+oA<Date.now()}async function T5(n){const t=n,{installationEntry:e,registrationPromise:r}=await dy(t);return r?r.catch(console.error):hy(t).catch(console.error),e.fid}async function S5(n,t=!1){const e=n;return await A5(e),(await hy(e,t)).token}async function A5(n){const{registrationPromise:t}=await dy(n);t&&await t}function E5(n){if(!n||!n.options)throw um("App Configuration");if(!n.name)throw um("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw um(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function um(n){return Pa.create("missing-app-config-values",{valueName:n})}const SA="installations",w5="installations-internal",C5=n=>{const t=n.getProvider("app").getImmediate(),e=E5(t),r=zu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},R5=n=>{const t=n.getProvider("app").getImmediate(),e=zu(t,SA).getImmediate();return{getId:()=>T5(e),getToken:o=>S5(e,o)}};function I5(){kr(new Hs(SA,C5,"PUBLIC")),kr(new Hs(w5,R5,"PRIVATE"))}I5();ms(aA,cy);ms(aA,cy,"esm2020");const dd="analytics",D5="firebase_id",V5="origin",j5=60*1e3,M5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",py="https://www.googletagmanager.com/gtag/js";const Nn=new Sg("@firebase/analytics");const O5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new bd("analytics","Analytics",O5);function N5(n){if(!n.startsWith(py)){const t=ri.create("invalid-gtag-resource",{gtagURL:n});return Nn.warn(t.message),""}return n}function AA(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function k5(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function P5(n,t){const e=k5("firebase-js-sdk-policy",{createScriptURL:N5}),r=document.createElement("script"),o=`${py}?l=${n}&id=${t}`;r.src=e?e?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function L5(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function B5(n,t,e,r,o,u){const c=r[o];try{if(c)await t[c];else{const m=(await AA(e)).find(v=>v.measurementId===o);m&&await t[m.appId]}}catch(p){Nn.error(p)}n("config",o,u)}async function z5(n,t,e,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const p=await AA(e);for(const m of c){const v=p.find(f=>f.measurementId===m),b=v&&t[v.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Nn.error(u)}}function U5(n,t,e,r){async function o(u,...c){try{if(u==="event"){const[p,m]=c;await z5(n,t,e,p,m)}else if(u==="config"){const[p,m]=c;await B5(n,t,e,r,p,m)}else if(u==="consent"){const[p,m]=c;n("consent",p,m)}else if(u==="get"){const[p,m,v]=c;n("get",p,m,v)}else if(u==="set"){const[p]=c;n("set",p)}else n(u,...c)}catch(p){Nn.error(p)}}return o}function F5(n,t,e,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=U5(u,n,t,e),{gtagCore:u,wrappedGtag:window[o]}}function H5(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(py)&&e.src.includes(n))return e;return null}const q5=30,G5=1e3;class Y5{constructor(t={},e=G5){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const EA=new Y5;function Q5(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function K5(n){const{appId:t,apiKey:e}=n,r={method:"GET",headers:Q5(e)},o=M5.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const p=await u.json();p.error?.message&&(c=p.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function X5(n,t=EA,e){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ri.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ri.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Z5;return setTimeout(async()=>{p.abort()},j5),wA({appId:r,apiKey:o,measurementId:u},c,p,t)}async function wA(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=EA){const{appId:u,measurementId:c}=n;try{await W5(r,t)}catch(p){if(c)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw p}try{const p=await K5(n);return o.deleteThrottleMetadata(u),p}catch(p){const m=p;if(!$5(m)){if(o.deleteThrottleMetadata(u),c)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw p}const v=Number(m?.customData?.httpStatus)===503?Ib(e,o.intervalMillis,q5):Ib(e,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:e+1};return o.setThrottleMetadata(u,b),Nn.debug(`Calling attemptFetch again in ${v} millis`),wA(n,b,r,o)}}function W5(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(u),r(ri.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function $5(n){if(!(n instanceof Gr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class Z5{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function J5(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const u=await t,c={...r,send_to:u};n("event",e,c)}}async function tj(n,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:e})}}async function ej(){if(TT())try{await ST()}catch(n){return Nn.warn(ri.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Nn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nj(n,t,e,r,o,u,c){const p=X5(n);p.then(_=>{e[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Nn.error(_)),t.push(p);const m=ej().then(_=>{if(_)return r.getId()}),[v,b]=await Promise.all([p,m]);H5(u)||P5(u,v.measurementId),o("js",new Date);const f=c?.config??{};return f[V5]="firebase",f.update=!0,b!=null&&(f[D5]=b),o("config",v.measurementId,f),v.measurementId}class ij{constructor(t){this.app=t}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},zx=[];const Ux={};let cm="dataLayer",sj="gtag",Fx,my,Hx=!1;function rj(){const n=[];if(pC()&&n.push("This is a browser extension environment."),gC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=ri.create("invalid-analytics-context",{errorInfo:t});Nn.warn(e.message)}}function aj(n,t,e){rj();const r=n.options.appId;if(!r)throw ri.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(Ho[r]!=null)throw ri.create("already-exists",{id:r});if(!Hx){L5(cm);const{wrappedGtag:u,gtagCore:c}=F5(Ho,zx,Ux,cm,sj);my=u,Fx=c,Hx=!0}return Ho[r]=nj(n,zx,Ux,t,Fx,cm,e),new ij(n)}function oj(n=RT()){n=ai(n);const t=zu(n,dd);return t.isInitialized()?t.getImmediate():lj(n)}function lj(n,t={}){const e=zu(n,dd);if(e.isInitialized()){const o=e.getImmediate();if(wu(t,e.getOptions()))return o;throw ri.create("already-initialized")}return e.initialize({options:t})}function uj(n,t,e){n=ai(n),tj(my,Ho[n.app.options.appId],t,e).catch(r=>Nn.error(r))}function cj(n,t,e,r){n=ai(n),J5(my,Ho[n.app.options.appId],t,e,r).catch(o=>Nn.error(o))}const qx="@firebase/analytics",Gx="0.10.19";function fj(){kr(new Hs(dd,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return aj(r,o,e)},"PUBLIC")),kr(new Hs("analytics-internal",n,"PRIVATE")),ms(qx,Gx),ms(qx,Gx,"esm2020");function n(t){try{const e=t.getProvider(dd).getImmediate();return{logEvent:(r,o,u)=>cj(e,r,o,u),setUserProperties:(r,o)=>uj(e,r,o)}}catch(e){throw ri.create("interop-component-reg-failed",{reason:e})}}}fj();const dj={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},CA=CT(dj);oj(CA);const Qt=jV(CA);function hj({t:n,lang:t,users:e,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:p,logo:m,logoSize:v,logoPos:b,styles:f,isAdmin:_,syncToFirebase:T}){const[E,R]=H.useState("login"),[M,j]=H.useState(""),[N,B]=H.useState(""),[G,tt]=H.useState(""),et=async()=>{if(!M||!N||!G)return alert(t==="ko"?"  .":"Please fill all info.");const I=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(Q=>Q.code===G),P=e.find(Q=>Q.id===G);if(!I&&!P&&!(G==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(e.find(Q=>Q.id===M))return alert(t==="ko"?"  .":"ID already exists.");const k=(2783982189+e.length).toString(),Ct={id:M,pw:N,no:k,referral:G,diamond:0,refCode:M,agentName:I?I.name:"",joinedAt:new Date().toISOString()},Ft=[...e,Ct];r(Ft),T&&await T({users:Ft}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),j(""),B(""),tt(""),R("login")},V=C=>{C.key==="Enter"&&(E==="login"?o(M,N):et())};return y.jsxs("div",{style:{...f.landingWrapper,minHeight:"100dvh"},children:[y.jsxs("div",{style:{...f.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[y.jsx("div",{style:f.bgOverlay}),c.mode==="image"&&c.imageSrc&&y.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&p&&y.jsx("video",{src:p,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...f.bgVideo,height:"100dvh",objectFit:"cover"}},p)]}),y.jsx("div",{style:{...f.logoContainer,left:`${b.x}px`,top:`${b.y}px`,transition:"all 0.3s ease"},children:m?y.jsx("img",{src:m,alt:"logo",style:{height:`${v}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):y.jsx("strong",{style:f.defaultLogo,children:"DAISY"})}),y.jsxs("div",{style:f.mainContent,children:[y.jsxs("div",{style:f.heroSection,children:[y.jsx("h1",{style:f.mainTitle,children:c.title[t]}),y.jsx("p",{style:f.subTitle,children:c.desc[t]})]}),!_&&y.jsx("div",{style:f.authWrap,children:y.jsxs("div",{style:{...f.authCard,padding:"50px 40px"},children:[y.jsx("h2",{style:{...f.authTitle,fontSize:"28px",marginBottom:"35px"},children:E==="login"?n.login:n.signup}),y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:M,onChange:C=>j(C.target.value),onKeyDown:V}),y.jsx("input",{type:"password",style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:N,onChange:C=>B(C.target.value),onKeyDown:V}),E==="signup"&&y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:G,onChange:C=>tt(C.target.value),onKeyDown:V}),y.jsx("button",{style:{...f.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>E==="login"?o(M,N):et(),children:E==="login"?n.login:n.signup}),E==="login"&&y.jsx("button",{style:{...f.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),y.jsx("div",{style:{...f.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{R(E==="login"?"signup":"login"),j(""),B(""),tt("")},children:E==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Yx=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function pj({members:n=[],slideImages:t=[],innerLogo:e,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:p}){const[m,v]=H.useState(0),b=H.useRef(null);H.useEffect(()=>{if(!t||t.length<=1)return;const E=setInterval(()=>{v(R=>(R+1)%t.length)},4e3);return()=>clearInterval(E)},[t]);const f=H.useMemo(()=>!n||n.length===0?[]:[...n,...n,...n],[n]),_=E=>{b.current&&b.current.scrollBy({left:E==="left"?-300:300,behavior:"smooth"})},T=E=>{const R=b.current;if(!R)return;let M=!0,j=E.pageX-R.offsetLeft,N=R.scrollLeft;const B=tt=>{if(!M)return;tt.preventDefault();const V=(tt.pageX-R.offsetLeft-j)*2;R.scrollLeft=N-V},G=()=>{M=!1,window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",B),window.addEventListener("mouseup",G)};return y.jsxs("div",{style:Vt.container,children:[y.jsx("div",{className:"bg-glow"}),y.jsx("div",{className:"bg-pattern"}),y.jsxs("header",{style:Vt.header,children:[y.jsx("div",{style:Vt.logoArea,children:e?y.jsx("img",{src:e,style:Vt.logoImg,alt:"logo"}):y.jsxs("h1",{style:Vt.defaultLogo,children:["DAISY",y.jsx("br",{}),y.jsx("span",{children:"LOUNGE"})]})}),y.jsxs("div",{style:Vt.statusBadge,children:[y.jsx("div",{className:"dot-pulse-wrap",children:y.jsx("span",{className:"dot-pulse"})}),y.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),y.jsxs("b",{style:Vt.countText,children:[c," MEMBERS"]})]})]}),y.jsxs("div",{style:Vt.introTextArea,children:[y.jsx("div",{style:Vt.introSub,children:"WELCOME TO THE PRIVATE"}),y.jsxs("div",{style:Vt.introMain,children:[p.welcome.replace(" ",""),y.jsx("span",{style:Vt.introSparkle,children:""})]})]}),t&&t.length>0&&y.jsx("div",{style:Vt.sliderContainer,children:y.jsxs("div",{style:Vt.sliderWrap,children:[t.map((E,R)=>{const M=E.url||E,j=R===m;return y.jsx("div",{style:{...Vt.slide,opacity:j?1:0,visibility:j?"visible":"hidden"},children:y.jsxs("div",{style:Vt.imageBorderWrapper,children:[y.jsx("img",{src:M,style:Vt.actualImg,alt:"slide",draggable:"false"}),y.jsx("div",{style:Vt.slideOverlay}),y.jsx("div",{style:Vt.adTag,children:"PREMIUM PICK"})]})},R)}),y.jsx("div",{style:Vt.indicatorWrap,children:t.map((E,R)=>y.jsx("div",{style:{...Vt.dot,width:R===m?20:6,backgroundColor:R===m?"#FFD700":"rgba(255,255,255,0.3)"}},R))})]})}),y.jsxs("div",{style:Vt.welcomeBox,children:[y.jsx("div",{style:Vt.welcomeLine}),y.jsx("span",{style:Vt.welcomeText,children:p.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),y.jsx("div",{style:Vt.welcomeLine})]}),y.jsxs("div",{style:Vt.sectionLabel,children:[y.jsxs("div",{style:Vt.labelLeft,children:[y.jsx("span",{className:"shine-text",style:Vt.labelIcon,children:""}),y.jsxs("span",{style:Vt.labelText,children:["DAISY ",p.manager.toUpperCase()]})]}),y.jsx("div",{onClick:()=>o&&o("manager"),style:Vt.moreBtn,children:"VIEW ALL "})]}),y.jsxs("div",{style:{position:"relative",width:"100%"},children:[y.jsx("div",{ref:b,className:"snap-container",style:Vt.scrollArea,onMouseDown:T,children:f.map((E,R)=>y.jsxs("div",{style:Vt.card,onClick:()=>u&&u(E),children:[y.jsxs("div",{style:Vt.cardImgWrap,children:[y.jsx("img",{src:E.img,style:Vt.cardImg,alt:E.name||"member",draggable:"false"}),y.jsx("div",{style:Vt.cardOverlay}),y.jsx("div",{style:Vt.cardBadge,children:Yx[R%Yx.length]})]}),y.jsxs("div",{style:Vt.cardInfo,children:[y.jsx("div",{style:Vt.cardName,children:E.name}),y.jsxs("div",{style:Vt.cardSpecs,children:[y.jsx("span",{style:Vt.specText,children:E.loc||E.region||(p.home===""?"":"Area")}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.age?`${E.age}${p.home===""?"":""}`:p.home===""?"20":"20s"})]}),y.jsxs("div",{style:{...Vt.cardSpecs,marginTop:"5px"},children:[y.jsx("span",{style:Vt.specText,children:E.height?E.height+"cm":"cm"}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.weight?E.weight+"kg":"kg"}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.bust||E.size||"Size"})]})]})]},R))}),y.jsxs("div",{className:"pc-arrows-wrap",children:[y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("left")},children:""}),y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("right")},children:""})]})]}),y.jsxs("div",{style:Vt.footerBtnArea,children:[y.jsxs("button",{onClick:r,className:"shimmer-btn",style:Vt.teleBtn,children:[" ",p.home===""?"  ":"Connect Real-time Chat"]}),y.jsx("p",{style:Vt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),y.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const Vt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function mj({filteredMembers:n,regions:t,selectedRegion:e,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[p,m]=H.useState(null),[v,b]=H.useState(null);H.useEffect(()=>{o&&(m(o),window.history.pushState({isDetail:!0},""))},[o]),H.useEffect(()=>{const N=()=>{v?b(null):p&&_()};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[v,p]);const f=(N,B)=>{b({type:N,url:B}),window.history.pushState({isFull:!0},"")},_=()=>{m(null),u&&u()},T=N=>N&&(N.includes("/video/upload/")||N.match(/\.(mp4|webm|mov|avi)$/i)),E={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},R=c.home==="",M=N=>R?N:E[N]||N,j=N=>{const B=R?[`${N}        .`,`     ${N}  .`,`      ${N} .`]:[`${N} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${N}, who boasts a visual perfected through thorough self-management.`,`${N} promises a comfortable time with bright energy and consideration.`];let G=(N||"").split("").reduce((tt,et)=>tt+et.charCodeAt(0),0);return B[G%B.length]};return y.jsxs("div",{style:Pt.container,children:[y.jsx("div",{style:Pt.filterWrapper,children:y.jsx("div",{style:Pt.filterScroll,children:t.map(N=>y.jsx("div",{onClick:()=>r(N),style:{...Pt.filterItem,color:e===N?"#000":"#888",background:e===N?"#FFD700":"transparent",borderColor:e===N?"#FFD700":"#333"},children:M(N)},N))})}),y.jsx("div",{style:Pt.grid,children:n.map((N,B)=>y.jsxs("div",{style:Pt.card,onClick:()=>{m(N),window.history.pushState({isDetail:!0},"")},children:[y.jsxs("div",{style:Pt.cardImgWrap,children:[y.jsx("img",{src:N.img,style:Pt.cardImg,alt:N.name}),y.jsx("div",{style:Pt.cardOverlay}),y.jsx("div",{style:Pt.cardBadge,children:"PREMIUM"})]}),y.jsxs("div",{style:Pt.cardInfo,children:[y.jsx("div",{style:Pt.cardName,children:N.name}),y.jsxs("div",{style:Pt.cardSpecs,children:[M(N.loc||N.region||(R?"":"LOC")),"  ",N.age?`${N.age}${R?"":""}`:R?"20":"20s"]}),y.jsxs("div",{style:{...Pt.cardSpecs,marginTop:"4px"},children:[N.height?N.height+"cm":"cm","  ",N.bust||N.size||"Size"]})]})]},B))}),p&&y.jsx("div",{style:Pt.modalOverlay,onClick:_,children:y.jsxs("div",{style:Pt.modalContent,onClick:N=>N.stopPropagation(),children:[y.jsxs("div",{style:Pt.modalImageWrap,onClick:()=>f("img",p.img),children:[y.jsx("img",{src:p.img,style:Pt.modalActualImg,alt:""}),y.jsxs("div",{style:Pt.luxTag,children:[" ",R?" ":"CLICK TO ZOOM"]})]}),y.jsxs("div",{style:Pt.modalBody,children:[y.jsx("h2",{style:Pt.modalName,children:p.name}),y.jsxs("div",{style:Pt.specGrid,children:[y.jsxs("div",{style:Pt.specItem,children:["LOC",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:M(p.loc||p.region||(R?"":"TBA"))})]}),y.jsxs("div",{style:Pt.specItem,children:["AGE",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.age?`${p.age}${R?"":""}`:"20s"})]}),y.jsxs("div",{style:Pt.specItem,children:["HEIGHT",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.height?p.height+"cm":"cm"})]}),y.jsxs("div",{style:Pt.specItem,children:["WEIGHT",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.weight?p.weight+"kg":"kg"})]}),y.jsxs("div",{style:Pt.specItem,children:["SIZE",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.bust||p.size||"Size"})]})]}),y.jsxs("div",{style:Pt.introBox,children:[y.jsx("div",{style:Pt.introTitle,children:"INTRO"}),y.jsx("p",{style:Pt.introText,children:p.desc||j(p.name)})]}),(p.video||T(p.img))&&y.jsxs("div",{style:Pt.videoArea,onClick:()=>f("video",p.video||p.img),children:[y.jsxs("div",{style:Pt.introTitle,children:["PRIVATE MOVIE (",R?" ":"CLICK TO ENLARGE",")"]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("video",{src:p.video||p.img,style:Pt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),y.jsxs("div",{style:Pt.videoOverlay,children:[" ",R?" ":"TAP TO FULL VIEW"]})]})]}),y.jsx("button",{style:Pt.closeBtn,onClick:_,children:R?"":"CLOSE"})]})]})}),v&&y.jsxs("div",{id:"full-screen-view",style:Pt.fullScreenOverlay,onClick:()=>b(null),children:[y.jsxs("button",{style:Pt.fullScreenClose,onClick:()=>b(null),children:[" ",R?"":"CLOSE"]}),y.jsx("div",{style:Pt.fullScreenContent,onClick:N=>N.stopPropagation(),children:v.type==="video"?y.jsx("video",{src:v.url,style:Pt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):y.jsx("img",{src:v.url,style:Pt.fullMedia,alt:""})})]})]})}const Pt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function gj({videoCategories:n=[],selectedCategory:t,setSelectedCategory:e,filteredVideos:r=[],t:o}){const[u,c]=H.useState(null),[p,m]=H.useState(1),v=10,b=o.home==="",f={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},_=G=>b?G:f[G]||G;H.useEffect(()=>{m(1)},[t]);const T=p*v,E=T-v,R=r.slice(E,T),M=Math.ceil(r.length/v),j=t==="ALL";H.useEffect(()=>{const G=()=>{u&&c(null)};return window.addEventListener("popstate",G),()=>window.removeEventListener("popstate",G)},[u]);const N=G=>{c(G),window.history.pushState({isFullVideo:!0},"")},B=()=>{c(null)};return y.jsxs("div",{style:$e.pagePadding,children:[y.jsx("h2",{style:$e.tabDisplayTitle,children:b?" ":"PREMIUM GALLERY"}),y.jsxs("div",{style:$e.videoCategoryBar,children:[y.jsxs("span",{onClick:()=>e("ALL"),style:{...$e.videoCatItem,color:j?"#ffb347":"#555",borderBottom:j?"2px solid #ffb347":"2px solid transparent"},children:[" ",_("ALL")," "]}),n.map(G=>y.jsxs("span",{onClick:()=>e(G),style:{...$e.videoCatItem,color:t===G?"#ffb347":"#555",borderBottom:t===G?"2px solid #ffb347":"2px solid transparent"},children:[" ",_(G)," "]},G))]}),y.jsx("div",{style:$e.videoGrid,children:R.length>0?R.map(G=>y.jsxs("div",{style:$e.videoCard,onClick:()=>N(G.url),children:[y.jsxs("div",{style:$e.videoWrapper,children:[y.jsx("video",{src:G.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:$e.videoEl,poster:G.poster||""}),y.jsxs("div",{style:$e.playOverlay,children:[" ",b?"":"FULL VIEW"]})]}),y.jsxs("div",{style:$e.videoDesc,children:[y.jsx("span",{style:$e.descBadge,children:"EXCLUSIVE"}),y.jsx("p",{style:$e.descText,children:G.description||(b?` ${G.category} `:`PREMIUM ${_(G.category)} SHOW`)})]})]},G.id)):y.jsx("div",{style:$e.noData,children:b?"    .":"Videos in this category are coming soon."})}),M>1&&y.jsx("div",{style:$e.pagination,children:Array.from({length:M},(G,tt)=>tt+1).map(G=>y.jsxs("button",{onClick:()=>{m(G),window.scrollTo(0,0)},style:{...$e.pageBtn,background:p===G?"#ffb347":"#1a1a1a",color:p===G?"#000":"#888"},children:[" ",G," "]},G))}),u&&y.jsxs("div",{id:"full-screen-view",style:$e.fullOverlay,onClick:B,children:[y.jsxs("button",{style:$e.closeFull,onClick:B,children:[" ",b?"":"CLOSE"]}),y.jsx("div",{style:$e.fullContent,onClick:G=>G.stopPropagation(),children:y.jsx("video",{src:u,style:$e.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const $e={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},gy=H.createContext({});function qd(n){const t=H.useRef(null);return t.current===null&&(t.current=n()),t.current}const yy=typeof window<"u",vy=yy?H.useLayoutEffect:H.useEffect,Gd=H.createContext(null);function _y(n,t){n.indexOf(t)===-1&&n.push(t)}function by(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ks=(n,t,e)=>e>t?t:e<n?n:e;let xy=()=>{};const Xs={},RA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function IA(n){return typeof n=="object"&&n!==null}const DA=n=>/^0[^.\s]+$/u.test(n);function Ty(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ci=n=>n,yj=(n,t)=>e=>t(n(e)),Qu=(...n)=>n.reduce(yj),Nu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class Sy{constructor(){this.subscriptions=[]}add(t){return _y(this.subscriptions,t),()=>by(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bs=n=>n*1e3,Ei=n=>n/1e3;function VA(n,t){return t?n*(1e3/t):0}const jA=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,vj=1e-7,_j=12;function bj(n,t,e,r,o){let u,c,p=0;do c=t+(e-t)/2,u=jA(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>vj&&++p<_j);return c}function Ku(n,t,e,r){if(n===t&&e===r)return Ci;const o=u=>bj(u,0,1,n,e);return u=>u===0||u===1?u:jA(o(u),t,r)}const MA=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,OA=n=>t=>1-n(1-t),NA=Ku(.33,1.53,.69,.99),Ay=OA(NA),kA=MA(Ay),PA=n=>(n*=2)<1?.5*Ay(n):.5*(2-Math.pow(2,-10*(n-1))),Ey=n=>1-Math.sin(Math.acos(n)),LA=OA(Ey),BA=MA(Ey),xj=Ku(.42,0,1,1),Tj=Ku(0,0,.58,1),zA=Ku(.42,0,.58,1),Sj=n=>Array.isArray(n)&&typeof n[0]!="number",UA=n=>Array.isArray(n)&&typeof n[0]=="number",Aj={linear:Ci,easeIn:xj,easeInOut:zA,easeOut:Tj,circIn:Ey,circInOut:BA,circOut:LA,backIn:Ay,backInOut:kA,backOut:NA,anticipate:PA},Ej=n=>typeof n=="string",Qx=n=>{if(UA(n)){xy(n.length===4);const[t,e,r,o]=n;return Ku(t,e,r,o)}else if(Ej(n))return Aj[n];return n},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wj(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(b){c.has(b)&&(v.schedule(b),n()),b(p)}const v={schedule:(b,f=!1,_=!1)=>{const E=_&&o?e:r;return f&&c.add(b),E.has(b)||E.add(b),b},cancel:b=>{r.delete(b),c.delete(b)},process:b=>{if(p=b,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(m),e.clear(),o=!1,u&&(u=!1,v.process(b))}};return v}const Cj=40;function FA(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=jf.reduce((B,G)=>(B[G]=wj(u),B),{}),{setup:p,read:m,resolveKeyframes:v,preUpdate:b,update:f,preRender:_,render:T,postRender:E}=c,R=()=>{const B=Xs.useManualTiming?o.timestamp:performance.now();e=!1,Xs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(B-o.timestamp,Cj),1)),o.timestamp=B,o.isProcessing=!0,p.process(o),m.process(o),v.process(o),b.process(o),f.process(o),_.process(o),T.process(o),E.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(R))},M=()=>{e=!0,r=!0,o.isProcessing||n(R)};return{schedule:jf.reduce((B,G)=>{const tt=c[G];return B[G]=(et,V=!1,C=!1)=>(e||M(),tt.schedule(et,V,C)),B},{}),cancel:B=>{for(let G=0;G<jf.length;G++)c[jf[G]].cancel(B)},state:o,steps:c}}const{schedule:Ie,cancel:Hr,state:bn,steps:fm}=FA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ci,!0);let Yf;function Rj(){Yf=void 0}const Gn={now:()=>(Yf===void 0&&Gn.set(bn.isProcessing||Xs.useManualTiming?bn.timestamp:performance.now()),Yf),set:n=>{Yf=n,queueMicrotask(Rj)}},HA=n=>t=>typeof t=="string"&&t.startsWith(n),qA=HA("--"),Ij=HA("var(--"),wy=n=>Ij(n)?Dj.test(n.split("/*")[0].trim()):!1,Dj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ku={...rl,transform:n=>Ks(0,1,n)},Mf={...rl,default:1},Tu=n=>Math.round(n*1e5)/1e5,Cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vj(n){return n==null}const jj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ry=(n,t)=>e=>!!(typeof e=="string"&&jj.test(e)&&e.startsWith(n)||t&&!Vj(e)&&Object.prototype.hasOwnProperty.call(e,t)),GA=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,p]=r.match(Cy);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:p!==void 0?parseFloat(p):1}},Mj=n=>Ks(0,255,n),dm={...rl,transform:n=>Math.round(Mj(n))},Ia={test:Ry("rgb","red"),parse:GA("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+dm.transform(n)+", "+dm.transform(t)+", "+dm.transform(e)+", "+Tu(ku.transform(r))+")"};function Oj(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const $m={test:Ry("#"),parse:Oj,transform:Ia.transform},Xu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ir=Xu("deg"),xs=Xu("%"),Ot=Xu("px"),Nj=Xu("vh"),kj=Xu("vw"),Kx={...xs,parse:n=>xs.parse(n)/100,transform:n=>xs.transform(n*100)},ko={test:Ry("hsl","hue"),parse:GA("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+xs.transform(Tu(t))+", "+xs.transform(Tu(e))+", "+Tu(ku.transform(r))+")"},Je={test:n=>Ia.test(n)||$m.test(n)||ko.test(n),parse:n=>Ia.test(n)?Ia.parse(n):ko.test(n)?ko.parse(n):$m.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ia.transform(n):ko.transform(n),getAnimatableNone:n=>{const t=Je.parse(n);return t.alpha=0,Je.transform(t)}},Pj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lj(n){return isNaN(n)&&typeof n=="string"&&(n.match(Cy)?.length||0)+(n.match(Pj)?.length||0)>0}const YA="number",QA="color",Bj="var",zj="var(",Xx="${}",Uj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const p=t.replace(Uj,m=>(Je.test(m)?(r.color.push(u),o.push(QA),e.push(Je.parse(m))):m.startsWith(zj)?(r.var.push(u),o.push(Bj),e.push(m)):(r.number.push(u),o.push(YA),e.push(parseFloat(m))),++u,Xx)).split(Xx);return{values:e,split:p,indexes:r,types:o}}function KA(n){return Pu(n).values}function XA(n){const{split:t,types:e}=Pu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const p=e[c];p===YA?u+=Tu(o[c]):p===QA?u+=Je.transform(o[c]):u+=o[c]}return u}}const Fj=n=>typeof n=="number"?0:Je.test(n)?Je.getAnimatableNone(n):n;function Hj(n){const t=KA(n);return XA(n)(t.map(Fj))}const qr={test:Lj,parse:KA,createTransformer:XA,getAnimatableNone:Hj};function hm(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function qj({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const p=e<.5?e*(1+t):e+t-e*t,m=2*e-p;o=hm(m,p,n+1/3),u=hm(m,p,n),c=hm(m,p,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function hd(n,t){return e=>e>0?t:n}const De=(n,t,e)=>n+(t-n)*e,pm=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Gj=[$m,Ia,ko],Yj=n=>Gj.find(t=>t.test(n));function Wx(n){const t=Yj(n);if(!t)return!1;let e=t.parse(n);return t===ko&&(e=qj(e)),e}const $x=(n,t)=>{const e=Wx(n),r=Wx(t);if(!e||!r)return hd(n,t);const o={...e};return u=>(o.red=pm(e.red,r.red,u),o.green=pm(e.green,r.green,u),o.blue=pm(e.blue,r.blue,u),o.alpha=De(e.alpha,r.alpha,u),Ia.transform(o))},Zm=new Set(["none","hidden"]);function Qj(n,t){return Zm.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function Kj(n,t){return e=>De(n,t,e)}function Iy(n){return typeof n=="number"?Kj:typeof n=="string"?wy(n)?hd:Je.test(n)?$x:$j:Array.isArray(n)?WA:typeof n=="object"?Je.test(n)?$x:Xj:hd}function WA(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>Iy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function Xj(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Iy(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function Wj(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],p=n.values[c]??0;e[o]=p,r[u]++}return e}const $j=(n,t)=>{const e=qr.createTransformer(t),r=Pu(n),o=Pu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Zm.has(n)&&!o.values.length||Zm.has(t)&&!r.values.length?Qj(n,t):Qu(WA(Wj(r,o),o.values),e):hd(n,t)};function $A(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?De(n,t,e):Iy(n)(n,t)}const Zj=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Ie.update(t,e),stop:()=>Hr(t),now:()=>bn.isProcessing?bn.timestamp:Gn.now()}},ZA=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},pd=2e4;function Dy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<pd;)t+=e,r=n.next(t);return t>=pd?1/0:t}function Jj(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Dy(r),pd);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Ei(o)}}const t4=5;function JA(n,t,e){const r=Math.max(t-t4,0);return VA(e-n(r),t-r)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mm=.001;function e4({duration:n=Ne.duration,bounce:t=Ne.bounce,velocity:e=Ne.velocity,mass:r=Ne.mass}){let o,u,c=1-t;c=Ks(Ne.minDamping,Ne.maxDamping,c),n=Ks(Ne.minDuration,Ne.maxDuration,Ei(n)),c<1?(o=v=>{const b=v*c,f=b*n,_=b-e,T=Jm(v,c),E=Math.exp(-f);return mm-_/T*E},u=v=>{const f=v*c*n,_=f*e+e,T=Math.pow(c,2)*Math.pow(v,2)*n,E=Math.exp(-f),R=Jm(Math.pow(v,2),c);return(-o(v)+mm>0?-1:1)*((_-T)*E)/R}):(o=v=>{const b=Math.exp(-v*n),f=(v-e)*n+1;return-mm+b*f},u=v=>{const b=Math.exp(-v*n),f=(e-v)*(n*n);return b*f});const p=5/n,m=i4(o,u,p);if(n=bs(n),isNaN(m))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:n};{const v=Math.pow(m,2)*r;return{stiffness:v,damping:c*2*Math.sqrt(r*v),duration:n}}}const n4=12;function i4(n,t,e){let r=e;for(let o=1;o<n4;o++)r=r-n(r)/t(r);return r}function Jm(n,t){return n*Math.sqrt(1-t*t)}const s4=["duration","bounce"],r4=["stiffness","damping","mass"];function Zx(n,t){return t.some(e=>n[e]!==void 0)}function a4(n){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...n};if(!Zx(n,r4)&&Zx(n,s4))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ks(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ne.mass,stiffness:o,damping:u}}else{const e=e4(n);t={...t,...e,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function md(n=Ne.visualDuration,t=Ne.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],p={done:!1,value:u},{stiffness:m,damping:v,mass:b,duration:f,velocity:_,isResolvedFromDuration:T}=a4({...e,velocity:-Ei(e.velocity||0)}),E=_||0,R=v/(2*Math.sqrt(m*b)),M=c-u,j=Ei(Math.sqrt(m/b)),N=Math.abs(M)<5;r||(r=N?Ne.restSpeed.granular:Ne.restSpeed.default),o||(o=N?Ne.restDelta.granular:Ne.restDelta.default);let B;if(R<1){const tt=Jm(j,R);B=et=>{const V=Math.exp(-R*j*et);return c-V*((E+R*j*M)/tt*Math.sin(tt*et)+M*Math.cos(tt*et))}}else if(R===1)B=tt=>c-Math.exp(-j*tt)*(M+(E+j*M)*tt);else{const tt=j*Math.sqrt(R*R-1);B=et=>{const V=Math.exp(-R*j*et),C=Math.min(tt*et,300);return c-V*((E+R*j*M)*Math.sinh(C)+tt*M*Math.cosh(C))/tt}}const G={calculatedDuration:T&&f||null,next:tt=>{const et=B(tt);if(T)p.done=tt>=f;else{let V=tt===0?E:0;R<1&&(V=tt===0?bs(E):JA(B,tt,et));const C=Math.abs(V)<=r,I=Math.abs(c-et)<=o;p.done=C&&I}return p.value=p.done?c:et,p},toString:()=>{const tt=Math.min(Dy(G),pd),et=ZA(V=>G.next(tt*V).value,tt,30);return tt+"ms "+et},toTransition:()=>{}};return G}md.applyToOptions=n=>{const t=Jj(n,100,md);return n.ease=t.ease,n.duration=bs(t.duration),n.type="keyframes",n};function tg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:p,max:m,restDelta:v=.5,restSpeed:b}){const f=n[0],_={done:!1,value:f},T=C=>p!==void 0&&C<p||m!==void 0&&C>m,E=C=>p===void 0?m:m===void 0||Math.abs(p-C)<Math.abs(m-C)?p:m;let R=e*t;const M=f+R,j=c===void 0?M:c(M);j!==M&&(R=j-f);const N=C=>-R*Math.exp(-C/r),B=C=>j+N(C),G=C=>{const I=N(C),P=B(C);_.done=Math.abs(I)<=v,_.value=_.done?j:P};let tt,et;const V=C=>{T(_.value)&&(tt=C,et=md({keyframes:[_.value,E(_.value)],velocity:JA(B,C,_.value),damping:o,stiffness:u,restDelta:v,restSpeed:b}))};return V(0),{calculatedDuration:null,next:C=>{let I=!1;return!et&&tt===void 0&&(I=!0,G(C),V(C)),tt!==void 0&&C>=tt?et.next(C-tt):(!I&&G(C),_)}}}function o4(n,t,e){const r=[],o=e||Xs.mix||$A,u=n.length-1;for(let c=0;c<u;c++){let p=o(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||Ci:t;p=Qu(m,p)}r.push(p)}return r}function l4(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(xy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const p=o4(t,r,o),m=p.length,v=b=>{if(c&&b<n[0])return t[0];let f=0;if(m>1)for(;f<n.length-2&&!(b<n[f+1]);f++);const _=Nu(n[f],n[f+1],b);return p[f](_)};return e?b=>v(Ks(n[0],n[u-1],b)):v}function u4(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Nu(0,t,r);n.push(De(e,1,o))}}function c4(n){const t=[0];return u4(t,n.length-1),t}function f4(n,t){return n.map(e=>e*t)}function d4(n,t){return n.map(()=>t||zA).splice(0,n.length-1)}function Su({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=Sj(r)?r.map(Qx):Qx(r),u={done:!1,value:t[0]},c=f4(e&&e.length===t.length?e:c4(t),n),p=l4(c,t,{ease:Array.isArray(o)?o:d4(t,o)});return{calculatedDuration:n,next:m=>(u.value=p(m),u.done=m>=n,u)}}const h4=n=>n!==null;function Vy(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(h4),p=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!p||r===void 0?u[p]:r}const p4={decay:tg,inertia:tg,tween:Su,keyframes:Su,spring:md};function tE(n){typeof n.type=="string"&&(n.type=p4[n.type])}class jy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const m4=n=>n/100;class My extends jy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tE(t);const{type:e=Su,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:p}=t;const m=e||Su;m!==Su&&typeof p[0]!="number"&&(this.mixKeyframes=Qu(m4,$A(p[0],p[1])),p=[0,100]);const v=m({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...p].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Dy(v));const{calculatedDuration:b}=v;this.calculatedDuration=b,this.resolvedDuration=b+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=v}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:b,repeat:f,repeatType:_,repeatDelay:T,type:E,onUpdate:R,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const j=this.currentTime-v*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let B=this.currentTime,G=r;if(f){const C=Math.min(this.currentTime,o)/p;let I=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&I--,I=Math.min(I,f+1),I%2&&(_==="reverse"?(P=1-P,T&&(P-=T/p)):_==="mirror"&&(G=c)),B=Ks(0,1,P)*p}const tt=N?{done:!1,value:b[0]}:G.next(B);u&&(tt.value=u(tt.value));let{done:et}=tt;!N&&m!==null&&(et=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&et);return V&&E!==tg&&(tt.value=Vy(b,this.options,M,this.speed)),R&&R(tt.value),V&&this.finish(),tt}then(t,e){return this.finished.then(t,e)}get duration(){return Ei(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ei(t)}get time(){return Ei(this.currentTime)}set time(t){t=bs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ei(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Zj,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function g4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Da=n=>n*180/Math.PI,eg=n=>{const t=Da(Math.atan2(n[1],n[0]));return ng(t)},y4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:eg,rotateZ:eg,skewX:n=>Da(Math.atan(n[1])),skewY:n=>Da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ng=n=>(n=n%360,n<0&&(n+=360),n),Jx=eg,t1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),e1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),v4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:t1,scaleY:e1,scale:n=>(t1(n)+e1(n))/2,rotateX:n=>ng(Da(Math.atan2(n[6],n[5]))),rotateY:n=>ng(Da(Math.atan2(-n[2],n[0]))),rotateZ:Jx,rotate:Jx,skewX:n=>Da(Math.atan(n[4])),skewY:n=>Da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ig(n){return n.includes("scale")?1:0}function sg(n,t){if(!n||n==="none")return ig(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=v4,o=e;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=y4,o=p}if(!o)return ig(t);const u=r[t],c=o[1].split(",").map(b4);return typeof u=="function"?u(c):c[u]}const _4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return sg(e,t)};function b4(n){return parseFloat(n.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),n1=n=>n===rl||n===Ot,x4=new Set(["x","y","z"]),T4=al.filter(n=>!x4.has(n));function S4(n){const t=[];return T4.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Ma={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>sg(t,"x"),y:(n,{transform:t})=>sg(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Oa=new Set;let rg=!1,ag=!1,og=!1;function eE(){if(ag){const n=Array.from(Oa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=S4(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ag=!1,rg=!1,Oa.forEach(n=>n.complete(og)),Oa.clear()}function nE(){Oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ag=!0)})}function A4(){og=!0,nE(),eE(),og=!1}class Oy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),rg||(rg=!0,Ie.read(nE),Ie.resolveKeyframes(eE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const p=r.readValue(e,c);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}g4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E4=n=>n.startsWith("--");function w4(n,t,e){E4(t)?n.style.setProperty(t,e):n.style[t]=e}const C4=Ty(()=>window.ScrollTimeline!==void 0),R4={};function I4(n,t){const e=Ty(n);return()=>R4[t]??e()}const iE=I4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,i1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function sE(n,t){if(n)return typeof n=="function"?iE()?ZA(n,t):"ease-out":UA(n)?gu(n):Array.isArray(n)?n.map(e=>sE(e,t)||i1.easeOut):i1[n]}function D4(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:p="easeOut",times:m}={},v=void 0){const b={[t]:e};m&&(b.offset=m);const f=sE(p,o);Array.isArray(f)&&(b.easing=f);const _={delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return v&&(_.pseudoElement=v),n.animate(b,_)}function rE(n){return typeof n=="function"&&"applyToOptions"in n}function V4({type:n,...t}){return rE(n)&&iE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class j4 extends jy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:p,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,xy(typeof t.type!="string");const v=V4(t);this.animation=D4(e,r,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=Vy(o,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(b):w4(e,r,b),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ei(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ei(t)}get time(){return Ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=bs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&C4()?(this.animation.timeline=t,Ci):e(this)}}const aE={anticipate:PA,backInOut:kA,circInOut:BA};function M4(n){return n in aE}function O4(n){typeof n.ease=="string"&&M4(n.ease)&&(n.ease=aE[n.ease])}const s1=10;class N4 extends j4{constructor(t){O4(t),tE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const p=new My({...c,autoplay:!1}),m=bs(this.finishedTime??this.time);e.setWithVelocity(p.sample(m-s1).value,p.sample(m).value,s1),p.stop()}}const r1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qr.test(n)||n==="0")&&!n.startsWith("url("));function k4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function P4(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=r1(o,t),p=r1(u,t);return!c||!p?!1:k4(n)||(e==="spring"||rE(e))&&r}function lg(n){n.duration=0,n.type="keyframes"}const L4=new Set(["opacity","clipPath","filter","transform"]),B4=Ty(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function z4(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:v}=t.owner.getProps();return B4()&&e&&L4.has(e)&&(e!=="transform"||!v)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const U4=40;class F4 extends jy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:p,name:m,motionValue:v,element:b,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const _={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:v,element:b,...f},T=b?.KeyframeResolver||Oy;this.keyframeResolver=new T(p,(E,R,M)=>this.onKeyframesResolved(E,R,_,!M),m,v,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:p,delay:m,isHandoff:v,onUpdate:b}=r;this.resolvedAt=Gn.now(),P4(t,u,c,p)||((Xs.instantAnimations||!m)&&b?.(Vy(t,r,e)),t[0]=t[t.length-1],lg(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>U4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},T=!v&&z4(_)?new N4({..._,element:_.motionValue.owner.current}):new My(_);T.finished.then(()=>this.notifyFinished()).catch(Ci),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),A4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const H4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q4(n){const t=H4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function oE(n,t,e=1){const[r,o]=q4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return RA(c)?parseFloat(c):c}return wy(o)?oE(o,t,e+1):o}function Ny(n,t){return n?.[t]??n?.default??n}const lE=new Set(["width","height","top","left","right","bottom",...al]),G4={test:n=>n==="auto",parse:n=>n},uE=n=>t=>t.test(n),cE=[rl,Ot,xs,Ir,kj,Nj,G4],a1=n=>cE.find(uE(n));function Y4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||DA(n):!0}const Q4=new Set(["brightness","contrast","saturate","opacity"]);function K4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Cy)||[];if(!r)return n;const o=e.replace(r,"");let u=Q4.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const X4=/\b([a-z-]*)\(.*?\)/gu,ug={...qr,getAnimatableNone:n=>{const t=n.match(X4);return t?t.map(K4).join(" "):n}},o1={...rl,transform:Math.round},W4={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Mf,scaleX:Mf,scaleY:Mf,scaleZ:Mf,skew:Ir,skewX:Ir,skewY:Ir,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:ku,originX:Kx,originY:Kx,originZ:Ot},ky={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...W4,zIndex:o1,fillOpacity:ku,strokeOpacity:ku,numOctaves:o1},$4={...ky,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:ug,WebkitFilter:ug},fE=n=>$4[n];function dE(n,t){let e=fE(n);return e!==ug&&(e=qr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Z4=new Set(["auto","none","0"]);function J4(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!Z4.has(u)&&Pu(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=dE(e,o)}class tM extends Oy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let v=t[m];if(typeof v=="string"&&(v=v.trim(),wy(v))){const b=oE(v,e.current);b!==void 0&&(t[m]=b),m===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!lE.has(r)||t.length!==2)return;const[o,u]=t,c=a1(o),p=a1(u);if(c!==p)if(n1(c)&&n1(p))for(let m=0;m<t.length;m++){const v=t[m];typeof v=="string"&&(t[m]=parseFloat(v))}else Ma[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Y4(t[o]))&&r.push(o);r.length&&J4(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ma[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function eM(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const hE=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function pE(n){return IA(n)&&"offsetHeight"in n}const l1=30,nM=n=>!isNaN(parseFloat(n));class iM{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Sy);const r=this.events[t].add(e);return t==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>l1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,l1);return VA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zo(n,t){return new iM(n,t)}const{schedule:Py}=FA(queueMicrotask,!1),Ui={x:!1,y:!1};function mE(){return Ui.x||Ui.y}function sM(n){return n==="x"||n==="y"?Ui[n]?null:(Ui[n]=!0,()=>{Ui[n]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}function gE(n,t){const e=eM(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function u1(n){return!(n.pointerType==="touch"||mE())}function rM(n,t,e={}){const[r,o,u]=gE(n,e),c=p=>{if(!u1(p))return;const{target:m}=p,v=t(m,p);if(typeof v!="function"||!m)return;const b=f=>{u1(f)&&(v(f),m.removeEventListener("pointerleave",b))};m.addEventListener("pointerleave",b,o)};return r.forEach(p=>{p.addEventListener("pointerenter",c,o)}),u}const yE=(n,t)=>t?n===t?!0:yE(n,t.parentElement):!1,Ly=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,aM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oM(n){return aM.has(n.tagName)||n.tabIndex!==-1}const Qf=new WeakSet;function c1(n){return t=>{t.key==="Enter"&&n(t)}}function gm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lM=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=c1(()=>{if(Qf.has(e))return;gm(e,"down");const o=c1(()=>{gm(e,"up")}),u=()=>gm(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function f1(n){return Ly(n)&&!mE()}function uM(n,t,e={}){const[r,o,u]=gE(n,e),c=p=>{const m=p.currentTarget;if(!f1(p))return;Qf.add(m);const v=t(m,p),b=(T,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",_),Qf.has(m)&&Qf.delete(m),f1(T)&&typeof v=="function"&&v(T,{success:E})},f=T=>{b(T,m===window||m===document||e.useGlobalTarget||yE(m,T.target))},_=T=>{b(T,!1)};window.addEventListener("pointerup",f,o),window.addEventListener("pointercancel",_,o)};return r.forEach(p=>{(e.useGlobalTarget?window:p).addEventListener("pointerdown",c,o),pE(p)&&(p.addEventListener("focus",v=>lM(v,o)),!oM(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function vE(n){return IA(n)&&"ownerSVGElement"in n}function cM(n){return vE(n)&&n.tagName==="svg"}const Vn=n=>!!(n&&n.getVelocity),fM=[...cE,Je,qr],dM=n=>fM.find(uE(n)),By=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function d1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function hM(...n){return t=>{let e=!1;const r=n.map(o=>{const u=d1(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():d1(n[o],null)}}}}function pM(...n){return H.useCallback(hM(...n),n)}class mM extends H.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=pE(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gM({children:n,isPresent:t,anchorX:e,root:r}){const o=H.useId(),u=H.useRef(null),c=H.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=H.useContext(By),m=pM(u,n?.ref);return H.useInsertionEffect(()=>{const{width:v,height:b,top:f,left:_,right:T}=c.current;if(t||!u.current||!v||!b)return;const E=e==="left"?`left: ${_}`:`right: ${T}`;u.current.dataset.motionPopId=o;const R=document.createElement("style");p&&(R.nonce=p);const M=r??document.head;return M.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${E}px !important;
            top: ${f}px !important;
          }
        `),()=>{M.contains(R)&&M.removeChild(R)}},[t]),y.jsx(mM,{isPresent:t,childRef:u,sizeRef:c,children:H.cloneElement(n,{ref:m})})}const yM=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:p,root:m})=>{const v=qd(vM),b=H.useId();let f=!0,_=H.useMemo(()=>(f=!1,{id:b,initial:t,isPresent:e,custom:o,onExitComplete:T=>{v.set(T,!0);for(const E of v.values())if(!E)return;r&&r()},register:T=>(v.set(T,!1),()=>v.delete(T))}),[e,v,r]);return u&&f&&(_={..._}),H.useMemo(()=>{v.forEach((T,E)=>v.set(E,!1))},[e]),H.useEffect(()=>{!e&&!v.size&&r&&r()},[e]),c==="popLayout"&&(n=y.jsx(gM,{isPresent:e,anchorX:p,root:m,children:n})),y.jsx(Gd.Provider,{value:_,children:n})};function vM(){return new Map}function _E(n=!0){const t=H.useContext(Gd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=H.useId();H.useEffect(()=>{if(n)return o(u)},[n]);const c=H.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const Of=n=>n.key||"";function h1(n){const t=[];return H.Children.forEach(n,e=>{H.isValidElement(e)&&t.push(e)}),t}const p1=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:p="left",root:m})=>{const[v,b]=_E(c),f=H.useMemo(()=>h1(n),[n]),_=c&&!v?[]:f.map(Of),T=H.useRef(!0),E=H.useRef(f),R=qd(()=>new Map),[M,j]=H.useState(f),[N,B]=H.useState(f);vy(()=>{T.current=!1,E.current=f;for(let et=0;et<N.length;et++){const V=Of(N[et]);_.includes(V)?R.delete(V):R.get(V)!==!0&&R.set(V,!1)}},[N,_.length,_.join("-")]);const G=[];if(f!==M){let et=[...f];for(let V=0;V<N.length;V++){const C=N[V],I=Of(C);_.includes(I)||(et.splice(V,0,C),G.push(C))}return u==="wait"&&G.length&&(et=G),B(h1(et)),j(f),null}const{forceRender:tt}=H.useContext(gy);return y.jsx(y.Fragment,{children:N.map(et=>{const V=Of(et),C=c&&!v?!1:f===N||_.includes(V),I=()=>{if(R.has(V))R.set(V,!0);else return;let P=!0;R.forEach(L=>{L||(P=!1)}),P&&(tt?.(),B(E.current),c&&b?.(),r&&r())};return y.jsx(yM,{isPresent:C,initial:!T.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:C?void 0:I,anchorX:p,children:et},V)})})},bE=H.createContext({strict:!1}),m1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jo={};for(const n in m1)Jo[n]={isEnabled:t=>m1[n].some(e=>!!t[e])};function _M(n){for(const t in n)Jo[t]={...Jo[t],...n[t]}}const bM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bM.has(n)}let xE=n=>!gd(n);function xM(n){typeof n=="function"&&(xE=t=>t.startsWith("on")?!gd(t):n(t))}try{xM(require("@emotion/is-prop-valid").default)}catch{}function TM(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(xE(o)||e===!0&&gd(o)||!t&&!gd(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Yd=H.createContext({});function Qd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lu(n){return typeof n=="string"||Array.isArray(n)}const zy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...zy];function Kd(n){return Qd(n.animate)||Uy.some(t=>Lu(n[t]))}function TE(n){return!!(Kd(n)||n.variants)}function SM(n,t){if(Kd(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Lu(e)?e:void 0,animate:Lu(r)?r:void 0}}return n.inherit!==!1?t:{}}function AM(n){const{initial:t,animate:e}=SM(n,H.useContext(Yd));return H.useMemo(()=>({initial:t,animate:e}),[g1(t),g1(e)])}function g1(n){return Array.isArray(n)?n.join(" "):n}function y1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const cu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Ot.test(n))n=parseFloat(n);else return n;const e=y1(n,t.target.x),r=y1(n,t.target.y);return`${e}% ${r}%`}},EM={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=qr.parse(n);if(o.length>5)return r;const u=qr.createTransformer(n),c=typeof o[0]!="number"?1:0,p=e.x.scale*t.x,m=e.y.scale*t.y;o[0+c]/=p,o[1+c]/=m;const v=De(p,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=v),typeof o[3+c]=="number"&&(o[3+c]/=v),u(o)}},cg={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:EM};function SE(n,{layout:t,layoutId:e}){return ol.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!cg[n]||n==="opacity")}const wM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CM=al.length;function RM(n,t,e){let r="",o=!0;for(let u=0;u<CM;u++){const c=al[u],p=n[c];if(p===void 0)continue;let m=!0;if(typeof p=="number"?m=p===(c.startsWith("scale")?1:0):m=parseFloat(p)===0,!m||e){const v=hE(p,ky[c]);if(!m){o=!1;const b=wM[c]||c;r+=`${b}(${v}) `}e&&(t[c]=v)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Fy(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,p=!1;for(const m in t){const v=t[m];if(ol.has(m)){c=!0;continue}else if(qA(m)){o[m]=v;continue}else{const b=hE(v,ky[m]);m.startsWith("origin")?(p=!0,u[m]=b):r[m]=b}}if(t.transform||(c||e?r.transform=RM(t,n.transform,e):r.transform&&(r.transform="none")),p){const{originX:m="50%",originY:v="50%",originZ:b=0}=u;r.transformOrigin=`${m} ${v} ${b}`}}const Hy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AE(n,t,e){for(const r in t)!Vn(t[r])&&!SE(r,e)&&(n[r]=t[r])}function IM({transformTemplate:n},t){return H.useMemo(()=>{const e=Hy();return Fy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function DM(n,t){const e=n.style||{},r={};return AE(r,e,n),Object.assign(r,IM(n,t)),r}function VM(n,t){const e={},r=DM(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const jM={offset:"stroke-dashoffset",array:"stroke-dasharray"},MM={offset:"strokeDashoffset",array:"strokeDasharray"};function OM(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?jM:MM;n[u.offset]=Ot.transform(-r);const c=Ot.transform(t),p=Ot.transform(e);n[u.array]=`${c} ${p}`}function EE(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...p},m,v,b){if(Fy(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:_}=n;f.transform&&(_.transform=f.transform,delete f.transform),(_.transform||f.transformOrigin)&&(_.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),_.transform&&(_.transformBox=b?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),e!==void 0&&(f.y=e),r!==void 0&&(f.scale=r),o!==void 0&&OM(f,o,u,c,!1)}const wE=()=>({...Hy(),attrs:{}}),CE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function NM(n,t,e,r){const o=H.useMemo(()=>{const u=wE();return EE(u,t,CE(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};AE(u,n.style,n),o.style={...u,...o.style}}return o}const kM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qy(n){return typeof n!="string"||n.includes("-")?!1:!!(kM.indexOf(n)>-1||/[A-Z]/u.test(n))}function PM(n,t,e,{latestValues:r},o,u=!1){const p=(qy(n)?NM:VM)(t,r,o,n),m=TM(t,typeof n=="string",u),v=n!==H.Fragment?{...m,...p,ref:e}:{},{children:b}=t,f=H.useMemo(()=>Vn(b)?b.get():b,[b]);return H.createElement(n,{...v,children:f})}function v1(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Gy(n,t,e,r){if(typeof t=="function"){const[o,u]=v1(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=v1(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Kf(n){return Vn(n)?n.get():n}function LM({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:BM(e,r,o,n),renderState:t()}}function BM(n,t,e,r){const o={},u=r(n,{});for(const _ in u)o[_]=Kf(u[_]);let{initial:c,animate:p}=n;const m=Kd(n),v=TE(n);t&&v&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),p===void 0&&(p=t.animate));let b=e?e.initial===!1:!1;b=b||c===!1;const f=b?p:c;if(f&&typeof f!="boolean"&&!Qd(f)){const _=Array.isArray(f)?f:[f];for(let T=0;T<_.length;T++){const E=Gy(n,_[T]);if(E){const{transitionEnd:R,transition:M,...j}=E;for(const N in j){let B=j[N];if(Array.isArray(B)){const G=b?B.length-1:0;B=B[G]}B!==null&&(o[N]=B)}for(const N in R)o[N]=R[N]}}}return o}const RE=n=>(t,e)=>{const r=H.useContext(Yd),o=H.useContext(Gd),u=()=>LM(n,t,r,o);return e?u():qd(u)};function Yy(n,t,e){const{style:r}=n,o={};for(const u in r)(Vn(r[u])||t.style&&Vn(t.style[u])||SE(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const zM=RE({scrapeMotionValuesFromProps:Yy,createRenderState:Hy});function IE(n,t,e){const r=Yy(n,t,e);for(const o in n)if(Vn(n[o])||Vn(t[o])){const u=al.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const UM=RE({scrapeMotionValuesFromProps:IE,createRenderState:wE}),FM=Symbol.for("motionComponentSymbol");function Po(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function HM(n,t,e){return H.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Po(e)&&(e.current=r))},[t])}const Qy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qM="framerAppearId",DE="data-"+Qy(qM),VE=H.createContext({});function GM(n,t,e,r,o){const{visualElement:u}=H.useContext(Yd),c=H.useContext(bE),p=H.useContext(Gd),m=H.useContext(By).reducedMotion,v=H.useRef(null);r=r||c.renderer,!v.current&&r&&(v.current=r(n,{visualState:t,parent:u,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const b=v.current,f=H.useContext(VE);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&YM(v.current,e,o,f);const _=H.useRef(!1);H.useInsertionEffect(()=>{b&&_.current&&b.update(e,p)});const T=e[DE],E=H.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return vy(()=>{b&&(_.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),E.current&&b.animationState&&b.animationState.animateChanges())}),H.useEffect(()=>{b&&(!E.current&&b.animationState&&b.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),E.current=!1),b.enteringChildren=void 0)}),b}function YM(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:p,layoutScroll:m,layoutRoot:v,layoutCrossfade:b}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:jE(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||p&&Po(p),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:b,layoutScroll:m,layoutRoot:v})}function jE(n){if(n)return n.options.allowProjection!==!1?n.projection:jE(n.parent)}function ym(n,{forwardMotionProps:t=!1}={},e,r){e&&_M(e);const o=qy(n)?UM:zM;function u(p,m){let v;const b={...H.useContext(By),...p,layoutId:QM(p)},{isStatic:f}=b,_=AM(p),T=o(p,f);if(!f&&yy){KM();const E=XM(b);v=E.MeasureLayout,_.visualElement=GM(n,T,b,r,E.ProjectionNode)}return y.jsxs(Yd.Provider,{value:_,children:[v&&_.visualElement?y.jsx(v,{visualElement:_.visualElement,...b}):null,PM(n,p,HM(T,_.visualElement,m),T,f,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=H.forwardRef(u);return c[FM]=n,c}function QM({layoutId:n}){const t=H.useContext(gy).id;return t&&n!==void 0?t+"-"+n:n}function KM(n,t){H.useContext(bE).strict}function XM(n){const{drag:t,layout:e}=Jo;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WM(n,t){if(typeof Proxy>"u")return ym;const e=new Map,r=(u,c)=>ym(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,ym(c,void 0,n,t)),e.get(c))})}function ME({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function $M({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function ZM(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function vm(n){return n===void 0||n===1}function fg({scale:n,scaleX:t,scaleY:e}){return!vm(n)||!vm(t)||!vm(e)}function wa(n){return fg(n)||OE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function OE(n){return _1(n.x)||_1(n.y)}function _1(n){return n&&n!=="0%"}function yd(n,t,e){const r=n-e,o=t*r;return e+o}function b1(n,t,e,r,o){return o!==void 0&&(n=yd(n,o,r)),yd(n,e,r)+t}function dg(n,t=0,e=1,r,o){n.min=b1(n.min,t,e,r,o),n.max=b1(n.max,t,e,r,o)}function NE(n,{x:t,y:e}){dg(n.x,t.translate,t.scale,t.originPoint),dg(n.y,e.translate,e.scale,e.originPoint)}const x1=.999999999999,T1=1.0000000000001;function JM(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let p=0;p<o;p++){u=e[p],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,NE(n,c)),r&&wa(u.latestValues)&&Bo(n,u.latestValues))}t.x<T1&&t.x>x1&&(t.x=1),t.y<T1&&t.y>x1&&(t.y=1)}function Lo(n,t){n.min=n.min+t,n.max=n.max+t}function S1(n,t,e,r,o=.5){const u=De(n.min,n.max,o);dg(n,t,e,u,r)}function Bo(n,t){S1(n.x,t.x,t.scaleX,t.scale,t.originX),S1(n.y,t.y,t.scaleY,t.scale,t.originY)}function kE(n,t){return ME(ZM(n.getBoundingClientRect(),t))}function t3(n,t,e){const r=kE(n,e),{scroll:o}=t;return o&&(Lo(r.x,o.offset.x),Lo(r.y,o.offset.y)),r}const A1=()=>({translate:0,scale:1,origin:0,originPoint:0}),zo=()=>({x:A1(),y:A1()}),E1=()=>({min:0,max:0}),rn=()=>({x:E1(),y:E1()}),hg={current:null},PE={current:!1};function e3(){if(PE.current=!0,!!yy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>hg.current=n.matches;n.addEventListener("change",t),t()}else hg.current=!1}const n3=new WeakMap;function i3(n,t,e){for(const r in t){const o=t[r],u=e[r];if(Vn(o))n.addValue(r,o);else if(Vn(u))n.addValue(r,Zo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Zo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const w1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s3{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Gn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ie.render(this.render,!1,!0))};const{latestValues:m,renderState:v}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=v,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Kd(e),this.isVariantNode=TE(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in f){const T=f[_];m[_]!==void 0&&Vn(T)&&T.set(m[_])}}mount(t){this.current=t,n3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),PE.current||e3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ol.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jo){const e=Jo[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<w1.length;r++){const o=w1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=i3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Zo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(RA(r)||DA(r))?r=parseFloat(r):!dM(r)&&qr.test(e)&&(r=dE(t,e)),this.setBaseTarget(t,Vn(r)?r.get():r)),Vn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Gy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Vn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Sy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Py.render(this.render)}}class LE extends s3{constructor(){super(...arguments),this.KeyframeResolver=tM}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function BE(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function r3(n){return window.getComputedStyle(n)}class a3 extends LE{constructor(){super(...arguments),this.type="html",this.renderInstance=BE}readValueFromInstance(t,e){if(ol.has(e))return this.projection?.isProjecting?ig(e):_4(t,e);{const r=r3(t),o=(qA(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return kE(t,e)}build(t,e,r){Fy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Yy(t,e,r)}}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o3(n,t,e,r){BE(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(zE.has(o)?o:Qy(o),t.attrs[o])}class l3 extends LE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ol.has(e)){const r=fE(e);return r&&r.default||0}return e=zE.has(e)?e:Qy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return IE(t,e,r)}build(t,e,r){EE(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){o3(t,e,r,o)}mount(t){this.isSVGTag=CE(t.tagName),super.mount(t)}}const u3=(n,t)=>qy(n)?new l3(t):new a3(t,{allowProjection:n!==H.Fragment});function qo(n,t,e){const r=n.getProps();return Gy(r,t,e!==void 0?e:r.custom,n)}const pg=n=>Array.isArray(n);function c3(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Zo(e))}function f3(n){return pg(n)?n[n.length-1]||0:n}function Ky(n,t){const e=qo(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const p=f3(u[c]);c3(n,c,p)}}function d3(n){return!!(Vn(n)&&n.add)}function mg(n,t){const e=n.getValue("willChange");if(d3(e))return e.add(t);if(!e&&Xs.WillChange){const r=new Xs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function UE(n){return n.props[DE]}const h3=n=>n!==null;function p3(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(h3),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const m3={type:"spring",stiffness:500,damping:25,restSpeed:10},g3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),y3={type:"keyframes",duration:.8},v3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_3=(n,{keyframes:t})=>t.length>2?y3:ol.has(n)?n.startsWith("scale")?g3(t[1]):m3:v3;function b3({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:p,from:m,elapsed:v,...b}){return!!Object.keys(b).length}const Xy=(n,t,e,r={},o,u)=>c=>{const p=Ny(r,n)||{},m=p.delay||r.delay||0;let{elapsed:v=0}=r;v=v-bs(m);const b={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-v,onUpdate:_=>{t.set(_),p.onUpdate&&p.onUpdate(_)},onComplete:()=>{c(),p.onComplete&&p.onComplete()},name:n,motionValue:t,element:u?void 0:o};b3(p)||Object.assign(b,_3(n,b)),b.duration&&(b.duration=bs(b.duration)),b.repeatDelay&&(b.repeatDelay=bs(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let f=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(lg(b),b.delay===0&&(f=!0)),(Xs.instantAnimations||Xs.skipAnimations)&&(f=!0,lg(b),b.delay=0),b.allowFlatten=!p.type&&!p.ease,f&&!u&&t.get()!==void 0){const _=p3(b.keyframes,p);if(_!==void 0){Ie.update(()=>{b.onUpdate(_),b.onComplete()});return}}return p.isSync?new My(b):new F4(b)};function x3({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function FE(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...p}=t;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const b in p){const f=n.getValue(b,n.latestValues[b]??null),_=p[b];if(_===void 0||v&&x3(v,b))continue;const T={delay:e,...Ny(u||{},b)},E=f.get();if(E!==void 0&&!f.isAnimating&&!Array.isArray(_)&&_===E&&!T.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const j=UE(n);if(j){const N=window.MotionHandoffAnimation(j,b,Ie);N!==null&&(T.startTime=N,R=!0)}}mg(n,b),f.start(Xy(b,f,_,n.shouldReduceMotion&&lE.has(b)?{type:!1}:T,n,R));const M=f.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{Ie.update(()=>{c&&Ky(n,c)})}),m}function HE(n,t,e,r=0,o=1){const u=Array.from(n).sort((v,b)=>v.sortNodePosition(b)).indexOf(t),c=n.size,p=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:p-u*r}function gg(n,t,e={}){const r=qo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(FE(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:f}=o;return T3(n,t,m,v,b,f,e)}:()=>Promise.resolve(),{when:p}=o;if(p){const[m,v]=p==="beforeChildren"?[u,c]:[c,u];return m().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function T3(n,t,e=0,r=0,o=0,u=1,c){const p=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),p.push(gg(m,t,{...c,delay:e+(typeof r=="function"?0:r)+HE(n.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(p)}function qE(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>gg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=gg(n,t,e);else{const o=typeof t=="function"?qo(n,t,e.custom):t;r=Promise.all(FE(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}function GE(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const S3=Uy.length;function YE(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?YE(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<S3;e++){const r=Uy[e],o=n.props[r];(Lu(o)||o===!1)&&(t[r]=o)}return t}const A3=[...zy].reverse(),E3=zy.length;function w3(n){return t=>Promise.all(t.map(({animation:e,options:r})=>qE(n,e,r)))}function C3(n){let t=w3(n),e=C1(),r=!0;const o=m=>(v,b)=>{const f=qo(n,b,m==="exit"?n.presenceContext?.custom:void 0);if(f){const{transition:_,transitionEnd:T,...E}=f;v={...v,...E,...T}}return v};function u(m){t=m(n)}function c(m){const{props:v}=n,b=YE(n.parent)||{},f=[],_=new Set;let T={},E=1/0;for(let M=0;M<E3;M++){const j=A3[M],N=e[j],B=v[j]!==void 0?v[j]:b[j],G=Lu(B),tt=j===m?N.isActive:null;tt===!1&&(E=M);let et=B===b[j]&&B!==v[j]&&G;if(et&&r&&n.manuallyAnimateOnMount&&(et=!1),N.protectedKeys={...T},!N.isActive&&tt===null||!B&&!N.prevProp||Qd(B)||typeof B=="boolean")continue;const V=R3(N.prevProp,B);let C=V||j===m&&N.isActive&&!et&&G||M>E&&G,I=!1;const P=Array.isArray(B)?B:[B];let L=P.reduce(o(j),{});tt===!1&&(L={});const{prevResolvedValues:U={}}=N,k={...U,...L},Ct=st=>{C=!0,_.has(st)&&(I=!0,_.delete(st)),N.needsAnimating[st]=!0;const X=n.getValue(st);X&&(X.liveStyle=!1)};for(const st in k){const X=L[st],W=U[st];if(T.hasOwnProperty(st))continue;let ot=!1;pg(X)&&pg(W)?ot=!GE(X,W):ot=X!==W,ot?X!=null?Ct(st):_.add(st):X!==void 0&&_.has(st)?Ct(st):N.protectedKeys[st]=!0}N.prevProp=B,N.prevResolvedValues=L,N.isActive&&(T={...T,...L}),r&&n.blockInitialAnimation&&(C=!1);const Ft=et&&V;C&&(!Ft||I)&&f.push(...P.map(st=>{const X={type:j};if(typeof st=="string"&&r&&!Ft&&n.manuallyAnimateOnMount&&n.parent){const{parent:W}=n,ot=qo(W,st);if(W.enteringChildren&&ot){const{delayChildren:O}=ot.transition||{};X.delay=HE(W.enteringChildren,n,O)}}return{animation:st,options:X}}))}if(_.size){const M={};if(typeof v.initial!="boolean"){const j=qo(n,Array.isArray(v.initial)?v.initial[0]:v.initial);j&&j.transition&&(M.transition=j.transition)}_.forEach(j=>{const N=n.getBaseTarget(j),B=n.getValue(j);B&&(B.liveStyle=!0),M[j]=N??null}),f.push({animation:M})}let R=!!f.length;return r&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(R=!1),r=!1,R?t(f):Promise.resolve()}function p(m,v){if(e[m].isActive===v)return Promise.resolve();n.variantChildren?.forEach(f=>f.animationState?.setActive(m,v)),e[m].isActive=v;const b=c(m);for(const f in e)e[f].protectedKeys={};return b}return{animateChanges:c,setActive:p,setAnimateFunction:u,getState:()=>e,reset:()=>{e=C1()}}}function R3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!GE(t,n):!1}function Sa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C1(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class Kr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class I3 extends Kr{constructor(t){super(t),t.animationState||(t.animationState=C3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D3=0;class V3 extends Kr{constructor(){super(...arguments),this.id=D3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const j3={animation:{Feature:I3},exit:{Feature:V3}};function Bu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}function Wu(n){return{point:{x:n.pageX,y:n.pageY}}}const M3=n=>t=>Ly(t)&&n(t,Wu(t));function Au(n,t,e,r){return Bu(n,t,M3(e),r)}const QE=1e-4,O3=1-QE,N3=1+QE,KE=.01,k3=0-KE,P3=0+KE;function On(n){return n.max-n.min}function L3(n,t,e){return Math.abs(n-t)<=e}function R1(n,t,e,r=.5){n.origin=r,n.originPoint=De(t.min,t.max,n.origin),n.scale=On(e)/On(t),n.translate=De(e.min,e.max,n.origin)-n.originPoint,(n.scale>=O3&&n.scale<=N3||isNaN(n.scale))&&(n.scale=1),(n.translate>=k3&&n.translate<=P3||isNaN(n.translate))&&(n.translate=0)}function Eu(n,t,e,r){R1(n.x,t.x,e.x,r?r.originX:void 0),R1(n.y,t.y,e.y,r?r.originY:void 0)}function I1(n,t,e){n.min=e.min+t.min,n.max=n.min+On(t)}function B3(n,t,e){I1(n.x,t.x,e.x),I1(n.y,t.y,e.y)}function D1(n,t,e){n.min=t.min-e.min,n.max=n.min+On(t)}function vd(n,t,e){D1(n.x,t.x,e.x),D1(n.y,t.y,e.y)}function Ti(n){return[n("x"),n("y")]}const XE=({current:n})=>n?n.ownerDocument.defaultView:null,V1=(n,t)=>Math.abs(n-t);function z3(n,t){const e=V1(n.x,t.x),r=V1(n.y,t.y);return Math.sqrt(e**2+r**2)}class WE{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bm(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,E=z3(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!E)return;const{point:R}=_,{timestamp:M}=bn;this.history.push({...R,timestamp:M});const{onStart:j,onMove:N}=this.handlers;T||(j&&j(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=_m(T,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:E,onSessionEnd:R,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=bm(_.type==="pointercancel"?this.lastMoveEventInfo:_m(T,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,j),R&&R(_,j)},!Ly(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Wu(t),m=_m(p,this.transformPagePoint),{point:v}=m,{timestamp:b}=bn;this.history=[{...v,timestamp:b}];const{onSessionStart:f}=e;f&&f(t,bm(m,this.history)),this.removeListeners=Qu(Au(this.contextWindow,"pointermove",this.handlePointerMove),Au(this.contextWindow,"pointerup",this.handlePointerUp),Au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function _m(n,t){return t?{point:t(n.point)}:n}function j1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function bm({point:n},t){return{point:n,delta:j1(n,$E(t)),offset:j1(n,U3(t)),velocity:F3(t,.1)}}function U3(n){return n[0]}function $E(n){return n[n.length-1]}function F3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=$E(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>bs(t)));)e--;if(!r)return{x:0,y:0};const u=Ei(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function H3(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?De(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?De(e,n,r.max):Math.min(n,e)),n}function M1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function q3(n,{top:t,left:e,bottom:r,right:o}){return{x:M1(n.x,e,o),y:M1(n.y,t,r)}}function O1(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function G3(n,t){return{x:O1(n.x,t.x),y:O1(n.y,t.y)}}function Y3(n,t){let e=.5;const r=On(n),o=On(t);return o>r?e=Nu(t.min,t.max-r,n.min):r>o&&(e=Nu(n.min,n.max-o,t.min)),Ks(0,1,e)}function Q3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const yg=.35;function K3(n=yg){return n===!1?n=0:n===!0&&(n=yg),{x:N1(n,"left","right"),y:N1(n,"top","bottom")}}function N1(n,t,e){return{min:k1(n,t),max:k1(n,e)}}function k1(n,t){return typeof n=="number"?n:n[t]||0}const X3=new WeakMap;class W3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=f=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Wu(f).point)},c=(f,_)=>{const{drag:T,dragPropagation:E,onDragStart:R}=this.getProps();if(T&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sM(T),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(j=>{let N=this.getAxisMotionValue(j).get()||0;if(xs.test(N)){const{projection:B}=this.visualElement;if(B&&B.layout){const G=B.layout.layoutBox[j];G&&(N=On(G)*(parseFloat(N)/100))}}this.originPoint[j]=N}),R&&Ie.postRender(()=>R(f,_)),mg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},p=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_;const{dragPropagation:T,dragDirectionLock:E,onDirectionLock:R,onDrag:M}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:j}=_;if(E&&this.currentDirection===null){this.currentDirection=$3(j),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,j),this.updateAxis("y",_.point,j),this.visualElement.render(),M&&M(f,_)},m=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_,this.stop(f,_),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Ti(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new WE(t,{onSessionStart:u,onStart:c,onMove:p,onSessionEnd:m,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:r,contextWindow:XE(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:p}=this.getProps();p&&Ie.postRender(()=>p(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nf(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=H3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=q3(r.layoutBox,t):this.constraints=!1,this.elastic=K3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ti(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Q3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Po(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=t3(r,o.root,this.visualElement.getTransformPagePoint());let c=G3(o.layout.layoutBox,u);if(e){const p=e($M(c));this.hasMutatedConstraints=!!p,p&&(c=ME(p))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},v=Ti(b=>{if(!Nf(b,e,this.currentDirection))return;let f=m&&m[b]||{};c&&(f={min:0,max:0});const _=o?200:1e6,T=o?40:1e7,E={type:"inertia",velocity:r?t[b]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...u,...f};return this.startAxisValueAnimation(b,E)});return Promise.all(v).then(p)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return mg(this.visualElement,t),r.start(Xy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ti(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ti(e=>{const{drag:r}=this.getProps();if(!Nf(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:p}=o.layout.layoutBox[e];u.set(t[e]-De(c,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Po(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ti(c=>{const p=this.getAxisMotionValue(c);if(p&&this.constraints!==!1){const m=p.get();o[c]=Y3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ti(c=>{if(!Nf(c,t,null))return;const p=this.getAxisMotionValue(c),{min:m,max:v}=this.constraints[c];p.set(De(m,v,o[c]))})}addListeners(){if(!this.visualElement.current)return;X3.set(this.visualElement,this);const t=this.visualElement.current,e=Au(t,"pointerdown",m=>{const{drag:v,dragListener:b=!0}=this.getProps();v&&b&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Po(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ie.read(r);const c=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:v})=>{this.isDragging&&v&&(Ti(b=>{const f=this.getAxisMotionValue(b);f&&(this.originPoint[b]+=m[b].translate,f.set(f.get()+m[b].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=yg,dragMomentum:p=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:p}}}function Nf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function $3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class Z3 extends Kr{constructor(t){super(t),this.removeGroupControls=Ci,this.removeListeners=Ci,this.controls=new W3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const P1=n=>(t,e)=>{n&&Ie.postRender(()=>n(t,e))};class J3 extends Kr{constructor(){super(...arguments),this.removePointerDownListener=Ci}onPointerDown(t){this.session=new WE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:P1(t),onStart:P1(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ie.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Au(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xm=!1;class tO extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),xm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,xm=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ie.postRender(()=>{const p=c.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Py.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;xm=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ZE(n){const[t,e]=_E(),r=H.useContext(gy);return y.jsx(tO,{...n,layoutGroup:r,switchLayoutGroup:H.useContext(VE),isPresent:t,safeToRemove:e})}function eO(n,t,e){const r=Vn(n)?n:Zo(n);return r.start(Xy("",r,t,e)),r.animation}const nO=(n,t)=>n.depth-t.depth;class iO{constructor(){this.children=[],this.isDirty=!1}add(t){_y(this.children,t),this.isDirty=!0}remove(t){by(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nO),this.isDirty=!1,this.children.forEach(t)}}function sO(n,t){const e=Gn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Hr(r),n(u-t))};return Ie.setup(r,!0),()=>Hr(r)}const JE=["TopLeft","TopRight","BottomLeft","BottomRight"],rO=JE.length,L1=n=>typeof n=="string"?parseFloat(n):n,B1=n=>typeof n=="number"||Ot.test(n);function aO(n,t,e,r,o,u){o?(n.opacity=De(0,e.opacity??1,oO(r)),n.opacityExit=De(t.opacity??1,0,lO(r))):u&&(n.opacity=De(t.opacity??1,e.opacity??1,r));for(let c=0;c<rO;c++){const p=`border${JE[c]}Radius`;let m=z1(t,p),v=z1(e,p);if(m===void 0&&v===void 0)continue;m||(m=0),v||(v=0),m===0||v===0||B1(m)===B1(v)?(n[p]=Math.max(De(L1(m),L1(v),r),0),(xs.test(v)||xs.test(m))&&(n[p]+="%")):n[p]=v}(t.rotate||e.rotate)&&(n.rotate=De(t.rotate||0,e.rotate||0,r))}function z1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const oO=tw(0,.5,LA),lO=tw(.5,.95,Ci);function tw(n,t,e){return r=>r<n?0:r>t?1:e(Nu(n,t,r))}function U1(n,t){n.min=t.min,n.max=t.max}function zi(n,t){U1(n.x,t.x),U1(n.y,t.y)}function F1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function H1(n,t,e,r,o){return n-=t,n=yd(n,1/e,r),o!==void 0&&(n=yd(n,1/o,r)),n}function uO(n,t=0,e=1,r=.5,o,u=n,c=n){if(xs.test(t)&&(t=parseFloat(t),t=De(c.min,c.max,t/100)-c.min),typeof t!="number")return;let p=De(u.min,u.max,r);n===u&&(p-=t),n.min=H1(n.min,t,e,p,o),n.max=H1(n.max,t,e,p,o)}function q1(n,t,[e,r,o],u,c){uO(n,t[e],t[r],t[o],t.scale,u,c)}const cO=["x","scaleX","originX"],fO=["y","scaleY","originY"];function G1(n,t,e,r){q1(n.x,t,cO,e?e.x:void 0,r?r.x:void 0),q1(n.y,t,fO,e?e.y:void 0,r?r.y:void 0)}function Y1(n){return n.translate===0&&n.scale===1}function ew(n){return Y1(n.x)&&Y1(n.y)}function Q1(n,t){return n.min===t.min&&n.max===t.max}function dO(n,t){return Q1(n.x,t.x)&&Q1(n.y,t.y)}function K1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function nw(n,t){return K1(n.x,t.x)&&K1(n.y,t.y)}function X1(n){return On(n.x)/On(n.y)}function W1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class hO{constructor(){this.members=[]}add(t){_y(this.members,t),t.scheduleRender()}remove(t){if(by(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pO(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:v,rotate:b,rotateX:f,rotateY:_,skewX:T,skewY:E}=e;v&&(r=`perspective(${v}px) ${r}`),b&&(r+=`rotate(${b}deg) `),f&&(r+=`rotateX(${f}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),E&&(r+=`skewY(${E}deg) `)}const p=n.x.scale*t.x,m=n.y.scale*t.y;return(p!==1||m!==1)&&(r+=`scale(${p}, ${m})`),r||"none"}const Tm=["","X","Y","Z"],mO=1e3;let gO=0;function Sm(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function iw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=UE(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Ie,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&iw(r)}function sw({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},p=t?.()){this.id=gO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_O),this.nodes.forEach(SO),this.nodes.forEach(AO),this.nodes.forEach(bO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new iO)}addEventListener(c,p){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sy),this.eventHandlers.get(c).add(p)}notifyListeners(c,...p){const m=this.eventHandlers.get(c);m&&m.notify(...p)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vE(c)&&!cM(c),this.instance=c;const{layoutId:p,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),n){let b,f=0;const _=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{f=window.innerWidth}),n(c,()=>{const T=window.innerWidth;T!==f&&(f=T,this.root.updateBlockedByResize=!0,b&&b(),b=sO(_,250),Xf.hasAnimatedSinceResize&&(Xf.hasAnimatedSinceResize=!1,this.nodes.forEach(J1)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||m)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:f,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||v.getDefaultTransition()||IO,{onLayoutAnimationStart:R,onLayoutAnimationComplete:M}=v.getProps(),j=!this.targetLayout||!nw(this.targetLayout,T),N=!f&&_;if(this.options.layoutRoot||this.resumeFrom||N||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Ny(E,"layout"),onPlay:R,onComplete:M};(v.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(b,N)}else f||J1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const f=this.path[b];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TO),this.nodes.forEach(yO),this.nodes.forEach(vO)):this.nodes.forEach(Z1),this.clearAllSnapshots();const p=Gn.now();bn.delta=Ks(0,1e3/60,p-bn.timestamp),bn.timestamp=p,bn.isProcessing=!0,fm.update.process(bn),fm.preRender.process(bn),fm.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xO),this.sharedNodes.forEach(wO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(p=!1),p&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!ew(this.projectionDelta),m=this.getTransformTemplate(),v=m?m(this.latestValues,""):void 0,b=v!==this.prevTransformTemplateValue;c&&this.instance&&(p||wa(this.latestValues)||b)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return c&&(m=this.removeTransform(m)),DO(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return rn();const p=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(VO))){const{scroll:v}=this.root;v&&(Lo(p.x,v.offset.x),Lo(p.y,v.offset.y))}return p}removeElementScroll(c){const p=rn();if(zi(p,c),this.scroll?.wasRoot)return p;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:b,options:f}=v;v!==this.root&&b&&f.layoutScroll&&(b.wasRoot&&zi(p,c),Lo(p.x,b.offset.x),Lo(p.y,b.offset.y))}return p}applyTransform(c,p=!1){const m=rn();zi(m,c);for(let v=0;v<this.path.length;v++){const b=this.path[v];!p&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Bo(m,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),wa(b.latestValues)&&Bo(m,b.latestValues)}return wa(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(c){const p=rn();zi(p,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];if(!v.instance||!wa(v.latestValues))continue;fg(v.latestValues)&&v.updateSnapshot();const b=rn(),f=v.measurePageBox();zi(b,f),G1(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,b)}return wa(this.latestValues)&&G1(p,this.latestValues),p}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:f}=this.options;if(!this.layout||!(b||f))return;this.resolvedRelativeTargetAt=bn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zi(this.target,this.layout.layoutBox),NE(this.target,this.targetDelta)):zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||OE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,p,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),vd(this.relativeTargetOrigin,p,m),zi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),p=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(m=!1),m)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;zi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,_=this.treeScale.y;JM(this.layoutCorrected,this.treeScale,this.path,p),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=rn());const{target:T}=c;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F1(this.prevProjectionDelta.x,this.projectionDelta.x),F1(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==_||!W1(this.projectionDelta.x,this.prevProjectionDelta.x)||!W1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zo(),this.projectionDelta=zo(),this.projectionDeltaWithTransform=zo()}setAnimationOrigin(c,p=!1){const m=this.snapshot,v=m?m.latestValues:{},b={...this.latestValues},f=zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=rn(),T=m?m.source:void 0,E=this.layout?this.layout.source:void 0,R=T!==E,M=this.getStack(),j=!M||M.members.length<=1,N=!!(R&&!j&&this.options.crossfade===!0&&!this.path.some(RO));this.animationProgress=0;let B;this.mixTargetDelta=G=>{const tt=G/1e3;tT(f.x,c.x,tt),tT(f.y,c.y,tt),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CO(this.relativeTarget,this.relativeTargetOrigin,_,tt),B&&dO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=rn()),zi(B,this.relativeTarget)),R&&(this.animationValues=b,aO(b,v,this.latestValues,tt,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zo(0)),this.currentAnimation=eO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:p,target:m,layout:v,latestValues:b}=c;if(!(!p||!m||!v)){if(this!==c&&this.layout&&v&&rw(this.options.animationType,this.layout.layoutBox,v.layoutBox)){m=this.target||rn();const f=On(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+f;const _=On(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}zi(p,m),Bo(p,b),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,p,b)}}registerSharedNode(c,p){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hO),this.sharedNodes.get(c).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:p,preserveFollowOpacity:m}={}){const v=this.getStack();v&&v.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let p=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const v={};m.z&&Sm("z",c,v,this.animationValues);for(let b=0;b<Tm.length;b++)Sm(`rotate${Tm[b]}`,c,v,this.animationValues),Sm(`skew${Tm[b]}`,c,v,this.animationValues);c.render();for(const b in v)c.setStaticValue(b,v[b]),this.animationValues&&(this.animationValues[b]=v[b]);c.scheduleRender()}applyProjectionStyles(c,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Kf(p?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Kf(p?.pointerEvents)||""),this.hasProjected&&!wa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const b=v.animationValues||v.latestValues;this.applyTransformsToTarget();let f=pO(this.projectionDeltaWithTransform,this.treeScale,b);m&&(f=m(b,f)),c.transform=f;const{x:_,y:T}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,v.animationValues?c.opacity=v===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:c.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const E in cg){if(b[E]===void 0)continue;const{correct:R,applyTo:M,isCSSVariable:j}=cg[E],N=f==="none"?b[E]:R(b[E],v);if(M){const B=M.length;for(let G=0;G<B;G++)c[M[G]]=N}else j?this.options.visualElement.renderState.vars[E]=N:c[E]=N}this.options.layoutId&&(c.pointerEvents=v===this?Kf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach($1),this.root.sharedNodes.clear()}}}function yO(n){n.updateLayout()}function vO(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Ti(b=>{const f=u?t.measuredBox[b]:t.layoutBox[b],_=On(f);f.min=e[b].min,f.max=f.min+_}):rw(o,t.layoutBox,e)&&Ti(b=>{const f=u?t.measuredBox[b]:t.layoutBox[b],_=On(e[b]);f.max=f.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+_)});const c=zo();Eu(c,e,t.layoutBox);const p=zo();u?Eu(p,n.applyTransform(r,!0),t.measuredBox):Eu(p,e,t.layoutBox);const m=!ew(c);let v=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:f,layout:_}=b;if(f&&_){const T=rn();vd(T,t.layoutBox,f.layoutBox);const E=rn();vd(E,e,_.layoutBox),nw(T,E)||(v=!0),b.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=T,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:p,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function _O(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function xO(n){n.clearSnapshot()}function $1(n){n.clearMeasurements()}function Z1(n){n.isLayoutDirty=!1}function TO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function J1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function SO(n){n.resolveTargetDelta()}function AO(n){n.calcProjection()}function EO(n){n.resetSkewAndRotation()}function wO(n){n.removeLeadSnapshot()}function tT(n,t,e){n.translate=De(t.translate,0,e),n.scale=De(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function eT(n,t,e,r){n.min=De(t.min,e.min,r),n.max=De(t.max,e.max,r)}function CO(n,t,e,r){eT(n.x,t.x,e.x,r),eT(n.y,t.y,e.y,r)}function RO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const IO={duration:.45,ease:[.4,0,.1,1]},nT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),iT=nT("applewebkit/")&&!nT("chrome/")?Math.round:Ci;function sT(n){n.min=iT(n.min),n.max=iT(n.max)}function DO(n){sT(n.x),sT(n.y)}function rw(n,t,e){return n==="position"||n==="preserve-aspect"&&!L3(X1(t),X1(e),.2)}function VO(n){return n!==n.root&&n.scroll?.wasRoot}const jO=sw({attachResizeListener:(n,t)=>Bu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Am={current:void 0},aw=sw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Am.current){const n=new jO({});n.mount(window),n.setOptions({layoutScroll:!0}),Am.current=n}return Am.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MO={pan:{Feature:J3},drag:{Feature:Z3,ProjectionNode:aw,MeasureLayout:ZE}};function rT(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Ie.postRender(()=>u(t,Wu(t)))}class OO extends Kr{mount(){const{current:t}=this.node;t&&(this.unmount=rM(t,(e,r)=>(rT(this.node,r,"Start"),o=>rT(this.node,o,"End"))))}unmount(){}}class NO extends Kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Ie.postRender(()=>u(t,Wu(t)))}class kO extends Kr{mount(){const{current:t}=this.node;t&&(this.unmount=uM(t,(e,r)=>(aT(this.node,r,"Start"),(o,{success:u})=>aT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vg=new WeakMap,Em=new WeakMap,PO=n=>{const t=vg.get(n.target);t&&t(n)},LO=n=>{n.forEach(PO)};function BO({root:n,...t}){const e=n||document;Em.has(e)||Em.set(e,{});const r=Em.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(LO,{root:n,...t})),r[o]}function zO(n,t,e){const r=BO(t);return vg.set(n,e),r.observe(n),()=>{vg.delete(n),r.unobserve(n)}}const UO={some:0,all:1};class FO extends Kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UO[o]},p=m=>{const{isIntersecting:v}=m;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:b,onViewportLeave:f}=this.node.getProps(),_=v?b:f;_&&_(m)};return zO(this.node.current,c,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(HO(t,e))&&this.startObserver()}unmount(){}}function HO({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const qO={inView:{Feature:FO},tap:{Feature:kO},focus:{Feature:NO},hover:{Feature:OO}},GO={layout:{ProjectionNode:aw,MeasureLayout:ZE}},YO={...j3,...qO,...MO,...GO},In=WM(YO,u3);function QO(n){n.values.forEach(t=>t.stop())}function _g(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&Ky(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{_g(u,t)})})}function KO(n,t){if(Array.isArray(t))return _g(n,t);if(typeof t=="string")return _g(n,[t]);Ky(n,t)}function XO(){const n=new Set,t={subscribe(e){return n.add(e),()=>{n.delete(e)}},start(e,r){const o=[];return n.forEach(u=>{o.push(qE(u,e,{transitionOverride:r}))}),Promise.all(o)},set(e){return n.forEach(r=>{KO(r,e)})},stop(){n.forEach(e=>{QO(e)})},mount(){return()=>{t.stop()}}};return t}function WO(){const n=qd(XO);return vy(n.mount,[]),n}const $O=WO;var wm={};var oT;function ZO(){return oT||(oT=1,(function(n){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||e;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var _=this||e;if(f=parseFloat(f),_.ctx||b(),typeof f<"u"&&f>=0&&f<=1){if(_._volume=f,_._muted)return _;_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f,e.ctx.currentTime);for(var T=0;T<_._howls.length;T++)if(!_._howls[T]._webAudio)for(var E=_._howls[T]._getSoundIds(),R=0;R<E.length;R++){var M=_._howls[T]._soundById(E[R]);M&&M._node&&(M._node.volume=M._volume*f)}return _}return _._volume},mute:function(f){var _=this||e;_.ctx||b(),_._muted=f,_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f?0:_._volume,e.ctx.currentTime);for(var T=0;T<_._howls.length;T++)if(!_._howls[T]._webAudio)for(var E=_._howls[T]._getSoundIds(),R=0;R<E.length;R++){var M=_._howls[T]._soundById(E[R]);M&&M._node&&(M._node.muted=f?!0:M._muted)}return _},stop:function(){for(var f=this||e,_=0;_<f._howls.length;_++)f._howls[_].stop();return f},unload:function(){for(var f=this||e,_=f._howls.length-1;_>=0;_--)f._howls[_].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,b()),f},codecs:function(f){return(this||e)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||e;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var _=new Audio;typeof _.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var _=new Audio;_.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||e,_=null;try{_=typeof Audio<"u"?new Audio:null}catch{return f}if(!_||typeof _.canPlayType!="function")return f;var T=_.canPlayType("audio/mpeg;").replace(/^no$/,""),E=f._navigator?f._navigator.userAgent:"",R=E.match(/OPR\/(\d+)/g),M=R&&parseInt(R[0].split("/")[1],10)<33,j=E.indexOf("Safari")!==-1&&E.indexOf("Chrome")===-1,N=E.match(/Version\/(.*?) /),B=j&&N&&parseInt(N[1],10)<15;return f._codecs={mp3:!!(!M&&(T||_.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!T,opus:!!_.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(_.canPlayType('audio/wav; codecs="1"')||_.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!_.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!_.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(_.canPlayType("audio/x-m4a;")||_.canPlayType("audio/m4a;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(_.canPlayType("audio/x-m4b;")||_.canPlayType("audio/m4b;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(_.canPlayType("audio/x-mp4;")||_.canPlayType("audio/mp4;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!B&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!B&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!_.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(_.canPlayType("audio/x-flac;")||_.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||e;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var _=function(T){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var E=new Audio;E._unlocked=!0,f._releaseHtml5Audio(E)}catch{f.noAudio=!0;break}for(var R=0;R<f._howls.length;R++)if(!f._howls[R]._webAudio)for(var M=f._howls[R]._getSoundIds(),j=0;j<M.length;j++){var N=f._howls[R]._soundById(M[j]);N&&N._node&&!N._node._unlocked&&(N._node._unlocked=!0,N._node.load())}f._autoResume();var B=f.ctx.createBufferSource();B.buffer=f._scratchBuffer,B.connect(f.ctx.destination),typeof B.start>"u"?B.noteOn(0):B.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),B.onended=function(){B.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",_,!0),document.removeEventListener("touchend",_,!0),document.removeEventListener("click",_,!0),document.removeEventListener("keydown",_,!0);for(var G=0;G<f._howls.length;G++)f._howls[G]._emit("unlock")}};return document.addEventListener("touchstart",_,!0),document.addEventListener("touchend",_,!0),document.addEventListener("click",_,!0),document.addEventListener("keydown",_,!0),f}},_obtainHtml5Audio:function(){var f=this||e;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var _=new Audio().play();return _&&typeof Promise<"u"&&(_ instanceof Promise||typeof _.then=="function")&&_.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var _=this||e;return f._unlocked&&_._html5AudioPool.push(f),_},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!e.usingWebAudio)){for(var _=0;_<f._howls.length;_++)if(f._howls[_]._webAudio){for(var T=0;T<f._howls[_]._sounds.length;T++)if(!f._howls[_]._sounds[T]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var E=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(E,E)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!e.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var _=0;_<f._howls.length;_++)f._howls[_]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var e=new t,r=function(f){var _=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}_.init(f)};r.prototype={init:function(f){var _=this;return e.ctx||b(),_._autoplay=f.autoplay||!1,_._format=typeof f.format!="string"?f.format:[f.format],_._html5=f.html5||!1,_._muted=f.mute||!1,_._loop=f.loop||!1,_._pool=f.pool||5,_._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,_._rate=f.rate||1,_._sprite=f.sprite||{},_._src=typeof f.src!="string"?f.src:[f.src],_._volume=f.volume!==void 0?f.volume:1,_._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},_._duration=0,_._state="unloaded",_._sounds=[],_._endTimers={},_._queue=[],_._playLock=!1,_._onend=f.onend?[{fn:f.onend}]:[],_._onfade=f.onfade?[{fn:f.onfade}]:[],_._onload=f.onload?[{fn:f.onload}]:[],_._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],_._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],_._onpause=f.onpause?[{fn:f.onpause}]:[],_._onplay=f.onplay?[{fn:f.onplay}]:[],_._onstop=f.onstop?[{fn:f.onstop}]:[],_._onmute=f.onmute?[{fn:f.onmute}]:[],_._onvolume=f.onvolume?[{fn:f.onvolume}]:[],_._onrate=f.onrate?[{fn:f.onrate}]:[],_._onseek=f.onseek?[{fn:f.onseek}]:[],_._onunlock=f.onunlock?[{fn:f.onunlock}]:[],_._onresume=[],_._webAudio=e.usingWebAudio&&!_._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(_),_._autoplay&&_._queue.push({event:"play",action:function(){_.play()}}),_._preload&&_._preload!=="none"&&_.load(),_},load:function(){var f=this,_=null;if(e.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var T=0;T<f._src.length;T++){var E,R;if(f._format&&f._format[T])E=f._format[T];else{if(R=f._src[T],typeof R!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}E=/^data:audio\/([^;,]+);/i.exec(R),E||(E=/\.([^.]+)$/.exec(R.split("?",1)[0])),E&&(E=E[1].toLowerCase())}if(E||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),E&&e.codecs(E)){_=f._src[T];break}}if(!_){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=_,f._state="loading",window.location.protocol==="https:"&&_.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new o(f),f._webAudio&&c(f),f},play:function(f,_){var T=this,E=null;if(typeof f=="number")E=f,f=null;else{if(typeof f=="string"&&T._state==="loaded"&&!T._sprite[f])return null;if(typeof f>"u"&&(f="__default",!T._playLock)){for(var R=0,M=0;M<T._sounds.length;M++)T._sounds[M]._paused&&!T._sounds[M]._ended&&(R++,E=T._sounds[M]._id);R===1?f=null:E=null}}var j=E?T._soundById(E):T._inactiveSound();if(!j)return null;if(E&&!f&&(f=j._sprite||"__default"),T._state!=="loaded"){j._sprite=f,j._ended=!1;var N=j._id;return T._queue.push({event:"play",action:function(){T.play(N)}}),N}if(E&&!j._paused)return _||T._loadQueue("play"),j._id;T._webAudio&&e._autoResume();var B=Math.max(0,j._seek>0?j._seek:T._sprite[f][0]/1e3),G=Math.max(0,(T._sprite[f][0]+T._sprite[f][1])/1e3-B),tt=G*1e3/Math.abs(j._rate),et=T._sprite[f][0]/1e3,V=(T._sprite[f][0]+T._sprite[f][1])/1e3;j._sprite=f,j._ended=!1;var C=function(){j._paused=!1,j._seek=B,j._start=et,j._stop=V,j._loop=!!(j._loop||T._sprite[f][2])};if(B>=V){T._ended(j);return}var I=j._node;if(T._webAudio){var P=function(){T._playLock=!1,C(),T._refreshBuffer(j);var Ct=j._muted||T._muted?0:j._volume;I.gain.setValueAtTime(Ct,e.ctx.currentTime),j._playStart=e.ctx.currentTime,typeof I.bufferSource.start>"u"?j._loop?I.bufferSource.noteGrainOn(0,B,86400):I.bufferSource.noteGrainOn(0,B,G):j._loop?I.bufferSource.start(0,B,86400):I.bufferSource.start(0,B,G),tt!==1/0&&(T._endTimers[j._id]=setTimeout(T._ended.bind(T,j),tt)),_||setTimeout(function(){T._emit("play",j._id),T._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?P():(T._playLock=!0,T.once("resume",P),T._clearTimer(j._id))}else{var L=function(){I.currentTime=B,I.muted=j._muted||T._muted||e._muted||I.muted,I.volume=j._volume*e.volume(),I.playbackRate=j._rate;try{var Ct=I.play();if(Ct&&typeof Promise<"u"&&(Ct instanceof Promise||typeof Ct.then=="function")?(T._playLock=!0,C(),Ct.then(function(){T._playLock=!1,I._unlocked=!0,_?T._loadQueue():T._emit("play",j._id)}).catch(function(){T._playLock=!1,T._emit("playerror",j._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),j._ended=!0,j._paused=!0})):_||(T._playLock=!1,C(),T._emit("play",j._id)),I.playbackRate=j._rate,I.paused){T._emit("playerror",j._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||j._loop?T._endTimers[j._id]=setTimeout(T._ended.bind(T,j),tt):(T._endTimers[j._id]=function(){T._ended(j),I.removeEventListener("ended",T._endTimers[j._id],!1)},I.addEventListener("ended",T._endTimers[j._id],!1))}catch(Ft){T._emit("playerror",j._id,Ft)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=T._src,I.load());var U=window&&window.ejecta||!I.readyState&&e._navigator.isCocoonJS;if(I.readyState>=3||U)L();else{T._playLock=!0,T._state="loading";var k=function(){T._state="loaded",L(),I.removeEventListener(e._canPlayEvent,k,!1)};I.addEventListener(e._canPlayEvent,k,!1),T._clearTimer(j._id)}}return j._id},pause:function(f){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"pause",action:function(){_.pause(f)}}),_;for(var T=_._getSoundIds(f),E=0;E<T.length;E++){_._clearTimer(T[E]);var R=_._soundById(T[E]);if(R&&!R._paused&&(R._seek=_.seek(T[E]),R._rateSeek=0,R._paused=!0,_._stopFade(T[E]),R._node))if(_._webAudio){if(!R._node.bufferSource)continue;typeof R._node.bufferSource.stop>"u"?R._node.bufferSource.noteOff(0):R._node.bufferSource.stop(0),_._cleanBuffer(R._node)}else(!isNaN(R._node.duration)||R._node.duration===1/0)&&R._node.pause();arguments[1]||_._emit("pause",R?R._id:null)}return _},stop:function(f,_){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"stop",action:function(){T.stop(f)}}),T;for(var E=T._getSoundIds(f),R=0;R<E.length;R++){T._clearTimer(E[R]);var M=T._soundById(E[R]);M&&(M._seek=M._start||0,M._rateSeek=0,M._paused=!0,M._ended=!0,T._stopFade(E[R]),M._node&&(T._webAudio?M._node.bufferSource&&(typeof M._node.bufferSource.stop>"u"?M._node.bufferSource.noteOff(0):M._node.bufferSource.stop(0),T._cleanBuffer(M._node)):(!isNaN(M._node.duration)||M._node.duration===1/0)&&(M._node.currentTime=M._start||0,M._node.pause(),M._node.duration===1/0&&T._clearSound(M._node))),_||T._emit("stop",M._id))}return T},mute:function(f,_){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"mute",action:function(){T.mute(f,_)}}),T;if(typeof _>"u")if(typeof f=="boolean")T._muted=f;else return T._muted;for(var E=T._getSoundIds(_),R=0;R<E.length;R++){var M=T._soundById(E[R]);M&&(M._muted=f,M._interval&&T._stopFade(M._id),T._webAudio&&M._node?M._node.gain.setValueAtTime(f?0:M._volume,e.ctx.currentTime):M._node&&(M._node.muted=e._muted?!0:f),T._emit("mute",M._id))}return T},volume:function(){var f=this,_=arguments,T,E;if(_.length===0)return f._volume;if(_.length===1||_.length===2&&typeof _[1]>"u"){var R=f._getSoundIds(),M=R.indexOf(_[0]);M>=0?E=parseInt(_[0],10):T=parseFloat(_[0])}else _.length>=2&&(T=parseFloat(_[0]),E=parseInt(_[1],10));var j;if(typeof T<"u"&&T>=0&&T<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,_)}}),f;typeof E>"u"&&(f._volume=T),E=f._getSoundIds(E);for(var N=0;N<E.length;N++)j=f._soundById(E[N]),j&&(j._volume=T,_[2]||f._stopFade(E[N]),f._webAudio&&j._node&&!j._muted?j._node.gain.setValueAtTime(T,e.ctx.currentTime):j._node&&!j._muted&&(j._node.volume=T*e.volume()),f._emit("volume",j._id))}else return j=E?f._soundById(E):f._sounds[0],j?j._volume:0;return f},fade:function(f,_,T,E){var R=this;if(R._state!=="loaded"||R._playLock)return R._queue.push({event:"fade",action:function(){R.fade(f,_,T,E)}}),R;f=Math.min(Math.max(0,parseFloat(f)),1),_=Math.min(Math.max(0,parseFloat(_)),1),T=parseFloat(T),R.volume(f,E);for(var M=R._getSoundIds(E),j=0;j<M.length;j++){var N=R._soundById(M[j]);if(N){if(E||R._stopFade(M[j]),R._webAudio&&!N._muted){var B=e.ctx.currentTime,G=B+T/1e3;N._volume=f,N._node.gain.setValueAtTime(f,B),N._node.gain.linearRampToValueAtTime(_,G)}R._startFadeInterval(N,f,_,T,M[j],typeof E>"u")}}return R},_startFadeInterval:function(f,_,T,E,R,M){var j=this,N=_,B=T-_,G=Math.abs(B/.01),tt=Math.max(4,G>0?E/G:E),et=Date.now();f._fadeTo=T,f._interval=setInterval(function(){var V=(Date.now()-et)/E;et=Date.now(),N+=B*V,N=Math.round(N*100)/100,B<0?N=Math.max(T,N):N=Math.min(T,N),j._webAudio?f._volume=N:j.volume(N,f._id,!0),M&&(j._volume=N),(T<_&&N<=T||T>_&&N>=T)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,j.volume(T,f._id),j._emit("fade",f._id))},tt)},_stopFade:function(f){var _=this,T=_._soundById(f);return T&&T._interval&&(_._webAudio&&T._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(T._interval),T._interval=null,_.volume(T._fadeTo,f),T._fadeTo=null,_._emit("fade",f)),_},loop:function(){var f=this,_=arguments,T,E,R;if(_.length===0)return f._loop;if(_.length===1)if(typeof _[0]=="boolean")T=_[0],f._loop=T;else return R=f._soundById(parseInt(_[0],10)),R?R._loop:!1;else _.length===2&&(T=_[0],E=parseInt(_[1],10));for(var M=f._getSoundIds(E),j=0;j<M.length;j++)R=f._soundById(M[j]),R&&(R._loop=T,f._webAudio&&R._node&&R._node.bufferSource&&(R._node.bufferSource.loop=T,T&&(R._node.bufferSource.loopStart=R._start||0,R._node.bufferSource.loopEnd=R._stop,f.playing(M[j])&&(f.pause(M[j],!0),f.play(M[j],!0)))));return f},rate:function(){var f=this,_=arguments,T,E;if(_.length===0)E=f._sounds[0]._id;else if(_.length===1){var R=f._getSoundIds(),M=R.indexOf(_[0]);M>=0?E=parseInt(_[0],10):T=parseFloat(_[0])}else _.length===2&&(T=parseFloat(_[0]),E=parseInt(_[1],10));var j;if(typeof T=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,_)}}),f;typeof E>"u"&&(f._rate=T),E=f._getSoundIds(E);for(var N=0;N<E.length;N++)if(j=f._soundById(E[N]),j){f.playing(E[N])&&(j._rateSeek=f.seek(E[N]),j._playStart=f._webAudio?e.ctx.currentTime:j._playStart),j._rate=T,f._webAudio&&j._node&&j._node.bufferSource?j._node.bufferSource.playbackRate.setValueAtTime(T,e.ctx.currentTime):j._node&&(j._node.playbackRate=T);var B=f.seek(E[N]),G=(f._sprite[j._sprite][0]+f._sprite[j._sprite][1])/1e3-B,tt=G*1e3/Math.abs(j._rate);(f._endTimers[E[N]]||!j._paused)&&(f._clearTimer(E[N]),f._endTimers[E[N]]=setTimeout(f._ended.bind(f,j),tt)),f._emit("rate",j._id)}}else return j=f._soundById(E),j?j._rate:f._rate;return f},seek:function(){var f=this,_=arguments,T,E;if(_.length===0)f._sounds.length&&(E=f._sounds[0]._id);else if(_.length===1){var R=f._getSoundIds(),M=R.indexOf(_[0]);M>=0?E=parseInt(_[0],10):f._sounds.length&&(E=f._sounds[0]._id,T=parseFloat(_[0]))}else _.length===2&&(T=parseFloat(_[0]),E=parseInt(_[1],10));if(typeof E>"u")return 0;if(typeof T=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,_)}}),f;var j=f._soundById(E);if(j)if(typeof T=="number"&&T>=0){var N=f.playing(E);N&&f.pause(E,!0),j._seek=T,j._ended=!1,f._clearTimer(E),!f._webAudio&&j._node&&!isNaN(j._node.duration)&&(j._node.currentTime=T);var B=function(){N&&f.play(E,!0),f._emit("seek",E)};if(N&&!f._webAudio){var G=function(){f._playLock?setTimeout(G,0):B()};setTimeout(G,0)}else B()}else if(f._webAudio){var tt=f.playing(E)?e.ctx.currentTime-j._playStart:0,et=j._rateSeek?j._rateSeek-j._seek:0;return j._seek+(et+tt*Math.abs(j._rate))}else return j._node.currentTime;return f},playing:function(f){var _=this;if(typeof f=="number"){var T=_._soundById(f);return T?!T._paused:!1}for(var E=0;E<_._sounds.length;E++)if(!_._sounds[E]._paused)return!0;return!1},duration:function(f){var _=this,T=_._duration,E=_._soundById(f);return E&&(T=_._sprite[E._sprite][1]/1e3),T},state:function(){return this._state},unload:function(){for(var f=this,_=f._sounds,T=0;T<_.length;T++)_[T]._paused||f.stop(_[T]._id),f._webAudio||(f._clearSound(_[T]._node),_[T]._node.removeEventListener("error",_[T]._errorFn,!1),_[T]._node.removeEventListener(e._canPlayEvent,_[T]._loadFn,!1),_[T]._node.removeEventListener("ended",_[T]._endFn,!1),e._releaseHtml5Audio(_[T]._node)),delete _[T]._node,f._clearTimer(_[T]._id);var E=e._howls.indexOf(f);E>=0&&e._howls.splice(E,1);var R=!0;for(T=0;T<e._howls.length;T++)if(e._howls[T]._src===f._src||f._src.indexOf(e._howls[T]._src)>=0){R=!1;break}return u&&R&&delete u[f._src],e.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,_,T,E){var R=this,M=R["_on"+f];return typeof _=="function"&&M.push(E?{id:T,fn:_,once:E}:{id:T,fn:_}),R},off:function(f,_,T){var E=this,R=E["_on"+f],M=0;if(typeof _=="number"&&(T=_,_=null),_||T)for(M=0;M<R.length;M++){var j=T===R[M].id;if(_===R[M].fn&&j||!_&&j){R.splice(M,1);break}}else if(f)E["_on"+f]=[];else{var N=Object.keys(E);for(M=0;M<N.length;M++)N[M].indexOf("_on")===0&&Array.isArray(E[N[M]])&&(E[N[M]]=[])}return E},once:function(f,_,T){var E=this;return E.on(f,_,T,1),E},_emit:function(f,_,T){for(var E=this,R=E["_on"+f],M=R.length-1;M>=0;M--)(!R[M].id||R[M].id===_||f==="load")&&(setTimeout((function(j){j.call(this,_,T)}).bind(E,R[M].fn),0),R[M].once&&E.off(f,R[M].fn,R[M].id));return E._loadQueue(f),E},_loadQueue:function(f){var _=this;if(_._queue.length>0){var T=_._queue[0];T.event===f&&(_._queue.shift(),_._loadQueue()),f||T.action()}return _},_ended:function(f){var _=this,T=f._sprite;if(!_._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(_._ended.bind(_,f),100),_;var E=!!(f._loop||_._sprite[T][2]);if(_._emit("end",f._id),!_._webAudio&&E&&_.stop(f._id,!0).play(f._id),_._webAudio&&E){_._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=e.ctx.currentTime;var R=(f._stop-f._start)*1e3/Math.abs(f._rate);_._endTimers[f._id]=setTimeout(_._ended.bind(_,f),R)}return _._webAudio&&!E&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,_._clearTimer(f._id),_._cleanBuffer(f._node),e._autoSuspend()),!_._webAudio&&!E&&_.stop(f._id,!0),_},_clearTimer:function(f){var _=this;if(_._endTimers[f]){if(typeof _._endTimers[f]!="function")clearTimeout(_._endTimers[f]);else{var T=_._soundById(f);T&&T._node&&T._node.removeEventListener("ended",_._endTimers[f],!1)}delete _._endTimers[f]}return _},_soundById:function(f){for(var _=this,T=0;T<_._sounds.length;T++)if(f===_._sounds[T]._id)return _._sounds[T];return null},_inactiveSound:function(){var f=this;f._drain();for(var _=0;_<f._sounds.length;_++)if(f._sounds[_]._ended)return f._sounds[_].reset();return new o(f)},_drain:function(){var f=this,_=f._pool,T=0,E=0;if(!(f._sounds.length<_)){for(E=0;E<f._sounds.length;E++)f._sounds[E]._ended&&T++;for(E=f._sounds.length-1;E>=0;E--){if(T<=_)return;f._sounds[E]._ended&&(f._webAudio&&f._sounds[E]._node&&f._sounds[E]._node.disconnect(0),f._sounds.splice(E,1),T--)}}},_getSoundIds:function(f){var _=this;if(typeof f>"u"){for(var T=[],E=0;E<_._sounds.length;E++)T.push(_._sounds[E]._id);return T}else return[f]},_refreshBuffer:function(f){var _=this;return f._node.bufferSource=e.ctx.createBufferSource(),f._node.bufferSource.buffer=u[_._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,e.ctx.currentTime),_},_cleanBuffer:function(f){var _=this,T=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return _;if(e._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),T))try{f.bufferSource.buffer=e._scratchBuffer}catch{}return f.bufferSource=null,_},_clearSound:function(f){var _=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);_||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(f){this._parent=f,this.init()};o.prototype={init:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,_._sounds.push(f),f.create(),f},create:function(){var f=this,_=f._parent,T=e._muted||f._muted||f._parent._muted?0:f._volume;return _._webAudio?(f._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),f._node.gain.setValueAtTime(T,e.ctx.currentTime),f._node.paused=!0,f._node.connect(e.masterGain)):e.noAudio||(f._node=e._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(e._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=_._src,f._node.preload=_._preload===!0?"auto":_._preload,f._node.volume=T*e.volume(),f._node.load()),f},reset:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,_=f._parent;_._duration=Math.ceil(f._node.duration*10)/10,Object.keys(_._sprite).length===0&&(_._sprite={__default:[0,_._duration*1e3]}),_._state!=="loaded"&&(_._state="loaded",_._emit("load"),_._loadQueue()),f._node.removeEventListener(e._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,_=f._parent;_._duration===1/0&&(_._duration=Math.ceil(f._node.duration*10)/10,_._sprite.__default[1]===1/0&&(_._sprite.__default[1]=_._duration*1e3),_._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var u={},c=function(f){var _=f._src;if(u[_]){f._duration=u[_].duration,v(f);return}if(/^data:[^;]+;base64,/.test(_)){for(var T=atob(_.split(",")[1]),E=new Uint8Array(T.length),R=0;R<T.length;++R)E[R]=T.charCodeAt(R);m(E.buffer,f)}else{var M=new XMLHttpRequest;M.open(f._xhr.method,_,!0),M.withCredentials=f._xhr.withCredentials,M.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(j){M.setRequestHeader(j,f._xhr.headers[j])}),M.onload=function(){var j=(M.status+"")[0];if(j!=="0"&&j!=="2"&&j!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+M.status+".");return}m(M.response,f)},M.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete u[_],f.load())},p(M)}},p=function(f){try{f.send()}catch{f.onerror()}},m=function(f,_){var T=function(){_._emit("loaderror",null,"Decoding audio data failed.")},E=function(R){R&&_._sounds.length>0?(u[_._src]=R,v(_,R)):T()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(f).then(E).catch(T):e.ctx.decodeAudioData(f,E,T)},v=function(f,_){_&&!f._duration&&(f._duration=_.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},b=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),_=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),T=_?parseInt(_[1],10):null;if(f&&T&&T<9){var E=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!E&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};n.Howler=e,n.Howl=r,typeof ou<"u"?(ou.HowlerGlobal=t,ou.Howler=e,ou.Howl=r,ou.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=r,window.Sound=o)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(e);return r},HowlerGlobal.prototype.pos=function(e,r,o){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(r=typeof r!="number"?u._pos[1]:r,o=typeof o!="number"?u._pos[2]:o,typeof e=="number")u._pos=[e,r,o],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(e,r,o,u,c,p){var m=this;if(!m.ctx||!m.ctx.listener)return m;var v=m._orientation;if(r=typeof r!="number"?v[1]:r,o=typeof o!="number"?v[2]:o,u=typeof u!="number"?v[3]:u,c=typeof c!="number"?v[4]:c,p=typeof p!="number"?v[5]:p,typeof e=="number")m._orientation=[e,r,o,u,c,p],typeof m.ctx.listener.forwardX<"u"?(m.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(e,r,o,u,c,p);else return v;return m},Howl.prototype.init=(function(e){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],e.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(e,r)}}),o;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof e=="number")o._stereo=e,o._pos=[e,0,0];else return o._stereo;for(var c=o._getSoundIds(r),p=0;p<c.length;p++){var m=o._soundById(c[p]);if(m)if(typeof e=="number")m._stereo=e,m._pos=[e,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&t(m,u),u==="spatial"?typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(e,0,0):m._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",m._id);else return m._stereo}return o},Howl.prototype.pos=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(e,r,o,u)}}),c;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof u>"u")if(typeof e=="number")c._pos=[e,r,o];else return c._pos;for(var p=c._getSoundIds(u),m=0;m<p.length;m++){var v=c._soundById(p[m]);if(v)if(typeof e=="number")v._pos=[e,r,o],v._node&&((!v._panner||v._panner.pan)&&t(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setPosition(e,r,o)),c._emit("pos",v._id);else return v._pos}return c},Howl.prototype.orientation=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(e,r,o,u)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,o=typeof o!="number"?c._orientation[2]:o,typeof u>"u")if(typeof e=="number")c._orientation=[e,r,o];else return c._orientation;for(var p=c._getSoundIds(u),m=0;m<p.length;m++){var v=c._soundById(p[m]);if(v)if(typeof e=="number")v._orientation=[e,r,o],v._node&&(v._panner||(v._pos||(v._pos=c._pos||[0,0,-.5]),t(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setOrientation(e,r,o)),c._emit("orientation",v._id);else return v._orientation}return c},Howl.prototype.pannerAttr=function(){var e=this,r=arguments,o,u,c;if(!e._webAudio)return e;if(r.length===0)return e._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof u>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),e._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:e._panningModel});else return c=e._soundById(parseInt(r[0],10)),c?c._pannerAttr:e._pannerAttr;else r.length===2&&(o=r[0],u=parseInt(r[1],10));for(var p=e._getSoundIds(u),m=0;m<p.length;m++)if(c=e._soundById(p[m]),c){var v=c._pannerAttr;v={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:v.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:v.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:v.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:v.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:v.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:v.panningModel};var b=c._panner;b||(c._pos||(c._pos=e._pos||[0,0,-.5]),t(c,"spatial"),b=c._panner),b.coneInnerAngle=v.coneInnerAngle,b.coneOuterAngle=v.coneOuterAngle,b.coneOuterGain=v.coneOuterGain,b.distanceModel=v.distanceModel,b.maxDistance=v.maxDistance,b.refDistance=v.refDistance,b.rolloffFactor=v.rolloffFactor,b.panningModel=v.panningModel}return e},Sound.prototype.init=(function(e){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,e.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),e.call(this)}})(Sound.prototype.reset);var t=function(e,r){r=r||"spatial",r==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})(wm)),wm}var kf=ZO();class JO{constructor(){this.sounds={bgm:new kf.Howl({src:["/sounds/casino_ambience.mp3"],loop:!0,volume:.3,html5:!0,onloaderror:()=>{console.warn("BGM   ()")}}),chip:new kf.Howl({src:["/sounds/chip_place.mp3"],volume:.6,onloaderror:()=>{}}),deal:new kf.Howl({src:["/sounds/card_deal.mp3"],volume:.7,onloaderror:()=>{}}),shuffle:new kf.Howl({src:["/sounds/shuffle.mp3"],volume:.8,onloaderror:()=>{}})}}speak(t){if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t);e.lang="ko-KR",e.rate=.85,e.pitch=1.45,e.volume=1;const r=()=>{const u=window.speechSynthesis.getVoices();return u.find(c=>(c.lang==="ko-KR"||c.lang==="ko_KR")&&(c.name.includes("Google")||c.name.includes("Yuna")||c.name.includes("Heami")||c.name.includes("Female")))||u.find(c=>c.lang.includes("ko"))},o=r();o&&(e.voice=o),window.speechSynthesis.getVoices().length===0?window.speechSynthesis.onvoiceschanged=()=>{e.voice=r(),window.speechSynthesis.speak(e)}:window.speechSynthesis.speak(e)}play(t){if(t==="voice_win")this.speak("...   ...      ? ~!");else if(t==="voice_lose")this.speak("...     ...    ?     ...   ~");else if(t==="voice_side")this.speak("! !  !   ...      ? !");else if(this.sounds[t]){const e=this.sounds[t];try{e.state()==="loaded"&&e.play()}catch(r){console.error("Sound Play Error",r)}}}}const fu=new JO,tN=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],eN=["S","H","D","C"],nN=n=>["10","J","Q","K"].includes(n)?0:n==="A"?1:parseInt(n),Pf=n=>n.reduce((e,r)=>e+r.val,0)%10,iN=n=>{var t=Math.sin(n++)*1e4;return t-Math.floor(t)},lT=n=>{let t=[n(),n()],e=[n(),n()],r=Pf(t),o=Pf(e);if(r>=8||o>=8)return{pHand:t,bHand:e,pScore:r,bScore:o};let u=null;r<=5&&(u=n(),t.push(u),r=Pf(t));let c=!1;if(u===null)o<=5&&(c=!0);else{const p=u.val;(o<=2||o===3&&p!==8||o===4&&[2,3,4,5,6,7].includes(p)||o===5&&[4,5,6,7].includes(p)||o===6&&[6,7].includes(p))&&(c=!0)}return c&&(e.push(n()),o=Pf(e)),{pHand:t,bHand:e,pScore:r,bScore:o}},Si={getCurrentRoundInfo:()=>{const t=new Date("2025-01-01T00:00:00Z").getTime(),e=1e4,o=Date.now()-t,u=e+Math.floor(o/(60*1e3)),c=60*1e3-o%(60*1e3),p=Math.floor(c/1e3);return{round:u,timeLeft:p,isDrawingPhase:p<=20}},shuffleDeck:(n=null)=>{let t=[];for(let e=0;e<8;e++)eN.forEach(r=>{tN.forEach(o=>{t.push({rank:o,suit:r,val:nN(o)})})});for(let e=t.length-1;e>0;e--){const r=n?iN(n+e):Math.random(),o=Math.floor(r*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t},generateBaccaratResult:(n=null)=>{let t,e,r=0;do{const o=Si.shuffleDeck();let u=0;if(t=lT(()=>o[u++]),t.pScore>t.bScore?e="PLAYER":t.bScore>t.pScore?e="BANKER":e="TIE",r++,!n)break}while(e!==n&&r<500);return{...t,result:e}},generateDeterministicResult:n=>{const t=Si.shuffleDeck(n);let e=0;const o=lT(()=>t[e++]);let u="TIE";o.pScore>o.bScore?u="PLAYER":o.bScore>o.pScore&&(u="BANKER");const c=o.pHand[0].rank===o.pHand[1].rank,p=o.bHand[0].rank===o.bHand[1].rank,f=new Date("2025-01-01T00:00:00Z").getTime()+(n-1e4)*60*1e3,_=new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{...o,result:u,isPP:c,isBP:p,round:n,date:_}},getPastHistory:n=>{const t=[];for(let e=n-1;e>=n-72;e--)t.push(Si.generateDeterministicResult(e));return t},generateBigRoad:n=>{if(!n||!Array.isArray(n))return[];const t=[...n].sort((u,c)=>u.round-c.round),e=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(e.push(r),r=[c],o=c))}),r.length>0&&e.push(r),e.slice(-25)},generateBeadRoad:n=>n?[...n].sort((t,e)=>t.round-e.round).slice(-72):[],calculateStats:n=>{if(!n||!Array.isArray(n))return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=n.filter(c=>c.result),e=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:e,b:r,t:o,total:u,pRate:Math.round(e/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function sN(n,t,e,r){const o=H.useRef(!1),u=H.useRef(null),c=H.useRef(t),p=H.useRef(null),m=H.useRef(0);H.useEffect(()=>{c.current=Number(t)||0},[t]);const v=W=>{try{const ot=localStorage.getItem(W);if(!ot)return[];const O=JSON.parse(ot);return Array.isArray(O)?O.filter(q=>q&&typeof q.result=="string"):[]}catch{return[]}},[b,f]=H.useState([]),[_,T]=H.useState([]),[E,R]=H.useState(0),[M,j]=H.useState(0),[N,B]=H.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,squeezeTarget:null}),[G,tt]=H.useState(null),[et,V]=H.useState(null),[C,I]=H.useState("   !"),P=H.useCallback(W=>{const ot=Number(W)||0;e&&(e(ot),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[e,r]),L=W=>{p.current=W,tt(W),W?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify(W)):localStorage.removeItem(`pending_bet_${n?.id}`)},U=H.useCallback(async()=>{if(n?.id)try{const W=Vr(Rn(Qt,"event_bets"),qf("userId","==",n.id),Xm(50)),O=(await qV(W)).docs.map(q=>({id:q.id,...q.data()}));O.sort((q,rt)=>(rt.round||0)-(q.round||0)),O.length>0?(T(O),localStorage.setItem(`event_my_history_${n.id}`,JSON.stringify(O))):T(v(`event_my_history_${n.id}`))}catch{T(v(`event_my_history_${n?.id}`))}},[n?.id]),k=H.useCallback(()=>{if(!n?.id)return;const W=localStorage.getItem(`pending_bet_${n?.id}`);if(W)try{const ot=JSON.parse(W),{round:O}=Si.getCurrentRoundInfo();ot&&ot.round>=O?(p.current=ot,tt(ot)):localStorage.removeItem(`pending_bet_${n?.id}`)}catch{}},[n?.id]);H.useEffect(()=>{(()=>{const{round:ot}=Si.getCurrentRoundInfo(),O=v("event_total_history");if(O.length===0||O[0]&&O[0].round<ot-2){const q=Si.getPastHistory(ot);f(q),localStorage.setItem("event_total_history",JSON.stringify(q))}else f(O);U(),k()})()},[U,k]);const Ct=W=>{j(5);const ot=setInterval(()=>j(O=>Math.max(0,O-1)),1e3);return u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{clearInterval(ot),W()},5e3),ot},Ft=H.useCallback(async W=>{if(o.current)return;o.current=!0,B(pt=>({...pt,isDrawing:!0,timeLeft:0})),fu.play("draw");let ot=null;try{const pt=await Fi(Re(Qt,"event_manipulation",String(W)));pt.exists()&&(ot=pt.data().winner)}catch{}const O=ot?Si.generateBaccaratResult(ot):Si.generateDeterministicResult(W),q=p.current;let rt=null;if(q&&q.round===W&&q.bets){const pt=Number(q.bets.PLAYER)||0,vt=Number(q.bets.BANKER)||0;(pt>0||vt>0)&&(rt=pt>=vt?"PLAYER":"BANKER")}B(pt=>({...pt,gameResult:O,squeezeTarget:rt})),setTimeout(()=>{R(1),setTimeout(()=>{rt?(R(2),Ct(()=>Q(W,O,q,rt))):Q(W,O,q,rt)},1500)},500)},[n?.id]),Q=(W,ot,O,q)=>{u.current&&clearTimeout(u.current),R(3);const rt=(ot.pHand[0].val+ot.pHand[1].val)%10,pt=(ot.bHand[0].val+ot.bHand[1].val)%10,vt=rt>=8||pt>=8,St=ot.pHand.length>2||ot.bHand.length>2;setTimeout(()=>{!vt&&St?(R(4),fu.play("draw"),setTimeout(()=>{q?(R(5),Ct(()=>X(W,ot,O))):X(W,ot,O)},1500)):X(W,ot,O)},1500)},st=()=>{u.current&&clearTimeout(u.current),E===2?Q(N.round,N.gameResult,p.current,N.squeezeTarget):E===5&&X(N.round,N.gameResult,p.current)},X=async(W,ot,O)=>{R(6);const{result:q,pHand:rt,bHand:pt}=ot,vt=rt?.[0]?.rank===rt?.[1]?.rank,St=pt?.[0]?.rank===pt?.[1]?.rank,Tt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(f(At=>{const wt={round:W,result:q,isPP:vt,isBP:St,date:Tt};if(At.length>0&&At[0].round===W)return At;const ne=[wt,...At].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(ne)),ne}),O&&O.round===W){const{bets:At={},totalCost:wt=0}=O;let ne=0,Ee=!1;Object.entries(At).forEach(([je,li])=>{const Yt=Number(li)||0;q==="PLAYER"&&je==="PLAYER"?ne+=Math.floor(Yt*2):q==="BANKER"&&je==="BANKER"?ne+=Math.floor(Yt*1.95):q==="TIE"&&(je==="TIE"?(ne+=Math.floor(Yt*9),Ee=!0):(je==="PLAYER"||je==="BANKER")&&(ne+=Yt)),je==="P_PAIR"&&vt&&(ne+=Math.floor(Yt*12),Ee=!0),je==="B_PAIR"&&St&&(ne+=Math.floor(Yt*12),Ee=!0)});const nn=Number(ne)||0,Pe=Number(wt)||0,oi=(Number(c.current)||0)+nn;if(P(oi),n?.id)try{await Hi(Re(Qt,"users",n.id),{diamond:oi})}catch{}nn>Pe?Ee?fu.play("voice_side"):fu.play("voice_win"):fu.play("voice_lose");const An={round:W,userId:n.id,bets:At,result:q||"TIE",isPP:vt,isBP:St,earn:nn,cost:Pe,date:Tt,status:"settled",timestamp:new Date().toISOString()};try{await $o(Rn(Qt,"event_bets"),An),T(je=>[An,...je].slice(0,50))}catch(je){console.error("History Save Fail",je)}V({totalEarn:nn,totalCost:Pe,result:q||"TIE",isPP:vt,isBP:St})}setTimeout(()=>{L(null),B(At=>({...At,gameResult:null,isDrawing:!1,squeezeTarget:null})),R(0),V(null),o.current=!1},4e3)};return H.useEffect(()=>{const ot=setInterval(()=>{const{round:O,timeLeft:q,isDrawingPhase:rt}=Si.getCurrentRoundInfo();m.current!==0&&O>m.current&&!o.current&&Ft(m.current),m.current=O,o.current||B(pt=>({...pt,round:O,timeLeft:q,isDrawing:rt}))},1e3);return()=>clearInterval(ot)},[Ft]),{gameState:N,gameStep:E,squeezeTime:M,onSqueezeComplete:st,totalHistory:b,myHistory:_,myPendingBet:G,setMyPendingBet:L,showResult:et,setShowResult:V,liveNoti:C,updatePointWithAnim:P}}const uT=({type:n,value:t})=>{const e=n||"",r=e.includes("PLAYER")||e==="P_PAIR"?"#4d94ff":e.includes("BANKER")||e==="B_PAIR"?"#ff4d4d":"#00e676",o=t>=1e3?`${t/1e3}k`:t;return y.jsx(In.div,{initial:{scale:2,opacity:0,y:-50,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},style:{width:"42px",height:"42px",borderRadius:"50%",border:"3px dashed #fff",backgroundColor:r,boxShadow:"0 4px 10px rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:50,bottom:"15px",right:"15px"},children:y.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"900",color:"#fff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:o})},t)},Lf=({rank:n,suit:t,index:e,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t]||"?",p=r?300:-300;return y.jsxs(In.div,{initial:{x:p,y:-400,scale:.5,rotateY:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:e*.2,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"50px",height:"75px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"22px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&y.jsxs(y.Fragment,{children:[y.jsx("span",{style:{fontSize:"12px",position:"absolute",top:"2px",left:"4px"},children:n}),y.jsx("span",{style:{fontSize:"28px"},children:c}),y.jsx("span",{style:{fontSize:"12px",position:"absolute",bottom:"2px",right:"4px",transform:"rotate(180deg)"},children:n})]}),o&&y.jsx("div",{style:{width:"36px",height:"60px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},cT=({cards:n,targetName:t,onComplete:e,timeLeft:r})=>{const[o,u]=H.useState((n||[]).map(()=>!1)),c=(p,m)=>{if(m.offset.y>100){const v=[...o];v[p]=!0,u(v),v.every(b=>b===!0)&&setTimeout(e,500)}};return!n||n.length===0?null:y.jsxs(In.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[y.jsxs("h2",{style:{color:"#fff",fontSize:"24px",marginBottom:"30px",fontWeight:"900",letterSpacing:"2px"},children:[y.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),y.jsx("div",{style:{display:"flex",gap:"30px"},children:n.map((p,m)=>y.jsxs("div",{style:{position:"relative",width:"140px",height:"210px"},children:[y.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:p.suit==="H"||p.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[y.jsx("div",{children:p.suit==="S"?"":p.suit==="H"?"":p.suit==="D"?"":""}),y.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:p.rank})]}),y.jsx(In.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,onDragEnd:(v,b)=>c(m,b),animate:o[m]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:y.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},m))}),y.jsxs("div",{style:{marginTop:"30px",color:r<=3?"#ff3b30":"#ffd700",fontSize:"16px",fontWeight:"bold",animation:"pulse 1s infinite"},children:["AUTO OPEN IN ",r,"s"]}),y.jsx("style",{children:"@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }"})]})},rN=({round:n,timeLeft:t,isDrawing:e,gameResult:r,gameStep:o,isSqueezing:u})=>y.jsxs(In.div,{style:{...Do.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden",position:"relative"},children:[y.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),y.jsxs("div",{style:{...Do.bannerContent,zIndex:10},children:[y.jsxs("div",{style:Do.bannerTop,children:[y.jsx("div",{style:{...Do.liveBadge,background:e?"#ff3b30":"#00e676",color:"#fff"},children:e?"DEALING":"BETTING OPEN"}),y.jsxs("span",{style:{...Do.roundInfo,color:"#8fbc8f",marginLeft:"8px"},children:["Rd. ",n]})]}),y.jsx("div",{style:{...Do.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:e&&r?y.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.pHand?.slice(0,2).map((c,p)=>y.jsx(Lf,{...c,index:p,isPlayer:!0,hidden:o<3},`p-${p}`)),o>=4&&r.pHand?.[2]&&y.jsx(Lf,{...r.pHand[2],index:2,isPlayer:!0,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(In.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),y.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.bHand?.slice(0,2).map((c,p)=>y.jsx(Lf,{...c,index:p+.2,isPlayer:!1,hidden:o<3},`b-${p}`)),o>=4&&r.bHand?.[2]&&y.jsx(Lf,{...r.bHand[2],index:2.2,isPlayer:!1,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(In.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):y.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:y.jsx("h2",{style:{fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace",fontWeight:"900"},children:t})})})]})]}),aN=({beadRoad:n,bigRoad:t,stats:e})=>y.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[y.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[y.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",e?.p||0," (",e?.pRate||0,"%)"]}),y.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",e?.b||0," (",e?.bRate||0,"%)"]}),y.jsxs("div",{style:{color:"#00e676"},children:["T: ",e?.t||0," (",e?.tRate||0,"%)"]}),y.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",e?.total||0]})]}),y.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[y.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:Array.isArray(t)&&t.map((r,o)=>y.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>y.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},`res-${o}-${c}`))},`col-${o}`))}),y.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=Array.isArray(n)?n[n.length-36+o]:null;return y.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&u.result&&y.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},`bead-${o}`)})})]})]}),Do={eventBanner:{borderRadius:"28px",padding:"20px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"220px"},bannerContent:{position:"relative",width:"100%",height:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},liveBadge:{fontSize:"10px",fontWeight:"900",padding:"4px 10px",borderRadius:"4px"},roundInfo:{fontSize:"12px"},timerDisplay:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},fT=[{id:"P_PAIR",name:"P.PAIR",label:"x11",color:"#4d94ff",type:"sub",desc:" "},{id:"TIE",name:"TIE",label:"x9",color:"#00e676",type:"sub",desc:""},{id:"B_PAIR",name:"B.PAIR",label:"x11",color:"#ff4d4d",type:"sub",desc:" "},{id:"PLAYER",name:"PLAYER",label:"x2.0",color:"#4d94ff",type:"main",desc:" "},{id:"BANKER",name:"BANKER",label:"x1.95",color:"#ff4d4d",type:"main",desc:" "}],dT=({card:n,isHidden:t})=>{if(!n||t)return y.jsx("div",{style:ii.cardBack,children:y.jsx("div",{style:ii.backPattern})});const{rank:e,suit:r}=n,u=r==="H"||r==="D"?"#e74c3c":"#2c3e50",c={S:"",H:"",D:"",C:""}[r],p=()=>{const m=e;if(["J","Q","K"].includes(m)){let f="",_="";return m==="J"?(f="",_="Knight"):m==="Q"?(f="",_="Sexy"):m==="K"&&(f="",_="King"),y.jsxs("div",{style:ii.faceCardBox,children:[y.jsx("div",{style:{fontSize:"22px",lineHeight:"1.2",textShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:f}),y.jsx("div",{style:{fontSize:"9px",fontWeight:"900",marginTop:"4px",color:u,letterSpacing:"1px"},children:_}),y.jsx("div",{style:{...ii.faceBorder,borderColor:u}})]})}if(m==="A")return y.jsx("div",{style:{...ii.pip,top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"38px"},children:c});const v=parseInt(m);return(f=>{let M=[];return f>=2&&M.push({top:"12%",left:"50%",transform:"translateX(-50%)"},{bottom:"12%",left:"50%",transform:"translateX(-50%)"}),f===3&&M.push({top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),f>=4&&(M=[{top:"12%",left:"20%"},{top:"12%",right:"20%"},{bottom:"12%",left:"20%"},{bottom:"12%",right:"20%"}]),f===5&&M.push({top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),f===6&&M.push({top:"50%",left:"20%"},{top:"50%",right:"20%"}),f===7&&M.push({top:"50%",left:"20%"},{top:"50%",right:"20%"},{top:"31%",left:"50%",transform:"translateX(-50%)"}),f===8&&M.push({top:"50%",left:"20%"},{top:"50%",right:"20%"},{top:"31%",left:"50%",transform:"translateX(-50%)"},{bottom:"31%",left:"50%",transform:"translateX(-50%)"}),f===9&&(M=[{top:"12%",left:"20%"},{top:"12%",right:"20%"},{bottom:"12%",left:"20%"},{bottom:"12%",right:"20%"},{top:"38%",left:"20%"},{top:"38%",right:"20%"},{bottom:"38%",left:"20%"},{bottom:"38%",right:"20%"},{top:"50%",left:"50%",transform:"translate(-50%,-50%)"}]),f===10&&(M=[{top:"12%",left:"20%"},{top:"12%",right:"20%"},{bottom:"12%",left:"20%"},{bottom:"12%",right:"20%"},{top:"35%",left:"20%"},{top:"35%",right:"20%"},{bottom:"35%",left:"20%"},{bottom:"35%",right:"20%"},{top:"22%",left:"50%",transform:"translateX(-50%)"},{bottom:"22%",left:"50%",transform:"translateX(-50%)"}]),M})(v).map((f,_)=>y.jsx("div",{style:{...ii.pip,...f},children:c},_))};return y.jsxs(In.div,{initial:{rotateY:180},animate:{rotateY:0},transition:{duration:.4},style:{...ii.cardFront,color:u},children:[y.jsxs("div",{style:ii.cornerTop,children:[y.jsx("div",{children:e}),y.jsx("div",{style:{fontSize:"10px"},children:c})]}),y.jsx("div",{style:ii.innerContent,children:p()}),y.jsxs("div",{style:ii.cornerBottom,children:[y.jsx("div",{children:e}),y.jsx("div",{style:{fontSize:"10px"},children:c})]})]})};function ow({user:n,userPoint:t=0,confirmedImage:e,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const p=$O(),[m,v]=H.useState(t),b=H.useRef(null),{gameState:f,gameStep:_,squeezeTime:T,onSqueezeComplete:E,totalHistory:R,myHistory:M,myPendingBet:j,setMyPendingBet:N,showResult:B,setShowResult:G,liveNoti:tt,updatePointWithAnim:et}=sN(n,t,u,p),V=H.useMemo(()=>({bigRoad:Si.generateBigRoad(R),beadRoad:Si.generateBeadRoad(R),stats:Si.calculateStats(R)}),[R]),[C,I]=H.useState({}),[P,L]=H.useState("10000"),[U,k]=H.useState("mine");H.useEffect(()=>{v(t)},[t]);const Ct=X=>{if(f.timeLeft<=0)return alert("  .");const W=parseInt(P);if(!W||W<=0)return alert(" () .");const ot=Object.values(C).reduce((O,q)=>O+q,0);if(W+ot>m)return alert("  .");I(O=>({...O,[X]:(O[X]||0)+W}))},Ft=async()=>{const X=Object.values(C).reduce((O,q)=>O+q,0);if(X===0)return alert("    .");const W=m-X;v(W),et(W);const ot={...j?.bets||{}};Object.entries(C).forEach(([O,q])=>{ot[O]=(ot[O]||0)+q}),N({round:f.round,bets:ot,totalCost:(j?.totalCost||0)+X});try{await $o(Rn(Qt,"event_bets"),{round:f.round,userId:n.id,betAmount:X,bets:C,timestamp:new Date().toISOString()})}catch{}I({})},Q=()=>{if(!j)return;const X=m+j.totalCost;v(X),et(X),N(null),I({})},st=H.useMemo(()=>{if(e)return e;const X=r||0;return`https://api.dicebear.com/7.x/${["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"][X]}/svg?seed=${n?.id}_${X}&backgroundColor=2a2a2e`},[e,r,n?.id]);return y.jsxs("div",{style:Mt.screenContainer,children:[y.jsxs("div",{style:Mt.fixedHeader,children:[y.jsxs("div",{style:Mt.navLeft,onClick:o,children:[y.jsx("span",{style:Mt.backBtn,children:""}),y.jsx("span",{style:Mt.navTitle,children:"ROYAL BACCARAT"})]}),y.jsxs("div",{style:Mt.navRight,children:[y.jsxs(In.div,{animate:p,style:Mt.pointBadge,children:[y.jsx("span",{style:Mt.coinIcon,children:""}),y.jsx("span",{style:Mt.headerPoint,children:m.toLocaleString()})]}),y.jsx("div",{style:Mt.profileCircle,children:y.jsx("img",{src:st,alt:"p",style:Mt.profileImg})})]})]}),y.jsxs("div",{style:Mt.scrollBody,ref:b,children:[y.jsxs("div",{style:Mt.liveTicker,children:[" ",tt]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx(rN,{round:f.round,timeLeft:f.timeLeft,isDrawing:f.isDrawing,gameResult:f.gameResult,gameStep:_}),f.gameResult&&!f.isDrawing&&y.jsxs("div",{style:{position:"relative",height:"180px",marginTop:"20px"},children:[y.jsxs("div",{style:ii.tableCardLayer,children:[y.jsx("div",{style:ii.sideHand,children:f.gameResult.pHand.map((X,W)=>y.jsx(dT,{card:X,isHidden:W===2?_<4:_<2},`p-${W}`))}),y.jsx("div",{style:ii.sideHand,children:f.gameResult.bHand.map((X,W)=>y.jsx(dT,{card:X,isHidden:W===2?_<4:_<2},`b-${W}`))})]}),y.jsxs("div",{style:Mt.scoreContainer,children:[y.jsx("div",{style:{...Mt.scoreBadge,backgroundColor:"#4d94ff"},children:_>=3?y.jsx(In.span,{initial:{opacity:0},animate:{opacity:1},children:_<6&&f.gameResult.pHand.length>2?(f.gameResult.pHand[0].val+f.gameResult.pHand[1].val)%10:f.gameResult.pScore}):"-"}),y.jsx("div",{style:{color:"#fff",fontWeight:"900",fontSize:"18px"},children:"VS"}),y.jsx("div",{style:{...Mt.scoreBadge,backgroundColor:"#ff4d4d"},children:_>=3?y.jsx(In.span,{initial:{opacity:0},animate:{opacity:1},children:_<6&&f.gameResult.bHand.length>2?(f.gameResult.bHand[0].val+f.gameResult.bHand[1].val)%10:f.gameResult.bScore}):"-"})]})]}),y.jsxs(p1,{children:[_===2&&y.jsx(cT,{targetName:f.squeezeTarget,cards:f.squeezeTarget==="PLAYER"?f.gameResult.pHand.slice(0,2):f.gameResult.bHand.slice(0,2),onComplete:E,timeLeft:T}),_===5&&y.jsx(cT,{targetName:f.squeezeTarget,cards:[f.squeezeTarget==="PLAYER"?f.gameResult.pHand[2]:f.gameResult.bHand[2]],onComplete:E,timeLeft:T})]})]}),y.jsx(aN,{...V}),y.jsxs("div",{style:Mt.sectionLabel,children:[y.jsx("span",{style:Mt.labelBar})," MULTI BETTING ZONE"]}),y.jsxs("div",{style:Mt.baccaratGrid,children:[y.jsx("div",{style:Mt.rowTop,children:fT.filter(X=>X.type==="sub").map(X=>{const W=(j?.bets?.[X.id]||0)+(C[X.id]||0);return y.jsxs(In.div,{whileTap:{scale:.95},onClick:()=>Ct(X.id),style:{...Mt.zoneCardSmall,border:W>0?`2px solid ${X.color}`:"1px solid #333",background:W>0?`linear-gradient(180deg, ${X.color}22, #111)`:"#161616"},children:[y.jsx("div",{style:{color:X.color,fontSize:"13px",fontWeight:"900"},children:X.name}),y.jsx("div",{style:{color:"#fff",fontSize:"10px"},children:X.label}),W>0&&y.jsx("div",{style:Mt.betBadge,children:W.toLocaleString()}),W>0&&y.jsx(uT,{type:X.id,value:W})]},X.id)})}),y.jsx("div",{style:Mt.rowBottom,children:fT.filter(X=>X.type==="main").map(X=>{const W=(j?.bets?.[X.id]||0)+(C[X.id]||0);return y.jsxs(In.div,{whileTap:{scale:.95},onClick:()=>Ct(X.id),style:{...Mt.zoneCardBig,border:W>0?`2px solid ${X.color}`:"1px solid #333",background:W>0?`linear-gradient(180deg, ${X.color}22, #111)`:"#161616"},children:[y.jsx("div",{style:{color:X.color,fontSize:"28px",fontWeight:"900"},children:X.name[0]}),y.jsx("div",{style:{color:X.color,fontSize:"14px",fontWeight:"bold"},children:X.name}),W>0&&y.jsx("div",{style:Mt.betBadgeMain,children:W.toLocaleString()}),W>0&&y.jsx(uT,{type:X.id,value:W})]},X.id)})})]}),y.jsxs("div",{style:Mt.tabSection,children:[y.jsxs("div",{style:Mt.tabHeader,children:[y.jsx("button",{style:{...Mt.tabBtn,color:U==="mine"?"#fff":"#666",borderBottom:U==="mine"?"2px solid #ffb347":"none"},onClick:()=>k("mine"),children:" "}),y.jsx("button",{style:{...Mt.tabBtn,color:U==="total"?"#fff":"#666",borderBottom:U==="total"?"2px solid #ffb347":"none"},onClick:()=>k("total"),children:""})]}),y.jsx("div",{style:Mt.tabContent,children:U==="mine"&&M.slice(0,30).map((X,W)=>{const ot=(Number(X?.earn)||0)-(Number(X?.cost)||0);return y.jsxs("div",{style:Mt.histItem,children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[y.jsxs("span",{style:Mt.histRound,children:["No. ",X.round," ",y.jsx("span",{style:Mt.histDate,children:X.date})]}),y.jsxs("span",{style:{fontSize:"11px",color:"#aaa"},children:[X.result," | ",Object.entries(X.bets||{}).map(([O,q])=>`${O[0]}:${q/1e3}k`).join(" ")]})]}),y.jsx("div",{style:{...Mt.histEarn,color:ot>0?"#34D399":ot===0&&X.earn>0?"#fff":"#FB7185"},children:ot>0?`+${ot.toLocaleString()}`:ot===0&&X.earn>0?"REFUND":`-${(Number(X.cost)||0).toLocaleString()}`})]},`my-${W}`)})})]})]}),y.jsxs(In.div,{initial:{y:180},animate:{y:0},style:Mt.bottomPanel,children:[y.jsxs("div",{style:Mt.statusHeader,children:[y.jsxs("span",{style:{fontSize:"13px",color:"#aaa"},children:[" : ",y.jsxs("b",{style:{color:"#fff",fontSize:"15px"},children:[((Number(j?.totalCost)||0)+Object.values(C).reduce((X,W)=>X+W,0)).toLocaleString()," DIA"]})]}),j&&f.timeLeft>10&&y.jsx("button",{onClick:Q,style:Mt.cancelBtnSmall,children:" "})]}),y.jsxs("div",{style:Mt.amountPresets,children:[["1000","5000","10000","50000","100000"].map(X=>y.jsxs("button",{onClick:()=>L(X),style:{...Mt.presetBtn,color:P===X?"#ffd700":"#fff",border:P===X?"1px solid #ffd700":"1px solid #333"},children:[parseInt(X)/1e3,"k"]},X)),y.jsx("button",{onClick:()=>I({}),style:{...Mt.presetBtn,color:"#ff3b30",border:"1px solid #444"},children:"Reset"})]}),y.jsxs("div",{style:Mt.betInputGroup,children:[y.jsx("input",{type:"number",value:P,onChange:X=>L(X.target.value),style:Mt.mainInput,placeholder:" "}),y.jsx("button",{style:{...Mt.finalBtn,background:Object.keys(C).length>0?"#ffb347":"#333"},onClick:Ft,disabled:Object.keys(C).length===0,children:"CONFIRM"})]})]}),y.jsx(p1,{children:B&&y.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},style:Mt.modalOverlay,onClick:()=>G(null),children:y.jsxs(In.div,{initial:{scale:.8},animate:{scale:1},style:Mt.modalCard,onClick:X=>X.stopPropagation(),children:[y.jsx("div",{style:{...Mt.modalTitle,color:(Number(B.totalEarn)||0)>(Number(B.totalCost)||0)?"#ffd700":"#FB7185"},children:(Number(B.totalEarn)||0)>(Number(B.totalCost)||0)?"WIN!":"LOSE"}),y.jsxs("div",{style:{fontSize:"22px",margin:"20px 0",fontWeight:"bold",color:"#fff"},children:[B.result," WIN"]}),y.jsxs("div",{style:{...Mt.modalAmount,color:(Number(B.totalEarn)||0)>(Number(B.totalCost)||0)?"#34D399":"#fff"},children:[((Number(B?.totalEarn)||0)-(Number(B?.totalCost)||0)).toLocaleString()," DIA"]}),y.jsx("button",{style:Mt.modalCloseBtn,onClick:()=>G(null),children:"CLOSE"})]})})})]})}const ii={cardFront:{width:"58px",height:"82px",background:"#fff",borderRadius:"7px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",border:"1px solid #ddd"},cardBack:{width:"58px",height:"82px",background:"#2c3e50",borderRadius:"7px",border:"2px solid #fff",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",boxSizing:"border-box"},backPattern:{width:"100%",height:"100%",backgroundColor:"#2c3e50",backgroundImage:"radial-gradient(#445566 20%, transparent 20%)",backgroundSize:"6px 6px",borderRadius:"4px"},cornerTop:{position:"absolute",top:2,left:4,fontSize:"11px",fontWeight:"bold",lineHeight:"11px",textAlign:"center"},cornerBottom:{position:"absolute",bottom:2,right:4,fontSize:"11px",fontWeight:"bold",lineHeight:"11px",textAlign:"center",transform:"rotate(180deg)"},innerContent:{width:"100%",height:"100%",position:"relative"},pip:{position:"absolute",fontSize:"15px",lineHeight:"15px"},faceCardBox:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},faceBorder:{position:"absolute",top:"12%",left:"12%",right:"12%",bottom:"12%",border:"1.5px solid",opacity:.3,borderRadius:"5px"},tableCardLayer:{position:"absolute",top:0,left:0,right:0,display:"flex",justifyContent:"space-around",pointerEvents:"none",zIndex:5,padding:"0 10px"},sideHand:{display:"flex",gap:"6px"}},Mt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#080808",overflow:"hidden"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:999,borderBottom:"1px solid #1a1a1a"},scrollBody:{flex:1,overflowY:"auto",padding:"10px 20px 250px"},navLeft:{display:"flex",alignItems:"center",gap:"12px"},navTitle:{fontSize:"16px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"20px",color:"#888"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#161616",padding:"8px 16px",borderRadius:"25px",border:"1px solid #222",display:"flex",gap:"8px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"38px",height:"38px",borderRadius:"50%",overflow:"hidden",border:"2px solid #222"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"36px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 15px",display:"flex",alignItems:"center",justifyContent:"center"},sectionLabel:{fontSize:"15px",fontWeight:"900",margin:"30px 0 15px",display:"flex",alignItems:"center",gap:"10px",color:"#eee"},labelBar:{width:"4px",height:"15px",background:"#ffb347",borderRadius:"2px"},baccaratGrid:{display:"flex",flexDirection:"column",gap:"12px"},rowTop:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",height:"95px"},rowBottom:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",height:"150px"},zoneCardSmall:{borderRadius:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},zoneCardBig:{borderRadius:"22px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},betBadge:{position:"absolute",top:5,right:5,background:"#ffb347",color:"#000",fontSize:9,fontWeight:"bold",padding:"2px 5px",borderRadius:8,zIndex:10},betBadgeMain:{position:"absolute",top:10,right:10,background:"#ffb347",color:"#000",fontSize:11,fontWeight:"bold",padding:"3px 8px",borderRadius:10,zIndex:10},tabSection:{marginTop:"50px"},tabHeader:{display:"flex",gap:"25px",borderBottom:"1px solid #1a1a1a"},tabBtn:{background:"none",border:"none",padding:"15px 0",fontSize:"14px",fontWeight:"900"},tabContent:{background:"#0e0e0e",borderRadius:"24px",marginTop:"20px",overflow:"hidden"},histItem:{padding:"18px 22px",borderBottom:"1px solid #1a1a1a",display:"flex",justifyContent:"space-between",alignItems:"center"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDate:{fontSize:"10px",color:"#444",marginLeft:"8px"},histEarn:{fontSize:"16px",fontWeight:"900"},bottomPanel:{position:"fixed",bottom:0,left:0,right:0,background:"#161618",padding:"20px",borderTop:"1px solid #2c2c2e",zIndex:100},statusHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},cancelBtnSmall:{background:"rgba(251, 113, 133, 0.1)",color:"#fb7185",border:"1px solid #fb7185",padding:"4px 10px",borderRadius:"8px",fontSize:"11px"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#222",border:"1px solid #333",color:"#fff",padding:"10px 0",borderRadius:"12px",fontSize:"12px"},betInputGroup:{display:"flex",gap:"12px"},mainInput:{flex:1,background:"#000",border:"1px solid #333",borderRadius:"15px",padding:"12px",color:"#fff",fontSize:"16px",fontWeight:"900"},finalBtn:{color:"#000",border:"none",padding:"0 25px",borderRadius:"15px",fontWeight:"900"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalCard:{background:"#1a1a1a",padding:"45px 35px",borderRadius:"40px",textAlign:"center",width:"85%"},modalTitle:{fontSize:"36px",fontWeight:"900"},modalAmount:{fontSize:"34px",fontWeight:"900",margin:"25px 0"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900"},scoreContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",alignItems:"center",gap:"40px",zIndex:10},scoreBadge:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"20px",fontWeight:"900",boxShadow:"0 0 15px rgba(0,0,0,0.5)"}},ct={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},_d=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],lw=(n,t)=>{const e=n>=0&&n<_d.length?n:0;return`https://api.dicebear.com/7.x/${_d[e]}/svg?seed=${t}_${e}&backgroundColor=2a2a2e`},oN=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},lN=({userId:n,tempSelectedIdx:t,tempUploadedImg:e,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:p})=>{const m=H.useRef(null);return y.jsxs("div",{style:ct.avatarPicker,children:[y.jsxs("div",{style:ct.pickerHeader,children:[y.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:p,style:ct.randomBtn,children:" "}),y.jsx("button",{onClick:u,style:ct.closeBtn,children:""})]})]}),y.jsx("div",{style:ct.charGrid,children:_d.map((v,b)=>y.jsx("div",{onClick:()=>{o(null),r(b)},style:{...ct.pickerItem,border:t===b&&!e?"2px solid #D4AF37":"1px solid #333"},children:y.jsx("img",{src:lw(b,n),alt:"char",style:{width:"85%"}})},b))}),y.jsx("input",{type:"file",accept:"image/*",ref:m,onChange:v=>{const b=v.target.files[0];if(b){const f=new FileReader;f.onloadend=()=>{o(f.result),r(-1)},f.readAsDataURL(b)}},style:{display:"none"}}),y.jsx("button",{onClick:()=>m.current.click(),style:ct.uploadBtn,children:"   "}),y.jsx("button",{onClick:c,style:ct.applyBtn,children:""})]})},hT=new BroadcastChannel("daisy_global_channel"),uN=(n,t,e)=>{const[r,o]=H.useState(n||null),[u,c]=H.useState(()=>{if(!n)return!1;const N=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===N}),[p,m]=H.useState([]),[v,b]=H.useState([]);H.useEffect(()=>{n&&o(n)},[n]),H.useEffect(()=>{const N=(G,tt)=>{o(et=>et&&et.id===G?{...et,diamond:tt}:et)},B=G=>{const{userId:tt,point:et}=G.detail||{};tt&&N(tt,et)};return window.addEventListener("user_point_update",B),hT.onmessage=G=>{const{type:tt,userId:et,point:V}=G.data||{};tt==="POINT_UPDATE"&&et&&N(et,V)},()=>window.removeEventListener("user_point_update",B)},[]),H.useEffect(()=>{if(!r?.id)return;const N=Vr(Rn(Qt,"deposit_requests"),qf("userId","==",r.id)),B=Vr(Rn(Qt,"withdraw_requests"),qf("userId","==",r.id)),G=Vr(Rn(Qt,"finance_history"),qf("userId","==",r.id));let tt=[],et=[],V=[];const C=()=>{const U=V.filter(Q=>Q.type==="").map(Q=>({...Q,status:""})),k=[...tt,...U].sort((Q,st)=>new Date(st.timestamp||st.completedAt)-new Date(Q.timestamp||Q.completedAt));m(k);const Ct=V.filter(Q=>Q.type==="").map(Q=>({...Q,status:""})),Ft=[...et,...Ct].sort((Q,st)=>new Date(st.timestamp||st.completedAt)-new Date(Q.timestamp||Q.completedAt));b(Ft)},I=ps(N,U=>{tt=U.docs.map(k=>({id:k.id,...k.data(),status:""})),C()}),P=ps(B,U=>{et=U.docs.map(k=>({id:k.id,...k.data(),status:""})),C()}),L=ps(G,U=>{V=U.docs.map(k=>({id:k.id,...k.data()})),C()});return()=>{I(),P(),L()}},[r?.id]);const f=H.useCallback(N=>{window.speechSynthesis.cancel();const B=new SpeechSynthesisUtterance(N),G=window.speechSynthesis.getVoices(),tt=G.find(et=>et.lang.includes("ko")&&et.name.includes("Google"))||G.find(et=>et.lang.includes("ko")&&(et.name.includes("Female")||et.name.includes("")))||G.find(et=>et.lang.includes("ko"));tt&&(B.voice=tt),B.lang=e?"ko-KR":"en-US",B.rate=1.1,B.pitch=1,window.speechSynthesis.speak(B)},[e]);return{userInfo:r,isCheckedIn:u,myDeposits:p,myWithdraws:v,handleDailyCheckIn:async()=>{if(!u)try{const N=Re(Qt,"settings","global"),B=await Fi(N);if(!B.exists())throw new Error("Database Error");const G=B.data().users||[],tt=Math.floor(Math.random()*1901)+100;let et=0;const V=G.map(I=>I.id===r.id?(et=(I.diamond||0)+tt,{...I,diamond:et}):I);await Hi(N,{users:V}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(I=>({...I,diamond:et})),t&&t(et),hT.postMessage({type:"POINT_UPDATE",userId:r.id,point:et});const C=e?`  ${tt}  .`:`Daily bonus ${tt} diamonds paid.`;f(C),alert(e?`! ${tt.toLocaleString()} DIA .`:`Congrats! ${tt.toLocaleString()} DIA paid.`)}catch(N){console.error(N);const B=1e3;o(G=>({...G,diamond:(G.diamond||0)+B})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(e?`( ) ${B} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(N,B)=>{if(!N.trim()||!B)return alert(e?" .":"Enter info.");try{return await $o(Rn(Qt,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:N,amount:Number(B),status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Deposit requested."),alert(e?" !":"Done!"),!0}catch(G){return alert("Error: "+G.message),!1}},requestWithdraw:async(N,B,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(G!==tt)return alert(e?" ":"PIN mismatch");if(Number(N)>r.diamond)return alert(e?" ":"Not enough balance");try{return await $o(Rn(Qt,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(N),bankInfo:B,status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Withdrawal requested."),alert(e?" !":"Done!"),!0}catch(et){return alert("Error: "+et.message),!1}},updatePassword:async(N,B,G)=>{if(!N||B!==G)return alert(e?"  .":"Check inputs.");try{const tt=Re(Qt,"settings","global"),et=await Fi(tt);if(et.exists()){const C=(et.data().users||[]).map(I=>I.id===r.id?{...I,password:B}:I);await Hi(tt,{users:C})}return alert(e?"  ":"Success"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updatePin:async(N,B,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(tt&&N!==tt)return alert(e?" PIN ":"Old PIN wrong");if(B!==G||B.length!==6)return alert(e?" PIN  ":"Check New PIN");try{const et=Re(Qt,"settings","global"),V=await Fi(et);if(V.exists()){const C=V.data().users.map(I=>I.id===r.id?{...I,pin:B}:I);await Hi(et,{users:C})}return localStorage.setItem(`user_pin_${r.id}`,B),alert(e?" ":"Done"),!0}catch(et){return alert("Error: "+et.message),!1}},updateAvatar:async(N,B,G)=>{const tt={image:N,idx:B};try{const et=Re(Qt,"settings","global"),V=await Fi(et);if(V.exists()){const C=V.data().users.map(I=>I.id===r.id?{...I,avatar:tt}:I);await Hi(et,{users:C})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(tt)),G&&G(N,B),alert(e?"  ":"Updated"),!0}catch(et){return alert("Error: "+et.message),!1}}}},Ua=({title:n,onBack:t})=>y.jsxs("div",{style:ct.subHeader,children:[y.jsx("button",{onClick:t,style:ct.backBtn,children:""}),y.jsx("span",{style:ct.subTitle,children:n}),y.jsx("div",{style:{width:30}})]}),cN=({onBack:n,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),[m,v]=H.useState(""),b=async()=>{await e(o,c,m)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Change Password",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:"ID"}),y.jsx("input",{style:ct.inputDisabled,value:r.id,disabled:!0})]}),y.jsx("div",{style:{height:20}}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" ":"Old Password"}),y.jsx("input",{type:"password",style:ct.input,value:o,onChange:f=>u(f.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" ":"New Password"}),y.jsx("input",{type:"password",style:ct.input,value:c,onChange:f=>p(f.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Confirm"}),y.jsx("input",{type:"password",style:ct.input,value:m,onChange:f=>v(f.target.value)})]}),y.jsx("button",{style:ct.saveBtn,onClick:b,children:t?"":"Save"})]})]})},fN=({onBack:n,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),[m,v]=H.useState(""),b=localStorage.getItem(`user_pin_${r.id}`),f=async()=>{await e(o,c,m)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:b?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[b?y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" PIN":"Old PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:_=>u(_.target.value.replace(/[^0-9]/g,""))})]}):null,y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" PIN (6)":"New PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:_=>p(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"PIN ":"Confirm"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:m,onChange:_=>v(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:ct.saveBtn,onClick:f,children:t?"":"Done"})]})]})},dN=({onBack:n,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),m=async()=>{await e(o,c)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Deposit",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Name"}),y.jsx("input",{style:ct.input,value:o,onChange:v=>u(v.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ct.input,value:c,onChange:v=>p(v.target.value)})]}),y.jsx("button",{style:ct.saveBtn,onClick:m,children:t?"":"Request"})]})]})},hN=({onBack:n,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),[m,v]=H.useState(""),[b,f]=H.useState(""),[_,T]=H.useState(""),E=async()=>{await e(o,{bank:c,account:m,holder:b},_)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Withdraw",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ct.input,value:o,onChange:R=>u(R.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" ":"Bank Info"}),y.jsx("input",{style:{...ct.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:R=>p(R.target.value)}),y.jsx("input",{style:{...ct.input,marginBottom:5},placeholder:t?"":"Account No",value:m,onChange:R=>v(R.target.value)}),y.jsx("input",{style:ct.input,placeholder:t?"":"Holder",value:b,onChange:R=>f(R.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:"PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:_,onChange:R=>T(R.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:{...ct.saveBtn,background:"#D4AF37",color:"#000"},onClick:E,children:t?"":"Request"})]})]})},pT=({onBack:n,isKo:t,title:e,data:r})=>y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:e,onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",p=c?"#4cd137":"#fbc531",m=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",v=c?t?"":"Done":t?"":"Pending";return y.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),y.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),y.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),y.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:m,color:p,border:`1px solid ${p}`},children:v})]},u)})})]}),pN=({onBack:n,isKo:t,userId:e})=>{const r=H.useMemo(()=>{if(!e)return[];const o=localStorage.getItem(`event_my_history_${e}`);return o?JSON.parse(o):[]},[e]);return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"History",onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>y.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[y.jsxs("span",{children:[o.round,t?"":"R"]}),y.jsx("span",{children:o.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),y.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},mN=({onBack:n,isKo:t,onChangeView:e})=>y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Settings",onBack:n}),y.jsxs("div",{style:ct.settingList,children:[y.jsxs("div",{style:ct.settingItem,onClick:()=>e("profile"),children:[y.jsx("span",{style:ct.settingText,children:t?"  ":"Change Password"}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.settingItem,onClick:()=>e("payment_pin"),children:[y.jsx("span",{style:ct.settingText,children:t?" (PIN) ":"Setup PIN"}),y.jsx("span",{style:ct.arrow,children:""})]})]})]});function gN({user:n,onBack:t,onLogout:e,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:p}){const[m,v]=H.useState("main"),b=p.home==="",{userInfo:f,isCheckedIn:_,myDeposits:T,myWithdraws:E,handleDailyCheckIn:R,requestDeposit:M,requestWithdraw:j,updatePassword:N,updatePin:B,updateAvatar:G}=uN(n,c,b),[tt,et]=H.useState(o||0),[V,C]=H.useState(r||null),[I,P]=H.useState(!1);if(!f)return y.jsx("div",{style:ct.loading,children:"SECRET MEMBERSHIP..."});const L=oN(f.diamond);return m==="profile"?y.jsx(cN,{onBack:()=>v("settings"),isKo:b,onSubmit:N,userInfo:f}):m==="payment_pin"?y.jsx(fN,{onBack:()=>v("settings"),isKo:b,onSubmit:B,userInfo:f}):m==="deposit"?y.jsx(dN,{onBack:()=>v("main"),isKo:b,onSubmit:M,onViewHistory:()=>v("deposit_history")}):m==="withdraw"?y.jsx(hN,{onBack:()=>v("main"),isKo:b,onSubmit:j,onViewHistory:()=>v("withdraw_history")}):m==="deposit_history"?y.jsx(pT,{onBack:()=>v("deposit"),isKo:b,title:b?"  ":"Deposit History",data:T}):m==="withdraw_history"?y.jsx(pT,{onBack:()=>v("withdraw"),isKo:b,title:b?"  ":"Withdraw History",data:E}):m==="history"?y.jsx(pN,{onBack:()=>v("main"),isKo:b,userId:f.id}):m==="settings"?y.jsx(mN,{onBack:()=>v("main"),isKo:b,onChangeView:v}):m==="event_donation"?y.jsx(ow,{user:f,userPoint:f.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>v("main"),t:p}):y.jsxs("div",{style:ct.container,children:[y.jsxs("div",{style:ct.topBar,children:[y.jsx("button",{onClick:t,style:ct.backBtn,children:""}),y.jsx("span",{style:ct.topTitle,children:"PRIVATE LOUNGE"}),y.jsx("span",{onClick:()=>v("settings"),style:ct.settingsIcon,children:""})]}),y.jsx("div",{style:ct.profileHeaderMain,children:y.jsxs("div",{style:ct.profileInfoMain,children:[y.jsxs("div",{style:ct.avatarWrapper,children:[y.jsx("div",{style:ct.avatarLarge,children:r?y.jsx("img",{src:r,alt:"profile",style:ct.imgFull}):y.jsx("img",{src:lw(o,f.id),alt:"avatar",style:ct.imgFull})}),y.jsx("button",{style:ct.editBadgeOutside,onClick:()=>P(!0),children:b?"":"Edit"})]}),y.jsxs("div",{style:ct.userTextMain,children:[y.jsxs("div",{style:ct.userIdMain,children:[f.name||f.id," ",y.jsx("span",{style:{...ct.vipBadge,background:L.color,color:"#000"},children:L.name})]}),y.jsxs("div",{style:ct.tierContainer,children:[y.jsxs("div",{style:ct.tierText,children:[b?" ":"Next Tier",": ",L.next.toLocaleString()]}),y.jsx("div",{style:ct.tierBarOuter,children:y.jsx("div",{style:{...ct.tierBarInner,width:`${L.per}%`,background:L.color}})})]}),y.jsxs("div",{style:ct.userNoMain,children:["UID: ",f.no||"000000"]})]})]})}),y.jsxs("div",{style:ct.balanceCard,children:[y.jsxs("div",{style:ct.balanceItem,children:[y.jsx("div",{style:ct.label,children:b?" ":"Diamonds"}),y.jsxs("div",{style:ct.value,children:[" ",f.diamond?.toLocaleString()??0]})]}),y.jsx("div",{style:ct.divider}),y.jsxs("div",{style:{...ct.balanceItem,cursor:_?"default":"pointer"},onClick:R,children:[y.jsx("div",{style:{...ct.label,color:_?"#444":"#D4AF37"},children:_?b?" ":"Claimed":b?" ":"Daily Bonus"}),y.jsx("div",{style:ct.value,children:_?"":""})]})]}),y.jsxs("div",{style:ct.menuList,children:[y.jsxs("div",{style:ct.goldMenu,onClick:()=>v("event_donation"),children:[y.jsxs("div",{style:ct.goldMenuContent,children:[y.jsx("div",{style:ct.goldTag,children:"HOT"}),y.jsx("span",{style:ct.goldMenuTitle,children:b?"  ":"Join Event"})]}),y.jsx("span",{children:""})]}),y.jsxs("div",{style:ct.menuGroup,children:[y.jsxs("div",{style:ct.menuItem,onClick:()=>v("deposit"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",b?" ":"Deposit"]}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.menuItem,onClick:()=>v("withdraw"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",b?" ":"Withdraw"]}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.menuItem,onClick:()=>v("history"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",b?" ":"History"]}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",b?"1:1  ":"1:1 Support"]}),y.jsx("span",{style:ct.arrow,children:""})]})]}),y.jsx("button",{onClick:e,style:{...ct.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:b?"":"LOG OUT"})]}),I&&y.jsx(lN,{userId:f.id,tempSelectedIdx:tt,tempUploadedImg:V,setTempSelectedIdx:et,setTempUploadedImg:C,onClose:()=>P(!1),onApply:()=>G(V,tt,u).then(U=>U&&P(!1)),onRandom:()=>{C(null),et(Math.floor(Math.random()*_d.length))}})]})}function yN({user:n,onUpdatePoint:t,appAvatarImage:e,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:p,dashStyles:m,isGuest:v,members:b=[],regions:f=[],slideImages:_=[],videos:T=[],videoCategories:E=[],innerLogo:R,telegramLink:M="https://t.me/your_address"}){const[j,N]=H.useState("home"),[B,G]=H.useState(null),[tt,et]=H.useState(""),[V,C]=H.useState(""),[I,P]=H.useState(!1),[L,U]=H.useState(!1),k=async()=>{if(v)return alert("  .");const pt=(Number(n?.diamond)||0)+1e5;if(t(pt),n?.id)try{const vt=Re(Qt,"users",n.id);await Hi(vt,{diamond:pt,lastBonusDate:new Date().toISOString()}),alert("  10   !")}catch(vt){console.error("   :",vt),alert("  .   .")}},Ct=T.filter(rt=>tt==="ALL"||!tt?!0:rt.category===tt),Ft=b.filter(rt=>!V||V===""||V==="ALL"?!0:rt.region===V),[Q,st]=H.useState(()=>{const rt=localStorage.getItem("live_count"),pt=rt?parseInt(rt):142;return pt>=123&&pt<=179?pt:145});H.useEffect(()=>{const rt=setInterval(()=>{st(pt=>{const vt=Math.random();let St=vt<.45?1:vt<.9?-1:vt<.95?2:-2,Tt=pt+St;return Tt<=123&&(Tt=125),Tt>=179&&(Tt=177),localStorage.setItem("live_count",Tt),Tt})},5e3);return()=>clearInterval(rt)},[]);const X=H.useCallback(()=>{document.getElementById("full-screen-view")||B||document.getElementById("manager-detail-view")||(j!=="home"?N("home"):U(!0),window.history.pushState(null,""))},[B,j]);H.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",X),()=>window.removeEventListener("popstate",X)),[X]);const W=rt=>{if(v&&(rt==="event"||rt==="mypage")){alert(p==="ko"?"   .":"Authorized Members Only.");return}rt==="event"?(P(!0),N(rt),setTimeout(()=>P(!1),800)):N(rt)},ot=rt=>{G(rt),N("manager"),window.history.pushState({isDetail:!0},"")},O=()=>{M?window.open(M,"_blank"):alert(p==="ko"?"   .":"Link not set.")};H.useEffect(()=>{window.scrollTo(0,0)},[j]);const q=()=>{switch(j){case"home":return y.jsx(pj,{t:u,innerLogo:R,slideImages:_,members:b,setActiveTab:N,openDetail:ot,handleTelegram:O,matchingCount:Q,onClaimBonus:k});case"manager":return y.jsx(mj,{t:u,regions:f,selectedRegion:V,setSelectedRegion:C,filteredMembers:Ft,initialMember:B,onCloseDetail:()=>G(null)});case"event":return I?y.jsxs("div",{style:ni.loadingContainer,children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("div",{style:ni.loadingText,children:p==="ko"?"   ...":"Loading Private Benefits..."})]}):y.jsx(ow,{t:u,user:n,userPoint:n?.diamond||0,onUpdatePoint:t,onBack:()=>N("home"),confirmedImage:e,confirmedAvatarIdx:r});case"video":return y.jsx(gj,{t:u,videoCategories:E,selectedCategory:tt,setSelectedCategory:et,filteredVideos:Ct});case"mypage":return y.jsx(gN,{t:u,user:n,onBack:()=>N("home"),onLogout:()=>U(!0),confirmedImage:e,confirmedAvatarIdx:r,onAvatarChange:o,s:ni});default:return null}};return y.jsxs("div",{style:{...m.container,background:"#080808",zIndex:10,position:"relative"},children:[y.jsxs("div",{style:{...m.contentArea,background:"transparent"},children:[j!=="home"&&j!=="event"&&j!=="mypage"&&y.jsx("div",{style:ni.topStatus,children:y.jsxs("div",{style:ni.statusInner,children:[y.jsx("span",{className:"dot-active"}),y.jsx("span",{style:ni.statusText,children:"LIVE CONNECTED : "}),y.jsxs("b",{style:ni.statusCount,children:[Q," MEMBERS"]})]})}),q()]}),L&&y.jsx("div",{style:ni.modalOverlay,onClick:()=>U(!1),children:y.jsxs("div",{style:{...ni.modalContent,textAlign:"center"},onClick:rt=>rt.stopPropagation(),children:[y.jsx("h3",{style:ni.modalName,children:u.logout}),y.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:p==="ko"?"  ?":"Are you sure you want to log out?"}),y.jsxs("div",{style:ni.modalBtnGroup,children:[y.jsx("button",{onClick:c,style:ni.mMatchBtn,children:u.logout}),y.jsx("button",{onClick:()=>U(!1),style:ni.mCloseBtn,children:p==="ko"?"":"CANCEL"})]})]})}),y.jsx("nav",{style:{...m.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(rt=>y.jsxs("div",{onClick:()=>W(rt.key),style:{...m.navItem,color:j===rt.key?"#D4AF37":"#555"},children:[y.jsx("span",{style:{fontSize:22,filter:j===rt.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:rt.icon}),y.jsx("span",{style:{fontSize:10,fontWeight:800},children:rt.label})]},rt.key))}),y.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const ni={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},vN="dwla93cgd",_N="daisy_upload",mT=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",e=new FormData;e.append("file",n),e.append("upload_preset",_N);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${vN}/${t}/upload`,{method:"POST",body:e})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function bN({adminPreviewMode:n,setAdminPreviewMode:t,hero:e,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:p,logoSize:m,setLogoSize:v,logoPos:b,setLogoPos:f,innerLogo:_,setInnerLogo:T,onExit:E,members:R,setMembers:M,slideImages:j,setSlideImages:N,videos:B,setVideos:G,adminPw:tt,setAdminPw:et,telegramLink:V,setTelegramLink:C,saveToFirebase:I,syncToFirebase:P,openIndependent:L,styles:U}){const k={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},Ct=Object.keys(k),Ft=["","","","",""],Q={name:"",region:"",loc:k.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[st,X]=H.useState(Q),[W,ot]=H.useState(null),[O,q]=H.useState(!1),[rt,pt]=H.useState(""),[vt,St]=H.useState(""),[Tt,At]=H.useState(!1),[wt,ne]=H.useState(!1),[Ee,nn]=H.useState(null),[Pe,hn]=H.useState(""),oi=at=>{X({...st,region:at,loc:k[at][0]})},An=at=>{ot(at.id),X(at),At(!0);const gt=document.getElementById("manager-modal-scroll");gt&&gt.scrollTo({top:0,behavior:"smooth"})},je=async()=>{if(O)return alert("  .  .");if(!st.img||!st.name)return alert("   .");let at;W?(at=R.map(ie=>ie.id===W?{...st,id:W}:ie),ot(null)):at=[...R,{...st,id:Date.now()}],M(at),q(!0);const gt=await P({members:at});q(!1),gt&&(X(Q),alert("    ! "))},li=async()=>{if(!Pe)return alert("   .");let at;Ee?(at=B.map(ie=>ie.id===Ee?{...ie,url:Pe,category:rt,description:vt}:ie),nn(null)):at=[...B,{id:Date.now(),url:Pe,category:rt,description:vt}],G(at),q(!0);const gt=await P({videos:at});q(!1),gt&&(hn(""),St(""),alert("   ! "))},Yt=async(at,gt,ie)=>{const Bt=at.target.files?.[0];if(Bt)try{q(!0);const te=await mT(Bt);if(te){ie(te);let de={};gt==="logo"?de={logo:te}:gt==="innerLogo"?de={innerLogo:te}:gt==="heroImg"&&(de={hero:{...e,imageSrc:te,mode:"image"}}),Object.keys(de).length>0&&await P(de)}}catch(te){console.error("  :",te)}finally{q(!1),at.target.value=""}},Nt=async()=>{q(!0);const at=await P({telegramLink:V,adminPw:tt});q(!1),at&&alert("      ! ")};return y.jsxs("div",{style:kt.cms,children:[y.jsxs("div",{style:kt.toggleArea,children:[y.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...kt.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),y.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...kt.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("h3",{style:kt.mainTitle,children:"SERVER ADMIN PANEL"}),y.jsxs("div",{style:kt.sectionBox,children:[y.jsx("label",{style:kt.sectionLabel,children:"    "}),y.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[y.jsx("button",{onClick:()=>r({...e,mode:"image"}),style:{...kt.modeBtn,background:e.mode==="image"?"#fff":"#333",color:e.mode==="image"?"#000":"#888"},children:" "}),y.jsx("button",{onClick:()=>r({...e,mode:"video"}),style:{...kt.modeBtn,background:e.mode==="video"?"#fff":"#333",color:e.mode==="video"?"#000":"#888"},children:" "})]}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"image/*",style:kt.fileInput,onChange:at=>Yt(at,"heroImg",gt=>r({...e,imageSrc:gt,mode:"image"}))}),e.imageSrc&&y.jsx("img",{src:e.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"video/*",style:kt.fileInput,onChange:at=>Yt(at,"heroVid",gt=>{u(gt),r({...e,mode:"video"})})}),o&&y.jsx("div",{style:{marginTop:5},children:y.jsx("p",{style:kt.checkText,children:"  "})})]}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"    "}),y.jsx("input",{type:"file",accept:"image/*",style:kt.fileInput,onChange:at=>Yt(at,"logo",p)}),y.jsxs("div",{style:kt.rangeRow,children:[y.jsxs("span",{children:[": ",m,"px"]}),y.jsx("input",{type:"range",min:"40",max:"600",value:m,onChange:at=>v(+at.target.value)})]}),y.jsxs("div",{style:kt.rangeGrid,children:[y.jsxs("div",{children:[y.jsx("span",{children:"(Y)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:b.y,onChange:at=>f({...b,y:+at.target.value})})]}),y.jsxs("div",{children:[y.jsx("span",{children:"(X)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:b.x,onChange:at=>f({...b,x:+at.target.value})})]})]})]})]}),y.jsxs("div",{style:{...kt.sectionBox,borderColor:"#FFD700"},children:[y.jsx("label",{style:{...kt.sectionLabel,color:"#FFD700"},children:"  "}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"   (Inner Logo)"}),y.jsx("input",{type:"file",accept:"image/*",style:kt.fileInput,onChange:at=>Yt(at,"innerLogo",T)}),_&&y.jsx("img",{src:_,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"   (X  )"}),y.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:kt.fileInput,onChange:async at=>{const gt=Array.from(at.target.files);q(!0);const Bt=(await Promise.all(gt.map(de=>mT(de)))).filter(de=>de).map(de=>({id:Date.now()+Math.random(),url:de})),te=[...j,...Bt];N(te),await P({slideImages:te}),q(!1),at.target.value=""}}),y.jsx("div",{style:kt.bannerList,children:j.map(at=>y.jsxs("div",{style:kt.bannerThumb,children:[y.jsx("img",{src:at.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:async()=>{const gt=j.filter(ie=>ie.id!==at.id);N(gt),await P({slideImages:gt})},style:kt.bannerDelBtn,children:""})]},at.id))})]})]}),y.jsxs("div",{style:kt.sectionBox,children:[y.jsx("label",{style:kt.sectionLabel,children:"   "}),y.jsxs("button",{onClick:()=>At(!0),style:kt.modalOpenBtn,children:["   (",R.length,")"]}),y.jsxs("button",{onClick:()=>ne(!0),style:{...kt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",B.length,")"]}),y.jsx("button",{onClick:()=>L&&L(),style:{...kt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),y.jsxs("div",{style:kt.sectionBox,children:[y.jsx("label",{style:kt.sectionLabel,children:"  "}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"   "}),y.jsx("input",{type:"text",style:kt.textInput,placeholder:"@TelegramID",value:V||"",onChange:at=>C(at.target.value)})]}),y.jsxs("div",{style:kt.fieldGroup,children:[y.jsx("label",{style:kt.fieldLabel,children:"  "}),y.jsx("input",{type:"text",style:kt.textInput,placeholder:"  ",value:tt||"",onChange:at=>et(at.target.value)})]}),y.jsx("button",{onClick:Nt,style:{...kt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),y.jsx("button",{style:{...kt.saveExitBtn,background:O?"#ffb347":"#fff",cursor:O?"wait":"pointer"},onClick:async()=>{if(O)return;q(!0);const at=setTimeout(()=>{E()},5e3);try{I&&await I(),clearTimeout(at),E()}catch{E()}finally{q(!1)}},children:O?"   ...":"    "})]}),Tt&&y.jsx("div",{style:ce.overlay,children:y.jsxs("div",{id:"manager-modal-scroll",style:ce.container,children:[y.jsxs("div",{style:ce.header,children:[y.jsx("h2",{style:{color:"#ffb347"},children:W?"  ":"  "}),y.jsx("button",{onClick:()=>{At(!1),ot(null),X(Q)},style:ce.closeBtn,children:""})]}),y.jsxs("div",{style:ce.formBox,children:[y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[y.jsx("select",{value:st.region,onChange:at=>oi(at.target.value),style:ce.select,children:Ct.map(at=>y.jsx("option",{value:at,children:at},at))}),y.jsx("select",{value:st.loc,onChange:at=>X({...st,loc:at.target.value}),style:ce.select,children:k[st.region].map(at=>y.jsx("option",{value:at,children:at},at))})]}),y.jsxs("div",{style:{display:"flex",gap:10},children:[y.jsx("input",{style:{...ce.input,flex:2},placeholder:" ",value:st.name,onChange:at=>X({...st,name:at.target.value})}),y.jsx("input",{style:{...ce.input,flex:1},placeholder:"",value:st.age,onChange:at=>X({...st,age:at.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[y.jsx("input",{style:ce.input,placeholder:" (cm)",value:st.height,onChange:at=>X({...st,height:at.target.value})}),y.jsx("input",{style:ce.input,placeholder:" (kg)",value:st.weight,onChange:at=>X({...st,weight:at.target.value})}),y.jsx("input",{style:ce.input,placeholder:" ()",value:st.bust,onChange:at=>X({...st,bust:at.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"image/*",onChange:at=>Yt(at,"image",gt=>X({...st,img:gt}))}),st.img&&y.jsx("img",{src:st.img,style:ce.previewImg,alt:"p"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"video/*",onChange:at=>Yt(at,"video",gt=>X({...st,video:gt}))}),st.video&&y.jsx("video",{src:st.video,style:ce.previewImg,controls:!0})]})]}),y.jsx("button",{onClick:je,style:ce.actionBtn,children:W?" ":" "})]}),y.jsx("div",{style:ce.list,children:R.map(at=>y.jsxs("div",{style:ce.listItem,children:[y.jsxs("span",{children:["[",at.loc,"] ",at.name," (",at.age?at.age+"":"",")"]}),y.jsxs("div",{children:[y.jsx("button",{onClick:()=>An(at),style:ce.editBtn,children:""}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const gt=R.filter(ie=>ie.id!==at.id);M(gt),await P({members:gt})}},style:ce.delBtn,children:""})]})]},at.id))})]})}),wt&&y.jsx("div",{style:ce.overlay,children:y.jsxs("div",{id:"video-modal-scroll",style:{...ce.container,border:"2px solid #2196F3"},children:[y.jsxs("div",{style:ce.header,children:[y.jsx("h2",{style:{color:"#2196F3"},children:Ee?"  ":"  "}),y.jsx("button",{onClick:()=>{ne(!1),nn(null),St(""),hn("")},style:ce.closeBtn,children:""})]}),y.jsxs("div",{style:ce.formBox,children:[y.jsx("select",{value:rt,onChange:at=>pt(at.target.value),style:ce.select,children:Ft.map(at=>y.jsx("option",{value:at,children:at},at))}),y.jsx("input",{style:{...ce.input,marginTop:10},placeholder:" ",value:vt,onChange:at=>St(at.target.value)}),y.jsx("input",{type:"file",accept:"video/*",onChange:at=>Yt(at,"video",gt=>hn(gt))}),Pe&&y.jsx("video",{src:Pe,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),y.jsx("button",{onClick:li,style:{...ce.actionBtn,background:"#2196F3"},children:" "})]}),y.jsx("div",{style:ce.list,children:B.map(at=>y.jsxs("div",{style:ce.listItem,children:[y.jsx("video",{src:at.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),y.jsx("div",{style:{flex:1,marginLeft:10},children:y.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:at.description})}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const gt=B.filter(ie=>ie.id!==at.id);G(gt),await P({videos:gt})}},style:ce.delBtn,children:""})]},at.id))})]})})]})}const kt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ce={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},_t={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Vo={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},xN=(n,t)=>{const[e,r]=H.useState(n||[]),[o,u]=H.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[c,p]=H.useState(0),[m,v]=H.useState({}),[b,f]=H.useState([]),[_,T]=H.useState([]),[E,R]=H.useState([]),[M,j]=H.useState([]),[N,B]=H.useState([]),[G,tt]=H.useState([]),[et,V]=H.useState(""),[C,I]=H.useState(""),P=H.useMemo(()=>{const W=Date.now();return e.filter(ot=>ot.lastActive&&W-ot.lastActive<6e4)},[e]);return H.useEffect(()=>{(async()=>{const ot=JSON.parse(localStorage.getItem("users")||"[]");if(ot.length!==0){for(const O of ot)if(O.id)try{const q=Re(Qt,"users",O.id);(await Fi(q)).exists()||await Fo(q,O,{merge:!0})}catch(q){console.error(" :",q)}}})()},[]),H.useEffect(()=>{const W=ps(Rn(Qt,"users"),Tt=>{const At=Tt.docs.map(wt=>({id:wt.id,...wt.data()}));At.length>0&&(At.sort((wt,ne)=>(ne.lastActive||0)-(wt.lastActive||0)),r(At),t&&t(At))}),ot=ps(Rn(Qt,"event_manipulation"),Tt=>{const At={};Tt.forEach(wt=>{At[wt.id]=wt.data().winner||wt.data().items}),v(At)}),O=ps(Vr(Rn(Qt,"event_bets"),Vf("round","desc"),Xm(100)),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),At.length>0&&T(At)}),q=ps(Vr(Rn(Qt,"deposit_requests"),Vf("timestamp","desc")),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),R(At)}),rt=ps(Vr(Rn(Qt,"withdraw_requests"),Vf("timestamp","desc")),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),j(At)}),pt=ps(Vr(Rn(Qt,"finance_history"),Vf("completedAt","desc"),Xm(50)),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),B(At)});tt(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const vt=JSON.parse(localStorage.getItem("event_total_history")||"[]");f(vt.sort((Tt,At)=>At.round-Tt.round));const St=setInterval(()=>{const At=Date.now()-Vo.START_TIME,wt=Vo.BASE_ROUND+Math.floor(At/(Vo.ROUND_DURATION*1e3)),ne=Vo.ROUND_DURATION*1e3-At%(Vo.ROUND_DURATION*1e3);let Ee=Math.floor(ne/1e3);Ee>=Vo.ROUND_DURATION&&(Ee=0),u({currentRound:wt,timeLeft:Ee,isDrawing:Ee<=5}),p(nn=>nn===0?wt+1:nn)},1e3);return()=>{W(),ot(),O(),q(),rt(),pt(),clearInterval(St)}},[r]),{users:e,currentInfo:o,targetRound:c,setTargetRound:p,queue:m,deleteQueue:async W=>{try{await om(Re(Qt,"event_manipulation",String(W)));const ot={...m};delete ot[W],v(ot)}catch{alert(" ")}},gameHistory:b,sponsorships:_,activeUsers:P,depositRequests:E,withdrawRequests:M,financeHistory:N,approveDeposit:async W=>{if(window.confirm(`${W.userId} ${W.amount.toLocaleString()} DIA  ?`))try{const ot=Re(Qt,"users",W.userId),O=await Fi(ot),rt=(O.exists()&&O.data().diamond||0)+W.amount;await Hi(ot,{diamond:rt}),await $o(Rn(Qt,"finance_history"),{...W,type:"",status:"",completedAt:new Date().toISOString()}),await om(Re(Qt,"deposit_requests",W.id)),alert("  !")}catch(ot){alert(" : "+ot.message)}},approveWithdraw:async W=>{if(window.confirm(`${W.userId}  () ?`))try{const ot=Re(Qt,"users",W.userId),O=await Fi(ot),q=O.exists()&&O.data().diamond||0;if(q<W.amount&&!window.confirm(`[]  (${q}).  ?`))return;const rt=q-W.amount;await Hi(ot,{diamond:rt}),await $o(Rn(Qt,"finance_history"),{...W,type:"",status:"",completedAt:new Date().toISOString()}),await om(Re(Qt,"withdraw_requests",W.id)),alert("  !")}catch(ot){alert(" : "+ot.message)}},agents:G,newAgentName:et,setNewAgentName:V,newAgentCode:C,setNewAgentCode:I,addAgent:()=>{if(!et)return;const W=[...G,{name:et,code:C,id:Date.now()}];tt(W),localStorage.setItem("daisy_agents",JSON.stringify(W)),V(""),I("")},handleApplyManipulation:async W=>{if(!W)return alert(" .");try{return await Fo(Re(Qt,"event_manipulation",String(c)),{winner:W,updatedAt:new Date().toISOString()}),v({...m,[c]:W}),alert(`[${c}]  [${W}] !`),!0}catch(ot){return alert(": "+ot.message),!1}},updateFullUserInfo:async(W,ot,O,q)=>{const rt=parseInt(ot);if(isNaN(rt))return alert(" .");if(window.confirm(`[${W}]  ?`))try{await Hi(Re(Qt,"users",W),{diamond:rt,refCode:O||"",referral:q||""}),alert(`[${W}]  `)}catch(pt){alert(" : "+pt.message)}},handleChangeUserPassword:async W=>{const ot=window.prompt(`[${W}]   :`);if(ot)try{await Hi(Re(Qt,"users",W),{password:ot}),alert("  ")}catch(O){alert(" : "+O.message)}},handleChangeAdminPassword:async()=>{const W=window.prompt(" ' (game)'   :");if(W)try{await Fo(Re(Qt,"settings","global"),{gamePw:W},{merge:!0}),localStorage.setItem("daisy_game_password",W),alert(`  : ${W}`)}catch(ot){alert(" : "+ot.message)}}}},TN=({depositRequests:n,withdrawRequests:t,approveDeposit:e,approveWithdraw:r})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:" /  "}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),y.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>e(o),style:_t.giantBtn,children:""})})]},o.id))})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),y.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>r(o),style:{..._t.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),SN=({financeHistory:n})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  /  "}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),y.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),y.jsx("td",{children:y.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),y.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),y.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),AN=({currentInfo:n,targetRound:t,setTargetRound:e,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,p]=H.useState(null);return y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"   "}),y.jsxs("div",{style:_t.monitorBox,children:[y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[n.currentRound,""]})]}),y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]}),y.jsxs("div",{children:[": ",y.jsx("span",{style:{color:n.isDrawing?"#ff3b30":"#00e676"},children:n.isDrawing?"":""})]})]}),y.jsxs("div",{style:{marginTop:30},children:[y.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),y.jsx("input",{type:"number",placeholder:"",value:t,onChange:m=>e(parseInt(m.target.value)),style:_t.adminInput}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[y.jsxs("div",{onClick:()=>p("PLAYER"),style:{..._t.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"PLAYER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),y.jsxs("div",{onClick:()=>p("TIE"),style:{..._t.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"TIE"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),y.jsxs("div",{onClick:()=>p("BANKER"),style:{..._t.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"BANKER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),y.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(m=>{m&&p(null)})},style:{..._t.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5,marginTop:"20px",width:"100%",padding:"15px",fontSize:"18px",fontWeight:"bold",border:"none",borderRadius:"8px"},children:[t,"  ",y.jsxs("b",{children:["[",c,"]"]})," "]})]}),y.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[y.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?y.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([m,v])=>y.jsxs("div",{style:_t.queueRow,children:[y.jsxs("div",{children:[y.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[m,""]}),y.jsxs("span",{style:{fontWeight:"bold",color:v==="PLAYER"?"#4d94ff":v==="BANKER"?"#ff4d4d":"#00e676"},children:[v," WIN"]})]}),y.jsx("button",{onClick:()=>o(m),style:_t.delBtn,children:""})]},m))]})]})},EN=({users:n,updateFullUserInfo:t,handleChangeUserPassword:e})=>{const[r,o]=H.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("span",{style:{fontSize:24},children:""}),y.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:_t.searchInputField})]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:u.map(c=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?y.jsx("span",{style:{color:"#0f0"},children:""}):y.jsx("span",{style:{color:"#444"},children:""})}),y.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),y.jsxs("td",{style:{color:"#ffb347"},children:[" ",(c.diamond||0).toLocaleString()]}),y.jsx("td",{children:y.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:_t.giantInput})}),y.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[y.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:_t.giantBtn,children:""}),y.jsx("button",{onClick:()=>e(c.id),style:{..._t.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},wN=({agents:n,users:t,newAgentName:e,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:p})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("input",{placeholder:"",value:e,onChange:m=>r(m.target.value),style:_t.giantInput}),y.jsx("input",{placeholder:"",value:o,onChange:m=>u(m.target.value),style:_t.giantInput}),y.jsx("button",{onClick:c,style:_t.giantBtn,children:""})]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(m=>{const v=t.filter(b=>b.referral===m.code);return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347",fontSize:18},children:m.name}),y.jsx("td",{children:m.code}),y.jsx("td",{style:{color:"#00ff00"},children:v.length}),y.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:v.map(b=>b.id).join(", ")}),y.jsx("td",{children:y.jsx("button",{onClick:()=>{const b=n.filter(f=>f.id!==m.id);p(b),localStorage.setItem("daisy_agents",JSON.stringify(b))},style:_t.delBtn,children:""})})]},m.id)})})]})]}),CN=({users:n,updateFullUserInfo:t})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:" "}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(e=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:e.id}),y.jsx("td",{children:y.jsx("input",{id:`rc-${e.id}`,defaultValue:e.refCode||"",style:_t.giantInput})}),y.jsx("td",{children:y.jsx("input",{id:`rf-${e.id}`,defaultValue:e.referral||"",style:{..._t.giantInput,color:"#0ff"}})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>t(e.id,e.diamond,document.getElementById(`rc-${e.id}`).value,document.getElementById(`rf-${e.id}`).value),style:_t.giantBtn,children:""})})]},e.id))})]})]}),RN=({gameHistory:n})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),y.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,") ",t.isPP&&y.jsx("small",{style:{color:"#4d94ff"},children:"PP"})," ",t.isBP&&y.jsx("small",{style:{color:"#ff4d4d"},children:"BP"})]})]},t.round))})]})]}),IN=({sponsorships:n})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"   "}),y.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map((t,e)=>{const r=t.bets?Object.entries(t.bets).map(([o,u])=>`${o.substring(0,1)}:${(u/1e3).toFixed(1)}k`).join(" "):Array.isArray(t.picks)?t.picks.join(", "):t.pick;return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347"},children:t.round}),y.jsx("td",{children:y.jsx("b",{children:t.userId})}),y.jsx("td",{style:{color:"#aaa",fontSize:"12px"},children:r}),y.jsx("td",{style:{color:"#fff",fontWeight:"bold"},children:t.betAmount?.toLocaleString()}),y.jsx("td",{children:t.result?y.jsx("span",{style:{color:"#0f0"},children:t.result}):y.jsx("span",{style:{color:"#888"},children:""})})]},e)})})]})})]});function DN({users:n,setUsers:t,onExit:e}){const[r,o]=H.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:p,queue:m,deleteQueue:v,gameHistory:b,sponsorships:f,activeUsers:_,depositRequests:T,withdrawRequests:E,financeHistory:R,approveDeposit:M,approveWithdraw:j,agents:N,setAgents:B,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:V,addAgent:C,handleApplyManipulation:I,updateFullUserInfo:P,handleChangeUserPassword:L,handleChangeAdminPassword:U}=xN(n,t);return y.jsxs("div",{style:_t.container,children:[y.jsxs("aside",{style:_t.sidebar,children:[y.jsx("h2",{style:_t.title,children:"CASINO MASTER"}),y.jsxs("div",{style:_t.onlineBadge,children:[y.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),y.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",_.length,""]})]}),y.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?_t.menuActive:_t.menu,children:[" /  ",y.jsx("span",{style:_t.countTag,children:T.length+E.length})]}),y.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),y.jsx("div",{onClick:()=>o("event"),style:r==="event"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("users"),style:r==="users"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("history"),style:r==="history"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:y.jsx("button",{onClick:U,style:{..._t.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),y.jsx("button",{onClick:e,style:_t.exitBtn,children:" "})]}),y.jsxs("main",{style:_t.main,children:[r==="requests"&&y.jsx(TN,{depositRequests:T,withdrawRequests:E,approveDeposit:M,approveWithdraw:j}),r==="finance"&&y.jsx(SN,{financeHistory:R}),r==="event"&&y.jsx(AN,{currentInfo:u,targetRound:c,setTargetRound:p,queue:m,deleteQueue:v,handleApplyManipulation:I}),r==="users"&&y.jsx(EN,{users:n,updateFullUserInfo:P,handleChangeUserPassword:L}),r==="referrals"&&y.jsx(CN,{users:n,updateFullUserInfo:P}),r==="agents"&&y.jsx(wN,{agents:N,setAgents:B,users:n,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:V,addAgent:C}),r==="history"&&y.jsx(RN,{gameHistory:b}),r==="sponsorships"&&y.jsx(IN,{sponsorships:f})]})]})}const VN=new BroadcastChannel("daisy_global_channel"),gT=[""," "," ","","","","","","",""],yT=["","","","",""],cn=(n,t)=>{try{const e=localStorage.getItem(n);if(!e)return t;const r=JSON.parse(e);return r===null?t:r}catch{return t}},fn=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(e){e.name==="QuotaExceededError"&&alert("Storage quota exceeded!")}},vT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:"",input_id_pw:"  .",id_exists:"  .",signup_ok:" !",login_fail:"  ."},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE",input_id_pw:"Please enter ID and Password.",id_exists:"ID already exists.",signup_ok:"Sign up successful!",login_fail:"Login Failed"}};function jN(){const[n,t]=H.useState(()=>cn("lang","ko")),[e,r]=H.useState(()=>cn("loggedIn",!1)),[o,u]=H.useState(()=>cn("isAdmin",!1)),[c,p]=H.useState(()=>cn("isGuest",!1)),[m,v]=H.useState(()=>cn("users",[])),[b,f]=H.useState(()=>cn("currentUser",null)),[_,T]=H.useState(null),[E,R]=H.useState(0),[M,j]=H.useState(!1),[N,B]=H.useState(()=>cn("adminPw","123456")),[G,tt]=H.useState(()=>cn("gamePw","1234")),[et,V]=H.useState(()=>cn("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[C,I]=H.useState(!0),[P,L]=H.useState(()=>cn("members",[])),[U,k]=H.useState(()=>cn("slideImages",[])),[Ct,Ft]=H.useState(()=>cn("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[Q,st]=H.useState(()=>cn("videoURL",null)),[X,W]=H.useState(()=>cn("videos",[])),[ot,O]=H.useState(()=>cn("logo",null)),[q,rt]=H.useState(()=>cn("logoSize",140)),[pt,vt]=H.useState(()=>cn("logoPos",{x:0,y:0})),[St,Tt]=H.useState(()=>cn("innerLogo",null)),[At,wt]=H.useState("dashboard"),ne=H.useMemo(()=>vT[n]||vT.ko,[n]);H.useEffect(()=>{const Nt=ps(Re(Qt,"settings","global"),at=>{if(at.exists()){const gt=at.data();gt.hero&&Ft(gt.hero),gt.videoURL!==void 0&&st(gt.videoURL),gt.logo!==void 0&&O(gt.logo),gt.logoSize&&rt(gt.logoSize),gt.logoPos&&vt(gt.logoPos),gt.members&&L(gt.members),gt.slideImages&&k(gt.slideImages),gt.videos&&W(gt.videos),gt.innerLogo!==void 0&&Tt(gt.innerLogo),gt.adminPassword?B(gt.adminPassword):gt.adminPw&&B(gt.adminPw),gt.gamePw&&tt(gt.gamePw),gt.telegramLink&&V(gt.telegramLink)}});return()=>Nt()},[]);const Ee=async Nt=>{try{const at={hero:Ct,videoURL:Q,logo:ot,logoSize:q,logoPos:pt,members:P,slideImages:U,videos:X,innerLogo:St,adminPw:N,gamePw:G,telegramLink:et,...Nt};return await Fo(Re(Qt,"settings","global"),at,{merge:!0}),console.log(" Server Sync Complete"),!0}catch(at){return console.error(" Sync Failed:",at),!1}},nn=async()=>await Ee({}),Pe=H.useCallback((Nt,at,gt,ie)=>{v(Bt=>Bt.map(te=>te.id===Nt?{...te,diamond:at,refCode:gt,referral:ie}:te)),f(Bt=>Bt?.id===Nt?{...Bt,diamond:at,refCode:gt,referral:ie}:Bt)},[]);H.useEffect(()=>{VN.onmessage=at=>{const{type:gt,userId:ie,point:Bt,refCode:te,referral:de}=at.data||{};(gt==="USER_UPDATE"||gt==="POINT_UPDATE")&&ie&&Pe(ie,Bt,te,de)};const Nt=at=>{const{userId:gt,point:ie,refCode:Bt,referral:te}=at.detail||{};gt&&Pe(gt,ie,Bt,te)};return window.addEventListener("user_point_update",Nt),()=>window.removeEventListener("user_point_update",Nt)},[Pe]),H.useEffect(()=>{fn("lang",n),fn("loggedIn",e),fn("isAdmin",o),fn("isGuest",c),fn("users",m),fn("currentUser",b),fn("members",P),fn("hero",Ct),fn("logo",ot),fn("logoSize",q),fn("logoPos",pt),fn("slideImages",U),fn("videoURL",Q),fn("videos",X),fn("innerLogo",St),fn("adminPw",N),fn("gamePw",G),fn("telegramLink",et)},[n,e,o,c,m,b,Ct,ot,q,pt,P,U,Q,X,St,N,G,et]);const hn=async(Nt,at)=>{let gt=N,ie=G;try{const Bt=await Fi(Re(Qt,"settings","global"));if(Bt.exists()){const te=Bt.data();te.adminPw&&(gt=te.adminPw),te.gamePw&&(ie=te.gamePw),B(gt),tt(ie)}}catch{console.error("Setting Load Fail")}if(Nt==="game")if(at===ie){j(!0),r(!0);return}else return alert("   .");if(Nt==="admin")if(at===gt){u(!0),r(!0),f({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),wt("dashboard");return}else return alert("   .");try{const Bt=Re(Qt,"users",Nt),te=await Fi(Bt);if(te.exists()){const de=te.data();de.password===at?(f(de),r(!0),p(!1),Hi(Bt,{lastActive:Date.now()})):alert(ne.login_fail||"  .")}else{const de=m.find(Gi=>Gi.id===Nt&&Gi.pw===at);de?(await Fo(Re(Qt,"users",Nt),de,{merge:!0}),f(de),r(!0),p(!1)):alert(ne.login_fail||"  .")}}catch(Bt){console.error(Bt),alert("Login Error")}},oi=async(Nt,at,gt,ie)=>{if(!Nt||!at)return alert(ne.input_id_pw||"ID/PW Required");try{const Bt=Re(Qt,"users",Nt);if((await Fi(Bt)).exists()){alert(ne.id_exists||"ID exists");return}const de={id:Nt,password:at,nickname:gt||Nt,referral:ie||"",diamond:0,rewards:0,lastActive:Date.now(),createdAt:new Date().toISOString()};await Fo(Bt,de),v(Gi=>[...Gi,de]),alert(ne.signup_ok||"Welcome!")}catch(Bt){console.error(Bt),alert("Signup Error")}},An=()=>{r(!1),u(!1),p(!1),j(!1),f(null)},je=(Nt,at)=>{T(Nt),R(at)};if(M)return y.jsx(DN,{users:m,setUsers:v,onExit:An});const li=e&&b,Yt=!li||o&&At==="landing";return y.jsxs("div",{style:{...Aa.app,height:"100vh",overflow:"hidden"},children:[C&&!o&&li&&!Yt&&y.jsx("div",{style:Aa.popupOverlay,children:y.jsxs("div",{style:Aa.popupContent,children:[y.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),y.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),y.jsx("button",{onClick:()=>I(!1),style:Aa.popupBtn,children:ne.close})]})}),Yt?y.jsx("div",{style:{height:"100%",overflowY:"auto"},children:y.jsx(hj,{t:ne,lang:n,users:m,setUsers:v,hero:Ct,videoURL:Q,logo:ot,logoSize:q,logoPos:pt,styles:Aa,isAdmin:o,setLang:t,onLogin:hn,onSignup:oi,onGuestLogin:()=>{f({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),p(!0)},syncToFirebase:Ee})}):y.jsx(yN,{user:b,onUpdatePoint:Nt=>Pe(b.id,Nt,b.refCode,b.referral),appAvatarImage:_,appAvatarIdx:E,onAvatarChange:je,t:ne,lang:n,isGuest:c,members:P,regions:gT,slideImages:U,videos:X,videoCategories:yT,innerLogo:St,telegramLink:et,onLogout:An,dashStyles:MN}),o&&y.jsx(bN,{adminPreviewMode:At,setAdminPreviewMode:wt,hero:Ct,setHero:Ft,setVideoURL:st,videoURL:Q,logo:ot,setLogo:O,logoSize:q,setLogoSize:rt,logoPos:pt,setLogoPos:vt,members:P,setMembers:L,regions:gT,slideImages:U,setSlideImages:k,videos:X,setVideos:W,videoCategories:yT,innerLogo:St,setInnerLogo:Tt,onExit:An,styles:Aa,adminPw:N,setAdminPw:B,telegramLink:et,setTelegramLink:V,openIndependent:()=>j(!0),saveToFirebase:nn,syncToFirebase:Ee}),!o&&Yt&&y.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:y.jsx("button",{style:Aa.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Aa={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},MN={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};K2.createRoot(document.getElementById("root")).render(y.jsx(H.StrictMode,{children:y.jsx(jN,{})}));

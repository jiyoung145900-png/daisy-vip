(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var zp={exports:{}},su={};var l1;function M2(){if(l1)return su;l1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return su.Fragment=t,su.jsx=i,su.jsxs=i,su}var u1;function N2(){return u1||(u1=1,zp.exports=M2()),zp.exports}var m=N2(),Up={exports:{}},Lt={};var c1;function O2(){if(c1)return Lt;c1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,F={};function X(O,J,at){this.props=O,this.context=J,this.refs=F,this.updater=at||N}X.prototype.isReactComponent={},X.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},X.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=X.prototype;function q(O,J,at){this.props=O,this.context=J,this.refs=F,this.updater=at||N}var G=q.prototype=new L;G.constructor=q,B(G,X.prototype),G.isPureReactComponent=!0;var tt=Array.isArray;function et(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(O,J,at){var ht=at.ref;return{$$typeof:n,type:O,key:J,ref:ht!==void 0?ht:null,props:at}}function j(O,J){return w(O.type,J,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return J[at]})}var I=/\/+/g;function At(O,J){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):J.toString(36)}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(et,et):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function M(O,J,at,ht,gt){var dt=typeof O;(dt==="undefined"||dt==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(dt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case n:case t:_t=!0;break;case v:return _t=O._init,M(_t(O._payload),J,at,ht,gt)}}if(_t)return gt=gt(O),_t=ht===""?"."+At(O,0):ht,tt(gt)?(at="",_t!=null&&(at=_t.replace(I,"$&/")+"/"),M(gt,J,at,"",function(vn){return vn})):gt!=null&&(V(gt)&&(gt=j(gt,at+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+_t)),J.push(gt)),1;_t=0;var se=ht===""?".":ht+":";if(tt(O))for(var Xt=0;Xt<O.length;Xt++)ht=O[Xt],dt=se+At(ht,Xt),_t+=M(ht,J,at,dt,gt);else if(Xt=D(O),typeof Xt=="function")for(O=Xt.call(O),Xt=0;!(ht=O.next()).done;)ht=ht.value,dt=se+At(ht,Xt++),_t+=M(ht,J,at,dt,gt);else if(dt==="object"){if(typeof O.then=="function")return M(Ft(O),J,at,ht,gt);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _t}function K(O,J,at){if(O==null)return O;var ht=[],gt=0;return M(O,ht,"","",function(dt){return J.call(at,dt,gt++)}),ht}function $(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},vt={map:K,forEach:function(O,J,at){K(O,function(){J.apply(this,arguments)},at)},count:function(O){var J=0;return K(O,function(){J++}),J},toArray:function(O){return K(O,function(J){return J})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Lt.Activity=b,Lt.Children=vt,Lt.Component=X,Lt.Fragment=i,Lt.Profiler=o,Lt.PureComponent=q,Lt.StrictMode=r,Lt.Suspense=g,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Lt.cache=function(O){return function(){return O.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(O,J,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=B({},O.props),gt=O.key;if(J!=null)for(dt in J.key!==void 0&&(gt=""+J.key),J)!A.call(J,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&J.ref===void 0||(ht[dt]=J[dt]);var dt=arguments.length-2;if(dt===1)ht.children=at;else if(1<dt){for(var _t=Array(dt),se=0;se<dt;se++)_t[se]=arguments[se+2];ht.children=_t}return w(O.type,gt,ht)},Lt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Lt.createElement=function(O,J,at){var ht,gt={},dt=null;if(J!=null)for(ht in J.key!==void 0&&(dt=""+J.key),J)A.call(J,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(gt[ht]=J[ht]);var _t=arguments.length-2;if(_t===1)gt.children=at;else if(1<_t){for(var se=Array(_t),Xt=0;Xt<_t;Xt++)se[Xt]=arguments[Xt+2];gt.children=se}if(O&&O.defaultProps)for(ht in _t=O.defaultProps,_t)gt[ht]===void 0&&(gt[ht]=_t[ht]);return w(O,dt,gt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(O){return{$$typeof:d,render:O}},Lt.isValidElement=V,Lt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:$}},Lt.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Lt.startTransition=function(O){var J=R.T,at={};R.T=at;try{var ht=O(),gt=R.S;gt!==null&&gt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(et,pt)}catch(dt){pt(dt)}finally{J!==null&&at.types!==null&&(J.types=at.types),R.T=J}},Lt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Lt.use=function(O){return R.H.use(O)},Lt.useActionState=function(O,J,at){return R.H.useActionState(O,J,at)},Lt.useCallback=function(O,J){return R.H.useCallback(O,J)},Lt.useContext=function(O){return R.H.useContext(O)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(O,J){return R.H.useDeferredValue(O,J)},Lt.useEffect=function(O,J){return R.H.useEffect(O,J)},Lt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Lt.useId=function(){return R.H.useId()},Lt.useImperativeHandle=function(O,J,at){return R.H.useImperativeHandle(O,J,at)},Lt.useInsertionEffect=function(O,J){return R.H.useInsertionEffect(O,J)},Lt.useLayoutEffect=function(O,J){return R.H.useLayoutEffect(O,J)},Lt.useMemo=function(O,J){return R.H.useMemo(O,J)},Lt.useOptimistic=function(O,J){return R.H.useOptimistic(O,J)},Lt.useReducer=function(O,J,at){return R.H.useReducer(O,J,at)},Lt.useRef=function(O){return R.H.useRef(O)},Lt.useState=function(O){return R.H.useState(O)},Lt.useSyncExternalStore=function(O,J,at){return R.H.useSyncExternalStore(O,J,at)},Lt.useTransition=function(){return R.H.useTransition()},Lt.version="19.2.3",Lt}var f1;function gg(){return f1||(f1=1,Up.exports=O2()),Up.exports}var U=gg(),Fp={exports:{}},ru={},qp={exports:{}},Hp={};var h1;function P2(){return h1||(h1=1,(function(n){function t(M,K){var $=M.length;M.push(K);t:for(;0<$;){var pt=$-1>>>1,vt=M[pt];if(0<o(vt,K))M[pt]=K,M[$]=vt,$=pt;else break t}}function i(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],$=M.pop();if($!==K){M[0]=$;t:for(var pt=0,vt=M.length,O=vt>>>1;pt<O;){var J=2*(pt+1)-1,at=M[J],ht=J+1,gt=M[ht];if(0>o(at,$))ht<vt&&0>o(gt,at)?(M[pt]=gt,M[ht]=$,pt=ht):(M[pt]=at,M[J]=$,pt=J);else if(ht<vt&&0>o(gt,$))M[pt]=gt,M[ht]=$,pt=ht;else break t}}return K}function o(M,K){var $=M.sortIndex-K.sortIndex;return $!==0?$:M.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],y=[],v=1,b=null,S=3,D=!1,N=!1,B=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var K=i(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=M)r(y),K.sortIndex=K.expirationTime,t(g,K);else break;K=i(y)}}function tt(M){if(B=!1,G(M),!N)if(i(g)!==null)N=!0,et||(et=!0,k());else{var K=i(y);K!==null&&Ft(tt,K.startTime-M)}}var et=!1,R=-1,A=5,w=-1;function j(){return F?!0:!(n.unstable_now()-w<A)}function V(){if(F=!1,et){var M=n.unstable_now();w=M;var K=!0;try{t:{N=!1,B&&(B=!1,L(R),R=-1),D=!0;var $=S;try{e:{for(G(M),b=i(g);b!==null&&!(b.expirationTime>M&&j());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,S=b.priorityLevel;var vt=pt(b.expirationTime<=M);if(M=n.unstable_now(),typeof vt=="function"){b.callback=vt,G(M),K=!0;break e}b===i(g)&&r(g),G(M)}else r(g);b=i(g)}if(b!==null)K=!0;else{var O=i(y);O!==null&&Ft(tt,O.startTime-M),K=!1}}break t}finally{b=null,S=$,D=!1}K=void 0}}finally{K?k():et=!1}}}var k;if(typeof q=="function")k=function(){q(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,At=I.port2;I.port1.onmessage=V,k=function(){At.postMessage(null)}}else k=function(){X(V,0)};function Ft(M,K){R=X(function(){M(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(M){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var $=S;S=K;try{return M()}finally{S=$}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=S;S=M;try{return K()}finally{S=$}},n.unstable_scheduleCallback=function(M,K,$){var pt=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pt+$:pt):$=pt,M){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=$+vt,M={id:v++,callback:K,priorityLevel:M,startTime:$,expirationTime:vt,sortIndex:-1},$>pt?(M.sortIndex=$,t(y,M),i(g)===null&&M===i(y)&&(B?(L(R),R=-1):B=!0,Ft(tt,$-pt))):(M.sortIndex=vt,t(g,M),N||D||(N=!0,et||(et=!0,k()))),M},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(M){var K=S;return function(){var $=S;S=K;try{return M.apply(this,arguments)}finally{S=$}}}})(Hp)),Hp}var d1;function L2(){return d1||(d1=1,qp.exports=P2()),qp.exports}var Gp={exports:{}},_n={};var p1;function k2(){if(p1)return _n;p1=1;var n=gg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,v)},_n.flushSync=function(g){var y=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=y,r.p=v,r.d.f()}},_n.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},_n.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},_n.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:D}):v==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},_n.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=d(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},_n.requestFormReset=function(g){r.d.r(g)},_n.unstable_batchedUpdates=function(g,y){return g(y)},_n.useFormState=function(g,y,v){return c.H.useFormState(g,y,v)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.3",_n}var m1;function B2(){if(m1)return Gp.exports;m1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gp.exports=k2(),Gp.exports}var g1;function z2(){if(g1)return ru;g1=1;var n=L2(),t=gg(),i=B2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return g(h),e;if(p===l)return g(h),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=p;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=p;break}if(E===l){_=!0,l=h,a=p;break}E=E.sibling}if(!_){for(E=p.child;E;){if(E===a){_=!0,a=p,l=h;break}if(E===l){_=!0,l=p,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case X:return"Profiler";case F:return"StrictMode";case tt:return"Suspense";case et:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case q:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case G:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return s=e.displayName||null,s!==null?s:At(e.type)||"Memo";case A:s=e._payload,e=e._init;try{return At(e(s))}catch{}}return null}var Ft=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},pt=[],vt=-1;function O(e){return{current:e}}function J(e){0>vt||(e.current=pt[vt],pt[vt]=null,vt--)}function at(e,s){vt++,pt[vt]=e.current,e.current=s}var ht=O(null),gt=O(null),dt=O(null),_t=O(null);function se(e,s){switch(at(dt,s),at(gt,e),at(ht,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Vx(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Vx(s),e=jx(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ht),at(ht,e)}function Xt(){J(ht),J(gt),J(dt)}function vn(e){e.memoizedState!==null&&at(_t,e);var s=ht.current,a=jx(s,e.type);s!==a&&(at(gt,e),at(ht,a))}function zn(e){gt.current===e&&(J(ht),J(gt)),_t.current===e&&(J(_t),tu._currentValue=$)}var Un,xn;function bn(e){if(Un===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Un=s&&s[1]||"",xn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+e+xn}var ii=!1;function Ei(e,s){if(!e||ii)return"";ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(it){var Z=it}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(it){Z=it}e.call(ct.prototype)}}else{try{throw Error()}catch(it){Z=it}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(it){if(it&&Z&&typeof it.stack=="string")return[it.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),_=p[0],E=p[1];if(_&&E){var P=_.split(`
`),W=E.split(`
`);for(h=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;if(l===P.length||h===W.length)for(l=P.length-1,h=W.length-1;1<=l&&0<=h&&P[l]!==W[h];)h--;for(;1<=l&&0<=h;l--,h--)if(P[l]!==W[h]){if(l!==1||h!==1)do if(l--,h--,0>h||P[l]!==W[h]){var st=`
`+P[l].replace(" at new "," at ");return e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",e.displayName)),st}while(1<=l&&0<=h);break}}}finally{ii=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bn(a):""}function Ai(e,s){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==s&&s!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Ei(e.type,!1);case 11:return Ei(e.type.render,!1);case 1:return Ei(e.type,!0);case 31:return bn("Activity");default:return""}}function ys(e){try{var s="",a=null;do s+=Ai(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,rt=n.unstable_cancelCallback,wt=n.unstable_shouldYield,St=n.unstable_requestPaint,te=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,si=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,qh=n.unstable_LowPriority,Ku=n.unstable_IdlePriority,Qu=n.log,Wu=n.unstable_setDisableYieldValue,wi=null,ln=null;function ri(e){if(typeof Qu=="function"&&Wu(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(wi,e)}catch{}}var Me=Math.clz32?Math.clz32:$u,Xu=Math.log,Ua=Math.LN2;function $u(e){return e>>>=0,e===0?32:31-(Xu(e)/Ua|0)|0}var Ui=256,Kr=262144,Be=4194304;function Fi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,p=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?h=Fi(l):(_&=E,_!==0?h=Fi(_):a||(a=E&~e,a!==0&&(h=Fi(a))))):(E=l&~p,E!==0?h=Fi(E):_!==0?h=Fi(_):a||(a=l&~e,a!==0&&(h=Fi(a)))),h===0?0:s!==0&&s!==h&&(s&p)===0&&(p=h&-h,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:h}function Ci(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Hh(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function Hi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Qr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gh(e,s,a,l,h,p){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,P=e.expirationTimes,W=e.hiddenUpdates;for(a=_&~a;0<a;){var st=31-Me(a),ct=1<<st;E[st]=0,P[st]=-1;var Z=W[st];if(Z!==null)for(W[st]=null,st=0;st<Z.length;st++){var it=Z[st];it!==null&&(it.lane&=-536870913)}a&=~ct}l!==0&&Wr(e,l,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(_&~s))}function Wr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Me(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function rl(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Me(a),h=1<<l;h&s|e[l]&s&&(e[l]|=s),a&=~h}}function al(e,s){var a=s&-s;return a=(a&42)!==0?1:Xr(a),(a&(e.suspendedLanes|s))!==0?0:a}function Xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ju(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:e1(e.type))}function Ri(e,s){var a=K.p;try{return K.p=e,s()}finally{K.p=a}}var Ii=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ii,en="__reactProps$"+Ii,Gi="__reactContainer$"+Ii,Fa="__reactEvents$"+Ii,Yh="__reactListeners$"+Ii,tc="__reactHandles$"+Ii,ec="__reactResources$"+Ii,Yi="__reactMarker$"+Ii;function qa(e){delete e[ze],delete e[en],delete e[Fa],delete e[Yh],delete e[tc]}function Ki(e){var s=e[ze];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Gi]||a[ze]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Bx(e);e!==null;){if(a=e[ze])return a;e=Bx(e)}return s}e=a,a=e.parentNode}return null}function ai(e){if(e=e[ze]||e[Gi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Fn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Qi(e){var s=e[ec];return s||(s=e[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(e){e[Yi]=!0}var ol=new Set,ll={};function Wi(e,s){Xi(e,s),Xi(e+"Capture",s)}function Xi(e,s){for(ll[e]=s,e=0;e<s.length;e++)ol.add(s[e])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},fl={};function nc(e){return re.call(fl,e)?!0:re.call(cl,e)?!1:ul.test(e)?fl[e]=!0:(cl[e]=!0,!1)}function Ha(e,s,a){if(nc(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function qn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Fe(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gs(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hl(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,p.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function fe(e){if(!e._valueTracker){var s=Gs(e)?"checked":"value";e._valueTracker=hl(e,s,""+e[s])}}function $r(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Gs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zr=/[\n"\\]/g;function Dn(e){return e.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ga(e,s,a,l,h,p,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+nn(s)):e.value!==""+nn(s)&&(e.value=""+nn(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?dl(e,_,nn(s)):a!=null?dl(e,_,nn(a)):l!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function ic(e,s,a,l,h,p,_,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){fe(e);return}a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,E||s===e.value||(e.value=s),e.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),fe(e)}function dl(e,s,a){s==="number"&&$i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ys(e,s,a,l){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function sc(e,s,a){if(s!=null&&(s=""+nn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+nn(a):""}function Ks(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),fe(e)}function Vn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||rc.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function ml(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&pl(e,h,l)}else for(var p in s)s.hasOwnProperty(p)&&pl(e,p,s[p])}function Ya(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(e){return Qs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Di(){}var gl=null;function oi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ws=null,Zi=null;function Jr(e){var s=ai(e);if(s&&(e=s.stateNode)){var a=e[en]||null;t:switch(e=s.stateNode,s.type){case"input":if(Ga(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var h=l[en]||null;if(!h)throw Error(r(90));Ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&$r(l)}break t;case"textarea":sc(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ys(e,!!a.multiple,s,!1)}}}var Qa=!1;function Xs(e,s,a){if(Qa)return e(s,a);Qa=!0;try{var l=e(s);return l}finally{if(Qa=!1,(Ws!==null||Zi!==null)&&(Jc(),Ws&&(s=Ws,e=Zi,Zi=Ws=null,Jr(s),e)))for(s=0;s<e.length;s++)Jr(e[s])}}function Vi(e,s){var a=e.stateNode;if(a===null)return null;var l=a[en]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(li)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){ta=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{ta=!1}var Ji=null,yl=null,ea=null;function vl(){if(ea)return ea;var e,s=yl,a=s.length,l,h="value"in Ji?Ji.value:Ji.textContent,p=h.length;for(e=0;e<a&&s[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===h[p-l];l++);return ea=h.slice(e,1<l?1-l:void 0)}function na(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function ji(){return!1}function un(e){function s(a,l,h,p,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?xs:ji,this.isPropagationStopped=ji,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),s}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=un(bs),$s=b({},bs,{view:0,detail:0}),xl=un($s),Zs,Wa,es,Xa=b({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(Zs=e.screenX-es.screenX,Wa=e.screenY-es.screenY):Wa=Zs=0,es=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),bl=un(Xa),ia=b({},Xa,{dataTransfer:0}),oc=un(ia),lc=b({},$s,{relatedTarget:0}),sa=un(lc),_l=b({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=un(_l),$a=b({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cc=un($a),fc=b({},bs,{data:0}),ns=un(fc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=pc[e])?!!s[e]:!1}function Js(){return mc}var wn=b({},$s,{key:function(e){if(e.key){var s=hc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gc=un(wn),yc=b({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=un(yc),f=b({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),x=un(f),T=b({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=un(T),Y=b({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=un(Y),mt=b({},bs,{newState:0,oldState:0}),Bt=un(mt),Ne=[9,13,27,32],oe=li&&"CompositionEvent"in window,Ee=null;li&&"documentMode"in document&&(Ee=document.documentMode);var ui=li&&"TextEvent"in window&&!Ee,is=li&&(!oe||Ee&&8<Ee&&11>=Ee),Mi=" ",Ni=!1;function ra(e,s){switch(e){case"keyup":return Ne.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function iw(e,s){switch(e){case"compositionend":return Za(s);case"keypress":return s.which!==32?null:(Ni=!0,Mi);case"textInput":return e=s.data,e===Mi&&Ni?null:e;default:return null}}function sw(e,s){if(Ja)return e==="compositionend"||!oe&&ra(e,s)?(e=vl(),ea=yl=Ji=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!rw[e.type]:s==="textarea"}function qy(e,s,a,l){Ws?Zi?Zi.push(l):Zi=[l]:Ws=l,s=of(s,"onChange"),0<s.length&&(a=new ts("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Tl=null,Sl=null;function aw(e){Ax(e,0)}function vc(e){var s=Fn(e);if($r(s))return e}function Hy(e,s){if(e==="change")return s}var Gy=!1;if(li){var Kh;if(li){var Qh="oninput"in document;if(!Qh){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Qh=typeof Yy.oninput=="function"}Kh=Qh}else Kh=!1;Gy=Kh&&(!document.documentMode||9<document.documentMode)}function Ky(){Tl&&(Tl.detachEvent("onpropertychange",Qy),Sl=Tl=null)}function Qy(e){if(e.propertyName==="value"&&vc(Sl)){var s=[];qy(s,Sl,e,oi(e)),Xs(aw,s)}}function ow(e,s,a){e==="focusin"?(Ky(),Tl=s,Sl=a,Tl.attachEvent("onpropertychange",Qy)):e==="focusout"&&Ky()}function lw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vc(Sl)}function uw(e,s){if(e==="click")return vc(s)}function cw(e,s){if(e==="input"||e==="change")return vc(s)}function fw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Hn=typeof Object.is=="function"?Object.is:fw;function El(e,s){if(Hn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!re.call(s,h)||!Hn(e[h],s[h]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xy(e,s){var a=Wy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wy(a)}}function $y(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?$y(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Zy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=$i(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=$i(e.document)}return s}function Wh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var hw=li&&"documentMode"in document&&11>=document.documentMode,to=null,Xh=null,Al=null,$h=!1;function Jy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||to==null||to!==$i(l)||(l=to,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&El(Al,l)||(Al=l,l=of(Xh,"onSelect"),0<l.length&&(s=new ts("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=to)))}function aa(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var eo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Zh={},t0={};li&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function oa(e){if(Zh[e])return Zh[e];if(!eo[e])return e;var s=eo[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in t0)return Zh[e]=s[a];return e}var e0=oa("animationend"),n0=oa("animationiteration"),i0=oa("animationstart"),dw=oa("transitionrun"),pw=oa("transitionstart"),mw=oa("transitioncancel"),s0=oa("transitionend"),r0=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Oi(e,s){r0.set(e,s),Wi(s,[e])}var xc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],no=0,td=0;function bc(){for(var e=no,s=td=no=0;s<e;){var a=ci[s];ci[s++]=null;var l=ci[s];ci[s++]=null;var h=ci[s];ci[s++]=null;var p=ci[s];if(ci[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}p!==0&&a0(a,h,p)}}function _c(e,s,a,l){ci[no++]=e,ci[no++]=s,ci[no++]=a,ci[no++]=l,td|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ed(e,s,a,l){return _c(e,s,a,l),Tc(e)}function la(e,s){return _c(e,null,null,s),Tc(e)}function a0(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=e.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&s!==null&&(h=31-Me(a),e=p.hiddenUpdates,l=e[h],l===null?e[h]=[s]:l.push(s),s.lane=a|536870912),p):null}function Tc(e){if(50<Kl)throw Kl=0,cp=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var io={};function gw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,s,a,l){return new gw(e,s,a,l)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ts(e,s){var a=e.alternate;return a===null?(a=Gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function o0(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Sc(e,s,a,l,h,p){var _=0;if(l=e,typeof e=="function")nd(e)&&(_=1);else if(typeof e=="string")_=_2(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Gn(31,a,s,h),e.elementType=w,e.lanes=p,e;case B:return ua(a.children,h,p,s);case F:_=8,h|=24;break;case X:return e=Gn(12,a,s,h|2),e.elementType=X,e.lanes=p,e;case tt:return e=Gn(13,a,s,h),e.elementType=tt,e.lanes=p,e;case et:return e=Gn(19,a,s,h),e.elementType=et,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:_=10;break t;case L:_=9;break t;case G:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Gn(_,a,s,h),s.elementType=e,s.type=l,s.lanes=p,s}function ua(e,s,a,l){return e=Gn(7,e,l,s),e.lanes=a,e}function id(e,s,a){return e=Gn(6,e,null,s),e.lanes=a,e}function l0(e){var s=Gn(18,null,null,0);return s.stateNode=e,s}function sd(e,s,a){return s=Gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var u0=new WeakMap;function fi(e,s){if(typeof e=="object"&&e!==null){var a=u0.get(e);return a!==void 0?a:(s={value:e,source:s,stack:ys(s)},u0.set(e,s),s)}return{value:e,source:s,stack:ys(s)}}var so=[],ro=0,Ec=null,wl=0,hi=[],di=0,tr=null,ss=1,rs="";function Ss(e,s){so[ro++]=wl,so[ro++]=Ec,Ec=e,wl=s}function c0(e,s,a){hi[di++]=ss,hi[di++]=rs,hi[di++]=tr,tr=e;var l=ss;e=rs;var h=32-Me(l)-1;l&=~(1<<h),a+=1;var p=32-Me(s)+h;if(30<p){var _=h-h%5;p=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ss=1<<32-Me(s)+h|a<<h|l,rs=p+e}else ss=1<<p|a<<h|l,rs=e}function rd(e){e.return!==null&&(Ss(e,1),c0(e,1,0))}function ad(e){for(;e===Ec;)Ec=so[--ro],so[ro]=null,wl=so[--ro],so[ro]=null;for(;e===tr;)tr=hi[--di],hi[di]=null,rs=hi[--di],hi[di]=null,ss=hi[--di],hi[di]=null}function f0(e,s){hi[di++]=ss,hi[di++]=rs,hi[di++]=tr,ss=s.id,rs=s.overflow,tr=e}var cn=null,_e=null,Wt=!1,er=null,pi=!1,od=Error(r(519));function nr(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(fi(s,e)),od}function h0(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[ze]=e,s[en]=l,a){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(a=0;a<Wl.length;a++)Ht(Wl[a],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),ic(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),Ks(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ix(s.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),l.onScroll!=null&&Ht("scroll",s),l.onScrollEnd!=null&&Ht("scrollend",s),l.onClick!=null&&(s.onclick=Di),s=!0):s=!1,s||nr(e,!0)}function d0(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:cn=cn.return}}function ao(e){if(e!==cn)return!1;if(!Wt)return d0(e),Wt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ap(e.type,e.memoizedProps)),a=!a),a&&_e&&nr(e),d0(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=kx(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=kx(e)}else s===27?(s=_e,gr(e.type)?(e=Dp,Dp=null,_e=e):_e=s):_e=cn?gi(e.stateNode.nextSibling):null;return!0}function ca(){_e=cn=null,Wt=!1}function ld(){var e=er;return e!==null&&(On===null?On=e:On.push.apply(On,e),er=null),e}function Cl(e){er===null?er=[e]:er.push(e)}var ud=O(null),fa=null,Es=null;function ir(e,s,a){at(ud,s._currentValue),s._currentValue=a}function As(e){e._currentValue=ud.current,J(ud)}function cd(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function fd(e,s,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;t:for(;p!==null;){var E=p;p=h;for(var P=0;P<s.length;P++)if(E.context===s[P]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),cd(p.return,a,e),l||(_=null);break t}p=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,p=_.alternate,p!==null&&(p.lanes|=a),cd(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function oo(e,s,a,l){e=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;Hn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(tu):e=[tu])}h=h.return}e!==null&&fd(s,e,a,l),s.flags|=262144}function Ac(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){fa=e,Es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return p0(fa,e)}function wc(e,s){return fa===null&&ha(e),p0(e,s)}function p0(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Es===null){if(e===null)throw Error(r(308));Es=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Es=Es.next=s;return a}var yw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},vw=n.unstable_scheduleCallback,xw=n.unstable_NormalPriority,qe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new yw,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&vw(xw,function(){e.controller.abort()})}var Il=null,dd=0,lo=0,uo=null;function bw(e,s){if(Il===null){var a=Il=[];dd=0,lo=gp(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,s.then(m0,m0),s}function m0(){if(--dd===0&&Il!==null){uo!==null&&(uo.status="fulfilled");var e=Il;Il=null,lo=0,uo=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function _w(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var g0=M.S;M.S=function(e,s){Jv=te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&bw(e,s),g0!==null&&g0(e,s)};var da=O(null);function pd(){var e=da.current;return e!==null?e:ve.pooledCache}function Cc(e,s){s===null?at(da,da.current):at(da,s.pool)}function y0(){var e=pd();return e===null?null:{parent:qe._currentValue,pool:e}}var co=Error(r(460)),md=Error(r(474)),Rc=Error(r(542)),Ic={then:function(){}};function v0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function x0(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Di,Di),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_0(e),e;default:if(typeof s.status=="string")s.then(Di,Di);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_0(e),e}throw ma=s,co}}function pa(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,co):a}}var ma=null;function b0(){if(ma===null)throw Error(r(459));var e=ma;return ma=null,e}function _0(e){if(e===co||e===Rc)throw Error(r(483))}var fo=null,Dl=0;function Dc(e){var s=Dl;return Dl+=1,fo===null&&(fo=[]),x0(fo,e,s)}function Vl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Vc(e,s){throw s.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function T0(e){function s(H,z){if(e){var Q=H.deletions;Q===null?(H.deletions=[z],H.flags|=16):Q.push(z)}}function a(H,z){if(!e)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function l(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function h(H,z){return H=Ts(H,z),H.index=0,H.sibling=null,H}function p(H,z,Q){return H.index=Q,e?(Q=H.alternate,Q!==null?(Q=Q.index,Q<z?(H.flags|=67108866,z):Q):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function _(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function E(H,z,Q,ot){return z===null||z.tag!==6?(z=id(Q,H.mode,ot),z.return=H,z):(z=h(z,Q),z.return=H,z)}function P(H,z,Q,ot){var Ct=Q.type;return Ct===B?st(H,z,Q.props.children,ot,Q.key):z!==null&&(z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===A&&pa(Ct)===z.type)?(z=h(z,Q.props),Vl(z,Q),z.return=H,z):(z=Sc(Q.type,Q.key,Q.props,null,H.mode,ot),Vl(z,Q),z.return=H,z)}function W(H,z,Q,ot){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=sd(Q,H.mode,ot),z.return=H,z):(z=h(z,Q.children||[]),z.return=H,z)}function st(H,z,Q,ot,Ct){return z===null||z.tag!==7?(z=ua(Q,H.mode,ot,Ct),z.return=H,z):(z=h(z,Q),z.return=H,z)}function ct(H,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=id(""+z,H.mode,Q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return Q=Sc(z.type,z.key,z.props,null,H.mode,Q),Vl(Q,z),Q.return=H,Q;case N:return z=sd(z,H.mode,Q),z.return=H,z;case A:return z=pa(z),ct(H,z,Q)}if(Ft(z)||k(z))return z=ua(z,H.mode,Q,null),z.return=H,z;if(typeof z.then=="function")return ct(H,Dc(z),Q);if(z.$$typeof===q)return ct(H,wc(H,z),Q);Vc(H,z)}return null}function Z(H,z,Q,ot){var Ct=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ct!==null?null:E(H,z,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return Q.key===Ct?P(H,z,Q,ot):null;case N:return Q.key===Ct?W(H,z,Q,ot):null;case A:return Q=pa(Q),Z(H,z,Q,ot)}if(Ft(Q)||k(Q))return Ct!==null?null:st(H,z,Q,ot,null);if(typeof Q.then=="function")return Z(H,z,Dc(Q),ot);if(Q.$$typeof===q)return Z(H,z,wc(H,Q),ot);Vc(H,Q)}return null}function it(H,z,Q,ot,Ct){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return H=H.get(Q)||null,E(z,H,""+ot,Ct);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case D:return H=H.get(ot.key===null?Q:ot.key)||null,P(z,H,ot,Ct);case N:return H=H.get(ot.key===null?Q:ot.key)||null,W(z,H,ot,Ct);case A:return ot=pa(ot),it(H,z,Q,ot,Ct)}if(Ft(ot)||k(ot))return H=H.get(Q)||null,st(z,H,ot,Ct,null);if(typeof ot.then=="function")return it(H,z,Q,Dc(ot),Ct);if(ot.$$typeof===q)return it(H,z,Q,wc(z,ot),Ct);Vc(z,ot)}return null}function Tt(H,z,Q,ot){for(var Ct=null,ne=null,Et=z,Ut=z=0,Yt=null;Et!==null&&Ut<Q.length;Ut++){Et.index>Ut?(Yt=Et,Et=null):Yt=Et.sibling;var ie=Z(H,Et,Q[Ut],ot);if(ie===null){Et===null&&(Et=Yt);break}e&&Et&&ie.alternate===null&&s(H,Et),z=p(ie,z,Ut),ne===null?Ct=ie:ne.sibling=ie,ne=ie,Et=Yt}if(Ut===Q.length)return a(H,Et),Wt&&Ss(H,Ut),Ct;if(Et===null){for(;Ut<Q.length;Ut++)Et=ct(H,Q[Ut],ot),Et!==null&&(z=p(Et,z,Ut),ne===null?Ct=Et:ne.sibling=Et,ne=Et);return Wt&&Ss(H,Ut),Ct}for(Et=l(Et);Ut<Q.length;Ut++)Yt=it(Et,H,Ut,Q[Ut],ot),Yt!==null&&(e&&Yt.alternate!==null&&Et.delete(Yt.key===null?Ut:Yt.key),z=p(Yt,z,Ut),ne===null?Ct=Yt:ne.sibling=Yt,ne=Yt);return e&&Et.forEach(function(_r){return s(H,_r)}),Wt&&Ss(H,Ut),Ct}function It(H,z,Q,ot){if(Q==null)throw Error(r(151));for(var Ct=null,ne=null,Et=z,Ut=z=0,Yt=null,ie=Q.next();Et!==null&&!ie.done;Ut++,ie=Q.next()){Et.index>Ut?(Yt=Et,Et=null):Yt=Et.sibling;var _r=Z(H,Et,ie.value,ot);if(_r===null){Et===null&&(Et=Yt);break}e&&Et&&_r.alternate===null&&s(H,Et),z=p(_r,z,Ut),ne===null?Ct=_r:ne.sibling=_r,ne=_r,Et=Yt}if(ie.done)return a(H,Et),Wt&&Ss(H,Ut),Ct;if(Et===null){for(;!ie.done;Ut++,ie=Q.next())ie=ct(H,ie.value,ot),ie!==null&&(z=p(ie,z,Ut),ne===null?Ct=ie:ne.sibling=ie,ne=ie);return Wt&&Ss(H,Ut),Ct}for(Et=l(Et);!ie.done;Ut++,ie=Q.next())ie=it(Et,H,Ut,ie.value,ot),ie!==null&&(e&&ie.alternate!==null&&Et.delete(ie.key===null?Ut:ie.key),z=p(ie,z,Ut),ne===null?Ct=ie:ne.sibling=ie,ne=ie);return e&&Et.forEach(function(j2){return s(H,j2)}),Wt&&Ss(H,Ut),Ct}function ye(H,z,Q,ot){if(typeof Q=="object"&&Q!==null&&Q.type===B&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:t:{for(var Ct=Q.key;z!==null;){if(z.key===Ct){if(Ct=Q.type,Ct===B){if(z.tag===7){a(H,z.sibling),ot=h(z,Q.props.children),ot.return=H,H=ot;break t}}else if(z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===A&&pa(Ct)===z.type){a(H,z.sibling),ot=h(z,Q.props),Vl(ot,Q),ot.return=H,H=ot;break t}a(H,z);break}else s(H,z);z=z.sibling}Q.type===B?(ot=ua(Q.props.children,H.mode,ot,Q.key),ot.return=H,H=ot):(ot=Sc(Q.type,Q.key,Q.props,null,H.mode,ot),Vl(ot,Q),ot.return=H,H=ot)}return _(H);case N:t:{for(Ct=Q.key;z!==null;){if(z.key===Ct)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){a(H,z.sibling),ot=h(z,Q.children||[]),ot.return=H,H=ot;break t}else{a(H,z);break}else s(H,z);z=z.sibling}ot=sd(Q,H.mode,ot),ot.return=H,H=ot}return _(H);case A:return Q=pa(Q),ye(H,z,Q,ot)}if(Ft(Q))return Tt(H,z,Q,ot);if(k(Q)){if(Ct=k(Q),typeof Ct!="function")throw Error(r(150));return Q=Ct.call(Q),It(H,z,Q,ot)}if(typeof Q.then=="function")return ye(H,z,Dc(Q),ot);if(Q.$$typeof===q)return ye(H,z,wc(H,Q),ot);Vc(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(a(H,z.sibling),ot=h(z,Q),ot.return=H,H=ot):(a(H,z),ot=id(Q,H.mode,ot),ot.return=H,H=ot),_(H)):a(H,z)}return function(H,z,Q,ot){try{Dl=0;var Ct=ye(H,z,Q,ot);return fo=null,Ct}catch(Et){if(Et===co||Et===Rc)throw Et;var ne=Gn(29,Et,null,H.mode);return ne.lanes=ot,ne.return=H,ne}}}var ga=T0(!0),S0=T0(!1),sr=!1;function gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Tc(e),a0(e,null,a),s}return _c(e,l,s,a),Tc(e)}function jl(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,rl(e,a)}}function vd(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var xd=!1;function Ml(){if(xd){var e=uo;if(e!==null)throw e}}function Nl(e,s,a,l){xd=!1;var h=e.updateQueue;sr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var P=E,W=P.next;P.next=null,_===null?p=W:_.next=W,_=P;var st=e.alternate;st!==null&&(st=st.updateQueue,E=st.lastBaseUpdate,E!==_&&(E===null?st.firstBaseUpdate=W:E.next=W,st.lastBaseUpdate=P))}if(p!==null){var ct=h.baseState;_=0,st=W=P=null,E=p;do{var Z=E.lane&-536870913,it=Z!==E.lane;if(it?(Gt&Z)===Z:(l&Z)===Z){Z!==0&&Z===lo&&(xd=!0),st!==null&&(st=st.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,It=E;Z=s;var ye=a;switch(It.tag){case 1:if(Tt=It.payload,typeof Tt=="function"){ct=Tt.call(ye,ct,Z);break t}ct=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=It.payload,Z=typeof Tt=="function"?Tt.call(ye,ct,Z):Tt,Z==null)break t;ct=b({},ct,Z);break t;case 2:sr=!0}}Z=E.callback,Z!==null&&(e.flags|=64,it&&(e.flags|=8192),it=h.callbacks,it===null?h.callbacks=[Z]:it.push(Z))}else it={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},st===null?(W=st=it,P=ct):st=st.next=it,_|=Z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;it=E,E=it.next,it.next=null,h.lastBaseUpdate=it,h.shared.pending=null}}while(!0);st===null&&(P=ct),h.baseState=P,h.firstBaseUpdate=W,h.lastBaseUpdate=st,p===null&&(h.shared.lanes=0),fr|=_,e.lanes=_,e.memoizedState=ct}}function E0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function A0(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)E0(a[e],s)}var ho=O(null),jc=O(0);function w0(e,s){e=Ns,at(jc,e),at(ho,s),Ns=e|s.baseLanes}function bd(){at(jc,Ns),at(ho,ho.current)}function _d(){Ns=jc.current,J(ho),J(jc)}var Yn=O(null),mi=null;function or(e){var s=e.alternate;at(Oe,Oe.current&1),at(Yn,e),mi===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(mi=e)}function Td(e){at(Oe,Oe.current),at(Yn,e),mi===null&&(mi=e)}function C0(e){e.tag===22?(at(Oe,Oe.current),at(Yn,e),mi===null&&(mi=e)):lr()}function lr(){at(Oe,Oe.current),at(Yn,Yn.current)}function Kn(e){J(Yn),mi===e&&(mi=null),J(Oe)}var Oe=O(0);function Mc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rp(a)||Ip(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ws=0,zt=null,me=null,He=null,Nc=!1,po=!1,ya=!1,Oc=0,Ol=0,mo=null,Tw=0;function Ie(){throw Error(r(321))}function Sd(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Hn(e[a],s[a]))return!1;return!0}function Ed(e,s,a,l,h,p){return ws=p,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=e===null||e.memoizedState===null?cv:Bd,ya=!1,p=a(l,h),ya=!1,po&&(p=I0(s,a,l,h)),R0(e),p}function R0(e){M.H=kl;var s=me!==null&&me.next!==null;if(ws=0,He=me=zt=null,Nc=!1,Ol=0,mo=null,s)throw Error(r(300));e===null||Ge||(e=e.dependencies,e!==null&&Ac(e)&&(Ge=!0))}function I0(e,s,a,l){zt=e;var h=0;do{if(po&&(mo=null),Ol=0,po=!1,25<=h)throw Error(r(301));if(h+=1,He=me=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=fv,p=s(a,l)}while(po);return p}function Sw(){var e=M.H,s=e.useState()[0];return s=typeof s.then=="function"?Pl(s):s,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(zt.flags|=1024),s}function Ad(){var e=Oc!==0;return Oc=0,e}function wd(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Cd(e){if(Nc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Nc=!1}ws=0,He=me=zt=null,po=!1,Ol=Oc=0,mo=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?zt.memoizedState=He=e:He=He.next=e,He}function Pe(){if(me===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var s=He===null?zt.memoizedState:He.next;if(s!==null)He=s,me=e;else{if(e===null)throw zt.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},He===null?zt.memoizedState=He=e:He=He.next=e}return He}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var s=Ol;return Ol+=1,mo===null&&(mo=[]),e=x0(mo,e,s),s=zt,(He===null?s.memoizedState:He.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?cv:Bd),e}function Lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===q)return fn(e)}throw Error(r(438,String(e)))}function Rd(e){var s=null,a=zt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Pc(),zt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=j;return s.index++,a}function Cs(e,s){return typeof s=="function"?s(e):s}function kc(e){var s=Pe();return Id(s,me,e)}function Id(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,p=l.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}s.baseQueue=h=p,l.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{s=h.next;var E=_=null,P=null,W=s,st=!1;do{var ct=W.lane&-536870913;if(ct!==W.lane?(Gt&ct)===ct:(ws&ct)===ct){var Z=W.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ct===lo&&(st=!0);else if((ws&Z)===Z){W=W.next,Z===lo&&(st=!0);continue}else ct={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(E=P=ct,_=p):P=P.next=ct,zt.lanes|=Z,fr|=Z;ct=W.action,ya&&a(p,ct),p=W.hasEagerState?W.eagerState:a(p,ct)}else Z={lane:ct,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(E=P=Z,_=p):P=P.next=Z,zt.lanes|=ct,fr|=ct;W=W.next}while(W!==null&&W!==s);if(P===null?_=p:P.next=E,!Hn(p,e.memoizedState)&&(Ge=!0,st&&(a=uo,a!==null)))throw a;e.memoizedState=p,e.baseState=_,e.baseQueue=P,l.lastRenderedState=p}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Dd(e){var s=Pe(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do p=e(p,_.action),_=_.next;while(_!==h);Hn(p,s.memoizedState)||(Ge=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function D0(e,s,a){var l=zt,h=Pe(),p=Wt;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Hn((me||h).memoizedState,a);if(_&&(h.memoizedState=a,Ge=!0),h=h.queue,Md(M0.bind(null,l,h,e),[e]),h.getSnapshot!==s||_||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},j0.bind(null,l,h,a,s),null),ve===null)throw Error(r(349));p||(ws&127)!==0||V0(l,s,a)}return a}function V0(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=zt.updateQueue,s===null?(s=Pc(),zt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function j0(e,s,a,l){s.value=a,s.getSnapshot=l,N0(s)&&O0(e)}function M0(e,s,a){return a(function(){N0(s)&&O0(e)})}function N0(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Hn(e,a)}catch{return!0}}function O0(e){var s=la(e,2);s!==null&&Pn(s,e,2)}function Vd(e){var s=Cn();if(typeof e=="function"){var a=e;if(e=a(),ya){ri(!0);try{a()}finally{ri(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},s}function P0(e,s,a,l){return e.baseState=a,Id(e,me,typeof l=="function"?l:Cs)}function Ew(e,s,a,l,h){if(Uc(e))throw Error(r(485));if(e=s.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};M.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,L0(s,p)):(p.next=a.next,s.pending=a.next=p)}}function L0(e,s){var a=s.action,l=s.payload,h=e.state;if(s.isTransition){var p=M.T,_={};M.T=_;try{var E=a(h,l),P=M.S;P!==null&&P(_,E),k0(e,s,E)}catch(W){jd(e,s,W)}finally{p!==null&&_.types!==null&&(p.types=_.types),M.T=p}}else try{p=a(h,l),k0(e,s,p)}catch(W){jd(e,s,W)}}function k0(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){B0(e,s,l)},function(l){return jd(e,s,l)}):B0(e,s,a)}function B0(e,s,a){s.status="fulfilled",s.value=a,z0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,L0(e,a)))}function jd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,z0(s),s=s.next;while(s!==l)}e.action=null}function z0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function U0(e,s){return s}function F0(e,s){if(Wt){var a=ve.formState;if(a!==null){t:{var l=zt;if(Wt){if(_e){e:{for(var h=_e,p=pi;h.nodeType!==8;){if(!p){h=null;break e}if(h=gi(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){_e=gi(h.nextSibling),l=h.data==="F!";break t}}nr(l)}l=!1}l&&(s=a[0])}}return a=Cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:s},a.queue=l,a=ov.bind(null,zt,l),l.dispatch=a,l=Vd(!1),p=kd.bind(null,zt,!1,l.queue),l=Cn(),h={state:s,dispatch:null,action:e,pending:null},l.queue=h,a=Ew.bind(null,zt,h,p,a),h.dispatch=a,l.memoizedState=e,[s,a,!1]}function q0(e){var s=Pe();return H0(s,me,e)}function H0(e,s,a){if(s=Id(e,s,U0)[0],e=kc(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Pl(s)}catch(_){throw _===co?Rc:_}else l=s;s=Pe();var h=s.queue,p=h.dispatch;return a!==s.memoizedState&&(zt.flags|=2048,go(9,{destroy:void 0},Aw.bind(null,h,a),null)),[l,p,e]}function Aw(e,s){e.action=s}function G0(e){var s=Pe(),a=me;if(a!==null)return H0(s,a,e);Pe(),s=s.memoizedState,a=Pe();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function go(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=zt.updateQueue,s===null&&(s=Pc(),zt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Y0(){return Pe().memoizedState}function Bc(e,s,a,l){var h=Cn();zt.flags|=e,h.memoizedState=go(1|s,{destroy:void 0},a,l===void 0?null:l)}function zc(e,s,a,l){var h=Pe();l=l===void 0?null:l;var p=h.memoizedState.inst;me!==null&&l!==null&&Sd(l,me.memoizedState.deps)?h.memoizedState=go(s,p,a,l):(zt.flags|=e,h.memoizedState=go(1|s,p,a,l))}function K0(e,s){Bc(8390656,8,e,s)}function Md(e,s){zc(2048,8,e,s)}function ww(e){zt.flags|=4;var s=zt.updateQueue;if(s===null)s=Pc(),zt.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Q0(e){var s=Pe().memoizedState;return ww({ref:s,nextImpl:e}),function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function W0(e,s){return zc(4,2,e,s)}function X0(e,s){return zc(4,4,e,s)}function $0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Z0(e,s,a){a=a!=null?a.concat([e]):null,zc(4,4,$0.bind(null,s,e),a)}function Nd(){}function J0(e,s){var a=Pe();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Sd(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function tv(e,s){var a=Pe();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Sd(s,l[1]))return l[0];if(l=e(),ya){ri(!0);try{e()}finally{ri(!1)}}return a.memoizedState=[l,s],l}function Od(e,s,a){return a===void 0||(ws&1073741824)!==0&&(Gt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=ex(),zt.lanes|=e,fr|=e,a)}function ev(e,s,a,l){return Hn(a,s)?a:ho.current!==null?(e=Od(e,a,l),Hn(e,s)||(Ge=!0),e):(ws&42)===0||(ws&1073741824)!==0&&(Gt&261930)===0?(Ge=!0,e.memoizedState=a):(e=ex(),zt.lanes|=e,fr|=e,s)}function nv(e,s,a,l,h){var p=K.p;K.p=p!==0&&8>p?p:8;var _=M.T,E={};M.T=E,kd(e,!1,s,a);try{var P=h(),W=M.S;if(W!==null&&W(E,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var st=_w(P,l);Ll(e,s,st,Xn(e))}else Ll(e,s,l,Xn(e))}catch(ct){Ll(e,s,{then:function(){},status:"rejected",reason:ct},Xn())}finally{K.p=p,_!==null&&E.types!==null&&(_.types=E.types),M.T=_}}function Cw(){}function Pd(e,s,a,l){if(e.tag!==5)throw Error(r(476));var h=iv(e).queue;nv(e,h,s,$,a===null?Cw:function(){return sv(e),a(l)})}function iv(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:$},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function sv(e){var s=iv(e);s.next===null&&(s=e.alternate.memoizedState),Ll(e,s.next.queue,{},Xn())}function Ld(){return fn(tu)}function rv(){return Pe().memoizedState}function av(){return Pe().memoizedState}function Rw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Xn();e=rr(a);var l=ar(s,e,a);l!==null&&(Pn(l,s,a),jl(l,s,a)),s={cache:hd()},e.payload=s;return}s=s.return}}function Iw(e,s,a){var l=Xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uc(e)?lv(s,a):(a=ed(e,s,a,l),a!==null&&(Pn(a,e,l),uv(a,s,l)))}function ov(e,s,a){var l=Xn();Ll(e,s,a,l)}function Ll(e,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uc(e))lv(s,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var _=s.lastRenderedState,E=p(_,a);if(h.hasEagerState=!0,h.eagerState=E,Hn(E,_))return _c(e,s,h,0),ve===null&&bc(),!1}catch{}if(a=ed(e,s,h,l),a!==null)return Pn(a,e,l),uv(a,s,l),!0}return!1}function kd(e,s,a,l){if(l={lane:2,revertLane:gp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uc(e)){if(s)throw Error(r(479))}else s=ed(e,a,l,2),s!==null&&Pn(s,e,2)}function Uc(e){var s=e.alternate;return e===zt||s!==null&&s===zt}function lv(e,s){po=Nc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function uv(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,rl(e,a)}}var kl={readContext:fn,use:Lc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};kl.useEffectEvent=Ie;var cv={readContext:fn,use:Lc,useCallback:function(e,s){return Cn().memoizedState=[e,s===void 0?null:s],e},useContext:fn,useEffect:K0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Bc(4194308,4,$0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Bc(4194308,4,e,s)},useInsertionEffect:function(e,s){Bc(4,2,e,s)},useMemo:function(e,s){var a=Cn();s=s===void 0?null:s;var l=e();if(ya){ri(!0);try{e()}finally{ri(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Cn();if(a!==void 0){var h=a(s);if(ya){ri(!0);try{a(s)}finally{ri(!1)}}}else h=s;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Iw.bind(null,zt,e),[l.memoizedState,e]},useRef:function(e){var s=Cn();return e={current:e},s.memoizedState=e},useState:function(e){e=Vd(e);var s=e.queue,a=ov.bind(null,zt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(e,s){var a=Cn();return Od(a,e,s)},useTransition:function(){var e=Vd(!1);return e=nv.bind(null,zt,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=zt,h=Cn();if(Wt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ve===null)throw Error(r(349));(Gt&127)!==0||V0(l,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,K0(M0.bind(null,l,p,e),[e]),l.flags|=2048,go(9,{destroy:void 0},j0.bind(null,l,p,a,s),null),a},useId:function(){var e=Cn(),s=ve.identifierPrefix;if(Wt){var a=rs,l=ss;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Oc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Tw++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Ld,useFormState:F0,useActionState:F0,useOptimistic:function(e){var s=Cn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=kd.bind(null,zt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Rd,useCacheRefresh:function(){return Cn().memoizedState=Rw.bind(null,zt)},useEffectEvent:function(e){var s=Cn(),a={impl:e};return s.memoizedState=a,function(){if((le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bd={readContext:fn,use:Lc,useCallback:J0,useContext:fn,useEffect:Md,useImperativeHandle:Z0,useInsertionEffect:W0,useLayoutEffect:X0,useMemo:tv,useReducer:kc,useRef:Y0,useState:function(){return kc(Cs)},useDebugValue:Nd,useDeferredValue:function(e,s){var a=Pe();return ev(a,me.memoizedState,e,s)},useTransition:function(){var e=kc(Cs)[0],s=Pe().memoizedState;return[typeof e=="boolean"?e:Pl(e),s]},useSyncExternalStore:D0,useId:rv,useHostTransitionStatus:Ld,useFormState:q0,useActionState:q0,useOptimistic:function(e,s){var a=Pe();return P0(a,me,e,s)},useMemoCache:Rd,useCacheRefresh:av};Bd.useEffectEvent=Q0;var fv={readContext:fn,use:Lc,useCallback:J0,useContext:fn,useEffect:Md,useImperativeHandle:Z0,useInsertionEffect:W0,useLayoutEffect:X0,useMemo:tv,useReducer:Dd,useRef:Y0,useState:function(){return Dd(Cs)},useDebugValue:Nd,useDeferredValue:function(e,s){var a=Pe();return me===null?Od(a,e,s):ev(a,me.memoizedState,e,s)},useTransition:function(){var e=Dd(Cs)[0],s=Pe().memoizedState;return[typeof e=="boolean"?e:Pl(e),s]},useSyncExternalStore:D0,useId:rv,useHostTransitionStatus:Ld,useFormState:G0,useActionState:G0,useOptimistic:function(e,s){var a=Pe();return me!==null?P0(a,me,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:av};fv.useEffectEvent=Q0;function zd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ud={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Xn(),h=rr(l);h.payload=s,a!=null&&(h.callback=a),s=ar(e,h,l),s!==null&&(Pn(s,e,l),jl(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Xn(),h=rr(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ar(e,h,l),s!==null&&(Pn(s,e,l),jl(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Xn(),l=rr(a);l.tag=2,s!=null&&(l.callback=s),s=ar(e,l,a),s!==null&&(Pn(s,e,a),jl(s,e,a))}};function hv(e,s,a,l,h,p,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,_):s.prototype&&s.prototype.isPureReactComponent?!El(a,l)||!El(h,p):!0}function dv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Ud.enqueueReplaceState(s,s.state,null)}function va(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function pv(e){xc(e)}function mv(e){console.error(e)}function gv(e){xc(e)}function Fc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function yv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fd(e,s,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fc(e,s)},a}function vv(e){return e=rr(e),e.tag=3,e}function xv(e,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;e.payload=function(){return h(p)},e.callback=function(){yv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){yv(s,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Dw(e,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&oo(s,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?tf():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ic?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),dp(e,l,h)),!1;case 22:return a.flags|=65536,l===Ic?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),dp(e,l,h)),!1}throw Error(r(435,a.tag))}return dp(e,l,h),tf(),!1}if(Wt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==od&&(e=Error(r(422),{cause:l}),Cl(fi(e,a)))):(l!==od&&(s=Error(r(423),{cause:l}),Cl(fi(s,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=fi(l,a),h=Fd(e.stateNode,l,h),vd(e,h),De!==4&&(De=2)),!1;var p=Error(r(520),{cause:l});if(p=fi(p,a),Yl===null?Yl=[p]:Yl.push(p),De!==4&&(De=2),s===null)return!0;l=fi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Fd(a.stateNode,l,e),vd(a,e),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(hr===null||!hr.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vv(h),xv(h,e,a,l),vd(a,h),!1}a=a.return}while(a!==null);return!1}var qd=Error(r(461)),Ge=!1;function hn(e,s,a,l){s.child=e===null?S0(s,null,a,l):ga(s,e.child,a,l)}function bv(e,s,a,l,h){a=a.render;var p=s.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ha(s),l=Ed(e,s,a,_,p,h),E=Ad(),e!==null&&!Ge?(wd(e,s,h),Rs(e,s,h)):(Wt&&E&&rd(s),s.flags|=1,hn(e,s,l,h),s.child)}function _v(e,s,a,l,h){if(e===null){var p=a.type;return typeof p=="function"&&!nd(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,Tv(e,s,p,l,h)):(e=Sc(a.type,null,l,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(p=e.child,!$d(e,h)){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(_,l)&&e.ref===s.ref)return Rs(e,s,h)}return s.flags|=1,e=Ts(p,l),e.ref=s.ref,e.return=s,s.child=e}function Tv(e,s,a,l,h){if(e!==null){var p=e.memoizedProps;if(El(p,l)&&e.ref===s.ref)if(Ge=!1,s.pendingProps=l=p,$d(e,h))(e.flags&131072)!==0&&(Ge=!0);else return s.lanes=e.lanes,Rs(e,s,h)}return Hd(e,s,a,l,h)}function Sv(e,s,a,l){var h=l.children,p=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(l=s.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~p}else l=0,s.child=null;return Ev(e,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cc(s,p!==null?p.cachePool:null),p!==null?w0(s,p):bd(),C0(s);else return l=s.lanes=536870912,Ev(e,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Cc(s,p.cachePool),w0(s,p),lr(),s.memoizedState=null):(e!==null&&Cc(s,null),bd(),lr());return hn(e,s,h,a),s.child}function Bl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ev(e,s,a,l,h){var p=pd();return p=p===null?null:{parent:qe._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},e!==null&&Cc(s,null),bd(),C0(s),e!==null&&oo(e,s,l,!0),s.childLanes=h,null}function qc(e,s){return s=Gc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Av(e,s,a){return ga(s,e.child,null,a),e=qc(s,s.pendingProps),e.flags|=2,Kn(s),s.memoizedState=null,e}function Vw(e,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Wt){if(l.mode==="hidden")return e=qc(s,l),s.lanes=536870912,Bl(null,e);if(Td(s),(e=_e)?(e=Lx(e,pi),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:tr!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=l0(e),a.return=s,s.child=a,cn=s,_e=null)):e=null,e===null)throw nr(s);return s.lanes=536870912,null}return qc(s,l)}var p=e.memoizedState;if(p!==null){var _=p.dehydrated;if(Td(s),h)if(s.flags&256)s.flags&=-257,s=Av(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ge||oo(e,s,a,!1),h=(a&e.childLanes)!==0,Ge||h){if(l=ve,l!==null&&(_=al(l,a),_!==0&&_!==p.retryLane))throw p.retryLane=_,la(e,_),Pn(l,e,_),qd;tf(),s=Av(e,s,a)}else e=p.treeContext,_e=gi(_.nextSibling),cn=s,Wt=!0,er=null,pi=!1,e!==null&&f0(s,e),s=qc(s,l),s.flags|=4096;return s}return e=Ts(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Hc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Hd(e,s,a,l,h){return ha(s),a=Ed(e,s,a,l,void 0,h),l=Ad(),e!==null&&!Ge?(wd(e,s,h),Rs(e,s,h)):(Wt&&l&&rd(s),s.flags|=1,hn(e,s,a,h),s.child)}function wv(e,s,a,l,h,p){return ha(s),s.updateQueue=null,a=I0(s,l,a,h),R0(e),l=Ad(),e!==null&&!Ge?(wd(e,s,p),Rs(e,s,p)):(Wt&&l&&rd(s),s.flags|=1,hn(e,s,a,p),s.child)}function Cv(e,s,a,l,h){if(ha(s),s.stateNode===null){var p=io,_=a.contextType;typeof _=="object"&&_!==null&&(p=fn(_)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ud,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},gd(s),_=a.contextType,p.context=typeof _=="object"&&_!==null?fn(_):io,p.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zd(s,a,_,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Ud.enqueueReplaceState(p,p.state,null),Nl(s,l,p,h),Ml(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){p=s.stateNode;var E=s.memoizedProps,P=va(a,E);p.props=P;var W=p.context,st=a.contextType;_=io,typeof st=="object"&&st!==null&&(_=fn(st));var ct=a.getDerivedStateFromProps;st=typeof ct=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,st||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||W!==_)&&dv(s,p,l,_),sr=!1;var Z=s.memoizedState;p.state=Z,Nl(s,l,p,h),Ml(),W=s.memoizedState,E||Z!==W||sr?(typeof ct=="function"&&(zd(s,a,ct,l),W=s.memoizedState),(P=sr||hv(s,a,P,l,Z,W,_))?(st||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=W),p.props=l,p.state=W,p.context=_,l=P):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,yd(e,s),_=s.memoizedProps,st=va(a,_),p.props=st,ct=s.pendingProps,Z=p.context,W=a.contextType,P=io,typeof W=="object"&&W!==null&&(P=fn(W)),E=a.getDerivedStateFromProps,(W=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==ct||Z!==P)&&dv(s,p,l,P),sr=!1,Z=s.memoizedState,p.state=Z,Nl(s,l,p,h),Ml();var it=s.memoizedState;_!==ct||Z!==it||sr||e!==null&&e.dependencies!==null&&Ac(e.dependencies)?(typeof E=="function"&&(zd(s,a,E,l),it=s.memoizedState),(st=sr||hv(s,a,st,l,Z,it,P)||e!==null&&e.dependencies!==null&&Ac(e.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,it,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,it,P)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=it),p.props=l,p.state=it,p.context=P,l=st):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=1024),l=!1)}return p=l,Hc(e,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,e!==null&&l?(s.child=ga(s,e.child,null,h),s.child=ga(s,null,a,h)):hn(e,s,a,h),s.memoizedState=p.state,e=s.child):e=Rs(e,s,h),e}function Rv(e,s,a,l){return ca(),s.flags|=256,hn(e,s,a,l),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:y0()}}function Kd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Wn),e}function Iv(e,s,a){var l=s.pendingProps,h=!1,p=(s.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(Wt){if(h?or(s):lr(),(e=_e)?(e=Lx(e,pi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:tr!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=l0(e),a.return=s,s.child=a,cn=s,_e=null)):e=null,e===null)throw nr(s);return Ip(e)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(lr(),h=s.mode,E=Gc({mode:"hidden",children:E},h),l=ua(l,h,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Yd(a),l.childLanes=Kd(e,_,a),s.memoizedState=Gd,Bl(null,l)):(or(s),Qd(s,E))}var P=e.memoizedState;if(P!==null&&(E=P.dehydrated,E!==null)){if(p)s.flags&256?(or(s),s.flags&=-257,s=Wd(e,s,a)):s.memoizedState!==null?(lr(),s.child=e.child,s.flags|=128,s=null):(lr(),E=l.fallback,h=s.mode,l=Gc({mode:"visible",children:l.children},h),E=ua(E,h,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,ga(s,e.child,null,a),l=s.child,l.memoizedState=Yd(a),l.childLanes=Kd(e,_,a),s.memoizedState=Gd,s=Bl(null,l));else if(or(s),Ip(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var W=_.dgst;_=W,l=Error(r(419)),l.stack="",l.digest=_,Cl({value:l,source:null,stack:null}),s=Wd(e,s,a)}else if(Ge||oo(e,s,a,!1),_=(a&e.childLanes)!==0,Ge||_){if(_=ve,_!==null&&(l=al(_,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,la(e,l),Pn(_,e,l),qd;Rp(E)||tf(),s=Wd(e,s,a)}else Rp(E)?(s.flags|=192,s.child=e.child,s=null):(e=P.treeContext,_e=gi(E.nextSibling),cn=s,Wt=!0,er=null,pi=!1,e!==null&&f0(s,e),s=Qd(s,l.children),s.flags|=4096);return s}return h?(lr(),E=l.fallback,h=s.mode,P=e.child,W=P.sibling,l=Ts(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,W!==null?E=Ts(W,E):(E=ua(E,h,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Bl(null,l),l=s.child,E=e.child.memoizedState,E===null?E=Yd(a):(h=E.cachePool,h!==null?(P=qe._currentValue,h=h.parent!==P?{parent:P,pool:P}:h):h=y0(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Kd(e,_,a),s.memoizedState=Gd,Bl(e.child,l)):(or(s),a=e.child,e=a.sibling,a=Ts(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function Qd(e,s){return s=Gc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Gc(e,s){return e=Gn(22,e,null,s),e.lanes=0,e}function Wd(e,s,a){return ga(s,e.child,null,a),e=Qd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Dv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),cd(e.return,s,a)}function Xd(e,s,a,l,h,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=p)}function Vv(e,s,a){var l=s.pendingProps,h=l.revealOrder,p=l.tail;l=l.children;var _=Oe.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,at(Oe,_),hn(e,s,l,a),l=Wt?wl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dv(e,a,s);else if(e.tag===19)Dv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Mc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Xd(s,!1,h,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Mc(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xd(s,!0,a,null,p,l);break;case"together":Xd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Rs(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),fr|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(oo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ts(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ts(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function $d(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Ac(e)))}function jw(e,s,a){switch(s.tag){case 3:se(s,s.stateNode.containerInfo),ir(s,qe,e.memoizedState.cache),ca();break;case 27:case 5:vn(s);break;case 4:se(s,s.stateNode.containerInfo);break;case 10:ir(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Td(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(or(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Iv(e,s,a):(or(s),e=Rs(e,s,a),e!==null?e.sibling:null);or(s);break;case 19:var h=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(oo(e,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Vv(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Oe,Oe.current),l)break;return null;case 22:return s.lanes=0,Sv(e,s,a,s.pendingProps);case 24:ir(s,qe,e.memoizedState.cache)}return Rs(e,s,a)}function jv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ge=!0;else{if(!$d(e,a)&&(s.flags&128)===0)return Ge=!1,jw(e,s,a);Ge=(e.flags&131072)!==0}else Ge=!1,Wt&&(s.flags&1048576)!==0&&c0(s,wl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=pa(s.elementType),s.type=e,typeof e=="function")nd(e)?(l=va(e,l),s.tag=1,s=Cv(null,s,e,l,a)):(s.tag=0,s=Hd(null,s,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===G){s.tag=11,s=bv(null,s,e,l,a);break t}else if(h===R){s.tag=14,s=_v(null,s,e,l,a);break t}}throw s=At(e)||e,Error(r(306,s,""))}}return s;case 0:return Hd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=va(l,s.pendingProps),Cv(e,s,l,h,a);case 3:t:{if(se(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;h=p.element,yd(e,s),Nl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,ir(s,qe,l),l!==p.cache&&fd(s,[qe],a,!0),Ml(),l=_.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Rv(e,s,l,a);break t}else if(l!==h){h=fi(Error(r(424)),s),Cl(h),s=Rv(e,s,l,a);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,_e=gi(e.firstChild),cn=s,Wt=!0,er=null,pi=!0,a=S0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ca(),l===h){s=Rs(e,s,a);break t}hn(e,s,l,a)}s=s.child}return s;case 26:return Hc(e,s),e===null?(a=qx(s.type,null,s.pendingProps,null))?s.memoizedState=a:Wt||(a=s.type,e=s.pendingProps,l=lf(dt.current).createElement(a),l[ze]=s,l[en]=e,dn(l,a,e),Ue(l),s.stateNode=l):s.memoizedState=qx(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return vn(s),e===null&&Wt&&(l=s.stateNode=zx(s.type,s.pendingProps,dt.current),cn=s,pi=!0,h=_e,gr(s.type)?(Dp=h,_e=gi(l.firstChild)):_e=h),hn(e,s,s.pendingProps.children,a),Hc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Wt&&((h=l=_e)&&(l=l2(l,s.type,s.pendingProps,pi),l!==null?(s.stateNode=l,cn=s,_e=gi(l.firstChild),pi=!1,h=!0):h=!1),h||nr(s)),vn(s),h=s.type,p=s.pendingProps,_=e!==null?e.memoizedProps:null,l=p.children,Ap(h,p)?l=null:_!==null&&Ap(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Ed(e,s,Sw,null,null,a),tu._currentValue=h),Hc(e,s),hn(e,s,l,a),s.child;case 6:return e===null&&Wt&&((e=a=_e)&&(a=u2(a,s.pendingProps,pi),a!==null?(s.stateNode=a,cn=s,_e=null,e=!0):e=!1),e||nr(s)),null;case 13:return Iv(e,s,a);case 4:return se(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=ga(s,null,l,a):hn(e,s,l,a),s.child;case 11:return bv(e,s,s.type,s.pendingProps,a);case 7:return hn(e,s,s.pendingProps,a),s.child;case 8:return hn(e,s,s.pendingProps.children,a),s.child;case 12:return hn(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ir(s,s.type,l.value),hn(e,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,ha(s),h=fn(h),l=l(h),s.flags|=1,hn(e,s,l,a),s.child;case 14:return _v(e,s,s.type,s.pendingProps,a);case 15:return Tv(e,s,s.type,s.pendingProps,a);case 19:return Vv(e,s,a);case 31:return Vw(e,s,a);case 22:return Sv(e,s,a,s.pendingProps);case 24:return ha(s),l=fn(qe),e===null?(h=pd(),h===null&&(h=ve,p=hd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),s.memoizedState={parent:l,cache:h},gd(s),ir(s,qe,h)):((e.lanes&a)!==0&&(yd(e,s),Nl(s,null,null,a),Ml()),h=e.memoizedState,p=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ir(s,qe,l)):(l=p.cache,ir(s,qe,l),l!==h.cache&&fd(s,[qe],a,!0))),hn(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Is(e){e.flags|=4}function Zd(e,s,a,l,h){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(rx())e.flags|=8192;else throw ma=Ic,md}else e.flags&=-16777217}function Mv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qx(s))if(rx())e.flags|=8192;else throw ma=Ic,md}function Yc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Zu():536870912,e.lanes|=s,bo|=s)}function zl(e,s){if(!Wt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Te(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Mw(e,s,a){var l=s.pendingProps;switch(ad(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(s),null;case 1:return Te(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),As(qe),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ao(s)?Is(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ld())),Te(s),null;case 26:var h=s.type,p=s.memoizedState;return e===null?(Is(s),p!==null?(Te(s),Mv(s,p)):(Te(s),Zd(s,h,null,l,a))):p?p!==e.memoizedState?(Is(s),Te(s),Mv(s,p)):(Te(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Is(s),Te(s),Zd(s,h,e,l,a)),null;case 27:if(zn(s),a=dt.current,h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}e=ht.current,ao(s)?h0(s):(e=zx(h,l,a),s.stateNode=e,Is(s))}return Te(s),null;case 5:if(zn(s),h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}if(p=ht.current,ao(s))h0(s);else{var _=lf(dt.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}p[ze]=s,p[en]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=p;t:switch(dn(p,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Is(s)}}return Te(s),Zd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=dt.current,ao(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ze]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ix(e.nodeValue,a)),e||nr(s,!0)}else e=lf(e).createTextNode(l),e[ze]=s,s.stateNode=e}return Te(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=ao(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ze]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),e=!1}else a=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Te(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ao(s),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ze]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),h=!1}else h=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Yc(s,s.updateQueue),Te(s),null);case 4:return Xt(),e===null&&bp(s.stateNode.containerInfo),Te(s),null;case 10:return As(s.type),Te(s),null;case 19:if(J(Oe),l=s.memoizedState,l===null)return Te(s),null;if(h=(s.flags&128)!==0,p=l.rendering,p===null)if(h)zl(l,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(p=Mc(e),p!==null){for(s.flags|=128,zl(l,!1),e=p.updateQueue,s.updateQueue=e,Yc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)o0(a,e),a=a.sibling;return at(Oe,Oe.current&1|2),Wt&&Ss(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&te()>$c&&(s.flags|=128,h=!0,zl(l,!1),s.lanes=4194304)}else{if(!h)if(e=Mc(p),e!==null){if(s.flags|=128,h=!0,e=e.updateQueue,s.updateQueue=e,Yc(s,e),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Wt)return Te(s),null}else 2*te()-l.renderingStartTime>$c&&a!==536870912&&(s.flags|=128,h=!0,zl(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(e=l.last,e!==null?e.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=te(),e.sibling=null,a=Oe.current,at(Oe,h?a&1|2:a&1),Wt&&Ss(s,l.treeForkCount),e):(Te(s),null);case 22:case 23:return Kn(s),_d(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Te(s),s.subtreeFlags&6&&(s.flags|=8192)):Te(s),a=s.updateQueue,a!==null&&Yc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&J(da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),As(qe),Te(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Nw(e,s){switch(ad(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return As(qe),Xt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return zn(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Kn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(Oe),null;case 4:return Xt(),null;case 10:return As(s.type),null;case 22:case 23:return Kn(s),_d(),e!==null&&J(da),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return As(qe),null;case 25:return null;default:return null}}function Nv(e,s){switch(ad(s),s.tag){case 3:As(qe),Xt();break;case 26:case 27:case 5:zn(s);break;case 4:Xt();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:J(Oe);break;case 10:As(s.type);break;case 22:case 23:Kn(s),_d(),e!==null&&J(da);break;case 24:As(qe)}}function Ul(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var p=a.create,_=a.inst;l=p(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){de(s,s.return,E)}}function ur(e,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=s;var P=a,W=E;try{W()}catch(st){de(h,P,st)}}}l=l.next}while(l!==p)}}catch(st){de(s,s.return,st)}}function Ov(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{A0(s,a)}catch(l){de(e,e.return,l)}}}function Pv(e,s,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){de(e,s,l)}}function Fl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){de(e,s,h)}}function as(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){de(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){de(e,s,h)}else a.current=null}function Lv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){de(e,e.return,h)}}function Jd(e,s,a){try{var l=e.stateNode;n2(l,e.type,a,s),l[en]=s}catch(h){de(e,e.return,h)}}function kv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function tp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ep(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Di));else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(ep(e,s,a),e=e.sibling;e!==null;)ep(e,s,a),e=e.sibling}function Kc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Kc(e,s,a),e=e.sibling;e!==null;)Kc(e,s,a),e=e.sibling}function Bv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);dn(s,l,a),s[ze]=e,s[en]=a}catch(p){de(e,e.return,p)}}var Ds=!1,Ye=!1,np=!1,zv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Ow(e,s){if(e=e.containerInfo,Sp=mf,e=Zy(e),Wh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var _=0,E=-1,P=-1,W=0,st=0,ct=e,Z=null;e:for(;;){for(var it;ct!==a||h!==0&&ct.nodeType!==3||(E=_+h),ct!==p||l!==0&&ct.nodeType!==3||(P=_+l),ct.nodeType===3&&(_+=ct.nodeValue.length),(it=ct.firstChild)!==null;)Z=ct,ct=it;for(;;){if(ct===e)break e;if(Z===a&&++W===h&&(E=_),Z===p&&++st===l&&(P=_),(it=ct.nextSibling)!==null)break;ct=Z,Z=ct.parentNode}ct=it}a=E===-1||P===-1?null:{start:E,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ep={focusedElem:e,selectionRange:a},mf=!1,sn=s;sn!==null;)if(s=sn,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,sn=e;else for(;sn!==null;){switch(s=sn,p=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=s,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Tt=va(a.type,h);e=l.getSnapshotBeforeUpdate(Tt,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(It){de(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Cp(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,sn=e;break}sn=s.return}}function Uv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:js(e,a),l&4&&Ul(5,a);break;case 1:if(js(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){de(a,a.return,_)}else{var h=va(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){de(a,a.return,_)}}l&64&&Ov(a),l&512&&Fl(a,a.return);break;case 3:if(js(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{A0(e,s)}catch(_){de(a,a.return,_)}}break;case 27:s===null&&l&4&&Bv(a);case 26:case 5:js(e,a),s===null&&l&4&&Lv(a),l&512&&Fl(a,a.return);break;case 12:js(e,a);break;case 31:js(e,a),l&4&&Hv(e,a);break;case 13:js(e,a),l&4&&Gv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Hw.bind(null,a),c2(e,a))));break;case 22:if(l=a.memoizedState!==null||Ds,!l){s=s!==null&&s.memoizedState!==null||Ye,h=Ds;var p=Ye;Ds=l,(Ye=s)&&!p?Ms(e,a,(a.subtreeFlags&8772)!==0):js(e,a),Ds=h,Ye=p}break;case 30:break;default:js(e,a)}}function Fv(e){var s=e.alternate;s!==null&&(e.alternate=null,Fv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&qa(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,jn=!1;function Vs(e,s,a){for(a=a.child;a!==null;)qv(e,s,a),a=a.sibling}function qv(e,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(wi,a)}catch{}switch(a.tag){case 26:Ye||as(a,s),Vs(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||as(a,s);var l=Ae,h=jn;gr(a.type)&&(Ae=a.stateNode,jn=!1),Vs(e,s,a),$l(a.stateNode),Ae=l,jn=h;break;case 5:Ye||as(a,s);case 6:if(l=Ae,h=jn,Ae=null,Vs(e,s,a),Ae=l,jn=h,Ae!==null)if(jn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(p){de(a,s,p)}else try{Ae.removeChild(a.stateNode)}catch(p){de(a,s,p)}break;case 18:Ae!==null&&(jn?(e=Ae,Ox(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ro(e)):Ox(Ae,a.stateNode));break;case 4:l=Ae,h=jn,Ae=a.stateNode.containerInfo,jn=!0,Vs(e,s,a),Ae=l,jn=h;break;case 0:case 11:case 14:case 15:ur(2,a,s),Ye||ur(4,a,s),Vs(e,s,a);break;case 1:Ye||(as(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,s,l)),Vs(e,s,a);break;case 21:Vs(e,s,a);break;case 22:Ye=(l=Ye)||a.memoizedState!==null,Vs(e,s,a),Ye=l;break;default:Vs(e,s,a)}}function Hv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ro(e)}catch(a){de(s,s.return,a)}}}function Gv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ro(e)}catch(a){de(s,s.return,a)}}function Pw(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new zv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new zv),s;default:throw Error(r(435,e.tag))}}function Qc(e,s){var a=Pw(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=Gw.bind(null,e,l);l.then(h,h)}})}function Mn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=e,_=s,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(gr(E.type)){Ae=E.stateNode,jn=!1;break t}break;case 5:Ae=E.stateNode,jn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,jn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));qv(p,_,h),Ae=null,jn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Yv(s,e),s=s.sibling}var Pi=null;function Yv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(s,e),Nn(e),l&4&&(ur(3,e,e.return),Ul(3,e),ur(5,e,e.return));break;case 1:Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),l&64&&Ds&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pi;if(Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Yi]||p[ze]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),dn(p,l,a),p[ze]=e,Ue(p),l=p;break t;case"link":var _=Yx("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(p=_[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}p=h.createElement(l),dn(p,l,a),h.head.appendChild(p);break;case"meta":if(_=Yx("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(p=_[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}p=h.createElement(l),dn(p,l,a),h.head.appendChild(p);break;default:throw Error(r(468,l))}p[ze]=e,Ue(p),l=p}e.stateNode=l}else Kx(h,e.type,e.stateNode);else e.stateNode=Gx(h,l,e.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?Kx(h,e.type,e.stateNode):Gx(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Jd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),a!==null&&l&4&&Jd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(Tt){de(e,e.return,Tt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Jd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(np=!0);break;case 6:if(Mn(s,e),Nn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Tt){de(e,e.return,Tt)}}break;case 3:if(ff=null,h=Pi,Pi=uf(s.containerInfo),Mn(s,e),Pi=h,Nn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ro(s.containerInfo)}catch(Tt){de(e,e.return,Tt)}np&&(np=!1,Kv(e));break;case 4:l=Pi,Pi=uf(e.stateNode.containerInfo),Mn(s,e),Nn(e),Pi=l;break;case 12:Mn(s,e),Nn(e);break;case 31:Mn(s,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qc(e,l)));break;case 13:Mn(s,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xc=te()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qc(e,l)));break;case 22:h=e.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,W=Ds,st=Ye;if(Ds=W||h,Ye=st||P,Mn(s,e),Ye=st,Ds=W,Nn(e),l&8192)t:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||P||Ds||Ye||xa(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(p=P.stateNode,h)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=P.stateNode;var ct=P.memoizedProps.style,Z=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Tt){de(P,P.return,Tt)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(Tt){de(P,P.return,Tt)}}}else if(s.tag===18){if(a===null){P=s;try{var it=P.stateNode;h?Px(it,!0):Px(P.stateNode,!1)}catch(Tt){de(P,P.return,Tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qc(e,a))));break;case 19:Mn(s,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qc(e,l)));break;case 30:break;case 21:break;default:Mn(s,e),Nn(e)}}function Nn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,p=tp(e);Kc(e,p,h);break;case 5:var _=a.stateNode;a.flags&32&&(Vn(_,""),a.flags&=-33);var E=tp(e);Kc(e,E,_);break;case 3:case 4:var P=a.stateNode.containerInfo,W=tp(e);ep(e,W,P);break;default:throw Error(r(161))}}catch(st){de(e,e.return,st)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Kv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function js(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uv(e,s.alternate,s),s=s.sibling}function xa(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ur(4,s,s.return),xa(s);break;case 1:as(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Pv(s,s.return,a),xa(s);break;case 27:$l(s.stateNode);case 26:case 5:as(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}e=e.sibling}}function Ms(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=e,p=s,_=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(h,p,a),Ul(4,p);break;case 1:if(Ms(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(W){de(l,l.return,W)}if(l=p,h=l.updateQueue,h!==null){var E=l.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)E0(P[h],E)}catch(W){de(l,l.return,W)}}a&&_&64&&Ov(p),Fl(p,p.return);break;case 27:Bv(p);case 26:case 5:Ms(h,p,a),a&&l===null&&_&4&&Lv(p),Fl(p,p.return);break;case 12:Ms(h,p,a);break;case 31:Ms(h,p,a),a&&_&4&&Hv(h,p);break;case 13:Ms(h,p,a),a&&_&4&&Gv(h,p);break;case 22:p.memoizedState===null&&Ms(h,p,a),Fl(p,p.return);break;case 30:break;default:Ms(h,p,a)}s=s.sibling}}function ip(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Rl(a))}function sp(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Rl(e))}function Li(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qv(e,s,a,l),s=s.sibling}function Qv(e,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s,a,l),h&2048&&Ul(9,s);break;case 1:Li(e,s,a,l);break;case 3:Li(e,s,a,l),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Rl(e)));break;case 12:if(h&2048){Li(e,s,a,l),e=s.stateNode;try{var p=s.memoizedProps,_=p.id,E=p.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){de(s,s.return,P)}}else Li(e,s,a,l);break;case 31:Li(e,s,a,l);break;case 13:Li(e,s,a,l);break;case 23:break;case 22:p=s.stateNode,_=s.alternate,s.memoizedState!==null?p._visibility&2?Li(e,s,a,l):ql(e,s):p._visibility&2?Li(e,s,a,l):(p._visibility|=2,yo(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&ip(_,s);break;case 24:Li(e,s,a,l),h&2048&&sp(s.alternate,s);break;default:Li(e,s,a,l)}}function yo(e,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=e,_=s,E=a,P=l,W=_.flags;switch(_.tag){case 0:case 11:case 15:yo(p,_,E,P,h),Ul(8,_);break;case 23:break;case 22:var st=_.stateNode;_.memoizedState!==null?st._visibility&2?yo(p,_,E,P,h):ql(p,_):(st._visibility|=2,yo(p,_,E,P,h)),h&&W&2048&&ip(_.alternate,_);break;case 24:yo(p,_,E,P,h),h&&W&2048&&sp(_.alternate,_);break;default:yo(p,_,E,P,h)}s=s.sibling}}function ql(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,h=l.flags;switch(l.tag){case 22:ql(a,l),h&2048&&ip(l.alternate,l);break;case 24:ql(a,l),h&2048&&sp(l.alternate,l);break;default:ql(a,l)}s=s.sibling}}var Hl=8192;function vo(e,s,a){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)Wv(e,s,a),e=e.sibling}function Wv(e,s,a){switch(e.tag){case 26:vo(e,s,a),e.flags&Hl&&e.memoizedState!==null&&T2(a,Pi,e.memoizedState,e.memoizedProps);break;case 5:vo(e,s,a);break;case 3:case 4:var l=Pi;Pi=uf(e.stateNode.containerInfo),vo(e,s,a),Pi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,vo(e,s,a),Hl=l):vo(e,s,a));break;default:vo(e,s,a)}}function Xv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Gl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,Zv(l,e)}Xv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$v(e),e=e.sibling}function $v(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Wc(e)):Gl(e);break;default:Gl(e)}}function Wc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,Zv(l,e)}Xv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ur(8,s,s.return),Wc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(s));break;default:Wc(s)}e=e.sibling}}function Zv(e,s){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:ur(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else t:for(a=e;sn!==null;){l=sn;var h=l.sibling,p=l.return;if(Fv(l),l===a){sn=null;break t}if(h!==null){h.return=p,sn=h;break t}sn=p}}}var Lw={getCacheForType:function(e){var s=fn(qe),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return fn(qe).controller.signal}},kw=typeof WeakMap=="function"?WeakMap:Map,le=0,ve=null,qt=null,Gt=0,he=0,Qn=null,cr=!1,xo=!1,rp=!1,Ns=0,De=0,fr=0,ba=0,ap=0,Wn=0,bo=0,Yl=null,On=null,op=!1,Xc=0,Jv=0,$c=1/0,Zc=null,hr=null,Ze=0,dr=null,_o=null,Os=0,lp=0,up=null,tx=null,Kl=0,cp=null;function Xn(){return(le&2)!==0&&Gt!==0?Gt&-Gt:M.T!==null?gp():Ju()}function ex(){if(Wn===0)if((Gt&536870912)===0||Wt){var e=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Wn=e}else Wn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Wn}function Pn(e,s,a){(e===ve&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(To(e,0),pr(e,Gt,Wn,!1)),Qr(e,a),((le&2)===0||e!==ve)&&(e===ve&&((le&2)===0&&(ba|=a),De===4&&pr(e,Gt,Wn,!1)),os(e))}function nx(e,s,a){if((le&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Ci(e,s),h=l?Uw(e,s):hp(e,s,!0),p=l;do{if(h===0){xo&&!l&&pr(e,s,0,!1);break}else{if(a=e.current.alternate,p&&!Bw(a)){h=hp(e,s,!1),p=!1;continue}if(h===2){if(p=s,e.errorRecoveryDisabledLanes&p)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var E=e;h=Yl;var P=E.current.memoizedState.isDehydrated;if(P&&(To(E,_).flags|=256),_=hp(E,_,!1),_!==2){if(rp&&!P){E.errorRecoveryDisabledLanes|=p,ba|=p,h=4;break t}p=On,On=h,p!==null&&(On===null?On=p:On.push.apply(On,p))}h=_}if(p=!1,h!==2)continue}}if(h===1){To(e,0),pr(e,s,0,!0);break}t:{switch(l=e,p=h,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:pr(l,s,Wn,!cr);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Xc+300-te(),10<h)){if(pr(l,s,Wn,!cr),qi(l,0,!0)!==0)break t;Os=s,l.timeoutHandle=Mx(ix.bind(null,l,a,On,Zc,op,s,Wn,ba,bo,cr,p,"Throttled",-0,0),h);break t}ix(l,a,On,Zc,op,s,Wn,ba,bo,cr,p,null,-0,0)}}break}while(!0);os(e)}function ix(e,s,a,l,h,p,_,E,P,W,st,ct,Z,it){if(e.timeoutHandle=-1,ct=s.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},Wv(s,p,ct);var Tt=(p&62914560)===p?Xc-te():(p&4194048)===p?Jv-te():0;if(Tt=S2(ct,Tt),Tt!==null){Os=p,e.cancelPendingCommit=Tt(fx.bind(null,e,s,p,a,l,h,_,E,P,st,ct,null,Z,it)),pr(e,p,_,!W);return}}fx(e,s,p,a,l,h,_,E,P)}function Bw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!Hn(p(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pr(e,s,a,l){s&=~ap,s&=~ba,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var h=s;0<h;){var p=31-Me(h),_=1<<p;l[p]=-1,h&=~_}a!==0&&Wr(e,a,s)}function Jc(){return(le&6)===0?(Ql(0),!1):!0}function fp(){if(qt!==null){if(he===0)var e=qt.return;else e=qt,Es=fa=null,Cd(e),fo=null,Dl=0,e=qt;for(;e!==null;)Nv(e.alternate,e),e=e.return;qt=null}}function To(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,r2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Os=0,fp(),ve=e,qt=a=Ts(e.current,null),Gt=s,he=0,Qn=null,cr=!1,xo=Ci(e,s),rp=!1,bo=Wn=ap=ba=fr=De=0,On=Yl=null,op=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var h=31-Me(l),p=1<<h;s|=e[h],l&=~p}return Ns=s,bc(),a}function sx(e,s){zt=null,M.H=kl,s===co||s===Rc?(s=b0(),he=3):s===md?(s=b0(),he=4):he=s===qd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,qt===null&&(De=1,Fc(e,fi(s,e.current)))}function rx(){var e=Yn.current;return e===null?!0:(Gt&4194048)===Gt?mi===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?e===mi:!1}function ax(){var e=M.H;return M.H=kl,e===null?kl:e}function ox(){var e=M.A;return M.A=Lw,e}function tf(){De=4,cr||(Gt&4194048)!==Gt&&Yn.current!==null||(xo=!0),(fr&134217727)===0&&(ba&134217727)===0||ve===null||pr(ve,Gt,Wn,!1)}function hp(e,s,a){var l=le;le|=2;var h=ax(),p=ox();(ve!==e||Gt!==s)&&(Zc=null,To(e,s)),s=!1;var _=De;t:do try{if(he!==0&&qt!==null){var E=qt,P=Qn;switch(he){case 8:fp(),_=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var W=he;if(he=0,Qn=null,So(e,E,P,W),a&&xo){_=0;break t}break;default:W=he,he=0,Qn=null,So(e,E,P,W)}}zw(),_=De;break}catch(st){sx(e,st)}while(!0);return s&&e.shellSuspendCounter++,Es=fa=null,le=l,M.H=h,M.A=p,qt===null&&(ve=null,Gt=0,bc()),_}function zw(){for(;qt!==null;)lx(qt)}function Uw(e,s){var a=le;le|=2;var l=ax(),h=ox();ve!==e||Gt!==s?(Zc=null,$c=te()+500,To(e,s)):xo=Ci(e,s);t:do try{if(he!==0&&qt!==null){s=qt;var p=Qn;e:switch(he){case 1:he=0,Qn=null,So(e,s,p,1);break;case 2:case 9:if(v0(p)){he=0,Qn=null,ux(s);break}s=function(){he!==2&&he!==9||ve!==e||(he=7),os(e)},p.then(s,s);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:v0(p)?(he=0,Qn=null,ux(s)):(he=0,Qn=null,So(e,s,p,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var E=qt;if(_?Qx(_):E.stateNode.complete){he=0,Qn=null;var P=E.sibling;if(P!==null)qt=P;else{var W=E.return;W!==null?(qt=W,ef(W)):qt=null}break e}}he=0,Qn=null,So(e,s,p,5);break;case 6:he=0,Qn=null,So(e,s,p,6);break;case 8:fp(),De=6;break t;default:throw Error(r(462))}}Fw();break}catch(st){sx(e,st)}while(!0);return Es=fa=null,M.H=l,M.A=h,le=a,qt!==null?0:(ve=null,Gt=0,bc(),De)}function Fw(){for(;qt!==null&&!wt();)lx(qt)}function lx(e){var s=jv(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,s===null?ef(e):qt=s}function ux(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=wv(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=wv(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:Cd(s);default:Nv(a,s),s=qt=o0(s,Ns),s=jv(a,s,Ns)}e.memoizedProps=e.pendingProps,s===null?ef(e):qt=s}function So(e,s,a,l){Es=fa=null,Cd(s),fo=null,Dl=0;var h=s.return;try{if(Dw(e,h,s,a,Gt)){De=1,Fc(e,fi(a,e.current)),qt=null;return}}catch(p){if(h!==null)throw qt=h,p;De=1,Fc(e,fi(a,e.current)),qt=null;return}s.flags&32768?(Wt||l===1?e=!0:xo||(Gt&536870912)!==0?e=!1:(cr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cx(s,e)):ef(s)}function ef(e){var s=e;do{if((s.flags&32768)!==0){cx(s,cr);return}e=s.return;var a=Mw(s.alternate,s,Ns);if(a!==null){qt=a;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=e}while(s!==null);De===0&&(De=5)}function cx(e,s){do{var a=Nw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);De=6,qt=null}function fx(e,s,a,l,h,p,_,E,P){e.cancelPendingCommit=null;do nf();while(Ze!==0);if((le&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=td,Gh(e,a,p,_,E,P),e===ve&&(qt=ve=null,Gt=0),_o=s,dr=e,Os=a,lp=p,up=h,tx=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yw(Hs,function(){return gx(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=K.p,K.p=2,_=le,le|=4;try{Ow(e,s,a)}finally{le=_,K.p=h,M.T=l}}Ze=1,hx(),dx(),px()}}function hx(){if(Ze===1){Ze=0;var e=dr,s=_o,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=K.p;K.p=2;var h=le;le|=4;try{Yv(s,e);var p=Ep,_=Zy(e.containerInfo),E=p.focusedElem,P=p.selectionRange;if(_!==E&&E&&E.ownerDocument&&$y(E.ownerDocument.documentElement,E)){if(P!==null&&Wh(E)){var W=P.start,st=P.end;if(st===void 0&&(st=W),"selectionStart"in E)E.selectionStart=W,E.selectionEnd=Math.min(st,E.value.length);else{var ct=E.ownerDocument||document,Z=ct&&ct.defaultView||window;if(Z.getSelection){var it=Z.getSelection(),Tt=E.textContent.length,It=Math.min(P.start,Tt),ye=P.end===void 0?It:Math.min(P.end,Tt);!it.extend&&It>ye&&(_=ye,ye=It,It=_);var H=Xy(E,It),z=Xy(E,ye);if(H&&z&&(it.rangeCount!==1||it.anchorNode!==H.node||it.anchorOffset!==H.offset||it.focusNode!==z.node||it.focusOffset!==z.offset)){var Q=ct.createRange();Q.setStart(H.node,H.offset),it.removeAllRanges(),It>ye?(it.addRange(Q),it.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),it.addRange(Q))}}}}for(ct=[],it=E;it=it.parentNode;)it.nodeType===1&&ct.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ct.length;E++){var ot=ct[E];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}mf=!!Sp,Ep=Sp=null}finally{le=h,K.p=l,M.T=a}}e.current=s,Ze=2}}function dx(){if(Ze===2){Ze=0;var e=dr,s=_o,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=K.p;K.p=2;var h=le;le|=4;try{Uv(e,s.alternate,s)}finally{le=h,K.p=l,M.T=a}}Ze=3}}function px(){if(Ze===4||Ze===3){Ze=0,St();var e=dr,s=_o,a=Os,l=tx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,_o=dr=null,mx(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),vs(a),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(wi,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=M.T,h=K.p,K.p=2,M.T=null;try{for(var p=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];p(E.value,{componentStack:E.stack})}}finally{M.T=s,K.p=h}}(Os&3)!==0&&nf(),os(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cp?Kl++:(Kl=0,cp=e):Kl=0,Ql(0)}}function mx(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Rl(s)))}function nf(){return hx(),dx(),px(),gx()}function gx(){if(Ze!==5)return!1;var e=dr,s=lp;lp=0;var a=vs(Os),l=M.T,h=K.p;try{K.p=32>a?32:a,M.T=null,a=up,up=null;var p=dr,_=Os;if(Ze=0,_o=dr=null,Os=0,(le&6)!==0)throw Error(r(331));var E=le;if(le|=4,$v(p.current),Qv(p,p.current,_,a),le=E,Ql(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(wi,p)}catch{}return!0}finally{K.p=h,M.T=l,mx(e,s)}}function yx(e,s,a){s=fi(a,s),s=Fd(e.stateNode,s,2),e=ar(e,s,2),e!==null&&(Qr(e,2),os(e))}function de(e,s,a){if(e.tag===3)yx(e,e,a);else for(;s!==null;){if(s.tag===3){yx(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){e=fi(a,e),a=vv(2),l=ar(s,a,2),l!==null&&(xv(a,l,s,e),Qr(l,2),os(l));break}}s=s.return}}function dp(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new kw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(rp=!0,h.add(a),e=qw.bind(null,e,s,a),s.then(e,e))}function qw(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ve===e&&(Gt&a)===a&&(De===4||De===3&&(Gt&62914560)===Gt&&300>te()-Xc?(le&2)===0&&To(e,0):ap|=a,bo===Gt&&(bo=0)),os(e)}function vx(e,s){s===0&&(s=Zu()),e=la(e,s),e!==null&&(Qr(e,s),os(e))}function Hw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),vx(e,a)}function Gw(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),vx(e,a)}function Yw(e,s){return be(e,s)}var sf=null,Eo=null,pp=!1,rf=!1,mp=!1,mr=0;function os(e){e!==Eo&&e.next===null&&(Eo===null?sf=Eo=e:Eo=Eo.next=e),rf=!0,pp||(pp=!0,Qw())}function Ql(e,s){if(!mp&&rf){mp=!0;do for(var a=!1,l=sf;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var _=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Me(42|e)+1)-1,p&=h&~(_&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Tx(l,p))}else p=Gt,p=qi(l,l===ve?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ci(l,p)||(a=!0,Tx(l,p));l=l.next}while(a);mp=!1}}function Kw(){xx()}function xx(){rf=pp=!1;var e=0;mr!==0&&s2()&&(e=mr);for(var s=te(),a=null,l=sf;l!==null;){var h=l.next,p=bx(l,s);p===0?(l.next=null,a===null?sf=h:a.next=h,h===null&&(Eo=a)):(a=l,(e!==0||(p&3)!==0)&&(rf=!0)),l=h}Ze!==0&&Ze!==5||Ql(e),mr!==0&&(mr=0)}function bx(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var _=31-Me(p),E=1<<_,P=h[_];P===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Hh(E,s)):P<=s&&(e.expiredLanes|=E),p&=~E}if(s=ve,a=Gt,a=qi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(he===2||he===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ci(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&rt(l),vs(a)){case 2:case 8:a=si;break;case 32:a=Hs;break;case 268435456:a=Ku;break;default:a=Hs}return l=_x.bind(null,e),a=be(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&rt(l),e.callbackPriority=2,e.callbackNode=null,2}function _x(e,s){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nf()&&e.callbackNode!==a)return null;var l=Gt;return l=qi(e,e===ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(nx(e,l,s),bx(e,te()),e.callbackNode!=null&&e.callbackNode===a?_x.bind(null,e):null)}function Tx(e,s){if(nf())return null;nx(e,s,!0)}function Qw(){a2(function(){(le&6)!==0?be(ee,Kw):xx()})}function gp(){if(mr===0){var e=lo;e===0&&(e=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),mr=e}return mr}function Sx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ka(""+e)}function Ex(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Ww(e,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var p=Sx((h[en]||null).action),_=l.submitter;_&&(s=(s=_[en]||null)?Sx(s.formAction):_.getAttribute("formAction"),s!==null&&(p=s,_=null));var E=new ts("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mr!==0){var P=_?Ex(h,_):new FormData(h);Pd(a,{pending:!0,data:P,method:h.method,action:p},null,P)}}else typeof p=="function"&&(E.preventDefault(),P=_?Ex(h,_):new FormData(h),Pd(a,{pending:!0,data:P,method:h.method,action:p},p,P))},currentTarget:h}]})}}for(var yp=0;yp<Jh.length;yp++){var vp=Jh[yp],Xw=vp.toLowerCase(),$w=vp[0].toUpperCase()+vp.slice(1);Oi(Xw,"on"+$w)}Oi(e0,"onAnimationEnd"),Oi(n0,"onAnimationIteration"),Oi(i0,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(dw,"onTransitionRun"),Oi(pw,"onTransitionStart"),Oi(mw,"onTransitionCancel"),Oi(s0,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Ax(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var _=l.length-1;0<=_;_--){var E=l[_],P=E.instance,W=E.currentTarget;if(E=E.listener,P!==p&&h.isPropagationStopped())break t;p=E,h.currentTarget=W;try{p(h)}catch(st){xc(st)}h.currentTarget=null,p=P}else for(_=0;_<l.length;_++){if(E=l[_],P=E.instance,W=E.currentTarget,E=E.listener,P!==p&&h.isPropagationStopped())break t;p=E,h.currentTarget=W;try{p(h)}catch(st){xc(st)}h.currentTarget=null,p=P}}}}function Ht(e,s){var a=s[Fa];a===void 0&&(a=s[Fa]=new Set);var l=e+"__bubble";a.has(l)||(wx(s,e,2,!1),a.add(l))}function xp(e,s,a){var l=0;s&&(l|=4),wx(a,e,l,s)}var af="_reactListening"+Math.random().toString(36).slice(2);function bp(e){if(!e[af]){e[af]=!0,ol.forEach(function(a){a!=="selectionchange"&&(Zw.has(a)||xp(a,!1,e),xp(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[af]||(s[af]=!0,xp("selectionchange",!1,s))}}function wx(e,s,a,l){switch(e1(s)){case 2:var h=w2;break;case 8:h=C2;break;default:h=Op}a=h.bind(null,s,a,e),h=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function _p(e,s,a,l,h){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Ki(E),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){l=p=_;continue t}E=E.parentNode}}l=l.return}Xs(function(){var W=p,st=oi(a),ct=[];t:{var Z=r0.get(e);if(Z!==void 0){var it=ts,Tt=e;switch(e){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":it=gc;break;case"focusin":Tt="focus",it=sa;break;case"focusout":Tt="blur",it=sa;break;case"beforeblur":case"afterblur":it=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=x;break;case e0:case n0:case i0:it=uc;break;case s0:it=C;break;case"scroll":case"scrollend":it=xl;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=_s;break;case"toggle":case"beforetoggle":it=Bt}var It=(s&4)!==0,ye=!It&&(e==="scroll"||e==="scrollend"),H=It?Z!==null?Z+"Capture":null:Z;It=[];for(var z=W,Q;z!==null;){var ot=z;if(Q=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Q===null||H===null||(ot=Vi(z,H),ot!=null&&It.push(Xl(z,ot,Q))),ye)break;z=z.return}0<It.length&&(Z=new it(Z,Tt,null,a,st),ct.push({event:Z,listeners:It}))}}if((s&7)===0){t:{if(Z=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",Z&&a!==gl&&(Tt=a.relatedTarget||a.fromElement)&&(Ki(Tt)||Tt[Gi]))break t;if((it||Z)&&(Z=st.window===st?st:(Z=st.ownerDocument)?Z.defaultView||Z.parentWindow:window,it?(Tt=a.relatedTarget||a.toElement,it=W,Tt=Tt?Ki(Tt):null,Tt!==null&&(ye=u(Tt),It=Tt.tag,Tt!==ye||It!==5&&It!==27&&It!==6)&&(Tt=null)):(it=null,Tt=W),it!==Tt)){if(It=bl,ot="onMouseLeave",H="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(It=_s,ot="onPointerLeave",H="onPointerEnter",z="pointer"),ye=it==null?Z:Fn(it),Q=Tt==null?Z:Fn(Tt),Z=new It(ot,z+"leave",it,a,st),Z.target=ye,Z.relatedTarget=Q,ot=null,Ki(st)===W&&(It=new It(H,z+"enter",Tt,a,st),It.target=Q,It.relatedTarget=ye,ot=It),ye=ot,it&&Tt)e:{for(It=Jw,H=it,z=Tt,Q=0,ot=H;ot;ot=It(ot))Q++;ot=0;for(var Ct=z;Ct;Ct=It(Ct))ot++;for(;0<Q-ot;)H=It(H),Q--;for(;0<ot-Q;)z=It(z),ot--;for(;Q--;){if(H===z||z!==null&&H===z.alternate){It=H;break e}H=It(H),z=It(z)}It=null}else It=null;it!==null&&Cx(ct,Z,it,It,!1),Tt!==null&&ye!==null&&Cx(ct,ye,Tt,It,!0)}}t:{if(Z=W?Fn(W):window,it=Z.nodeName&&Z.nodeName.toLowerCase(),it==="select"||it==="input"&&Z.type==="file")var ne=Hy;else if(Fy(Z))if(Gy)ne=cw;else{ne=lw;var Et=ow}else it=Z.nodeName,!it||it.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Ya(W.elementType)&&(ne=Hy):ne=uw;if(ne&&(ne=ne(e,W))){qy(ct,ne,a,st);break t}Et&&Et(e,Z,W),e==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&dl(Z,"number",Z.value)}switch(Et=W?Fn(W):window,e){case"focusin":(Fy(Et)||Et.contentEditable==="true")&&(to=Et,Xh=W,Al=null);break;case"focusout":Al=Xh=to=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Jy(ct,a,st);break;case"selectionchange":if(hw)break;case"keydown":case"keyup":Jy(ct,a,st)}var Ut;if(oe)t:{switch(e){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Ja?ra(e,a)&&(Yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Yt="onCompositionStart");Yt&&(is&&a.locale!=="ko"&&(Ja||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ja&&(Ut=vl()):(Ji=st,yl="value"in Ji?Ji.value:Ji.textContent,Ja=!0)),Et=of(W,Yt),0<Et.length&&(Yt=new ns(Yt,e,null,a,st),ct.push({event:Yt,listeners:Et}),Ut?Yt.data=Ut:(Ut=Za(a),Ut!==null&&(Yt.data=Ut)))),(Ut=ui?iw(e,a):sw(e,a))&&(Yt=of(W,"onBeforeInput"),0<Yt.length&&(Et=new ns("onBeforeInput","beforeinput",null,a,st),ct.push({event:Et,listeners:Yt}),Et.data=Ut)),Ww(ct,e,W,a,st)}Ax(ct,s)})}function Xl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function of(e,s){for(var a=s+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Vi(e,a),h!=null&&l.unshift(Xl(e,h,p)),h=Vi(e,s),h!=null&&l.push(Xl(e,h,p))),e.tag===3)return l;e=e.return}return[]}function Jw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cx(e,s,a,l,h){for(var p=s._reactName,_=[];a!==null&&a!==l;){var E=a,P=E.alternate,W=E.stateNode;if(E=E.tag,P!==null&&P===l)break;E!==5&&E!==26&&E!==27||W===null||(P=W,h?(W=Vi(a,p),W!=null&&_.unshift(Xl(a,W,P))):h||(W=Vi(a,p),W!=null&&_.push(Xl(a,W,P)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var t2=/\r\n?/g,e2=/\u0000|\uFFFD/g;function Rx(e){return(typeof e=="string"?e:""+e).replace(t2,`
`).replace(e2,"")}function Ix(e,s){return s=Rx(s),Rx(e)===s}function ge(e,s,a,l,h,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vn(e,""+l);break;case"className":qn(e,"class",l);break;case"tabIndex":qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,a,l);break;case"style":ml(e,l,p);break;case"data":if(s!=="object"){qn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&ge(e,s,"name",h.name,h,null),ge(e,s,"formEncType",h.formEncType,h,null),ge(e,s,"formMethod",h.formMethod,h,null),ge(e,s,"formTarget",h.formTarget,h,null)):(ge(e,s,"encType",h.encType,h,null),ge(e,s,"method",h.method,h,null),ge(e,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Di);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ka(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Ha(e,"popover",l);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ac.get(a)||a,Ha(e,a,l))}}function Tp(e,s,a,l,h,p){switch(a){case"style":ml(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),p=e[en]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(s,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ha(e,a,l)}}}function dn(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var _=a[p];if(_!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,p,_,a,null)}}h&&ge(e,s,"srcSet",a.srcSet,a,null),l&&ge(e,s,"src",a.src,a,null);return;case"input":Ht("invalid",e);var E=p=_=h=null,P=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var st=a[l];if(st!=null)switch(l){case"name":h=st;break;case"type":_=st;break;case"checked":P=st;break;case"defaultChecked":W=st;break;case"value":p=st;break;case"defaultValue":E=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:ge(e,s,l,st,a,null)}}ic(e,p,E,P,W,_,h,!1);return;case"select":Ht("invalid",e),l=_=p=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":p=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:ge(e,s,h,E,a,null)}s=p,a=_,e.multiple=!!l,s!=null?Ys(e,!!l,s,!1):a!=null&&Ys(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),p=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ge(e,s,_,E,a,null)}Ks(e,l,h,p);return;case"option":for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null)&&(P==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ge(e,s,P,l,a,null));return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Wl.length;l++)Ht(Wl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,W,l,a,null)}return;default:if(Ya(s)){for(st in a)a.hasOwnProperty(st)&&(l=a[st],l!==void 0&&Tp(e,s,st,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ge(e,s,E,l,a,null))}function n2(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,E=null,P=null,W=null,st=null;for(it in a){var ct=a[it];if(a.hasOwnProperty(it)&&ct!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":P=ct;default:l.hasOwnProperty(it)||ge(e,s,it,null,l,ct)}}for(var Z in l){var it=l[Z];if(ct=a[Z],l.hasOwnProperty(Z)&&(it!=null||ct!=null))switch(Z){case"type":p=it;break;case"name":h=it;break;case"checked":W=it;break;case"defaultChecked":st=it;break;case"value":_=it;break;case"defaultValue":E=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:it!==ct&&ge(e,s,Z,it,l,ct)}}Ga(e,_,E,P,W,st,p,h);return;case"select":it=_=E=Z=null;for(p in a)if(P=a[p],a.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":it=P;default:l.hasOwnProperty(p)||ge(e,s,p,null,l,P)}for(h in l)if(p=l[h],P=a[h],l.hasOwnProperty(h)&&(p!=null||P!=null))switch(h){case"value":Z=p;break;case"defaultValue":E=p;break;case"multiple":_=p;default:p!==P&&ge(e,s,h,p,l,P)}s=E,a=_,l=it,Z!=null?Ys(e,!!a,Z,!1):!!l!=!!a&&(s!=null?Ys(e,!!a,s,!0):Ys(e,!!a,a?[]:"",!1));return;case"textarea":it=Z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ge(e,s,E,null,l,h)}for(_ in l)if(h=l[_],p=a[_],l.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":Z=h;break;case"defaultValue":it=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==p&&ge(e,s,_,h,l,p)}sc(e,Z,it);return;case"option":for(var Tt in a)Z=a[Tt],a.hasOwnProperty(Tt)&&Z!=null&&!l.hasOwnProperty(Tt)&&(Tt==="selected"?e.selected=!1:ge(e,s,Tt,null,l,Z));for(P in l)Z=l[P],it=a[P],l.hasOwnProperty(P)&&Z!==it&&(Z!=null||it!=null)&&(P==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ge(e,s,P,Z,l,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)Z=a[It],a.hasOwnProperty(It)&&Z!=null&&!l.hasOwnProperty(It)&&ge(e,s,It,null,l,Z);for(W in l)if(Z=l[W],it=a[W],l.hasOwnProperty(W)&&Z!==it&&(Z!=null||it!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ge(e,s,W,Z,l,it)}return;default:if(Ya(s)){for(var ye in a)Z=a[ye],a.hasOwnProperty(ye)&&Z!==void 0&&!l.hasOwnProperty(ye)&&Tp(e,s,ye,void 0,l,Z);for(st in l)Z=l[st],it=a[st],!l.hasOwnProperty(st)||Z===it||Z===void 0&&it===void 0||Tp(e,s,st,Z,l,it);return}}for(var H in a)Z=a[H],a.hasOwnProperty(H)&&Z!=null&&!l.hasOwnProperty(H)&&ge(e,s,H,null,l,Z);for(ct in l)Z=l[ct],it=a[ct],!l.hasOwnProperty(ct)||Z===it||Z==null&&it==null||ge(e,s,ct,Z,l,it)}function Dx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],p=h.transferSize,_=h.initiatorType,E=h.duration;if(p&&E&&Dx(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var P=a[l],W=P.startTime;if(W>E)break;var st=P.transferSize,ct=P.initiatorType;st&&Dx(ct)&&(P=P.responseEnd,_+=st*(P<E?1:(E-W)/(P-W)))}if(--l,s+=8*(p+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sp=null,Ep=null;function lf(e){return e.nodeType===9?e:e.ownerDocument}function Vx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jx(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Ap(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wp=null;function s2(){var e=window.event;return e&&e.type==="popstate"?e===wp?!1:(wp=e,!0):(wp=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,a2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(e){return Nx.resolve(null).then(e).catch(o2)}:Mx;function o2(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function Ox(e,s){var a=s,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ro(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")$l(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,$l(a);for(var p=a.firstChild;p;){var _=p.nextSibling,E=p.nodeName;p[Yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=_}}else a==="body"&&$l(e.ownerDocument.body);a=h}while(a);Ro(s)}function Px(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cp(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cp(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function l2(e,s,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function u2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=gi(e.nextSibling),e===null))return null;return e}function Lx(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=gi(e.nextSibling),e===null))return null;return e}function Rp(e){return e.data==="$?"||e.data==="$~"}function Ip(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function c2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function gi(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Dp=null;function kx(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return gi(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function Bx(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function zx(e,s,a){switch(s=lf(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function $l(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);qa(e)}var yi=new Map,Ux=new Set;function uf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ps=K.d;K.d={f:f2,r:h2,D:d2,C:p2,L:m2,m:g2,X:v2,S:y2,M:x2};function f2(){var e=Ps.f(),s=Jc();return e||s}function h2(e){var s=ai(e);s!==null&&s.tag===5&&s.type==="form"?sv(s):Ps.r(e)}var Ao=typeof document>"u"?null:document;function Fx(e,s,a){var l=Ao;if(l&&typeof s=="string"&&s){var h=Dn(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ux.has(h)||(Ux.add(h),e={rel:e,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),dn(s,"link",e),Ue(s),l.head.appendChild(s)))}}function d2(e){Ps.D(e),Fx("dns-prefetch",e,null)}function p2(e,s){Ps.C(e,s),Fx("preconnect",e,s)}function m2(e,s,a){Ps.L(e,s,a);var l=Ao;if(l&&e&&s){var h='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dn(a.imageSizes)+'"]')):h+='[href="'+Dn(e)+'"]';var p=h;switch(s){case"style":p=wo(e);break;case"script":p=Co(e)}yi.has(p)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),yi.set(p,e),l.querySelector(h)!==null||s==="style"&&l.querySelector(Zl(p))||s==="script"&&l.querySelector(Jl(p))||(s=l.createElement("link"),dn(s,"link",e),Ue(s),l.head.appendChild(s)))}}function g2(e,s){Ps.m(e,s);var a=Ao;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(e)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(e)}if(!yi.has(p)&&(e=b({rel:"modulepreload",href:e},s),yi.set(p,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(p)))return}l=a.createElement("link"),dn(l,"link",e),Ue(l),a.head.appendChild(l)}}}function y2(e,s,a){Ps.S(e,s,a);var l=Ao;if(l&&e){var h=Qi(l).hoistableStyles,p=wo(e);s=s||"default";var _=h.get(p);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Zl(p)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=yi.get(p))&&Vp(e,a);var P=_=l.createElement("link");Ue(P),dn(P,"link",e),P._p=new Promise(function(W,st){P.onload=W,P.onerror=st}),P.addEventListener("load",function(){E.loading|=1}),P.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cf(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(p,_)}}}function v2(e,s){Ps.X(e,s);var a=Ao;if(a&&e){var l=Qi(a).hoistableScripts,h=Co(e),p=l.get(h);p||(p=a.querySelector(Jl(h)),p||(e=b({src:e,async:!0},s),(s=yi.get(h))&&jp(e,s),p=a.createElement("script"),Ue(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function x2(e,s){Ps.M(e,s);var a=Ao;if(a&&e){var l=Qi(a).hoistableScripts,h=Co(e),p=l.get(h);p||(p=a.querySelector(Jl(h)),p||(e=b({src:e,async:!0,type:"module"},s),(s=yi.get(h))&&jp(e,s),p=a.createElement("script"),Ue(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function qx(e,s,a,l){var h=(h=dt.current)?uf(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=wo(a.href),a=Qi(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wo(a.href);var p=Qi(h).hoistableStyles,_=p.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,_),(p=h.querySelector(Zl(e)))&&!p._p&&(_.instance=p,_.state.loading=5),yi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(e,a),p||b2(h,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(a),a=Qi(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wo(e){return'href="'+Dn(e)+'"'}function Zl(e){return'link[rel="stylesheet"]['+e+"]"}function Hx(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function b2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dn(s,"link",a),Ue(s),e.head.appendChild(s))}function Co(e){return'[src="'+Dn(e)+'"]'}function Jl(e){return"script[async]"+e}function Gx(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Dn(a.href)+'"]');if(l)return s.instance=l,Ue(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),dn(l,"style",h),cf(l,a.precedence,e),s.instance=l;case"stylesheet":h=wo(a.href);var p=e.querySelector(Zl(h));if(p)return s.state.loading|=4,s.instance=p,Ue(p),p;l=Hx(a),(h=yi.get(h))&&Vp(l,h),p=(e.ownerDocument||e).createElement("link"),Ue(p);var _=p;return _._p=new Promise(function(E,P){_.onload=E,_.onerror=P}),dn(p,"link",l),s.state.loading|=4,cf(p,a.precedence,e),s.instance=p;case"script":return p=Co(a.src),(h=e.querySelector(Jl(p)))?(s.instance=h,Ue(h),h):(l=a,(h=yi.get(p))&&(l=b({},a),jp(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ue(h),dn(h,"link",l),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,cf(l,a.precedence,e));return s.instance}function cf(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===s)p=E;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Vp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function jp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var ff=null;function Yx(e,s,a){if(ff===null){var l=new Map,h=ff=new Map;h.set(a,l)}else h=ff,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var p=a[h];if(!(p[Yi]||p[ze]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(s)||"";_=e+_;var E=l.get(_);E?E.push(p):l.set(_,[p])}}return l}function Kx(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function _2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function T2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=wo(l.href),p=s.querySelector(Zl(h));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=hf.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=p,Ue(p);return}p=s.ownerDocument||s,l=Hx(l),(h=yi.get(h))&&Vp(l,h),p=p.createElement("link"),Ue(p);var _=p;_._p=new Promise(function(E,P){_.onload=E,_.onerror=P}),dn(p,"link",l),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=hf.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Mp=0;function S2(e,s){return e.stylesheets&&e.count===0&&pf(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&pf(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+s);0<e.imgBytes&&Mp===0&&(Mp=62500*i2());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pf(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Mp?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var df=null;function pf(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,df=new Map,s.forEach(E2,e),df=null,hf.call(e))}function E2(e,s){if(!(s.state.loading&4)){var a=df.get(e);if(a)var l=a.get(null);else{a=new Map,df.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),p=a.get(_)||l,p===l&&a.set(null,h),a.set(_,h),this.count++,l=hf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var tu={$$typeof:q,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function A2(e,s,a,l,h,p,_,E,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Wx(e,s,a,l,h,p,_,E,P,W,st,ct){return e=new A2(e,s,a,_,P,W,st,ct,E),s=1,p===!0&&(s|=24),p=Gn(3,null,null,s),e.current=p,p.stateNode=e,s=hd(),s.refCount++,e.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},gd(p),e}function Xx(e){return e?(e=io,e):io}function $x(e,s,a,l,h,p){h=Xx(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=ar(e,l,s),a!==null&&(Pn(a,e,s),jl(a,e,s))}function Zx(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Np(e,s){Zx(e,s),(e=e.alternate)&&Zx(e,s)}function Jx(e){if(e.tag===13||e.tag===31){var s=la(e,67108864);s!==null&&Pn(s,e,67108864),Np(e,67108864)}}function t1(e){if(e.tag===13||e.tag===31){var s=Xn();s=Xr(s);var a=la(e,s);a!==null&&Pn(a,e,s),Np(e,s)}}var mf=!0;function w2(e,s,a,l){var h=M.T;M.T=null;var p=K.p;try{K.p=2,Op(e,s,a,l)}finally{K.p=p,M.T=h}}function C2(e,s,a,l){var h=M.T;M.T=null;var p=K.p;try{K.p=8,Op(e,s,a,l)}finally{K.p=p,M.T=h}}function Op(e,s,a,l){if(mf){var h=Pp(l);if(h===null)_p(e,s,l,gf,a),n1(e,l);else if(I2(h,e,s,a,l))l.stopPropagation();else if(n1(e,l),s&4&&-1<R2.indexOf(e)){for(;h!==null;){var p=ai(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Fi(p.pendingLanes);if(_!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var P=1<<31-Me(_);E.entanglements[1]|=P,_&=~P}os(p),(le&6)===0&&($c=te()+500,Ql(0))}}break;case 31:case 13:E=la(p,2),E!==null&&Pn(E,p,2),Jc(),Np(p,2)}if(p=Pp(l),p===null&&_p(e,s,l,gf,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else _p(e,s,l,null,a)}}function Pp(e){return e=oi(e),Lp(e)}var gf=null;function Lp(e){if(gf=null,e=Ki(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=d(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return gf=e,null}function e1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case ee:return 2;case si:return 8;case Hs:case qh:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var kp=!1,yr=null,vr=null,xr=null,eu=new Map,nu=new Map,br=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(e,s){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(s.pointerId)}}function iu(e,s,a,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},s!==null&&(s=ai(s),s!==null&&Jx(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function I2(e,s,a,l,h){switch(s){case"focusin":return yr=iu(yr,e,s,a,l,h),!0;case"dragenter":return vr=iu(vr,e,s,a,l,h),!0;case"mouseover":return xr=iu(xr,e,s,a,l,h),!0;case"pointerover":var p=h.pointerId;return eu.set(p,iu(eu.get(p)||null,e,s,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,nu.set(p,iu(nu.get(p)||null,e,s,a,l,h)),!0}return!1}function i1(e){var s=Ki(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Ri(e.priority,function(){t1(a)});return}}else if(s===31){if(s=d(a),s!==null){e.blockedOn=s,Ri(e.priority,function(){t1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yf(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Pp(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);gl=l,a.target.dispatchEvent(l),gl=null}else return s=ai(a),s!==null&&Jx(s),e.blockedOn=a,!1;s.shift()}return!0}function s1(e,s,a){yf(e)&&a.delete(s)}function D2(){kp=!1,yr!==null&&yf(yr)&&(yr=null),vr!==null&&yf(vr)&&(vr=null),xr!==null&&yf(xr)&&(xr=null),eu.forEach(s1),nu.forEach(s1)}function vf(e,s){e.blockedOn===s&&(e.blockedOn=null,kp||(kp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,D2)))}var xf=null;function r1(e){xf!==e&&(xf=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xf===e&&(xf=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],h=e[s+2];if(typeof l!="function"){if(Lp(l||a)===null)continue;break}var p=ai(a);p!==null&&(e.splice(s,3),s-=3,Pd(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ro(e){function s(P){return vf(P,e)}yr!==null&&vf(yr,e),vr!==null&&vf(vr,e),xr!==null&&vf(xr,e),eu.forEach(s),nu.forEach(s);for(var a=0;a<br.length;a++){var l=br[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)i1(a),a.blockedOn===null&&br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],_=h[en]||null;if(typeof p=="function")_||r1(a);else if(_){var E=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[en]||null)E=_.formAction;else if(Lp(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),r1(a)}}}function a1(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Bp(e){this._internalRoot=e}bf.prototype.render=Bp.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Xn();$x(a,l,e,s,null,null)},bf.prototype.unmount=Bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;$x(e.current,2,null,e,null,null),Jc(),s[Gi]=null}};function bf(e){this._internalRoot=e}bf.prototype.unstable_scheduleHydration=function(e){if(e){var s=Ju();e={blockedOn:null,target:e,priority:s};for(var a=0;a<br.length&&s!==0&&s<br[a].priority;a++);br.splice(a,0,e),a===0&&i1(e)}};var o1=t.version;if(o1!=="19.2.3")throw Error(r(527,o1,"19.2.3"));K.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var V2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{wi=_f.inject(V2),ln=_f}catch{}}return ru.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",h=pv,p=mv,_=gv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Wx(e,1,!1,null,null,a,l,null,h,p,_,a1),e[Gi]=s.current,bp(e),new Bp(s)},ru.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,h="",p=pv,_=mv,E=gv,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=Wx(e,1,!0,s,a??null,l,h,P,p,_,E,a1),s.context=Xx(null),a=s.current,l=Xn(),l=Xr(l),h=rr(l),h.callback=null,ar(a,h,l),a=l,s.current.lanes=a,Qr(s,a),os(s),e[Gi]=s.current,bp(e),new bf(s)},ru.version="19.2.3",ru}var y1;function U2(){if(y1)return Fp.exports;y1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Fp.exports=z2(),Fp.exports}var F2=U2();const q2=()=>{};var v1={};const uT=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},H2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],d=n[i++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|y>>6,D=y&63;g||(D=64,c||(S=64)),r.push(i[v],i[b],i[S],i[D])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(uT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):H2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const y=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||y==null||b==null)throw new G2;const S=u<<2|d>>4;if(r.push(S),y!==64){const D=d<<4&240|y>>2;if(r.push(D),b!==64){const N=y<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class G2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y2=function(n){const t=uT(n);return cT.encodeByteArray(t,!0)},Yf=function(n){return Y2(n).replace(/\./g,"")},K2=function(n){try{return cT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const W2=()=>Q2().__FIREBASE_DEFAULTS__,X2=()=>{if(typeof process>"u"||typeof v1>"u")return;const n=v1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&K2(n[1]);return t&&JSON.parse(t)},yg=()=>{try{return q2()||W2()||X2()||$2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Z2=n=>yg()?.emulatorHosts?.[n],J2=n=>{const t=Z2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},fT=()=>yg()?.config;class tC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function vg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eC(n){return(await fetch(n,{credentials:"include"})).ok}function nC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yf(JSON.stringify(i)),Yf(JSON.stringify(c)),""].join(".")}const hu={};function iC(){const n={prod:[],emulator:[]};for(const t of Object.keys(hu))hu[t]?n.emulator.push(t):n.prod.push(t);return n}function sC(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let x1=!1;function rC(n,t){if(typeof window>"u"||typeof document>"u"||!vg(window.location.host)||hu[n]===t||hu[n]||x1)return;hu[n]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=iC().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{x1=!0,c()},S}function v(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=sC(r),D=i("text"),N=document.getElementById(D)||document.createElement("span"),B=i("learnmore"),F=document.getElementById(B)||document.createElement("a"),X=i("preprendIcon"),L=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;d(q),v(F,B);const G=y();g(L,X),q.append(L,N,F,G),document.body.appendChild(q)}u?(N.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function aC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oC(){const n=yg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uC(){return!oC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function cC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const fC="FirebaseError";class Fr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=fC,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mh.prototype.create)}}class mh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?hC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Fr(o,d,r)}}function hC(n,t){return n.replace(dC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const dC=/\{\$([^}]+)}/g;function _u(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(b1(u)&&b1(c)){if(!_u(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function b1(n){return n!==null&&typeof n=="object"}const pC=1e3,mC=2,gC=14400*1e3,yC=.5;function _1(n,t=pC,i=mC){const r=t*Math.pow(i,n),o=Math.round(yC*r*(Math.random()-.5)*2);return Math.min(gC,r+o)}function ni(n){return n&&n._delegate?n._delegate:n}class ks{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class vC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new tC;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bC(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xC(n){return n===Ea?void 0:n}function bC(n){return n.instantiationMode==="EAGER"}class _C{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new vC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Zt||(Zt={}));const TC={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},SC=Zt.INFO,EC={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},AC=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=EC[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xg{constructor(t){this.name=t,this._logLevel=SC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const wC=(n,t)=>t.some(i=>n instanceof i);let T1,S1;function CC(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RC(){return S1||(S1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Sm=new WeakMap,mT=new WeakMap,Yp=new WeakMap,bg=new WeakMap;function IC(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Cr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&pT.set(i,n)}).catch(()=>{}),bg.set(t,n),t}function DC(n){if(Sm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Sm.set(n,t)}let Em={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Sm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||mT.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function VC(n){Em=n(Em)}function jC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Kp(this),t,...i);return mT.set(r,t.sort?t.sort():[t]),Cr(r)}:RC().includes(n)?function(...t){return n.apply(Kp(this),t),Cr(pT.get(this))}:function(...t){return Cr(n.apply(Kp(this),t))}}function MC(n){return typeof n=="function"?jC(n):(n instanceof IDBTransaction&&DC(n),wC(n,CC())?new Proxy(n,Em):n)}function Cr(n){if(n instanceof IDBRequest)return IC(n);if(Yp.has(n))return Yp.get(n);const t=MC(n);return t!==n&&(Yp.set(n,t),bg.set(t,n)),t}const Kp=n=>bg.get(n);function gT(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=Cr(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Cr(c.result),g.oldVersion,g.newVersion,Cr(c.transaction),g)}),i&&c.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const NC=["get","getKey","getAll","getAllKeys","count"],OC=["put","add","delete","clear"],Qp=new Map;function E1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Qp.get(t))return Qp.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=OC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||NC.includes(i)))return;const u=async function(c,...d){const g=this.transaction(c,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[i](...d),o&&g.done]))[0]};return Qp.set(t,u),u}VC(n=>({...n,get:(t,i,r)=>E1(t,i)||n.get(t,i,r),has:(t,i)=>!!E1(t,i)||n.has(t,i)}));class PC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function LC(n){return n.getComponent()?.type==="VERSION"}const Am="@firebase/app",A1="0.14.6";const Bs=new xg("@firebase/app"),kC="@firebase/app-compat",BC="@firebase/analytics-compat",zC="@firebase/analytics",UC="@firebase/app-check-compat",FC="@firebase/app-check",qC="@firebase/auth",HC="@firebase/auth-compat",GC="@firebase/database",YC="@firebase/data-connect",KC="@firebase/database-compat",QC="@firebase/functions",WC="@firebase/functions-compat",XC="@firebase/installations",$C="@firebase/installations-compat",ZC="@firebase/messaging",JC="@firebase/messaging-compat",tR="@firebase/performance",eR="@firebase/performance-compat",nR="@firebase/remote-config",iR="@firebase/remote-config-compat",sR="@firebase/storage",rR="@firebase/storage-compat",aR="@firebase/firestore",oR="@firebase/ai",lR="@firebase/firestore-compat",uR="firebase",cR="12.6.0";const wm="[DEFAULT]",fR={[Am]:"fire-core",[kC]:"fire-core-compat",[zC]:"fire-analytics",[BC]:"fire-analytics-compat",[FC]:"fire-app-check",[UC]:"fire-app-check-compat",[qC]:"fire-auth",[HC]:"fire-auth-compat",[GC]:"fire-rtdb",[YC]:"fire-data-connect",[KC]:"fire-rtdb-compat",[QC]:"fire-fn",[WC]:"fire-fn-compat",[XC]:"fire-iid",[$C]:"fire-iid-compat",[ZC]:"fire-fcm",[JC]:"fire-fcm-compat",[tR]:"fire-perf",[eR]:"fire-perf-compat",[nR]:"fire-rc",[iR]:"fire-rc-compat",[sR]:"fire-gcs",[rR]:"fire-gcs-compat",[aR]:"fire-fst",[lR]:"fire-fst-compat",[oR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};const Kf=new Map,hR=new Map,Cm=new Map;function w1(n,t){try{n.container.addComponent(t)}catch(i){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function jr(n){const t=n.name;if(Cm.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,n);for(const i of Kf.values())w1(i,n);for(const i of hR.values())w1(i,n);return!0}function Pu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function dR(n){return n==null?!1:n.settings!==void 0}const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new mh("app","Firebase",pR);class mR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const gR=cR;function yT(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:wm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=fT()),!i)throw Rr.create("no-options");const u=Kf.get(o);if(u){if(_u(i,u.options)&&_u(r,u.config))return u;throw Rr.create("duplicate-app",{appName:o})}const c=new _C(o);for(const g of Cm.values())c.addComponent(g);const d=new mR(i,r,c);return Kf.set(o,d),d}function vT(n=wm){const t=Kf.get(n);if(!t&&n===wm&&fT())return yT();if(!t)throw Rr.create("no-app",{appName:n});return t}function us(n,t,i){let r=fR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}jr(new ks(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const yR="firebase-heartbeat-database",vR=1,Tu="firebase-heartbeat-store";let Wp=null;function xT(){return Wp||(Wp=gT(yR,vR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Tu)}catch(i){console.warn(i)}}}}).catch(n=>{throw Rr.create("idb-open",{originalErrorMessage:n.message})})),Wp}async function xR(n){try{const i=(await xT()).transaction(Tu),r=await i.objectStore(Tu).get(bT(n));return await i.done,r}catch(t){if(t instanceof Fr)Bs.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t?.message});Bs.warn(i.message)}}}async function C1(n,t){try{const r=(await xT()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(t,bT(n)),await r.done}catch(i){if(i instanceof Fr)Bs.warn(i.message);else{const r=Rr.create("idb-set",{originalErrorMessage:i?.message});Bs.warn(r.message)}}}function bT(n){return`${n.name}!${n.options.appId}`}const bR=1024,_R=30;class TR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ER(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>_R){const o=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R1(),{heartbeatsToSend:i,unsentEntries:r}=SR(this._heartbeatsCache.heartbeats),o=Yf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bs.warn(t),""}}}function R1(){return new Date().toISOString().substring(0,10)}function SR(n,t=bR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),I1(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),I1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ER{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return C1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return C1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function I1(n){return Yf(JSON.stringify({version:2,heartbeats:n})).length}function AR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}function wR(n){jr(new ks("platform-logger",t=>new PC(t),"PRIVATE")),jr(new ks("heartbeat",t=>new TR(t),"PRIVATE")),us(Am,A1,n),us(Am,A1,"esm2020"),us("fire-js","")}wR("");var CR="firebase",RR="12.7.0";us(CR,RR,"app");var D1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,_T;(function(){var n;function t(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(j,V,k){for(var I=Array(arguments.length-2),At=2;At<arguments.length;At++)I[At-2]=arguments[At];return A.prototype[V].apply(j,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);const j=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)j[V]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(V=0;V<16;++V)j[V]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],V=R.g[2];let k=R.g[3],I;I=A+(k^w&(V^k))+j[0]+3614090360&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[3]+3250441966&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(k^w&(V^k))+j[4]+4118548399&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[7]+4249261313&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(k^w&(V^k))+j[8]+1770035416&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[11]+2304563134&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(k^w&(V^k))+j[12]+1804603682&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[15]+1236535329&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(V^k&(w^V))+j[1]+4129170786&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[0]+3921069994&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(V^k&(w^V))+j[5]+3593408605&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[4]+3889429448&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(V^k&(w^V))+j[9]+568446438&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[8]+1163531501&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(V^k&(w^V))+j[13]+2850285829&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[12]+2368359562&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(w^V^k)+j[5]+4294588738&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[14]+4259657740&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(w^V^k)+j[1]+2763975236&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[10]+3200236656&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(w^V^k)+j[13]+681279174&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[6]+76029189&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(w^V^k)+j[9]+3654602809&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[2]+3299628645&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(V^(w|~k))+j[0]+4096336452&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[5]+4237533241&4294967295,w=V+(I<<21&4294967295|I>>>11),I=A+(V^(w|~k))+j[12]+1700485571&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[1]+2240044497&4294967295,w=V+(I<<21&4294967295|I>>>11),I=A+(V^(w|~k))+j[8]+1873313359&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[13]+1309151649&4294967295,w=V+(I<<21&4294967295|I>>>11),I=A+(V^(w|~k))+j[4]+4149444226&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,j=this.C;let V=this.h,k=0;for(;k<A;){if(V==0)for(;k<=w;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(j[V++]=R.charCodeAt(k++),V==this.blockSize){o(this,j),V=0;break}}else for(;k<A;)if(j[V++]=R[k++],V==this.blockSize){o(this,j),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let j=0;j<32;j+=8)R[A++]=this.g[w]>>>j&255;return R};function u(R,A){var w=d;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function c(R,A){this.h=A;const w=[];let j=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;j&&k==A||(w[V]=k,j=!1)}this.g=w}var d={};function g(R){return-128<=R&&R<128?u(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return F(y(-R));const A=[];let w=1;for(let j=0;R>=w;j++)A[j]=R/w|0,w*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return F(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let j=b;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const I=parseInt(R.substring(k,k+V),A);V<8?(V=y(Math.pow(A,V)),j=j.j(V).add(y(I))):(j=j.j(w),j=j.add(y(I)))}return j}var b=g(0),S=g(1),D=g(16777216);n=c.prototype,n.m=function(){if(B(this))return-F(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const j=this.i(w);R+=(j>=0?j:4294967296+j)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(B(this))return"-"+F(this).toString(R);const A=y(Math.pow(R,6));var w=this;let j="";for(;;){const V=G(w,A).g;w=X(w,V.j(A));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=V,N(w))return k+j;for(;k.length<6;)k="0"+k;j=k+j}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function B(R){return R.h==-1}n.l=function(R){return R=X(this,R),B(R)?-1:N(R)?0:1};function F(R){const A=R.g.length,w=[];for(let j=0;j<A;j++)w[j]=~R.g[j];return new c(w,~R.h).add(S)}n.abs=function(){return B(this)?F(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let j=0;for(let V=0;V<=A;V++){let k=j+(this.i(V)&65535)+(R.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);j=I>>>16,k&=65535,I&=65535,w[V]=I<<16|k}return new c(w,w[w.length-1]&-2147483648?-1:0)};function X(R,A){return R.add(F(A))}n.j=function(R){if(N(this)||N(R))return b;if(B(this))return B(R)?F(this).j(F(R)):F(F(this).j(R));if(B(R))return F(this.j(F(R)));if(this.l(D)<0&&R.l(D)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var j=0;j<2*A;j++)w[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<R.g.length;V++){const k=this.i(j)>>>16,I=this.i(j)&65535,At=R.i(V)>>>16,Ft=R.i(V)&65535;w[2*j+2*V]+=I*Ft,L(w,2*j+2*V),w[2*j+2*V+1]+=k*Ft,L(w,2*j+2*V+1),w[2*j+2*V+1]+=I*At,L(w,2*j+2*V+1),w[2*j+2*V+2]+=k*At,L(w,2*j+2*V+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new c(w,0)};function L(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function q(R,A){this.g=R,this.h=A}function G(R,A){if(N(A))throw Error("division by zero");if(N(R))return new q(b,b);if(B(R))return A=G(F(R),A),new q(F(A.g),F(A.h));if(B(A))return A=G(R,F(A)),new q(F(A.g),A.h);if(R.g.length>30){if(B(R)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var w=S,j=A;j.l(R)<=0;)w=tt(w),j=tt(j);var V=et(w,1),k=et(j,1);for(j=et(j,2),w=et(w,2);!N(j);){var I=k.add(j);I.l(R)<=0&&(V=V.add(w),k=I),j=et(j,1),w=et(w,1)}return A=X(R,V.j(A)),new q(V,A)}for(V=b;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(w)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),k=y(w),I=k.j(A);B(I)||I.l(R)>0;)w-=j,k=y(w),I=k.j(A);N(k)&&(k=S),V=V.add(k),R=X(R,I)}return new q(V,R)}n.B=function(R){return G(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let j=0;j<A;j++)w[j]=this.i(j)&R.i(j);return new c(w,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let j=0;j<A;j++)w[j]=this.i(j)|R.i(j);return new c(w,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let j=0;j<A;j++)w[j]=this.i(j)^R.i(j);return new c(w,this.h^R.h)};function tt(R){const A=R.g.length+1,w=[];for(let j=0;j<A;j++)w[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(w,R.h)}function et(R,A){const w=A>>5;A%=32;const j=R.g.length-w,V=[];for(let k=0;k<j;k++)V[k]=A>0?R.i(k+w)>>>A|R.i(k+w+1)<<32-A:R.i(k+w);return new c(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_T=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Ir=c}).apply(typeof D1<"u"?D1:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,ou,ST,Of,Rm,ET,AT,wT;(function(){var n,t=Object.defineProperty;function i(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var x=0;x<f.length;++x){var T=f[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(f,x){if(x)t:{var T=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var Y=f[C];if(!(Y in T))break t;T=T[Y]}f=f[f.length-1],C=T[f],x=x(C),x!=C&&x!=null&&t(T,f,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(x){var T=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&T.push([C,x[C]]);return T}});var u=u||{},c=this||self;function d(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function g(f,x,T){return f.call.apply(f.bind,arguments)}function y(f,x,T){return y=g,y.apply(null,arguments)}function v(f,x){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function b(f,x){function T(){}T.prototype=x.prototype,f.Z=x.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,Y,nt){for(var mt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)mt[Bt-2]=arguments[Bt];return x.prototype[Y].apply(C,mt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function D(f){const x=f.length;if(x>0){const T=Array(x);for(let C=0;C<x;C++)T[C]=f[C];return T}return[]}function N(f,x){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=f.length||0;const nt=Y.length||0;f.length=T+nt;for(let mt=0;mt<nt;mt++)f[T+mt]=Y[mt]}else f.push(Y)}}class B{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function F(f){c.setTimeout(()=>{throw f},0)}function X(){var f=R;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class L{constructor(){this.h=this.g=null}add(x,T){const C=q.get();C.set(x,T),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new B(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,et=!1,R=new L,A=()=>{const f=Promise.resolve(void 0);tt=()=>{f.then(w)}};function w(){for(var f;f=X();){try{f.h.call(f.g)}catch(T){F(T)}var x=q;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}et=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function At(f,x){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}b(At,V),At.prototype.init=function(f,x){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(T=="mouseover"?x=f.fromElement:T=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&At.Z.h.call(this)},At.prototype.h=function(){At.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),M=0;function K(f,x,T,C,Y){this.listener=f,this.proxy=null,this.src=x,this.type=T,this.capture=!!C,this.ha=Y,this.key=++M,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pt(f,x,T){for(const C in f)x.call(T,f[C],C,f)}function vt(f,x){for(const T in f)x.call(void 0,f[T],T,f)}function O(f){const x={};for(const T in f)x[T]=f[T];return x}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(f,x){let T,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(T in C)f[T]=C[T];for(let nt=0;nt<J.length;nt++)T=J[nt],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function ht(f){this.src=f,this.g={},this.h=0}ht.prototype.add=function(f,x,T,C,Y){const nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);const mt=dt(f,x,C,Y);return mt>-1?(x=f[mt],T||(x.fa=!1)):(x=new K(x,this.src,nt,!!C,Y),x.fa=T,f.push(x)),x};function gt(f,x){const T=x.type;if(T in f.g){var C=f.g[T],Y=Array.prototype.indexOf.call(C,x,void 0),nt;(nt=Y>=0)&&Array.prototype.splice.call(C,Y,1),nt&&($(x),f.g[T].length==0&&(delete f.g[T],f.h--))}}function dt(f,x,T,C){for(let Y=0;Y<f.length;++Y){const nt=f[Y];if(!nt.da&&nt.listener==x&&nt.capture==!!T&&nt.ha==C)return Y}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),se={};function Xt(f,x,T,C,Y){if(Array.isArray(x)){for(let nt=0;nt<x.length;nt++)Xt(f,x[nt],T,C,Y);return null}return T=ys(T),f&&f[Ft]?f.J(x,T,d(C)?!!C.capture:!1,Y):vn(f,x,T,!1,C,Y)}function vn(f,x,T,C,Y,nt){if(!x)throw Error("Invalid event type");const mt=d(Y)?!!Y.capture:!!Y;let Bt=Ei(f);if(Bt||(f[_t]=Bt=new ht(f)),T=Bt.add(x,T,C,mt,nt),T.proxy)return T;if(C=zn(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)k||(Y=mt),Y===void 0&&(Y=!1),f.addEventListener(x.toString(),C,Y);else if(f.attachEvent)f.attachEvent(bn(x.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zn(){function f(T){return x.call(f.src,f.listener,T)}const x=ii;return f}function Un(f,x,T,C,Y){if(Array.isArray(x))for(var nt=0;nt<x.length;nt++)Un(f,x[nt],T,C,Y);else C=d(C)?!!C.capture:!!C,T=ys(T),f&&f[Ft]?(f=f.i,nt=String(x).toString(),nt in f.g&&(x=f.g[nt],T=dt(x,T,C,Y),T>-1&&($(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete f.g[nt],f.h--)))):f&&(f=Ei(f))&&(x=f.g[x.toString()],f=-1,x&&(f=dt(x,T,C,Y)),(T=f>-1?x[f]:null)&&xn(T))}function xn(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ft])gt(x.i,f);else{var T=f.type,C=f.proxy;x.removeEventListener?x.removeEventListener(T,C,f.capture):x.detachEvent?x.detachEvent(bn(T),C):x.addListener&&x.removeListener&&x.removeListener(C),(T=Ei(x))?(gt(T,f),T.h==0&&(T.src=null,x[_t]=null)):$(f)}}}function bn(f){return f in se?se[f]:se[f]="on"+f}function ii(f,x){if(f.da)f=!0;else{x=new At(x,this);const T=f.listener,C=f.ha||f.src;f.fa&&xn(f),f=T.call(C,x)}return f}function Ei(f){return f=f[_t],f instanceof ht?f:null}var Ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(f){return typeof f=="function"?f:(f[Ai]||(f[Ai]=function(x){return f.handleEvent(x)}),f[Ai])}function re(){j.call(this),this.i=new ht(this),this.M=this,this.G=null}b(re,j),re.prototype[Ft]=!0,re.prototype.removeEventListener=function(f,x,T,C){Un(this,f,x,T,C)};function be(f,x){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=x.type||x,typeof x=="string")x=new V(x,f);else if(x instanceof V)x.target=x.target||f;else{var Y=x;x=new V(C,f),at(x,Y)}Y=!0;let nt,mt;if(T)for(mt=T.length-1;mt>=0;mt--)nt=x.g=T[mt],Y=rt(nt,C,!0,x)&&Y;if(nt=x.g=f,Y=rt(nt,C,!0,x)&&Y,Y=rt(nt,C,!1,x)&&Y,T)for(mt=0;mt<T.length;mt++)nt=x.g=T[mt],Y=rt(nt,C,!1,x)&&Y}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const T=f.g[x];for(let C=0;C<T.length;C++)$(T[C]);delete f.g[x],f.h--}}this.G=null},re.prototype.J=function(f,x,T,C){return this.i.add(String(f),x,!1,T,C)},re.prototype.K=function(f,x,T,C){return this.i.add(String(f),x,!0,T,C)};function rt(f,x,T,C){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let Y=!0;for(let nt=0;nt<x.length;++nt){const mt=x[nt];if(mt&&!mt.da&&mt.capture==T){const Bt=mt.listener,Ne=mt.ha||mt.src;mt.fa&&gt(f.i,mt),Y=Bt.call(Ne,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function wt(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function St(f){f.g=wt(()=>{f.g=null,f.i&&(f.i=!1,St(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class te extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(f){j.call(this),this.h=f,this.g={}}b(ae,j);var ee=[];function si(f){pt(f.g,function(x,T){this.g.hasOwnProperty(T)&&xn(x)},f),f.g={}}ae.prototype.N=function(){ae.Z.N.call(this),si(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=c.JSON.stringify,qh=c.JSON.parse,Ku=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Qu(){}function Wu(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){V.call(this,"d")}b(ln,V);function ri(){V.call(this,"c")}b(ri,V);var Me={},Xu=null;function Ua(){return Xu=Xu||new re}Me.Ia="serverreachability";function $u(f){V.call(this,Me.Ia,f)}b($u,V);function Ui(f){const x=Ua();be(x,new $u(x))}Me.STAT_EVENT="statevent";function Kr(f,x){V.call(this,Me.STAT_EVENT,f),this.stat=x}b(Kr,V);function Be(f){const x=Ua();be(x,new Kr(x,f))}Me.Ja="timingevent";function Fi(f,x){V.call(this,Me.Ja,f),this.size=x}b(Fi,V);function qi(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function Hh(f,x,T,C,Y,nt){f.info(function(){if(f.g)if(nt){var mt="",Bt=nt.split("&");for(let oe=0;oe<Bt.length;oe++){var Ne=Bt[oe].split("=");if(Ne.length>1){const Ee=Ne[0];Ne=Ne[1];const ui=Ee.split("_");mt=ui.length>=2&&ui[1]=="type"?mt+(Ee+"="+Ne+"&"):mt+(Ee+"=redacted&")}}}else mt=null;else mt=nt;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+x+`
`+T+`
`+mt})}function Zu(f,x,T,C,Y,nt,mt){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+x+`
`+T+`
`+nt+" "+mt})}function Hi(f,x,T,C){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Gh(f,T)+(C?" "+C:"")})}function Qr(f,x){f.info(function(){return"TIMEOUT: "+x})}Ci.prototype.info=function(){};function Gh(f,x){if(!f.g)return x;if(!x)return null;try{const nt=JSON.parse(x);if(nt){for(f=0;f<nt.length;f++)if(Array.isArray(nt[f])){var T=nt[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let mt=1;mt<C.length;mt++)C[mt]=""}}}}return Hs(nt)}catch{return x}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function Xr(){}b(Xr,Qu),Xr.prototype.g=function(){return new XMLHttpRequest},al=new Xr;function vs(f){return encodeURIComponent(String(f))}function Ju(f){var x=1;f=f.split(":");const T=[];for(;x>0&&f.length;)T.push(f.shift()),x--;return f.length&&T.push(f.join(":")),T}function Ri(f,x,T,C){this.j=f,this.i=x,this.l=T,this.S=C||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var ze={},en={};function Gi(f,x,T){f.M=1,f.A=$r(Fe(x)),f.u=T,f.R=!0,Fa(f,null)}function Fa(f,x){f.F=Date.now(),Yi(f),f.B=Fe(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),Ya(T.i,"t",C),f.C=0,T=f.j.L,f.h=new Ii,f.g=pc(f.j,T?x:null,!f.u),f.P>0&&(f.O=new te(y(f.Y,f,f.g),f.P)),x=f.V,T=f.g,C=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ee[0]=Y.toString()),Y=ee);for(let nt=0;nt<Y.length;nt++){const mt=Xt(T,Y[nt],C||x.handleEvent,!1,x.h||x);if(!mt)break;x.g[mt.key]=mt}x=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Ui(),Hh(f.i,f.v,f.B,f.l,f.S,f.u)}Ri.prototype.ba=function(f){f=f.target;const x=this.O;x&&ji(f)==3?x.j():this.Y(f)},Ri.prototype.Y=function(f){try{if(f==this.g)t:{const Bt=ji(this.g),Ne=this.g.ya(),oe=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Bt!=4||Ne==7||(Ne==8||oe<=0?Ui(3):Ui(2)),Ki(this);var x=this.g.ca();this.X=x;var T=Yh(this);if(this.o=x==200,Zu(this.i,this.v,this.B,this.l,this.S,Bt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var nt=C;break e}}nt=null}if(f=nt)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,f);else{this.o=!1,this.m=3,Be(12),Fn(this),ai(this);break t}}if(this.R){f=!0;let Ee;for(;!this.K&&this.C<T.length;)if(Ee=ec(this,T),Ee==en){Bt==4&&(this.m=4,Be(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==ze){this.m=4,Be(15),Hi(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,Ee,null),Qi(this,Ee);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||T.length!=0||this.h.h||(this.m=1,Be(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,T,"[Invalid Chunked Response]"),Fn(this),ai(this);else if(T.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),_l(mt),mt.P=!0,Be(11))}}else Hi(this.i,this.l,T,null),Qi(this,T);Bt==4&&Fn(this),this.o&&!this.K&&(Bt==4?cc(this.j,this):(this.o=!1,Yi(this)))}else bs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),Fn(this),ai(this)}}}catch{}};function Yh(f){if(!tc(f))return f.g.la();const x=un(f.g);if(x==="")return"";let T="";const C=x.length,Y=ji(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),ai(f),"";f.h.i=new c.TextDecoder}for(let nt=0;nt<C;nt++)f.h.h=!0,T+=f.h.i.decode(x[nt],{stream:!(Y&&nt==C-1)});return x.length=0,f.h.g+=T,f.C=0,f.h.g}function tc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ec(f,x){var T=f.C,C=x.indexOf(`
`,T);return C==-1?en:(T=Number(x.substring(T,C)),isNaN(T)?ze:(C+=1,C+T>x.length?en:(x=x.slice(C,C+T),f.C=C+T,x)))}Ri.prototype.cancel=function(){this.K=!0,Fn(this)};function Yi(f){f.T=Date.now()+f.H,qa(f,f.H)}function qa(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(y(f.aa,f),x)}function Ki(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ri.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(Ui(),Be(17)),Fn(this),this.m=2,ai(this)):qa(this,this.T-f)};function ai(f){f.j.I==0||f.K||cc(f.j,f)}function Fn(f){Ki(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,si(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Qi(f,x){try{var T=f.j;if(T.I!=0&&(T.g==f||Xi(T.h,f))){if(!f.L&&Xi(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)$a(T),Zs(T);else break t;sa(T),Be(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qi(y(T.Va,T),6e3));Wi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ns(T,11)}else if((f.L||T.g==f)&&$a(T),!I(x))for(Y=T.Ba.g.parse(x),x=0;x<Y.length;x++){let oe=Y[x];const Ee=oe[0];if(!(Ee<=T.K))if(T.K=Ee,oe=oe[1],T.I==2)if(oe[0]=="c"){T.M=oe[1],T.ba=oe[2];const ui=oe[3];ui!=null&&(T.ka=ui,T.j.info("VER="+T.ka));const is=oe[4];is!=null&&(T.za=is,T.j.info("SVER="+T.za));const Mi=oe[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(C=1.5*Mi,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Ni=f.g;if(Ni){const ra=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var nt=C.h;nt.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(ul(nt,nt.h),nt.h=null))}if(C.G){const Za=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(C.wa=Za,fe(C.J,C.G,Za))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var mt=f;if(C.na=dc(C,C.L?C.ba:null,C.W),mt.L){cl(C.h,mt);var Bt=mt,Ne=C.O;Ne&&(Bt.H=Ne),Bt.D&&(Ki(Bt),Yi(Bt)),C.g=mt}else lc(C);T.i.length>0&&es(T)}else oe[0]!="stop"&&oe[0]!="close"||ns(T,7);else T.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?ns(T,7):xl(T):oe[0]!="noop"&&T.l&&T.l.qa(oe),T.A=0)}}Ui(4)}catch{}}var Ue=class{constructor(f,x){this.g=f,this.map=x}};function ol(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ll(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wi(f){return f.h?1:f.g?f.g.size:0}function Xi(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function ul(f,x){f.g?f.g.add(x):f.h=x}function cl(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const T of f.g.values())x=x.concat(T.G);return x}return D(f.i)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(f,x){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let Y,nt=null;C>=0?(Y=f[T].substring(0,C),nt=f[T].substring(C+1)):Y=f[T],x(Y,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof qn?(this.l=f.l,nn(this,f.j),this.o=f.o,this.g=f.g,Gs(this,f.u),this.h=f.h,hl(this,ac(f.i)),this.m=f.m):f&&(x=String(f).match(nc))?(this.l=!1,nn(this,x[1]||"",!0),this.o=$i(x[2]||""),this.g=$i(x[3]||"",!0),Gs(this,x[4]),this.h=$i(x[5]||"",!0),hl(this,x[6]||"",!0),this.m=$i(x[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}qn.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Zr(x,Ga,!0),":");var T=this.g;return(T||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Zr(x,Ga,!0),"@"),f.push(vs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Zr(T,T.charAt(0)=="/"?dl:ic,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Zr(T,sc)),f.join("")},qn.prototype.resolve=function(f){const x=Fe(this);let T=!!f.j;T?nn(x,f.j):T=!!f.o,T?x.o=f.o:T=!!f.g,T?x.g=f.g:T=f.u!=null;var C=f.h;if(T)Gs(x,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=x.h.lastIndexOf("/");Y!=-1&&(C=x.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const nt=[];for(let mt=0;mt<Y.length;){const Bt=Y[mt++];Bt=="."?C&&mt==Y.length&&nt.push(""):Bt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),C&&mt==Y.length&&nt.push("")):(nt.push(Bt),C=!0)}C=nt.join("/")}else C=Y}return T?x.h=C:T=f.i.toString()!=="",T?hl(x,ac(f.i)):T=!!f.m,T&&(x.m=f.m),x};function Fe(f){return new qn(f)}function nn(f,x,T){f.j=T?$i(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Gs(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function hl(f,x,T){x instanceof Ks?(f.i=x,Ka(f.i,f.l)):(T||(x=Zr(x,Ys)),f.i=new Ks(x,f.l))}function fe(f,x,T){f.i.set(x,T)}function $r(f){return fe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function $i(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zr(f,x,T){return typeof f=="string"?(f=encodeURI(f).replace(x,Dn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ga=/[#\/\?@]/g,ic=/[#\?:]/g,dl=/[#\?]/g,Ys=/[#\?@]/g,sc=/#/g;function Ks(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ha(f.i,function(x,T){f.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=Ks.prototype,n.add=function(f,x){Vn(this),this.i=null,f=Qs(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(x),this.h+=1,this};function rc(f,x){Vn(f),x=Qs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function pl(f,x){return Vn(f),x=Qs(f,x),f.g.has(x)}n.forEach=function(f,x){Vn(this),this.g.forEach(function(T,C){T.forEach(function(Y){f.call(x,Y,C,this)},this)},this)};function ml(f,x){Vn(f);let T=[];if(typeof x=="string")pl(f,x)&&(T=T.concat(f.g.get(Qs(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)T=T.concat(f[x]);return T}n.set=function(f,x){return Vn(this),this.i=null,f=Qs(this,f),pl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=ml(this,f),f.length>0?String(f[0]):x):x};function Ya(f,x,T){rc(f,x),T.length>0&&(f.i=null,f.g.set(Qs(f,x),D(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var T=x[C];const Y=vs(T);T=ml(this,T);for(let nt=0;nt<T.length;nt++){let mt=Y;T[nt]!==""&&(mt+="="+vs(T[nt])),f.push(mt)}}return this.i=f.join("&")};function ac(f){const x=new Ks;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Qs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Ka(f,x){x&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(T,C){const Y=C.toLowerCase();C!=Y&&(rc(this,C),Ya(this,Y,T))},f)),f.j=x}function Di(f,x){const T=new Ci;if(c.Image){const C=new Image;C.onload=v(oi,T,"TestLoadImage: loaded",!0,x,C),C.onerror=v(oi,T,"TestLoadImage: error",!1,x,C),C.onabort=v(oi,T,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(oi,T,"TestLoadImage: timeout",!1,x,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else x(!1)}function gl(f,x){const T=new Ci,C=new AbortController,Y=setTimeout(()=>{C.abort(),oi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:C.signal}).then(nt=>{clearTimeout(Y),nt.ok?oi(T,"TestPingServer: ok",!0,x):oi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),oi(T,"TestPingServer: error",!1,x)})}function oi(f,x,T,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(T)}catch{}}function Ws(){this.g=new Ku}function Zi(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Zi,Qu),Zi.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(f,x){re.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Jr,re),n=Jr.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Vi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Xs(this):Vi(this),this.readyState==3&&Qa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},n.Na=function(f){this.g&&(this.response=f,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Vi(f)}n.setRequestHeader=function(f,x){this.A.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=x.next();return f.join(`\r
`)};function Vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function li(f){let x="";return pt(f,function(T,C){x+=C,x+=":",x+=T,x+=`\r
`}),x}function ta(f,x,T){t:{for(C in T){var C=!1;break t}C=!0}C||(T=li(T),typeof f=="string"?T!=null&&vs(T):fe(f,x,T))}function pe(f){re.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(pe,re);var Ji=/^https?$/i,yl=["POST","PUT"];n=pe.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,x,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(nt){ea(this,nt);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)T.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const nt of C.keys())T.set(nt,C.get(nt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(nt=>nt.toLowerCase()=="content-type"),Y=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(yl,x,void 0)>=0)||C||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,mt]of T)this.g.setRequestHeader(nt,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(nt){ea(this,nt)}};function ea(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,vl(f),xs(f)}function vl(f){f.A||(f.A=!0,be(f,"complete"),be(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,be(this,"complete"),be(this,"abort"),xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),pe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(f){if(f.h&&typeof u<"u"){if(f.v&&ji(f)==4)setTimeout(f.Ca.bind(f),0);else if(be(f,"readystatechange"),ji(f)==4){f.h=!1;try{const nt=f.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var C;if(C=nt===0){let mt=String(f.D).match(nc)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),C=!Ji.test(mt?mt.toLowerCase():"")}T=C}if(T)be(f,"complete"),be(f,"success");else{f.o=6;try{var Y=ji(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",vl(f)}}finally{xs(f)}}}}function xs(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,x||be(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ji(f){return f.g?f.g.readyState:0}n.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),qh(x)}};function un(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(f){const x={};f=(f.g&&ji(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(I(f[C]))continue;var T=Ju(f[C]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const nt=x[Y]||[];x[Y]=nt,nt.push(T)}vt(x,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||x}function $s(f){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(f&&f.concurrentRequestLimit),this.Ba=new Ws,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$s.prototype,n.ka=8,n.I=1,n.connect=function(f,x,T,C){Be(0),this.W=f,this.H=x||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=dc(this,null,this.W),es(this)};function xl(f){if(Wa(f),f.I==3){var x=f.V++,T=Fe(f.J);if(fe(T,"SID",f.M),fe(T,"RID",x),fe(T,"TYPE","terminate"),ia(f,T),x=new Ri(f,f.j,x),x.M=2,x.A=$r(Fe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=pc(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Yi(x)}hc(f)}function Zs(f){f.g&&(_l(f),f.g.cancel(),f.g=null)}function Wa(f){Zs(f),f.v&&(c.clearTimeout(f.v),f.v=null),$a(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function es(f){if(!ll(f.h)&&!f.m){f.m=!0;var x=f.Ea;tt||A(),et||(tt(),et=!0),R.add(x,f),f.D=0}}function Xa(f,x){return Wi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(y(f.Ea,f,x),fc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ri(this,this.j,f);let nt=this.o;if(this.U&&(nt?(nt=O(nt),at(nt,this.U)):nt=this.U),this.u!==null||this.R||(Y.J=nt,nt=null),this.S)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=oc(this,Y,x),T=Fe(this.J),fe(T,"RID",f),fe(T,"CVER",22),this.G&&fe(T,"X-HTTP-Session-Id",this.G),ia(this,T),nt&&(this.R?x="headers="+vs(li(nt))+"&"+x:this.u&&ta(T,this.u,nt)),ul(this.h,Y),this.Ra&&fe(T,"TYPE","init"),this.S?(fe(T,"$req",x),fe(T,"SID","null"),Y.U=!0,Gi(Y,T,null)):Gi(Y,T,x),this.I=2}}else this.I==3&&(f?bl(this,f):this.i.length==0||ll(this.h)||bl(this))};function bl(f,x){var T;x?T=x.l:T=f.V++;const C=Fe(f.J);fe(C,"SID",f.M),fe(C,"RID",T),fe(C,"AID",f.K),ia(f,C),f.u&&f.o&&ta(C,f.u,f.o),T=new Ri(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),x&&(f.i=x.G.concat(f.i)),x=oc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ul(f.h,T),Gi(T,C,x)}function ia(f,x){f.H&&pt(f.H,function(T,C){fe(x,C,T)}),f.l&&pt({},function(T,C){fe(x,C,T)})}function oc(f,x,T){T=Math.min(f.i.length,T);const C=f.l?y(f.l.Ka,f.l,f):null;t:{var Y=f.i;let Bt=-1;for(;;){const Ne=["count="+T];Bt==-1?T>0?(Bt=Y[0].g,Ne.push("ofs="+Bt)):Bt=0:Ne.push("ofs="+Bt);let oe=!0;for(let Ee=0;Ee<T;Ee++){var nt=Y[Ee].g;const ui=Y[Ee].map;if(nt-=Bt,nt<0)Bt=Math.max(0,Y[Ee].g-100),oe=!1;else try{nt="req"+nt+"_"||"";try{var mt=ui instanceof Map?ui:Object.entries(ui);for(const[is,Mi]of mt){let Ni=Mi;d(Mi)&&(Ni=Hs(Mi)),Ne.push(nt+is+"="+encodeURIComponent(Ni))}}catch(is){throw Ne.push(nt+"type="+encodeURIComponent("_badmap")),is}}catch{C&&C(ui)}}if(oe){mt=Ne.join("&");break t}}mt=void 0}return f=f.i.splice(0,T),x.G=f,mt}function lc(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;tt||A(),et||(tt(),et=!0),R.add(x,f),f.A=0}}function sa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(y(f.Da,f),fc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(y(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),Zs(this),uc(this))};function _l(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function uc(f){f.g=new Ri(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Fe(f.na);fe(x,"RID","rpc"),fe(x,"SID",f.M),fe(x,"AID",f.K),fe(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&fe(x,"TO",f.ia),fe(x,"TYPE","xmlhttp"),ia(f,x),f.u&&f.o&&ta(x,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=$r(Fe(x)),T.u=null,T.R=!0,Fa(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),sa(this),Be(19))};function $a(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function cc(f,x){var T=null;if(f.g==x){$a(f),_l(f),f.g=null;var C=2}else if(Xi(f.h,x))T=x.G,cl(f.h,x),C=1;else return;if(f.I!=0){if(x.o)if(C==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var Y=f.D;C=Ua(),be(C,new Fi(C,T)),es(f)}else lc(f);else if(Y=x.m,Y==3||Y==0&&x.X>0||!(C==1&&Xa(f,x)||C==2&&sa(f)))switch(T&&T.length>0&&(x=f.h,x.i=x.i.concat(T)),Y){case 1:ns(f,5);break;case 4:ns(f,10);break;case 3:ns(f,6);break;default:ns(f,2)}}}function fc(f,x){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*x}function ns(f,x){if(f.j.info("Error code "+x),x==2){var T=y(f.bb,f),C=f.Ua;const Y=!C;C=new qn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(C,"https"),$r(C),Y?Di(C.toString(),T):gl(C.toString(),T)}else Be(2);f.I=0,f.l&&f.l.pa(x),hc(f),Wa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function hc(f){if(f.I=0,f.ja=[],f.l){const x=fl(f.h);(x.length!=0||f.i.length!=0)&&(N(f.ja,x),N(f.ja,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.oa()}}function dc(f,x,T){var C=T instanceof qn?Fe(T):new qn(T);if(C.g!="")x&&(C.g=x+"."+C.g),Gs(C,C.u);else{var Y=c.location;C=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;const nt=new qn(null);C&&nn(nt,C),x&&(nt.g=x),Y&&Gs(nt,Y),T&&(nt.h=T),C=nt}return T=f.G,x=f.wa,T&&x&&fe(C,T,x),fe(C,"VER",f.ka),ia(f,C),C}function pc(f,x,T){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new pe(new Zi({ab:T})):new pe(f.ma),x.Fa(f.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}n=mc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Js(){}Js.prototype.g=function(f,x){return new wn(f,x)};function wn(f,x){re.call(this),this.g=new $s(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!I(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new _s(this)}b(wn,re),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){xl(this.g)},wn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Hs(f),f=T);x.i.push(new Ue(x.Ya++,f)),x.I==3&&es(x)},wn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,wn.Z.N.call(this)};function gc(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){t:{for(const T in x){f=T;break t}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}b(gc,ln);function yc(){ri.call(this),this.status=1}b(yc,ri);function _s(f){this.g=f}b(_s,mc),_s.prototype.ra=function(){be(this.g,"a")},_s.prototype.qa=function(f){be(this.g,new gc(f))},_s.prototype.pa=function(f){be(this.g,new yc)},_s.prototype.oa=function(){be(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,wT=function(){return new Js},AT=function(){return Ua()},ET=Me,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,Of=Wr,rl.COMPLETE="complete",ST=rl,Wu.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",re.prototype.listen=re.prototype.J,ou=Wu,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,TT=pe}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const V1="@firebase/firestore",j1="4.9.3";class Sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let $o="12.7.0";const Na=new xg("@firebase/firestore");function Do(){return Na.logLevel}function bt(n,...t){if(Na.logLevel<=Zt.DEBUG){const i=t.map(_g);Na.debug(`Firestore (${$o}): ${n}`,...i)}}function zs(n,...t){if(Na.logLevel<=Zt.ERROR){const i=t.map(_g);Na.error(`Firestore (${$o}): ${n}`,...i)}}function qo(n,...t){if(Na.logLevel<=Zt.WARN){const i=t.map(_g);Na.warn(`Firestore (${$o}): ${n}`,...i)}}function _g(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function jt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,CT(n,r,i)}function CT(n,t,i){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw zs(r),new Error(r)}function ce(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||CT(t,o,r)}function kt(n,t){return n}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class RT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Sn.UNAUTHENTICATED)))}shutdown(){}}class DR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class VR{constructor(t){this.t=t,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ce(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},d=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new RT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new Sn(t)}}class jR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ce(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=OR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function Im(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Xp(o)===Xp(u)?Kt(o,u):Xp(o)?1:-1}return Kt(n.length,t.length)}const PR=55296,LR=57343;function Xp(n){const t=n.charCodeAt(0);return t>=PR&&t<=LR}function Ho(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}const N1="__name__";class ls{constructor(t,i,r){i===void 0?i=0:i>t.length&&jt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&jt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ls.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ls?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ls.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Kt(t.length,i.length)}static compareSegments(t,i){const r=ls.isNumericId(t),o=ls.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ls.extractNumericId(t).compare(ls.extractNumericId(i)):Im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class xe extends ls{construct(t,i,r){return new xe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new xe(i)}static emptyPath(){return new xe([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends ls{construct(t,i,r){return new gn(t,i,r)}static isValidIdentifier(t){return kR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N1}static keyField(){return new gn([N1])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new yt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new yt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new yt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(i)}static emptyPath(){return new gn([])}}class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(xe.fromString(t))}static fromName(t){return new Rt(xe.fromString(t).popFirst(5))}static empty(){return new Rt(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return xe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new xe(t.slice()))}}function IT(n,t,i){if(!i)throw new yt(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function BR(n,t,i,r){if(t===!0&&r===!0)throw new yt(ut.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function O1(n){if(!Rt.isDocumentKey(n))throw new yt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P1(n){if(Rt.isDocumentKey(n))throw new yt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":jt(12329,{type:typeof n})}function _i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(n);throw new yt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function zR(n,t){if(t<=0)throw new yt(ut.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function $e(n,t){const i={typeString:n};return t&&(i.value=t),i}function Lu(n,t){if(!DT(n))throw new yt(ut.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new yt(ut.INVALID_ARGUMENT,i);return!0}const L1=-62135596800,k1=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*k1);return new Se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new yt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<L1)throw new yt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k1}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lu(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-L1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:$e("string",Se._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Se(0,0))}static max(){return new Pt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Su=-1;function UR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new Mr(o,Rt.empty(),t)}function FR(n){return new Mr(n.readTime,n.key,Su)}class Mr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Mr(Pt.min(),Rt.empty(),Su)}static max(){return new Mr(Pt.max(),Rt.empty(),Su)}}function qR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Rt.comparator(n.documentKey,t.documentKey),i!==0?i:Kt(n.largestBatchId,t.largestBatchId))}const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Zo(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==HR)throw n;bt("LocalStore","Unexpectedly lost primary lease")}class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ft(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ft?i:ft.resolve(i)}catch(i){return ft.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.reject(i)}static resolve(t){return new ft(((i,r)=>{i(t)}))}static reject(t){return new ft(((i,r)=>{r(t)}))}static waitFor(t){return new ft(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(g=>r(g)))})),c=!0,u===o&&i()}))}static or(t){let i=ft.resolve(!1);for(const r of t)i=i.next((o=>o?ft.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new ft(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;i(t[y]).next((v=>{c[y]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new ft(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function YR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jo(n){return n.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Sg=-1;function vh(n){return n==null}function Qf(n){return n===0&&1/n==-1/0}function KR(n){return typeof n=="number"&&Number.isInteger(n)&&!Qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const VT="";function QR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=B1(t)),t=WR(n.get(i),t);return B1(t)}function WR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case VT:i+="";break;default:i+=u}}return i}function B1(n){return n+VT+""}function z1(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function qr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function jT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Re{constructor(t,i){this.comparator=t,this.root=i||mn.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sf(this.root,t,this.comparator,!0)}}class Sf{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new mn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new mn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U1(this.data.getIterator())}getIteratorFrom(t){return new U1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new tn(this.comparator);return i.data=t,i}}class U1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new ti([])}unionWith(t){let i=new tn(gn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ti(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ho(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new MT("Invalid base64 string: "+u):u}})(t);return new yn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new yn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(ce(!!n,39018),typeof n=="string"){let t=0;const i=XR.exec(n);if(ce(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const NT="server_timestamp",OT="__type__",PT="__previous_value__",LT="__local_write_time__";function Eg(n){return(n?.mapValue?.fields||{})[OT]?.stringValue===NT}function xh(n){const t=n.mapValue.fields[PT];return Eg(t)?xh(t):t}function Eu(n){const t=Nr(n.mapValue.fields[LT].timestampValue);return new Se(t.seconds,t.nanos)}class $R{constructor(t,i,r,o,u,c,d,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Wf="(default)";class Au{constructor(t,i){this.projectId=t,this.database=i||Wf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}const kT="__type__",ZR="__max__",Ef={mapValue:{}},BT="__vector__",Xf="value";function Pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Eg(n)?4:tI(n)?9007199254740991:JR(n)?10:11:jt(28295,{value:n})}function gs(n,t){if(n===t)return!0;const i=Pr(n);if(i!==Pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Eu(n).isEqual(Eu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Nr(o.timestampValue),d=Nr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Or(o.bytesValue).isEqual(Or(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return ke(o.geoPointValue.latitude)===ke(u.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ke(o.integerValue)===ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ke(o.doubleValue),d=ke(u.doubleValue);return c===d?Qf(c)===Qf(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Ho(n.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(z1(c)!==z1(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!gs(c[g],d[g])))return!1;return!0})(n,t);default:return jt(52216,{left:n})}}function wu(n,t){return(n.values||[]).find((i=>gs(i,t)))!==void 0}function Go(n,t){if(n===t)return 0;const i=Pr(n),r=Pr(t);if(i!==r)return Kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=ke(u.integerValue||u.doubleValue),g=ke(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(n,t);case 3:return F1(n.timestampValue,t.timestampValue);case 4:return F1(Eu(n),Eu(t));case 5:return Im(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Or(u),g=Or(c);return d.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),g=c.split("/");for(let y=0;y<d.length&&y<g.length;y++){const v=Kt(d[y],g[y]);if(v!==0)return v}return Kt(d.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Kt(ke(u.latitude),ke(c.latitude));return d!==0?d:Kt(ke(u.longitude),ke(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return q1(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},g=c.fields||{},y=d[Xf]?.arrayValue,v=g[Xf]?.arrayValue,b=Kt(y?.values?.length||0,v?.values?.length||0);return b!==0?b:q1(y,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ef.mapValue&&c===Ef.mapValue)return 0;if(u===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=c.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let b=0;b<g.length&&b<v.length;++b){const S=Im(g[b],v[b]);if(S!==0)return S;const D=Go(d[g[b]],y[v[b]]);if(D!==0)return D}return Kt(g.length,v.length)})(n.mapValue,t.mapValue);default:throw jt(23264,{he:i})}}function F1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Kt(n,t);const i=Nr(n),r=Nr(t),o=Kt(i.seconds,r.seconds);return o!==0?o:Kt(i.nanos,r.nanos)}function q1(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Go(i[o],r[o]);if(u)return u}return Kt(i.length,r.length)}function Yo(n){return Dm(n)}function Dm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return Or(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Rt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Dm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Dm(i.fields[c])}`;return o+"}"})(n.mapValue):jt(61005,{value:n})}function Pf(n){switch(Pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(n);return t?16+Pf(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Pf(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return qr(r.fields,((u,c)=>{o+=u.length+Pf(c)})),o})(n.mapValue);default:throw jt(13486,{value:n})}}function H1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Vm(n){return!!n&&"integerValue"in n}function Ag(n){return!!n&&"arrayValue"in n}function G1(n){return!!n&&"nullValue"in n}function Y1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lf(n){return!!n&&"mapValue"in n}function JR(n){return(n?.mapValue?.fields||{})[kT]?.stringValue===BT}function du(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return qr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=du(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=du(n.arrayValue.values[i]);return t}return{...n}}function tI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Lf(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=du(i)}setAll(t){let i=gn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=du(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Lf(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Lf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){qr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new kn(du(this.value))}}function zT(n){const t=[];return qr(n.fields,((i,r)=>{const o=new gn([i]);if(Lf(r)){const u=zT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ti(t)}class En{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new En(t,0,Pt.min(),Pt.min(),Pt.min(),kn.empty(),0)}static newFoundDocument(t,i,r,o){return new En(t,1,i,Pt.min(),r,o,0)}static newNoDocument(t,i){return new En(t,2,i,Pt.min(),Pt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new En(t,3,i,Pt.min(),Pt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(t,i){this.position=t,this.inclusive=i}}function K1(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=Rt.comparator(Rt.fromName(c.referenceValue),i.key):r=Go(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!gs(n.position[i],t.position[i]))return!1;return!0}class Cu{constructor(t,i="asc"){this.field=t,this.dir=i}}function eI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class UT{}class Xe extends UT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new iI(t,i,r):i==="array-contains"?new aI(t,r):i==="in"?new oI(t,r):i==="not-in"?new lI(t,r):i==="array-contains-any"?new uI(t,r):new Xe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new sI(t,r):new rI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Go(i,this.value)):i!==null&&Pr(this.value)===Pr(i)&&this.matchesComparison(Go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends UT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return FT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(n){return n.op==="and"}function qT(n){return nI(n)&&FT(n)}function nI(n){for(const t of n.filters)if(t instanceof zi)return!1;return!0}function jm(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(qT(n))return n.filters.map((t=>jm(t))).join(",");{const t=n.filters.map((i=>jm(i))).join(",");return`${n.op}(${t})`}}function HT(n,t){return n instanceof Xe?(function(r,o){return o instanceof Xe&&r.op===o.op&&r.field.isEqual(o.field)&&gs(r.value,o.value)})(n,t):n instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&HT(c,o.filters[d])),!0):!1})(n,t):void jt(19439)}function GT(n){return n instanceof Xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Yo(i.value)}`})(n):n instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(GT).join(" ,")+"}"})(n):"Filter"}class iI extends Xe{constructor(t,i,r){super(t,i,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const i=Rt.comparator(t.key,this.key);return this.matchesComparison(i)}}class sI extends Xe{constructor(t,i){super(t,"in",i),this.keys=YT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class rI extends Xe{constructor(t,i){super(t,"not-in",i),this.keys=YT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function YT(n,t){return(t.arrayValue?.values||[]).map((i=>Rt.fromName(i.referenceValue)))}class aI extends Xe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ag(i)&&wu(i.arrayValue,this.value)}}class oI extends Xe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wu(this.value.arrayValue,i)}}class lI extends Xe{constructor(t,i){super(t,"not-in",i)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wu(this.value.arrayValue,i)}}class uI extends Xe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}class cI{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function W1(n,t=null,i=[],r=[],o=null,u=null,c=null){return new cI(n,t,i,r,o,u,c)}function wg(n){const t=kt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>jm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),vh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Yo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Yo(r))).join(",")),t.Te=i}return t.Te}function Cg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!eI(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!HT(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Q1(n.startAt,t.startAt)&&Q1(n.endAt,t.endAt)}function Mm(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class tl{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fI(n,t,i,r,o,u,c,d){return new tl(n,t,i,r,o,u,c,d)}function bh(n){return new tl(n)}function X1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KT(n){return n.collectionGroup!==null}function pu(n){const t=kt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(gn.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Cu(u,r))})),i.has(gn.keyField().canonicalString())||t.Ie.push(new Cu(gn.keyField(),r))}return t.Ie}function cs(n){const t=kt(n);return t.Ee||(t.Ee=hI(t,pu(n))),t.Ee}function hI(n,t){if(n.limitType==="F")return W1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Cu(o.field,u)}));const i=n.endAt?new $f(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $f(n.startAt.position,n.startAt.inclusive):null;return W1(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Nm(n,t){const i=n.filters.concat([t]);return new tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Zf(n,t,i){return new tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function _h(n,t){return Cg(cs(n),cs(t))&&n.limitType===t.limitType}function QT(n){return`${wg(cs(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>GT(o))).join(", ")}]`),vh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Yo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Yo(o))).join(",")),`Target(${r})`})(cs(n))}; limitType=${n.limitType})`}function Th(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of pu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,g){const y=K1(c,d,g);return c.inclusive?y<=0:y<0})(r.startAt,pu(r),o)||r.endAt&&!(function(c,d,g){const y=K1(c,d,g);return c.inclusive?y>=0:y>0})(r.endAt,pu(r),o))})(n,t)}function dI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WT(n){return(t,i)=>{let r=!1;for(const o of pu(n)){const u=pI(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function pI(n,t,i){const r=n.field.isKeyField()?Rt.comparator(t.key,i.key):(function(u,c,d){const g=c.data.field(u),y=d.data.field(u);return g!==null&&y!==null?Go(g,y):jt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:n.dir})}}class ka{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}const mI=new Re(Rt.comparator);function Us(){return mI}const XT=new Re(Rt.comparator);function lu(...n){let t=XT;for(const i of n)t=t.insert(i.key,i);return t}function $T(n){let t=XT;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function wa(){return mu()}function ZT(){return mu()}function mu(){return new ka((n=>n.toString()),((n,t)=>n.isEqual(t)))}const gI=new Re(Rt.comparator),yI=new tn(Rt.comparator);function Qt(...n){let t=yI;for(const i of n)t=t.add(i);return t}const vI=new tn(Kt);function xI(){return vI}function Rg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(t)?"-0":t}}function JT(n){return{integerValue:""+n}}function bI(n,t){return KR(t)?JT(t):Rg(n,t)}class Sh{constructor(){this._=void 0}}function _I(n,t,i){return n instanceof Jf?(function(o,u){const c={fields:{[OT]:{stringValue:NT},[LT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Eg(u)&&(u=xh(u)),u&&(c.fields[PT]=u),{mapValue:c}})(i,t):n instanceof Ru?eS(n,t):n instanceof Iu?nS(n,t):(function(o,u){const c=tS(o,u),d=$1(c)+$1(o.Ae);return Vm(c)&&Vm(o.Ae)?JT(d):Rg(o.serializer,d)})(n,t)}function TI(n,t,i){return n instanceof Ru?eS(n,t):n instanceof Iu?nS(n,t):i}function tS(n,t){return n instanceof th?(function(r){return Vm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Jf extends Sh{}class Ru extends Sh{constructor(t){super(),this.elements=t}}function eS(n,t){const i=iS(t);for(const r of n.elements)i.some((o=>gs(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Iu extends Sh{constructor(t){super(),this.elements=t}}function nS(n,t){let i=iS(t);for(const r of n.elements)i=i.filter((o=>!gs(o,r)));return{arrayValue:{values:i}}}class th extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function $1(n){return ke(n.integerValue||n.doubleValue)}function iS(n){return Ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function SI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Ru&&o instanceof Ru||r instanceof Iu&&o instanceof Iu?Ho(r.elements,o.elements,gs):r instanceof th&&o instanceof th?gs(r.Ae,o.Ae):r instanceof Jf&&o instanceof Jf})(n.transform,t.transform)}class EI{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Eh{}function sS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ig(n.key,Ti.none()):new ku(n.key,n.data,Ti.none());{const i=n.data,r=kn.empty();let o=new tn(gn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Hr(n.key,r,new ti(o.toArray()),Ti.none())}}function AI(n,t,i){n instanceof ku?(function(o,u,c){const d=o.value.clone(),g=J1(o.fieldTransforms,u,c.transformResults);d.setAll(g),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,i):n instanceof Hr?(function(o,u,c){if(!kf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=J1(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(rS(o)),g.setAll(d),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function gu(n,t,i,r){return n instanceof ku?(function(u,c,d,g){if(!kf(u.precondition,c))return d;const y=u.value.clone(),v=tb(u.fieldTransforms,g,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,t,i,r):n instanceof Hr?(function(u,c,d,g){if(!kf(u.precondition,c))return d;const y=tb(u.fieldTransforms,g,c),v=c.data;return v.setAll(rS(u)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,d){return kf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,i)}function wI(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=tS(r.transform,o||null);u!=null&&(i===null&&(i=kn.empty()),i.set(r.field,u))}return i||null}function Z1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ho(r,o,((u,c)=>SI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ku extends Eh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Eh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rS(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function J1(n,t,i){const r=new Map;ce(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,TI(c,d,i[o]))}return r}function tb(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,_I(u,c,t))}return r}class Ig extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&AI(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=gu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=gu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=ZT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const g=sS(c,d);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Pt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&Ho(this.mutations,t.mutations,((i,r)=>Z1(i,r)))&&Ho(this.baseMutations,t.baseMutations,((i,r)=>Z1(i,r)))}}class Dg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return gI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Dg(t,i,r,o)}}class II{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Qe,$t;function VI(n){switch(n){case ut.OK:return jt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return jt(15467,{code:n})}}function aS(n){if(n===void 0)return zs("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Qe.OK:return ut.OK;case Qe.CANCELLED:return ut.CANCELLED;case Qe.UNKNOWN:return ut.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return ut.INTERNAL;case Qe.UNAVAILABLE:return ut.UNAVAILABLE;case Qe.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Qe.NOT_FOUND:return ut.NOT_FOUND;case Qe.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Qe.ABORTED:return ut.ABORTED;case Qe.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Qe.DATA_LOSS:return ut.DATA_LOSS;default:return jt(39323,{code:n})}}($t=Qe||(Qe={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function jI(){return new TextEncoder}const MI=new Ir([4294967295,4294967295],0);function eb(n){const t=jI().encode(n),i=new _T;return i.update(t),new Uint8Array(i.digest())}function nb(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ir([i,r],0),new Ir([o,u],0)]}class Vg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new uu(`Invalid padding: ${i}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new uu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ir.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Ir.fromNumber(r)));return o.compare(MI)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=eb(t),[r,o]=nb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Vg(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=eb(t),[r,o]=nb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Bu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ah(Pt.min(),o,new Re(Kt),Us(),Qt())}}class Bu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Bu(r,i,Qt(),Qt(),Qt())}}class Bf{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class oS{constructor(t,i){this.targetId=t,this.Ce=i}}class lS{constructor(t,i,r=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class ib{constructor(){this.ve=0,this.Fe=sb(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),i=Qt(),r=Qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:jt(38017,{changeType:u})}})),new Bu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=sb()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Us(),this.Je=Af(),this.He=Af(),this.Ye=new Re(Kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:jt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Mm(u))if(r===0){const c=new Rt(u.path);this.et(i,c,En.newNoDocument(c,Pt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=Or(r).toUint8Array()}catch(g){if(g instanceof MT)return qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Vg(c,o,u)}catch(g){return qo(g instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Mm(d.target)){const g=new Rt(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,En.newNoDocument(g,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Qt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Ah(t,i,this.Ye,this.je,r);return this.je=Us(),this.Je=Af(),this.He=Af(),this.Ye=new Re(Kt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new ib,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new tn(Kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new tn(Kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||bt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ib),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Af(){return new Re(Rt.comparator)}function sb(){return new Re(Rt.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},PI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LI={and:"AND",or:"OR"};class kI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Om(n,t){return n.useProto3Json||vh(t)?t:{value:t}}function eh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function BI(n,t){return eh(n,t.toTimestamp())}function fs(n){return ce(!!n,49232),Pt.fromTimestamp((function(i){const r=Nr(i);return new Se(r.seconds,r.nanos)})(n))}function jg(n,t){return Pm(n,t).canonicalString()}function Pm(n,t){const i=(function(o){return new xe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function cS(n){const t=xe.fromString(n);return ce(mS(t),10190,{key:t.toString()}),t}function Lm(n,t){return jg(n.databaseId,t.path)}function $p(n,t){const i=cS(t);if(i.get(1)!==n.databaseId.projectId)throw new yt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new yt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Rt(hS(i))}function fS(n,t){return jg(n.databaseId,t)}function zI(n){const t=cS(n);return t.length===4?xe.emptyPath():hS(t)}function km(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hS(n){return ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rb(n,t,i){return{name:Lm(n,t),fields:i.value.mapValue.fields}}function UI(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:jt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,v){return y.useProto3Json?(ce(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(y){const v=y.code===void 0?ut.UNKNOWN:aS(y.code);return new yt(v,y.message||"")})(c);i=new lS(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=$p(n,r.document.name),u=fs(r.document.updateTime),c=r.document.createTime?fs(r.document.createTime):Pt.min(),d=new kn({mapValue:{fields:r.document.fields}}),g=En.newFoundDocument(o,u,c,d),y=r.targetIds||[],v=r.removedTargetIds||[];i=new Bf(y,v,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=$p(n,r.document),u=r.readTime?fs(r.readTime):Pt.min(),c=En.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Bf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=$p(n,r.document),u=r.removedTargetIds||[];i=new Bf([],u,o,null)}else{if(!("filter"in t))return jt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new DI(o,u),d=r.targetId;i=new oS(d,c)}}return i}function FI(n,t){let i;if(t instanceof ku)i={update:rb(n,t.key,t.value)};else if(t instanceof Ig)i={delete:Lm(n,t.key)};else if(t instanceof Hr)i={update:rb(n,t.key,t.data),updateMask:$I(t.fieldMask)};else{if(!(t instanceof CI))return jt(16599,{Vt:t.type});i={verify:Lm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Jf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof th)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw jt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:BI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:jt(27497)})(n,t.precondition)),i}function qI(n,t){return n&&n.length>0?(ce(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?fs(o.updateTime):fs(u);return c.isEqual(Pt.min())&&(c=fs(u)),new EI(c,o.transformResults||[])})(i,t)))):[]}function HI(n,t){return{documents:[fS(n,t.path)]}}function GI(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=fS(n,o);const u=(function(y){if(y.length!==0)return pS(zi.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:jo(S.field),direction:QI(S.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=Om(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function YI(n){let t=zI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ce(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const S=dS(b);return S instanceof zi&&qT(S)?S.getFilters():[S]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((S=>(function(N){return new Cu(Mo(N.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(i.orderBy));let d=null;i.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,vh(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(b){const S=!!b.before,D=b.values||[];return new $f(D,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,D=b.values||[];return new $f(D,S)})(i.endAt)),fI(t,o,c,u,d,"F",g,y)}function KI(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dS(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Mo(i.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(i.unaryFilter.field);return Xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Mo(i.unaryFilter.field);return Xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(i.unaryFilter.field);return Xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Xe.create(Mo(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>dS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(i.compositeFilter.op))})(n):jt(30097,{filter:n})}function QI(n){return OI[n]}function WI(n){return PI[n]}function XI(n){return LI[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return gn.fromServerFormat(n.fieldPath)}function pS(n){return n instanceof Xe?(function(i){if(i.op==="=="){if(Y1(i.value))return{unaryFilter:{field:jo(i.field),op:"IS_NAN"}};if(G1(i.value))return{unaryFilter:{field:jo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y1(i.value))return{unaryFilter:{field:jo(i.field),op:"IS_NOT_NAN"}};if(G1(i.value))return{unaryFilter:{field:jo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(i.field),op:WI(i.op),value:i.value}}})(n):n instanceof zi?(function(i){const r=i.getFilters().map((o=>pS(o)));return r.length===1?r[0]:{compositeFilter:{op:XI(i.op),filters:r}}})(n):jt(54877,{filter:n})}function $I(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function mS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Sr{constructor(t,i,r,o,u=Pt.min(),c=Pt.min(),d=yn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZI{constructor(t){this.yt=t}}function JI(n){const t=YI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zf(t,t.limit,"L"):t}class tD{constructor(){this.Cn=new eD}addToCollectionParentIndex(t,i){return this.Cn.add(i),ft.resolve()}getCollectionParents(t,i){return ft.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ft.resolve()}deleteFieldIndex(t,i){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,i){return ft.resolve()}getDocumentsMatchingTarget(t,i){return ft.resolve(null)}getIndexType(t,i){return ft.resolve(0)}getFieldIndexes(t,i){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,i){return ft.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,i){return ft.resolve(Mr.min())}updateCollectionGroup(t,i,r){return ft.resolve()}updateIndexEntries(t,i){return ft.resolve()}}class eD{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new tn(xe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(xe.comparator)).toArray()}}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gS=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(gS,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}const ob="LruGarbageCollector",nD=1048576;function lb([n,t],[i,r]){const o=Kt(n,i);return o===0?Kt(t,r):o}class iD{constructor(t){this.Ir=t,this.buffer=new tn(lb),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();lb(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(ob,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jo(i)?bt(ob,"Ignoring IndexedDB error during garbage collection: ",i):await Zo(i)}await this.Vr(3e5)}))}}class rD{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return ft.resolve(yh.ce);const r=new iD(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(ab)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,g,y;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,d=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Do()<=Zt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function aD(n,t){return new rD(n,t)}class oD{constructor(){this.changes=new ka((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ft.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class uD{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&gu(r.mutation,o,ti.empty(),Se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Qt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Qt()){const o=wa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=lu();return u.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=wa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Qt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=Us();const c=mu(),d=(function(){return mu()})();return i.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Hr)?u=u.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),gu(v.mutation,y,v.mutation.getFieldMask(),Se.now())):c.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,v)=>c.set(y,v))),i.forEach(((y,v)=>d.set(y,new lD(v,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=mu();let o=new Re(((c,d)=>c-d)),u=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let v=r.get(g)||ti.empty();v=d.applyToLocalView(y,v),r.set(g,v);const b=(o.get(d.batchId)||Qt()).add(g);o=o.insert(d.batchId,b)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,v=g.value,b=ZT();v.forEach((S=>{if(!u.has(S)){const D=sS(i.get(S),r.get(S));D!==null&&b.set(S,D),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,y,b))}return ft.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):KT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ft.resolve(wa());let d=Su,g=u;return c.next((y=>ft.forEach(y,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ft.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Qt()))).next((v=>({batchId:d,changes:$T(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Rt(i)).next((r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((d=>ft.forEach(d,(g=>{const y=(function(b,S){return new tl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((g,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))}));let d=lu();return c.forEach(((g,y)=>{const v=u.get(g);v!==void 0&&gu(v.mutation,y,ti.empty(),Se.now()),Th(i,y)&&(d=d.insert(g,y))})),d}))}}class cD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return ft.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(i)),ft.resolve()}getNamedQuery(t,i){return ft.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:JI(o.bundledQuery),readTime:fs(o.readTime)}})(i)),ft.resolve()}}class fD{constructor(){this.overlays=new Re(Rt.comparator),this.qr=new Map}getOverlay(t,i){return ft.resolve(this.overlays.get(i))}getOverlays(t,i){const r=wa();return ft.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),ft.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ft.resolve()}getOverlaysForCollection(t,i,r){const o=wa(),u=i.length+1,c=new Rt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ft.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Re(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let v=u.get(y.largestBatchId);v===null&&(v=wa(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=wa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return ft.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new II(i,r));let u=this.qr.get(i);u===void 0&&(u=Qt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class hD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ft.resolve()}}class Mg{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new on(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new on(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Rt(new xe([])),r=new on(i,t),o=new on(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Rt(new xe([])),r=new on(i,t),o=new on(i,t+1);let u=Qt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new on(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Rt.comparator(t.key,i.key)||Kt(t.Yr,i.Yr)}static Kr(t,i){return Kt(t.Yr,i.Yr)||Rt.comparator(t.key,i.key)}}class dD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RI(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new on(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ft.resolve(c)}lookupMutationBatch(t,i){return ft.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return ft.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ft.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new tn(Kt);return i.forEach((o=>{const u=new on(o,0),c=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),ft.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Rt.isDocumentKey(u)||(u=u.child(""));const c=new on(new Rt(u),0);let d=new tn(Kt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.Yr)),!0)}),c),ft.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ce(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ft.forEach(i.mutations,(o=>{const u=new on(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new on(i,0),o=this.Zr.firstAfterOrEqual(r);return ft.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pD{constructor(t){this.ri=t,this.docs=(function(){return new Re(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ft.resolve(r?r.document.mutableCopy():En.newInvalidDocument(i))}getEntries(t,i){let r=Us();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),ft.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Us();const c=i.path,d=new Rt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||qR(FR(v),r)<=0||(o.has(v.key)||Th(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ft.resolve(u)}getAllFromCollectionGroup(t,i,r,o){jt(9500)}ii(t,i){return ft.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new mD(this)}getSize(t){return ft.resolve(this.size)}}class mD extends oD{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ft.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class gD{constructor(t){this.persistence=t,this.si=new ka((i=>wg(i)),Cg),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mg,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ft.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ko(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,ft.resolve()}updateTargetData(t,i){return this.Pr(i),ft.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),ft.waitFor(u).next((()=>o))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return ft.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),ft.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ft.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),ft.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return ft.resolve(r)}containsKey(t,i){return ft.resolve(this._i.containsKey(i))}}class yS{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new hD,this.referenceDelegate=t(this),this.Pi=new gD(this),this.indexManager=new tD,this.remoteDocumentCache=(function(o){return new pD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZI(i),this.Ii=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new dD(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){bt("MemoryPersistence","Starting transaction:",t);const o=new yD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return ft.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class yD extends GR{constructor(t){super(),this.currentSequenceNumber=t}}class Ng{constructor(t){this.persistence=t,this.Ri=new Mg,this.Vi=null}static mi(t){return new Ng(t)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ft.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ft.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),ft.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.fi,(r=>{const o=Rt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return ft.or([()=>ft.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.pi=new ka((r=>QR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=aD(this,i)}static mi(t,i){return new nh(t,i)}Ei(){}di(t){return ft.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return ft.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ft.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Pt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pf(t.data.value)),i}br(t,i,r){return ft.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return ft.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Og{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Qt(),o=Qt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Og(t,i.fromCache,r,o)}}class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uC()?8:YR(aC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new vD;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Do()<=Zt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Vo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ft.resolve()):(Do()<=Zt.DEBUG&&bt("QueryEngine","Query:",Vo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Do()<=Zt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Vo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cs(i))):ft.resolve())}ys(t,i){if(X1(i))return ft.resolve(null);let r=cs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Zf(i,null,"F"),r=cs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Qt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(i,d);return this.Cs(i,y,c,g.readTime)?this.ys(t,Zf(i,null,"F")):this.vs(t,y,i,g)}))))})))))}ws(t,i,r,o){return X1(i)||o.isEqual(Pt.min())?ft.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?ft.resolve(null):(Do()<=Zt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(i)),this.vs(t,c,i,UR(o,Su)).next((d=>d)))}))}Ds(t,i){let r=new tn(WT(t));return i.forEach(((o,u)=>{Th(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Do()<=Zt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Vo(i)),this.ps.getDocumentsMatchingQuery(t,i,Mr.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Pg="LocalStore",bD=3e8;class _D{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Re(Kt),this.xs=new ka((u=>wg(u)),Cg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function TD(n,t,i,r){return new _D(n,t,i,r)}async function vS(n,t){const i=kt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let g=Qt();for(const y of o){c.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of u){d.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function SD(n,t){const i=kt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,g,y,v){const b=y.batch,S=b.keys();let D=ft.resolve();return S.forEach((N=>{D=D.next((()=>v.getEntry(g,N))).next((B=>{const F=y.docVersions.get(N);ce(F!==null,48541),B.version.compareTo(F)<0&&(b.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=Qt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function xS(n){const t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function ED(n,t){const i=kt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((v,b)=>{const S=o.get(b);if(!S)return;d.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let D=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(yn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,r)),o=o.insert(b,D),(function(B,F,X){return B.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=bD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,D,v)&&d.push(i.Pi.updateTargetData(u,D))}));let g=Us(),y=Qt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(AD(u,c,t.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(Pt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return ft.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=o,u)))}function AD(n,t,i){let r=Qt(),o=Qt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Us();return i.forEach(((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Pt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):bt(Pg,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function wD(n,t){const i=kt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function CD(n,t){const i=kt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,ft.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Sr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Bm(n,t,i){const r=kt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Jo(c))throw c;bt(Pg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ub(n,t,i){const r=kt(n);let o=Pt.min(),u=Qt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,y,v){const b=kt(g),S=b.xs.get(v);return S!==void 0?ft.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,v)})(r,c,cs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Pt.min(),i?u:Qt()))).next((d=>(RD(r,dI(t),d),{documents:d,Qs:u})))))}function RD(n,t,i){let r=n.Os.get(t)||Pt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class cb{constructor(){this.activeTargetIds=xI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ID{constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class DD{Oo(t){}shutdown(){}}const fb="ConnectivityMonitor";class hb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(fb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(fb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wf=null;function zm(){return wf===null?wf=(function(){return 268435456+Math.round(2147483648*Math.random())})():wf++,"0x"+wf.toString(16)}const Zp="RestConnection",VD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=zm(),d=this.zo(t,i.toUriEncodedString());bt(Zp,`Sending RPC '${t}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(d),v=vg(y);return this.Jo(t,d,g,r,v).then((b=>(bt(Zp,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw qo(Zp,`RPC '${t}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=VD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class MD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Tn="WebChannelConnection";class ND extends jD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=zm();return new Promise(((d,g)=>{const y=new TT;y.setWithCredentials(!0),y.listenOnce(ST.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Of.NO_ERROR:const b=y.getResponseJson();bt(Tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case Of.TIMEOUT:bt(Tn,`RPC '${t}' ${c} timed out`),g(new yt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const S=y.getStatus();if(bt(Tn,`RPC '${t}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const B=(function(X){const L=X.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(L)>=0?L:ut.UNKNOWN})(N.status);g(new yt(B,N.message))}else g(new yt(ut.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new yt(ut.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{bt(Tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);bt(Tn,`RPC '${t}' ${c} sending request:`,o),y.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=wT(),d=AT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=u.join("");bt(Tn,`Creating RPC '${t}' stream ${o}: ${v}`,g);const b=c.createWebChannel(v,g);this.I_(b);let S=!1,D=!1;const N=new MD({Yo:F=>{D?bt(Tn,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(S||(bt(Tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),bt(Tn,`RPC '${t}' stream ${o} sending:`,F),b.send(F))},Zo:()=>b.close()}),B=(F,X,L)=>{F.listen(X,(q=>{try{L(q)}catch(G){setTimeout((()=>{throw G}),0)}}))};return B(b,ou.EventType.OPEN,(()=>{D||(bt(Tn,`RPC '${t}' stream ${o} transport opened.`),N.o_())})),B(b,ou.EventType.CLOSE,(()=>{D||(D=!0,bt(Tn,`RPC '${t}' stream ${o} transport closed`),N.a_(),this.E_(b))})),B(b,ou.EventType.ERROR,(F=>{D||(D=!0,qo(Tn,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),N.a_(new yt(ut.UNAVAILABLE,"The operation could not be completed")))})),B(b,ou.EventType.MESSAGE,(F=>{if(!D){const X=F.data[0];ce(!!X,16349);const L=X,q=L?.error||L[0]?.error;if(q){bt(Tn,`RPC '${t}' stream ${o} received error:`,q);const G=q.status;let tt=(function(A){const w=Qe[A];if(w!==void 0)return aS(w)})(G),et=q.message;tt===void 0&&(tt=ut.INTERNAL,et="Unknown error status: "+G+" with message "+q.message),D=!0,N.a_(new yt(tt,et)),b.close()}else bt(Tn,`RPC '${t}' stream ${o} received:`,X),N.u_(X)}})),B(d,ET.STAT_EVENT,(F=>{F.stat===Rm.PROXY?bt(Tn,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Rm.NOPROXY&&bt(Tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Jp(){return typeof document<"u"?document:null}function wh(n){return new kI(n,!0)}class bS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const db="PersistentStream";class _S{constructor(t,i,r,o,u,c,d,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ut.RESOURCE_EXHAUSTED?(zs(i.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return bt(db,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(bt(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OD extends _S{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=UI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Pt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?fs(c.readTime):Pt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=km(this.serializer),i.addTarget=(function(u,c){let d;const g=c.target;if(d=Mm(g)?{documents:HI(u,g)}:{query:GI(u,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=uS(u,c.resumeToken);const y=Om(u,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Pt.min())>0){d.readTime=eh(u,c.snapshotVersion.toTimestamp());const y=Om(u,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,t);const r=KI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=km(this.serializer),i.removeTarget=t,this.q_(i)}}class PD extends _S{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=qI(t.writeResults,t.commitTime),r=fs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=km(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>FI(this.serializer,r)))};this.q_(i)}}class LD{}class kD extends LD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Pm(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ut.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Pm(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ut.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(i),this.aa=!1):bt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oa="RemoteStore";class zD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ba(this)&&(bt(Oa,"Restarting streams for network reachability change."),await(async function(g){const y=kt(g);y.Ea.add(4),await zu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Ra=new BD(r,o)}}async function Ch(n){if(Ba(n))for(const t of n.da)await t(!0)}async function zu(n){for(const t of n.da)await t(!1)}function TS(n,t){const i=kt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zg(i)?Bg(i):el(i).O_()&&kg(i,t))}function Lg(n,t){const i=kt(n),r=el(i);i.Ia.delete(t),r.O_()&&SS(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ba(i)&&i.Ra.set("Unknown"))}function kg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}el(n).Y_(t)}function SS(n,t){n.Va.Ue(t),el(n).Z_(t)}function Bg(n){n.Va=new NI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Ra.ua()}function zg(n){return Ba(n)&&!el(n).x_()&&n.Ia.size>0}function Ba(n){return kt(n).Ea.size===0}function ES(n){n.Va=void 0}async function UD(n){n.Ra.set("Online")}async function FD(n){n.Ia.forEach(((t,i)=>{kg(n,t)}))}async function qD(n,t){ES(n),zg(n)?(n.Ra.ha(t),Bg(n)):n.Ra.set("Unknown")}async function HD(n,t,i){if(n.Ra.set("Online"),t instanceof lS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(r){bt(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ih(n,r)}else if(t instanceof Bf?n.Va.Ze(t):t instanceof oS?n.Va.st(t):n.Va.tt(t),!i.isEqual(Pt.min()))try{const r=await xS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(y);v&&u.Ia.set(y,v.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,y)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),SS(u,g);const b=new Sr(v.target,g,y,v.sequenceNumber);kg(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(n,i)}catch(r){bt(Oa,"Failed to raise snapshot:",r),await ih(n,r)}}async function ih(n,t,i){if(!Jo(t))throw t;n.Ea.add(1),await zu(n),n.Ra.set("Offline"),i||(i=()=>xS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{bt(Oa,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Ch(n)}))}function AS(n,t){return t().catch((i=>ih(n,i,t)))}async function Rh(n){const t=kt(n),i=Lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sg;for(;GD(t);)try{const o=await wD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,YD(t,o)}catch(o){await ih(t,o)}wS(t)&&CS(t)}function GD(n){return Ba(n)&&n.Ta.length<10}function YD(n,t){n.Ta.push(t);const i=Lr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function wS(n){return Ba(n)&&!Lr(n).x_()&&n.Ta.length>0}function CS(n){Lr(n).start()}async function KD(n){Lr(n).ra()}async function QD(n){const t=Lr(n);for(const i of n.Ta)t.ea(i.mutations)}async function WD(n,t,i){const r=n.Ta.shift(),o=Dg.from(r,t,i);await AS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Rh(n)}async function XD(n,t){t&&Lr(n).X_&&await(async function(r,o){if((function(c){return VI(c)&&c!==ut.ABORTED})(o.code)){const u=r.Ta.shift();Lr(r).B_(),await AS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rh(r)}})(n,t),wS(n)&&CS(n)}async function pb(n,t){const i=kt(n);i.asyncQueue.verifyOperationInProgress(),bt(Oa,"RemoteStore received new credentials");const r=Ba(i);i.Ea.add(3),await zu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function $D(n,t){const i=kt(n);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await zu(i),i.Ra.set("Unknown"))}function el(n){return n.ma||(n.ma=(function(i,r,o){const u=kt(i);return u.sa(),new OD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:UD.bind(null,n),t_:FD.bind(null,n),r_:qD.bind(null,n),H_:HD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),zg(n)?Bg(n):n.Ra.set("Unknown")):(await n.ma.stop(),ES(n))}))),n.ma}function Lr(n){return n.fa||(n.fa=(function(i,r,o){const u=kt(i);return u.sa(),new PD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:KD.bind(null,n),r_:XD.bind(null,n),ta:QD.bind(null,n),na:WD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Rh(n)):(await n.fa.stop(),n.Ta.length>0&&(bt(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ug{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new Ug(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(n,t){if(zs("AsyncQueue",`${t}: ${n}`),Jo(n))return new yt(ut.UNAVAILABLE,`${t}: ${n}`);throw n}class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Rt.comparator(i.key,r.key):(i,r)=>Rt.comparator(i.key,r.key),this.keyedMap=lu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class mb{constructor(){this.ga=new Re(Rt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):jt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Qo{constructor(t,i,r,o,u,c,d,g,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Qo(t,i,Bo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class ZD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class JD{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=kt(i),u=o.queries;o.queries=gb(),u.forEach(((c,d)=>{for(const g of d.Sa)g.onError(r)}))})(this,new yt(ut.ABORTED,"Firestore shutting down"))}}function gb(){return new ka((n=>QT(n)),_h)}async function RS(n,t){const i=kt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new ZD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Fg(c,`Initialization of query '${Vo(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&qg(i)}async function IS(n,t){const i=kt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function t4(n,t){const i=kt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&qg(i)}function e4(n,t,i){const r=kt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function qg(n){n.Ca.forEach((t=>{t.next()}))}var Um,yb;(yb=Um||(Um={})).Ma="default",yb.Cache="cache";class DS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Qo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class VS{constructor(t){this.key=t}}class jS{constructor(t){this.key=t}}class n4{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=WT(t),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new mb,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const S=o.get(v),D=Th(this.query,b)?b:null,N=!!S&&this.mutatedKeys.has(S.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;S&&D?S.data.isEqual(D.data)?N!==B&&(r.track({type:3,doc:D}),F=!0):this.su(S,D)||(r.track({type:2,doc:D}),F=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(d=!0)):!S&&D?(r.track({type:0,doc:D}),F=!0):S&&!D&&(r.track({type:1,doc:S}),F=!0,(g||y)&&(d=!0)),F&&(D?(c=c.add(D),u=B?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(D,N){const B=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:F})}};return B(D)-B(N)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,c.length!==0||y?{snapshot:new Qo(this.query,t.tu,u,c,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new jS(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new VS(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class i4{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class s4{constructor(t){this.key=t,this.hu=!1}}class r4{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((d=>QT(d)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new Re(Rt.comparator),this.Au=new Map,this.Ru=new Mg,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a4(n,t,i=!0){const r=kS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await MS(r,t,i,!0),o}async function o4(n,t){const i=kS(n);await MS(i,t,!0,!1)}async function MS(n,t,i,r){const o=await CD(n.localStore,cs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await l4(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&TS(n.remoteStore,o),d}async function l4(n,t,i,r,o){n.pu=(b,S,D)=>(async function(B,F,X,L){let q=F.view.ru(X);q.Cs&&(q=await ub(B.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,q))));const G=L&&L.targetChanges.get(F.targetId),tt=L&&L.targetMismatches.get(F.targetId)!=null,et=F.view.applyChanges(q,B.isPrimaryClient,G,tt);return xb(B,F.targetId,et.au),et.snapshot})(n,b,S,D);const u=await ub(n.localStore,t,!0),c=new n4(t,u.Qs),d=c.ru(u.documents),g=Bu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,g);xb(n,i,y.au);const v=new i4(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),y.snapshot}async function u4(n,t,i){const r=kt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!_h(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Lg(r.remoteStore,o.targetId),Fm(r,o.targetId)})).catch(Zo)):(Fm(r,o.targetId),await Bm(r.localStore,o.targetId,!0))}async function c4(n,t){const i=kt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(i.remoteStore,r.targetId))}async function f4(n,t,i){const r=v4(n);try{const o=await(function(c,d){const g=kt(c),y=Se.now(),v=d.reduce(((D,N)=>D.add(N.key)),Qt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let N=Us(),B=Qt();return g.Ns.getEntries(D,v).next((F=>{N=F,N.forEach(((X,L)=>{L.isValidDocument()||(B=B.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,N))).next((F=>{b=F;const X=[];for(const L of d){const q=wI(L,b.get(L.key).overlayedDocument);q!=null&&X.push(new Hr(L.key,q,zT(q.value.mapValue),Ti.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,X,d)})).next((F=>{S=F;const X=F.applyToLocalDocumentSet(b,B);return g.documentOverlayCache.saveOverlays(D,F.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:$T(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,g){let y=c.Vu[c.currentUser.toKey()];y||(y=new Re(Kt)),y=y.insert(d,g),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,i),await Uu(r,o.changes),await Rh(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");i.reject(u)}}async function NS(n,t){const i=kt(n);try{const r=await ED(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await Uu(i,r,t)}catch(r){await Zo(r)}}function vb(n,t,i){const r=kt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const g=kt(c);g.onlineState=d;let y=!1;g.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(d)&&(y=!0)})),y&&qg(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function h4(n,t,i){const r=kt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Re(Rt.comparator);c=c.insert(u,En.newNoDocument(u,Pt.min()));const d=Qt().add(u),g=new Ah(Pt.min(),new Map,new Re(Kt),c,d);await NS(r,g),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await Bm(r.localStore,t,!1).then((()=>Fm(r,t,i))).catch(Zo)}async function d4(n,t){const i=kt(n),r=t.batch.batchId;try{const o=await SD(i.localStore,t);PS(i,r,null),OS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(i,o)}catch(o){await Zo(o)}}async function p4(n,t,i){const r=kt(n);try{const o=await(function(c,d){const g=kt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,d).next((b=>(ce(b!==null,37113),v=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,t);PS(r,t,i),OS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Uu(r,o)}catch(o){await Zo(o)}}function OS(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function PS(n,t,i){const r=kt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Fm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||LS(n,r)}))}function LS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(Lg(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Gg(n))}function xb(n,t,i){for(const r of i)r instanceof VS?(n.Ru.addReference(r.key,t),m4(n,r)):r instanceof jS?(bt(Hg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||LS(n,r.key)):jt(19791,{wu:r})}function m4(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(bt(Hg,"New document in limbo: "+i),n.Eu.add(r),Gg(n))}function Gg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new Rt(xe.fromString(t)),r=n.fu.next();n.Au.set(r,new s4(i)),n.du=n.du.insert(i,r),TS(n.remoteStore,new Sr(cs(bh(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Uu(n,t,i){const r=kt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{c.push(r.pu(g,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const v=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=Og.As(g.targetId,y);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,y){const v=kt(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ft.forEach(y,(S=>ft.forEach(S.Es,(D=>v.persistence.referenceDelegate.addReference(b,S.targetId,D))).next((()=>ft.forEach(S.ds,(D=>v.persistence.referenceDelegate.removeReference(b,S.targetId,D)))))))))}catch(b){if(!Jo(b))throw b;bt(Pg,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const D=v.Ms.get(S),N=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,B)}}})(r.localStore,u))}async function g4(n,t){const i=kt(n);if(!i.currentUser.isEqual(t)){bt(Hg,"User change. New user:",t.toKey());const r=await vS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((g=>{g.reject(new yt(ut.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Uu(i,r.Ls)}}function y4(n,t){const i=kt(n),r=i.Au.get(t);if(r&&r.hu)return Qt().add(r.key);{let o=Qt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function kS(n){const t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=y4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h4.bind(null,t),t.Pu.H_=t4.bind(null,t.eventManager),t.Pu.yu=e4.bind(null,t.eventManager),t}function v4(n){const t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=p4.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return TD(this.persistence,new xD,t.initialUser,this.serializer)}Cu(t){return new yS(Ng.mi,this.serializer)}Du(t){return new ID}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class x4 extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ce(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sD(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new yS((r=>nh.mi(r,i)),this.serializer)}}class qm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g4.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new JD})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),r=(function(u){return new ND(u)})(t.databaseInfo);return(function(u,c,d,g){return new kD(u,c,d,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new zD(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>vb(this.syncEngine,i,0)),(function(){return hb.v()?new hb:new DD})())}createSyncEngine(t,i){return(function(o,u,c,d,g,y,v){const b=new r4(o,u,c,d,g,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=kt(i);bt(Oa,"RemoteStore shutting down."),r.Ea.add(5),await zu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class BS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const kr="FirestoreClient";class b4{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{bt(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(bt(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Fg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function tm(n,t){n.asyncQueue.verifyOperationInProgress(),bt(kr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await vS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function bb(n,t){n.asyncQueue.verifyOperationInProgress();const i=await _4(n);bt(kr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>pb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>pb(t.remoteStore,o))),n._onlineComponents=t}async function _4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(kr,"Using user provided OfflineComponentProvider");try{await tm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;qo("Error using user provided cache. Falling back to memory cache: "+i),await tm(n,new sh)}}else bt(kr,"Using default OfflineComponentProvider"),await tm(n,new x4(void 0));return n._offlineComponents}async function zS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(kr,"Using user provided OnlineComponentProvider"),await bb(n,n._uninitializedComponentsProvider._online)):(bt(kr,"Using default OnlineComponentProvider"),await bb(n,new qm))),n._onlineComponents}function T4(n){return zS(n).then((t=>t.syncEngine))}async function Hm(n){const t=await zS(n),i=t.eventManager;return i.onListen=a4.bind(null,t.syncEngine),i.onUnlisten=u4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=o4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=c4.bind(null,t.syncEngine),i}function S4(n,t,i={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,g,y){const v=new BS({next:S=>{v.Nu(),c.enqueueAndForget((()=>IS(u,b)));const D=S.docs.has(d);!D&&S.fromCache?y.reject(new yt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?y.reject(new yt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new DS(bh(d.path),v,{includeMetadataChanges:!0,qa:!0});return RS(u,b)})(await Hm(n),n.asyncQueue,t,i,r))),r.promise}function US(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const _b=new Map;const FS="firestore.googleapis.com",Tb=!0;class Sb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=Tb}else this.host=t.host,this.ssl=t.ssl??Tb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nD)throw new yt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IR;switch(r.type){case"firstParty":return new MR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_b.get(i);r&&(bt("ComponentProvider","Removing Datastore"),_b.delete(i),r.terminate())})(this),Promise.resolve()}}function E4(n,t,i,r={}){n=_i(n,Ih);const o=vg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${i}`;o&&(eC(`https://${d}`),rC("Firestore",!0)),u.host!==FS&&u.host!==d&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:d,ssl:o,emulatorOptions:r};if(!_u(g,c)&&(n._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Sn.MOCK_USER;else{y=nC(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Sn(b)}n._authCredentials=new DR(new RT(y,v))}}class Gr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gr(this.firestore,t,this._query)}}class je{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Lu(i,je._jsonSchema))return new je(t,r||null,new Rt(xe.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:$e("string",je._jsonSchemaVersion),referencePath:$e("string")};class Vr extends Gr{constructor(t,i,r){super(t,i,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Rt(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function Zn(n,t,...i){if(n=ni(n),IT("collection","path",t),n instanceof Ih){const r=xe.fromString(t,...i);return P1(r),new Vr(n,null,r)}{if(!(n instanceof je||n instanceof Vr))throw new yt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...i));return P1(r),new Vr(n.firestore,null,r)}}function Le(n,t,...i){if(n=ni(n),arguments.length===1&&(t=Tg.newId()),IT("doc","path",t),n instanceof Ih){const r=xe.fromString(t,...i);return O1(r),new je(n,null,new Rt(r))}{if(!(n instanceof je||n instanceof Vr))throw new yt(ut.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...i));return O1(r),new je(n.firestore,n instanceof Vr?n.converter:null,new Rt(r))}}const Eb="AsyncQueue";class Ab{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const r=Jp();r&&bt(Eb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Jp();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jo(t))throw t;bt(Eb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",wb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Ug.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&jt(47125,{Pc:wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function wb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Cb(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Br extends Ih{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Ab,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ab(t),this._firestoreClient=void 0,await t}}}function A4(n,t){const i=typeof n=="object"?n:vT(),r=typeof n=="string"?n:Wf,o=Pu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=J2("firestore");u&&E4(o,...u)}return o}function Yg(n){if(n._terminated)throw new yt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||w4(n),n._firestoreClient}function w4(n){const t=n._freezeSettings(),i=(function(o,u,c,d){return new $R(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,US(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new b4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(yn.fromBase64String(t))}catch(i){throw new yt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xi(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lu(t,xi._jsonSchema))return xi.fromBase64String(t.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:$e("string",xi._jsonSchemaVersion),bytes:$e("string")};class Dh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new yt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kg{constructor(t){this._methodName=t}}class hs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new yt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new yt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(Lu(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:$e("string",hs._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};class ds{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lu(t,ds._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ds(t.vectorValues);throw new yt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:$e("string",ds._jsonSchemaVersion),vectorValues:$e("object")};const C4=/^__.*__$/;class R4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new ku(t,this.data,i,this.fieldTransforms)}}class qS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function HS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:n})}}class Qg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(HS(this.Ac)&&C4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class I4{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||wh(t)}Cc(t,i,r,o=!1){return new Qg({Ac:t,methodName:i,Dc:r,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(n){const t=n._freezeSettings(),i=wh(n._databaseId);return new I4(n._databaseId,!!t.ignoreUndefinedProperties,i)}function GS(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);Wg("Data must be an object, but it was:",c,r);const d=YS(r,c);let g,y;if(u.merge)g=new ti(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=Gm(t,b,i);if(!c.contains(S))throw new yt(ut.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);QS(v,S)||v.push(S)}g=new ti(v),y=c.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=c.fieldTransforms;return new R4(new kn(d),g,y)}class jh extends Kg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}function D4(n,t,i,r){const o=n.Cc(1,t,i);Wg("Data must be an object, but it was:",o,r);const u=[],c=kn.empty();qr(r,((g,y)=>{const v=Xg(t,g,i);y=ni(y);const b=o.yc(v);if(y instanceof jh)u.push(v);else{const S=Fu(y,b);S!=null&&(u.push(v),c.set(v,S))}}));const d=new ti(u);return new qS(c,d,o.fieldTransforms)}function V4(n,t,i,r,o,u){const c=n.Cc(1,t,i),d=[Gm(t,r,i)],g=[o];if(u.length%2!=0)throw new yt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Gm(t,u[S])),g.push(u[S+1]);const y=[],v=kn.empty();for(let S=d.length-1;S>=0;--S)if(!QS(y,d[S])){const D=d[S];let N=g[S];N=ni(N);const B=c.yc(D);if(N instanceof jh)y.push(D);else{const F=Fu(N,B);F!=null&&(y.push(D),v.set(D,F))}}const b=new ti(y);return new qS(v,b,c.fieldTransforms)}function j4(n,t,i,r=!1){return Fu(i,n.Cc(r?4:3,t))}function Fu(n,t){if(KS(n=ni(n)))return Wg("Unsupported field value:",t,n),YS(n,t);if(n instanceof Kg)return(function(r,o){if(!HS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let g=Fu(d,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Se.fromDate(r);return{timestampValue:eh(o.serializer,u)}}if(r instanceof Se){const u=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(o.serializer,u)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:uS(o.serializer,r._byteString)};if(r instanceof je){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ds)return(function(c,d){return{mapValue:{fields:{[kT]:{stringValue:BT},[Xf]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return Rg(d.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${gh(r)}`)})(n,t)}function YS(n,t){const i={};return jT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(n,((r,o)=>{const u=Fu(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function KS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Se||n instanceof hs||n instanceof xi||n instanceof je||n instanceof Kg||n instanceof ds)}function Wg(n,t,i){if(!KS(i)||!DT(i)){const r=gh(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Gm(n,t,i){if((t=ni(t))instanceof Dh)return t._internalPath;if(typeof t=="string")return Xg(n,t);throw rh("Field path arguments must be of type string or ",n,!1,void 0,i)}const M4=new RegExp("[~\\*/\\[\\]]");function Xg(n,t,i){if(t.search(M4)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Dh(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function rh(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new yt(ut.INVALID_ARGUMENT,d+n+g)}function QS(n,t){return n.some((i=>i.isEqual(t)))}class WS{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Mh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class N4 extends WS{data(){return super.data()}}function Mh(n,t){return typeof t=="string"?Xg(n,t):t instanceof Dh?t._internalPath:t._delegate._internalPath}function O4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class Zg extends $g{}function Ca(n,t,...i){let r=[];t instanceof $g&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((g=>g instanceof Jg)).length,d=u.filter((g=>g instanceof Nh)).length;if(c>1||c>0&&d>0)throw new yt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Nh extends Zg{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Nh(t,i,r)}_apply(t){const i=this._parse(t);return XS(t._query,i),new Gr(t.firestore,t.converter,Nm(t._query,i))}_parse(t){const i=Vh(t.firestore);return(function(u,c,d,g,y,v,b){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new yt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Db(b,v);const N=[];for(const B of b)N.push(Ib(g,u,B));S={arrayValue:{values:N}}}else S=Ib(g,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Db(b,v),S=j4(d,c,b,v==="in"||v==="not-in");return Xe.create(y,v,S)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function em(n,t,i){const r=t,o=Mh("where",n);return Nh._create(o,r,i)}class Jg extends $g{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Jg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:zi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const g of d)XS(c,g),c=Nm(c,g)})(t._query,i),new Gr(t.firestore,t.converter,Nm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ty extends Zg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ty(t,i)}_apply(t){const i=(function(o,u,c){if(o.startAt!==null)throw new yt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new yt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(u,c)})(t._query,this._field,this._direction);return new Gr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new tl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Cf(n,t="asc"){const i=t,r=Mh("orderBy",n);return ty._create(r,i)}class ey extends Zg{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new ey(t,i,r)}_apply(t){return new Gr(t.firestore,t.converter,Zf(t._query,this._limit,this._limitType))}}function Rb(n){return zR("limit",n),ey._create("limit",n,"F")}function Ib(n,t,i){if(typeof(i=ni(i))=="string"){if(i==="")throw new yt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(t)&&i.indexOf("/")!==-1)throw new yt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(xe.fromString(i));if(!Rt.isDocumentKey(r))throw new yt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H1(n,new Rt(r))}if(i instanceof je)return H1(n,i._key);throw new yt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function Db(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function XS(n,t){const i=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new yt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class P4{convertValue(t,i="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw jt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return qr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Xf].arrayValue?.values?.map((r=>ke(r.doubleValue)));return new ds(i)}convertGeoPoint(t){return new hs(ke(t.latitude),ke(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=xh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Eu(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=xe.fromString(t);ce(mS(r),9688,{name:t});const o=new Au(r.get(1),r.get(3)),u=new Rt(r.popFirst(5));return o.isEqual(i)||zs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function $S(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}class cu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Va extends WS{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Mh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:$e("string",Va._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class zf extends Va{data(t={}){return super.data(t)}}class zo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new zf(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const g=new zf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const g=new zf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:L4(d.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function L4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:n})}}function Er(n){n=_i(n,je);const t=_i(n.firestore,Br);return S4(Yg(t),n._key).then((i=>JS(t,n,i)))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:$e("string",zo._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class ZS extends P4{constructor(t){super(),this.firestore=t}convertBytes(t){return new xi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function Uf(n,t,i){n=_i(n,je);const r=_i(n.firestore,Br),o=$S(n.converter,t,i);return Oh(r,[GS(Vh(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Ti.none())])}function Ar(n,t,i,...r){n=_i(n,je);const o=_i(n.firestore,Br),u=Vh(o);let c;return c=typeof(t=ni(t))=="string"||t instanceof Dh?V4(u,"updateDoc",n._key,t,i,r):D4(u,"updateDoc",n._key,t),Oh(o,[c.toMutation(n._key,Ti.exists(!0))])}function nm(n){return Oh(_i(n.firestore,Br),[new Ig(n._key,Ti.none())])}function Du(n,t){const i=_i(n.firestore,Br),r=Le(n),o=$S(n.converter,t);return Oh(i,[GS(Vh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function Ls(n,...t){n=ni(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Cb(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cb(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,d;if(n instanceof je)c=_i(n.firestore,Br),d=bh(n._key.path),u={next:g=>{t[r]&&t[r](JS(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=_i(n,Gr);c=_i(g.firestore,Br),d=g._query;const y=new ZS(c);u={next:v=>{t[r]&&t[r](new zo(c,y,g,v))},error:t[r+1],complete:t[r+2]},O4(n._query)}return(function(y,v,b,S){const D=new BS(S),N=new DS(v,D,b);return y.asyncQueue.enqueueAndForget((async()=>RS(await Hm(y),N))),()=>{D.Nu(),y.asyncQueue.enqueueAndForget((async()=>IS(await Hm(y),N)))}})(Yg(c),d,o,u)}function Oh(n,t){return(function(r,o){const u=new Dr;return r.asyncQueue.enqueueAndForget((async()=>f4(await T4(r),o,u))),u.promise})(Yg(n),t)}function JS(n,t,i){const r=i.docs.get(t._key),o=new ZS(n);return new Va(n,o,t._key,r,new cu(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){$o=o})(gR),jr(new ks("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Br(new VR(r.getProvider("auth-internal")),new NR(c,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(y.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),us(V1,j1,t),us(V1,j1,"esm2020")})();const tE="@firebase/installations",ny="0.6.19";const eE=1e4,nE=`w:${ny}`,iE="FIS_v2",k4="https://firebaseinstallations.googleapis.com/v1",B4=3600*1e3,z4="installations",U4="Installations";const F4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new mh(z4,U4,F4);function sE(n){return n instanceof Fr&&n.code.includes("request-failed")}function rE({projectId:n}){return`${k4}/projects/${n}/installations`}function aE(n){return{token:n.token,requestStatus:2,expiresIn:H4(n.expiresIn),creationTime:Date.now()}}async function oE(n,t){const r=(await t.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function q4(n,{refreshToken:t}){const i=lE(n);return i.append("Authorization",G4(t)),i}async function uE(n){const t=await n();return t.status>=500&&t.status<600?n():t}function H4(n){return Number(n.replace("s","000"))}function G4(n){return`${iE} ${n}`}async function Y4({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=rE(n),o=lE(n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:i,authVersion:iE,appId:n.appId,sdkVersion:nE},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await uE(()=>fetch(r,d));if(g.ok){const y=await g.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:aE(y.authToken)}}else throw await oE("Create Installation",g)}function cE(n){return new Promise(t=>{setTimeout(t,n)})}function K4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const Q4=/^[cdef][\w-]{21}$/,Ym="";function W4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=X4(n);return Q4.test(i)?i:Ym}catch{return Ym}}function X4(n){return K4(n).substr(0,22)}function Ph(n){return`${n.appName}!${n.appId}`}const fE=new Map;function hE(n,t){const i=Ph(n);dE(i,t),$4(i,t)}function dE(n,t){const i=fE.get(n);if(i)for(const r of i)r(t)}function $4(n,t){const i=Z4();i&&i.postMessage({key:n,fid:t}),J4()}let Ra=null;function Z4(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=n=>{dE(n.data.key,n.data.fid)}),Ra}function J4(){fE.size===0&&Ra&&(Ra.close(),Ra=null)}const tV="firebase-installations-database",eV=1,La="firebase-installations-store";let im=null;function iy(){return im||(im=gT(tV,eV,{upgrade:(n,t)=>{t===0&&n.createObjectStore(La)}})),im}async function ah(n,t){const i=Ph(n),o=(await iy()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(i);return await u.put(t,i),await o.done,(!c||c.fid!==t.fid)&&hE(n,t.fid),t}async function pE(n){const t=Ph(n),r=(await iy()).transaction(La,"readwrite");await r.objectStore(La).delete(t),await r.done}async function Lh(n,t){const i=Ph(n),o=(await iy()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(i),d=t(c);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!c||c.fid!==d.fid)&&hE(n,d.fid),d}async function sy(n){let t;const i=await Lh(n.appConfig,r=>{const o=nV(r),u=iV(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Ym?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function nV(n){const t=n||{fid:W4(),registrationStatus:0};return mE(t)}function iV(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=sV(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:rV(n)}:{installationEntry:t}}async function sV(n,t){try{const i=await Y4(n,t);return ah(n.appConfig,i)}catch(i){throw sE(i)&&i.customData.serverCode===409?await pE(n.appConfig):await ah(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function rV(n){let t=await Vb(n.appConfig);for(;t.registrationStatus===1;)await cE(100),t=await Vb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await sy(n);return r||i}return t}function Vb(n){return Lh(n,t=>{if(!t)throw Pa.create("installation-not-found");return mE(t)})}function mE(n){return aV(n)?{fid:n.fid,registrationStatus:0}:n}function aV(n){return n.registrationStatus===1&&n.registrationTime+eE<Date.now()}async function oV({appConfig:n,heartbeatServiceProvider:t},i){const r=lV(n,i),o=q4(n,i),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:nE,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await uE(()=>fetch(r,d));if(g.ok){const y=await g.json();return aE(y)}else throw await oE("Generate Auth Token",g)}function lV(n,{fid:t}){return`${rE(n)}/${t}/authTokens:generate`}async function ry(n,t=!1){let i;const r=await Lh(n.appConfig,u=>{if(!gE(u))throw Pa.create("not-registered");const c=u.authToken;if(!t&&fV(c))return u;if(c.requestStatus===1)return i=uV(n,t),u;{if(!navigator.onLine)throw Pa.create("app-offline");const d=dV(u);return i=cV(n,d),d}});return i?await i:r.authToken}async function uV(n,t){let i=await jb(n.appConfig);for(;i.authToken.requestStatus===1;)await cE(100),i=await jb(n.appConfig);const r=i.authToken;return r.requestStatus===0?ry(n,t):r}function jb(n){return Lh(n,t=>{if(!gE(t))throw Pa.create("not-registered");const i=t.authToken;return pV(i)?{...t,authToken:{requestStatus:0}}:t})}async function cV(n,t){try{const i=await oV(n,t),r={...t,authToken:i};return await ah(n.appConfig,r),i}catch(i){if(sE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await pE(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await ah(n.appConfig,r)}throw i}}function gE(n){return n!==void 0&&n.registrationStatus===2}function fV(n){return n.requestStatus===2&&!hV(n)}function hV(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+B4}function dV(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function pV(n){return n.requestStatus===1&&n.requestTime+eE<Date.now()}async function mV(n){const t=n,{installationEntry:i,registrationPromise:r}=await sy(t);return r?r.catch(console.error):ry(t).catch(console.error),i.fid}async function gV(n,t=!1){const i=n;return await yV(i),(await ry(i,t)).token}async function yV(n){const{registrationPromise:t}=await sy(n);t&&await t}function vV(n){if(!n||!n.options)throw sm("App Configuration");if(!n.name)throw sm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw sm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function sm(n){return Pa.create("missing-app-config-values",{valueName:n})}const yE="installations",xV="installations-internal",bV=n=>{const t=n.getProvider("app").getImmediate(),i=vV(t),r=Pu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_V=n=>{const t=n.getProvider("app").getImmediate(),i=Pu(t,yE).getImmediate();return{getId:()=>mV(i),getToken:o=>gV(i,o)}};function TV(){jr(new ks(yE,bV,"PUBLIC")),jr(new ks(xV,_V,"PRIVATE"))}TV();us(tE,ny);us(tE,ny,"esm2020");const oh="analytics",SV="firebase_id",EV="origin",AV=60*1e3,wV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ay="https://www.googletagmanager.com/gtag/js";const In=new xg("@firebase/analytics");const CV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new mh("analytics","Analytics",CV);function RV(n){if(!n.startsWith(ay)){const t=ei.create("invalid-gtag-resource",{gtagURL:n});return In.warn(t.message),""}return n}function vE(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function IV(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function DV(n,t){const i=IV("firebase-js-sdk-policy",{createScriptURL:RV}),r=document.createElement("script"),o=`${ay}?l=${n}&id=${t}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function VV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function jV(n,t,i,r,o,u){const c=r[o];try{if(c)await t[c];else{const g=(await vE(i)).find(y=>y.measurementId===o);g&&await t[g.appId]}}catch(d){In.error(d)}n("config",o,u)}async function MV(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await vE(i);for(const g of c){const y=d.find(b=>b.measurementId===g),v=y&&t[y.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){In.error(u)}}function NV(n,t,i,r){async function o(u,...c){try{if(u==="event"){const[d,g]=c;await MV(n,t,i,d,g)}else if(u==="config"){const[d,g]=c;await jV(n,t,i,r,d,g)}else if(u==="consent"){const[d,g]=c;n("consent",d,g)}else if(u==="get"){const[d,g,y]=c;n("get",d,g,y)}else if(u==="set"){const[d]=c;n("set",d)}else n(u,...c)}catch(d){In.error(d)}}return o}function OV(n,t,i,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=NV(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function PV(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(ay)&&i.src.includes(n))return i;return null}const LV=30,kV=1e3;class BV{constructor(t={},i=kV){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const xE=new BV;function zV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function UV(n){const{appId:t,apiKey:i}=n,r={method:"GET",headers:zV(i)},o=wV.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function FV(n,t=xE,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ei.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ei.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new GV;return setTimeout(async()=>{d.abort()},AV),bE({appId:r,apiKey:o,measurementId:u},c,d,t)}async function bE(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=xE){const{appId:u,measurementId:c}=n;try{await qV(r,t)}catch(d){if(c)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await UV(n);return o.deleteThrottleMetadata(u),d}catch(d){const g=d;if(!HV(g)){if(o.deleteThrottleMetadata(u),c)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:c};throw d}const y=Number(g?.customData?.httpStatus)===503?_1(i,o.intervalMillis,LV):_1(i,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return o.setThrottleMetadata(u,v),In.debug(`Calling attemptFetch again in ${y} millis`),bE(n,v,r,o)}}function qV(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(ei.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function HV(n){if(!(n instanceof Fr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class GV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function YV(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,c={...r,send_to:u};n("event",i,c)}}async function KV(n,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:i})}}async function QV(){if(hT())try{await dT()}catch(n){return In.warn(ei.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return In.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function WV(n,t,i,r,o,u,c){const d=FV(n);d.then(S=>{i[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>In.error(S)),t.push(d);const g=QV().then(S=>{if(S)return r.getId()}),[y,v]=await Promise.all([d,g]);PV(u)||DV(u,y.measurementId),o("js",new Date);const b=c?.config??{};return b[EV]="firebase",b.update=!0,v!=null&&(b[SV]=v),o("config",y.measurementId,b),y.measurementId}class XV{constructor(t){this.app=t}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},Mb=[];const Nb={};let rm="dataLayer",$V="gtag",Ob,oy,Pb=!1;function ZV(){const n=[];if(lC()&&n.push("This is a browser extension environment."),cC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=ei.create("invalid-analytics-context",{errorInfo:t});In.warn(i.message)}}function JV(n,t,i){ZV();const r=n.options.appId;if(!r)throw ei.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Uo[r]!=null)throw ei.create("already-exists",{id:r});if(!Pb){VV(rm);const{wrappedGtag:u,gtagCore:c}=OV(Uo,Mb,Nb,rm,$V);oy=u,Ob=c,Pb=!0}return Uo[r]=WV(n,Mb,Nb,t,Ob,rm,i),new XV(n)}function tj(n=vT()){n=ni(n);const t=Pu(n,oh);return t.isInitialized()?t.getImmediate():ej(n)}function ej(n,t={}){const i=Pu(n,oh);if(i.isInitialized()){const o=i.getImmediate();if(_u(t,i.getOptions()))return o;throw ei.create("already-initialized")}return i.initialize({options:t})}function nj(n,t,i){n=ni(n),KV(oy,Uo[n.app.options.appId],t,i).catch(r=>In.error(r))}function ij(n,t,i,r){n=ni(n),YV(oy,Uo[n.app.options.appId],t,i,r).catch(o=>In.error(o))}const Lb="@firebase/analytics",kb="0.10.19";function sj(){jr(new ks(oh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return JV(r,o,i)},"PUBLIC")),jr(new ks("analytics-internal",n,"PRIVATE")),us(Lb,kb),us(Lb,kb,"esm2020");function n(t){try{const i=t.getProvider(oh).getImmediate();return{logEvent:(r,o,u)=>ij(i,r,o,u),setUserProperties:(r,o)=>nj(i,r,o)}}catch(i){throw ei.create("interop-component-reg-failed",{reason:i})}}}sj();const rj={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},_E=yT(rj);tj(_E);const Jt=A4(_E);function aj({t:n,lang:t,users:i,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:d,logo:g,logoSize:y,logoPos:v,styles:b,isAdmin:S,syncToFirebase:D}){const[N,B]=U.useState("login"),[F,X]=U.useState(""),[L,q]=U.useState(""),[G,tt]=U.useState(""),et=async()=>{if(!F||!L||!G)return alert(t==="ko"?"  .":"Please fill all info.");const w=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(M=>M.code===G),j=i.find(M=>M.id===G);if(!w&&!j&&!(G==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(i.find(M=>M.id===F))return alert(t==="ko"?"  .":"ID already exists.");const I=(2783982189+i.length).toString(),At={id:F,pw:L,no:I,referral:G,diamond:0,refCode:F,agentName:w?w.name:"",joinedAt:new Date().toISOString()},Ft=[...i,At];r(Ft),D&&await D({users:Ft}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),X(""),q(""),tt(""),B("login")},R=A=>{A.key==="Enter"&&(N==="login"?o(F,L):et())};return m.jsxs("div",{style:{...b.landingWrapper,minHeight:"100dvh"},children:[m.jsxs("div",{style:{...b.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[m.jsx("div",{style:b.bgOverlay}),c.mode==="image"&&c.imageSrc&&m.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&d&&m.jsx("video",{src:d,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...b.bgVideo,height:"100dvh",objectFit:"cover"}},d)]}),m.jsx("div",{style:{...b.logoContainer,left:`${v.x}px`,top:`${v.y}px`,transition:"all 0.3s ease"},children:g?m.jsx("img",{src:g,alt:"logo",style:{height:`${y}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):m.jsx("strong",{style:b.defaultLogo,children:"DAISY"})}),m.jsxs("div",{style:b.mainContent,children:[m.jsxs("div",{style:b.heroSection,children:[m.jsx("h1",{style:b.mainTitle,children:c.title[t]}),m.jsx("p",{style:b.subTitle,children:c.desc[t]})]}),!S&&m.jsx("div",{style:b.authWrap,children:m.jsxs("div",{style:{...b.authCard,padding:"50px 40px"},children:[m.jsx("h2",{style:{...b.authTitle,fontSize:"28px",marginBottom:"35px"},children:N==="login"?n.login:n.signup}),m.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:F,onChange:A=>X(A.target.value),onKeyDown:R}),m.jsx("input",{type:"password",style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:L,onChange:A=>q(A.target.value),onKeyDown:R}),N==="signup"&&m.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:G,onChange:A=>tt(A.target.value),onKeyDown:R}),m.jsx("button",{style:{...b.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>N==="login"?o(F,L):et(),children:N==="login"?n.login:n.signup}),N==="login"&&m.jsx("button",{style:{...b.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),m.jsx("div",{style:{...b.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{B(N==="login"?"signup":"login"),X(""),q(""),tt("")},children:N==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Bb=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function oj({members:n=[],slideImages:t=[],innerLogo:i,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:d}){const[g,y]=U.useState(0),v=U.useRef(null);U.useEffect(()=>{if(!t||t.length<=1)return;const N=setInterval(()=>{y(B=>(B+1)%t.length)},4e3);return()=>clearInterval(N)},[t]);const b=U.useMemo(()=>!n||n.length===0?[]:[...n,...n,...n],[n]),S=N=>{v.current&&v.current.scrollBy({left:N==="left"?-300:300,behavior:"smooth"})},D=N=>{const B=v.current;if(!B)return;let F=!0,X=N.pageX-B.offsetLeft,L=B.scrollLeft;const q=tt=>{if(!F)return;tt.preventDefault();const R=(tt.pageX-B.offsetLeft-X)*2;B.scrollLeft=L-R},G=()=>{F=!1,window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",q),window.addEventListener("mouseup",G)};return m.jsxs("div",{style:Vt.container,children:[m.jsx("div",{className:"bg-glow"}),m.jsx("div",{className:"bg-pattern"}),m.jsxs("header",{style:Vt.header,children:[m.jsx("div",{style:Vt.logoArea,children:i?m.jsx("img",{src:i,style:Vt.logoImg,alt:"logo"}):m.jsxs("h1",{style:Vt.defaultLogo,children:["DAISY",m.jsx("br",{}),m.jsx("span",{children:"LOUNGE"})]})}),m.jsxs("div",{style:Vt.statusBadge,children:[m.jsx("div",{className:"dot-pulse-wrap",children:m.jsx("span",{className:"dot-pulse"})}),m.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),m.jsxs("b",{style:Vt.countText,children:[c," MEMBERS"]})]})]}),m.jsxs("div",{style:Vt.introTextArea,children:[m.jsx("div",{style:Vt.introSub,children:"WELCOME TO THE PRIVATE"}),m.jsxs("div",{style:Vt.introMain,children:[d.welcome.replace(" ",""),m.jsx("span",{style:Vt.introSparkle,children:""})]})]}),t&&t.length>0&&m.jsx("div",{style:Vt.sliderContainer,children:m.jsxs("div",{style:Vt.sliderWrap,children:[t.map((N,B)=>{const F=N.url||N,X=B===g;return m.jsx("div",{style:{...Vt.slide,opacity:X?1:0,visibility:X?"visible":"hidden"},children:m.jsxs("div",{style:Vt.imageBorderWrapper,children:[m.jsx("img",{src:F,style:Vt.actualImg,alt:"slide",draggable:"false"}),m.jsx("div",{style:Vt.slideOverlay}),m.jsx("div",{style:Vt.adTag,children:"PREMIUM PICK"})]})},B)}),m.jsx("div",{style:Vt.indicatorWrap,children:t.map((N,B)=>m.jsx("div",{style:{...Vt.dot,width:B===g?20:6,backgroundColor:B===g?"#FFD700":"rgba(255,255,255,0.3)"}},B))})]})}),m.jsxs("div",{style:Vt.welcomeBox,children:[m.jsx("div",{style:Vt.welcomeLine}),m.jsx("span",{style:Vt.welcomeText,children:d.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),m.jsx("div",{style:Vt.welcomeLine})]}),m.jsxs("div",{style:Vt.sectionLabel,children:[m.jsxs("div",{style:Vt.labelLeft,children:[m.jsx("span",{className:"shine-text",style:Vt.labelIcon,children:""}),m.jsxs("span",{style:Vt.labelText,children:["DAISY ",d.manager.toUpperCase()]})]}),m.jsx("div",{onClick:()=>o&&o("manager"),style:Vt.moreBtn,children:"VIEW ALL "})]}),m.jsxs("div",{style:{position:"relative",width:"100%"},children:[m.jsx("div",{ref:v,className:"snap-container",style:Vt.scrollArea,onMouseDown:D,children:b.map((N,B)=>m.jsxs("div",{style:Vt.card,onClick:()=>u&&u(N),children:[m.jsxs("div",{style:Vt.cardImgWrap,children:[m.jsx("img",{src:N.img,style:Vt.cardImg,alt:N.name||"member",draggable:"false"}),m.jsx("div",{style:Vt.cardOverlay}),m.jsx("div",{style:Vt.cardBadge,children:Bb[B%Bb.length]})]}),m.jsxs("div",{style:Vt.cardInfo,children:[m.jsx("div",{style:Vt.cardName,children:N.name}),m.jsxs("div",{style:Vt.cardSpecs,children:[m.jsx("span",{style:Vt.specText,children:N.loc||N.region||(d.home===""?"":"Area")}),m.jsx("span",{style:Vt.specDivider,children:""}),m.jsx("span",{style:Vt.specText,children:N.age?`${N.age}${d.home===""?"":""}`:d.home===""?"20":"20s"})]}),m.jsxs("div",{style:{...Vt.cardSpecs,marginTop:"5px"},children:[m.jsx("span",{style:Vt.specText,children:N.height?N.height+"cm":"cm"}),m.jsx("span",{style:Vt.specDivider,children:""}),m.jsx("span",{style:Vt.specText,children:N.weight?N.weight+"kg":"kg"}),m.jsx("span",{style:Vt.specDivider,children:""}),m.jsx("span",{style:Vt.specText,children:N.bust||N.size||"Size"})]})]})]},B))}),m.jsxs("div",{className:"pc-arrows-wrap",children:[m.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("left")},children:""}),m.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("right")},children:""})]})]}),m.jsxs("div",{style:Vt.footerBtnArea,children:[m.jsxs("button",{onClick:r,className:"shimmer-btn",style:Vt.teleBtn,children:[" ",d.home===""?"  ":"Connect Real-time Chat"]}),m.jsx("p",{style:Vt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),m.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const Vt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function lj({filteredMembers:n,regions:t,selectedRegion:i,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[d,g]=U.useState(null),[y,v]=U.useState(null);U.useEffect(()=>{o&&(g(o),window.history.pushState({isDetail:!0},""))},[o]),U.useEffect(()=>{const L=()=>{y?v(null):d&&S()};return window.addEventListener("popstate",L),()=>window.removeEventListener("popstate",L)},[y,d]);const b=(L,q)=>{v({type:L,url:q}),window.history.pushState({isFull:!0},"")},S=()=>{g(null),u&&u()},D=L=>L&&(L.includes("/video/upload/")||L.match(/\.(mp4|webm|mov|avi)$/i)),N={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},B=c.home==="",F=L=>B?L:N[L]||L,X=L=>{const q=B?[`${L}        .`,`     ${L}  .`,`      ${L} .`]:[`${L} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${L}, who boasts a visual perfected through thorough self-management.`,`${L} promises a comfortable time with bright energy and consideration.`];let G=(L||"").split("").reduce((tt,et)=>tt+et.charCodeAt(0),0);return q[G%q.length]};return m.jsxs("div",{style:Ot.container,children:[m.jsx("div",{style:Ot.filterWrapper,children:m.jsx("div",{style:Ot.filterScroll,children:t.map(L=>m.jsx("div",{onClick:()=>r(L),style:{...Ot.filterItem,color:i===L?"#000":"#888",background:i===L?"#FFD700":"transparent",borderColor:i===L?"#FFD700":"#333"},children:F(L)},L))})}),m.jsx("div",{style:Ot.grid,children:n.map((L,q)=>m.jsxs("div",{style:Ot.card,onClick:()=>{g(L),window.history.pushState({isDetail:!0},"")},children:[m.jsxs("div",{style:Ot.cardImgWrap,children:[m.jsx("img",{src:L.img,style:Ot.cardImg,alt:L.name}),m.jsx("div",{style:Ot.cardOverlay}),m.jsx("div",{style:Ot.cardBadge,children:"PREMIUM"})]}),m.jsxs("div",{style:Ot.cardInfo,children:[m.jsx("div",{style:Ot.cardName,children:L.name}),m.jsxs("div",{style:Ot.cardSpecs,children:[F(L.loc||L.region||(B?"":"LOC")),"  ",L.age?`${L.age}${B?"":""}`:B?"20":"20s"]}),m.jsxs("div",{style:{...Ot.cardSpecs,marginTop:"4px"},children:[L.height?L.height+"cm":"cm","  ",L.bust||L.size||"Size"]})]})]},q))}),d&&m.jsx("div",{style:Ot.modalOverlay,onClick:S,children:m.jsxs("div",{style:Ot.modalContent,onClick:L=>L.stopPropagation(),children:[m.jsxs("div",{style:Ot.modalImageWrap,onClick:()=>b("img",d.img),children:[m.jsx("img",{src:d.img,style:Ot.modalActualImg,alt:""}),m.jsxs("div",{style:Ot.luxTag,children:[" ",B?" ":"CLICK TO ZOOM"]})]}),m.jsxs("div",{style:Ot.modalBody,children:[m.jsx("h2",{style:Ot.modalName,children:d.name}),m.jsxs("div",{style:Ot.specGrid,children:[m.jsxs("div",{style:Ot.specItem,children:["LOC",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:F(d.loc||d.region||(B?"":"TBA"))})]}),m.jsxs("div",{style:Ot.specItem,children:["AGE",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.age?`${d.age}${B?"":""}`:"20s"})]}),m.jsxs("div",{style:Ot.specItem,children:["HEIGHT",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.height?d.height+"cm":"cm"})]}),m.jsxs("div",{style:Ot.specItem,children:["WEIGHT",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.weight?d.weight+"kg":"kg"})]}),m.jsxs("div",{style:Ot.specItem,children:["SIZE",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.bust||d.size||"Size"})]})]}),m.jsxs("div",{style:Ot.introBox,children:[m.jsx("div",{style:Ot.introTitle,children:"INTRO"}),m.jsx("p",{style:Ot.introText,children:d.desc||X(d.name)})]}),(d.video||D(d.img))&&m.jsxs("div",{style:Ot.videoArea,onClick:()=>b("video",d.video||d.img),children:[m.jsxs("div",{style:Ot.introTitle,children:["PRIVATE MOVIE (",B?" ":"CLICK TO ENLARGE",")"]}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("video",{src:d.video||d.img,style:Ot.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),m.jsxs("div",{style:Ot.videoOverlay,children:[" ",B?" ":"TAP TO FULL VIEW"]})]})]}),m.jsx("button",{style:Ot.closeBtn,onClick:S,children:B?"":"CLOSE"})]})]})}),y&&m.jsxs("div",{id:"full-screen-view",style:Ot.fullScreenOverlay,onClick:()=>v(null),children:[m.jsxs("button",{style:Ot.fullScreenClose,onClick:()=>v(null),children:[" ",B?"":"CLOSE"]}),m.jsx("div",{style:Ot.fullScreenContent,onClick:L=>L.stopPropagation(),children:y.type==="video"?m.jsx("video",{src:y.url,style:Ot.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):m.jsx("img",{src:y.url,style:Ot.fullMedia,alt:""})})]})]})}const Ot={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function uj({videoCategories:n=[],selectedCategory:t,setSelectedCategory:i,filteredVideos:r=[],t:o}){const[u,c]=U.useState(null),[d,g]=U.useState(1),y=10,v=o.home==="",b={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},S=G=>v?G:b[G]||G;U.useEffect(()=>{g(1)},[t]);const D=d*y,N=D-y,B=r.slice(N,D),F=Math.ceil(r.length/y),X=t==="ALL";U.useEffect(()=>{const G=()=>{u&&c(null)};return window.addEventListener("popstate",G),()=>window.removeEventListener("popstate",G)},[u]);const L=G=>{c(G),window.history.pushState({isFullVideo:!0},"")},q=()=>{c(null)};return m.jsxs("div",{style:Ke.pagePadding,children:[m.jsx("h2",{style:Ke.tabDisplayTitle,children:v?" ":"PREMIUM GALLERY"}),m.jsxs("div",{style:Ke.videoCategoryBar,children:[m.jsxs("span",{onClick:()=>i("ALL"),style:{...Ke.videoCatItem,color:X?"#ffb347":"#555",borderBottom:X?"2px solid #ffb347":"2px solid transparent"},children:[" ",S("ALL")," "]}),n.map(G=>m.jsxs("span",{onClick:()=>i(G),style:{...Ke.videoCatItem,color:t===G?"#ffb347":"#555",borderBottom:t===G?"2px solid #ffb347":"2px solid transparent"},children:[" ",S(G)," "]},G))]}),m.jsx("div",{style:Ke.videoGrid,children:B.length>0?B.map(G=>m.jsxs("div",{style:Ke.videoCard,onClick:()=>L(G.url),children:[m.jsxs("div",{style:Ke.videoWrapper,children:[m.jsx("video",{src:G.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:Ke.videoEl,poster:G.poster||""}),m.jsxs("div",{style:Ke.playOverlay,children:[" ",v?"":"FULL VIEW"]})]}),m.jsxs("div",{style:Ke.videoDesc,children:[m.jsx("span",{style:Ke.descBadge,children:"EXCLUSIVE"}),m.jsx("p",{style:Ke.descText,children:G.description||(v?` ${G.category} `:`PREMIUM ${S(G.category)} SHOW`)})]})]},G.id)):m.jsx("div",{style:Ke.noData,children:v?"    .":"Videos in this category are coming soon."})}),F>1&&m.jsx("div",{style:Ke.pagination,children:Array.from({length:F},(G,tt)=>tt+1).map(G=>m.jsxs("button",{onClick:()=>{g(G),window.scrollTo(0,0)},style:{...Ke.pageBtn,background:d===G?"#ffb347":"#1a1a1a",color:d===G?"#000":"#888"},children:[" ",G," "]},G))}),u&&m.jsxs("div",{id:"full-screen-view",style:Ke.fullOverlay,onClick:q,children:[m.jsxs("button",{style:Ke.closeFull,onClick:q,children:[" ",v?"":"CLOSE"]}),m.jsx("div",{style:Ke.fullContent,onClick:G=>G.stopPropagation(),children:m.jsx("video",{src:u,style:Ke.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const Ke={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},ly=U.createContext({});function kh(n){const t=U.useRef(null);return t.current===null&&(t.current=n()),t.current}const uy=typeof window<"u",cy=uy?U.useLayoutEffect:U.useEffect,Bh=U.createContext(null);function fy(n,t){n.indexOf(t)===-1&&n.push(t)}function hy(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Fs=(n,t,i)=>i>t?t:i<n?n:i;let dy=()=>{};const qs={},TE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function SE(n){return typeof n=="object"&&n!==null}const EE=n=>/^0[^.\s]+$/u.test(n);function py(n){let t;return()=>(t===void 0&&(t=n()),t)}const Si=n=>n,cj=(n,t)=>i=>t(n(i)),qu=(...n)=>n.reduce(cj),Vu=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class my{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>hy(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ps=n=>n*1e3,bi=n=>n/1e3;function AE(n,t){return t?n*(1e3/t):0}const wE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,fj=1e-7,hj=12;function dj(n,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=wE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>fj&&++d<hj);return c}function Hu(n,t,i,r){if(n===t&&i===r)return Si;const o=u=>dj(u,0,1,n,i);return u=>u===0||u===1?u:wE(o(u),t,r)}const CE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,RE=n=>t=>1-n(1-t),IE=Hu(.33,1.53,.69,.99),gy=RE(IE),DE=CE(gy),VE=n=>(n*=2)<1?.5*gy(n):.5*(2-Math.pow(2,-10*(n-1))),yy=n=>1-Math.sin(Math.acos(n)),jE=RE(yy),ME=CE(yy),pj=Hu(.42,0,1,1),mj=Hu(0,0,.58,1),NE=Hu(.42,0,.58,1),gj=n=>Array.isArray(n)&&typeof n[0]!="number",OE=n=>Array.isArray(n)&&typeof n[0]=="number",yj={linear:Si,easeIn:pj,easeInOut:NE,easeOut:mj,circIn:yy,circInOut:ME,circOut:jE,backIn:gy,backInOut:DE,backOut:IE,anticipate:VE},vj=n=>typeof n=="string",zb=n=>{if(OE(n)){dy(n.length===4);const[t,i,r,o]=n;return Hu(t,i,r,o)}else if(vj(n))return yj[n];return n},Rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xj(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(y.schedule(v),n()),v(d)}const y={schedule:(v,b=!1,S=!1)=>{const N=S&&o?i:r;return b&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),i.clear(),o=!1,u&&(u=!1,y.process(v))}};return y}const bj=40;function PE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Rf.reduce((q,G)=>(q[G]=xj(u),q),{}),{setup:d,read:g,resolveKeyframes:y,preUpdate:v,update:b,preRender:S,render:D,postRender:N}=c,B=()=>{const q=qs.useManualTiming?o.timestamp:performance.now();i=!1,qs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,bj),1)),o.timestamp=q,o.isProcessing=!0,d.process(o),g.process(o),y.process(o),v.process(o),b.process(o),S.process(o),D.process(o),N.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(B))},F=()=>{i=!0,r=!0,o.isProcessing||n(B)};return{schedule:Rf.reduce((q,G)=>{const tt=c[G];return q[G]=(et,R=!1,A=!1)=>(i||F(),tt.schedule(et,R,A)),q},{}),cancel:q=>{for(let G=0;G<Rf.length;G++)c[Rf[G]].cancel(q)},state:o,steps:c}}const{schedule:we,cancel:zr,state:pn,steps:am}=PE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Si,!0);let Ff;function _j(){Ff=void 0}const Bn={now:()=>(Ff===void 0&&Bn.set(pn.isProcessing||qs.useManualTiming?pn.timestamp:performance.now()),Ff),set:n=>{Ff=n,queueMicrotask(_j)}},LE=n=>t=>typeof t=="string"&&t.startsWith(n),kE=LE("--"),Tj=LE("var(--"),vy=n=>Tj(n)?Sj.test(n.split("/*")[0].trim()):!1,Sj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ju={...nl,transform:n=>Fs(0,1,n)},If={...nl,default:1},yu=n=>Math.round(n*1e5)/1e5,xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ej(n){return n==null}const Aj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,by=(n,t)=>i=>!!(typeof i=="string"&&Aj.test(i)&&i.startsWith(n)||t&&!Ej(i)&&Object.prototype.hasOwnProperty.call(i,t)),BE=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(xy);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},wj=n=>Fs(0,255,n),om={...nl,transform:n=>Math.round(wj(n))},Ia={test:by("rgb","red"),parse:BE("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+om.transform(n)+", "+om.transform(t)+", "+om.transform(i)+", "+yu(ju.transform(r))+")"};function Cj(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Km={test:by("#"),parse:Cj,transform:Ia.transform},Gu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Tr=Gu("deg"),ms=Gu("%"),Mt=Gu("px"),Rj=Gu("vh"),Ij=Gu("vw"),Ub={...ms,parse:n=>ms.parse(n)/100,transform:n=>ms.transform(n*100)},No={test:by("hsl","hue"),parse:BE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+ms.transform(yu(t))+", "+ms.transform(yu(i))+", "+yu(ju.transform(r))+")"},We={test:n=>Ia.test(n)||Km.test(n)||No.test(n),parse:n=>Ia.test(n)?Ia.parse(n):No.test(n)?No.parse(n):Km.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ia.transform(n):No.transform(n),getAnimatableNone:n=>{const t=We.parse(n);return t.alpha=0,We.transform(t)}},Dj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vj(n){return isNaN(n)&&typeof n=="string"&&(n.match(xy)?.length||0)+(n.match(Dj)?.length||0)>0}const zE="number",UE="color",jj="var",Mj="var(",Fb="${}",Nj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(Nj,g=>(We.test(g)?(r.color.push(u),o.push(UE),i.push(We.parse(g))):g.startsWith(Mj)?(r.var.push(u),o.push(jj),i.push(g)):(r.number.push(u),o.push(zE),i.push(parseFloat(g))),++u,Fb)).split(Fb);return{values:i,split:d,indexes:r,types:o}}function FE(n){return Mu(n).values}function qE(n){const{split:t,types:i}=Mu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===zE?u+=yu(o[c]):d===UE?u+=We.transform(o[c]):u+=o[c]}return u}}const Oj=n=>typeof n=="number"?0:We.test(n)?We.getAnimatableNone(n):n;function Pj(n){const t=FE(n);return qE(n)(t.map(Oj))}const Ur={test:Vj,parse:FE,createTransformer:qE,getAnimatableNone:Pj};function lm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function Lj({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,g=2*i-d;o=lm(g,d,n+1/3),u=lm(g,d,n),c=lm(g,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function lh(n,t){return i=>i>0?t:n}const Ce=(n,t,i)=>n+(t-n)*i,um=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},kj=[Km,Ia,No],Bj=n=>kj.find(t=>t.test(n));function qb(n){const t=Bj(n);if(!t)return!1;let i=t.parse(n);return t===No&&(i=Lj(i)),i}const Hb=(n,t)=>{const i=qb(n),r=qb(t);if(!i||!r)return lh(n,t);const o={...i};return u=>(o.red=um(i.red,r.red,u),o.green=um(i.green,r.green,u),o.blue=um(i.blue,r.blue,u),o.alpha=Ce(i.alpha,r.alpha,u),Ia.transform(o))},Qm=new Set(["none","hidden"]);function zj(n,t){return Qm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function Uj(n,t){return i=>Ce(n,t,i)}function _y(n){return typeof n=="number"?Uj:typeof n=="string"?vy(n)?lh:We.test(n)?Hb:Hj:Array.isArray(n)?HE:typeof n=="object"?We.test(n)?Hb:Fj:lh}function HE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>_y(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function Fj(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=_y(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function qj(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],d=n.values[c]??0;i[o]=d,r[u]++}return i}const Hj=(n,t)=>{const i=Ur.createTransformer(t),r=Mu(n),o=Mu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Qm.has(n)&&!o.values.length||Qm.has(t)&&!r.values.length?zj(n,t):qu(HE(qj(r,o),o.values),i):lh(n,t)};function GE(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Ce(n,t,i):_y(n)(n,t)}const Gj=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>we.update(t,i),stop:()=>zr(t),now:()=>pn.isProcessing?pn.timestamp:Bn.now()}},YE=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},uh=2e4;function Ty(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<uh;)t+=i,r=n.next(t);return t>=uh?1/0:t}function Yj(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Ty(r),uh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:bi(o)}}const Kj=5;function KE(n,t,i){const r=Math.max(t-Kj,0);return AE(i-n(r),t-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cm=.001;function Qj({duration:n=Ve.duration,bounce:t=Ve.bounce,velocity:i=Ve.velocity,mass:r=Ve.mass}){let o,u,c=1-t;c=Fs(Ve.minDamping,Ve.maxDamping,c),n=Fs(Ve.minDuration,Ve.maxDuration,bi(n)),c<1?(o=y=>{const v=y*c,b=v*n,S=v-i,D=Wm(y,c),N=Math.exp(-b);return cm-S/D*N},u=y=>{const b=y*c*n,S=b*i+i,D=Math.pow(c,2)*Math.pow(y,2)*n,N=Math.exp(-b),B=Wm(Math.pow(y,2),c);return(-o(y)+cm>0?-1:1)*((S-D)*N)/B}):(o=y=>{const v=Math.exp(-y*n),b=(y-i)*n+1;return-cm+v*b},u=y=>{const v=Math.exp(-y*n),b=(i-y)*(n*n);return v*b});const d=5/n,g=Xj(o,u,d);if(n=ps(n),isNaN(g))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:n};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:c*2*Math.sqrt(r*y),duration:n}}}const Wj=12;function Xj(n,t,i){let r=i;for(let o=1;o<Wj;o++)r=r-n(r)/t(r);return r}function Wm(n,t){return n*Math.sqrt(1-t*t)}const $j=["duration","bounce"],Zj=["stiffness","damping","mass"];function Gb(n,t){return t.some(i=>n[i]!==void 0)}function Jj(n){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...n};if(!Gb(n,Zj)&&Gb(n,$j))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Fs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ve.mass,stiffness:o,damping:u}}else{const i=Qj(n);t={...t,...i,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function ch(n=Ve.visualDuration,t=Ve.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:g,damping:y,mass:v,duration:b,velocity:S,isResolvedFromDuration:D}=Jj({...i,velocity:-bi(i.velocity||0)}),N=S||0,B=y/(2*Math.sqrt(g*v)),F=c-u,X=bi(Math.sqrt(g/v)),L=Math.abs(F)<5;r||(r=L?Ve.restSpeed.granular:Ve.restSpeed.default),o||(o=L?Ve.restDelta.granular:Ve.restDelta.default);let q;if(B<1){const tt=Wm(X,B);q=et=>{const R=Math.exp(-B*X*et);return c-R*((N+B*X*F)/tt*Math.sin(tt*et)+F*Math.cos(tt*et))}}else if(B===1)q=tt=>c-Math.exp(-X*tt)*(F+(N+X*F)*tt);else{const tt=X*Math.sqrt(B*B-1);q=et=>{const R=Math.exp(-B*X*et),A=Math.min(tt*et,300);return c-R*((N+B*X*F)*Math.sinh(A)+tt*F*Math.cosh(A))/tt}}const G={calculatedDuration:D&&b||null,next:tt=>{const et=q(tt);if(D)d.done=tt>=b;else{let R=tt===0?N:0;B<1&&(R=tt===0?ps(N):KE(q,tt,et));const A=Math.abs(R)<=r,w=Math.abs(c-et)<=o;d.done=A&&w}return d.value=d.done?c:et,d},toString:()=>{const tt=Math.min(Ty(G),uh),et=YE(R=>G.next(tt*R).value,tt,30);return tt+"ms "+et},toTransition:()=>{}};return G}ch.applyToOptions=n=>{const t=Yj(n,100,ch);return n.ease=t.ease,n.duration=ps(t.duration),n.type="keyframes",n};function Xm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:g,restDelta:y=.5,restSpeed:v}){const b=n[0],S={done:!1,value:b},D=A=>d!==void 0&&A<d||g!==void 0&&A>g,N=A=>d===void 0?g:g===void 0||Math.abs(d-A)<Math.abs(g-A)?d:g;let B=i*t;const F=b+B,X=c===void 0?F:c(F);X!==F&&(B=X-b);const L=A=>-B*Math.exp(-A/r),q=A=>X+L(A),G=A=>{const w=L(A),j=q(A);S.done=Math.abs(w)<=y,S.value=S.done?X:j};let tt,et;const R=A=>{D(S.value)&&(tt=A,et=ch({keyframes:[S.value,N(S.value)],velocity:KE(q,A,S.value),damping:o,stiffness:u,restDelta:y,restSpeed:v}))};return R(0),{calculatedDuration:null,next:A=>{let w=!1;return!et&&tt===void 0&&(w=!0,G(A),R(A)),tt!==void 0&&A>=tt?et.next(A-tt):(!w&&G(A),S)}}}function t5(n,t,i){const r=[],o=i||qs.mix||GE,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const g=Array.isArray(t)?t[c]||Si:t;d=qu(g,d)}r.push(d)}return r}function e5(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(dy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=t5(t,r,o),g=d.length,y=v=>{if(c&&v<n[0])return t[0];let b=0;if(g>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const S=Vu(n[b],n[b+1],v);return d[b](S)};return i?v=>y(Fs(n[0],n[u-1],v)):y}function n5(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Vu(0,t,r);n.push(Ce(i,1,o))}}function i5(n){const t=[0];return n5(t,n.length-1),t}function s5(n,t){return n.map(i=>i*t)}function r5(n,t){return n.map(()=>t||NE).splice(0,n.length-1)}function vu({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=gj(r)?r.map(zb):zb(r),u={done:!1,value:t[0]},c=s5(i&&i.length===t.length?i:i5(t),n),d=e5(c,t,{ease:Array.isArray(o)?o:r5(t,o)});return{calculatedDuration:n,next:g=>(u.value=d(g),u.done=g>=n,u)}}const a5=n=>n!==null;function Sy(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(a5),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const o5={decay:Xm,inertia:Xm,tween:vu,keyframes:vu,spring:ch};function QE(n){typeof n.type=="string"&&(n.type=o5[n.type])}class Ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const l5=n=>n/100;class Ay extends Ey{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;QE(t);const{type:i=vu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const g=i||vu;g!==vu&&typeof d[0]!="number"&&(this.mixKeyframes=qu(l5,GE(d[0],d[1])),d=[0,100]);const y=g({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...d].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Ty(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:D,type:N,onUpdate:B,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const X=this.currentTime-y*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,G=r;if(b){const A=Math.min(this.currentTime,o)/d;let w=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&w--,w=Math.min(w,b+1),w%2&&(S==="reverse"?(j=1-j,D&&(j-=D/d)):S==="mirror"&&(G=c)),q=Fs(0,1,j)*d}const tt=L?{done:!1,value:v[0]}:G.next(q);u&&(tt.value=u(tt.value));let{done:et}=tt;!L&&g!==null&&(et=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&et);return R&&N!==Xm&&(tt.value=Sy(v,this.options,F,this.speed)),B&&B(tt.value),R&&this.finish(),tt}then(t,i){return this.finished.then(t,i)}get duration(){return bi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bi(t)}get time(){return bi(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=bi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Gj,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function u5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Da=n=>n*180/Math.PI,$m=n=>{const t=Da(Math.atan2(n[1],n[0]));return Zm(t)},c5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$m,rotateZ:$m,skewX:n=>Da(Math.atan(n[1])),skewY:n=>Da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Zm=n=>(n=n%360,n<0&&(n+=360),n),Yb=$m,Kb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Qb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),f5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kb,scaleY:Qb,scale:n=>(Kb(n)+Qb(n))/2,rotateX:n=>Zm(Da(Math.atan2(n[6],n[5]))),rotateY:n=>Zm(Da(Math.atan2(-n[2],n[0]))),rotateZ:Yb,rotate:Yb,skewX:n=>Da(Math.atan(n[4])),skewY:n=>Da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Jm(n){return n.includes("scale")?1:0}function tg(n,t){if(!n||n==="none")return Jm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=f5,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=c5,o=d}if(!o)return Jm(t);const u=r[t],c=o[1].split(",").map(d5);return typeof u=="function"?u(c):c[u]}const h5=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return tg(i,t)};function d5(n){return parseFloat(n.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(il),Wb=n=>n===nl||n===Mt,p5=new Set(["x","y","z"]),m5=il.filter(n=>!p5.has(n));function g5(n){const t=[];return m5.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ja={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>tg(t,"x"),y:(n,{transform:t})=>tg(t,"y")};ja.translateX=ja.x;ja.translateY=ja.y;const Ma=new Set;let eg=!1,ng=!1,ig=!1;function WE(){if(ng){const n=Array.from(Ma).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=g5(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ng=!1,eg=!1,Ma.forEach(n=>n.complete(ig)),Ma.clear()}function XE(){Ma.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ng=!0)})}function y5(){ig=!0,XE(),WE(),ig=!1}class wy{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),eg||(eg=!0,we.read(XE),we.resolveKeyframes(WE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}u5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v5=n=>n.startsWith("--");function x5(n,t,i){v5(t)?n.style.setProperty(t,i):n.style[t]=i}const b5=py(()=>window.ScrollTimeline!==void 0),_5={};function T5(n,t){const i=py(n);return()=>_5[t]??i()}const $E=T5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fu=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Xb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function ZE(n,t){if(n)return typeof n=="function"?$E()?YE(n,t):"ease-out":OE(n)?fu(n):Array.isArray(n)?n.map(i=>ZE(i,t)||Xb.easeOut):Xb[n]}function S5(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:g}={},y=void 0){const v={[t]:i};g&&(v.offset=g);const b=ZE(d,o);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),n.animate(v,S)}function JE(n){return typeof n=="function"&&"applyToOptions"in n}function E5({type:n,...t}){return JE(n)&&$E()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class A5 extends Ey{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:g}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,dy(typeof t.type!="string");const y=E5(t);this.animation=S5(i,r,o,y,u),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Sy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):x5(i,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return bi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bi(t)}get time(){return bi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&b5()?(this.animation.timeline=t,Si):i(this)}}const tA={anticipate:VE,backInOut:DE,circInOut:ME};function w5(n){return n in tA}function C5(n){typeof n.ease=="string"&&w5(n.ease)&&(n.ease=tA[n.ease])}const $b=10;class R5 extends A5{constructor(t){C5(t),QE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Ay({...c,autoplay:!1}),g=ps(this.finishedTime??this.time);i.setWithVelocity(d.sample(g-$b).value,d.sample(g).value,$b),d.stop()}}const Zb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ur.test(n)||n==="0")&&!n.startsWith("url("));function I5(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function D5(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=Zb(o,t),d=Zb(u,t);return!c||!d?!1:I5(n)||(i==="spring"||JE(i))&&r}function sg(n){n.duration=0,n.type="keyframes"}const V5=new Set(["opacity","clipPath","filter","transform"]),j5=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M5(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=t.owner.getProps();return j5()&&i&&V5.has(i)&&(i!=="transform"||!y)&&!g&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const N5=40;class O5 extends Ey{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:g,motionValue:y,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:g,motionValue:y,element:v,...b},D=v?.KeyframeResolver||wy;this.keyframeResolver=new D(d,(N,B,F)=>this.onKeyframesResolved(N,B,S,!F),g,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:g,isHandoff:y,onUpdate:v}=r;this.resolvedAt=Bn.now(),D5(t,u,c,d)||((qs.instantAnimations||!g)&&v?.(Sy(t,r,i)),t[0]=t[t.length-1],sg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>N5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},D=!y&&M5(S)?new R5({...S,element:S.motionValue.owner.current}):new Ay(S);D.finished.then(()=>this.notifyFinished()).catch(Si),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const P5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L5(n){const t=P5.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function eA(n,t,i=1){const[r,o]=L5(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return TE(c)?parseFloat(c):c}return vy(o)?eA(o,t,i+1):o}function Cy(n,t){return n?.[t]??n?.default??n}const nA=new Set(["width","height","top","left","right","bottom",...il]),k5={test:n=>n==="auto",parse:n=>n},iA=n=>t=>t.test(n),sA=[nl,Mt,ms,Tr,Ij,Rj,k5],Jb=n=>sA.find(iA(n));function B5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||EE(n):!0}const z5=new Set(["brightness","contrast","saturate","opacity"]);function U5(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(xy)||[];if(!r)return n;const o=i.replace(r,"");let u=z5.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const F5=/\b([a-z-]*)\(.*?\)/gu,rg={...Ur,getAnimatableNone:n=>{const t=n.match(F5);return t?t.map(U5).join(" "):n}},t_={...nl,transform:Math.round},q5={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:If,scaleX:If,scaleY:If,scaleZ:If,skew:Tr,skewX:Tr,skewY:Tr,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:ju,originX:Ub,originY:Ub,originZ:Mt},Ry={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt,...q5,zIndex:t_,fillOpacity:ju,strokeOpacity:ju,numOctaves:t_},H5={...Ry,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:rg,WebkitFilter:rg},rA=n=>H5[n];function aA(n,t){let i=rA(n);return i!==rg&&(i=Ur),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const G5=new Set(["auto","none","0"]);function Y5(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!G5.has(u)&&Mu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=aA(i,o)}class K5 extends wy{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let y=t[g];if(typeof y=="string"&&(y=y.trim(),vy(y))){const v=eA(y,i.current);v!==void 0&&(t[g]=v),g===t.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!nA.has(r)||t.length!==2)return;const[o,u]=t,c=Jb(o),d=Jb(u);if(c!==d)if(Wb(c)&&Wb(d))for(let g=0;g<t.length;g++){const y=t[g];typeof y=="string"&&(t[g]=parseFloat(y))}else ja[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||B5(t[o]))&&r.push(o);r.length&&Y5(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ja[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ja[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,g])=>{t.getValue(d).set(g)}),this.resolveNoneKeyframes()}}function Q5(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const oA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function lA(n){return SE(n)&&"offsetHeight"in n}const e_=30,W5=n=>!isNaN(parseFloat(n));class X5{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Bn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new my);const r=this.events[t].add(i);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,e_);return AE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(n,t){return new X5(n,t)}const{schedule:Iy}=PE(queueMicrotask,!1),Bi={x:!1,y:!1};function uA(){return Bi.x||Bi.y}function $5(n){return n==="x"||n==="y"?Bi[n]?null:(Bi[n]=!0,()=>{Bi[n]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function cA(n,t){const i=Q5(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function n_(n){return!(n.pointerType==="touch"||uA())}function Z5(n,t,i={}){const[r,o,u]=cA(n,i),c=d=>{if(!n_(d))return;const{target:g}=d,y=t(g,d);if(typeof y!="function"||!g)return;const v=b=>{n_(b)&&(y(b),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const fA=(n,t)=>t?n===t?!0:fA(n,t.parentElement):!1,Dy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,J5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tM(n){return J5.has(n.tagName)||n.tabIndex!==-1}const qf=new WeakSet;function i_(n){return t=>{t.key==="Enter"&&n(t)}}function fm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eM=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=i_(()=>{if(qf.has(i))return;fm(i,"down");const o=i_(()=>{fm(i,"up")}),u=()=>fm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function s_(n){return Dy(n)&&!uA()}function nM(n,t,i={}){const[r,o,u]=cA(n,i),c=d=>{const g=d.currentTarget;if(!s_(d))return;qf.add(g);const y=t(g,d),v=(D,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),qf.has(g)&&qf.delete(g),s_(D)&&typeof y=="function"&&y(D,{success:N})},b=D=>{v(D,g===window||g===document||i.useGlobalTarget||fA(g,D.target))},S=D=>{v(D,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),lA(d)&&(d.addEventListener("focus",y=>eM(y,o)),!tM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function hA(n){return SE(n)&&"ownerSVGElement"in n}function iM(n){return hA(n)&&n.tagName==="svg"}const An=n=>!!(n&&n.getVelocity),sM=[...sA,We,Ur],rM=n=>sM.find(iA(n)),Vy=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function r_(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function aM(...n){return t=>{let i=!1;const r=n.map(o=>{const u=r_(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():r_(n[o],null)}}}}function oM(...n){return U.useCallback(aM(...n),n)}class lM extends U.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=lA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uM({children:n,isPresent:t,anchorX:i,root:r}){const o=U.useId(),u=U.useRef(null),c=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=U.useContext(Vy),g=oM(u,n?.ref);return U.useInsertionEffect(()=>{const{width:y,height:v,top:b,left:S,right:D}=c.current;if(t||!u.current||!y||!v)return;const N=i==="left"?`left: ${S}`:`right: ${D}`;u.current.dataset.motionPopId=o;const B=document.createElement("style");d&&(B.nonce=d);const F=r??document.head;return F.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${b}px !important;
          }
        `),()=>{F.contains(B)&&F.removeChild(B)}},[t]),m.jsx(lM,{isPresent:t,childRef:u,sizeRef:c,children:U.cloneElement(n,{ref:g})})}const cM=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:g})=>{const y=kh(fM),v=U.useId();let b=!0,S=U.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:D=>{y.set(D,!0);for(const N of y.values())if(!N)return;r&&r()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[i,y,r]);return u&&b&&(S={...S}),U.useMemo(()=>{y.forEach((D,N)=>y.set(N,!1))},[i]),U.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),c==="popLayout"&&(n=m.jsx(uM,{isPresent:i,anchorX:d,root:g,children:n})),m.jsx(Bh.Provider,{value:S,children:n})};function fM(){return new Map}function dA(n=!0){const t=U.useContext(Bh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=U.useId();U.useEffect(()=>{if(n)return o(u)},[n]);const c=U.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const Df=n=>n.key||"";function a_(n){const t=[];return U.Children.forEach(n,i=>{U.isValidElement(i)&&t.push(i)}),t}const hm=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:g})=>{const[y,v]=dA(c),b=U.useMemo(()=>a_(n),[n]),S=c&&!y?[]:b.map(Df),D=U.useRef(!0),N=U.useRef(b),B=kh(()=>new Map),[F,X]=U.useState(b),[L,q]=U.useState(b);cy(()=>{D.current=!1,N.current=b;for(let et=0;et<L.length;et++){const R=Df(L[et]);S.includes(R)?B.delete(R):B.get(R)!==!0&&B.set(R,!1)}},[L,S.length,S.join("-")]);const G=[];if(b!==F){let et=[...b];for(let R=0;R<L.length;R++){const A=L[R],w=Df(A);S.includes(w)||(et.splice(R,0,A),G.push(A))}return u==="wait"&&G.length&&(et=G),q(a_(et)),X(b),null}const{forceRender:tt}=U.useContext(ly);return m.jsx(m.Fragment,{children:L.map(et=>{const R=Df(et),A=c&&!y?!1:b===L||S.includes(R),w=()=>{if(B.has(R))B.set(R,!0);else return;let j=!0;B.forEach(V=>{V||(j=!1)}),j&&(tt?.(),q(N.current),c&&v?.(),r&&r())};return m.jsx(cM,{isPresent:A,initial:!D.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:A?void 0:w,anchorX:d,children:et},R)})})},pA=U.createContext({strict:!1}),o_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const n in o_)Xo[n]={isEnabled:t=>o_[n].some(i=>!!t[i])};function hM(n){for(const t in n)Xo[t]={...Xo[t],...n[t]}}const dM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dM.has(n)}let mA=n=>!fh(n);function pM(n){typeof n=="function"&&(mA=t=>t.startsWith("on")?!fh(t):n(t))}try{pM(require("@emotion/is-prop-valid").default)}catch{}function mM(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(mA(o)||i===!0&&fh(o)||!t&&!fh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const zh=U.createContext({});function Uh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Nu(n){return typeof n=="string"||Array.isArray(n)}const jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],My=["initial",...jy];function Fh(n){return Uh(n.animate)||My.some(t=>Nu(n[t]))}function gA(n){return!!(Fh(n)||n.variants)}function gM(n,t){if(Fh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Nu(i)?i:void 0,animate:Nu(r)?r:void 0}}return n.inherit!==!1?t:{}}function yM(n){const{initial:t,animate:i}=gM(n,U.useContext(zh));return U.useMemo(()=>({initial:t,animate:i}),[l_(t),l_(i)])}function l_(n){return Array.isArray(n)?n.join(" "):n}function u_(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const au={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Mt.test(n))n=parseFloat(n);else return n;const i=u_(n,t.target.x),r=u_(n,t.target.y);return`${i}% ${r}%`}},vM={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Ur.parse(n);if(o.length>5)return r;const u=Ur.createTransformer(n),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,g=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=g;const y=Ce(d,g,.5);return typeof o[2+c]=="number"&&(o[2+c]/=y),typeof o[3+c]=="number"&&(o[3+c]/=y),u(o)}},ag={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:vM};function yA(n,{layout:t,layoutId:i}){return sl.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!ag[n]||n==="opacity")}const xM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bM=il.length;function _M(n,t,i){let r="",o=!0;for(let u=0;u<bM;u++){const c=il[u],d=n[c];if(d===void 0)continue;let g=!0;if(typeof d=="number"?g=d===(c.startsWith("scale")?1:0):g=parseFloat(d)===0,!g||i){const y=oA(d,Ry[c]);if(!g){o=!1;const v=xM[c]||c;r+=`${v}(${y}) `}i&&(t[c]=y)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Ny(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const g in t){const y=t[g];if(sl.has(g)){c=!0;continue}else if(kE(g)){o[g]=y;continue}else{const v=oA(y,Ry[g]);g.startsWith("origin")?(d=!0,u[g]=v):r[g]=v}}if(t.transform||(c||i?r.transform=_M(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:g="50%",originY:y="50%",originZ:v=0}=u;r.transformOrigin=`${g} ${y} ${v}`}}const Oy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vA(n,t,i){for(const r in t)!An(t[r])&&!yA(r,i)&&(n[r]=t[r])}function TM({transformTemplate:n},t){return U.useMemo(()=>{const i=Oy();return Ny(i,t,n),Object.assign({},i.vars,i.style)},[t])}function SM(n,t){const i=n.style||{},r={};return vA(r,i,n),Object.assign(r,TM(n,t)),r}function EM(n,t){const i={},r=SM(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const AM={offset:"stroke-dashoffset",array:"stroke-dasharray"},wM={offset:"strokeDashoffset",array:"strokeDasharray"};function CM(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?AM:wM;n[u.offset]=Mt.transform(-r);const c=Mt.transform(t),d=Mt.transform(i);n[u.array]=`${c} ${d}`}function xA(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},g,y,v){if(Ny(n,d,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:S}=n;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&CM(b,o,u,c,!1)}const bA=()=>({...Oy(),attrs:{}}),_A=n=>typeof n=="string"&&n.toLowerCase()==="svg";function RM(n,t,i,r){const o=U.useMemo(()=>{const u=bA();return xA(u,t,_A(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};vA(u,n.style,n),o.style={...u,...o.style}}return o}const IM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Py(n){return typeof n!="string"||n.includes("-")?!1:!!(IM.indexOf(n)>-1||/[A-Z]/u.test(n))}function DM(n,t,i,{latestValues:r},o,u=!1){const d=(Py(n)?RM:EM)(t,r,o,n),g=mM(t,typeof n=="string",u),y=n!==U.Fragment?{...g,...d,ref:i}:{},{children:v}=t,b=U.useMemo(()=>An(v)?v.get():v,[v]);return U.createElement(n,{...y,children:b})}function c_(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Ly(n,t,i,r){if(typeof t=="function"){const[o,u]=c_(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=c_(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function Hf(n){return An(n)?n.get():n}function VM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:jM(i,r,o,n),renderState:t()}}function jM(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=Hf(u[S]);let{initial:c,animate:d}=n;const g=Fh(n),y=gA(n);t&&y&&!g&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Uh(b)){const S=Array.isArray(b)?b:[b];for(let D=0;D<S.length;D++){const N=Ly(n,S[D]);if(N){const{transitionEnd:B,transition:F,...X}=N;for(const L in X){let q=X[L];if(Array.isArray(q)){const G=v?q.length-1:0;q=q[G]}q!==null&&(o[L]=q)}for(const L in B)o[L]=B[L]}}}return o}const TA=n=>(t,i)=>{const r=U.useContext(zh),o=U.useContext(Bh),u=()=>VM(n,t,r,o);return i?u():kh(u)};function ky(n,t,i){const{style:r}=n,o={};for(const u in r)(An(r[u])||t.style&&An(t.style[u])||yA(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const MM=TA({scrapeMotionValuesFromProps:ky,createRenderState:Oy});function SA(n,t,i){const r=ky(n,t,i);for(const o in n)if(An(n[o])||An(t[o])){const u=il.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const NM=TA({scrapeMotionValuesFromProps:SA,createRenderState:bA}),OM=Symbol.for("motionComponentSymbol");function Oo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function PM(n,t,i){return U.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Oo(i)&&(i.current=r))},[t])}const By=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LM="framerAppearId",EA="data-"+By(LM),AA=U.createContext({});function kM(n,t,i,r,o){const{visualElement:u}=U.useContext(zh),c=U.useContext(pA),d=U.useContext(Bh),g=U.useContext(Vy).reducedMotion,y=U.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,b=U.useContext(AA);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&BM(y.current,i,o,b);const S=U.useRef(!1);U.useInsertionEffect(()=>{v&&S.current&&v.update(i,d)});const D=i[EA],N=U.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return cy(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),U.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),N.current=!1),v.enteringChildren=void 0)}),v}function BM(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:g,layoutRoot:y,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:wA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Oo(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:y})}function wA(n){if(n)return n.options.allowProjection!==!1?n.projection:wA(n.parent)}function dm(n,{forwardMotionProps:t=!1}={},i,r){i&&hM(i);const o=Py(n)?NM:MM;function u(d,g){let y;const v={...U.useContext(Vy),...d,layoutId:zM(d)},{isStatic:b}=v,S=yM(d),D=o(d,b);if(!b&&uy){UM();const N=FM(v);y=N.MeasureLayout,S.visualElement=kM(n,D,v,r,N.ProjectionNode)}return m.jsxs(zh.Provider,{value:S,children:[y&&S.visualElement?m.jsx(y,{visualElement:S.visualElement,...v}):null,DM(n,d,PM(D,S.visualElement,g),D,b,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=U.forwardRef(u);return c[OM]=n,c}function zM({layoutId:n}){const t=U.useContext(ly).id;return t&&n!==void 0?t+"-"+n:n}function UM(n,t){U.useContext(pA).strict}function FM(n){const{drag:t,layout:i}=Xo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function qM(n,t){if(typeof Proxy>"u")return dm;const i=new Map,r=(u,c)=>dm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,dm(c,void 0,n,t)),i.get(c))})}function CA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function HM({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function GM(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function pm(n){return n===void 0||n===1}function og({scale:n,scaleX:t,scaleY:i}){return!pm(n)||!pm(t)||!pm(i)}function Aa(n){return og(n)||RA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function RA(n){return f_(n.x)||f_(n.y)}function f_(n){return n&&n!=="0%"}function hh(n,t,i){const r=n-i,o=t*r;return i+o}function h_(n,t,i,r,o){return o!==void 0&&(n=hh(n,o,r)),hh(n,i,r)+t}function lg(n,t=0,i=1,r,o){n.min=h_(n.min,t,i,r,o),n.max=h_(n.max,t,i,r,o)}function IA(n,{x:t,y:i}){lg(n.x,t.translate,t.scale,t.originPoint),lg(n.y,i.translate,i.scale,i.originPoint)}const d_=.999999999999,p_=1.0000000000001;function YM(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Lo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,IA(n,c)),r&&Aa(u.latestValues)&&Lo(n,u.latestValues))}t.x<p_&&t.x>d_&&(t.x=1),t.y<p_&&t.y>d_&&(t.y=1)}function Po(n,t){n.min=n.min+t,n.max=n.max+t}function m_(n,t,i,r,o=.5){const u=Ce(n.min,n.max,o);lg(n,t,i,u,r)}function Lo(n,t){m_(n.x,t.x,t.scaleX,t.scale,t.originX),m_(n.y,t.y,t.scaleY,t.scale,t.originY)}function DA(n,t){return CA(GM(n.getBoundingClientRect(),t))}function KM(n,t,i){const r=DA(n,i),{scroll:o}=t;return o&&(Po(r.x,o.offset.x),Po(r.y,o.offset.y)),r}const g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:g_(),y:g_()}),y_=()=>({min:0,max:0}),Je=()=>({x:y_(),y:y_()}),ug={current:null},VA={current:!1};function QM(){if(VA.current=!0,!!uy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>ug.current=n.matches;n.addEventListener("change",t),t()}else ug.current=!1}const WM=new WeakMap;function XM(n,t,i){for(const r in t){const o=t[r],u=i[r];if(An(o))n.addValue(r,o);else if(An(u))n.addValue(r,Wo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Wo(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const v_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $M{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Bn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,we.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Fh(i),this.isVariantNode=gA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in b){const D=b[S];g[S]!==void 0&&An(D)&&D.set(g[S])}}mount(t){this.current=t,WM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),VA.current||QM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ug.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const i=Xo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<v_.length;r++){const o=v_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=XM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Wo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(TE(r)||EE(r))?r=parseFloat(r):!rM(r)&&Ur.test(i)&&(r=aA(t,i)),this.setBaseTarget(t,An(r)?r.get():r)),An(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Ly(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!An(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new my),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Iy.render(this.render)}}class jA extends $M{constructor(){super(...arguments),this.KeyframeResolver=K5}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function MA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function ZM(n){return window.getComputedStyle(n)}class JM extends jA{constructor(){super(...arguments),this.type="html",this.renderInstance=MA}readValueFromInstance(t,i){if(sl.has(i))return this.projection?.isProjecting?Jm(i):h5(t,i);{const r=ZM(t),o=(kE(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return DA(t,i)}build(t,i,r){Ny(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return ky(t,i,r)}}const NA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t3(n,t,i,r){MA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(NA.has(o)?o:By(o),t.attrs[o])}class e3 extends jA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(sl.has(i)){const r=rA(i);return r&&r.default||0}return i=NA.has(i)?i:By(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return SA(t,i,r)}build(t,i,r){xA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){t3(t,i,r,o)}mount(t){this.isSVGTag=_A(t.tagName),super.mount(t)}}const n3=(n,t)=>Py(n)?new e3(t):new JM(t,{allowProjection:n!==U.Fragment});function Fo(n,t,i){const r=n.getProps();return Ly(r,t,i!==void 0?i:r.custom,n)}const cg=n=>Array.isArray(n);function i3(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Wo(i))}function s3(n){return cg(n)?n[n.length-1]||0:n}function zy(n,t){const i=Fo(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=s3(u[c]);i3(n,c,d)}}function r3(n){return!!(An(n)&&n.add)}function fg(n,t){const i=n.getValue("willChange");if(r3(i))return i.add(t);if(!i&&qs.WillChange){const r=new qs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function OA(n){return n.props[EA]}const a3=n=>n!==null;function o3(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(a3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const l3={type:"spring",stiffness:500,damping:25,restSpeed:10},u3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),c3={type:"keyframes",duration:.8},f3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h3=(n,{keyframes:t})=>t.length>2?c3:sl.has(n)?n.startsWith("scale")?u3(t[1]):l3:f3;function d3({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:g,elapsed:y,...v}){return!!Object.keys(v).length}const Uy=(n,t,i,r={},o,u)=>c=>{const d=Cy(r,n)||{},g=d.delay||r.delay||0;let{elapsed:y=0}=r;y=y-ps(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-y,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};d3(d)||Object.assign(v,h3(n,v)),v.duration&&(v.duration=ps(v.duration)),v.repeatDelay&&(v.repeatDelay=ps(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(sg(v),v.delay===0&&(b=!0)),(qs.instantAnimations||qs.skipAnimations)&&(b=!0,sg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!u&&t.get()!==void 0){const S=o3(v.keyframes,d);if(S!==void 0){we.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new Ay(v):new O5(v)};function p3({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function PA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const g=[],y=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const b=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||y&&p3(y,v))continue;const D={delay:i,...Cy(u||{},v)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===N&&!D.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const X=OA(n);if(X){const L=window.MotionHandoffAnimation(X,v,we);L!==null&&(D.startTime=L,B=!0)}}fg(n,v),b.start(Uy(v,b,S,n.shouldReduceMotion&&nA.has(v)?{type:!1}:D,n,B));const F=b.animation;F&&g.push(F)}return c&&Promise.all(g).then(()=>{we.update(()=>{c&&zy(n,c)})}),g}function LA(n,t,i,r=0,o=1){const u=Array.from(n).sort((y,v)=>y.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function hg(n,t,i={}){const r=Fo(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(PA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=o;return m3(n,t,g,y,v,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,y]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>y())}else return Promise.all([u(),c(i.delay)])}function m3(n,t,i=0,r=0,o=0,u=1,c){const d=[];for(const g of n.variantChildren)g.notify("AnimationStart",t),d.push(hg(g,t,{...c,delay:i+(typeof r=="function"?0:r)+LA(n.variantChildren,g,r,o,u)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(d)}function kA(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>hg(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=hg(n,t,i);else{const o=typeof t=="function"?Fo(n,t,i.custom):t;r=Promise.all(PA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function BA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const g3=My.length;function zA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?zA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<g3;i++){const r=My[i],o=n.props[r];(Nu(o)||o===!1)&&(t[r]=o)}return t}const y3=[...jy].reverse(),v3=jy.length;function x3(n){return t=>Promise.all(t.map(({animation:i,options:r})=>kA(n,i,r)))}function b3(n){let t=x3(n),i=x_(),r=!0;const o=g=>(y,v)=>{const b=Fo(n,v,g==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:D,...N}=b;y={...y,...N,...D}}return y};function u(g){t=g(n)}function c(g){const{props:y}=n,v=zA(n.parent)||{},b=[],S=new Set;let D={},N=1/0;for(let F=0;F<v3;F++){const X=y3[F],L=i[X],q=y[X]!==void 0?y[X]:v[X],G=Nu(q),tt=X===g?L.isActive:null;tt===!1&&(N=F);let et=q===v[X]&&q!==y[X]&&G;if(et&&r&&n.manuallyAnimateOnMount&&(et=!1),L.protectedKeys={...D},!L.isActive&&tt===null||!q&&!L.prevProp||Uh(q)||typeof q=="boolean")continue;const R=_3(L.prevProp,q);let A=R||X===g&&L.isActive&&!et&&G||F>N&&G,w=!1;const j=Array.isArray(q)?q:[q];let V=j.reduce(o(X),{});tt===!1&&(V={});const{prevResolvedValues:k={}}=L,I={...k,...V},At=K=>{A=!0,S.has(K)&&(w=!0,S.delete(K)),L.needsAnimating[K]=!0;const $=n.getValue(K);$&&($.liveStyle=!1)};for(const K in I){const $=V[K],pt=k[K];if(D.hasOwnProperty(K))continue;let vt=!1;cg($)&&cg(pt)?vt=!BA($,pt):vt=$!==pt,vt?$!=null?At(K):S.add(K):$!==void 0&&S.has(K)?At(K):L.protectedKeys[K]=!0}L.prevProp=q,L.prevResolvedValues=V,L.isActive&&(D={...D,...V}),r&&n.blockInitialAnimation&&(A=!1);const Ft=et&&R;A&&(!Ft||w)&&b.push(...j.map(K=>{const $={type:X};if(typeof K=="string"&&r&&!Ft&&n.manuallyAnimateOnMount&&n.parent){const{parent:pt}=n,vt=Fo(pt,K);if(pt.enteringChildren&&vt){const{delayChildren:O}=vt.transition||{};$.delay=LA(pt.enteringChildren,n,O)}}return{animation:K,options:$}}))}if(S.size){const F={};if(typeof y.initial!="boolean"){const X=Fo(n,Array.isArray(y.initial)?y.initial[0]:y.initial);X&&X.transition&&(F.transition=X.transition)}S.forEach(X=>{const L=n.getBaseTarget(X),q=n.getValue(X);q&&(q.liveStyle=!0),F[X]=L??null}),b.push({animation:F})}let B=!!b.length;return r&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(B=!1),r=!1,B?t(b):Promise.resolve()}function d(g,y){if(i[g].isActive===y)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(g,y)),i[g].isActive=y;const v=c(g);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=x_()}}}function _3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!BA(t,n):!1}function _a(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x_(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class T3 extends Yr{constructor(t){super(t),t.animationState||(t.animationState=b3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let S3=0;class E3 extends Yr{constructor(){super(...arguments),this.id=S3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A3={animation:{Feature:T3},exit:{Feature:E3}};function Ou(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Yu(n){return{point:{x:n.pageX,y:n.pageY}}}const w3=n=>t=>Dy(t)&&n(t,Yu(t));function xu(n,t,i,r){return Ou(n,t,w3(i),r)}const UA=1e-4,C3=1-UA,R3=1+UA,FA=.01,I3=0-FA,D3=0+FA;function Rn(n){return n.max-n.min}function V3(n,t,i){return Math.abs(n-t)<=i}function b_(n,t,i,r=.5){n.origin=r,n.originPoint=Ce(t.min,t.max,n.origin),n.scale=Rn(i)/Rn(t),n.translate=Ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=C3&&n.scale<=R3||isNaN(n.scale))&&(n.scale=1),(n.translate>=I3&&n.translate<=D3||isNaN(n.translate))&&(n.translate=0)}function bu(n,t,i,r){b_(n.x,t.x,i.x,r?r.originX:void 0),b_(n.y,t.y,i.y,r?r.originY:void 0)}function __(n,t,i){n.min=i.min+t.min,n.max=n.min+Rn(t)}function j3(n,t,i){__(n.x,t.x,i.x),__(n.y,t.y,i.y)}function T_(n,t,i){n.min=t.min-i.min,n.max=n.min+Rn(t)}function dh(n,t,i){T_(n.x,t.x,i.x),T_(n.y,t.y,i.y)}function vi(n){return[n("x"),n("y")]}const qA=({current:n})=>n?n.ownerDocument.defaultView:null,S_=(n,t)=>Math.abs(n-t);function M3(n,t){const i=S_(n.x,t.x),r=S_(n.y,t.y);return Math.sqrt(i**2+r**2)}class HA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=gm(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,N=M3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!N)return;const{point:B}=S,{timestamp:F}=pn;this.history.push({...B,timestamp:F});const{onStart:X,onMove:L}=this.handlers;D||(X&&X(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,S)},this.handlePointerMove=(S,D)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=mm(D,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(S,D)=>{this.end();const{onEnd:N,onSessionEnd:B,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=gm(S.type==="pointercancel"?this.lastMoveEventInfo:mm(D,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,X),B&&B(S,X)},!Dy(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Yu(t),g=mm(d,this.transformPagePoint),{point:y}=g,{timestamp:v}=pn;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,gm(g,this.history)),this.removeListeners=qu(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function mm(n,t){return t?{point:t(n.point)}:n}function E_(n,t){return{x:n.x-t.x,y:n.y-t.y}}function gm({point:n},t){return{point:n,delta:E_(n,GA(t)),offset:E_(n,N3(t)),velocity:O3(t,.1)}}function N3(n){return n[0]}function GA(n){return n[n.length-1]}function O3(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=GA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>ps(t)));)i--;if(!r)return{x:0,y:0};const u=bi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function P3(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Ce(i,n,r.max):Math.min(n,i)),n}function A_(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function L3(n,{top:t,left:i,bottom:r,right:o}){return{x:A_(n.x,i,o),y:A_(n.y,t,r)}}function w_(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function k3(n,t){return{x:w_(n.x,t.x),y:w_(n.y,t.y)}}function B3(n,t){let i=.5;const r=Rn(n),o=Rn(t);return o>r?i=Vu(t.min,t.max-r,n.min):r>o&&(i=Vu(n.min,n.max-o,t.min)),Fs(0,1,i)}function z3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const dg=.35;function U3(n=dg){return n===!1?n=0:n===!0&&(n=dg),{x:C_(n,"left","right"),y:C_(n,"top","bottom")}}function C_(n,t,i){return{min:R_(n,t),max:R_(n,i)}}function R_(n,t){return typeof n=="number"?n:n[t]||0}const F3=new WeakMap;class q3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Yu(b).point)},c=(b,S)=>{const{drag:D,dragPropagation:N,onDragStart:B}=this.getProps();if(D&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$5(D),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(X=>{let L=this.getAxisMotionValue(X).get()||0;if(ms.test(L)){const{projection:q}=this.visualElement;if(q&&q.layout){const G=q.layout.layoutBox[X];G&&(L=Rn(G)*(parseFloat(L)/100))}}this.originPoint[X]=L}),B&&we.postRender(()=>B(b,S)),fg(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:D,dragDirectionLock:N,onDirectionLock:B,onDrag:F}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:X}=S;if(N&&this.currentDirection===null){this.currentDirection=H3(X),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",S.point,X),this.updateAxis("y",S.point,X),this.visualElement.render(),F&&F(b,S)},g=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>vi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new HA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:qA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&we.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Vf(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=P3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Oo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=L3(r.layoutBox,t):this.constraints=!1,this.elastic=U3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=z3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Oo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=KM(r,o.root,this.visualElement.getTransformPagePoint());let c=k3(o.layout.layoutBox,u);if(i){const d=i(HM(c));this.hasMutatedConstraints=!!d,d&&(c=CA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},y=vi(v=>{if(!Vf(v,i,this.currentDirection))return;let b=g&&g[v]||{};c&&(b={min:0,max:0});const S=o?200:1e6,D=o?40:1e7,N={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,N)});return Promise.all(y).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return fg(this.visualElement,t),r.start(Uy(t,r,0,i,this.visualElement,!1))}stopAnimation(){vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vi(i=>{const{drag:r}=this.getProps();if(!Vf(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};vi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const g=d.get();o[c]=B3({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(c=>{if(!Vf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:g,max:y}=this.constraints[c];d.set(Ce(g,y,o[c]))})}addListeners(){if(!this.visualElement.current)return;F3.set(this.visualElement,this);const t=this.visualElement.current,i=xu(t,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Oo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),we.read(r);const c=Ou(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(vi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=g[v].translate,b.set(b.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=dg,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Vf(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function H3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class G3 extends Yr{constructor(t){super(t),this.removeGroupControls=Si,this.removeListeners=Si,this.controls=new q3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Si}unmount(){this.removeGroupControls(),this.removeListeners()}}const I_=n=>(t,i)=>{n&&we.postRender(()=>n(t,i))};class Y3 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Si}onPointerDown(t){this.session=new HA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:I_(t),onStart:I_(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&we.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ym=!1;class K3 extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),ym&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,ym=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||we.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;ym=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function YA(n){const[t,i]=dA(),r=U.useContext(ly);return m.jsx(K3,{...n,layoutGroup:r,switchLayoutGroup:U.useContext(AA),isPresent:t,safeToRemove:i})}function Q3(n,t,i){const r=An(n)?n:Wo(n);return r.start(Uy("",r,t,i)),r.animation}const W3=(n,t)=>n.depth-t.depth;class X3{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){hy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W3),this.isDirty=!1,this.children.forEach(t)}}function $3(n,t){const i=Bn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(zr(r),n(u-t))};return we.setup(r,!0),()=>zr(r)}const KA=["TopLeft","TopRight","BottomLeft","BottomRight"],Z3=KA.length,D_=n=>typeof n=="string"?parseFloat(n):n,V_=n=>typeof n=="number"||Mt.test(n);function J3(n,t,i,r,o,u){o?(n.opacity=Ce(0,i.opacity??1,tN(r)),n.opacityExit=Ce(t.opacity??1,0,eN(r))):u&&(n.opacity=Ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<Z3;c++){const d=`border${KA[c]}Radius`;let g=j_(t,d),y=j_(i,d);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||V_(g)===V_(y)?(n[d]=Math.max(Ce(D_(g),D_(y),r),0),(ms.test(y)||ms.test(g))&&(n[d]+="%")):n[d]=y}(t.rotate||i.rotate)&&(n.rotate=Ce(t.rotate||0,i.rotate||0,r))}function j_(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const tN=QA(0,.5,jE),eN=QA(.5,.95,Si);function QA(n,t,i){return r=>r<n?0:r>t?1:i(Vu(n,t,r))}function M_(n,t){n.min=t.min,n.max=t.max}function ki(n,t){M_(n.x,t.x),M_(n.y,t.y)}function N_(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function O_(n,t,i,r,o){return n-=t,n=hh(n,1/i,r),o!==void 0&&(n=hh(n,1/o,r)),n}function nN(n,t=0,i=1,r=.5,o,u=n,c=n){if(ms.test(t)&&(t=parseFloat(t),t=Ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ce(u.min,u.max,r);n===u&&(d-=t),n.min=O_(n.min,t,i,d,o),n.max=O_(n.max,t,i,d,o)}function P_(n,t,[i,r,o],u,c){nN(n,t[i],t[r],t[o],t.scale,u,c)}const iN=["x","scaleX","originX"],sN=["y","scaleY","originY"];function L_(n,t,i,r){P_(n.x,t,iN,i?i.x:void 0,r?r.x:void 0),P_(n.y,t,sN,i?i.y:void 0,r?r.y:void 0)}function k_(n){return n.translate===0&&n.scale===1}function WA(n){return k_(n.x)&&k_(n.y)}function B_(n,t){return n.min===t.min&&n.max===t.max}function rN(n,t){return B_(n.x,t.x)&&B_(n.y,t.y)}function z_(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function XA(n,t){return z_(n.x,t.x)&&z_(n.y,t.y)}function U_(n){return Rn(n.x)/Rn(n.y)}function F_(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class aN{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(hy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oN(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:y,rotate:v,rotateX:b,rotateY:S,skewX:D,skewY:N}=i;y&&(r=`perspective(${y}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),D&&(r+=`skewX(${D}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=n.x.scale*t.x,g=n.y.scale*t.y;return(d!==1||g!==1)&&(r+=`scale(${d}, ${g})`),r||"none"}const vm=["","X","Y","Z"],lN=1e3;let uN=0;function xm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function $A(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=OA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",we,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&$A(r)}function ZA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=uN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hN),this.nodes.forEach(gN),this.nodes.forEach(yN),this.nodes.forEach(dN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new X3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new my),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const g=this.eventHandlers.get(c);g&&g.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=hA(c)&&!iM(c),this.instance=c;const{layoutId:d,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||d)&&(this.isLayoutDirty=!0),n){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;we.read(()=>{b=window.innerWidth}),n(c,()=>{const D=window.innerWidth;D!==b&&(b=D,this.root.updateBlockedByResize=!0,v&&v(),v=$3(S,250),Gf.hasAnimatedSinceResize&&(Gf.hasAnimatedSinceResize=!1,this.nodes.forEach(G_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||y.getDefaultTransition()||TN,{onLayoutAnimationStart:B,onLayoutAnimationComplete:F}=y.getProps(),X=!this.targetLayout||!XA(this.targetLayout,D),L=!b&&S;if(this.options.layoutRoot||this.resumeFrom||L||b&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Cy(N,"layout"),onPlay:B,onComplete:F};(y.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,L)}else b||G_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$A(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mN),this.nodes.forEach(cN),this.nodes.forEach(fN)):this.nodes.forEach(H_),this.clearAllSnapshots();const d=Bn.now();pn.delta=Fs(0,1e3/60,d-pn.timestamp),pn.timestamp=d,pn.isProcessing=!0,am.update.process(pn),am.preRender.process(pn),am.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pN),this.sharedNodes.forEach(xN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!WA(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;c&&this.instance&&(d||Aa(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return c&&(g=this.removeTransform(g)),SN(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Je();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EN))){const{scroll:y}=this.root;y&&(Po(d.x,y.offset.x),Po(d.y,y.offset.y))}return d}removeElementScroll(c){const d=Je();if(ki(d,c),this.scroll?.wasRoot)return d;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ki(d,c),Po(d.x,v.offset.x),Po(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const g=Je();ki(g,c);for(let y=0;y<this.path.length;y++){const v=this.path[y];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Lo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Aa(v.latestValues)&&Lo(g,v.latestValues)}return Aa(this.latestValues)&&Lo(g,this.latestValues),g}removeTransform(c){const d=Je();ki(d,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!Aa(y.latestValues))continue;og(y.latestValues)&&y.updateSnapshot();const v=Je(),b=y.measurePageBox();ki(v,b),L_(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return Aa(this.latestValues)&&L_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==d;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=pn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),IA(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||RA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),dh(this.relativeTargetOrigin,d,g),ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;ki(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;YM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Je());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N_(this.prevProjectionDelta.x,this.projectionDelta.x),N_(this.prevProjectionDelta.y,this.projectionDelta.y)),bu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!F_(this.projectionDelta.x,this.prevProjectionDelta.x)||!F_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(c,d=!1){const g=this.snapshot,y=g?g.latestValues:{},v={...this.latestValues},b=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Je(),D=g?g.source:void 0,N=this.layout?this.layout.source:void 0,B=D!==N,F=this.getStack(),X=!F||F.members.length<=1,L=!!(B&&!X&&this.options.crossfade===!0&&!this.path.some(_N));this.animationProgress=0;let q;this.mixTargetDelta=G=>{const tt=G/1e3;Y_(b.x,c.x,tt),Y_(b.y,c.y,tt),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bN(this.relativeTarget,this.relativeTargetOrigin,S,tt),q&&rN(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Je()),ki(q,this.relativeTarget)),B&&(this.animationValues=v,J3(v,y,this.latestValues,tt,L,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=Q3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:g,layout:y,latestValues:v}=c;if(!(!d||!g||!y)){if(this!==c&&this.layout&&y&&JA(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||Je();const b=Rn(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+b;const S=Rn(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}ki(d,g),Lo(d,v),bu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new aN),this.sharedNodes.get(c).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const y={};g.z&&xm("z",c,y,this.animationValues);for(let v=0;v<vm.length;v++)xm(`rotate${vm[v]}`,c,y,this.animationValues),xm(`skew${vm[v]}`,c,y,this.animationValues);c.render();for(const v in y)c.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Hf(d?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Hf(d?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=oN(this.projectionDeltaWithTransform,this.treeScale,v);g&&(b=g(v,b)),c.transform=b;const{x:S,y:D}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${D.origin*100}% 0`,y.animationValues?c.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in ag){if(v[N]===void 0)continue;const{correct:B,applyTo:F,isCSSVariable:X}=ag[N],L=b==="none"?v[N]:B(v[N],y);if(F){const q=F.length;for(let G=0;G<q;G++)c[F[G]]=L}else X?this.options.visualElement.renderState.vars[N]=L:c[N]=L}this.options.layoutId&&(c.pointerEvents=y===this?Hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(q_),this.root.sharedNodes.clear()}}}function cN(n){n.updateLayout()}function fN(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?vi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(b);b.min=i[v].min,b.max=b.min+S}):JA(o,t.layoutBox,i)&&vi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(i[v]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=ko();bu(c,i,t.layoutBox);const d=ko();u?bu(d,n.applyTransform(r,!0),t.measuredBox):bu(d,i,t.layoutBox);const g=!WA(c);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const D=Je();dh(D,t.layoutBox,b.layoutBox);const N=Je();dh(N,i,S.layoutBox),XA(D,N)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=D,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function hN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function dN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function pN(n){n.clearSnapshot()}function q_(n){n.clearMeasurements()}function H_(n){n.isLayoutDirty=!1}function mN(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function G_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function gN(n){n.resolveTargetDelta()}function yN(n){n.calcProjection()}function vN(n){n.resetSkewAndRotation()}function xN(n){n.removeLeadSnapshot()}function Y_(n,t,i){n.translate=Ce(t.translate,0,i),n.scale=Ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function K_(n,t,i,r){n.min=Ce(t.min,i.min,r),n.max=Ce(t.max,i.max,r)}function bN(n,t,i,r){K_(n.x,t.x,i.x,r),K_(n.y,t.y,i.y,r)}function _N(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const TN={duration:.45,ease:[.4,0,.1,1]},Q_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),W_=Q_("applewebkit/")&&!Q_("chrome/")?Math.round:Si;function X_(n){n.min=W_(n.min),n.max=W_(n.max)}function SN(n){X_(n.x),X_(n.y)}function JA(n,t,i){return n==="position"||n==="preserve-aspect"&&!V3(U_(t),U_(i),.2)}function EN(n){return n!==n.root&&n.scroll?.wasRoot}const AN=ZA({attachResizeListener:(n,t)=>Ou(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bm={current:void 0},tw=ZA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bm.current){const n=new AN({});n.mount(window),n.setOptions({layoutScroll:!0}),bm.current=n}return bm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),wN={pan:{Feature:Y3},drag:{Feature:G3,ProjectionNode:tw,MeasureLayout:YA}};function $_(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&we.postRender(()=>u(t,Yu(t)))}class CN extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=Z5(t,(i,r)=>($_(this.node,r,"Start"),o=>$_(this.node,o,"End"))))}unmount(){}}class RN extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(Ou(this.node.current,"focus",()=>this.onFocus()),Ou(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Z_(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&we.postRender(()=>u(t,Yu(t)))}class IN extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=nM(t,(i,r)=>(Z_(this.node,r,"Start"),(o,{success:u})=>Z_(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pg=new WeakMap,_m=new WeakMap,DN=n=>{const t=pg.get(n.target);t&&t(n)},VN=n=>{n.forEach(DN)};function jN({root:n,...t}){const i=n||document;_m.has(i)||_m.set(i,{});const r=_m.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(VN,{root:n,...t})),r[o]}function MN(n,t,i){const r=jN(t);return pg.set(n,i),r.observe(n),()=>{pg.delete(n),r.unobserve(n)}}const NN={some:0,all:1};class ON extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:NN[o]},d=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,u&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=y?v:b;S&&S(g)};return MN(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(PN(t,i))&&this.startObserver()}unmount(){}}function PN({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const LN={inView:{Feature:ON},tap:{Feature:IN},focus:{Feature:RN},hover:{Feature:CN}},kN={layout:{ProjectionNode:tw,MeasureLayout:YA}},BN={...A3,...LN,...wN,...kN},Jn=qM(BN,n3);function zN(n){n.values.forEach(t=>t.stop())}function mg(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&zy(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{mg(u,t)})})}function UN(n,t){if(Array.isArray(t))return mg(n,t);if(typeof t=="string")return mg(n,[t]);zy(n,t)}function FN(){const n=new Set,t={subscribe(i){return n.add(i),()=>{n.delete(i)}},start(i,r){const o=[];return n.forEach(u=>{o.push(kA(u,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return n.forEach(r=>{UN(r,i)})},stop(){n.forEach(i=>{zN(i)})},mount(){return()=>{t.stop()}}};return t}function qN(){const n=kh(FN);return cy(n.mount,[]),n}const HN=qN;class GN{play(t){}}const Tm=new GN,jf=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],Mf=["S","H","D","C"],J_=n=>["10","J","Q","K"].includes(n)?0:n==="A"?1:parseInt(n),Nf=n=>n.reduce((i,r)=>i+r.val,0)%10,tT=n=>{var t=Math.sin(n++)*1e4;return t-Math.floor(t)},eT=n=>{let t=[n(),n()],i=[n(),n()],r=Nf(t),o=Nf(i);if(r>=8||o>=8)return{pHand:t,bHand:i,pScore:r,bScore:o};let u=null;r<=5&&(u=n(),t.push(u),r=Nf(t));let c=!1;if(u===null)o<=5&&(c=!0);else{const d=u.val;(o<=2||o===3&&d!==8||o===4&&[2,3,4,5,6,7].includes(d)||o===5&&[4,5,6,7].includes(d)||o===6&&[6,7].includes(d))&&(c=!0)}return c&&(i.push(n()),o=Nf(i)),{pHand:t,bHand:i,pScore:r,bScore:o}},wr={getCurrentRoundInfo:()=>{const i=new Date("2025-01-01T00:00:00Z").getTime(),o=Date.now()-i,u=1e4+Math.floor(o/(75*1e3)),c=75*1e3-o%(75*1e3),d=Math.floor(c/1e3);return{round:u,timeLeft:d,isDrawingPhase:d<=15}},generateBaccaratResult:(n=null)=>{const t=()=>{const u=jf[Math.floor(Math.random()*jf.length)],c=Mf[Math.floor(Math.random()*Mf.length)];return{rank:u,suit:c,val:J_(u)}};let i,r,o=0;do if(i=eT(t),i.pScore>i.bScore?r="PLAYER":i.bScore>i.pScore?r="BANKER":r="TIE",o++,!n)break;while(r!==n&&o<500);return{...i,result:r}},generateDeterministicResult:n=>{let t=n*100;const r=eT(()=>{const v=tT(t++),b=tT(t++),S=jf[Math.floor(v*jf.length)],D=Mf[Math.floor(b*Mf.length)];return{rank:S,suit:D,val:J_(S)}});let o="TIE";r.pScore>r.bScore?o="PLAYER":r.bScore>r.pScore&&(o="BANKER");const g=new Date("2025-01-01T00:00:00Z").getTime()+(n-1e4)*75*1e3,y=new Date(g).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{...r,result:o,round:n,date:y}},getPastHistory:n=>{const t=[];for(let i=n-1;i>=n-50;i--)t.push(wr.generateDeterministicResult(i));return t},generateBigRoad:n=>{if(!n||!Array.isArray(n))return[];const t=[...n].sort((u,c)=>u.round-c.round),i=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(i.push(r),r=[c],o=c))}),r.length>0&&i.push(r),i.slice(-25)},generateBeadRoad:n=>n?[...n].sort((t,i)=>t.round-i.round).slice(-72):[],calculateStats:n=>{if(!n||!Array.isArray(n))return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=n.filter(c=>c.result),i=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:i,b:r,t:o,total:u,pRate:Math.round(i/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function YN(n,t,i,r){const o=U.useRef(!1),u=U.useRef(t),c=U.useRef(null),d=U.useRef(0);U.useEffect(()=>{u.current=t},[t]);const[g,y]=U.useState([]),[v,b]=U.useState(()=>JSON.parse(localStorage.getItem(`event_my_history_${n?.id}`)||"[]")),[S,D]=U.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,isSqueezing:!1,squeezeTarget:null}),[N,B]=U.useState(null),[F,X]=U.useState(null),[L,q]=U.useState("   !"),G=U.useCallback(w=>{i&&(i(w),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[i,r]),tt=w=>{c.current=w,B(w),w?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify(w)):localStorage.removeItem(`pending_bet_${n?.id}`)};U.useEffect(()=>{(()=>{const{round:j}=wr.getCurrentRoundInfo(),V=JSON.parse(localStorage.getItem("event_total_history")||"[]");if(V.length===0||V[0]&&V[0].round<j-2){console.log("     ...");const k=wr.getPastHistory(j);y(k),localStorage.setItem("event_total_history",JSON.stringify(k))}else y(V)})()},[]);const et=U.useCallback(async w=>{if(o.current)return;o.current=!0,D(At=>({...At,isDrawing:!0,timeLeft:0,isSqueezing:!1})),Tm.play("draw");let j=null;try{const At=await Er(Le(Jt,"event_manipulation",String(w)));At.exists()&&(j=At.data().winner)}catch{}const V=wr.generateBaccaratResult(j),k=c.current;let I=null;k&&(k.selected==="PLAYER"||k.selected==="BANKER")&&(I=k.selected),D(At=>({...At,gameResult:V})),I?setTimeout(()=>{D(At=>({...At,isSqueezing:!0,squeezeTarget:I}))},1500):setTimeout(()=>R(w,V,k),3e3)},[n?.id]),R=(w,j,V)=>{const{result:k,pScore:I,bScore:At}=j,Ft=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(y(M=>{const K={round:w,result:k,pScore:I,bScore:At,date:Ft};if(M.length>0&&M[0].round===w)return M;const $=[K,...M].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify($)),$}),V&&V.round===w){const M=V.selected,K=V.amount;let $=0,pt=!1,vt=!1;M===k?(pt=!0,k==="PLAYER"&&($=Math.floor(K*2)),k==="BANKER"&&($=Math.floor(K*1.95)),k==="TIE"&&($=Math.floor(K*9))):k==="TIE"&&M!=="TIE"&&($=K,vt=!0),pt?Tm.play("win"):vt||Tm.play("lose"),$>0&&G(u.current+$),X({isWin:pt,isDraw:vt,winAmount:$,betAmount:K,result:k,myPick:M}),b(O=>{const J=[{round:w,pick:M,result:k,earn:$,cost:K,date:Ft},...O].slice(0,50);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(J)),J})}D(M=>({...M,isSqueezing:!1})),setTimeout(()=>{tt(null),D(M=>({...M,gameResult:null,isDrawing:!1})),o.current=!1},5e3)},A=()=>{R(S.round,S.gameResult,c.current)};return U.useEffect(()=>{const w=()=>{const{round:V,timeLeft:k,isDrawingPhase:I}=wr.getCurrentRoundInfo();d.current!==0&&V>d.current&&!o.current&&et(d.current),d.current=V,D(At=>o.current?At:{...At,round:V,timeLeft:k,isDrawing:I})},j=setInterval(w,1e3);return w(),()=>clearInterval(j)},[et]),U.useEffect(()=>{const w=setInterval(()=>{const j=["P !","B  !","  !","  !"],V=j[Math.floor(Math.random()*j.length)];q(`  : ${V}`)},8e3);return()=>clearInterval(w)},[]),{gameState:S,onSqueezeComplete:A,totalHistory:g,myHistory:v,myPendingBet:N,setMyPendingBet:tt,showResult:F,setShowResult:X,liveNoti:L,updatePointWithAnim:G}}const Ta={eventBanner:{background:"linear-gradient(135deg, #ffdeeb 0%, #fbc2eb 100%)",borderRadius:"28px",padding:"25px",border:"1px solid #ffb6c1",textAlign:"center",position:"relative",overflow:"hidden",height:"190px",display:"flex",alignItems:"center",justifyContent:"center"},bannerContent:{position:"relative",zIndex:10,width:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},liveBadge:{color:"#fff",fontSize:"10px",fontWeight:"900",padding:"2px 8px",borderRadius:"4px"},roundInfo:{fontSize:"12px",color:"#555",fontWeight:"700"},timeLeftNum:{fontSize:"52px",fontWeight:"900",margin:"5px 0",color:"#333",letterSpacing:"-1px"}},KN=({type:n,amount:t})=>{const i=n==="PLAYER"?"#4d94ff":n==="BANKER"?"#ff4d4d":"#00e676";return m.jsx(Jn.div,{initial:{scale:2,opacity:0,y:-100,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:200,damping:10},style:{width:"45px",height:"45px",borderRadius:"50%",border:"4px dashed white",backgroundColor:i,boxShadow:"0 5px 15px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:20,bottom:"15px",right:"15px"},children:m.jsx("div",{style:{width:"35px",height:"35px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"900",color:"#fff"},children:"DIA"})})},nT=({rank:n,suit:t,index:i,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t],d=r?300:-300;return m.jsxs(Jn.div,{initial:{x:d,y:-400,scale:.5,rotate:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:i*.4,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"55px",height:"80px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"24px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&m.jsxs(m.Fragment,{children:[m.jsx("span",{style:{fontSize:"14px",position:"absolute",top:"4px",left:"4px"},children:n}),m.jsx("span",{style:{fontSize:"32px"},children:c}),m.jsx("span",{style:{fontSize:"14px",position:"absolute",bottom:"4px",right:"4px",transform:"rotate(180deg)"},children:n})]}),o&&m.jsx("div",{style:{width:"40px",height:"65px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},QN=({cards:n,targetName:t,onComplete:i})=>{const[r,o]=U.useState([!1,!1]),u=(c,d)=>{if(d.offset.y>100){const g=[...r];g[c]=!0,o(g),g[0]&&g[1]&&setTimeout(i,800)}};return m.jsxs(Jn.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[m.jsxs("h2",{style:{color:"#fff",fontSize:"28px",marginBottom:"40px",fontWeight:"900",letterSpacing:"4px"},children:[m.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),m.jsx("div",{style:{display:"flex",gap:"40px"},children:n.map((c,d)=>m.jsxs("div",{style:{position:"relative",width:"160px",height:"240px"},children:[m.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:c.suit==="H"||c.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[m.jsx("div",{children:c.suit==="S"?"":c.suit==="H"?"":c.suit==="D"?"":""}),m.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:c.rank})]}),m.jsx(Jn.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,dragSnapToOrigin:!1,onDragEnd:(g,y)=>u(d,y),animate:r[d]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:m.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},d))}),m.jsx("div",{style:{marginTop:"40px",color:"#888",fontSize:"14px"},children:"  "})]})},WN=({round:n,timeLeft:t,isDrawing:i,gameResult:r,isSqueezing:o})=>m.jsxs(Jn.div,{style:{...Ta.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden"},children:[m.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),m.jsxs("div",{style:{...Ta.bannerContent,zIndex:10},children:[m.jsxs("div",{style:Ta.bannerTop,children:[m.jsx("div",{style:{...Ta.liveBadge,background:i?"#ffd700":"#ff3b30",color:i?"#000":"#fff"},children:i?"DEALING":"OPEN"}),m.jsxs("span",{style:{...Ta.roundInfo,color:"#8fbc8f"},children:["Rd. ",n]})]}),m.jsx("div",{style:{...Ta.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:i&&r?m.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[m.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),m.jsx("div",{style:{display:"flex",gap:"8px"},children:r.pHand.map((u,c)=>m.jsx(nT,{...u,index:c,isPlayer:!0,hidden:o&&c>=0},`p-${c}`))}),!o&&m.jsx(Jn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),m.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[m.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),m.jsx("div",{style:{display:"flex",gap:"8px"},children:r.bHand.map((u,c)=>m.jsx(nT,{...u,index:c+.2,isPlayer:!1,hidden:o&&c>=0},`b-${c}`))}),!o&&m.jsx(Jn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):m.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:m.jsx("h2",{style:{...Ta.timeLeftNum,fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace"},children:t})})})]})]}),XN=({beadRoad:n,bigRoad:t,stats:i})=>m.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[m.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[m.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",i.p," (",i.pRate,"%)"]}),m.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",i.b," (",i.bRate,"%)"]}),m.jsxs("div",{style:{color:"#00e676"},children:["T: ",i.t," (",i.tRate,"%)"]}),m.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",i.total]})]}),m.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[m.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:t.map((r,o)=>m.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>m.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},c))},o))}),m.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=n[n.length-36+o];return m.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&m.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},o)})})]})]}),$N=[{name:"PLAYER",label:"x2.0",color:"#4d94ff",desc:" ",descEn:"Player Wins"},{name:"TIE",label:"x9.0",color:"#00e676",desc:"",descEn:"Tie (Same Score)"},{name:"BANKER",label:"x1.95",color:"#ff4d4d",desc:" ",descEn:"Banker Wins"}];function ew({user:n,userPoint:t=0,confirmedImage:i,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const d=HN(),[g,y]=U.useState(t),v=U.useRef(null),b=c&&c.home==="",{gameState:S,onSqueezeComplete:D,totalHistory:N,myHistory:B,myPendingBet:F,setMyPendingBet:X,showResult:L,setShowResult:q,liveNoti:G,updatePointWithAnim:tt}=YN(n,t,u,d),et=U.useMemo(()=>({bigRoad:wr.generateBigRoad(N),beadRoad:wr.generateBeadRoad(N),stats:wr.calculateStats(N)}),[N]),[R,A]=U.useState([]),[w,j]=U.useState(""),[V,k]=U.useState("mine");U.useEffect(()=>{y(t)},[t]),U.useEffect(()=>{const M=K=>{n&&K.detail&&K.detail.userId===n.id&&(y(K.detail.point),tt(K.detail.point))};return window.addEventListener("user_point_update",M),()=>window.removeEventListener("user_point_update",M)},[n,tt]);const I=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],At=U.useMemo(()=>{if(i)return i;const M=r||0;return`https://api.dicebear.com/7.x/${I[M]}/svg?seed=${n?.id}_${M}&backgroundColor=2a2a2e`},[i,r,n?.id]),Ft=async()=>{if(R.length===0)return alert(b?"  .":"Please select a zone.");if(R.length>1)return alert(b?"   .":"Select only one zone.");const M=parseInt(w),K=M;if(!M||M<=0)return alert(b?" .":"Please enter amount.");if(K>g)return alert(b?"  .":"Check your diamond balance.");const $=g-K;y($),tt($);const pt={round:S.round,selected:R[0],amount:M,totalCost:K};X(pt);try{await Du(Zn(Jt,"event_bets"),{round:S.round,userId:n.id,betAmount:K,pick:R[0],timestamp:new Date().toISOString()})}catch(vt){console.error("  :",vt)}A([]),j("")};return m.jsxs("div",{style:Dt.screenContainer,children:[m.jsxs("div",{style:Dt.fixedHeader,children:[m.jsxs("div",{style:Dt.navLeft,onClick:o,children:[m.jsx("span",{style:Dt.backBtn,children:""}),m.jsx("span",{style:Dt.navTitle,children:"ROYAL BACCARAT"})]}),m.jsxs("div",{style:Dt.navRight,children:[m.jsxs(Jn.div,{animate:d,style:Dt.pointBadge,children:[m.jsx("span",{style:Dt.coinIcon,children:""}),m.jsx("span",{style:Dt.headerPoint,children:g.toLocaleString()})]}),m.jsx("div",{style:Dt.profileCircle,children:m.jsx("img",{src:At,alt:"profile",style:{...Dt.profileImg,objectFit:"cover"}})})]})]}),m.jsxs("div",{style:Dt.scrollBody,ref:v,children:[m.jsx("div",{style:Dt.liveTicker,children:m.jsxs(Jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:Dt.tickerText,children:[" ",G]},G)}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx(WN,{round:S.round,timeLeft:S.timeLeft,isDrawing:S.isDrawing,gameResult:S.gameResult,isSqueezing:S.isSqueezing}),m.jsx(hm,{children:S.isSqueezing&&S.gameResult&&m.jsx(QN,{targetName:S.squeezeTarget,cards:S.squeezeTarget==="PLAYER"?S.gameResult.pHand:S.gameResult.bHand,onComplete:D})})]}),m.jsx(XN,{...et}),m.jsxs("div",{style:Dt.sectionLabel,children:[m.jsx("span",{style:Dt.labelBar})," ",b?"  ":"Place Your Bet"]}),m.jsx("div",{style:{...Dt.grid,gridTemplateColumns:"1fr 0.6fr 1fr"},children:$N.map(M=>{const K=R.includes(M.name),$=F&&F.selected===M.name;return m.jsxs(Jn.div,{whileTap:F?{}:{scale:.95},onClick:()=>{F||A([M.name])},style:{...Dt.itemCard,opacity:F&&!$?.4:1,background:K?`linear-gradient(145deg, ${M.color}44, #111)`:"#161616",border:K?`2px solid ${M.color}`:"2px solid #333",position:"relative"},children:[m.jsx("div",{style:{...Dt.multiplier,color:M.color},children:M.label}),m.jsx("div",{style:{fontSize:"32px",fontWeight:"900",color:M.color,marginBottom:"5px"},children:M.name==="PLAYER"?"P":M.name==="BANKER"?"B":"T"}),m.jsxs("div",{style:Dt.itemInfoText,children:[m.jsx("span",{style:{...Dt.itemName,fontSize:"12px"},children:b?M.name:M.nameEn}),m.jsx("span",{style:{...Dt.itemDesc,fontSize:"9px"},children:b?M.desc:M.descEn})]}),K&&!F&&m.jsx("div",{style:{...Dt.checkBadge,background:M.color},children:""}),$&&m.jsx(KN,{type:M.name,amount:F.totalCost})]},M.name)})}),m.jsxs("div",{style:Dt.tabSection,children:[m.jsxs("div",{style:Dt.tabHeader,children:[m.jsx("button",{style:{...Dt.tabBtn,color:V==="mine"?"#fff":"#666",borderBottom:V==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>k("mine"),children:b?"  ":"My Bets"}),m.jsx("button",{style:{...Dt.tabBtn,color:V==="total"?"#fff":"#666",borderBottom:V==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>k("total"),children:b?" ":"Roadmap"})]}),m.jsxs("div",{style:Dt.tabContent,children:[V==="mine"&&B.slice(0,30).map((M,K)=>m.jsxs("div",{style:{...Dt.histItem,flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"12px",color:"#666"},children:[m.jsxs("span",{children:["No. ",M.round]}),m.jsx("span",{children:M.date})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:M.pick==="PLAYER"?"#4d94ff":M.pick==="BANKER"?"#ff4d4d":"#00e676",border:`1px solid ${M.pick==="PLAYER"?"#4d94ff":M.pick==="BANKER"?"#ff4d4d":"#00e676"}`,padding:"2px 8px",borderRadius:"4px"},children:M.pick}),m.jsxs("span",{style:{fontSize:"13px",color:"#aaa"},children:[" : ",m.jsx("b",{style:{color:"#fff"},children:M.result})]})]}),m.jsx("div",{style:{textAlign:"right"},children:m.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:M.earn>M.cost?"#34D399":M.earn===M.cost?"#fff":"#FB7185"},children:M.earn>M.cost?`+${(M.earn-M.cost).toLocaleString()}`:M.earn===M.cost?"REFUND":`-${M.cost.toLocaleString()}`})})]})]},K)),V==="total"&&N.slice(0,30).map((M,K)=>m.jsxs("div",{style:Dt.histItem,children:[m.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[M.round,""]}),m.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:M.result==="PLAYER"?"#4d94ff":M.result==="BANKER"?"#ff4d4d":"#00e676"},children:[M.result," ",m.jsxs("small",{style:{color:"#666",fontSize:"11px"},children:["(",M.pScore,":",M.bScore,")"]})]})]},K)),(V==="mine"?B:N).length===0&&m.jsx("div",{style:Dt.emptyText,children:b?" .":"No records found."})]})]})]}),m.jsx(hm,{children:(R.length>0||F)&&m.jsx(Jn.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:Dt.bottomPanel,children:F?m.jsxs("div",{style:Dt.pendingContainer,children:[m.jsxs("div",{style:Dt.pendingInfo,children:[m.jsxs("div",{style:Dt.pendingTitle,children:[S.round,b?"  !":" Round Joined..."]}),m.jsxs("div",{style:Dt.pendingDetail,children:[m.jsx("b",{style:{color:F.selected==="PLAYER"?"#4d94ff":F.selected==="BANKER"?"#ff4d4d":"#00e676"},children:F.selected})," ",F.totalCost.toLocaleString()," DIA "]})]}),S.timeLeft>10&&m.jsx("button",{style:Dt.cancelBtn,onClick:()=>{const M=g+F.totalCost;y(M),tt(M),X(null)},children:b?"":"Cancel"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:Dt.panelTop,children:[m.jsxs("span",{style:Dt.selectionText,children:[b?":":"Pick:"," ",m.jsx("b",{style:{color:R[0]==="PLAYER"?"#4d94ff":R[0]==="BANKER"?"#ff4d4d":"#00e676"},children:R[0]})]}),m.jsx("button",{style:Dt.clearBtn,onClick:()=>A([]),children:b?"":"Reset"})]}),m.jsx("div",{style:Dt.amountPresets,children:["10%","50%","MAX","CLEAR"].map(M=>m.jsx("button",{onClick:()=>{if(M==="CLEAR")j("");else{let K=M==="10%"?Math.floor(g*.1):M==="50%"?Math.floor(g*.5):g;j(K>0?K.toString():"")}},style:Dt.presetBtn,children:M},M))}),m.jsxs("div",{style:Dt.betInputGroup,children:[m.jsx("input",{type:"number",value:w,onChange:M=>j(M.target.value),style:Dt.mainInput,placeholder:b?" ":"Enter amount"}),m.jsx("button",{style:Dt.finalBtn,onClick:Ft,disabled:!w,children:w?`${parseInt(w).toLocaleString()} BET`:"BET"})]})]})})}),m.jsx(hm,{children:L&&m.jsx(Jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:Dt.modalOverlay,onClick:()=>q(null),children:m.jsxs(Jn.div,{initial:{scale:.8},animate:{scale:1},style:Dt.modalCard,onClick:M=>M.stopPropagation(),children:[m.jsx("div",{style:{...Dt.modalTitle,color:L.isWin?"#ffd700":L.isDraw?"#fff":"#FB7185",fontSize:"32px",marginBottom:"10px"},children:L.isWin?"YOU WIN!":L.isDraw?"DRAW":"YOU LOSE"}),m.jsxs("div",{style:{fontSize:"24px",margin:"20px 0",fontWeight:"900",color:"#fff"},children:[L.result," "]}),m.jsxs("div",{style:Dt.modalInfoBox,children:[m.jsxs("div",{children:[b?" ":"My Pick",": ",m.jsx("span",{style:{fontWeight:"bold",color:L.myPick==="PLAYER"?"#4d94ff":L.myPick==="BANKER"?"#ff4d4d":"#00e676"},children:L.myPick})]}),m.jsxs("div",{children:[b?"":"Bet",": ",L.betAmount.toLocaleString()]})]}),m.jsxs("div",{style:{...Dt.modalAmount,color:L.winAmount>L.betAmount?"#34D399":"#fff"},children:[L.winAmount>L.betAmount?"+":"",(L.winAmount-L.betAmount).toLocaleString()," DIA"]}),m.jsx("button",{style:Dt.modalCloseBtn,onClick:()=>q(null),children:b?"":"CLOSE"})]})})})]})}const Dt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:10,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"25px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},grid:{display:"grid",gridTemplateColumns:"1fr 0.6fr 1fr",gap:"10px"},itemCard:{height:"120px",borderRadius:"18px",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden",transition:"all 0.2s ease"},multiplier:{position:"absolute",top:10,left:10,fontSize:"10px",fontWeight:"900",color:"#fff"},itemInfoText:{textAlign:"center",marginTop:"5px"},itemName:{fontSize:"14px",fontWeight:"900",display:"block",color:"#fff"},itemDesc:{fontSize:"10px",color:"#777",marginTop:"2px"},checkBadge:{position:"absolute",top:8,right:8,width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"900",zIndex:2},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"absolute",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},panelTop:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"center"},selectionText:{fontSize:"13px",color:"#888"},clearBtn:{background:"none",border:"none",color:"#ff3b30",fontSize:"13px",fontWeight:"700"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},pendingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},pendingInfo:{display:"flex",flexDirection:"column",gap:"4px"},pendingTitle:{fontSize:"15px",fontWeight:"900",color:"#ffb347"},pendingDetail:{fontSize:"12px",color:"#888"},cancelBtn:{background:"#ff3b30",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:"900",fontSize:"13px"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"24px",fontWeight:"900",color:"#fff"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"13px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},lt={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},ph=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],nw=(n,t)=>{const i=n>=0&&n<ph.length?n:0;return`https://api.dicebear.com/7.x/${ph[i]}/svg?seed=${t}_${i}&backgroundColor=2a2a2e`},ZN=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},JN=({userId:n,tempSelectedIdx:t,tempUploadedImg:i,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:d})=>{const g=U.useRef(null);return m.jsxs("div",{style:lt.avatarPicker,children:[m.jsxs("div",{style:lt.pickerHeader,children:[m.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:d,style:lt.randomBtn,children:" "}),m.jsx("button",{onClick:u,style:lt.closeBtn,children:""})]})]}),m.jsx("div",{style:lt.charGrid,children:ph.map((y,v)=>m.jsx("div",{onClick:()=>{o(null),r(v)},style:{...lt.pickerItem,border:t===v&&!i?"2px solid #D4AF37":"1px solid #333"},children:m.jsx("img",{src:nw(v,n),alt:"char",style:{width:"85%"}})},v))}),m.jsx("input",{type:"file",accept:"image/*",ref:g,onChange:y=>{const v=y.target.files[0];if(v){const b=new FileReader;b.onloadend=()=>{o(b.result),r(-1)},b.readAsDataURL(v)}},style:{display:"none"}}),m.jsx("button",{onClick:()=>g.current.click(),style:lt.uploadBtn,children:"   "}),m.jsx("button",{onClick:c,style:lt.applyBtn,children:""})]})},iT=new BroadcastChannel("daisy_global_channel"),tO=(n,t,i)=>{const[r,o]=U.useState(n||null),[u,c]=U.useState(()=>{if(!n)return!1;const L=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===L}),[d,g]=U.useState([]),[y,v]=U.useState([]);U.useEffect(()=>{n&&o(n)},[n]),U.useEffect(()=>{const L=(G,tt)=>{o(et=>et&&et.id===G?{...et,diamond:tt}:et)},q=G=>{const{userId:tt,point:et}=G.detail||{};tt&&L(tt,et)};return window.addEventListener("user_point_update",q),iT.onmessage=G=>{const{type:tt,userId:et,point:R}=G.data||{};tt==="POINT_UPDATE"&&et&&L(et,R)},()=>window.removeEventListener("user_point_update",q)},[]),U.useEffect(()=>{if(!r?.id)return;const L=Ca(Zn(Jt,"deposit_requests"),em("userId","==",r.id)),q=Ca(Zn(Jt,"withdraw_requests"),em("userId","==",r.id)),G=Ca(Zn(Jt,"finance_history"),em("userId","==",r.id));let tt=[],et=[],R=[];const A=()=>{const k=R.filter(M=>M.type==="").map(M=>({...M,status:""})),I=[...tt,...k].sort((M,K)=>new Date(K.timestamp||K.completedAt)-new Date(M.timestamp||M.completedAt));g(I);const At=R.filter(M=>M.type==="").map(M=>({...M,status:""})),Ft=[...et,...At].sort((M,K)=>new Date(K.timestamp||K.completedAt)-new Date(M.timestamp||M.completedAt));v(Ft)},w=Ls(L,k=>{tt=k.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),j=Ls(q,k=>{et=k.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),V=Ls(G,k=>{R=k.docs.map(I=>({id:I.id,...I.data()})),A()});return()=>{w(),j(),V()}},[r?.id]);const b=U.useCallback(L=>{window.speechSynthesis.cancel();const q=new SpeechSynthesisUtterance(L),G=window.speechSynthesis.getVoices(),tt=G.find(et=>et.lang.includes("ko")&&et.name.includes("Google"))||G.find(et=>et.lang.includes("ko")&&(et.name.includes("Female")||et.name.includes("")))||G.find(et=>et.lang.includes("ko"));tt&&(q.voice=tt),q.lang=i?"ko-KR":"en-US",q.rate=1.1,q.pitch=1,window.speechSynthesis.speak(q)},[i]);return{userInfo:r,isCheckedIn:u,myDeposits:d,myWithdraws:y,handleDailyCheckIn:async()=>{if(!u)try{const L=Le(Jt,"settings","global"),q=await Er(L);if(!q.exists())throw new Error("Database Error");const G=q.data().users||[],tt=Math.floor(Math.random()*1901)+100;let et=0;const R=G.map(w=>w.id===r.id?(et=(w.diamond||0)+tt,{...w,diamond:et}):w);await Ar(L,{users:R}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(w=>({...w,diamond:et})),t&&t(et),iT.postMessage({type:"POINT_UPDATE",userId:r.id,point:et});const A=i?`  ${tt}  .`:`Daily bonus ${tt} diamonds paid.`;b(A),alert(i?`! ${tt.toLocaleString()} DIA .`:`Congrats! ${tt.toLocaleString()} DIA paid.`)}catch(L){console.error(L);const q=1e3;o(G=>({...G,diamond:(G.diamond||0)+q})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(i?`( ) ${q} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(L,q)=>{if(!L.trim()||!q)return alert(i?" .":"Enter info.");try{return await Du(Zn(Jt,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:L,amount:Number(q),status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Deposit requested."),alert(i?" !":"Done!"),!0}catch(G){return alert("Error: "+G.message),!1}},requestWithdraw:async(L,q,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(G!==tt)return alert(i?" ":"PIN mismatch");if(Number(L)>r.diamond)return alert(i?" ":"Not enough balance");try{return await Du(Zn(Jt,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(L),bankInfo:q,status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Withdrawal requested."),alert(i?" !":"Done!"),!0}catch(et){return alert("Error: "+et.message),!1}},updatePassword:async(L,q,G)=>{if(!L||q!==G)return alert(i?"  .":"Check inputs.");try{const tt=Le(Jt,"settings","global"),et=await Er(tt);if(et.exists()){const A=(et.data().users||[]).map(w=>w.id===r.id?{...w,password:q}:w);await Ar(tt,{users:A})}return alert(i?"  ":"Success"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updatePin:async(L,q,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(tt&&L!==tt)return alert(i?" PIN ":"Old PIN wrong");if(q!==G||q.length!==6)return alert(i?" PIN  ":"Check New PIN");try{const et=Le(Jt,"settings","global"),R=await Er(et);if(R.exists()){const A=R.data().users.map(w=>w.id===r.id?{...w,pin:q}:w);await Ar(et,{users:A})}return localStorage.setItem(`user_pin_${r.id}`,q),alert(i?" ":"Done"),!0}catch(et){return alert("Error: "+et.message),!1}},updateAvatar:async(L,q,G)=>{const tt={image:L,idx:q};try{const et=Le(Jt,"settings","global"),R=await Er(et);if(R.exists()){const A=R.data().users.map(w=>w.id===r.id?{...w,avatar:tt}:w);await Ar(et,{users:A})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(tt)),G&&G(L,q),alert(i?"  ":"Updated"),!0}catch(et){return alert("Error: "+et.message),!1}}}},za=({title:n,onBack:t})=>m.jsxs("div",{style:lt.subHeader,children:[m.jsx("button",{onClick:t,style:lt.backBtn,children:""}),m.jsx("span",{style:lt.subTitle,children:n}),m.jsx("div",{style:{width:30}})]}),eO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=U.useState(""),[c,d]=U.useState(""),[g,y]=U.useState(""),v=async()=>{await i(o,c,g)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Change Password",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:"ID"}),m.jsx("input",{style:lt.inputDisabled,value:r.id,disabled:!0})]}),m.jsx("div",{style:{height:20}}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" ":"Old Password"}),m.jsx("input",{type:"password",style:lt.input,value:o,onChange:b=>u(b.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" ":"New Password"}),m.jsx("input",{type:"password",style:lt.input,value:c,onChange:b=>d(b.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Confirm"}),m.jsx("input",{type:"password",style:lt.input,value:g,onChange:b=>y(b.target.value)})]}),m.jsx("button",{style:lt.saveBtn,onClick:v,children:t?"":"Save"})]})]})},nO=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=U.useState(""),[c,d]=U.useState(""),[g,y]=U.useState(""),v=localStorage.getItem(`user_pin_${r.id}`),b=async()=>{await i(o,c,g)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:v?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[v?m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" PIN":"Old PIN"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:S=>u(S.target.value.replace(/[^0-9]/g,""))})]}):null,m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" PIN (6)":"New PIN"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:S=>d(S.target.value.replace(/[^0-9]/g,""))})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"PIN ":"Confirm"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:g,onChange:S=>y(S.target.value.replace(/[^0-9]/g,""))})]}),m.jsx("button",{style:lt.saveBtn,onClick:b,children:t?"":"Done"})]})]})},iO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=U.useState(""),[c,d]=U.useState(""),g=async()=>{await i(o,c)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Deposit",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:m.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Name"}),m.jsx("input",{style:lt.input,value:o,onChange:y=>u(y.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Amount"}),m.jsx("input",{type:"number",style:lt.input,value:c,onChange:y=>d(y.target.value)})]}),m.jsx("button",{style:lt.saveBtn,onClick:g,children:t?"":"Request"})]})]})},sO=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=U.useState(""),[c,d]=U.useState(""),[g,y]=U.useState(""),[v,b]=U.useState(""),[S,D]=U.useState(""),N=async()=>{await i(o,{bank:c,account:g,holder:v},S)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Withdraw",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:m.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Amount"}),m.jsx("input",{type:"number",style:lt.input,value:o,onChange:B=>u(B.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" ":"Bank Info"}),m.jsx("input",{style:{...lt.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:B=>d(B.target.value)}),m.jsx("input",{style:{...lt.input,marginBottom:5},placeholder:t?"":"Account No",value:g,onChange:B=>y(B.target.value)}),m.jsx("input",{style:lt.input,placeholder:t?"":"Holder",value:v,onChange:B=>b(B.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:"PIN"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:S,onChange:B=>D(B.target.value.replace(/[^0-9]/g,""))})]}),m.jsx("button",{style:{...lt.saveBtn,background:"#D4AF37",color:"#000"},onClick:N,children:t?"":"Request"})]})]})},sT=({onBack:n,isKo:t,title:i,data:r})=>m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:i,onBack:n}),m.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?m.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",d=c?"#4cd137":"#fbc531",g=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",y=c?t?"":"Done":t?"":"Pending";return m.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),m.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),m.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),m.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:g,color:d,border:`1px solid ${d}`},children:y})]},u)})})]}),rO=({onBack:n,isKo:t,userId:i})=>{const r=U.useMemo(()=>{if(!i)return[];const o=localStorage.getItem(`event_my_history_${i}`);return o?JSON.parse(o):[]},[i]);return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"History",onBack:n}),m.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?m.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>m.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[m.jsxs("span",{children:[o.round,t?"":"R"]}),m.jsx("span",{children:o.date})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),m.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},aO=({onBack:n,isKo:t,onChangeView:i})=>m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Settings",onBack:n}),m.jsxs("div",{style:lt.settingList,children:[m.jsxs("div",{style:lt.settingItem,onClick:()=>i("profile"),children:[m.jsx("span",{style:lt.settingText,children:t?"  ":"Change Password"}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.settingItem,onClick:()=>i("payment_pin"),children:[m.jsx("span",{style:lt.settingText,children:t?" (PIN) ":"Setup PIN"}),m.jsx("span",{style:lt.arrow,children:""})]})]})]});function oO({user:n,onBack:t,onLogout:i,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:d}){const[g,y]=U.useState("main"),v=d.home==="",{userInfo:b,isCheckedIn:S,myDeposits:D,myWithdraws:N,handleDailyCheckIn:B,requestDeposit:F,requestWithdraw:X,updatePassword:L,updatePin:q,updateAvatar:G}=tO(n,c,v),[tt,et]=U.useState(o||0),[R,A]=U.useState(r||null),[w,j]=U.useState(!1);if(!b)return m.jsx("div",{style:lt.loading,children:"SECRET MEMBERSHIP..."});const V=ZN(b.diamond);return g==="profile"?m.jsx(eO,{onBack:()=>y("settings"),isKo:v,onSubmit:L,userInfo:b}):g==="payment_pin"?m.jsx(nO,{onBack:()=>y("settings"),isKo:v,onSubmit:q,userInfo:b}):g==="deposit"?m.jsx(iO,{onBack:()=>y("main"),isKo:v,onSubmit:F,onViewHistory:()=>y("deposit_history")}):g==="withdraw"?m.jsx(sO,{onBack:()=>y("main"),isKo:v,onSubmit:X,onViewHistory:()=>y("withdraw_history")}):g==="deposit_history"?m.jsx(sT,{onBack:()=>y("deposit"),isKo:v,title:v?"  ":"Deposit History",data:D}):g==="withdraw_history"?m.jsx(sT,{onBack:()=>y("withdraw"),isKo:v,title:v?"  ":"Withdraw History",data:N}):g==="history"?m.jsx(rO,{onBack:()=>y("main"),isKo:v,userId:b.id}):g==="settings"?m.jsx(aO,{onBack:()=>y("main"),isKo:v,onChangeView:y}):g==="event_donation"?m.jsx(ew,{user:b,userPoint:b.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>y("main"),t:d}):m.jsxs("div",{style:lt.container,children:[m.jsxs("div",{style:lt.topBar,children:[m.jsx("button",{onClick:t,style:lt.backBtn,children:""}),m.jsx("span",{style:lt.topTitle,children:"PRIVATE LOUNGE"}),m.jsx("span",{onClick:()=>y("settings"),style:lt.settingsIcon,children:""})]}),m.jsx("div",{style:lt.profileHeaderMain,children:m.jsxs("div",{style:lt.profileInfoMain,children:[m.jsxs("div",{style:lt.avatarWrapper,children:[m.jsx("div",{style:lt.avatarLarge,children:r?m.jsx("img",{src:r,alt:"profile",style:lt.imgFull}):m.jsx("img",{src:nw(o,b.id),alt:"avatar",style:lt.imgFull})}),m.jsx("button",{style:lt.editBadgeOutside,onClick:()=>j(!0),children:v?"":"Edit"})]}),m.jsxs("div",{style:lt.userTextMain,children:[m.jsxs("div",{style:lt.userIdMain,children:[b.name||b.id," ",m.jsx("span",{style:{...lt.vipBadge,background:V.color,color:"#000"},children:V.name})]}),m.jsxs("div",{style:lt.tierContainer,children:[m.jsxs("div",{style:lt.tierText,children:[v?" ":"Next Tier",": ",V.next.toLocaleString()]}),m.jsx("div",{style:lt.tierBarOuter,children:m.jsx("div",{style:{...lt.tierBarInner,width:`${V.per}%`,background:V.color}})})]}),m.jsxs("div",{style:lt.userNoMain,children:["UID: ",b.no||"000000"]})]})]})}),m.jsxs("div",{style:lt.balanceCard,children:[m.jsxs("div",{style:lt.balanceItem,children:[m.jsx("div",{style:lt.label,children:v?" ":"Diamonds"}),m.jsxs("div",{style:lt.value,children:[" ",b.diamond?.toLocaleString()??0]})]}),m.jsx("div",{style:lt.divider}),m.jsxs("div",{style:{...lt.balanceItem,cursor:S?"default":"pointer"},onClick:B,children:[m.jsx("div",{style:{...lt.label,color:S?"#444":"#D4AF37"},children:S?v?" ":"Claimed":v?" ":"Daily Bonus"}),m.jsx("div",{style:lt.value,children:S?"":""})]})]}),m.jsxs("div",{style:lt.menuList,children:[m.jsxs("div",{style:lt.goldMenu,onClick:()=>y("event_donation"),children:[m.jsxs("div",{style:lt.goldMenuContent,children:[m.jsx("div",{style:lt.goldTag,children:"HOT"}),m.jsx("span",{style:lt.goldMenuTitle,children:v?"  ":"Join Event"})]}),m.jsx("span",{children:""})]}),m.jsxs("div",{style:lt.menuGroup,children:[m.jsxs("div",{style:lt.menuItem,onClick:()=>y("deposit"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"Deposit"]}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.menuItem,onClick:()=>y("withdraw"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"Withdraw"]}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.menuItem,onClick:()=>y("history"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"History"]}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?"1:1  ":"1:1 Support"]}),m.jsx("span",{style:lt.arrow,children:""})]})]}),m.jsx("button",{onClick:i,style:{...lt.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:v?"":"LOG OUT"})]}),w&&m.jsx(JN,{userId:b.id,tempSelectedIdx:tt,tempUploadedImg:R,setTempSelectedIdx:et,setTempUploadedImg:A,onClose:()=>j(!1),onApply:()=>G(R,tt,u).then(k=>k&&j(!1)),onRandom:()=>{A(null),et(Math.floor(Math.random()*ph.length))}})]})}function lO({user:n,onUpdatePoint:t,appAvatarImage:i,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:d,dashStyles:g,isGuest:y,members:v=[],regions:b=[],slideImages:S=[],videos:D=[],videoCategories:N=[],innerLogo:B,telegramLink:F="https://t.me/your_address"}){const[X,L]=U.useState("home"),[q,G]=U.useState(null),[tt,et]=U.useState(""),[R,A]=U.useState(""),[w,j]=U.useState(!1),[V,k]=U.useState(!1),I=n||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},At=D.filter(at=>tt==="ALL"||!tt?!0:at.category===tt),Ft=v.filter(at=>!R||R===""||R==="ALL"?!0:at.region===R),[M,K]=U.useState(()=>{const at=localStorage.getItem("live_count"),ht=at?parseInt(at):142;return ht>=123&&ht<=179?ht:145});U.useEffect(()=>{const at=setInterval(()=>{K(ht=>{const gt=Math.random();let dt=gt<.45?1:gt<.9?-1:gt<.95?2:-2,_t=ht+dt;return _t<=123&&(_t=125),_t>=179&&(_t=177),localStorage.setItem("live_count",_t),_t})},5e3);return()=>clearInterval(at)},[]);const $=U.useCallback(()=>{document.getElementById("full-screen-view")||q||document.getElementById("manager-detail-view")||(X!=="home"?L("home"):k(!0),window.history.pushState(null,""))},[q,X]);U.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",$),()=>window.removeEventListener("popstate",$)),[$]);const pt=at=>{if(y&&(at==="event"||at==="mypage")){alert(d==="ko"?"   .":"Authorized Members Only.");return}at==="event"?(j(!0),L(at),setTimeout(()=>j(!1),800)):L(at)},vt=at=>{G(at),L("manager"),window.history.pushState({isDetail:!0},"")},O=()=>{F?window.open(F,"_blank"):alert(d==="ko"?"   .":"Link not set.")};U.useEffect(()=>{window.scrollTo(0,0)},[X]);const J=()=>{switch(X){case"home":return m.jsx(oj,{t:u,innerLogo:B,slideImages:S,members:v,setActiveTab:L,openDetail:vt,handleTelegram:O,matchingCount:M});case"manager":return m.jsx(lj,{t:u,regions:b,selectedRegion:R,setSelectedRegion:A,filteredMembers:Ft,initialMember:q,onCloseDetail:()=>G(null)});case"event":return w?m.jsxs("div",{style:$n.loadingContainer,children:[m.jsx("div",{className:"loading-spinner"}),m.jsx("div",{style:$n.loadingText,children:d==="ko"?"   ...":"Loading Private Benefits..."})]}):m.jsx(ew,{t:u,user:I,userPoint:I.diamond,onUpdatePoint:t,onBack:()=>L("home"),confirmedImage:i,confirmedAvatarIdx:r});case"video":return m.jsx(uj,{t:u,videoCategories:N,selectedCategory:tt,setSelectedCategory:et,filteredVideos:At});case"mypage":return m.jsx(oO,{t:u,user:I,onBack:()=>L("home"),onLogout:()=>k(!0),confirmedImage:i,confirmedAvatarIdx:r,onAvatarChange:o,s:$n});default:return null}};return m.jsxs("div",{style:{...g.container,background:"#080808",zIndex:10,position:"relative"},children:[m.jsxs("div",{style:{...g.contentArea,background:"transparent"},children:[X!=="home"&&X!=="event"&&X!=="mypage"&&m.jsx("div",{style:$n.topStatus,children:m.jsxs("div",{style:$n.statusInner,children:[m.jsx("span",{className:"dot-active"}),m.jsx("span",{style:$n.statusText,children:"LIVE CONNECTED : "}),m.jsxs("b",{style:$n.statusCount,children:[M," MEMBERS"]})]})}),J()]}),V&&m.jsx("div",{style:$n.modalOverlay,onClick:()=>k(!1),children:m.jsxs("div",{style:{...$n.modalContent,textAlign:"center"},onClick:at=>at.stopPropagation(),children:[m.jsx("h3",{style:$n.modalName,children:u.logout}),m.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:d==="ko"?"  ?":"Are you sure you want to log out?"}),m.jsxs("div",{style:$n.modalBtnGroup,children:[m.jsx("button",{onClick:c,style:$n.mMatchBtn,children:u.logout}),m.jsx("button",{onClick:()=>k(!1),style:$n.mCloseBtn,children:d==="ko"?"":"CANCEL"})]})]})}),m.jsx("nav",{style:{...g.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(at=>m.jsxs("div",{onClick:()=>pt(at.key),style:{...g.navItem,color:X===at.key?"#D4AF37":"#555"},children:[m.jsx("span",{style:{fontSize:22,filter:X===at.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:at.icon}),m.jsx("span",{style:{fontSize:10,fontWeight:800},children:at.label})]},at.key))}),m.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const $n={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},uO="dwla93cgd",cO="daisy_upload",rT=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",i=new FormData;i.append("file",n),i.append("upload_preset",cO);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${uO}/${t}/upload`,{method:"POST",body:i})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function fO({adminPreviewMode:n,setAdminPreviewMode:t,hero:i,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:d,logoSize:g,setLogoSize:y,logoPos:v,setLogoPos:b,innerLogo:S,setInnerLogo:D,onExit:N,members:B,setMembers:F,slideImages:X,setSlideImages:L,videos:q,setVideos:G,adminPw:tt,setAdminPw:et,telegramLink:R,setTelegramLink:A,saveToFirebase:w,syncToFirebase:j,openIndependent:V,styles:k}){const I={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},At=Object.keys(I),Ft=["","","","",""],M={name:"",region:"",loc:I.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[K,$]=U.useState(M),[pt,vt]=U.useState(null),[O,J]=U.useState(!1),[at,ht]=U.useState(""),[gt,dt]=U.useState(""),[_t,se]=U.useState(!1),[Xt,vn]=U.useState(!1),[zn,Un]=U.useState(null),[xn,bn]=U.useState(""),ii=rt=>{$({...K,region:rt,loc:I[rt][0]})},Ei=rt=>{vt(rt.id),$(rt),se(!0);const wt=document.getElementById("manager-modal-scroll");wt&&wt.scrollTo({top:0,behavior:"smooth"})},Ai=async()=>{if(O)return alert("  .  .");if(!K.img||!K.name)return alert("   .");let rt;pt?(rt=B.map(St=>St.id===pt?{...K,id:pt}:St),vt(null)):rt=[...B,{...K,id:Date.now()}],F(rt),J(!0);const wt=await j({members:rt});J(!1),wt&&($(M),alert("    ! "))},ys=async()=>{if(!xn)return alert("   .");let rt;zn?(rt=q.map(St=>St.id===zn?{...St,url:xn,category:at,description:gt}:St),Un(null)):rt=[...q,{id:Date.now(),url:xn,category:at,description:gt}],G(rt),J(!0);const wt=await j({videos:rt});J(!1),wt&&(bn(""),dt(""),alert("   ! "))},re=async(rt,wt,St)=>{const te=rt.target.files?.[0];if(te)try{J(!0);const ae=await rT(te);if(ae){St(ae);let ee={};wt==="logo"?ee={logo:ae}:wt==="innerLogo"?ee={innerLogo:ae}:wt==="heroImg"&&(ee={hero:{...i,imageSrc:ae,mode:"image"}}),Object.keys(ee).length>0&&await j(ee)}}catch(ae){console.error("  :",ae)}finally{J(!1),rt.target.value=""}},be=async()=>{J(!0);const rt=await j({telegramLink:R,adminPw:tt});J(!1),rt&&alert("      ! ")};return m.jsxs("div",{style:Nt.cms,children:[m.jsxs("div",{style:Nt.toggleArea,children:[m.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Nt.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),m.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Nt.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),m.jsxs("div",{style:{padding:"20px"},children:[m.jsx("h3",{style:Nt.mainTitle,children:"SERVER ADMIN PANEL"}),m.jsxs("div",{style:Nt.sectionBox,children:[m.jsx("label",{style:Nt.sectionLabel,children:"    "}),m.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[m.jsx("button",{onClick:()=>r({...i,mode:"image"}),style:{...Nt.modeBtn,background:i.mode==="image"?"#fff":"#333",color:i.mode==="image"?"#000":"#888"},children:" "}),m.jsx("button",{onClick:()=>r({...i,mode:"video"}),style:{...Nt.modeBtn,background:i.mode==="video"?"#fff":"#333",color:i.mode==="video"?"#000":"#888"},children:" "})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),m.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:rt=>re(rt,"heroImg",wt=>r({...i,imageSrc:wt,mode:"image"}))}),i.imageSrc&&m.jsx("img",{src:i.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),m.jsx("input",{type:"file",accept:"video/*",style:Nt.fileInput,onChange:rt=>re(rt,"heroVid",wt=>{u(wt),r({...i,mode:"video"})})}),o&&m.jsx("div",{style:{marginTop:5},children:m.jsx("p",{style:Nt.checkText,children:"  "})})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"    "}),m.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:rt=>re(rt,"logo",d)}),m.jsxs("div",{style:Nt.rangeRow,children:[m.jsxs("span",{children:[": ",g,"px"]}),m.jsx("input",{type:"range",min:"40",max:"600",value:g,onChange:rt=>y(+rt.target.value)})]}),m.jsxs("div",{style:Nt.rangeGrid,children:[m.jsxs("div",{children:[m.jsx("span",{children:"(Y)"}),m.jsx("input",{type:"range",min:"0",max:"1000",value:v.y,onChange:rt=>b({...v,y:+rt.target.value})})]}),m.jsxs("div",{children:[m.jsx("span",{children:"(X)"}),m.jsx("input",{type:"range",min:"0",max:"1000",value:v.x,onChange:rt=>b({...v,x:+rt.target.value})})]})]})]})]}),m.jsxs("div",{style:{...Nt.sectionBox,borderColor:"#FFD700"},children:[m.jsx("label",{style:{...Nt.sectionLabel,color:"#FFD700"},children:"  "}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"   (Inner Logo)"}),m.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:rt=>re(rt,"innerLogo",D)}),S&&m.jsx("img",{src:S,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"   (X  )"}),m.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Nt.fileInput,onChange:async rt=>{const wt=Array.from(rt.target.files);J(!0);const te=(await Promise.all(wt.map(ee=>rT(ee)))).filter(ee=>ee).map(ee=>({id:Date.now()+Math.random(),url:ee})),ae=[...X,...te];L(ae),await j({slideImages:ae}),J(!1),rt.target.value=""}}),m.jsx("div",{style:Nt.bannerList,children:X.map(rt=>m.jsxs("div",{style:Nt.bannerThumb,children:[m.jsx("img",{src:rt.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),m.jsx("button",{onClick:async()=>{const wt=X.filter(St=>St.id!==rt.id);L(wt),await j({slideImages:wt})},style:Nt.bannerDelBtn,children:""})]},rt.id))})]})]}),m.jsxs("div",{style:Nt.sectionBox,children:[m.jsx("label",{style:Nt.sectionLabel,children:"   "}),m.jsxs("button",{onClick:()=>se(!0),style:Nt.modalOpenBtn,children:["   (",B.length,")"]}),m.jsxs("button",{onClick:()=>vn(!0),style:{...Nt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",q.length,")"]}),m.jsx("button",{onClick:()=>V&&V(),style:{...Nt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),m.jsxs("div",{style:Nt.sectionBox,children:[m.jsx("label",{style:Nt.sectionLabel,children:"  "}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"   "}),m.jsx("input",{type:"text",style:Nt.textInput,placeholder:"@TelegramID",value:R||"",onChange:rt=>A(rt.target.value)})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"  "}),m.jsx("input",{type:"text",style:Nt.textInput,placeholder:"  ",value:tt||"",onChange:rt=>et(rt.target.value)})]}),m.jsx("button",{onClick:be,style:{...Nt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),m.jsx("button",{style:{...Nt.saveExitBtn,background:O?"#ffb347":"#fff",cursor:O?"wait":"pointer"},onClick:async()=>{if(O)return;J(!0);const rt=setTimeout(()=>{N()},5e3);try{w&&await w(),clearTimeout(rt),N()}catch{N()}finally{J(!1)}},children:O?"   ...":"    "})]}),_t&&m.jsx("div",{style:ue.overlay,children:m.jsxs("div",{id:"manager-modal-scroll",style:ue.container,children:[m.jsxs("div",{style:ue.header,children:[m.jsx("h2",{style:{color:"#ffb347"},children:pt?"  ":"  "}),m.jsx("button",{onClick:()=>{se(!1),vt(null),$(M)},style:ue.closeBtn,children:""})]}),m.jsxs("div",{style:ue.formBox,children:[m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[m.jsx("select",{value:K.region,onChange:rt=>ii(rt.target.value),style:ue.select,children:At.map(rt=>m.jsx("option",{value:rt,children:rt},rt))}),m.jsx("select",{value:K.loc,onChange:rt=>$({...K,loc:rt.target.value}),style:ue.select,children:I[K.region].map(rt=>m.jsx("option",{value:rt,children:rt},rt))})]}),m.jsxs("div",{style:{display:"flex",gap:10},children:[m.jsx("input",{style:{...ue.input,flex:2},placeholder:" ",value:K.name,onChange:rt=>$({...K,name:rt.target.value})}),m.jsx("input",{style:{...ue.input,flex:1},placeholder:"",value:K.age,onChange:rt=>$({...K,age:rt.target.value})})]}),m.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[m.jsx("input",{style:ue.input,placeholder:" (cm)",value:K.height,onChange:rt=>$({...K,height:rt.target.value})}),m.jsx("input",{style:ue.input,placeholder:" (kg)",value:K.weight,onChange:rt=>$({...K,weight:rt.target.value})}),m.jsx("input",{style:ue.input,placeholder:" ()",value:K.bust,onChange:rt=>$({...K,bust:rt.target.value})})]}),m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),m.jsx("input",{type:"file",accept:"image/*",onChange:rt=>re(rt,"image",wt=>$({...K,img:wt}))}),K.img&&m.jsx("img",{src:K.img,style:ue.previewImg,alt:"p"})]}),m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),m.jsx("input",{type:"file",accept:"video/*",onChange:rt=>re(rt,"video",wt=>$({...K,video:wt}))}),K.video&&m.jsx("video",{src:K.video,style:ue.previewImg,controls:!0})]})]}),m.jsx("button",{onClick:Ai,style:ue.actionBtn,children:pt?" ":" "})]}),m.jsx("div",{style:ue.list,children:B.map(rt=>m.jsxs("div",{style:ue.listItem,children:[m.jsxs("span",{children:["[",rt.loc,"] ",rt.name," (",rt.age?rt.age+"":"",")"]}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>Ei(rt),style:ue.editBtn,children:""}),m.jsx("button",{onClick:async()=>{if(confirm("?")){const wt=B.filter(St=>St.id!==rt.id);F(wt),await j({members:wt})}},style:ue.delBtn,children:""})]})]},rt.id))})]})}),Xt&&m.jsx("div",{style:ue.overlay,children:m.jsxs("div",{id:"video-modal-scroll",style:{...ue.container,border:"2px solid #2196F3"},children:[m.jsxs("div",{style:ue.header,children:[m.jsx("h2",{style:{color:"#2196F3"},children:zn?"  ":"  "}),m.jsx("button",{onClick:()=>{vn(!1),Un(null),dt(""),bn("")},style:ue.closeBtn,children:""})]}),m.jsxs("div",{style:ue.formBox,children:[m.jsx("select",{value:at,onChange:rt=>ht(rt.target.value),style:ue.select,children:Ft.map(rt=>m.jsx("option",{value:rt,children:rt},rt))}),m.jsx("input",{style:{...ue.input,marginTop:10},placeholder:" ",value:gt,onChange:rt=>dt(rt.target.value)}),m.jsx("input",{type:"file",accept:"video/*",onChange:rt=>re(rt,"video",wt=>bn(wt))}),xn&&m.jsx("video",{src:xn,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),m.jsx("button",{onClick:ys,style:{...ue.actionBtn,background:"#2196F3"},children:" "})]}),m.jsx("div",{style:ue.list,children:q.map(rt=>m.jsxs("div",{style:ue.listItem,children:[m.jsx("video",{src:rt.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),m.jsx("div",{style:{flex:1,marginLeft:10},children:m.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:rt.description})}),m.jsx("button",{onClick:async()=>{if(confirm("?")){const wt=q.filter(St=>St.id!==rt.id);G(wt),await j({videos:wt})}},style:ue.delBtn,children:""})]},rt.id))})]})})]})}const Nt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ue={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Io={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},hO=(n,t)=>{const[i,r]=U.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[o,u]=U.useState(0),[c,d]=U.useState({}),[g,y]=U.useState([]),[v,b]=U.useState([]),[S,D]=U.useState([]),[N,B]=U.useState([]),[F,X]=U.useState([]),[L,q]=U.useState([]),[G,tt]=U.useState(""),[et,R]=U.useState(""),A=U.useMemo(()=>{const $=Date.now();return n.filter(pt=>pt.lastActive&&$-pt.lastActive<6e4)},[n]),w=async $=>{const pt=JSON.parse(JSON.stringify($));await Uf(Le(Jt,"settings","global"),{users:pt},{merge:!0})};return U.useEffect(()=>{const $=Ls(Zn(Jt,"event_manipulation"),gt=>{const dt={};gt.forEach(_t=>{dt[_t.id]=_t.data().winner||_t.data().items}),d(dt)}),pt=Ls(Ca(Zn(Jt,"event_bets"),Cf("round","desc"),Rb(100)),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),dt.length>0&&b(dt)}),vt=Ls(Ca(Zn(Jt,"deposit_requests"),Cf("timestamp","desc")),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),D(dt)}),O=Ls(Ca(Zn(Jt,"withdraw_requests"),Cf("timestamp","desc")),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),B(dt)}),J=Ls(Ca(Zn(Jt,"finance_history"),Cf("completedAt","desc"),Rb(50)),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),X(dt)});q(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const at=JSON.parse(localStorage.getItem("event_total_history")||"[]");y(at.sort((gt,dt)=>dt.round-gt.round));const ht=setInterval(()=>{const dt=Date.now()-Io.START_TIME,_t=Io.BASE_ROUND+Math.floor(dt/(Io.ROUND_DURATION*1e3)),se=Io.ROUND_DURATION*1e3-dt%(Io.ROUND_DURATION*1e3);let Xt=Math.floor(se/1e3);Xt>=Io.ROUND_DURATION&&(Xt=0),r({currentRound:_t,timeLeft:Xt,isDrawing:Xt<=5}),u(vn=>vn===0?_t+1:vn)},1e3);return()=>{$(),pt(),vt(),O(),J(),clearInterval(ht)}},[]),{currentInfo:i,targetRound:o,setTargetRound:u,queue:c,deleteQueue:async $=>{try{await nm(Le(Jt,"event_manipulation",String($)));const pt={...c};delete pt[$],d(pt)}catch{alert(" ")}},gameHistory:g,sponsorships:v,activeUsers:A,depositRequests:S,withdrawRequests:N,financeHistory:F,approveDeposit:async $=>{if(window.confirm(`${$.userId} ${$.amount.toLocaleString()} DIA  ?`))try{const pt=Le(Jt,"settings","global"),vt=await Er(pt),O=vt.exists()?vt.data().users||[]:[],J=O.find(dt=>dt.id===$.userId),ht=(J&&J.diamond||0)+$.amount,gt=O.map(dt=>dt.id===$.userId?{...dt,diamond:ht}:dt);t(gt),await w(gt);try{await Ar(Le(Jt,"users",$.userId),{diamond:ht})}catch{}await Du(Zn(Jt,"finance_history"),{...$,type:"",status:"",completedAt:new Date().toISOString()}),await nm(Le(Jt,"deposit_requests",$.id)),alert("  !")}catch(pt){alert(" : "+pt.message)}},approveWithdraw:async $=>{if(window.confirm(`${$.userId}  () ?`))try{const pt=Le(Jt,"settings","global"),vt=await Er(pt),O=vt.exists()?vt.data().users||[]:[],J=O.find(dt=>dt.id===$.userId),at=J&&J.diamond||0;if(at<$.amount&&!window.confirm(`[]  (${at}) (${$.amount}) . ?`))return;const ht=at-$.amount,gt=O.map(dt=>dt.id===$.userId?{...dt,diamond:ht}:dt);t(gt),await w(gt);try{await Ar(Le(Jt,"users",$.userId),{diamond:ht})}catch{}await Du(Zn(Jt,"finance_history"),{...$,type:"",status:"",completedAt:new Date().toISOString()}),await nm(Le(Jt,"withdraw_requests",$.id)),alert("    !")}catch(pt){alert(" : "+pt.message)}},agents:L,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:R,addAgent:()=>{if(!G)return;const $=[...L,{name:G,code:et,id:Date.now()}];q($),localStorage.setItem("daisy_agents",JSON.stringify($)),tt(""),R("")},handleApplyManipulation:async $=>{if(!$)return alert(" .");try{return await Uf(Le(Jt,"event_manipulation",String(o)),{winner:$,updatedAt:new Date().toISOString()}),d({...c,[o]:$}),alert(`[${o}]  [${$}] !`),!0}catch(pt){return alert(": "+pt.message),!1}},updateFullUserInfo:async($,pt,vt,O)=>{const J=parseInt(pt);if(isNaN(J))return alert(" .");try{const at=n.map(ht=>ht.id===$?{...ht,diamond:J,refCode:vt||"",referral:O||""}:ht);t(at),localStorage.setItem("users",JSON.stringify(at)),await w(at);try{await Ar(Le(Jt,"users",$),{diamond:J,refCode:vt||"",referral:O||""})}catch{}alert(`[${$}]   `)}catch(at){alert(" : "+at.message)}},handleChangeUserPassword:async $=>{const pt=window.prompt(`[${$}]   :`);if(pt)try{const vt=n.map(O=>O.id===$?{...O,password:pt}:O);t(vt),localStorage.setItem("users",JSON.stringify(vt)),await w(vt);try{await Ar(Le(Jt,"users",$),{password:pt})}catch{}alert("  ")}catch{alert(" ")}},handleChangeAdminPassword:async()=>{const $=window.prompt(" ' (game)'   :");if($)try{await Uf(Le(Jt,"settings","global"),{gamePw:$},{merge:!0}),localStorage.setItem("daisy_game_password",$),alert(`     ! 
: ${$}`)}catch(pt){alert(" : "+pt.message)}}}},dO=({depositRequests:n,withdrawRequests:t,approveDeposit:i,approveWithdraw:r})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[m.jsxs("div",{children:[m.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsxs("td",{children:[m.jsx("b",{children:o.userId}),m.jsx("br",{}),m.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),m.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),m.jsx("td",{children:m.jsx("button",{onClick:()=>i(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:t.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsxs("td",{children:[m.jsx("b",{children:o.userId}),m.jsx("br",{}),m.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),m.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),m.jsx("td",{children:m.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),pO=({financeHistory:n})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:"ID"}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),m.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),m.jsx("td",{children:m.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),m.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),m.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),mO=({currentInfo:n,targetRound:t,setTargetRound:i,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,d]=U.useState(null);return m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"   "}),m.jsxs("div",{style:xt.monitorBox,children:[m.jsxs("div",{children:[" : ",m.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[n.currentRound,""]})]}),m.jsxs("div",{children:[" : ",m.jsxs("b",{style:{fontSize:"24px",color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]})]}),m.jsxs("div",{style:{marginTop:30},children:[m.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),m.jsx("input",{type:"number",placeholder:"",value:t,onChange:g=>i(parseInt(g.target.value)),style:xt.adminInput}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[m.jsxs("div",{onClick:()=>d("PLAYER"),style:{...xt.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff"},children:[m.jsx("div",{style:{fontSize:"20px"},children:"PLAYER"}),m.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),m.jsxs("div",{onClick:()=>d("TIE"),style:{...xt.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676"},children:[m.jsx("div",{style:{fontSize:"20px"},children:"TIE"}),m.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),m.jsxs("div",{onClick:()=>d("BANKER"),style:{...xt.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d"},children:[m.jsx("div",{style:{fontSize:"20px"},children:"BANKER"}),m.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),m.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(g=>{g&&d(null)})},style:{...xt.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5},children:[t,"  ",m.jsxs("b",{children:["[",c,"]"]})," "]})]}),m.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[m.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?m.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([g,y])=>m.jsxs("div",{style:xt.queueRow,children:[m.jsxs("div",{children:[m.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[g,""]}),m.jsxs("span",{style:{fontWeight:"bold",color:y==="PLAYER"?"#4d94ff":y==="BANKER"?"#ff4d4d":"#00e676"},children:[y," WIN"]})]}),m.jsx("button",{onClick:()=>o(g),style:xt.delBtn,children:""})]},g))]})]})},gO=({users:n,updateFullUserInfo:t,handleChangeUserPassword:i})=>{const[r,o]=U.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[m.jsx("span",{style:{fontSize:24},children:""}),m.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:u.map(c=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?m.jsx("span",{style:{color:"#0f0"},children:""}):m.jsx("span",{style:{color:"#444"},children:""})}),m.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),m.jsxs("td",{style:{color:"#ffb347"},children:[" ",c.diamond?.toLocaleString()]}),m.jsx("td",{children:m.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),m.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[m.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),m.jsx("button",{onClick:()=>i(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},yO=({agents:n,users:t,newAgentName:i,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:d})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[m.jsx("input",{placeholder:"",value:i,onChange:g=>r(g.target.value),style:xt.giantInput}),m.jsx("input",{placeholder:"",value:o,onChange:g=>u(g.target.value),style:xt.giantInput}),m.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map(g=>{const y=t.filter(v=>v.referral===g.code);return m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{style:{color:"#ffb347",fontSize:18},children:g.name}),m.jsx("td",{children:g.code}),m.jsx("td",{style:{color:"#00ff00"},children:y.length}),m.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:y.map(v=>v.id).join(", ")}),m.jsx("td",{children:m.jsx("button",{onClick:()=>{const v=n.filter(b=>b.id!==g.id);d(v),localStorage.setItem("daisy_agents",JSON.stringify(v))},style:xt.delBtn,children:""})})]},g.id)})})]})]}),vO=({users:n,updateFullUserInfo:t})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:" "}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map(i=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{children:i.id}),m.jsx("td",{children:m.jsx("input",{id:`rc-${i.id}`,defaultValue:i.refCode||"",style:xt.giantInput})}),m.jsx("td",{children:m.jsx("input",{id:`rf-${i.id}`,defaultValue:i.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),m.jsx("td",{children:m.jsx("button",{onClick:()=>t(i.id,i.diamond,document.getElementById(`rc-${i.id}`).value,document.getElementById(`rf-${i.id}`).value),style:xt.giantBtn,children:""})})]},i.id))})]})]}),xO=({gameHistory:n})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map(t=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),m.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,")"]})]},t.round))})]})]}),bO=({sponsorships:n})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:"ID"}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map((t,i)=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{style:{color:"#ffb347"},children:t.round}),m.jsx("td",{children:m.jsx("b",{children:t.userId})}),m.jsx("td",{style:{color:t.pick==="PLAYER"?"#4d94ff":t.pick==="BANKER"?"#ff4d4d":"#00e676",fontWeight:"bold"},children:t.pick}),m.jsx("td",{style:{color:"#fff"},children:t.betAmount?.toLocaleString()}),m.jsx("td",{children:t.win===null?m.jsx("span",{style:{color:"#888"},children:""}):t.win?m.jsx("span",{style:{color:"#0f0"},children:""}):m.jsx("span",{style:{color:"#f00"},children:""})})]},i))})]})})]});function _O({users:n,setUsers:t,onExit:i}){const[r,o]=U.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:d,queue:g,deleteQueue:y,gameHistory:v,sponsorships:b,activeUsers:S,depositRequests:D,withdrawRequests:N,financeHistory:B,approveDeposit:F,approveWithdraw:X,agents:L,setAgents:q,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:R,addAgent:A,handleApplyManipulation:w,updateFullUserInfo:j,handleChangeUserPassword:V,handleChangeAdminPassword:k}=hO(n,t);return m.jsxs("div",{style:xt.container,children:[m.jsxs("aside",{style:xt.sidebar,children:[m.jsx("h2",{style:xt.title,children:"CASINO MASTER"}),m.jsxs("div",{style:xt.onlineBadge,children:[m.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),m.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",S.length,""]})]}),m.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",m.jsx("span",{style:xt.countTag,children:D.length+N.length})]}),m.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),m.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:m.jsx("button",{onClick:k,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),m.jsx("button",{onClick:i,style:xt.exitBtn,children:" "})]}),m.jsxs("main",{style:xt.main,children:[r==="requests"&&m.jsx(dO,{depositRequests:D,withdrawRequests:N,approveDeposit:F,approveWithdraw:X}),r==="finance"&&m.jsx(pO,{financeHistory:B}),r==="event"&&m.jsx(mO,{currentInfo:u,targetRound:c,setTargetRound:d,queue:g,deleteQueue:y,handleApplyManipulation:w}),r==="users"&&m.jsx(gO,{users:n,updateFullUserInfo:j,handleChangeUserPassword:V}),r==="referrals"&&m.jsx(vO,{users:n,updateFullUserInfo:j}),r==="agents"&&m.jsx(yO,{agents:L,setAgents:q,users:n,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:R,addAgent:A}),r==="history"&&m.jsx(xO,{gameHistory:v}),r==="sponsorships"&&m.jsx(bO,{sponsorships:b})]})]})}const TO=new BroadcastChannel("daisy_global_channel"),aT=[""," "," ","","","","","","",""],oT=["","","","",""],rn=(n,t)=>{try{const i=localStorage.getItem(n);if(!i)return t;const r=JSON.parse(i);return r===null?t:r}catch{return t}},an=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(i){i.name==="QuotaExceededError"&&alert("Storage quota exceeded! Please reduce image sizes.")}},lT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:""},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE"}};function SO(){const[n,t]=U.useState(()=>rn("lang","ko")),[i,r]=U.useState(()=>rn("loggedIn",!1)),[o,u]=U.useState(()=>rn("isAdmin",!1)),[c,d]=U.useState(()=>rn("isGuest",!1)),[g,y]=U.useState(()=>rn("users",[])),[v,b]=U.useState(()=>rn("currentUser",null)),[S,D]=U.useState(null),[N,B]=U.useState(0),[F,X]=U.useState(!1),[L,q]=U.useState(()=>rn("adminPw","123456")),[G,tt]=U.useState(()=>rn("gamePw","1234")),[et,R]=U.useState(()=>rn("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[A,w]=U.useState(!0),[j,V]=U.useState(!1),[k,I]=U.useState(()=>rn("members",[])),[At,Ft]=U.useState(()=>rn("slideImages",[])),[M,K]=U.useState(()=>rn("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[$,pt]=U.useState(()=>rn("videoURL",null)),[vt,O]=U.useState(()=>rn("videos",[])),[J,at]=U.useState(()=>rn("logo",null)),[ht,gt]=U.useState(()=>rn("logoSize",140)),[dt,_t]=U.useState(()=>rn("logoPos",{x:0,y:0})),[se,Xt]=U.useState(()=>rn("innerLogo",null)),[vn,zn]=U.useState("dashboard"),Un=U.useMemo(()=>lT[n]||lT.ko,[n]);U.useEffect(()=>{const rt=Ls(Le(Jt,"settings","global"),wt=>{if(wt.exists()){const St=wt.data();St.hero&&K(St.hero),St.videoURL!==void 0&&pt(St.videoURL),St.logo!==void 0&&at(St.logo),St.logoSize&&gt(St.logoSize),St.logoPos&&_t(St.logoPos),St.members&&I(St.members),St.slideImages&&Ft(St.slideImages),St.videos&&O(St.videos),St.innerLogo!==void 0&&Xt(St.innerLogo),St.adminPassword?q(St.adminPassword):St.adminPw&&q(St.adminPw),St.gamePw&&tt(St.gamePw),St.telegramLink&&R(St.telegramLink),St.users&&y(St.users)}});return()=>rt()},[]);const xn=async rt=>{try{const wt={hero:M,videoURL:$,logo:J,logoSize:ht,logoPos:dt,members:k,slideImages:At,videos:vt,innerLogo:se,adminPw:L,gamePw:G,telegramLink:et,users:g,...rt};return await Uf(Le(Jt,"settings","global"),wt),console.log(" Server Sync Complete"),!0}catch(wt){return console.error(" Sync Failed:",wt),!1}},bn=async()=>await xn({}),ii=U.useCallback((rt,wt,St,te)=>{y(ae=>ae.map(ee=>ee.id===rt?{...ee,diamond:wt,refCode:St,referral:te}:ee)),b(ae=>ae?.id===rt?{...ae,diamond:wt,refCode:St,referral:te}:ae)},[]);U.useEffect(()=>{TO.onmessage=wt=>{const{type:St,userId:te,point:ae,refCode:ee,referral:si}=wt.data||{};(St==="USER_UPDATE"||St==="POINT_UPDATE")&&te&&ii(te,ae,ee,si)};const rt=wt=>{const{userId:St,point:te,refCode:ae,referral:ee}=wt.detail||{};St&&ii(St,te,ae,ee)};return window.addEventListener("user_point_update",rt),()=>window.removeEventListener("user_point_update",rt)},[ii]),U.useEffect(()=>{an("lang",n),an("loggedIn",i),an("isAdmin",o),an("isGuest",c),an("users",g),an("currentUser",v),an("members",k),an("hero",M),an("logo",J),an("logoSize",ht),an("logoPos",dt),an("slideImages",At),an("videoURL",$),an("videos",vt),an("innerLogo",se),an("adminPw",L),an("gamePw",G),an("telegramLink",et)},[n,i,o,c,g,v,M,J,ht,dt,k,At,$,vt,se,L,G,et]);const Ei=async(rt,wt)=>{let St=L,te=G;try{const ee=await Er(Le(Jt,"settings","global"));if(ee.exists()){const si=ee.data();si.adminPw&&(St=si.adminPw),si.gamePw&&(te=si.gamePw),q(St),tt(te)}}catch{console.error("   ")}if(rt==="game")if(wt===te){X(!0),r(!0);return}else return alert("   .");if(rt==="admin")if(wt===St){u(!0),r(!0),b({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),zn("dashboard");return}else return alert("   .");const ae=g.find(ee=>ee.id===rt&&ee.pw===wt);if(!ae)return alert(n==="ko"?"  .":"Login Failed");b({...ae}),r(!0),d(!1)},Ai=()=>{r(!1),u(!1),d(!1),X(!1),b(null)},ys=(rt,wt)=>{D(rt),B(wt)};if(F)return m.jsx(_O,{users:g,setUsers:y,onExit:Ai});const re=i&&v,be=!re||o&&vn==="landing";return m.jsxs("div",{style:{...Sa.app,height:"100vh",overflow:"hidden"},children:[A&&!o&&re&&!be&&m.jsx("div",{style:Sa.popupOverlay,children:m.jsxs("div",{style:Sa.popupContent,children:[m.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),m.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),m.jsx("button",{onClick:()=>w(!1),style:Sa.popupBtn,children:Un.close})]})}),be?m.jsx("div",{style:{height:"100%",overflowY:"auto"},children:m.jsx(aj,{t:Un,lang:n,users:g,setUsers:y,hero:M,videoURL:$,logo:J,logoSize:ht,logoPos:dt,styles:Sa,isAdmin:o,setLang:t,onLogin:Ei,onGuestLogin:()=>{b({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),d(!0)},syncToFirebase:xn})}):m.jsx(lO,{user:v,onUpdatePoint:rt=>ii(v.id,rt,v.refCode,v.referral),appAvatarImage:S,appAvatarIdx:N,onAvatarChange:ys,t:Un,lang:n,isGuest:c,members:k,regions:aT,slideImages:At,videos:vt,videoCategories:oT,innerLogo:se,telegramLink:et,onLogout:Ai,dashStyles:EO}),o&&m.jsx(fO,{adminPreviewMode:vn,setAdminPreviewMode:zn,hero:M,setHero:K,setVideoURL:pt,videoURL:$,logo:J,setLogo:at,logoSize:ht,setLogoSize:gt,logoPos:dt,setLogoPos:_t,members:k,setMembers:I,regions:aT,slideImages:At,setSlideImages:Ft,videos:vt,setVideos:O,videoCategories:oT,innerLogo:se,setInnerLogo:Xt,onExit:Ai,styles:Sa,adminPw:L,setAdminPw:q,telegramLink:et,setTelegramLink:R,openIndependent:()=>X(!0),saveToFirebase:bn,syncToFirebase:xn}),!o&&be&&m.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:m.jsx("button",{style:Sa.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Sa={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},EO={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};F2.createRoot(document.getElementById("root")).render(m.jsx(U.StrictMode,{children:m.jsx(SO,{})}));

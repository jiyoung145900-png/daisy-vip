(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yp={exports:{}},lu={};var yx;function B2(){if(yx)return lu;yx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var vx;function z2(){return vx||(vx=1,Yp.exports=B2()),Yp.exports}var y=z2(),Qp={exports:{}},zt={};var _x;function U2(){if(_x)return zt;_x=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),_=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function j(O,q,nt){this.props=O,this.context=q,this.refs=M,this.updater=nt||E}j.prototype.isReactComponent={},j.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=j.prototype;function B(O,q,nt){this.props=O,this.context=q,this.refs=M,this.updater=nt||E}var G=B.prototype=new N;G.constructor=B,C(G,j.prototype),G.isPureReactComponent=!0;var tt=Array.isArray;function J(){}var V={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(O,q,nt){var pt=nt.ref;return{$$typeof:n,type:O,key:q,ref:pt!==void 0?pt:null,props:nt}}function k(O,q){return I(O.type,q,O.props)}function L(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function U(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return q[nt]})}var P=/\/+/g;function Ct(O,q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):q.toString(36)}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(J,J):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,q,nt,pt,vt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Tt=!1;if(O===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(O.$$typeof){case n:case t:Tt=!0;break;case x:return Tt=O._init,W(Tt(O._payload),q,nt,pt,vt)}}if(Tt)return vt=vt(O),Tt=pt===""?"."+Ct(O,0):pt,tt(vt)?(nt="",Tt!=null&&(nt=Tt.replace(P,"$&/")+"/"),W(vt,q,nt,"",function(ne){return ne})):vt!=null&&(L(vt)&&(vt=k(vt,nt+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(P,"$&/")+"/")+Tt)),q.push(vt)),1;Tt=0;var At=pt===""?".":pt+":";if(tt(O))for(var wt=0;wt<O.length;wt++)pt=O[wt],St=At+Ct(pt,wt),Tt+=W(pt,q,nt,St,vt);else if(wt=T(O),typeof wt=="function")for(O=wt.call(O),wt=0;!(pt=O.next()).done;)pt=pt.value,St=At+Ct(pt,wt++),Tt+=W(pt,q,nt,St,vt);else if(St==="object"){if(typeof O.then=="function")return W(Ft(O),q,nt,pt,vt);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function rt(O,q,nt){if(O==null)return O;var pt=[],vt=0;return W(O,pt,"","",function(St){return q.call(nt,St,vt++)}),pt}function Q(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var $=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},at={map:rt,forEach:function(O,q,nt){rt(O,function(){q.apply(this,arguments)},nt)},count:function(O){var q=0;return rt(O,function(){q++}),q},toArray:function(O){return rt(O,function(q){return q})||[]},only:function(O){if(!L(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return zt.Activity=f,zt.Children=at,zt.Component=j,zt.Fragment=e,zt.Profiler=o,zt.PureComponent=B,zt.StrictMode=r,zt.Suspense=m,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,zt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return V.H.useMemoCache(O)}},zt.cache=function(O){return function(){return O.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(O,q,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var pt=C({},O.props),vt=O.key;if(q!=null)for(St in q.key!==void 0&&(vt=""+q.key),q)!R.call(q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&q.ref===void 0||(pt[St]=q[St]);var St=arguments.length-2;if(St===1)pt.children=nt;else if(1<St){for(var Tt=Array(St),At=0;At<St;At++)Tt[At]=arguments[At+2];pt.children=Tt}return I(O.type,vt,pt)},zt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},zt.createElement=function(O,q,nt){var pt,vt={},St=null;if(q!=null)for(pt in q.key!==void 0&&(St=""+q.key),q)R.call(q,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(vt[pt]=q[pt]);var Tt=arguments.length-2;if(Tt===1)vt.children=nt;else if(1<Tt){for(var At=Array(Tt),wt=0;wt<Tt;wt++)At[wt]=arguments[wt+2];vt.children=At}if(O&&O.defaultProps)for(pt in Tt=O.defaultProps,Tt)vt[pt]===void 0&&(vt[pt]=Tt[pt]);return I(O,St,vt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(O){return{$$typeof:p,render:O}},zt.isValidElement=L,zt.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:Q}},zt.memo=function(O,q){return{$$typeof:v,type:O,compare:q===void 0?null:q}},zt.startTransition=function(O){var q=V.T,nt={};V.T=nt;try{var pt=O(),vt=V.S;vt!==null&&vt(nt,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(J,$)}catch(St){$(St)}finally{q!==null&&nt.types!==null&&(q.types=nt.types),V.T=q}},zt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},zt.use=function(O){return V.H.use(O)},zt.useActionState=function(O,q,nt){return V.H.useActionState(O,q,nt)},zt.useCallback=function(O,q){return V.H.useCallback(O,q)},zt.useContext=function(O){return V.H.useContext(O)},zt.useDebugValue=function(){},zt.useDeferredValue=function(O,q){return V.H.useDeferredValue(O,q)},zt.useEffect=function(O,q){return V.H.useEffect(O,q)},zt.useEffectEvent=function(O){return V.H.useEffectEvent(O)},zt.useId=function(){return V.H.useId()},zt.useImperativeHandle=function(O,q,nt){return V.H.useImperativeHandle(O,q,nt)},zt.useInsertionEffect=function(O,q){return V.H.useInsertionEffect(O,q)},zt.useLayoutEffect=function(O,q){return V.H.useLayoutEffect(O,q)},zt.useMemo=function(O,q){return V.H.useMemo(O,q)},zt.useOptimistic=function(O,q){return V.H.useOptimistic(O,q)},zt.useReducer=function(O,q,nt){return V.H.useReducer(O,q,nt)},zt.useRef=function(O){return V.H.useRef(O)},zt.useState=function(O){return V.H.useState(O)},zt.useSyncExternalStore=function(O,q,nt){return V.H.useSyncExternalStore(O,q,nt)},zt.useTransition=function(){return V.H.useTransition()},zt.version="19.2.3",zt}var xx;function bg(){return xx||(xx=1,Qp.exports=U2()),Qp.exports}var H=bg(),Wp={exports:{}},uu={},Kp={exports:{}},Xp={};var bx;function F2(){return bx||(bx=1,(function(n){function t(W,rt){var Q=W.length;W.push(rt);t:for(;0<Q;){var $=Q-1>>>1,at=W[$];if(0<o(at,rt))W[$]=rt,W[Q]=at,Q=$;else break t}}function e(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var rt=W[0],Q=W.pop();if(Q!==rt){W[0]=Q;t:for(var $=0,at=W.length,O=at>>>1;$<O;){var q=2*($+1)-1,nt=W[q],pt=q+1,vt=W[pt];if(0>o(nt,Q))pt<at&&0>o(vt,nt)?(W[$]=vt,W[pt]=Q,$=pt):(W[$]=nt,W[q]=Q,$=q);else if(pt<at&&0>o(vt,Q))W[$]=vt,W[pt]=Q,$=pt;else break t}}return rt}function o(W,rt){var Q=W.sortIndex-rt.sortIndex;return Q!==0?Q:W.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var m=[],v=[],x=1,f=null,_=3,T=!1,E=!1,C=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(W){for(var rt=e(v);rt!==null;){if(rt.callback===null)r(v);else if(rt.startTime<=W)r(v),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=e(v)}}function tt(W){if(C=!1,G(W),!E)if(e(m)!==null)E=!0,J||(J=!0,U());else{var rt=e(v);rt!==null&&Ft(tt,rt.startTime-W)}}var J=!1,V=-1,R=5,I=-1;function k(){return M?!0:!(n.unstable_now()-I<R)}function L(){if(M=!1,J){var W=n.unstable_now();I=W;var rt=!0;try{t:{E=!1,C&&(C=!1,N(V),V=-1),T=!0;var Q=_;try{e:{for(G(W),f=e(m);f!==null&&!(f.expirationTime>W&&k());){var $=f.callback;if(typeof $=="function"){f.callback=null,_=f.priorityLevel;var at=$(f.expirationTime<=W);if(W=n.unstable_now(),typeof at=="function"){f.callback=at,G(W),rt=!0;break e}f===e(m)&&r(m),G(W)}else r(m);f=e(m)}if(f!==null)rt=!0;else{var O=e(v);O!==null&&Ft(tt,O.startTime-W),rt=!1}}break t}finally{f=null,_=Q,T=!1}rt=void 0}}finally{rt?U():J=!1}}}var U;if(typeof B=="function")U=function(){B(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Ct=P.port2;P.port1.onmessage=L,U=function(){Ct.postMessage(null)}}else U=function(){j(L,0)};function Ft(W,rt){V=j(function(){W(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var rt=3;break;default:rt=_}var Q=_;_=rt;try{return W()}finally{_=Q}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=_;_=W;try{return rt()}finally{_=Q}},n.unstable_scheduleCallback=function(W,rt,Q){var $=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?$+Q:$):Q=$,W){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=Q+at,W={id:x++,callback:rt,priorityLevel:W,startTime:Q,expirationTime:at,sortIndex:-1},Q>$?(W.sortIndex=Q,t(v,W),e(m)===null&&W===e(v)&&(C?(N(V),V=-1):C=!0,Ft(tt,Q-$))):(W.sortIndex=at,t(m,W),E||T||(E=!0,J||(J=!0,U()))),W},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(W){var rt=_;return function(){var Q=_;_=rt;try{return W.apply(this,arguments)}finally{_=Q}}}})(Xp)),Xp}var Tx;function H2(){return Tx||(Tx=1,Kp.exports=F2()),Kp.exports}var $p={exports:{}},En={};var Sx;function q2(){if(Sx)return En;Sx=1;var n=bg();function t(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,v,x){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:m,containerInfo:v,implementation:x}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(m,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(m,v,null,x)},En.flushSync=function(m){var v=c.T,x=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=v,r.p=x,r.d.f()}},En.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(m,v))},En.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},En.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var x=v.as,f=p(x,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:f,integrity:_,fetchPriority:T}):x==="script"&&r.d.X(m,{crossOrigin:f,integrity:_,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);r.d.M(m,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(m)},En.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,f=p(x,v.crossOrigin);r.d.L(m,x,{crossOrigin:f,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(m,v){if(typeof m=="string")if(v){var x=p(v.as,v.crossOrigin);r.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(m)},En.requestFormReset=function(m){r.d.r(m)},En.unstable_batchedUpdates=function(m,v){return m(v)},En.useFormState=function(m,v,x){return c.H.useFormState(m,v,x)},En.useFormStatus=function(){return c.H.useHostTransitionStatus()},En.version="19.2.3",En}var Ax;function G2(){if(Ax)return $p.exports;Ax=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$p.exports=q2(),$p.exports}var Ex;function Y2(){if(Ex)return uu;Ex=1;var n=H2(),t=bg(),e=G2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(r(188))}function v(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return m(h),i;if(g===l)return m(h),s;g=g.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=g;else{for(var S=!1,w=h.child;w;){if(w===a){S=!0,a=h,l=g;break}if(w===l){S=!0,l=h,a=g;break}w=w.sibling}if(!S){for(w=g.child;w;){if(w===a){S=!0,a=g,l=h;break}if(w===l){S=!0,l=g,a=h;break}w=w.sibling}if(!S)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function x(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=x(i),s!==null)return s;i=i.sibling}return null}var f=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Ct(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case tt:return"Suspense";case J:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case B:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:Ct(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Ct(i(s))}catch{}}return null}var Ft=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},$=[],at=-1;function O(i){return{current:i}}function q(i){0>at||(i.current=$[at],$[at]=null,at--)}function nt(i,s){at++,$[at]=i.current,i.current=s}var pt=O(null),vt=O(null),St=O(null),Tt=O(null);function At(i,s){switch(nt(St,s),nt(vt,i),nt(pt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?z_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=z_(s),i=U_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(pt),nt(pt,i)}function wt(){q(pt),q(vt),q(St)}function ne(i){i.memoizedState!==null&&nt(Tt,i);var s=pt.current,a=U_(s,i.type);s!==a&&(nt(vt,i),nt(pt,a))}function Ee(i){vt.current===i&&(q(pt),q(vt)),Tt.current===i&&(q(Tt),iu._currentValue=Q)}var nn,ke;function hn(i){if(nn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);nn=s&&s[1]||"",ke=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+i+ke}var oi=!1;function An(i,s){if(!i||oi)return"";oi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(st){var et=st}Reflect.construct(i,[],dt)}else{try{dt.call()}catch(st){et=st}i.call(dt.prototype)}}else{try{throw Error()}catch(st){et=st}(dt=i())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(st){if(st&&et&&typeof st.stack=="string")return[st.stack,et.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),S=g[0],w=g[1];if(S&&w){var z=S.split(`
`),Z=w.split(`
`);for(h=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===z.length||h===Z.length)for(l=z.length-1,h=Z.length-1;1<=l&&0<=h&&z[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(z[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||z[l]!==Z[h]){var lt=`
`+z[l].replace(" at new "," at ");return i.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",i.displayName)),lt}while(1<=l&&0<=h);break}}}finally{oi=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?hn(a):""}function je(i,s){switch(i.tag){case 26:case 27:case 5:return hn(i.type);case 16:return hn("Lazy");case 13:return i.child!==s&&s!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return An(i.type,!1);case 11:return An(i.type.render,!1);case 1:return An(i.type,!0);case 31:return hn("Activity");default:return""}}function li(i){try{var s="",a=null;do s+=je(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Yt=Object.prototype.hasOwnProperty,Ot=n.unstable_scheduleCallback,ot=n.unstable_cancelCallback,gt=n.unstable_shouldYield,ie=n.unstable_requestPaint,Bt=n.unstable_now,te=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,Gi=n.unstable_UserBlockingPriority,$s=n.unstable_NormalPriority,Kd=n.unstable_LowPriority,$u=n.unstable_IdlePriority,Zu=n.log,Ju=n.unstable_setDisableYieldValue,Ri=null,pn=null;function ui(i){if(typeof Zu=="function"&&Ju(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Ri,i)}catch{}}var Le=Math.clz32?Math.clz32:ec,tc=Math.log,Fa=Math.LN2;function ec(i){return i>>>=0,i===0?32:31-(tc(i)/Fa|0)|0}var Yi=256,Kr=262144,He=4194304;function Qi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wi(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var h=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var w=l&134217727;return w!==0?(l=w&~g,l!==0?h=Qi(l):(S&=w,S!==0?h=Qi(S):a||(a=w&~i,a!==0&&(h=Qi(a))))):(w=l&~g,w!==0?h=Qi(w):S!==0?h=Qi(S):a||(a=l&~i,a!==0&&(h=Qi(a)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:h}function Ii(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Xd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function Ki(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Xr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $d(i,s,a,l,h,g){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,z=i.expirationTimes,Z=i.hiddenUpdates;for(a=S&~a;0<a;){var lt=31-Le(a),dt=1<<lt;w[lt]=0,z[lt]=-1;var et=Z[lt];if(et!==null)for(Z[lt]=null,lt=0;lt<et.length;lt++){var st=et[lt];st!==null&&(st.lane&=-536870913)}a&=~dt}l!==0&&$r(i,l,0),g!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~s))}function $r(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-Le(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function ll(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-Le(a),h=1<<l;h&s|i[l]&s&&(i[l]|=s),a&=~h}}function ul(i,s){var a=s&-s;return a=(a&42)!==0?1:Zr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Zr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ic(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:cx(i.type))}function Di(i,s){var a=rt.p;try{return rt.p=i,s()}finally{rt.p=a}}var Vi=Math.random().toString(36).slice(2),qe="__reactFiber$"+Vi,on="__reactProps$"+Vi,Xi="__reactContainer$"+Vi,Ha="__reactEvents$"+Vi,Zd="__reactListeners$"+Vi,sc="__reactHandles$"+Vi,rc="__reactResources$"+Vi,$i="__reactMarker$"+Vi;function qa(i){delete i[qe],delete i[on],delete i[Ha],delete i[Zd],delete i[sc]}function Zi(i){var s=i[qe];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Xi]||a[qe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=W_(i);i!==null;){if(a=i[qe])return a;i=W_(i)}return s}i=a,a=i.parentNode}return null}function ci(i){if(i=i[qe]||i[Xi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Qn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ji(i){var s=i[rc];return s||(s=i[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ge(i){i[$i]=!0}var cl=new Set,fl={};function ts(i,s){es(i,s),es(i+"Capture",s)}function es(i,s){for(fl[i]=s,i=0;i<s.length;i++)cl.add(s[i])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},pl={};function ac(i){return Yt.call(pl,i)?!0:Yt.call(hl,i)?!1:dl.test(i)?pl[i]=!0:(hl[i]=!0,!1)}function Ga(i,s,a){if(ac(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Wn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Ye(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ml(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){a=""+S,g.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function he(i){if(!i._valueTracker){var s=Zs(i)?"checked":"value";i._valueTracker=ml(i,s,""+i[s])}}function Jr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Zs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function ns(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ta=/[\n"\\]/g;function Pn(i){return i.replace(ta,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ya(i,s,a,l,h,g,S,w){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?gl(i,S,ln(s)):a!=null?gl(i,S,ln(a)):l!=null&&i.removeAttribute("value"),h==null&&g!=null&&(i.defaultChecked=!!g),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+ln(w):i.removeAttribute("name")}function oc(i,s,a,l,h,g,S,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){he(i);return}a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,w||s===i.value||(i.value=s),i.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=w?i.checked:!!l,i.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),he(i)}function gl(i,s,a){s==="number"&&ns(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Js(i,s,a,l){if(i=i.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=s.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function lc(i,s,a){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ln(a):""}function tr(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ln(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),he(i)}function kn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||uc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function vl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&yl(i,h,l)}else for(var g in s)s.hasOwnProperty(g)&&yl(i,g,s[g])}function Qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(i){return er.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ji(){}var _l=null;function fi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nr=null,is=null;function ea(i){var s=ci(i);if(s&&(i=s.stateNode)){var a=i[on]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ya(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var h=l[on]||null;if(!h)throw Error(r(90));Ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Jr(l)}break t;case"textarea":lc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Js(i,!!a.multiple,s,!1)}}}var Ka=!1;function ir(i,s,a){if(Ka)return i(s,a);Ka=!0;try{var l=i(s);return l}finally{if(Ka=!1,(nr!==null||is!==null)&&(sf(),nr&&(s=nr,i=is,is=nr=null,ea(s),i)))for(s=0;s<i.length;s++)ea(i[s])}}function Mi(i,s){var a=i.stateNode;if(a===null)return null;var l=a[on]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(di)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){na=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{na=!1}var ss=null,xl=null,ia=null;function bl(){if(ia)return ia;var i,s=xl,a=s.length,l,h="value"in ss?ss.value:ss.textContent,g=h.length;for(i=0;i<a&&s[i]===h[i];i++);var S=a-i;for(l=1;l<=S&&s[a-l]===h[g-l];l++);return ia=h.slice(i,1<l?1-l:void 0)}function sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function As(){return!0}function Oi(){return!1}function mn(i){function s(a,l,h,g,S){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?As:Oi,this.isPropagationStopped=Oi,this}return f(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),s}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=mn(Es),sr=f({},Es,{view:0,detail:0}),Tl=mn(sr),rr,Xa,as,$a=f({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(rr=i.screenX-as.screenX,Xa=i.screenY-as.screenY):Xa=rr=0,as=i),rr)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Sl=mn($a),ra=f({},$a,{dataTransfer:0}),fc=mn(ra),dc=f({},sr,{relatedTarget:0}),aa=mn(dc),Al=f({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=mn(Al),Za=f({},Es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pc=mn(Za),mc=f({},Es,{data:0}),os=mn(mc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=vc[i])?!!s[i]:!1}function ar(){return _c}var Vn=f({},sr,{key:function(i){if(i.key){var s=gc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(i){return i.type==="keypress"?sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xc=mn(Vn),bc=f({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=mn(bc),d=f({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),b=mn(d),A=f({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=mn(A),K=f({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),it=mn(K),mt=f({},Es,{newState:0,oldState:0}),Ht=mn(mt),Be=[9,13,27,32],le=di&&"CompositionEvent"in window,we=null;di&&"documentMode"in document&&(we=document.documentMode);var hi=di&&"TextEvent"in window&&!we,ls=di&&(!le||we&&8<we&&11>=we),Ni=" ",Pi=!1;function oa(i,s){switch(i){case"keyup":return Be.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var to=!1;function uw(i,s){switch(i){case"compositionend":return Ja(s);case"keypress":return s.which!==32?null:(Pi=!0,Ni);case"textInput":return i=s.data,i===Ni&&Pi?null:i;default:return null}}function cw(i,s){if(to)return i==="compositionend"||!le&&oa(i,s)?(i=bl(),ia=xl=ss=null,to=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ls&&s.locale!=="ko"?null:s.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!fw[i.type]:s==="textarea"}function Zy(i,s,a,l){nr?is?is.push(l):is=[l]:nr=l,s=ff(s,"onChange"),0<s.length&&(a=new rs("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var El=null,wl=null;function dw(i){O_(i,0)}function Tc(i){var s=Qn(i);if(Jr(s))return i}function Jy(i,s){if(i==="change")return s}var t0=!1;if(di){var Jd;if(di){var th="oninput"in document;if(!th){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),th=typeof e0.oninput=="function"}Jd=th}else Jd=!1;t0=Jd&&(!document.documentMode||9<document.documentMode)}function n0(){El&&(El.detachEvent("onpropertychange",i0),wl=El=null)}function i0(i){if(i.propertyName==="value"&&Tc(wl)){var s=[];Zy(s,wl,i,fi(i)),ir(dw,s)}}function hw(i,s,a){i==="focusin"?(n0(),El=s,wl=a,El.attachEvent("onpropertychange",i0)):i==="focusout"&&n0()}function pw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tc(wl)}function mw(i,s){if(i==="click")return Tc(s)}function gw(i,s){if(i==="input"||i==="change")return Tc(s)}function yw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kn=typeof Object.is=="function"?Object.is:yw;function Cl(i,s){if(Kn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Yt.call(s,h)||!Kn(i[h],s[h]))return!1}return!0}function s0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function r0(i,s){var a=s0(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=s0(a)}}function a0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?a0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function o0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ns(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=ns(i.document)}return s}function eh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var vw=di&&"documentMode"in document&&11>=document.documentMode,eo=null,nh=null,Rl=null,ih=!1;function l0(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||eo==null||eo!==ns(l)||(l=eo,"selectionStart"in l&&eh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&Cl(Rl,l)||(Rl=l,l=ff(nh,"onSelect"),0<l.length&&(s=new rs("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=eo)))}function la(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var no={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},sh={},u0={};di&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function ua(i){if(sh[i])return sh[i];if(!no[i])return i;var s=no[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in u0)return sh[i]=s[a];return i}var c0=ua("animationend"),f0=ua("animationiteration"),d0=ua("animationstart"),_w=ua("transitionrun"),xw=ua("transitionstart"),bw=ua("transitioncancel"),h0=ua("transitionend"),p0=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function ki(i,s){p0.set(i,s),ts(s,[i])}var Sc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},pi=[],io=0,ah=0;function Ac(){for(var i=io,s=ah=io=0;s<i;){var a=pi[s];pi[s++]=null;var l=pi[s];pi[s++]=null;var h=pi[s];pi[s++]=null;var g=pi[s];if(pi[s++]=null,l!==null&&h!==null){var S=l.pending;S===null?h.next=h:(h.next=S.next,S.next=h),l.pending=h}g!==0&&m0(a,h,g)}}function Ec(i,s,a,l){pi[io++]=i,pi[io++]=s,pi[io++]=a,pi[io++]=l,ah|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function oh(i,s,a,l){return Ec(i,s,a,l),wc(i)}function ca(i,s){return Ec(i,null,null,s),wc(i)}function m0(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,g=i.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(h=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,h&&s!==null&&(h=31-Le(a),i=g.hiddenUpdates,l=i[h],l===null?i[h]=[s]:l.push(s),s.lane=a|536870912),g):null}function wc(i){if(50<Xl)throw Xl=0,gp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var so={};function Tw(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,s,a,l){return new Tw(i,s,a,l)}function lh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,s){var a=i.alternate;return a===null?(a=Xn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function g0(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Cc(i,s,a,l,h,g){var S=0;if(l=i,typeof i=="function")lh(i)&&(S=1);else if(typeof i=="string")S=C2(i,a,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Xn(31,a,s,h),i.elementType=I,i.lanes=g,i;case C:return fa(a.children,h,g,s);case M:S=8,h|=24;break;case j:return i=Xn(12,a,s,h|2),i.elementType=j,i.lanes=g,i;case tt:return i=Xn(13,a,s,h),i.elementType=tt,i.lanes=g,i;case J:return i=Xn(19,a,s,h),i.elementType=J,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:S=10;break t;case N:S=9;break t;case G:S=11;break t;case V:S=14;break t;case R:S=16,l=null;break t}S=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Xn(S,a,s,h),s.elementType=i,s.type=l,s.lanes=g,s}function fa(i,s,a,l){return i=Xn(7,i,l,s),i.lanes=a,i}function uh(i,s,a){return i=Xn(6,i,null,s),i.lanes=a,i}function y0(i){var s=Xn(18,null,null,0);return s.stateNode=i,s}function ch(i,s,a){return s=Xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var v0=new WeakMap;function mi(i,s){if(typeof i=="object"&&i!==null){var a=v0.get(i);return a!==void 0?a:(s={value:i,source:s,stack:li(s)},v0.set(i,s),s)}return{value:i,source:s,stack:li(s)}}var ro=[],ao=0,Rc=null,Il=0,gi=[],yi=0,or=null,us=1,cs="";function Rs(i,s){ro[ao++]=Il,ro[ao++]=Rc,Rc=i,Il=s}function _0(i,s,a){gi[yi++]=us,gi[yi++]=cs,gi[yi++]=or,or=i;var l=us;i=cs;var h=32-Le(l)-1;l&=~(1<<h),a+=1;var g=32-Le(s)+h;if(30<g){var S=h-h%5;g=(l&(1<<S)-1).toString(32),l>>=S,h-=S,us=1<<32-Le(s)+h|a<<h|l,cs=g+i}else us=1<<g|a<<h|l,cs=i}function fh(i){i.return!==null&&(Rs(i,1),_0(i,1,0))}function dh(i){for(;i===Rc;)Rc=ro[--ao],ro[ao]=null,Il=ro[--ao],ro[ao]=null;for(;i===or;)or=gi[--yi],gi[yi]=null,cs=gi[--yi],gi[yi]=null,us=gi[--yi],gi[yi]=null}function x0(i,s){gi[yi++]=us,gi[yi++]=cs,gi[yi++]=or,us=s.id,cs=s.overflow,or=i}var gn=null,Te=null,ee=!1,lr=null,vi=!1,hh=Error(r(519));function ur(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(mi(s,i)),hh}function b0(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[qe]=i,s[on]=l,a){case"dialog":Kt("cancel",s),Kt("close",s);break;case"iframe":case"object":case"embed":Kt("load",s);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Kt(Zl[a],s);break;case"source":Kt("error",s);break;case"img":case"image":case"link":Kt("error",s),Kt("load",s);break;case"details":Kt("toggle",s);break;case"input":Kt("invalid",s),oc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Kt("invalid",s);break;case"textarea":Kt("invalid",s),tr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||L_(s.textContent,a)?(l.popover!=null&&(Kt("beforetoggle",s),Kt("toggle",s)),l.onScroll!=null&&Kt("scroll",s),l.onScrollEnd!=null&&Kt("scrollend",s),l.onClick!=null&&(s.onclick=ji),s=!0):s=!1,s||ur(i,!0)}function T0(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:gn=gn.return}}function oo(i){if(i!==gn)return!1;if(!ee)return T0(i),ee=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Vp(i.type,i.memoizedProps)),a=!a),a&&Te&&ur(i),T0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Te=Q_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Te=Q_(i)}else s===27?(s=Te,Sr(i.type)?(i=Pp,Pp=null,Te=i):Te=s):Te=gn?xi(i.stateNode.nextSibling):null;return!0}function da(){Te=gn=null,ee=!1}function ph(){var i=lr;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),lr=null),i}function Dl(i){lr===null?lr=[i]:lr.push(i)}var mh=O(null),ha=null,Is=null;function cr(i,s,a){nt(mh,s._currentValue),s._currentValue=a}function Ds(i){i._currentValue=mh.current,q(mh)}function gh(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function yh(i,s,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){var S=h.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=h;for(var z=0;z<s.length;z++)if(w.context===s[z]){g.lanes|=a,w=g.alternate,w!==null&&(w.lanes|=a),gh(g.return,a,i),l||(S=null);break t}g=w.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(r(341));S.lanes|=a,g=S.alternate,g!==null&&(g.lanes|=a),gh(S,a,i),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===i){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function lo(i,s,a,l){i=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var w=h.type;Kn(h.pendingProps.value,S.value)||(i!==null?i.push(w):i=[w])}}else if(h===Tt.current){if(S=h.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(iu):i=[iu])}h=h.return}i!==null&&yh(s,i,a,l),s.flags|=262144}function Ic(i){for(i=i.firstContext;i!==null;){if(!Kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pa(i){ha=i,Is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return S0(ha,i)}function Dc(i,s){return ha===null&&pa(i),S0(i,s)}function S0(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Is===null){if(i===null)throw Error(r(308));Is=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Is=Is.next=s;return a}var Sw=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},Aw=n.unstable_scheduleCallback,Ew=n.unstable_NormalPriority,Qe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new Sw,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&Aw(Ew,function(){i.controller.abort()})}var jl=null,_h=0,uo=0,co=null;function ww(i,s){if(jl===null){var a=jl=[];_h=0,uo=Tp(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _h++,s.then(A0,A0),s}function A0(){if(--_h===0&&jl!==null){co!==null&&(co.status="fulfilled");var i=jl;jl=null,uo=0,co=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Cw(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var E0=W.S;W.S=function(i,s){l_=Bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ww(i,s),E0!==null&&E0(i,s)};var ma=O(null);function xh(){var i=ma.current;return i!==null?i:xe.pooledCache}function Vc(i,s){s===null?nt(ma,ma.current):nt(ma,s.pool)}function w0(){var i=xh();return i===null?null:{parent:Qe._currentValue,pool:i}}var fo=Error(r(460)),bh=Error(r(474)),jc=Error(r(542)),Mc={then:function(){}};function C0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function R0(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(ji,ji),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,D0(i),i;default:if(typeof s.status=="string")s.then(ji,ji);else{if(i=xe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,D0(i),i}throw ya=s,fo}}function ga(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,fo):a}}var ya=null;function I0(){if(ya===null)throw Error(r(459));var i=ya;return ya=null,i}function D0(i){if(i===fo||i===jc)throw Error(r(483))}var ho=null,Ml=0;function Oc(i){var s=Ml;return Ml+=1,ho===null&&(ho=[]),R0(ho,i,s)}function Ol(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Nc(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function V0(i){function s(Y,F){if(i){var X=Y.deletions;X===null?(Y.deletions=[F],Y.flags|=16):X.push(F)}}function a(Y,F){if(!i)return null;for(;F!==null;)s(Y,F),F=F.sibling;return null}function l(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function h(Y,F){return Y=Cs(Y,F),Y.index=0,Y.sibling=null,Y}function g(Y,F,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<F?(Y.flags|=67108866,F):X):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function S(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function w(Y,F,X,ut){return F===null||F.tag!==6?(F=uh(X,Y.mode,ut),F.return=Y,F):(F=h(F,X),F.return=Y,F)}function z(Y,F,X,ut){var Rt=X.type;return Rt===C?lt(Y,F,X.props.children,ut,X.key):F!==null&&(F.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===R&&ga(Rt)===F.type)?(F=h(F,X.props),Ol(F,X),F.return=Y,F):(F=Cc(X.type,X.key,X.props,null,Y.mode,ut),Ol(F,X),F.return=Y,F)}function Z(Y,F,X,ut){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=ch(X,Y.mode,ut),F.return=Y,F):(F=h(F,X.children||[]),F.return=Y,F)}function lt(Y,F,X,ut,Rt){return F===null||F.tag!==7?(F=fa(X,Y.mode,ut,Rt),F.return=Y,F):(F=h(F,X),F.return=Y,F)}function dt(Y,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=uh(""+F,Y.mode,X),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return X=Cc(F.type,F.key,F.props,null,Y.mode,X),Ol(X,F),X.return=Y,X;case E:return F=ch(F,Y.mode,X),F.return=Y,F;case R:return F=ga(F),dt(Y,F,X)}if(Ft(F)||U(F))return F=fa(F,Y.mode,X,null),F.return=Y,F;if(typeof F.then=="function")return dt(Y,Oc(F),X);if(F.$$typeof===B)return dt(Y,Dc(Y,F),X);Nc(Y,F)}return null}function et(Y,F,X,ut){var Rt=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Rt!==null?null:w(Y,F,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===Rt?z(Y,F,X,ut):null;case E:return X.key===Rt?Z(Y,F,X,ut):null;case R:return X=ga(X),et(Y,F,X,ut)}if(Ft(X)||U(X))return Rt!==null?null:lt(Y,F,X,ut,null);if(typeof X.then=="function")return et(Y,F,Oc(X),ut);if(X.$$typeof===B)return et(Y,F,Dc(Y,X),ut);Nc(Y,X)}return null}function st(Y,F,X,ut,Rt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Y=Y.get(X)||null,w(F,Y,""+ut,Rt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case T:return Y=Y.get(ut.key===null?X:ut.key)||null,z(F,Y,ut,Rt);case E:return Y=Y.get(ut.key===null?X:ut.key)||null,Z(F,Y,ut,Rt);case R:return ut=ga(ut),st(Y,F,X,ut,Rt)}if(Ft(ut)||U(ut))return Y=Y.get(X)||null,lt(F,Y,ut,Rt,null);if(typeof ut.then=="function")return st(Y,F,X,Oc(ut),Rt);if(ut.$$typeof===B)return st(Y,F,X,Dc(F,ut),Rt);Nc(F,ut)}return null}function bt(Y,F,X,ut){for(var Rt=null,ae=null,Et=F,Gt=F=0,$t=null;Et!==null&&Gt<X.length;Gt++){Et.index>Gt?($t=Et,Et=null):$t=Et.sibling;var oe=et(Y,Et,X[Gt],ut);if(oe===null){Et===null&&(Et=$t);break}i&&Et&&oe.alternate===null&&s(Y,Et),F=g(oe,F,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe,Et=$t}if(Gt===X.length)return a(Y,Et),ee&&Rs(Y,Gt),Rt;if(Et===null){for(;Gt<X.length;Gt++)Et=dt(Y,X[Gt],ut),Et!==null&&(F=g(Et,F,Gt),ae===null?Rt=Et:ae.sibling=Et,ae=Et);return ee&&Rs(Y,Gt),Rt}for(Et=l(Et);Gt<X.length;Gt++)$t=st(Et,Y,Gt,X[Gt],ut),$t!==null&&(i&&$t.alternate!==null&&Et.delete($t.key===null?Gt:$t.key),F=g($t,F,Gt),ae===null?Rt=$t:ae.sibling=$t,ae=$t);return i&&Et.forEach(function(Rr){return s(Y,Rr)}),ee&&Rs(Y,Gt),Rt}function Dt(Y,F,X,ut){if(X==null)throw Error(r(151));for(var Rt=null,ae=null,Et=F,Gt=F=0,$t=null,oe=X.next();Et!==null&&!oe.done;Gt++,oe=X.next()){Et.index>Gt?($t=Et,Et=null):$t=Et.sibling;var Rr=et(Y,Et,oe.value,ut);if(Rr===null){Et===null&&(Et=$t);break}i&&Et&&Rr.alternate===null&&s(Y,Et),F=g(Rr,F,Gt),ae===null?Rt=Rr:ae.sibling=Rr,ae=Rr,Et=$t}if(oe.done)return a(Y,Et),ee&&Rs(Y,Gt),Rt;if(Et===null){for(;!oe.done;Gt++,oe=X.next())oe=dt(Y,oe.value,ut),oe!==null&&(F=g(oe,F,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe);return ee&&Rs(Y,Gt),Rt}for(Et=l(Et);!oe.done;Gt++,oe=X.next())oe=st(Et,Y,Gt,oe.value,ut),oe!==null&&(i&&oe.alternate!==null&&Et.delete(oe.key===null?Gt:oe.key),F=g(oe,F,Gt),ae===null?Rt=oe:ae.sibling=oe,ae=oe);return i&&Et.forEach(function(L2){return s(Y,L2)}),ee&&Rs(Y,Gt),Rt}function _e(Y,F,X,ut){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:t:{for(var Rt=X.key;F!==null;){if(F.key===Rt){if(Rt=X.type,Rt===C){if(F.tag===7){a(Y,F.sibling),ut=h(F,X.props.children),ut.return=Y,Y=ut;break t}}else if(F.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===R&&ga(Rt)===F.type){a(Y,F.sibling),ut=h(F,X.props),Ol(ut,X),ut.return=Y,Y=ut;break t}a(Y,F);break}else s(Y,F);F=F.sibling}X.type===C?(ut=fa(X.props.children,Y.mode,ut,X.key),ut.return=Y,Y=ut):(ut=Cc(X.type,X.key,X.props,null,Y.mode,ut),Ol(ut,X),ut.return=Y,Y=ut)}return S(Y);case E:t:{for(Rt=X.key;F!==null;){if(F.key===Rt)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){a(Y,F.sibling),ut=h(F,X.children||[]),ut.return=Y,Y=ut;break t}else{a(Y,F);break}else s(Y,F);F=F.sibling}ut=ch(X,Y.mode,ut),ut.return=Y,Y=ut}return S(Y);case R:return X=ga(X),_e(Y,F,X,ut)}if(Ft(X))return bt(Y,F,X,ut);if(U(X)){if(Rt=U(X),typeof Rt!="function")throw Error(r(150));return X=Rt.call(X),Dt(Y,F,X,ut)}if(typeof X.then=="function")return _e(Y,F,Oc(X),ut);if(X.$$typeof===B)return _e(Y,F,Dc(Y,X),ut);Nc(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(a(Y,F.sibling),ut=h(F,X),ut.return=Y,Y=ut):(a(Y,F),ut=uh(X,Y.mode,ut),ut.return=Y,Y=ut),S(Y)):a(Y,F)}return function(Y,F,X,ut){try{Ml=0;var Rt=_e(Y,F,X,ut);return ho=null,Rt}catch(Et){if(Et===fo||Et===jc)throw Et;var ae=Xn(29,Et,null,Y.mode);return ae.lanes=ut,ae.return=Y,ae}}}var va=V0(!0),j0=V0(!1),fr=!1;function Th(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function dr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hr(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(ue&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=wc(i),m0(i,null,a),s}return Ec(i,l,s,a),wc(i)}function Nl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,ll(i,a)}}function Ah(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?h=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?h=g=s:g=g.next=s}else h=g=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Eh=!1;function Pl(){if(Eh){var i=co;if(i!==null)throw i}}function kl(i,s,a,l){Eh=!1;var h=i.updateQueue;fr=!1;var g=h.firstBaseUpdate,S=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var z=w,Z=z.next;z.next=null,S===null?g=Z:S.next=Z,S=z;var lt=i.alternate;lt!==null&&(lt=lt.updateQueue,w=lt.lastBaseUpdate,w!==S&&(w===null?lt.firstBaseUpdate=Z:w.next=Z,lt.lastBaseUpdate=z))}if(g!==null){var dt=h.baseState;S=0,lt=Z=z=null,w=g;do{var et=w.lane&-536870913,st=et!==w.lane;if(st?(Xt&et)===et:(l&et)===et){et!==0&&et===uo&&(Eh=!0),lt!==null&&(lt=lt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=i,Dt=w;et=s;var _e=a;switch(Dt.tag){case 1:if(bt=Dt.payload,typeof bt=="function"){dt=bt.call(_e,dt,et);break t}dt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Dt.payload,et=typeof bt=="function"?bt.call(_e,dt,et):bt,et==null)break t;dt=f({},dt,et);break t;case 2:fr=!0}}et=w.callback,et!==null&&(i.flags|=64,st&&(i.flags|=8192),st=h.callbacks,st===null?h.callbacks=[et]:st.push(et))}else st={lane:et,tag:w.tag,payload:w.payload,callback:w.callback,next:null},lt===null?(Z=lt=st,z=dt):lt=lt.next=st,S|=et;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;st=w,w=st.next,st.next=null,h.lastBaseUpdate=st,h.shared.pending=null}}while(!0);lt===null&&(z=dt),h.baseState=z,h.firstBaseUpdate=Z,h.lastBaseUpdate=lt,g===null&&(h.shared.lanes=0),vr|=S,i.lanes=S,i.memoizedState=dt}}function M0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function O0(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)M0(a[i],s)}var po=O(null),Pc=O(0);function N0(i,s){i=Bs,nt(Pc,i),nt(po,s),Bs=i|s.baseLanes}function wh(){nt(Pc,Bs),nt(po,po.current)}function Ch(){Bs=Pc.current,q(po),q(Pc)}var $n=O(null),_i=null;function pr(i){var s=i.alternate;nt(ze,ze.current&1),nt($n,i),_i===null&&(s===null||po.current!==null||s.memoizedState!==null)&&(_i=i)}function Rh(i){nt(ze,ze.current),nt($n,i),_i===null&&(_i=i)}function P0(i){i.tag===22?(nt(ze,ze.current),nt($n,i),_i===null&&(_i=i)):mr()}function mr(){nt(ze,ze.current),nt($n,$n.current)}function Zn(i){q($n),_i===i&&(_i=null),q(ze)}var ze=O(0);function kc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Op(a)||Np(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vs=0,qt=null,ye=null,We=null,Lc=!1,mo=!1,_a=!1,Bc=0,Ll=0,go=null,Rw=0;function Me(){throw Error(r(321))}function Ih(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Kn(i[a],s[a]))return!1;return!0}function Dh(i,s,a,l,h,g){return Vs=g,qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?_v:Gh,_a=!1,g=a(l,h),_a=!1,mo&&(g=L0(s,a,l,h)),k0(i),g}function k0(i){W.H=Ul;var s=ye!==null&&ye.next!==null;if(Vs=0,We=ye=qt=null,Lc=!1,Ll=0,go=null,s)throw Error(r(300));i===null||Ke||(i=i.dependencies,i!==null&&Ic(i)&&(Ke=!0))}function L0(i,s,a,l){qt=i;var h=0;do{if(mo&&(go=null),Ll=0,mo=!1,25<=h)throw Error(r(301));if(h+=1,We=ye=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=xv,g=s(a,l)}while(mo);return g}function Iw(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Bl(s):s,i=i.useState()[0],(ye!==null?ye.memoizedState:null)!==i&&(qt.flags|=1024),s}function Vh(){var i=Bc!==0;return Bc=0,i}function jh(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Mh(i){if(Lc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Lc=!1}Vs=0,We=ye=qt=null,mo=!1,Ll=Bc=0,go=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?qt.memoizedState=We=i:We=We.next=i,We}function Ue(){if(ye===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=ye.next;var s=We===null?qt.memoizedState:We.next;if(s!==null)We=s,ye=i;else{if(i===null)throw qt.alternate===null?Error(r(467)):Error(r(310));ye=i,i={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},We===null?qt.memoizedState=We=i:We=We.next=i}return We}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(i){var s=Ll;return Ll+=1,go===null&&(go=[]),i=R0(go,i,s),s=qt,(We===null?s.memoizedState:We.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?_v:Gh),i}function Uc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bl(i);if(i.$$typeof===B)return yn(i)}throw Error(r(438,String(i)))}function Oh(i){var s=null,a=qt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=qt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zc(),qt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=k;return s.index++,a}function js(i,s){return typeof s=="function"?s(i):s}function Fc(i){var s=Ue();return Nh(s,ye,i)}function Nh(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=i.baseQueue,g=l.pending;if(g!==null){if(h!==null){var S=h.next;h.next=g.next,g.next=S}s.baseQueue=h=g,l.pending=null}if(g=i.baseState,h===null)i.memoizedState=g;else{s=h.next;var w=S=null,z=null,Z=s,lt=!1;do{var dt=Z.lane&-536870913;if(dt!==Z.lane?(Xt&dt)===dt:(Vs&dt)===dt){var et=Z.revertLane;if(et===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),dt===uo&&(lt=!0);else if((Vs&et)===et){Z=Z.next,et===uo&&(lt=!0);continue}else dt={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=dt,S=g):z=z.next=dt,qt.lanes|=et,vr|=et;dt=Z.action,_a&&a(g,dt),g=Z.hasEagerState?Z.eagerState:a(g,dt)}else et={lane:dt,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(w=z=et,S=g):z=z.next=et,qt.lanes|=dt,vr|=dt;Z=Z.next}while(Z!==null&&Z!==s);if(z===null?S=g:z.next=w,!Kn(g,i.memoizedState)&&(Ke=!0,lt&&(a=co,a!==null)))throw a;i.memoizedState=g,i.baseState=S,i.baseQueue=z,l.lastRenderedState=g}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Ph(i){var s=Ue(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,g=s.memoizedState;if(h!==null){a.pending=null;var S=h=h.next;do g=i(g,S.action),S=S.next;while(S!==h);Kn(g,s.memoizedState)||(Ke=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,l]}function B0(i,s,a){var l=qt,h=Ue(),g=ee;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=s();var S=!Kn((ye||h).memoizedState,a);if(S&&(h.memoizedState=a,Ke=!0),h=h.queue,Bh(F0.bind(null,l,h,i),[i]),h.getSnapshot!==s||S||We!==null&&We.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},U0.bind(null,l,h,a,s),null),xe===null)throw Error(r(349));g||(Vs&127)!==0||z0(l,s,a)}return a}function z0(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=qt.updateQueue,s===null?(s=zc(),qt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function U0(i,s,a,l){s.value=a,s.getSnapshot=l,H0(s)&&q0(i)}function F0(i,s,a){return a(function(){H0(s)&&q0(i)})}function H0(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Kn(i,a)}catch{return!0}}function q0(i){var s=ca(i,2);s!==null&&Fn(s,i,2)}function kh(i){var s=jn();if(typeof i=="function"){var a=i;if(i=a(),_a){ui(!0);try{a()}finally{ui(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:i},s}function G0(i,s,a,l){return i.baseState=a,Nh(i,ye,typeof l=="function"?l:js)}function Dw(i,s,a,l,h){if(Gc(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};W.T!==null?a(!0):g.isTransition=!1,l(g),a=s.pending,a===null?(g.next=s.pending=g,Y0(s,g)):(g.next=a.next,s.pending=a.next=g)}}function Y0(i,s){var a=s.action,l=s.payload,h=i.state;if(s.isTransition){var g=W.T,S={};W.T=S;try{var w=a(h,l),z=W.S;z!==null&&z(S,w),Q0(i,s,w)}catch(Z){Lh(i,s,Z)}finally{g!==null&&S.types!==null&&(g.types=S.types),W.T=g}}else try{g=a(h,l),Q0(i,s,g)}catch(Z){Lh(i,s,Z)}}function Q0(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){W0(i,s,l)},function(l){return Lh(i,s,l)}):W0(i,s,a)}function W0(i,s,a){s.status="fulfilled",s.value=a,K0(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,Y0(i,a)))}function Lh(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,K0(s),s=s.next;while(s!==l)}i.action=null}function K0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function X0(i,s){return s}function $0(i,s){if(ee){var a=xe.formState;if(a!==null){t:{var l=qt;if(ee){if(Te){e:{for(var h=Te,g=vi;h.nodeType!==8;){if(!g){h=null;break e}if(h=xi(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Te=xi(h.nextSibling),l=h.data==="F!";break t}}ur(l)}l=!1}l&&(s=a[0])}}return a=jn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:s},a.queue=l,a=gv.bind(null,qt,l),l.dispatch=a,l=kh(!1),g=qh.bind(null,qt,!1,l.queue),l=jn(),h={state:s,dispatch:null,action:i,pending:null},l.queue=h,a=Dw.bind(null,qt,h,g,a),h.dispatch=a,l.memoizedState=i,[s,a,!1]}function Z0(i){var s=Ue();return J0(s,ye,i)}function J0(i,s,a){if(s=Nh(i,s,X0)[0],i=Fc(js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Bl(s)}catch(S){throw S===fo?jc:S}else l=s;s=Ue();var h=s.queue,g=h.dispatch;return a!==s.memoizedState&&(qt.flags|=2048,yo(9,{destroy:void 0},Vw.bind(null,h,a),null)),[l,g,i]}function Vw(i,s){i.action=s}function tv(i){var s=Ue(),a=ye;if(a!==null)return J0(s,a,i);Ue(),s=s.memoizedState,a=Ue();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function yo(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=qt.updateQueue,s===null&&(s=zc(),qt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function ev(){return Ue().memoizedState}function Hc(i,s,a,l){var h=jn();qt.flags|=i,h.memoizedState=yo(1|s,{destroy:void 0},a,l===void 0?null:l)}function qc(i,s,a,l){var h=Ue();l=l===void 0?null:l;var g=h.memoizedState.inst;ye!==null&&l!==null&&Ih(l,ye.memoizedState.deps)?h.memoizedState=yo(s,g,a,l):(qt.flags|=i,h.memoizedState=yo(1|s,g,a,l))}function nv(i,s){Hc(8390656,8,i,s)}function Bh(i,s){qc(2048,8,i,s)}function jw(i){qt.flags|=4;var s=qt.updateQueue;if(s===null)s=zc(),qt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function iv(i){var s=Ue().memoizedState;return jw({ref:s,nextImpl:i}),function(){if((ue&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function sv(i,s){return qc(4,2,i,s)}function rv(i,s){return qc(4,4,i,s)}function av(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ov(i,s,a){a=a!=null?a.concat([i]):null,qc(4,4,av.bind(null,s,i),a)}function zh(){}function lv(i,s){var a=Ue();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ih(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function uv(i,s){var a=Ue();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ih(s,l[1]))return l[0];if(l=i(),_a){ui(!0);try{i()}finally{ui(!1)}}return a.memoizedState=[l,s],l}function Uh(i,s,a){return a===void 0||(Vs&1073741824)!==0&&(Xt&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=c_(),qt.lanes|=i,vr|=i,a)}function cv(i,s,a,l){return Kn(a,s)?a:po.current!==null?(i=Uh(i,a,l),Kn(i,s)||(Ke=!0),i):(Vs&42)===0||(Vs&1073741824)!==0&&(Xt&261930)===0?(Ke=!0,i.memoizedState=a):(i=c_(),qt.lanes|=i,vr|=i,s)}function fv(i,s,a,l,h){var g=rt.p;rt.p=g!==0&&8>g?g:8;var S=W.T,w={};W.T=w,qh(i,!1,s,a);try{var z=h(),Z=W.S;if(Z!==null&&Z(w,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var lt=Cw(z,l);zl(i,s,lt,ei(i))}else zl(i,s,l,ei(i))}catch(dt){zl(i,s,{then:function(){},status:"rejected",reason:dt},ei())}finally{rt.p=g,S!==null&&w.types!==null&&(S.types=w.types),W.T=S}}function Mw(){}function Fh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var h=dv(i).queue;fv(i,h,s,Q,a===null?Mw:function(){return hv(i),a(l)})}function dv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:Q},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function hv(i){var s=dv(i);s.next===null&&(s=i.alternate.memoizedState),zl(i,s.next.queue,{},ei())}function Hh(){return yn(iu)}function pv(){return Ue().memoizedState}function mv(){return Ue().memoizedState}function Ow(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=ei();i=dr(a);var l=hr(s,i,a);l!==null&&(Fn(l,s,a),Nl(l,s,a)),s={cache:vh()},i.payload=s;return}s=s.return}}function Nw(i,s,a){var l=ei();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gc(i)?yv(s,a):(a=oh(i,s,a,l),a!==null&&(Fn(a,i,l),vv(a,s,l)))}function gv(i,s,a){var l=ei();zl(i,s,a,l)}function zl(i,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gc(i))yv(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,w=g(S,a);if(h.hasEagerState=!0,h.eagerState=w,Kn(w,S))return Ec(i,s,h,0),xe===null&&Ac(),!1}catch{}if(a=oh(i,s,h,l),a!==null)return Fn(a,i,l),vv(a,s,l),!0}return!1}function qh(i,s,a,l){if(l={lane:2,revertLane:Tp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gc(i)){if(s)throw Error(r(479))}else s=oh(i,a,l,2),s!==null&&Fn(s,i,2)}function Gc(i){var s=i.alternate;return i===qt||s!==null&&s===qt}function yv(i,s){mo=Lc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function vv(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,ll(i,a)}}var Ul={readContext:yn,use:Uc,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Ul.useEffectEvent=Me;var _v={readContext:yn,use:Uc,useCallback:function(i,s){return jn().memoizedState=[i,s===void 0?null:s],i},useContext:yn,useEffect:nv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Hc(4194308,4,av.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Hc(4194308,4,i,s)},useInsertionEffect:function(i,s){Hc(4,2,i,s)},useMemo:function(i,s){var a=jn();s=s===void 0?null:s;var l=i();if(_a){ui(!0);try{i()}finally{ui(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=jn();if(a!==void 0){var h=a(s);if(_a){ui(!0);try{a(s)}finally{ui(!1)}}}else h=s;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=Nw.bind(null,qt,i),[l.memoizedState,i]},useRef:function(i){var s=jn();return i={current:i},s.memoizedState=i},useState:function(i){i=kh(i);var s=i.queue,a=gv.bind(null,qt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:zh,useDeferredValue:function(i,s){var a=jn();return Uh(a,i,s)},useTransition:function(){var i=kh(!1);return i=fv.bind(null,qt,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=qt,h=jn();if(ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),xe===null)throw Error(r(349));(Xt&127)!==0||z0(l,s,a)}h.memoizedState=a;var g={value:a,getSnapshot:s};return h.queue=g,nv(F0.bind(null,l,g,i),[i]),l.flags|=2048,yo(9,{destroy:void 0},U0.bind(null,l,g,a,s),null),a},useId:function(){var i=jn(),s=xe.identifierPrefix;if(ee){var a=cs,l=us;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Bc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Rw++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Hh,useFormState:$0,useActionState:$0,useOptimistic:function(i){var s=jn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qh.bind(null,qt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Oh,useCacheRefresh:function(){return jn().memoizedState=Ow.bind(null,qt)},useEffectEvent:function(i){var s=jn(),a={impl:i};return s.memoizedState=a,function(){if((ue&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gh={readContext:yn,use:Uc,useCallback:lv,useContext:yn,useEffect:Bh,useImperativeHandle:ov,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:uv,useReducer:Fc,useRef:ev,useState:function(){return Fc(js)},useDebugValue:zh,useDeferredValue:function(i,s){var a=Ue();return cv(a,ye.memoizedState,i,s)},useTransition:function(){var i=Fc(js)[0],s=Ue().memoizedState;return[typeof i=="boolean"?i:Bl(i),s]},useSyncExternalStore:B0,useId:pv,useHostTransitionStatus:Hh,useFormState:Z0,useActionState:Z0,useOptimistic:function(i,s){var a=Ue();return G0(a,ye,i,s)},useMemoCache:Oh,useCacheRefresh:mv};Gh.useEffectEvent=iv;var xv={readContext:yn,use:Uc,useCallback:lv,useContext:yn,useEffect:Bh,useImperativeHandle:ov,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:uv,useReducer:Ph,useRef:ev,useState:function(){return Ph(js)},useDebugValue:zh,useDeferredValue:function(i,s){var a=Ue();return ye===null?Uh(a,i,s):cv(a,ye.memoizedState,i,s)},useTransition:function(){var i=Ph(js)[0],s=Ue().memoizedState;return[typeof i=="boolean"?i:Bl(i),s]},useSyncExternalStore:B0,useId:pv,useHostTransitionStatus:Hh,useFormState:tv,useActionState:tv,useOptimistic:function(i,s){var a=Ue();return ye!==null?G0(a,ye,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:mv};xv.useEffectEvent=iv;function Yh(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:f({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qh={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=ei(),h=dr(l);h.payload=s,a!=null&&(h.callback=a),s=hr(i,h,l),s!==null&&(Fn(s,i,l),Nl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=ei(),h=dr(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=hr(i,h,l),s!==null&&(Fn(s,i,l),Nl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=ei(),l=dr(a);l.tag=2,s!=null&&(l.callback=s),s=hr(i,l,a),s!==null&&(Fn(s,i,a),Nl(s,i,a))}};function bv(i,s,a,l,h,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,g,S):s.prototype&&s.prototype.isPureReactComponent?!Cl(a,l)||!Cl(h,g):!0}function Tv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&Qh.enqueueReplaceState(s,s.state,null)}function xa(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=f({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}function Sv(i){Sc(i)}function Av(i){console.error(i)}function Ev(i){Sc(i)}function Yc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function wv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wh(i,s,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yc(i,s)},a}function Cv(i){return i=dr(i),i.tag=3,i}function Rv(i,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;i.payload=function(){return h(g)},i.callback=function(){wv(s,a,l)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){wv(s,a,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Pw(i,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&lo(s,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?rf():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),_p(i,l,h)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),_p(i,l,h)),!1}throw Error(r(435,a.tag))}return _p(i,l,h),rf(),!1}if(ee)return s=$n.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==hh&&(i=Error(r(422),{cause:l}),Dl(mi(i,a)))):(l!==hh&&(s=Error(r(423),{cause:l}),Dl(mi(s,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=mi(l,a),h=Wh(i.stateNode,l,h),Ah(i,h),Oe!==4&&(Oe=2)),!1;var g=Error(r(520),{cause:l});if(g=mi(g,a),Kl===null?Kl=[g]:Kl.push(g),Oe!==4&&(Oe=2),s===null)return!0;l=mi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=Wh(a.stateNode,l,i),Ah(a,i),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_r===null||!_r.has(g))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cv(h),Rv(h,i,a,l),Ah(a,h),!1}a=a.return}while(a!==null);return!1}var Kh=Error(r(461)),Ke=!1;function vn(i,s,a,l){s.child=i===null?j0(s,null,a,l):va(s,i.child,a,l)}function Iv(i,s,a,l,h){a=a.render;var g=s.ref;if("ref"in l){var S={};for(var w in l)w!=="ref"&&(S[w]=l[w])}else S=l;return pa(s),l=Dh(i,s,a,S,g,h),w=Vh(),i!==null&&!Ke?(jh(i,s,h),Ms(i,s,h)):(ee&&w&&fh(s),s.flags|=1,vn(i,s,l,h),s.child)}function Dv(i,s,a,l,h){if(i===null){var g=a.type;return typeof g=="function"&&!lh(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,Vv(i,s,g,l,h)):(i=Cc(a.type,null,l,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!ip(i,h)){var S=g.memoizedProps;if(a=a.compare,a=a!==null?a:Cl,a(S,l)&&i.ref===s.ref)return Ms(i,s,h)}return s.flags|=1,i=Cs(g,l),i.ref=s.ref,i.return=s,s.child=i}function Vv(i,s,a,l,h){if(i!==null){var g=i.memoizedProps;if(Cl(g,l)&&i.ref===s.ref)if(Ke=!1,s.pendingProps=l=g,ip(i,h))(i.flags&131072)!==0&&(Ke=!0);else return s.lanes=i.lanes,Ms(i,s,h)}return Xh(i,s,a,l,h)}function jv(i,s,a,l){var h=l.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,i!==null){for(l=s.child=i.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~g}else l=0,s.child=null;return Mv(i,s,g,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vc(s,g!==null?g.cachePool:null),g!==null?N0(s,g):wh(),P0(s);else return l=s.lanes=536870912,Mv(i,s,g!==null?g.baseLanes|a:a,a,l)}else g!==null?(Vc(s,g.cachePool),N0(s,g),mr(),s.memoizedState=null):(i!==null&&Vc(s,null),wh(),mr());return vn(i,s,h,a),s.child}function Fl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Mv(i,s,a,l,h){var g=xh();return g=g===null?null:{parent:Qe._currentValue,pool:g},s.memoizedState={baseLanes:a,cachePool:g},i!==null&&Vc(s,null),wh(),P0(s),i!==null&&lo(i,s,l,!0),s.childLanes=h,null}function Qc(i,s){return s=Kc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Ov(i,s,a){return va(s,i.child,null,a),i=Qc(s,s.pendingProps),i.flags|=2,Zn(s),s.memoizedState=null,i}function kw(i,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ee){if(l.mode==="hidden")return i=Qc(s,l),s.lanes=536870912,Fl(null,i);if(Rh(s),(i=Te)?(i=Y_(i,vi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:or!==null?{id:us,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},a=y0(i),a.return=s,s.child=a,gn=s,Te=null)):i=null,i===null)throw ur(s);return s.lanes=536870912,null}return Qc(s,l)}var g=i.memoizedState;if(g!==null){var S=g.dehydrated;if(Rh(s),h)if(s.flags&256)s.flags&=-257,s=Ov(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ke||lo(i,s,a,!1),h=(a&i.childLanes)!==0,Ke||h){if(l=xe,l!==null&&(S=ul(l,a),S!==0&&S!==g.retryLane))throw g.retryLane=S,ca(i,S),Fn(l,i,S),Kh;rf(),s=Ov(i,s,a)}else i=g.treeContext,Te=xi(S.nextSibling),gn=s,ee=!0,lr=null,vi=!1,i!==null&&x0(s,i),s=Qc(s,l),s.flags|=4096;return s}return i=Cs(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Wc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Xh(i,s,a,l,h){return pa(s),a=Dh(i,s,a,l,void 0,h),l=Vh(),i!==null&&!Ke?(jh(i,s,h),Ms(i,s,h)):(ee&&l&&fh(s),s.flags|=1,vn(i,s,a,h),s.child)}function Nv(i,s,a,l,h,g){return pa(s),s.updateQueue=null,a=L0(s,l,a,h),k0(i),l=Vh(),i!==null&&!Ke?(jh(i,s,g),Ms(i,s,g)):(ee&&l&&fh(s),s.flags|=1,vn(i,s,a,g),s.child)}function Pv(i,s,a,l,h){if(pa(s),s.stateNode===null){var g=so,S=a.contextType;typeof S=="object"&&S!==null&&(g=yn(S)),g=new a(l,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=l,g.state=s.memoizedState,g.refs={},Th(s),S=a.contextType,g.context=typeof S=="object"&&S!==null?yn(S):so,g.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Yh(s,a,S,l),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Qh.enqueueReplaceState(g,g.state,null),kl(s,l,g,h),Pl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,z=xa(a,w);g.props=z;var Z=g.context,lt=a.contextType;S=so,typeof lt=="object"&&lt!==null&&(S=yn(lt));var dt=a.getDerivedStateFromProps;lt=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Z!==S)&&Tv(s,g,l,S),fr=!1;var et=s.memoizedState;g.state=et,kl(s,l,g,h),Pl(),Z=s.memoizedState,w||et!==Z||fr?(typeof dt=="function"&&(Yh(s,a,dt,l),Z=s.memoizedState),(z=fr||bv(s,a,z,l,et,Z,S))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Z),g.props=l,g.state=Z,g.context=S,l=z):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{g=s.stateNode,Sh(i,s),S=s.memoizedProps,lt=xa(a,S),g.props=lt,dt=s.pendingProps,et=g.context,Z=a.contextType,z=so,typeof Z=="object"&&Z!==null&&(z=yn(Z)),w=a.getDerivedStateFromProps,(Z=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==dt||et!==z)&&Tv(s,g,l,z),fr=!1,et=s.memoizedState,g.state=et,kl(s,l,g,h),Pl();var st=s.memoizedState;S!==dt||et!==st||fr||i!==null&&i.dependencies!==null&&Ic(i.dependencies)?(typeof w=="function"&&(Yh(s,a,w,l),st=s.memoizedState),(lt=fr||bv(s,a,lt,l,et,st,z)||i!==null&&i.dependencies!==null&&Ic(i.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,st,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,st,z)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&et===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&et===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=st),g.props=l,g.state=st,g.context=z,l=lt):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&et===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&et===i.memoizedState||(s.flags|=1024),l=!1)}return g=l,Wc(i,s),l=(s.flags&128)!==0,g||l?(g=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&l?(s.child=va(s,i.child,null,h),s.child=va(s,null,a,h)):vn(i,s,a,h),s.memoizedState=g.state,i=s.child):i=Ms(i,s,h),i}function kv(i,s,a,l){return da(),s.flags|=256,vn(i,s,a,l),s.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(i){return{baseLanes:i,cachePool:w0()}}function Jh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=ti),i}function Lv(i,s,a){var l=s.pendingProps,h=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(ze.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(ee){if(h?pr(s):mr(),(i=Te)?(i=Y_(i,vi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:or!==null?{id:us,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},a=y0(i),a.return=s,s.child=a,gn=s,Te=null)):i=null,i===null)throw ur(s);return Np(i)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(mr(),h=s.mode,w=Kc({mode:"hidden",children:w},h),l=fa(l,h,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Zh(a),l.childLanes=Jh(i,S,a),s.memoizedState=$h,Fl(null,l)):(pr(s),tp(s,w))}var z=i.memoizedState;if(z!==null&&(w=z.dehydrated,w!==null)){if(g)s.flags&256?(pr(s),s.flags&=-257,s=ep(i,s,a)):s.memoizedState!==null?(mr(),s.child=i.child,s.flags|=128,s=null):(mr(),w=l.fallback,h=s.mode,l=Kc({mode:"visible",children:l.children},h),w=fa(w,h,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,va(s,i.child,null,a),l=s.child,l.memoizedState=Zh(a),l.childLanes=Jh(i,S,a),s.memoizedState=$h,s=Fl(null,l));else if(pr(s),Np(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var Z=S.dgst;S=Z,l=Error(r(419)),l.stack="",l.digest=S,Dl({value:l,source:null,stack:null}),s=ep(i,s,a)}else if(Ke||lo(i,s,a,!1),S=(a&i.childLanes)!==0,Ke||S){if(S=xe,S!==null&&(l=ul(S,a),l!==0&&l!==z.retryLane))throw z.retryLane=l,ca(i,l),Fn(S,i,l),Kh;Op(w)||rf(),s=ep(i,s,a)}else Op(w)?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,Te=xi(w.nextSibling),gn=s,ee=!0,lr=null,vi=!1,i!==null&&x0(s,i),s=tp(s,l.children),s.flags|=4096);return s}return h?(mr(),w=l.fallback,h=s.mode,z=i.child,Z=z.sibling,l=Cs(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?w=Cs(Z,w):(w=fa(w,h,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,Fl(null,l),l=s.child,w=i.child.memoizedState,w===null?w=Zh(a):(h=w.cachePool,h!==null?(z=Qe._currentValue,h=h.parent!==z?{parent:z,pool:z}:h):h=w0(),w={baseLanes:w.baseLanes|a,cachePool:h}),l.memoizedState=w,l.childLanes=Jh(i,S,a),s.memoizedState=$h,Fl(i.child,l)):(pr(s),a=i.child,i=a.sibling,a=Cs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=a,s.memoizedState=null,a)}function tp(i,s){return s=Kc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Kc(i,s){return i=Xn(22,i,null,s),i.lanes=0,i}function ep(i,s,a){return va(s,i.child,null,a),i=tp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Bv(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),gh(i.return,s,a)}function np(i,s,a,l,h,g){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:g}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=a,S.tailMode=h,S.treeForkCount=g)}function zv(i,s,a){var l=s.pendingProps,h=l.revealOrder,g=l.tail;l=l.children;var S=ze.current,w=(S&2)!==0;if(w?(S=S&1|2,s.flags|=128):S&=1,nt(ze,S),vn(i,s,l,a),l=ee?Il:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bv(i,a,s);else if(i.tag===19)Bv(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)i=a.alternate,i!==null&&kc(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),np(s,!1,h,a,g,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&kc(i)===null){s.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}np(s,!0,a,null,g,l);break;case"together":np(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ms(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),vr|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(lo(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Cs(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Cs(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function ip(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ic(i)))}function Lw(i,s,a){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),cr(s,Qe,i.memoizedState.cache),da();break;case 27:case 5:ne(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:cr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rh(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Lv(i,s,a):(pr(s),i=Ms(i,s,a),i!==null?i.sibling:null);pr(s);break;case 19:var h=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(lo(i,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return zv(i,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(ze,ze.current),l)break;return null;case 22:return s.lanes=0,jv(i,s,a,s.pendingProps);case 24:cr(s,Qe,i.memoizedState.cache)}return Ms(i,s,a)}function Uv(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ke=!0;else{if(!ip(i,a)&&(s.flags&128)===0)return Ke=!1,Lw(i,s,a);Ke=(i.flags&131072)!==0}else Ke=!1,ee&&(s.flags&1048576)!==0&&_0(s,Il,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=ga(s.elementType),s.type=i,typeof i=="function")lh(i)?(l=xa(i,l),s.tag=1,s=Pv(null,s,i,l,a)):(s.tag=0,s=Xh(null,s,i,l,a));else{if(i!=null){var h=i.$$typeof;if(h===G){s.tag=11,s=Iv(null,s,i,l,a);break t}else if(h===V){s.tag=14,s=Dv(null,s,i,l,a);break t}}throw s=Ct(i)||i,Error(r(306,s,""))}}return s;case 0:return Xh(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=xa(l,s.pendingProps),Pv(i,s,l,h,a);case 3:t:{if(At(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var g=s.memoizedState;h=g.element,Sh(i,s),kl(s,l,null,a);var S=s.memoizedState;if(l=S.cache,cr(s,Qe,l),l!==g.cache&&yh(s,[Qe],a,!0),Pl(),l=S.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=kv(i,s,l,a);break t}else if(l!==h){h=mi(Error(r(424)),s),Dl(h),s=kv(i,s,l,a);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Te=xi(i.firstChild),gn=s,ee=!0,lr=null,vi=!0,a=j0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(da(),l===h){s=Ms(i,s,a);break t}vn(i,s,l,a)}s=s.child}return s;case 26:return Wc(i,s),i===null?(a=Z_(s.type,null,s.pendingProps,null))?s.memoizedState=a:ee||(a=s.type,i=s.pendingProps,l=df(St.current).createElement(a),l[qe]=s,l[on]=i,_n(l,a,i),Ge(l),s.stateNode=l):s.memoizedState=Z_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ne(s),i===null&&ee&&(l=s.stateNode=K_(s.type,s.pendingProps,St.current),gn=s,vi=!0,h=Te,Sr(s.type)?(Pp=h,Te=xi(l.firstChild)):Te=h),vn(i,s,s.pendingProps.children,a),Wc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ee&&((h=l=Te)&&(l=p2(l,s.type,s.pendingProps,vi),l!==null?(s.stateNode=l,gn=s,Te=xi(l.firstChild),vi=!1,h=!0):h=!1),h||ur(s)),ne(s),h=s.type,g=s.pendingProps,S=i!==null?i.memoizedProps:null,l=g.children,Vp(h,g)?l=null:S!==null&&Vp(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=Dh(i,s,Iw,null,null,a),iu._currentValue=h),Wc(i,s),vn(i,s,l,a),s.child;case 6:return i===null&&ee&&((i=a=Te)&&(a=m2(a,s.pendingProps,vi),a!==null?(s.stateNode=a,gn=s,Te=null,i=!0):i=!1),i||ur(s)),null;case 13:return Lv(i,s,a);case 4:return At(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=va(s,null,l,a):vn(i,s,l,a),s.child;case 11:return Iv(i,s,s.type,s.pendingProps,a);case 7:return vn(i,s,s.pendingProps,a),s.child;case 8:return vn(i,s,s.pendingProps.children,a),s.child;case 12:return vn(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,cr(s,s.type,l.value),vn(i,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,pa(s),h=yn(h),l=l(h),s.flags|=1,vn(i,s,l,a),s.child;case 14:return Dv(i,s,s.type,s.pendingProps,a);case 15:return Vv(i,s,s.type,s.pendingProps,a);case 19:return zv(i,s,a);case 31:return kw(i,s,a);case 22:return jv(i,s,a,s.pendingProps);case 24:return pa(s),l=yn(Qe),i===null?(h=xh(),h===null&&(h=xe,g=vh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=a),h=g),s.memoizedState={parent:l,cache:h},Th(s),cr(s,Qe,h)):((i.lanes&a)!==0&&(Sh(i,s),kl(s,null,null,a),Pl()),h=i.memoizedState,g=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),cr(s,Qe,l)):(l=g.cache,cr(s,Qe,l),l!==h.cache&&yh(s,[Qe],a,!0))),vn(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Os(i){i.flags|=4}function sp(i,s,a,l,h){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(h&335544128)===h)if(i.stateNode.complete)i.flags|=8192;else if(p_())i.flags|=8192;else throw ya=Mc,bh}else i.flags&=-16777217}function Fv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ix(s))if(p_())i.flags|=8192;else throw ya=Mc,bh}function Xc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?nc():536870912,i.lanes|=s,bo|=s)}function Hl(i,s){if(!ee)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Se(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function Bw(i,s,a){var l=s.pendingProps;switch(dh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ds(Qe),wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(oo(s)?Os(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ph())),Se(s),null;case 26:var h=s.type,g=s.memoizedState;return i===null?(Os(s),g!==null?(Se(s),Fv(s,g)):(Se(s),sp(s,h,null,l,a))):g?g!==i.memoizedState?(Os(s),Se(s),Fv(s,g)):(Se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&Os(s),Se(s),sp(s,h,i,l,a)),null;case 27:if(Ee(s),a=St.current,h=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}i=pt.current,oo(s)?b0(s):(i=K_(h,l,a),s.stateNode=i,Os(s))}return Se(s),null;case 5:if(Ee(s),h=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(g=pt.current,oo(s))b0(s);else{var S=df(St.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?S.createElement("select",{is:l.is}):S.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?S.createElement(h,{is:l.is}):S.createElement(h)}}g[qe]=s,g[on]=l;t:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break t;for(;S.sibling===null;){if(S.return===null||S.return===s)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=g;t:switch(_n(g,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Os(s)}}return Se(s),sp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&Os(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=St.current,oo(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[qe]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(i.nodeValue,a)),i||ur(s,!0)}else i=df(i).createTextNode(l),i[qe]=s,s.stateNode=i}return Se(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=oo(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[qe]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),i=!1}else a=ph(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Zn(s),s):(Zn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Se(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=oo(s),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[qe]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),h=!1}else h=ph(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Zn(s),s):(Zn(s),null)}return Zn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Xc(s,s.updateQueue),Se(s),null);case 4:return wt(),i===null&&wp(s.stateNode.containerInfo),Se(s),null;case 10:return Ds(s.type),Se(s),null;case 19:if(q(ze),l=s.memoizedState,l===null)return Se(s),null;if(h=(s.flags&128)!==0,g=l.rendering,g===null)if(h)Hl(l,!1);else{if(Oe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=kc(i),g!==null){for(s.flags|=128,Hl(l,!1),i=g.updateQueue,s.updateQueue=i,Xc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)g0(a,i),a=a.sibling;return nt(ze,ze.current&1|2),ee&&Rs(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&Bt()>ef&&(s.flags|=128,h=!0,Hl(l,!1),s.lanes=4194304)}else{if(!h)if(i=kc(g),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,Xc(s,i),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!ee)return Se(s),null}else 2*Bt()-l.renderingStartTime>ef&&a!==536870912&&(s.flags|=128,h=!0,Hl(l,!1),s.lanes=4194304);l.isBackwards?(g.sibling=s.child,s.child=g):(i=l.last,i!==null?i.sibling=g:s.child=g,l.last=g)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Bt(),i.sibling=null,a=ze.current,nt(ze,h?a&1|2:a&1),ee&&Rs(s,l.treeForkCount),i):(Se(s),null);case 22:case 23:return Zn(s),Ch(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),a=s.updateQueue,a!==null&&Xc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&q(ma),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ds(Qe),Se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function zw(i,s){switch(dh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ds(Qe),wt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 31:if(s.memoizedState!==null){if(Zn(s),s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Zn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(ze),null;case 4:return wt(),null;case 10:return Ds(s.type),null;case 22:case 23:return Zn(s),Ch(),i!==null&&q(ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ds(Qe),null;case 25:return null;default:return null}}function Hv(i,s){switch(dh(s),s.tag){case 3:Ds(Qe),wt();break;case 26:case 27:case 5:Ee(s);break;case 4:wt();break;case 31:s.memoizedState!==null&&Zn(s);break;case 13:Zn(s);break;case 19:q(ze);break;case 10:Ds(s.type);break;case 22:case 23:Zn(s),Ch(),i!==null&&q(ma);break;case 24:Ds(Qe)}}function ql(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var g=a.create,S=a.inst;l=g(),S.destroy=l}a=a.next}while(a!==h)}}catch(w){me(s,s.return,w)}}function gr(i,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){var S=l.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,h=s;var z=a,Z=w;try{Z()}catch(lt){me(h,z,lt)}}}l=l.next}while(l!==g)}}catch(lt){me(s,s.return,lt)}}function qv(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{O0(s,a)}catch(l){me(i,i.return,l)}}}function Gv(i,s,a){a.props=xa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){me(i,s,l)}}function Gl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(h){me(i,s,h)}}function fs(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){me(i,s,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){me(i,s,h)}else a.current=null}function Yv(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){me(i,i.return,h)}}function rp(i,s,a){try{var l=i.stateNode;l2(l,i.type,a,s),l[on]=s}catch(h){me(i,i.return,h)}}function Qv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sr(i.type)||i.tag===4}function ap(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Qv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ji));else if(l!==4&&(l===27&&Sr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(op(i,s,a),i=i.sibling;i!==null;)op(i,s,a),i=i.sibling}function $c(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Sr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for($c(i,s,a),i=i.sibling;i!==null;)$c(i,s,a),i=i.sibling}function Wv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);_n(s,l,a),s[qe]=i,s[on]=a}catch(g){me(i,i.return,g)}}var Ns=!1,Xe=!1,lp=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,un=null;function Uw(i,s){if(i=i.containerInfo,Ip=_f,i=o0(i),eh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var S=0,w=-1,z=-1,Z=0,lt=0,dt=i,et=null;e:for(;;){for(var st;dt!==a||h!==0&&dt.nodeType!==3||(w=S+h),dt!==g||l!==0&&dt.nodeType!==3||(z=S+l),dt.nodeType===3&&(S+=dt.nodeValue.length),(st=dt.firstChild)!==null;)et=dt,dt=st;for(;;){if(dt===i)break e;if(et===a&&++Z===h&&(w=S),et===g&&++lt===l&&(z=S),(st=dt.nextSibling)!==null)break;dt=et,et=dt.parentNode}dt=st}a=w===-1||z===-1?null:{start:w,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dp={focusedElem:i,selectionRange:a},_f=!1,un=s;un!==null;)if(s=un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,un=i;else for(;un!==null;){switch(s=un,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)h=i[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=s,h=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var bt=xa(a.type,h);i=l.getSnapshotBeforeUpdate(bt,g),l.__reactInternalSnapshotBeforeUpdate=i}catch(Dt){me(a,a.return,Dt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Mp(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,un=i;break}un=s.return}}function Xv(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ks(i,a),l&4&&ql(5,a);break;case 1:if(ks(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(S){me(a,a.return,S)}else{var h=xa(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(h,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){me(a,a.return,S)}}l&64&&qv(a),l&512&&Gl(a,a.return);break;case 3:if(ks(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{O0(i,s)}catch(S){me(a,a.return,S)}}break;case 27:s===null&&l&4&&Wv(a);case 26:case 5:ks(i,a),s===null&&l&4&&Yv(a),l&512&&Gl(a,a.return);break;case 12:ks(i,a);break;case 31:ks(i,a),l&4&&Jv(i,a);break;case 13:ks(i,a),l&4&&t_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Xw.bind(null,a),g2(i,a))));break;case 22:if(l=a.memoizedState!==null||Ns,!l){s=s!==null&&s.memoizedState!==null||Xe,h=Ns;var g=Xe;Ns=l,(Xe=s)&&!g?Ls(i,a,(a.subtreeFlags&8772)!==0):ks(i,a),Ns=h,Xe=g}break;case 30:break;default:ks(i,a)}}function $v(i){var s=i.alternate;s!==null&&(i.alternate=null,$v(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&qa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ce=null,Ln=!1;function Ps(i,s,a){for(a=a.child;a!==null;)Zv(i,s,a),a=a.sibling}function Zv(i,s,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ri,a)}catch{}switch(a.tag){case 26:Xe||fs(a,s),Ps(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||fs(a,s);var l=Ce,h=Ln;Sr(a.type)&&(Ce=a.stateNode,Ln=!1),Ps(i,s,a),tu(a.stateNode),Ce=l,Ln=h;break;case 5:Xe||fs(a,s);case 6:if(l=Ce,h=Ln,Ce=null,Ps(i,s,a),Ce=l,Ln=h,Ce!==null)if(Ln)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(g){me(a,s,g)}else try{Ce.removeChild(a.stateNode)}catch(g){me(a,s,g)}break;case 18:Ce!==null&&(Ln?(i=Ce,q_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Io(i)):q_(Ce,a.stateNode));break;case 4:l=Ce,h=Ln,Ce=a.stateNode.containerInfo,Ln=!0,Ps(i,s,a),Ce=l,Ln=h;break;case 0:case 11:case 14:case 15:gr(2,a,s),Xe||gr(4,a,s),Ps(i,s,a);break;case 1:Xe||(fs(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gv(a,s,l)),Ps(i,s,a);break;case 21:Ps(i,s,a);break;case 22:Xe=(l=Xe)||a.memoizedState!==null,Ps(i,s,a),Xe=l;break;default:Ps(i,s,a)}}function Jv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Io(i)}catch(a){me(s,s.return,a)}}}function t_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Io(i)}catch(a){me(s,s.return,a)}}function Fw(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Kv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Kv),s;default:throw Error(r(435,i.tag))}}function Zc(i,s){var a=Fw(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=$w.bind(null,i,l);l.then(h,h)}})}function Bn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],g=i,S=s,w=S;t:for(;w!==null;){switch(w.tag){case 27:if(Sr(w.type)){Ce=w.stateNode,Ln=!1;break t}break;case 5:Ce=w.stateNode,Ln=!1;break t;case 3:case 4:Ce=w.stateNode.containerInfo,Ln=!0;break t}w=w.return}if(Ce===null)throw Error(r(160));Zv(g,S,h),Ce=null,Ln=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)e_(s,i),s=s.sibling}var Li=null;function e_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bn(s,i),zn(i),l&4&&(gr(3,i,i.return),ql(3,i),gr(5,i,i.return));break;case 1:Bn(s,i),zn(i),l&512&&(Xe||a===null||fs(a,a.return)),l&64&&Ns&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Li;if(Bn(s,i),zn(i),l&512&&(Xe||a===null||fs(a,a.return)),l&4){var g=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":g=h.getElementsByTagName("title")[0],(!g||g[$i]||g[qe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(l),h.head.insertBefore(g,h.querySelector("head > title"))),_n(g,l,a),g[qe]=i,Ge(g),l=g;break t;case"link":var S=ex("link","href",h).get(l+(a.href||""));if(S){for(var w=0;w<S.length;w++)if(g=S[w],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(w,1);break e}}g=h.createElement(l),_n(g,l,a),h.head.appendChild(g);break;case"meta":if(S=ex("meta","content",h).get(l+(a.content||""))){for(w=0;w<S.length;w++)if(g=S[w],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(w,1);break e}}g=h.createElement(l),_n(g,l,a),h.head.appendChild(g);break;default:throw Error(r(468,l))}g[qe]=i,Ge(g),l=g}i.stateNode=l}else nx(h,i.type,i.stateNode);else i.stateNode=tx(h,l,i.memoizedProps);else g!==l?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?nx(h,i.type,i.stateNode):tx(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&rp(i,i.memoizedProps,a.memoizedProps)}break;case 27:Bn(s,i),zn(i),l&512&&(Xe||a===null||fs(a,a.return)),a!==null&&l&4&&rp(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Bn(s,i),zn(i),l&512&&(Xe||a===null||fs(a,a.return)),i.flags&32){h=i.stateNode;try{kn(h,"")}catch(bt){me(i,i.return,bt)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,rp(i,h,a!==null?a.memoizedProps:h)),l&1024&&(lp=!0);break;case 6:if(Bn(s,i),zn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(bt){me(i,i.return,bt)}}break;case 3:if(mf=null,h=Li,Li=hf(s.containerInfo),Bn(s,i),Li=h,zn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(bt){me(i,i.return,bt)}lp&&(lp=!1,n_(i));break;case 4:l=Li,Li=hf(i.stateNode.containerInfo),Bn(s,i),zn(i),Li=l;break;case 12:Bn(s,i),zn(i);break;case 31:Bn(s,i),zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 13:Bn(s,i),zn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tf=Bt()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 22:h=i.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Z=Ns,lt=Xe;if(Ns=Z||h,Xe=lt||z,Bn(s,i),Xe=lt,Ns=Z,zn(i),l&8192)t:for(s=i.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||z||Ns||Xe||ba(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){z=a=s;try{if(g=z.stateNode,h)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=z.stateNode;var dt=z.memoizedProps.style,et=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;w.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(bt){me(z,z.return,bt)}}}else if(s.tag===6){if(a===null){z=s;try{z.stateNode.nodeValue=h?"":z.memoizedProps}catch(bt){me(z,z.return,bt)}}}else if(s.tag===18){if(a===null){z=s;try{var st=z.stateNode;h?G_(st,!0):G_(z.stateNode,!1)}catch(bt){me(z,z.return,bt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zc(i,a))));break;case 19:Bn(s,i),zn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zc(i,l)));break;case 30:break;case 21:break;default:Bn(s,i),zn(i)}}function zn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(Qv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,g=ap(i);$c(i,g,h);break;case 5:var S=a.stateNode;a.flags&32&&(kn(S,""),a.flags&=-33);var w=ap(i);$c(i,w,S);break;case 3:case 4:var z=a.stateNode.containerInfo,Z=ap(i);op(i,Z,z);break;default:throw Error(r(161))}}catch(lt){me(i,i.return,lt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function n_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;n_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ks(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Xv(i,s.alternate,s),s=s.sibling}function ba(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:gr(4,s,s.return),ba(s);break;case 1:fs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Gv(s,s.return,a),ba(s);break;case 27:tu(s.stateNode);case 26:case 5:fs(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}i=i.sibling}}function Ls(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=i,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:Ls(h,g,a),ql(4,g);break;case 1:if(Ls(h,g,a),l=g,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){me(l,l.return,Z)}if(l=g,h=l.updateQueue,h!==null){var w=l.stateNode;try{var z=h.shared.hiddenCallbacks;if(z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<z.length;h++)M0(z[h],w)}catch(Z){me(l,l.return,Z)}}a&&S&64&&qv(g),Gl(g,g.return);break;case 27:Wv(g);case 26:case 5:Ls(h,g,a),a&&l===null&&S&4&&Yv(g),Gl(g,g.return);break;case 12:Ls(h,g,a);break;case 31:Ls(h,g,a),a&&S&4&&Jv(h,g);break;case 13:Ls(h,g,a),a&&S&4&&t_(h,g);break;case 22:g.memoizedState===null&&Ls(h,g,a),Gl(g,g.return);break;case 30:break;default:Ls(h,g,a)}s=s.sibling}}function up(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Vl(a))}function cp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i))}function Bi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i_(i,s,a,l),s=s.sibling}function i_(i,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(i,s,a,l),h&2048&&ql(9,s);break;case 1:Bi(i,s,a,l);break;case 3:Bi(i,s,a,l),h&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i)));break;case 12:if(h&2048){Bi(i,s,a,l),i=s.stateNode;try{var g=s.memoizedProps,S=g.id,w=g.onPostCommit;typeof w=="function"&&w(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){me(s,s.return,z)}}else Bi(i,s,a,l);break;case 31:Bi(i,s,a,l);break;case 13:Bi(i,s,a,l);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?Bi(i,s,a,l):Yl(i,s):g._visibility&2?Bi(i,s,a,l):(g._visibility|=2,vo(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&up(S,s);break;case 24:Bi(i,s,a,l),h&2048&&cp(s.alternate,s);break;default:Bi(i,s,a,l)}}function vo(i,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,S=s,w=a,z=l,Z=S.flags;switch(S.tag){case 0:case 11:case 15:vo(g,S,w,z,h),ql(8,S);break;case 23:break;case 22:var lt=S.stateNode;S.memoizedState!==null?lt._visibility&2?vo(g,S,w,z,h):Yl(g,S):(lt._visibility|=2,vo(g,S,w,z,h)),h&&Z&2048&&up(S.alternate,S);break;case 24:vo(g,S,w,z,h),h&&Z&2048&&cp(S.alternate,S);break;default:vo(g,S,w,z,h)}s=s.sibling}}function Yl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,h=l.flags;switch(l.tag){case 22:Yl(a,l),h&2048&&up(l.alternate,l);break;case 24:Yl(a,l),h&2048&&cp(l.alternate,l);break;default:Yl(a,l)}s=s.sibling}}var Ql=8192;function _o(i,s,a){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)s_(i,s,a),i=i.sibling}function s_(i,s,a){switch(i.tag){case 26:_o(i,s,a),i.flags&Ql&&i.memoizedState!==null&&R2(a,Li,i.memoizedState,i.memoizedProps);break;case 5:_o(i,s,a);break;case 3:case 4:var l=Li;Li=hf(i.stateNode.containerInfo),_o(i,s,a),Li=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,_o(i,s,a),Ql=l):_o(i,s,a));break;default:_o(i,s,a)}}function r_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Wl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];un=l,o_(l,i)}r_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a_(i),i=i.sibling}function a_(i){switch(i.tag){case 0:case 11:case 15:Wl(i),i.flags&2048&&gr(9,i,i.return);break;case 3:Wl(i);break;case 12:Wl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Jc(i)):Wl(i);break;default:Wl(i)}}function Jc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];un=l,o_(l,i)}r_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:gr(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}i=i.sibling}}function o_(i,s){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:gr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,un=l;else t:for(a=i;un!==null;){l=un;var h=l.sibling,g=l.return;if($v(l),l===a){un=null;break t}if(h!==null){h.return=g,un=h;break t}un=g}}}var Hw={getCacheForType:function(i){var s=yn(Qe),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return yn(Qe).controller.signal}},qw=typeof WeakMap=="function"?WeakMap:Map,ue=0,xe=null,Wt=null,Xt=0,pe=0,Jn=null,yr=!1,xo=!1,fp=!1,Bs=0,Oe=0,vr=0,Ta=0,dp=0,ti=0,bo=0,Kl=null,Un=null,hp=!1,tf=0,l_=0,ef=1/0,nf=null,_r=null,sn=0,xr=null,To=null,zs=0,pp=0,mp=null,u_=null,Xl=0,gp=null;function ei(){return(ue&2)!==0&&Xt!==0?Xt&-Xt:W.T!==null?Tp():ic()}function c_(){if(ti===0)if((Xt&536870912)===0||ee){var i=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),ti=i}else ti=536870912;return i=$n.current,i!==null&&(i.flags|=32),ti}function Fn(i,s,a){(i===xe&&(pe===2||pe===9)||i.cancelPendingCommit!==null)&&(So(i,0),br(i,Xt,ti,!1)),Xr(i,a),((ue&2)===0||i!==xe)&&(i===xe&&((ue&2)===0&&(Ta|=a),Oe===4&&br(i,Xt,ti,!1)),ds(i))}function f_(i,s,a){if((ue&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Ii(i,s),h=l?Qw(i,s):vp(i,s,!0),g=l;do{if(h===0){xo&&!l&&br(i,s,0,!1);break}else{if(a=i.current.alternate,g&&!Gw(a)){h=vp(i,s,!1),g=!1;continue}if(h===2){if(g=s,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var w=i;h=Kl;var z=w.current.memoizedState.isDehydrated;if(z&&(So(w,S).flags|=256),S=vp(w,S,!1),S!==2){if(fp&&!z){w.errorRecoveryDisabledLanes|=g,Ta|=g,h=4;break t}g=Un,Un=h,g!==null&&(Un===null?Un=g:Un.push.apply(Un,g))}h=S}if(g=!1,h!==2)continue}}if(h===1){So(i,0),br(i,s,0,!0);break}t:{switch(l=i,g=h,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:br(l,s,ti,!yr);break t;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=tf+300-Bt(),10<h)){if(br(l,s,ti,!yr),Wi(l,0,!0)!==0)break t;zs=s,l.timeoutHandle=F_(d_.bind(null,l,a,Un,nf,hp,s,ti,Ta,bo,yr,g,"Throttled",-0,0),h);break t}d_(l,a,Un,nf,hp,s,ti,Ta,bo,yr,g,null,-0,0)}}break}while(!0);ds(i)}function d_(i,s,a,l,h,g,S,w,z,Z,lt,dt,et,st){if(i.timeoutHandle=-1,dt=s.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ji},s_(s,g,dt);var bt=(g&62914560)===g?tf-Bt():(g&4194048)===g?l_-Bt():0;if(bt=I2(dt,bt),bt!==null){zs=g,i.cancelPendingCommit=bt(x_.bind(null,i,s,g,a,l,h,S,w,z,lt,dt,null,et,st)),br(i,g,S,!Z);return}}x_(i,s,g,a,l,h,S,w,z)}function Gw(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],g=h.getSnapshot;h=h.value;try{if(!Kn(g(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function br(i,s,a,l){s&=~dp,s&=~Ta,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var h=s;0<h;){var g=31-Le(h),S=1<<g;l[g]=-1,h&=~S}a!==0&&$r(i,a,s)}function sf(){return(ue&6)===0?($l(0),!1):!0}function yp(){if(Wt!==null){if(pe===0)var i=Wt.return;else i=Wt,Is=ha=null,Mh(i),ho=null,Ml=0,i=Wt;for(;i!==null;)Hv(i.alternate,i),i=i.return;Wt=null}}function So(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,f2(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),zs=0,yp(),xe=i,Wt=a=Cs(i.current,null),Xt=s,pe=0,Jn=null,yr=!1,xo=Ii(i,s),fp=!1,bo=ti=dp=Ta=vr=Oe=0,Un=Kl=null,hp=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var h=31-Le(l),g=1<<h;s|=i[h],l&=~g}return Bs=s,Ac(),a}function h_(i,s){qt=null,W.H=Ul,s===fo||s===jc?(s=I0(),pe=3):s===bh?(s=I0(),pe=4):pe=s===Kh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Jn=s,Wt===null&&(Oe=1,Yc(i,mi(s,i.current)))}function p_(){var i=$n.current;return i===null?!0:(Xt&4194048)===Xt?_i===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?i===_i:!1}function m_(){var i=W.H;return W.H=Ul,i===null?Ul:i}function g_(){var i=W.A;return W.A=Hw,i}function rf(){Oe=4,yr||(Xt&4194048)!==Xt&&$n.current!==null||(xo=!0),(vr&134217727)===0&&(Ta&134217727)===0||xe===null||br(xe,Xt,ti,!1)}function vp(i,s,a){var l=ue;ue|=2;var h=m_(),g=g_();(xe!==i||Xt!==s)&&(nf=null,So(i,s)),s=!1;var S=Oe;t:do try{if(pe!==0&&Wt!==null){var w=Wt,z=Jn;switch(pe){case 8:yp(),S=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(s=!0);var Z=pe;if(pe=0,Jn=null,Ao(i,w,z,Z),a&&xo){S=0;break t}break;default:Z=pe,pe=0,Jn=null,Ao(i,w,z,Z)}}Yw(),S=Oe;break}catch(lt){h_(i,lt)}while(!0);return s&&i.shellSuspendCounter++,Is=ha=null,ue=l,W.H=h,W.A=g,Wt===null&&(xe=null,Xt=0,Ac()),S}function Yw(){for(;Wt!==null;)y_(Wt)}function Qw(i,s){var a=ue;ue|=2;var l=m_(),h=g_();xe!==i||Xt!==s?(nf=null,ef=Bt()+500,So(i,s)):xo=Ii(i,s);t:do try{if(pe!==0&&Wt!==null){s=Wt;var g=Jn;e:switch(pe){case 1:pe=0,Jn=null,Ao(i,s,g,1);break;case 2:case 9:if(C0(g)){pe=0,Jn=null,v_(s);break}s=function(){pe!==2&&pe!==9||xe!==i||(pe=7),ds(i)},g.then(s,s);break t;case 3:pe=7;break t;case 4:pe=5;break t;case 7:C0(g)?(pe=0,Jn=null,v_(s)):(pe=0,Jn=null,Ao(i,s,g,7));break;case 5:var S=null;switch(Wt.tag){case 26:S=Wt.memoizedState;case 5:case 27:var w=Wt;if(S?ix(S):w.stateNode.complete){pe=0,Jn=null;var z=w.sibling;if(z!==null)Wt=z;else{var Z=w.return;Z!==null?(Wt=Z,af(Z)):Wt=null}break e}}pe=0,Jn=null,Ao(i,s,g,5);break;case 6:pe=0,Jn=null,Ao(i,s,g,6);break;case 8:yp(),Oe=6;break t;default:throw Error(r(462))}}Ww();break}catch(lt){h_(i,lt)}while(!0);return Is=ha=null,W.H=l,W.A=h,ue=a,Wt!==null?0:(xe=null,Xt=0,Ac(),Oe)}function Ww(){for(;Wt!==null&&!gt();)y_(Wt)}function y_(i){var s=Uv(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,s===null?af(i):Wt=s}function v_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Nv(a,s,s.pendingProps,s.type,void 0,Xt);break;case 11:s=Nv(a,s,s.pendingProps,s.type.render,s.ref,Xt);break;case 5:Mh(s);default:Hv(a,s),s=Wt=g0(s,Bs),s=Uv(a,s,Bs)}i.memoizedProps=i.pendingProps,s===null?af(i):Wt=s}function Ao(i,s,a,l){Is=ha=null,Mh(s),ho=null,Ml=0;var h=s.return;try{if(Pw(i,h,s,a,Xt)){Oe=1,Yc(i,mi(a,i.current)),Wt=null;return}}catch(g){if(h!==null)throw Wt=h,g;Oe=1,Yc(i,mi(a,i.current)),Wt=null;return}s.flags&32768?(ee||l===1?i=!0:xo||(Xt&536870912)!==0?i=!1:(yr=i=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(s,i)):af(s)}function af(i){var s=i;do{if((s.flags&32768)!==0){__(s,yr);return}i=s.return;var a=Bw(s.alternate,s,Bs);if(a!==null){Wt=a;return}if(s=s.sibling,s!==null){Wt=s;return}Wt=s=i}while(s!==null);Oe===0&&(Oe=5)}function __(i,s){do{var a=zw(i.alternate,i);if(a!==null){a.flags&=32767,Wt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Wt=i;return}Wt=i=a}while(i!==null);Oe=6,Wt=null}function x_(i,s,a,l,h,g,S,w,z){i.cancelPendingCommit=null;do of();while(sn!==0);if((ue&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=ah,$d(i,a,g,S,w,z),i===xe&&(Wt=xe=null,Xt=0),To=s,xr=i,zs=a,pp=g,mp=h,u_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Zw($s,function(){return E_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=rt.p,rt.p=2,S=ue,ue|=4;try{Uw(i,s,a)}finally{ue=S,rt.p=h,W.T=l}}sn=1,b_(),T_(),S_()}}function b_(){if(sn===1){sn=0;var i=xr,s=To,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=rt.p;rt.p=2;var h=ue;ue|=4;try{e_(s,i);var g=Dp,S=o0(i.containerInfo),w=g.focusedElem,z=g.selectionRange;if(S!==w&&w&&w.ownerDocument&&a0(w.ownerDocument.documentElement,w)){if(z!==null&&eh(w)){var Z=z.start,lt=z.end;if(lt===void 0&&(lt=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(lt,w.value.length);else{var dt=w.ownerDocument||document,et=dt&&dt.defaultView||window;if(et.getSelection){var st=et.getSelection(),bt=w.textContent.length,Dt=Math.min(z.start,bt),_e=z.end===void 0?Dt:Math.min(z.end,bt);!st.extend&&Dt>_e&&(S=_e,_e=Dt,Dt=S);var Y=r0(w,Dt),F=r0(w,_e);if(Y&&F&&(st.rangeCount!==1||st.anchorNode!==Y.node||st.anchorOffset!==Y.offset||st.focusNode!==F.node||st.focusOffset!==F.offset)){var X=dt.createRange();X.setStart(Y.node,Y.offset),st.removeAllRanges(),Dt>_e?(st.addRange(X),st.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),st.addRange(X))}}}}for(dt=[],st=w;st=st.parentNode;)st.nodeType===1&&dt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<dt.length;w++){var ut=dt[w];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}_f=!!Ip,Dp=Ip=null}finally{ue=h,rt.p=l,W.T=a}}i.current=s,sn=2}}function T_(){if(sn===2){sn=0;var i=xr,s=To,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=rt.p;rt.p=2;var h=ue;ue|=4;try{Xv(i,s.alternate,s)}finally{ue=h,rt.p=l,W.T=a}}sn=3}}function S_(){if(sn===4||sn===3){sn=0,ie();var i=xr,s=To,a=zs,l=u_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,To=xr=null,A_(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(_r=null),Ss(a),s=s.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ri,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,h=rt.p,rt.p=2,W.T=null;try{for(var g=i.onRecoverableError,S=0;S<l.length;S++){var w=l[S];g(w.value,{componentStack:w.stack})}}finally{W.T=s,rt.p=h}}(zs&3)!==0&&of(),ds(i),h=i.pendingLanes,(a&261930)!==0&&(h&42)!==0?i===gp?Xl++:(Xl=0,gp=i):Xl=0,$l(0)}}function A_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vl(s)))}function of(){return b_(),T_(),S_(),E_()}function E_(){if(sn!==5)return!1;var i=xr,s=pp;pp=0;var a=Ss(zs),l=W.T,h=rt.p;try{rt.p=32>a?32:a,W.T=null,a=mp,mp=null;var g=xr,S=zs;if(sn=0,To=xr=null,zs=0,(ue&6)!==0)throw Error(r(331));var w=ue;if(ue|=4,a_(g.current),i_(g,g.current,S,a),ue=w,$l(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ri,g)}catch{}return!0}finally{rt.p=h,W.T=l,A_(i,s)}}function w_(i,s,a){s=mi(a,s),s=Wh(i.stateNode,s,2),i=hr(i,s,2),i!==null&&(Xr(i,2),ds(i))}function me(i,s,a){if(i.tag===3)w_(i,i,a);else for(;s!==null;){if(s.tag===3){w_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){i=mi(a,i),a=Cv(2),l=hr(s,a,2),l!==null&&(Rv(a,l,s,i),Xr(l,2),ds(l));break}}s=s.return}}function _p(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new qw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(fp=!0,h.add(a),i=Kw.bind(null,i,s,a),s.then(i,i))}function Kw(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,xe===i&&(Xt&a)===a&&(Oe===4||Oe===3&&(Xt&62914560)===Xt&&300>Bt()-tf?(ue&2)===0&&So(i,0):dp|=a,bo===Xt&&(bo=0)),ds(i)}function C_(i,s){s===0&&(s=nc()),i=ca(i,s),i!==null&&(Xr(i,s),ds(i))}function Xw(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),C_(i,a)}function $w(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),C_(i,a)}function Zw(i,s){return Ot(i,s)}var lf=null,Eo=null,xp=!1,uf=!1,bp=!1,Tr=0;function ds(i){i!==Eo&&i.next===null&&(Eo===null?lf=Eo=i:Eo=Eo.next=i),uf=!0,xp||(xp=!0,t2())}function $l(i,s){if(!bp&&uf){bp=!0;do for(var a=!1,l=lf;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var g=0;else{var S=l.suspendedLanes,w=l.pingedLanes;g=(1<<31-Le(42|i)+1)-1,g&=h&~(S&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,V_(l,g))}else g=Xt,g=Wi(l,l===xe?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Ii(l,g)||(a=!0,V_(l,g));l=l.next}while(a);bp=!1}}function Jw(){R_()}function R_(){uf=xp=!1;var i=0;Tr!==0&&c2()&&(i=Tr);for(var s=Bt(),a=null,l=lf;l!==null;){var h=l.next,g=I_(l,s);g===0?(l.next=null,a===null?lf=h:a.next=h,h===null&&(Eo=a)):(a=l,(i!==0||(g&3)!==0)&&(uf=!0)),l=h}sn!==0&&sn!==5||$l(i),Tr!==0&&(Tr=0)}function I_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Le(g),w=1<<S,z=h[S];z===-1?((w&a)===0||(w&l)!==0)&&(h[S]=Xd(w,s)):z<=s&&(i.expiredLanes|=w),g&=~w}if(s=xe,a=Xt,a=Wi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(pe===2||pe===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ot(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ii(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&ot(l),Ss(a)){case 2:case 8:a=Gi;break;case 32:a=$s;break;case 268435456:a=$u;break;default:a=$s}return l=D_.bind(null,i),a=Ot(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&ot(l),i.callbackPriority=2,i.callbackNode=null,2}function D_(i,s){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(of()&&i.callbackNode!==a)return null;var l=Xt;return l=Wi(i,i===xe?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(f_(i,l,s),I_(i,Bt()),i.callbackNode!=null&&i.callbackNode===a?D_.bind(null,i):null)}function V_(i,s){if(of())return null;f_(i,s,!0)}function t2(){d2(function(){(ue&6)!==0?Ot(de,Jw):R_()})}function Tp(){if(Tr===0){var i=uo;i===0&&(i=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Tr=i}return Tr}function j_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wa(""+i)}function M_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function e2(i,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var g=j_((h[on]||null).action),S=l.submitter;S&&(s=(s=S[on]||null)?j_(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var w=new rs("action","action",null,l,h);i.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Tr!==0){var z=S?M_(h,S):new FormData(h);Fh(a,{pending:!0,data:z,method:h.method,action:g},null,z)}}else typeof g=="function"&&(w.preventDefault(),z=S?M_(h,S):new FormData(h),Fh(a,{pending:!0,data:z,method:h.method,action:g},g,z))},currentTarget:h}]})}}for(var Sp=0;Sp<rh.length;Sp++){var Ap=rh[Sp],n2=Ap.toLowerCase(),i2=Ap[0].toUpperCase()+Ap.slice(1);ki(n2,"on"+i2)}ki(c0,"onAnimationEnd"),ki(f0,"onAnimationIteration"),ki(d0,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(_w,"onTransitionRun"),ki(xw,"onTransitionStart"),ki(bw,"onTransitionCancel"),ki(h0,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function O_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;t:{var g=void 0;if(s)for(var S=l.length-1;0<=S;S--){var w=l[S],z=w.instance,Z=w.currentTarget;if(w=w.listener,z!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=Z;try{g(h)}catch(lt){Sc(lt)}h.currentTarget=null,g=z}else for(S=0;S<l.length;S++){if(w=l[S],z=w.instance,Z=w.currentTarget,w=w.listener,z!==g&&h.isPropagationStopped())break t;g=w,h.currentTarget=Z;try{g(h)}catch(lt){Sc(lt)}h.currentTarget=null,g=z}}}}function Kt(i,s){var a=s[Ha];a===void 0&&(a=s[Ha]=new Set);var l=i+"__bubble";a.has(l)||(N_(s,i,2,!1),a.add(l))}function Ep(i,s,a){var l=0;s&&(l|=4),N_(a,i,l,s)}var cf="_reactListening"+Math.random().toString(36).slice(2);function wp(i){if(!i[cf]){i[cf]=!0,cl.forEach(function(a){a!=="selectionchange"&&(s2.has(a)||Ep(a,!1,i),Ep(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[cf]||(s[cf]=!0,Ep("selectionchange",!1,s))}}function N_(i,s,a,l){switch(cx(s)){case 2:var h=j2;break;case 8:h=M2;break;default:h=Up}a=h.bind(null,s,a,i),h=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(s,a,{capture:!0,passive:h}):i.addEventListener(s,a,!0):h!==void 0?i.addEventListener(s,a,{passive:h}):i.addEventListener(s,a,!1)}function Cp(i,s,a,l,h){var g=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var w=l.stateNode.containerInfo;if(w===h)break;if(S===4)for(S=l.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;w!==null;){if(S=Zi(w),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){l=g=S;continue t}w=w.parentNode}}l=l.return}ir(function(){var Z=g,lt=fi(a),dt=[];t:{var et=p0.get(i);if(et!==void 0){var st=rs,bt=i;switch(i){case"keypress":if(sa(a)===0)break t;case"keydown":case"keyup":st=xc;break;case"focusin":bt="focus",st=aa;break;case"focusout":bt="blur",st=aa;break;case"beforeblur":case"afterblur":st=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=b;break;case c0:case f0:case d0:st=hc;break;case h0:st=D;break;case"scroll":case"scrollend":st=Tl;break;case"wheel":st=it;break;case"copy":case"cut":case"paste":st=pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=ws;break;case"toggle":case"beforetoggle":st=Ht}var Dt=(s&4)!==0,_e=!Dt&&(i==="scroll"||i==="scrollend"),Y=Dt?et!==null?et+"Capture":null:et;Dt=[];for(var F=Z,X;F!==null;){var ut=F;if(X=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||X===null||Y===null||(ut=Mi(F,Y),ut!=null&&Dt.push(Jl(F,ut,X))),_e)break;F=F.return}0<Dt.length&&(et=new st(et,bt,null,a,lt),dt.push({event:et,listeners:Dt}))}}if((s&7)===0){t:{if(et=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",et&&a!==_l&&(bt=a.relatedTarget||a.fromElement)&&(Zi(bt)||bt[Xi]))break t;if((st||et)&&(et=lt.window===lt?lt:(et=lt.ownerDocument)?et.defaultView||et.parentWindow:window,st?(bt=a.relatedTarget||a.toElement,st=Z,bt=bt?Zi(bt):null,bt!==null&&(_e=u(bt),Dt=bt.tag,bt!==_e||Dt!==5&&Dt!==27&&Dt!==6)&&(bt=null)):(st=null,bt=Z),st!==bt)){if(Dt=Sl,ut="onMouseLeave",Y="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Dt=ws,ut="onPointerLeave",Y="onPointerEnter",F="pointer"),_e=st==null?et:Qn(st),X=bt==null?et:Qn(bt),et=new Dt(ut,F+"leave",st,a,lt),et.target=_e,et.relatedTarget=X,ut=null,Zi(lt)===Z&&(Dt=new Dt(Y,F+"enter",bt,a,lt),Dt.target=X,Dt.relatedTarget=_e,ut=Dt),_e=ut,st&&bt)e:{for(Dt=r2,Y=st,F=bt,X=0,ut=Y;ut;ut=Dt(ut))X++;ut=0;for(var Rt=F;Rt;Rt=Dt(Rt))ut++;for(;0<X-ut;)Y=Dt(Y),X--;for(;0<ut-X;)F=Dt(F),ut--;for(;X--;){if(Y===F||F!==null&&Y===F.alternate){Dt=Y;break e}Y=Dt(Y),F=Dt(F)}Dt=null}else Dt=null;st!==null&&P_(dt,et,st,Dt,!1),bt!==null&&_e!==null&&P_(dt,_e,bt,Dt,!0)}}t:{if(et=Z?Qn(Z):window,st=et.nodeName&&et.nodeName.toLowerCase(),st==="select"||st==="input"&&et.type==="file")var ae=Jy;else if($y(et))if(t0)ae=gw;else{ae=pw;var Et=hw}else st=et.nodeName,!st||st.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Z&&Qa(Z.elementType)&&(ae=Jy):ae=mw;if(ae&&(ae=ae(i,Z))){Zy(dt,ae,a,lt);break t}Et&&Et(i,et,Z),i==="focusout"&&Z&&et.type==="number"&&Z.memoizedProps.value!=null&&gl(et,"number",et.value)}switch(Et=Z?Qn(Z):window,i){case"focusin":($y(Et)||Et.contentEditable==="true")&&(eo=Et,nh=Z,Rl=null);break;case"focusout":Rl=nh=eo=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,l0(dt,a,lt);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":l0(dt,a,lt)}var Gt;if(le)t:{switch(i){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else to?oa(i,a)&&($t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&($t="onCompositionStart");$t&&(ls&&a.locale!=="ko"&&(to||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&to&&(Gt=bl()):(ss=lt,xl="value"in ss?ss.value:ss.textContent,to=!0)),Et=ff(Z,$t),0<Et.length&&($t=new os($t,i,null,a,lt),dt.push({event:$t,listeners:Et}),Gt?$t.data=Gt:(Gt=Ja(a),Gt!==null&&($t.data=Gt)))),(Gt=hi?uw(i,a):cw(i,a))&&($t=ff(Z,"onBeforeInput"),0<$t.length&&(Et=new os("onBeforeInput","beforeinput",null,a,lt),dt.push({event:Et,listeners:$t}),Et.data=Gt)),e2(dt,i,Z,a,lt)}O_(dt,s)})}function Jl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function ff(i,s){for(var a=s+"Capture",l=[];i!==null;){var h=i,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Mi(i,a),h!=null&&l.unshift(Jl(i,h,g)),h=Mi(i,s),h!=null&&l.push(Jl(i,h,g))),i.tag===3)return l;i=i.return}return[]}function r2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function P_(i,s,a,l,h){for(var g=s._reactName,S=[];a!==null&&a!==l;){var w=a,z=w.alternate,Z=w.stateNode;if(w=w.tag,z!==null&&z===l)break;w!==5&&w!==26&&w!==27||Z===null||(z=Z,h?(Z=Mi(a,g),Z!=null&&S.unshift(Jl(a,Z,z))):h||(Z=Mi(a,g),Z!=null&&S.push(Jl(a,Z,z)))),a=a.return}S.length!==0&&i.push({event:s,listeners:S})}var a2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function k_(i){return(typeof i=="string"?i:""+i).replace(a2,`
`).replace(o2,"")}function L_(i,s){return s=k_(s),k_(i)===s}function ve(i,s,a,l,h,g){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||kn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&kn(i,""+l);break;case"className":Wn(i,"class",l);break;case"tabIndex":Wn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(i,a,l);break;case"style":vl(i,l,g);break;case"data":if(s!=="object"){Wn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Wa(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&ve(i,s,"name",h.name,h,null),ve(i,s,"formEncType",h.formEncType,h,null),ve(i,s,"formMethod",h.formMethod,h,null),ve(i,s,"formTarget",h.formTarget,h,null)):(ve(i,s,"encType",h.encType,h,null),ve(i,s,"method",h.method,h,null),ve(i,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Wa(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ji);break;case"onScroll":l!=null&&Kt("scroll",i);break;case"onScrollEnd":l!=null&&Kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Wa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Kt("beforetoggle",i),Kt("toggle",i),Ga(i,"popover",l);break;case"xlinkActuate":Ye(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ye(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ye(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ye(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ye(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ye(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cc.get(a)||a,Ga(i,a,l))}}function Rp(i,s,a,l,h,g){switch(a){case"style":vl(i,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?kn(i,l):(typeof l=="number"||typeof l=="bigint")&&kn(i,""+l);break;case"onScroll":l!=null&&Kt("scroll",i);break;case"onScrollEnd":l!=null&&Kt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),g=i[on]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(s,g,h),typeof l=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,h);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ga(i,a,l)}}}function _n(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",i),Kt("load",i);var l=!1,h=!1,g;for(g in a)if(a.hasOwnProperty(g)){var S=a[g];if(S!=null)switch(g){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(i,s,g,S,a,null)}}h&&ve(i,s,"srcSet",a.srcSet,a,null),l&&ve(i,s,"src",a.src,a,null);return;case"input":Kt("invalid",i);var w=g=S=h=null,z=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var lt=a[l];if(lt!=null)switch(l){case"name":h=lt;break;case"type":S=lt;break;case"checked":z=lt;break;case"defaultChecked":Z=lt;break;case"value":g=lt;break;case"defaultValue":w=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,s));break;default:ve(i,s,l,lt,a,null)}}oc(i,g,w,z,Z,S,h,!1);return;case"select":Kt("invalid",i),l=S=g=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":g=w;break;case"defaultValue":S=w;break;case"multiple":l=w;default:ve(i,s,h,w,a,null)}s=g,a=S,i.multiple=!!l,s!=null?Js(i,!!l,s,!1):a!=null&&Js(i,!!l,a,!0);return;case"textarea":Kt("invalid",i),g=h=l=null;for(S in a)if(a.hasOwnProperty(S)&&(w=a[S],w!=null))switch(S){case"value":l=w;break;case"defaultValue":h=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ve(i,s,S,w,a,null)}tr(i,l,h,g);return;case"option":for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!=null)&&(z==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":ve(i,s,z,l,a,null));return;case"dialog":Kt("beforetoggle",i),Kt("toggle",i),Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":Kt("load",i);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Kt(Zl[l],i);break;case"image":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"embed":case"source":case"link":Kt("error",i),Kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(i,s,Z,l,a,null)}return;default:if(Qa(s)){for(lt in a)a.hasOwnProperty(lt)&&(l=a[lt],l!==void 0&&Rp(i,s,lt,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ve(i,s,w,l,a,null))}function l2(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,S=null,w=null,z=null,Z=null,lt=null;for(st in a){var dt=a[st];if(a.hasOwnProperty(st)&&dt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":z=dt;default:l.hasOwnProperty(st)||ve(i,s,st,null,l,dt)}}for(var et in l){var st=l[et];if(dt=a[et],l.hasOwnProperty(et)&&(st!=null||dt!=null))switch(et){case"type":g=st;break;case"name":h=st;break;case"checked":Z=st;break;case"defaultChecked":lt=st;break;case"value":S=st;break;case"defaultValue":w=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:st!==dt&&ve(i,s,et,st,l,dt)}}Ya(i,S,w,z,Z,lt,g,h);return;case"select":st=S=w=et=null;for(g in a)if(z=a[g],a.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":st=z;default:l.hasOwnProperty(g)||ve(i,s,g,null,l,z)}for(h in l)if(g=l[h],z=a[h],l.hasOwnProperty(h)&&(g!=null||z!=null))switch(h){case"value":et=g;break;case"defaultValue":w=g;break;case"multiple":S=g;default:g!==z&&ve(i,s,h,g,l,z)}s=w,a=S,l=st,et!=null?Js(i,!!a,et,!1):!!l!=!!a&&(s!=null?Js(i,!!a,s,!0):Js(i,!!a,a?[]:"",!1));return;case"textarea":st=et=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ve(i,s,w,null,l,h)}for(S in l)if(h=l[S],g=a[S],l.hasOwnProperty(S)&&(h!=null||g!=null))switch(S){case"value":et=h;break;case"defaultValue":st=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==g&&ve(i,s,S,h,l,g)}lc(i,et,st);return;case"option":for(var bt in a)et=a[bt],a.hasOwnProperty(bt)&&et!=null&&!l.hasOwnProperty(bt)&&(bt==="selected"?i.selected=!1:ve(i,s,bt,null,l,et));for(z in l)et=l[z],st=a[z],l.hasOwnProperty(z)&&et!==st&&(et!=null||st!=null)&&(z==="selected"?i.selected=et&&typeof et!="function"&&typeof et!="symbol":ve(i,s,z,et,l,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in a)et=a[Dt],a.hasOwnProperty(Dt)&&et!=null&&!l.hasOwnProperty(Dt)&&ve(i,s,Dt,null,l,et);for(Z in l)if(et=l[Z],st=a[Z],l.hasOwnProperty(Z)&&et!==st&&(et!=null||st!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,s));break;default:ve(i,s,Z,et,l,st)}return;default:if(Qa(s)){for(var _e in a)et=a[_e],a.hasOwnProperty(_e)&&et!==void 0&&!l.hasOwnProperty(_e)&&Rp(i,s,_e,void 0,l,et);for(lt in l)et=l[lt],st=a[lt],!l.hasOwnProperty(lt)||et===st||et===void 0&&st===void 0||Rp(i,s,lt,et,l,st);return}}for(var Y in a)et=a[Y],a.hasOwnProperty(Y)&&et!=null&&!l.hasOwnProperty(Y)&&ve(i,s,Y,null,l,et);for(dt in l)et=l[dt],st=a[dt],!l.hasOwnProperty(dt)||et===st||et==null&&st==null||ve(i,s,dt,et,l,st)}function B_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],g=h.transferSize,S=h.initiatorType,w=h.duration;if(g&&w&&B_(S)){for(S=0,w=h.responseEnd,l+=1;l<a.length;l++){var z=a[l],Z=z.startTime;if(Z>w)break;var lt=z.transferSize,dt=z.initiatorType;lt&&B_(dt)&&(z=z.responseEnd,S+=lt*(z<w?1:(w-Z)/(z-Z)))}if(--l,s+=8*(g+S)/(h.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ip=null,Dp=null;function df(i){return i.nodeType===9?i:i.ownerDocument}function z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Vp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jp=null;function c2(){var i=window.event;return i&&i.type==="popstate"?i===jp?!1:(jp=i,!0):(jp=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(i){return H_.resolve(null).then(i).catch(h2)}:F_;function h2(i){setTimeout(function(){throw i})}function Sr(i){return i==="head"}function q_(i,s){var a=s,l=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(h),Io(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")tu(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,tu(a);for(var g=a.firstChild;g;){var S=g.nextSibling,w=g.nodeName;g[$i]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=S}}else a==="body"&&tu(i.ownerDocument.body);a=h}while(a);Io(s)}function G_(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Mp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mp(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function p2(i,s,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[$i])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=xi(i.nextSibling),i===null)break}return null}function m2(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=xi(i.nextSibling),i===null))return null;return i}function Y_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=xi(i.nextSibling),i===null))return null;return i}function Op(i){return i.data==="$?"||i.data==="$~"}function Np(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function g2(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function xi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Pp=null;function Q_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return xi(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function W_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function K_(i,s,a){switch(s=df(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function tu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);qa(i)}var bi=new Map,X_=new Set;function hf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Us=rt.d;rt.d={f:y2,r:v2,D:_2,C:x2,L:b2,m:T2,X:A2,S:S2,M:E2};function y2(){var i=Us.f(),s=sf();return i||s}function v2(i){var s=ci(i);s!==null&&s.tag===5&&s.type==="form"?hv(s):Us.r(i)}var wo=typeof document>"u"?null:document;function $_(i,s,a){var l=wo;if(l&&typeof s=="string"&&s){var h=Pn(s);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),i={rel:i,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),_n(s,"link",i),Ge(s),l.head.appendChild(s)))}}function _2(i){Us.D(i),$_("dns-prefetch",i,null)}function x2(i,s){Us.C(i,s),$_("preconnect",i,s)}function b2(i,s,a){Us.L(i,s,a);var l=wo;if(l&&i&&s){var h='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pn(a.imageSizes)+'"]')):h+='[href="'+Pn(i)+'"]';var g=h;switch(s){case"style":g=Co(i);break;case"script":g=Ro(i)}bi.has(g)||(i=f({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),bi.set(g,i),l.querySelector(h)!==null||s==="style"&&l.querySelector(eu(g))||s==="script"&&l.querySelector(nu(g))||(s=l.createElement("link"),_n(s,"link",i),Ge(s),l.head.appendChild(s)))}}function T2(i,s){Us.m(i,s);var a=wo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Pn(l)+'"][href="'+Pn(i)+'"]',g=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ro(i)}if(!bi.has(g)&&(i=f({rel:"modulepreload",href:i},s),bi.set(g,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nu(g)))return}l=a.createElement("link"),_n(l,"link",i),Ge(l),a.head.appendChild(l)}}}function S2(i,s,a){Us.S(i,s,a);var l=wo;if(l&&i){var h=Ji(l).hoistableStyles,g=Co(i);s=s||"default";var S=h.get(g);if(!S){var w={loading:0,preload:null};if(S=l.querySelector(eu(g)))w.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":s},a),(a=bi.get(g))&&kp(i,a);var z=S=l.createElement("link");Ge(z),_n(z,"link",i),z._p=new Promise(function(Z,lt){z.onload=Z,z.onerror=lt}),z.addEventListener("load",function(){w.loading|=1}),z.addEventListener("error",function(){w.loading|=2}),w.loading|=4,pf(S,s,l)}S={type:"stylesheet",instance:S,count:1,state:w},h.set(g,S)}}}function A2(i,s){Us.X(i,s);var a=wo;if(a&&i){var l=Ji(a).hoistableScripts,h=Ro(i),g=l.get(h);g||(g=a.querySelector(nu(h)),g||(i=f({src:i,async:!0},s),(s=bi.get(h))&&Lp(i,s),g=a.createElement("script"),Ge(g),_n(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function E2(i,s){Us.M(i,s);var a=wo;if(a&&i){var l=Ji(a).hoistableScripts,h=Ro(i),g=l.get(h);g||(g=a.querySelector(nu(h)),g||(i=f({src:i,async:!0,type:"module"},s),(s=bi.get(h))&&Lp(i,s),g=a.createElement("script"),Ge(g),_n(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function Z_(i,s,a,l){var h=(h=St.current)?hf(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Co(a.href),a=Ji(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Co(a.href);var g=Ji(h).hoistableStyles,S=g.get(i);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=h.querySelector(eu(i)))&&!g._p&&(S.instance=g,S.state.loading=5),bi.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(i,a),g||w2(h,i,a,S.state))),s&&l===null)throw Error(r(528,""));return S}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(a),a=Ji(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Co(i){return'href="'+Pn(i)+'"'}function eu(i){return'link[rel="stylesheet"]['+i+"]"}function J_(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function w2(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),_n(s,"link",a),Ge(s),i.head.appendChild(s))}function Ro(i){return'[src="'+Pn(i)+'"]'}function nu(i){return"script[async]"+i}function tx(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+Pn(a.href)+'"]');if(l)return s.instance=l,Ge(l),l;var h=f({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ge(l),_n(l,"style",h),pf(l,a.precedence,i),s.instance=l;case"stylesheet":h=Co(a.href);var g=i.querySelector(eu(h));if(g)return s.state.loading|=4,s.instance=g,Ge(g),g;l=J_(a),(h=bi.get(h))&&kp(l,h),g=(i.ownerDocument||i).createElement("link"),Ge(g);var S=g;return S._p=new Promise(function(w,z){S.onload=w,S.onerror=z}),_n(g,"link",l),s.state.loading|=4,pf(g,a.precedence,i),s.instance=g;case"script":return g=Ro(a.src),(h=i.querySelector(nu(g)))?(s.instance=h,Ge(h),h):(l=a,(h=bi.get(g))&&(l=f({},a),Lp(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),Ge(h),_n(h,"link",l),i.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,pf(l,a.precedence,i));return s.instance}function pf(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,g=h,S=0;S<l.length;S++){var w=l[S];if(w.dataset.precedence===s)g=w;else if(g!==h)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function kp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var mf=null;function ex(i,s,a){if(mf===null){var l=new Map,h=mf=new Map;h.set(a,l)}else h=mf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var g=a[h];if(!(g[$i]||g[qe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=i+S;var w=l.get(S);w?w.push(g):l.set(S,[g])}}return l}function nx(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function C2(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ix(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function R2(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Co(l.href),g=s.querySelector(eu(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=gf.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=g,Ge(g);return}g=s.ownerDocument||s,l=J_(l),(h=bi.get(h))&&kp(l,h),g=g.createElement("link"),Ge(g);var S=g;S._p=new Promise(function(w,z){S.onload=w,S.onerror=z}),_n(g,"link",l),a.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=gf.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Bp=0;function I2(i,s){return i.stylesheets&&i.count===0&&vf(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Bp===0&&(Bp=62500*u2());var h=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Bp?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yf=null;function vf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yf=new Map,s.forEach(D2,i),yf=null,gf.call(i))}function D2(i,s){if(!(s.state.loading&4)){var a=yf.get(i);if(a)var l=a.get(null);else{a=new Map,yf.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var S=h[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),l=S)}l&&a.set(null,l)}h=s.instance,S=h.getAttribute("data-precedence"),g=a.get(S)||l,g===l&&a.set(null,h),a.set(S,h),this.count++,l=gf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),g?g.parentNode.insertBefore(h,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),s.state.loading|=4}}var iu={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function V2(i,s,a,l,h,g,S,w,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function sx(i,s,a,l,h,g,S,w,z,Z,lt,dt){return i=new V2(i,s,a,S,z,Z,lt,dt,w),s=1,g===!0&&(s|=24),g=Xn(3,null,null,s),i.current=g,g.stateNode=i,s=vh(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:s},Th(g),i}function rx(i){return i?(i=so,i):so}function ax(i,s,a,l,h,g){h=rx(h),l.context===null?l.context=h:l.pendingContext=h,l=dr(s),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=hr(i,l,s),a!==null&&(Fn(a,i,s),Nl(a,i,s))}function ox(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function zp(i,s){ox(i,s),(i=i.alternate)&&ox(i,s)}function lx(i){if(i.tag===13||i.tag===31){var s=ca(i,67108864);s!==null&&Fn(s,i,67108864),zp(i,67108864)}}function ux(i){if(i.tag===13||i.tag===31){var s=ei();s=Zr(s);var a=ca(i,s);a!==null&&Fn(a,i,s),zp(i,s)}}var _f=!0;function j2(i,s,a,l){var h=W.T;W.T=null;var g=rt.p;try{rt.p=2,Up(i,s,a,l)}finally{rt.p=g,W.T=h}}function M2(i,s,a,l){var h=W.T;W.T=null;var g=rt.p;try{rt.p=8,Up(i,s,a,l)}finally{rt.p=g,W.T=h}}function Up(i,s,a,l){if(_f){var h=Fp(l);if(h===null)Cp(i,s,l,xf,a),fx(i,l);else if(N2(h,i,s,a,l))l.stopPropagation();else if(fx(i,l),s&4&&-1<O2.indexOf(i)){for(;h!==null;){var g=ci(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Qi(g.pendingLanes);if(S!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var z=1<<31-Le(S);w.entanglements[1]|=z,S&=~z}ds(g),(ue&6)===0&&(ef=Bt()+500,$l(0))}}break;case 31:case 13:w=ca(g,2),w!==null&&Fn(w,g,2),sf(),zp(g,2)}if(g=Fp(l),g===null&&Cp(i,s,l,xf,a),g===h)break;h=g}h!==null&&l.stopPropagation()}else Cp(i,s,l,null,a)}}function Fp(i){return i=fi(i),Hp(i)}var xf=null;function Hp(i){if(xf=null,i=Zi(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=p(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return xf=i,null}function cx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case de:return 2;case Gi:return 8;case $s:case Kd:return 32;case $u:return 268435456;default:return 32}default:return 32}}var qp=!1,Ar=null,Er=null,wr=null,su=new Map,ru=new Map,Cr=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fx(i,s){switch(i){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(s.pointerId)}}function au(i,s,a,l,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[h]},s!==null&&(s=ci(s),s!==null&&lx(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function N2(i,s,a,l,h){switch(s){case"focusin":return Ar=au(Ar,i,s,a,l,h),!0;case"dragenter":return Er=au(Er,i,s,a,l,h),!0;case"mouseover":return wr=au(wr,i,s,a,l,h),!0;case"pointerover":var g=h.pointerId;return su.set(g,au(su.get(g)||null,i,s,a,l,h)),!0;case"gotpointercapture":return g=h.pointerId,ru.set(g,au(ru.get(g)||null,i,s,a,l,h)),!0}return!1}function dx(i){var s=Zi(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Di(i.priority,function(){ux(a)});return}}else if(s===31){if(s=p(a),s!==null){i.blockedOn=s,Di(i.priority,function(){ux(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Fp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);_l=l,a.target.dispatchEvent(l),_l=null}else return s=ci(a),s!==null&&lx(s),i.blockedOn=a,!1;s.shift()}return!0}function hx(i,s,a){bf(i)&&a.delete(s)}function P2(){qp=!1,Ar!==null&&bf(Ar)&&(Ar=null),Er!==null&&bf(Er)&&(Er=null),wr!==null&&bf(wr)&&(wr=null),su.forEach(hx),ru.forEach(hx)}function Tf(i,s){i.blockedOn===s&&(i.blockedOn=null,qp||(qp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,P2)))}var Sf=null;function px(i){Sf!==i&&(Sf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sf===i&&(Sf=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],h=i[s+2];if(typeof l!="function"){if(Hp(l||a)===null)continue;break}var g=ci(a);g!==null&&(i.splice(s,3),s-=3,Fh(g,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Io(i){function s(z){return Tf(z,i)}Ar!==null&&Tf(Ar,i),Er!==null&&Tf(Er,i),wr!==null&&Tf(wr,i),su.forEach(s),ru.forEach(s);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)dx(a),a.blockedOn===null&&Cr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],g=a[l+1],S=h[on]||null;if(typeof g=="function")S||px(a);else if(S){var w=null;if(g&&g.hasAttribute("formAction")){if(h=g,S=g[on]||null)w=S.formAction;else if(Hp(h)!==null)continue}else w=S.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),px(a)}}}function mx(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Gp(i){this._internalRoot=i}Af.prototype.render=Gp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ei();ax(a,l,i,s,null,null)},Af.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ax(i.current,2,null,i,null,null),sf(),s[Xi]=null}};function Af(i){this._internalRoot=i}Af.prototype.unstable_scheduleHydration=function(i){if(i){var s=ic();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Cr.length&&s!==0&&s<Cr[a].priority;a++);Cr.splice(a,0,i),a===0&&dx(i)}};var gx=t.version;if(gx!=="19.2.3")throw Error(r(527,gx,"19.2.3"));rt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=v(s),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var k2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Ri=Ef.inject(k2),pn=Ef}catch{}}return uu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",h=Sv,g=Av,S=Ev;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=sx(i,1,!1,null,null,a,l,null,h,g,S,mx),i[Xi]=s.current,wp(i),new Gp(s)},uu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,h="",g=Sv,S=Av,w=Ev,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),s=sx(i,1,!0,s,a??null,l,h,z,g,S,w,mx),s.context=rx(null),a=s.current,l=ei(),l=Zr(l),h=dr(l),h.callback=null,hr(a,h,l),a=l,s.current.lanes=a,Xr(s,a),ds(s),i[Xi]=s.current,wp(i),new Af(s)},uu.version="19.2.3",uu}var wx;function Q2(){if(wx)return Wp.exports;wx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wp.exports=Y2(),Wp.exports}var W2=Q2();const K2=()=>{};var Cx={};const _T=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},X2=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],p=n[e++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,p=c?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,x=u>>2,f=(u&3)<<4|p>>4;let _=(p&15)<<2|v>>6,T=v&63;m||(T=64,c||(_=64)),r.push(e[x],e[f],e[_],e[T])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_T(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):X2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],p=o<n.length?e[n.charAt(o)]:0;++o;const v=o<n.length?e[n.charAt(o)]:64;++o;const f=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||p==null||v==null||f==null)throw new $2;const _=u<<2|p>>4;if(r.push(_),v!==64){const T=p<<4&240|v>>2;if(r.push(T),f!==64){const E=v<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z2=function(n){const t=_T(n);return xT.encodeByteArray(t,!0)},Xf=function(n){return Z2(n).replace(/\./g,"")},J2=function(n){try{return xT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eC=()=>tC().__FIREBASE_DEFAULTS__,nC=()=>{if(typeof process>"u"||typeof Cx>"u")return;const n=Cx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&J2(n[1]);return t&&JSON.parse(t)},Tg=()=>{try{return K2()||eC()||nC()||iC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sC=n=>Tg()?.emulatorHosts?.[n],rC=n=>{const t=sC(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},bT=()=>Tg()?.config;class aC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Sg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oC(n){return(await fetch(n,{credentials:"include"})).ok}function lC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xf(JSON.stringify(e)),Xf(JSON.stringify(c)),""].join(".")}const yu={};function uC(){const n={prod:[],emulator:[]};for(const t of Object.keys(yu))yu[t]?n.emulator.push(t):n.prod.push(t);return n}function cC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Rx=!1;function fC(n,t){if(typeof window>"u"||typeof document>"u"||!Sg(window.location.host)||yu[n]===t||yu[n]||Rx)return;yu[n]=t;function e(_){return`__firebase__banner__${_}`}const r="__firebase__banner",u=uC().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function v(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Rx=!0,c()},_}function x(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function f(){const _=cC(r),T=e("text"),E=document.getElementById(T)||document.createElement("span"),C=e("learnmore"),M=document.getElementById(C)||document.createElement("a"),j=e("preprendIcon"),N=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;p(B),x(M,C);const G=v();m(N,j),B.append(N,E,M,G),document.body.appendChild(B)}u?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function dC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hC(){const n=Tg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}function gC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const yC="FirebaseError";class Gr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=yC,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xd.prototype.create)}}class xd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?vC(u,r):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Gr(o,p,r)}}function vC(n,t){return n.replace(_C,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const _C=/\{\$([^}]+)}/g;function wu(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(Ix(u)&&Ix(c)){if(!wu(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function Ix(n){return n!==null&&typeof n=="object"}const xC=1e3,bC=2,TC=14400*1e3,SC=.5;function Dx(n,t=xC,e=bC){const r=t*Math.pow(e,n),o=Math.round(SC*r*(Math.random()-.5)*2);return Math.min(TC,r+o)}function ai(n){return n&&n._delegate?n._delegate:n}class Hs{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class AC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new aC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wC(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EC(n){return n===Ea?void 0:n}function wC(n){return n.instantiationMode==="EAGER"}class CC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new AC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(re||(re={}));const RC={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},IC=re.INFO,DC={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},VC=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=DC[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ag{constructor(t){this.name=t,this._logLevel=IC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const jC=(n,t)=>t.some(e=>n instanceof e);let Vx,jx;function MC(){return Vx||(Vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return jx||(jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,Rm=new WeakMap,ET=new WeakMap,Zp=new WeakMap,Eg=new WeakMap;function NC(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(jr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&AT.set(e,n)}).catch(()=>{}),Eg.set(t,n),t}function PC(n){if(Rm.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Rm.set(n,t)}let Im={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Rm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ET.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return jr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function kC(n){Im=n(Im)}function LC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Jp(this),t,...e);return ET.set(r,t.sort?t.sort():[t]),jr(r)}:OC().includes(n)?function(...t){return n.apply(Jp(this),t),jr(AT.get(this))}:function(...t){return jr(n.apply(Jp(this),t))}}function BC(n){return typeof n=="function"?LC(n):(n instanceof IDBTransaction&&PC(n),jC(n,MC())?new Proxy(n,Im):n)}function jr(n){if(n instanceof IDBRequest)return NC(n);if(Zp.has(n))return Zp.get(n);const t=BC(n);return t!==n&&(Zp.set(n,t),Eg.set(t,n)),t}const Jp=n=>Eg.get(n);function wT(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),p=jr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(jr(c.result),m.oldVersion,m.newVersion,jr(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const zC=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],tm=new Map;function Mx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(tm.get(t))return tm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=UC.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zC.includes(e)))return;const u=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let v=m.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[e](...p),o&&m.done]))[0]};return tm.set(t,u),u}kC(n=>({...n,get:(t,e,r)=>Mx(t,e)||n.get(t,e,r),has:(t,e)=>!!Mx(t,e)||n.has(t,e)}));class FC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(HC(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function HC(n){return n.getComponent()?.type==="VERSION"}const Dm="@firebase/app",Ox="0.14.6";const qs=new Ag("@firebase/app"),qC="@firebase/app-compat",GC="@firebase/analytics-compat",YC="@firebase/analytics",QC="@firebase/app-check-compat",WC="@firebase/app-check",KC="@firebase/auth",XC="@firebase/auth-compat",$C="@firebase/database",ZC="@firebase/data-connect",JC="@firebase/database-compat",tR="@firebase/functions",eR="@firebase/functions-compat",nR="@firebase/installations",iR="@firebase/installations-compat",sR="@firebase/messaging",rR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",fR="@firebase/storage-compat",dR="@firebase/firestore",hR="@firebase/ai",pR="@firebase/firestore-compat",mR="firebase",gR="12.6.0";const Vm="[DEFAULT]",yR={[Dm]:"fire-core",[qC]:"fire-core-compat",[YC]:"fire-analytics",[GC]:"fire-analytics-compat",[WC]:"fire-app-check",[QC]:"fire-app-check-compat",[KC]:"fire-auth",[XC]:"fire-auth-compat",[$C]:"fire-rtdb",[ZC]:"fire-data-connect",[JC]:"fire-rtdb-compat",[tR]:"fire-fn",[eR]:"fire-fn-compat",[nR]:"fire-iid",[iR]:"fire-iid-compat",[sR]:"fire-fcm",[rR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[fR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};const $f=new Map,vR=new Map,jm=new Map;function Nx(n,t){try{n.container.addComponent(t)}catch(e){qs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Pr(n){const t=n.name;if(jm.has(t))return qs.debug(`There were multiple attempts to register component ${t}.`),!1;jm.set(t,n);for(const e of $f.values())Nx(e,n);for(const e of vR.values())Nx(e,n);return!0}function zu(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _R(n){return n==null?!1:n.settings!==void 0}const xR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new xd("app","Firebase",xR);class bR{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const TR=gR;function CT(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Vm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(e||(e=bT()),!e)throw Mr.create("no-options");const u=$f.get(o);if(u){if(wu(e,u.options)&&wu(r,u.config))return u;throw Mr.create("duplicate-app",{appName:o})}const c=new CC(o);for(const m of jm.values())c.addComponent(m);const p=new bR(e,r,c);return $f.set(o,p),p}function RT(n=Vm){const t=$f.get(n);if(!t&&n===Vm&&bT())return CT();if(!t)throw Mr.create("no-app",{appName:n});return t}function ms(n,t,e){let r=yR[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qs.warn(c.join(" "));return}Pr(new Hs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const SR="firebase-heartbeat-database",AR=1,Cu="firebase-heartbeat-store";let em=null;function IT(){return em||(em=wT(SR,AR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Cu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Mr.create("idb-open",{originalErrorMessage:n.message})})),em}async function ER(n){try{const e=(await IT()).transaction(Cu),r=await e.objectStore(Cu).get(DT(n));return await e.done,r}catch(t){if(t instanceof Gr)qs.warn(t.message);else{const e=Mr.create("idb-get",{originalErrorMessage:t?.message});qs.warn(e.message)}}}async function Px(n,t){try{const r=(await IT()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(t,DT(n)),await r.done}catch(e){if(e instanceof Gr)qs.warn(e.message);else{const r=Mr.create("idb-set",{originalErrorMessage:e?.message});qs.warn(r.message)}}}function DT(n){return`${n.name}!${n.options.appId}`}const wR=1024,CR=30;class RR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new DR(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>CR){const o=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kx(),{heartbeatsToSend:e,unsentEntries:r}=IR(this._heartbeatsCache.heartbeats),o=Xf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qs.warn(t),""}}}function kx(){return new Date().toISOString().substring(0,10)}function IR(n,t=wR){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Lx(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Lx(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class DR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ER(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Px(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Px(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Lx(n){return Xf(JSON.stringify({version:2,heartbeats:n})).length}function VR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function jR(n){Pr(new Hs("platform-logger",t=>new FC(t),"PRIVATE")),Pr(new Hs("heartbeat",t=>new RR(t),"PRIVATE")),ms(Dm,Ox,n),ms(Dm,Ox,"esm2020"),ms("fire-js","")}jR("");var MR="firebase",OR="12.7.0";ms(MR,OR,"app");var Bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Or,VT;(function(){var n;function t(V,R){function I(){}I.prototype=R.prototype,V.F=R.prototype,V.prototype=new I,V.prototype.constructor=V,V.D=function(k,L,U){for(var P=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)P[Ct-2]=arguments[Ct];return R.prototype[L].apply(k,P)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,I){I||(I=0);const k=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)k[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;L<16;++L)k[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=V.g[0],I=V.g[1],L=V.g[2];let U=V.g[3],P;P=R+(U^I&(L^U))+k[0]+3614090360&4294967295,R=I+(P<<7&4294967295|P>>>25),P=U+(L^R&(I^L))+k[1]+3905402710&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(I^U&(R^I))+k[2]+606105819&4294967295,L=U+(P<<17&4294967295|P>>>15),P=I+(R^L&(U^R))+k[3]+3250441966&4294967295,I=L+(P<<22&4294967295|P>>>10),P=R+(U^I&(L^U))+k[4]+4118548399&4294967295,R=I+(P<<7&4294967295|P>>>25),P=U+(L^R&(I^L))+k[5]+1200080426&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(I^U&(R^I))+k[6]+2821735955&4294967295,L=U+(P<<17&4294967295|P>>>15),P=I+(R^L&(U^R))+k[7]+4249261313&4294967295,I=L+(P<<22&4294967295|P>>>10),P=R+(U^I&(L^U))+k[8]+1770035416&4294967295,R=I+(P<<7&4294967295|P>>>25),P=U+(L^R&(I^L))+k[9]+2336552879&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(I^U&(R^I))+k[10]+4294925233&4294967295,L=U+(P<<17&4294967295|P>>>15),P=I+(R^L&(U^R))+k[11]+2304563134&4294967295,I=L+(P<<22&4294967295|P>>>10),P=R+(U^I&(L^U))+k[12]+1804603682&4294967295,R=I+(P<<7&4294967295|P>>>25),P=U+(L^R&(I^L))+k[13]+4254626195&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(I^U&(R^I))+k[14]+2792965006&4294967295,L=U+(P<<17&4294967295|P>>>15),P=I+(R^L&(U^R))+k[15]+1236535329&4294967295,I=L+(P<<22&4294967295|P>>>10),P=R+(L^U&(I^L))+k[1]+4129170786&4294967295,R=I+(P<<5&4294967295|P>>>27),P=U+(I^L&(R^I))+k[6]+3225465664&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^I&(U^R))+k[11]+643717713&4294967295,L=U+(P<<14&4294967295|P>>>18),P=I+(U^R&(L^U))+k[0]+3921069994&4294967295,I=L+(P<<20&4294967295|P>>>12),P=R+(L^U&(I^L))+k[5]+3593408605&4294967295,R=I+(P<<5&4294967295|P>>>27),P=U+(I^L&(R^I))+k[10]+38016083&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^I&(U^R))+k[15]+3634488961&4294967295,L=U+(P<<14&4294967295|P>>>18),P=I+(U^R&(L^U))+k[4]+3889429448&4294967295,I=L+(P<<20&4294967295|P>>>12),P=R+(L^U&(I^L))+k[9]+568446438&4294967295,R=I+(P<<5&4294967295|P>>>27),P=U+(I^L&(R^I))+k[14]+3275163606&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^I&(U^R))+k[3]+4107603335&4294967295,L=U+(P<<14&4294967295|P>>>18),P=I+(U^R&(L^U))+k[8]+1163531501&4294967295,I=L+(P<<20&4294967295|P>>>12),P=R+(L^U&(I^L))+k[13]+2850285829&4294967295,R=I+(P<<5&4294967295|P>>>27),P=U+(I^L&(R^I))+k[2]+4243563512&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^I&(U^R))+k[7]+1735328473&4294967295,L=U+(P<<14&4294967295|P>>>18),P=I+(U^R&(L^U))+k[12]+2368359562&4294967295,I=L+(P<<20&4294967295|P>>>12),P=R+(I^L^U)+k[5]+4294588738&4294967295,R=I+(P<<4&4294967295|P>>>28),P=U+(R^I^L)+k[8]+2272392833&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^I)+k[11]+1839030562&4294967295,L=U+(P<<16&4294967295|P>>>16),P=I+(L^U^R)+k[14]+4259657740&4294967295,I=L+(P<<23&4294967295|P>>>9),P=R+(I^L^U)+k[1]+2763975236&4294967295,R=I+(P<<4&4294967295|P>>>28),P=U+(R^I^L)+k[4]+1272893353&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^I)+k[7]+4139469664&4294967295,L=U+(P<<16&4294967295|P>>>16),P=I+(L^U^R)+k[10]+3200236656&4294967295,I=L+(P<<23&4294967295|P>>>9),P=R+(I^L^U)+k[13]+681279174&4294967295,R=I+(P<<4&4294967295|P>>>28),P=U+(R^I^L)+k[0]+3936430074&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^I)+k[3]+3572445317&4294967295,L=U+(P<<16&4294967295|P>>>16),P=I+(L^U^R)+k[6]+76029189&4294967295,I=L+(P<<23&4294967295|P>>>9),P=R+(I^L^U)+k[9]+3654602809&4294967295,R=I+(P<<4&4294967295|P>>>28),P=U+(R^I^L)+k[12]+3873151461&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^I)+k[15]+530742520&4294967295,L=U+(P<<16&4294967295|P>>>16),P=I+(L^U^R)+k[2]+3299628645&4294967295,I=L+(P<<23&4294967295|P>>>9),P=R+(L^(I|~U))+k[0]+4096336452&4294967295,R=I+(P<<6&4294967295|P>>>26),P=U+(I^(R|~L))+k[7]+1126891415&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~I))+k[14]+2878612391&4294967295,L=U+(P<<15&4294967295|P>>>17),P=I+(U^(L|~R))+k[5]+4237533241&4294967295,I=L+(P<<21&4294967295|P>>>11),P=R+(L^(I|~U))+k[12]+1700485571&4294967295,R=I+(P<<6&4294967295|P>>>26),P=U+(I^(R|~L))+k[3]+2399980690&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~I))+k[10]+4293915773&4294967295,L=U+(P<<15&4294967295|P>>>17),P=I+(U^(L|~R))+k[1]+2240044497&4294967295,I=L+(P<<21&4294967295|P>>>11),P=R+(L^(I|~U))+k[8]+1873313359&4294967295,R=I+(P<<6&4294967295|P>>>26),P=U+(I^(R|~L))+k[15]+4264355552&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~I))+k[6]+2734768916&4294967295,L=U+(P<<15&4294967295|P>>>17),P=I+(U^(L|~R))+k[13]+1309151649&4294967295,I=L+(P<<21&4294967295|P>>>11),P=R+(L^(I|~U))+k[4]+4149444226&4294967295,R=I+(P<<6&4294967295|P>>>26),P=U+(I^(R|~L))+k[11]+3174756917&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~I))+k[2]+718787259&4294967295,L=U+(P<<15&4294967295|P>>>17),P=I+(U^(L|~R))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+U&4294967295}r.prototype.v=function(V,R){R===void 0&&(R=V.length);const I=R-this.blockSize,k=this.C;let L=this.h,U=0;for(;U<R;){if(L==0)for(;U<=I;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(k[L++]=V.charCodeAt(U++),L==this.blockSize){o(this,k),L=0;break}}else for(;U<R;)if(k[L++]=V[U++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=R},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;R=this.o*8;for(var I=V.length-8;I<V.length;++I)V[I]=R&255,R/=256;for(this.v(V),V=Array(16),R=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)V[R++]=this.g[I]>>>k&255;return V};function u(V,R){var I=p;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=R(V)}function c(V,R){this.h=R;const I=[];let k=!0;for(let L=V.length-1;L>=0;L--){const U=V[L]|0;k&&U==R||(I[L]=U,k=!1)}this.g=I}var p={};function m(V){return-128<=V&&V<128?u(V,function(R){return new c([R|0],R<0?-1:0)}):new c([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return f;if(V<0)return M(v(-V));const R=[];let I=1;for(let k=0;V>=I;k++)R[k]=V/I|0,I*=4294967296;return new c(R,0)}function x(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return M(x(V.substring(1),R));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(R,8));let k=f;for(let U=0;U<V.length;U+=8){var L=Math.min(8,V.length-U);const P=parseInt(V.substring(U,U+L),R);L<8?(L=v(Math.pow(R,L)),k=k.j(L).add(v(P))):(k=k.j(I),k=k.add(v(P)))}return k}var f=m(0),_=m(1),T=m(16777216);n=c.prototype,n.m=function(){if(C(this))return-M(this).m();let V=0,R=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);V+=(k>=0?k:4294967296+k)*R,R*=4294967296}return V},n.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(E(this))return"0";if(C(this))return"-"+M(this).toString(V);const R=v(Math.pow(V,6));var I=this;let k="";for(;;){const L=G(I,R).g;I=j(I,L.j(R));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(V);if(I=L,E(I))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},n.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function E(V){if(V.h!=0)return!1;for(let R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function C(V){return V.h==-1}n.l=function(V){return V=j(this,V),C(V)?-1:E(V)?0:1};function M(V){const R=V.g.length,I=[];for(let k=0;k<R;k++)I[k]=~V.g[k];return new c(I,~V.h).add(_)}n.abs=function(){return C(this)?M(this):this},n.add=function(V){const R=Math.max(this.g.length,V.g.length),I=[];let k=0;for(let L=0;L<=R;L++){let U=k+(this.i(L)&65535)+(V.i(L)&65535),P=(U>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);k=P>>>16,U&=65535,P&=65535,I[L]=P<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(V,R){return V.add(M(R))}n.j=function(V){if(E(this)||E(V))return f;if(C(this))return C(V)?M(this).j(M(V)):M(M(this).j(V));if(C(V))return M(this.j(M(V)));if(this.l(T)<0&&V.l(T)<0)return v(this.m()*V.m());const R=this.g.length+V.g.length,I=[];for(var k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let L=0;L<V.g.length;L++){const U=this.i(k)>>>16,P=this.i(k)&65535,Ct=V.i(L)>>>16,Ft=V.i(L)&65535;I[2*k+2*L]+=P*Ft,N(I,2*k+2*L),I[2*k+2*L+1]+=U*Ft,N(I,2*k+2*L+1),I[2*k+2*L+1]+=P*Ct,N(I,2*k+2*L+1),I[2*k+2*L+2]+=U*Ct,N(I,2*k+2*L+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new c(I,0)};function N(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function B(V,R){this.g=V,this.h=R}function G(V,R){if(E(R))throw Error("division by zero");if(E(V))return new B(f,f);if(C(V))return R=G(M(V),R),new B(M(R.g),M(R.h));if(C(R))return R=G(V,M(R)),new B(M(R.g),R.h);if(V.g.length>30){if(C(V)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var I=_,k=R;k.l(V)<=0;)I=tt(I),k=tt(k);var L=J(I,1),U=J(k,1);for(k=J(k,2),I=J(I,2);!E(k);){var P=U.add(k);P.l(V)<=0&&(L=L.add(I),U=P),k=J(k,1),I=J(I,1)}return R=j(V,L.j(R)),new B(L,R)}for(L=f;V.l(R)>=0;){for(I=Math.max(1,Math.floor(V.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=v(I),P=U.j(R);C(P)||P.l(V)>0;)I-=k,U=v(I),P=U.j(R);E(U)&&(U=_),L=L.add(U),V=j(V,P)}return new B(L,V)}n.B=function(V){return G(this,V).h},n.and=function(V){const R=Math.max(this.g.length,V.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)&V.i(k);return new c(I,this.h&V.h)},n.or=function(V){const R=Math.max(this.g.length,V.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)|V.i(k);return new c(I,this.h|V.h)},n.xor=function(V){const R=Math.max(this.g.length,V.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)^V.i(k);return new c(I,this.h^V.h)};function tt(V){const R=V.g.length+1,I=[];for(let k=0;k<R;k++)I[k]=V.i(k)<<1|V.i(k-1)>>>31;return new c(I,V.h)}function J(V,R){const I=R>>5;R%=32;const k=V.g.length-I,L=[];for(let U=0;U<k;U++)L[U]=R>0?V.i(U+I)>>>R|V.i(U+I+1)<<32-R:V.i(U+I);return new c(L,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=x,Or=c}).apply(typeof Bx<"u"?Bx:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,du,MT,Bf,Mm,OT,NT,PT;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var b=0;b<d.length;++b){var A=d[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function o(d,b){if(b)t:{var A=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var K=d[D];if(!(K in A))break t;A=A[K]}d=d[d.length-1],D=A[d],b=b(D),b!=D&&b!=null&&t(A,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var A=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&A.push([D,b[D]]);return A}});var u=u||{},c=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function m(d,b,A){return d.call.apply(d.bind,arguments)}function v(d,b,A){return v=m,v.apply(null,arguments)}function x(d,b){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function f(d,b){function A(){}A.prototype=b.prototype,d.Z=b.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(D,K,it){for(var mt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)mt[Ht-2]=arguments[Ht];return b.prototype[K].apply(D,mt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function T(d){const b=d.length;if(b>0){const A=Array(b);for(let D=0;D<b;D++)A[D]=d[D];return A}return[]}function E(d,b){for(let D=1;D<arguments.length;D++){const K=arguments[D];var A=typeof K;if(A=A!="object"?A:K?Array.isArray(K)?"array":A:"null",A=="array"||A=="object"&&typeof K.length=="number"){A=d.length||0;const it=K.length||0;d.length=A+it;for(let mt=0;mt<it;mt++)d[A+mt]=K[mt]}else d.push(K)}}class C{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(d){c.setTimeout(()=>{throw d},0)}function j(){var d=V;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class N{constructor(){this.h=this.g=null}add(b,A){const D=B.get();D.set(b,A),this.h?this.h.next=D:this.g=D,this.h=D}}var B=new C(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,J=!1,V=new N,R=()=>{const d=Promise.resolve(void 0);tt=()=>{d.then(I)}};function I(){for(var d;d=j();){try{d.h.call(d.g)}catch(A){M(A)}var b=B;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}J=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};c.addEventListener("test",A,b),c.removeEventListener("test",A,b)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function Ct(d,b){L.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}f(Ct,L),Ct.prototype.init=function(d,b){const A=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(A=="mouseover"?b=d.fromElement:A=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),W=0;function rt(d,b,A,D,K){this.listener=d,this.proxy=null,this.src=b,this.type=A,this.capture=!!D,this.ha=K,this.key=++W,this.da=this.fa=!1}function Q(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $(d,b,A){for(const D in d)b.call(A,d[D],D,d)}function at(d,b){for(const A in d)b.call(void 0,d[A],A,d)}function O(d){const b={};for(const A in d)b[A]=d[A];return b}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(d,b){let A,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(A in D)d[A]=D[A];for(let it=0;it<q.length;it++)A=q[it],Object.prototype.hasOwnProperty.call(D,A)&&(d[A]=D[A])}}function pt(d){this.src=d,this.g={},this.h=0}pt.prototype.add=function(d,b,A,D,K){const it=d.toString();d=this.g[it],d||(d=this.g[it]=[],this.h++);const mt=St(d,b,D,K);return mt>-1?(b=d[mt],A||(b.fa=!1)):(b=new rt(b,this.src,it,!!D,K),b.fa=A,d.push(b)),b};function vt(d,b){const A=b.type;if(A in d.g){var D=d.g[A],K=Array.prototype.indexOf.call(D,b,void 0),it;(it=K>=0)&&Array.prototype.splice.call(D,K,1),it&&(Q(b),d.g[A].length==0&&(delete d.g[A],d.h--))}}function St(d,b,A,D){for(let K=0;K<d.length;++K){const it=d[K];if(!it.da&&it.listener==b&&it.capture==!!A&&it.ha==D)return K}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),At={};function wt(d,b,A,D,K){if(Array.isArray(b)){for(let it=0;it<b.length;it++)wt(d,b[it],A,D,K);return null}return A=li(A),d&&d[Ft]?d.J(b,A,p(D)?!!D.capture:!1,K):ne(d,b,A,!1,D,K)}function ne(d,b,A,D,K,it){if(!b)throw Error("Invalid event type");const mt=p(K)?!!K.capture:!!K;let Ht=An(d);if(Ht||(d[Tt]=Ht=new pt(d)),A=Ht.add(b,A,D,mt,it),A.proxy)return A;if(D=Ee(),A.proxy=D,D.src=d,D.listener=A,d.addEventListener)U||(K=mt),K===void 0&&(K=!1),d.addEventListener(b.toString(),D,K);else if(d.attachEvent)d.attachEvent(hn(b.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ee(){function d(A){return b.call(d.src,d.listener,A)}const b=oi;return d}function nn(d,b,A,D,K){if(Array.isArray(b))for(var it=0;it<b.length;it++)nn(d,b[it],A,D,K);else D=p(D)?!!D.capture:!!D,A=li(A),d&&d[Ft]?(d=d.i,it=String(b).toString(),it in d.g&&(b=d.g[it],A=St(b,A,D,K),A>-1&&(Q(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete d.g[it],d.h--)))):d&&(d=An(d))&&(b=d.g[b.toString()],d=-1,b&&(d=St(b,A,D,K)),(A=d>-1?b[d]:null)&&ke(A))}function ke(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Ft])vt(b.i,d);else{var A=d.type,D=d.proxy;b.removeEventListener?b.removeEventListener(A,D,d.capture):b.detachEvent?b.detachEvent(hn(A),D):b.addListener&&b.removeListener&&b.removeListener(D),(A=An(b))?(vt(A,d),A.h==0&&(A.src=null,b[Tt]=null)):Q(d)}}}function hn(d){return d in At?At[d]:At[d]="on"+d}function oi(d,b){if(d.da)d=!0;else{b=new Ct(b,this);const A=d.listener,D=d.ha||d.src;d.fa&&ke(d),d=A.call(D,b)}return d}function An(d){return d=d[Tt],d instanceof pt?d:null}var je="__closure_events_fn_"+(Math.random()*1e9>>>0);function li(d){return typeof d=="function"?d:(d[je]||(d[je]=function(b){return d.handleEvent(b)}),d[je])}function Yt(){k.call(this),this.i=new pt(this),this.M=this,this.G=null}f(Yt,k),Yt.prototype[Ft]=!0,Yt.prototype.removeEventListener=function(d,b,A,D){nn(this,d,b,A,D)};function Ot(d,b){var A,D=d.G;if(D)for(A=[];D;D=D.G)A.push(D);if(d=d.M,D=b.type||b,typeof b=="string")b=new L(b,d);else if(b instanceof L)b.target=b.target||d;else{var K=b;b=new L(D,d),nt(b,K)}K=!0;let it,mt;if(A)for(mt=A.length-1;mt>=0;mt--)it=b.g=A[mt],K=ot(it,D,!0,b)&&K;if(it=b.g=d,K=ot(it,D,!0,b)&&K,K=ot(it,D,!1,b)&&K,A)for(mt=0;mt<A.length;mt++)it=b.g=A[mt],K=ot(it,D,!1,b)&&K}Yt.prototype.N=function(){if(Yt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const A=d.g[b];for(let D=0;D<A.length;D++)Q(A[D]);delete d.g[b],d.h--}}this.G=null},Yt.prototype.J=function(d,b,A,D){return this.i.add(String(d),b,!1,A,D)},Yt.prototype.K=function(d,b,A,D){return this.i.add(String(d),b,!0,A,D)};function ot(d,b,A,D){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let it=0;it<b.length;++it){const mt=b[it];if(mt&&!mt.da&&mt.capture==A){const Ht=mt.listener,Be=mt.ha||mt.src;mt.fa&&vt(d.i,mt),K=Ht.call(Be,D)!==!1&&K}}return K&&!D.defaultPrevented}function gt(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(d,b||0)}function ie(d){d.g=gt(()=>{d.g=null,d.i&&(d.i=!1,ie(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class Bt extends k{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(d){k.call(this),this.h=d,this.g={}}f(te,k);var de=[];function Gi(d){$(d.g,function(b,A){this.g.hasOwnProperty(A)&&ke(b)},d),d.g={}}te.prototype.N=function(){te.Z.N.call(this),Gi(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=c.JSON.stringify,Kd=c.JSON.parse,$u=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Zu(){}function Ju(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){L.call(this,"d")}f(pn,L);function ui(){L.call(this,"c")}f(ui,L);var Le={},tc=null;function Fa(){return tc=tc||new Yt}Le.Ia="serverreachability";function ec(d){L.call(this,Le.Ia,d)}f(ec,L);function Yi(d){const b=Fa();Ot(b,new ec(b))}Le.STAT_EVENT="statevent";function Kr(d,b){L.call(this,Le.STAT_EVENT,d),this.stat=b}f(Kr,L);function He(d){const b=Fa();Ot(b,new Kr(b,d))}Le.Ja="timingevent";function Qi(d,b){L.call(this,Le.Ja,d),this.size=b}f(Qi,L);function Wi(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function Ii(){this.g=!0}Ii.prototype.ua=function(){this.g=!1};function Xd(d,b,A,D,K,it){d.info(function(){if(d.g)if(it){var mt="",Ht=it.split("&");for(let le=0;le<Ht.length;le++){var Be=Ht[le].split("=");if(Be.length>1){const we=Be[0];Be=Be[1];const hi=we.split("_");mt=hi.length>=2&&hi[1]=="type"?mt+(we+"="+Be+"&"):mt+(we+"=redacted&")}}}else mt=null;else mt=it;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+b+`
`+A+`
`+mt})}function nc(d,b,A,D,K,it,mt){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+b+`
`+A+`
`+it+" "+mt})}function Ki(d,b,A,D){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+$d(d,A)+(D?" "+D:"")})}function Xr(d,b){d.info(function(){return"TIMEOUT: "+b})}Ii.prototype.info=function(){};function $d(d,b){if(!d.g)return b;if(!b)return null;try{const it=JSON.parse(b);if(it){for(d=0;d<it.length;d++)if(Array.isArray(it[d])){var A=it[d];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let mt=1;mt<D.length;mt++)D[mt]=""}}}}return $s(it)}catch{return b}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ul;function Zr(){}f(Zr,Zu),Zr.prototype.g=function(){return new XMLHttpRequest},ul=new Zr;function Ss(d){return encodeURIComponent(String(d))}function ic(d){var b=1;d=d.split(":");const A=[];for(;b>0&&d.length;)A.push(d.shift()),b--;return d.length&&A.push(d.join(":")),A}function Di(d,b,A,D){this.j=d,this.i=b,this.l=A,this.S=D||1,this.V=new te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var qe={},on={};function Xi(d,b,A){d.M=1,d.A=Jr(Ye(b)),d.u=A,d.R=!0,Ha(d,null)}function Ha(d,b){d.F=Date.now(),$i(d),d.B=Ye(d.A);var A=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),Qa(A.i,"t",D),d.C=0,A=d.j.L,d.h=new Vi,d.g=vc(d.j,A?b:null,!d.u),d.P>0&&(d.O=new Bt(v(d.Y,d,d.g),d.P)),b=d.V,A=d.g,D=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(de[0]=K.toString()),K=de);for(let it=0;it<K.length;it++){const mt=wt(A,K[it],D||b.handleEvent,!1,b.h||b);if(!mt)break;b.g[mt.key]=mt}b=d.J?O(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Yi(),Xd(d.i,d.v,d.B,d.l,d.S,d.u)}Di.prototype.ba=function(d){d=d.target;const b=this.O;b&&Oi(d)==3?b.j():this.Y(d)},Di.prototype.Y=function(d){try{if(d==this.g)t:{const Ht=Oi(this.g),Be=this.g.ya(),le=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||Ht!=4||Be==7||(Be==8||le<=0?Yi(3):Yi(2)),Zi(this);var b=this.g.ca();this.X=b;var A=Zd(this);if(this.o=b==200,nc(this.i,this.v,this.B,this.l,this.S,Ht,b),this.o){if(this.U&&!this.L){e:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(D)){var it=D;break e}}it=null}if(d=it)Ki(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,d);else{this.o=!1,this.m=3,He(12),Qn(this),ci(this);break t}}if(this.R){d=!0;let we;for(;!this.K&&this.C<A.length;)if(we=rc(this,A),we==on){Ht==4&&(this.m=4,He(14),d=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(we==qe){this.m=4,He(15),Ki(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else Ki(this.i,this.l,we,null),Ji(this,we);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||A.length!=0||this.h.h||(this.m=1,He(16),d=!1),this.o=this.o&&d,!d)Ki(this.i,this.l,A,"[Invalid Chunked Response]"),Qn(this),ci(this);else if(A.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Al(mt),mt.P=!0,He(11))}}else Ki(this.i,this.l,A,null),Ji(this,A);Ht==4&&Qn(this),this.o&&!this.K&&(Ht==4?pc(this.j,this):(this.o=!1,$i(this)))}else Es(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),Qn(this),ci(this)}}}catch{}};function Zd(d){if(!sc(d))return d.g.la();const b=mn(d.g);if(b==="")return"";let A="";const D=b.length,K=Oi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Qn(d),ci(d),"";d.h.i=new c.TextDecoder}for(let it=0;it<D;it++)d.h.h=!0,A+=d.h.i.decode(b[it],{stream:!(K&&it==D-1)});return b.length=0,d.h.g+=A,d.C=0,d.h.g}function sc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function rc(d,b){var A=d.C,D=b.indexOf(`
`,A);return D==-1?on:(A=Number(b.substring(A,D)),isNaN(A)?qe:(D+=1,D+A>b.length?on:(b=b.slice(D,D+A),d.C=D+A,b)))}Di.prototype.cancel=function(){this.K=!0,Qn(this)};function $i(d){d.T=Date.now()+d.H,qa(d,d.H)}function qa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Wi(v(d.aa,d),b)}function Zi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Di.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Xr(this.i,this.B),this.M!=2&&(Yi(),He(17)),Qn(this),this.m=2,ci(this)):qa(this,this.T-d)};function ci(d){d.j.I==0||d.K||pc(d.j,d)}function Qn(d){Zi(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,Gi(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Ji(d,b){try{var A=d.j;if(A.I!=0&&(A.g==d||es(A.h,d))){if(!d.L&&es(A.h,d)&&A.I==3){try{var D=A.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)Za(A),rr(A);else break t;aa(A),He(18)}}else A.xa=K[1],0<A.xa-A.K&&K[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Wi(v(A.Va,A),6e3));ts(A.h)<=1&&A.ta&&(A.ta=void 0)}else os(A,11)}else if((d.L||A.g==d)&&Za(A),!P(b))for(K=A.Ba.g.parse(b),b=0;b<K.length;b++){let le=K[b];const we=le[0];if(!(we<=A.K))if(A.K=we,le=le[1],A.I==2)if(le[0]=="c"){A.M=le[1],A.ba=le[2];const hi=le[3];hi!=null&&(A.ka=hi,A.j.info("VER="+A.ka));const ls=le[4];ls!=null&&(A.za=ls,A.j.info("SVER="+A.za));const Ni=le[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(D=1.5*Ni,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Pi=d.g;if(Pi){const oa=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var it=D.h;it.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(dl(it,it.h),it.h=null))}if(D.G){const Ja=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(D.wa=Ja,he(D.J,D.G,Ja))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var mt=d;if(D.na=yc(D,D.L?D.ba:null,D.W),mt.L){hl(D.h,mt);var Ht=mt,Be=D.O;Be&&(Ht.H=Be),Ht.D&&(Zi(Ht),$i(Ht)),D.g=mt}else dc(D);A.i.length>0&&as(A)}else le[0]!="stop"&&le[0]!="close"||os(A,7);else A.I==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?os(A,7):Tl(A):le[0]!="noop"&&A.l&&A.l.qa(le),A.A=0)}}Yi(4)}catch{}}var Ge=class{constructor(d,b){this.g=d,this.map=b}};function cl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ts(d){return d.h?1:d.g?d.g.size:0}function es(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function dl(d,b){d.g?d.g.add(b):d.h=b}function hl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}cl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const A of d.g.values())b=b.concat(A.G);return b}return T(d.i)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(d,b){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const D=d[A].indexOf("=");let K,it=null;D>=0?(K=d[A].substring(0,D),it=d[A].substring(D+1)):K=d[A],b(K,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function Wn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Wn?(this.l=d.l,ln(this,d.j),this.o=d.o,this.g=d.g,Zs(this,d.u),this.h=d.h,ml(this,cc(d.i)),this.m=d.m):d&&(b=String(d).match(ac))?(this.l=!1,ln(this,b[1]||"",!0),this.o=ns(b[2]||""),this.g=ns(b[3]||"",!0),Zs(this,b[4]),this.h=ns(b[5]||"",!0),ml(this,b[6]||"",!0),this.m=ns(b[7]||"")):(this.l=!1,this.i=new tr(null,this.l))}Wn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(ta(b,Ya,!0),":");var A=this.g;return(A||b=="file")&&(d.push("//"),(b=this.o)&&d.push(ta(b,Ya,!0),"@"),d.push(Ss(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(ta(A,A.charAt(0)=="/"?gl:oc,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",ta(A,lc)),d.join("")},Wn.prototype.resolve=function(d){const b=Ye(this);let A=!!d.j;A?ln(b,d.j):A=!!d.o,A?b.o=d.o:A=!!d.g,A?b.g=d.g:A=d.u!=null;var D=d.h;if(A)Zs(b,d.u);else if(A=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=b.h.lastIndexOf("/");K!=-1&&(D=b.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const it=[];for(let mt=0;mt<K.length;){const Ht=K[mt++];Ht=="."?D&&mt==K.length&&it.push(""):Ht==".."?((it.length>1||it.length==1&&it[0]!="")&&it.pop(),D&&mt==K.length&&it.push("")):(it.push(Ht),D=!0)}D=it.join("/")}else D=K}return A?b.h=D:A=d.i.toString()!=="",A?ml(b,cc(d.i)):A=!!d.m,A&&(b.m=d.m),b};function Ye(d){return new Wn(d)}function ln(d,b,A){d.j=A?ns(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Zs(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function ml(d,b,A){b instanceof tr?(d.i=b,Wa(d.i,d.l)):(A||(b=ta(b,Js)),d.i=new tr(b,d.l))}function he(d,b,A){d.i.set(b,A)}function Jr(d){return he(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ns(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ta(d,b,A){return typeof d=="string"?(d=encodeURI(d).replace(b,Pn),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ya=/[#\/\?@]/g,oc=/[#\?:]/g,gl=/[#\?]/g,Js=/[#\?@]/g,lc=/#/g;function tr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function kn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ga(d.i,function(b,A){d.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}n=tr.prototype,n.add=function(d,b){kn(this),this.i=null,d=er(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(b),this.h+=1,this};function uc(d,b){kn(d),b=er(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function yl(d,b){return kn(d),b=er(d,b),d.g.has(b)}n.forEach=function(d,b){kn(this),this.g.forEach(function(A,D){A.forEach(function(K){d.call(b,K,D,this)},this)},this)};function vl(d,b){kn(d);let A=[];if(typeof b=="string")yl(d,b)&&(A=A.concat(d.g.get(er(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)A=A.concat(d[b]);return A}n.set=function(d,b){return kn(this),this.i=null,d=er(this,d),yl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},n.get=function(d,b){return d?(d=vl(this,d),d.length>0?String(d[0]):b):b};function Qa(d,b,A){uc(d,b),A.length>0&&(d.i=null,d.g.set(er(d,b),T(A)),d.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var A=b[D];const K=Ss(A);A=vl(this,A);for(let it=0;it<A.length;it++){let mt=K;A[it]!==""&&(mt+="="+Ss(A[it])),d.push(mt)}}return this.i=d.join("&")};function cc(d){const b=new tr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function er(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Wa(d,b){b&&!d.j&&(kn(d),d.i=null,d.g.forEach(function(A,D){const K=D.toLowerCase();D!=K&&(uc(this,D),Qa(this,K,A))},d)),d.j=b}function ji(d,b){const A=new Ii;if(c.Image){const D=new Image;D.onload=x(fi,A,"TestLoadImage: loaded",!0,b,D),D.onerror=x(fi,A,"TestLoadImage: error",!1,b,D),D.onabort=x(fi,A,"TestLoadImage: abort",!1,b,D),D.ontimeout=x(fi,A,"TestLoadImage: timeout",!1,b,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else b(!1)}function _l(d,b){const A=new Ii,D=new AbortController,K=setTimeout(()=>{D.abort(),fi(A,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:D.signal}).then(it=>{clearTimeout(K),it.ok?fi(A,"TestPingServer: ok",!0,b):fi(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),fi(A,"TestPingServer: error",!1,b)})}function fi(d,b,A,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(A)}catch{}}function nr(){this.g=new $u}function is(d){this.i=d.Sb||null,this.h=d.ab||!1}f(is,Zu),is.prototype.g=function(){return new ea(this.i,this.h)};function ea(d,b){Yt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ea,Yt),n=ea.prototype,n.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Mi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?ir(this):Mi(this),this.readyState==3&&Ka(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,ir(this))},n.Na=function(d){this.g&&(this.response=d,ir(this))},n.ga=function(){this.g&&ir(this)};function ir(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Mi(d)}n.setRequestHeader=function(d,b){this.A.append(d,b)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=b.next();return d.join(`\r
`)};function Mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function di(d){let b="";return $(d,function(A,D){b+=D,b+=":",b+=A,b+=`\r
`}),b}function na(d,b,A){t:{for(D in A){var D=!1;break t}D=!0}D||(A=di(A),typeof d=="string"?A!=null&&Ss(A):he(d,b,A))}function ge(d){Yt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ge,Yt);var ss=/^https?$/i,xl=["POST","PUT"];n=ge.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,b,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ul.g(),this.g.onreadystatechange=_(v(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(it){ia(this,it);return}if(d=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)A.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const it of D.keys())A.set(it,D.get(it));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(it=>it.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(xl,b,void 0)>=0)||D||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,mt]of A)this.g.setRequestHeader(it,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(it){ia(this,it)}};function ia(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,bl(d),As(d)}function bl(d){d.A||(d.A=!0,Ot(d,"complete"),Ot(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ot(this,"complete"),Ot(this,"abort"),As(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},n.Xa=function(){sa(this)};function sa(d){if(d.h&&typeof u<"u"){if(d.v&&Oi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ot(d,"readystatechange"),Oi(d)==4){d.h=!1;try{const it=d.ca();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var A;if(!(A=b)){var D;if(D=it===0){let mt=String(d.D).match(ac)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),D=!ss.test(mt?mt.toLowerCase():"")}A=D}if(A)Ot(d,"complete"),Ot(d,"success");else{d.o=6;try{var K=Oi(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",bl(d)}}finally{As(d)}}}}function As(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,b||Ot(d,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Oi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Kd(b)}};function mn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(d){const b={};d=(d.g&&Oi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(P(d[D]))continue;var A=ic(d[D]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const it=b[K]||[];b[K]=it,it.push(A)}at(b,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(d,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||b}function sr(d){this.za=0,this.i=[],this.j=new Ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rs("baseRetryDelayMs",5e3,d),this.Za=rs("retryDelaySeedMs",1e4,d),this.Ta=rs("forwardChannelMaxRetries",2,d),this.va=rs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(d&&d.concurrentRequestLimit),this.Ba=new nr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=sr.prototype,n.ka=8,n.I=1,n.connect=function(d,b,A,D){He(0),this.W=d,this.H=b||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=yc(this,null,this.W),as(this)};function Tl(d){if(Xa(d),d.I==3){var b=d.V++,A=Ye(d.J);if(he(A,"SID",d.M),he(A,"RID",b),he(A,"TYPE","terminate"),ra(d,A),b=new Di(d,d.j,b),b.M=2,b.A=Jr(Ye(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=b.A,A=!0),A||(b.g=vc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),$i(b)}gc(d)}function rr(d){d.g&&(Al(d),d.g.cancel(),d.g=null)}function Xa(d){rr(d),d.v&&(c.clearTimeout(d.v),d.v=null),Za(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function as(d){if(!fl(d.h)&&!d.m){d.m=!0;var b=d.Ea;tt||R(),J||(tt(),J=!0),V.add(b,d),d.D=0}}function $a(d,b){return ts(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Wi(v(d.Ea,d,b),mc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new Di(this,this.j,d);let it=this.o;if(this.U&&(it?(it=O(it),nt(it,this.U)):it=this.U),this.u!==null||this.R||(K.J=it,it=null),this.S)t:{for(var b=0,A=0;A<this.i.length;A++){e:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=A;break t}if(b===4096||A===this.i.length-1){b=A+1;break t}}b=1e3}else b=1e3;b=fc(this,K,b),A=Ye(this.J),he(A,"RID",d),he(A,"CVER",22),this.G&&he(A,"X-HTTP-Session-Id",this.G),ra(this,A),it&&(this.R?b="headers="+Ss(di(it))+"&"+b:this.u&&na(A,this.u,it)),dl(this.h,K),this.Ra&&he(A,"TYPE","init"),this.S?(he(A,"$req",b),he(A,"SID","null"),K.U=!0,Xi(K,A,null)):Xi(K,A,b),this.I=2}}else this.I==3&&(d?Sl(this,d):this.i.length==0||fl(this.h)||Sl(this))};function Sl(d,b){var A;b?A=b.l:A=d.V++;const D=Ye(d.J);he(D,"SID",d.M),he(D,"RID",A),he(D,"AID",d.K),ra(d,D),d.u&&d.o&&na(D,d.u,d.o),A=new Di(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),b&&(d.i=b.G.concat(d.i)),b=fc(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),dl(d.h,A),Xi(A,D,b)}function ra(d,b){d.H&&$(d.H,function(A,D){he(b,D,A)}),d.l&&$({},function(A,D){he(b,D,A)})}function fc(d,b,A){A=Math.min(d.i.length,A);const D=d.l?v(d.l.Ka,d.l,d):null;t:{var K=d.i;let Ht=-1;for(;;){const Be=["count="+A];Ht==-1?A>0?(Ht=K[0].g,Be.push("ofs="+Ht)):Ht=0:Be.push("ofs="+Ht);let le=!0;for(let we=0;we<A;we++){var it=K[we].g;const hi=K[we].map;if(it-=Ht,it<0)Ht=Math.max(0,K[we].g-100),le=!1;else try{it="req"+it+"_"||"";try{var mt=hi instanceof Map?hi:Object.entries(hi);for(const[ls,Ni]of mt){let Pi=Ni;p(Ni)&&(Pi=$s(Ni)),Be.push(it+ls+"="+encodeURIComponent(Pi))}}catch(ls){throw Be.push(it+"type="+encodeURIComponent("_badmap")),ls}}catch{D&&D(hi)}}if(le){mt=Be.join("&");break t}}mt=void 0}return d=d.i.splice(0,A),b.G=d,mt}function dc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;tt||R(),J||(tt(),J=!0),V.add(b,d),d.A=0}}function aa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Wi(v(d.Da,d),mc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Wi(v(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),rr(this),hc(this))};function Al(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function hc(d){d.g=new Di(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Ye(d.na);he(b,"RID","rpc"),he(b,"SID",d.M),he(b,"AID",d.K),he(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&he(b,"TO",d.ia),he(b,"TYPE","xmlhttp"),ra(d,b),d.u&&d.o&&na(b,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=Jr(Ye(b)),A.u=null,A.R=!0,Ha(A,d)}n.Va=function(){this.C!=null&&(this.C=null,rr(this),aa(this),He(19))};function Za(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function pc(d,b){var A=null;if(d.g==b){Za(d),Al(d),d.g=null;var D=2}else if(es(d.h,b))A=b.G,hl(d.h,b),D=1;else return;if(d.I!=0){if(b.o)if(D==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var K=d.D;D=Fa(),Ot(D,new Qi(D,A)),as(d)}else dc(d);else if(K=b.m,K==3||K==0&&b.X>0||!(D==1&&$a(d,b)||D==2&&aa(d)))switch(A&&A.length>0&&(b=d.h,b.i=b.i.concat(A)),K){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function mc(d,b){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*b}function os(d,b){if(d.j.info("Error code "+b),b==2){var A=v(d.bb,d),D=d.Ua;const K=!D;D=new Wn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ln(D,"https"),Jr(D),K?ji(D.toString(),A):_l(D.toString(),A)}else He(2);d.I=0,d.l&&d.l.pa(b),gc(d),Xa(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function gc(d){if(d.I=0,d.ja=[],d.l){const b=pl(d.h);(b.length!=0||d.i.length!=0)&&(E(d.ja,b),E(d.ja,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.oa()}}function yc(d,b,A){var D=A instanceof Wn?Ye(A):new Wn(A);if(D.g!="")b&&(D.g=b+"."+D.g),Zs(D,D.u);else{var K=c.location;D=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const it=new Wn(null);D&&ln(it,D),b&&(it.g=b),K&&Zs(it,K),A&&(it.h=A),D=it}return A=d.G,b=d.wa,A&&b&&he(D,A,b),he(D,"VER",d.ka),ra(d,D),D}function vc(d,b,A){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new ge(new is({ab:A})):new ge(d.ma),b.Fa(d.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}n=_c.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ar(){}ar.prototype.g=function(d,b){return new Vn(d,b)};function Vn(d,b){Yt.call(this),this.g=new sr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!P(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new ws(this)}f(Vn,Yt),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Tl(this.g)},Vn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=$s(d),d=A);b.i.push(new Ge(b.Ya++,d)),b.I==3&&as(b)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Vn.Z.N.call(this)};function xc(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){t:{for(const A in b){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}f(xc,pn);function bc(){ui.call(this),this.status=1}f(bc,ui);function ws(d){this.g=d}f(ws,_c),ws.prototype.ra=function(){Ot(this.g,"a")},ws.prototype.qa=function(d){Ot(this.g,new xc(d))},ws.prototype.pa=function(d){Ot(this.g,new bc)},ws.prototype.oa=function(){Ot(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,PT=function(){return new ar},NT=function(){return Fa()},OT=Le,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Bf=$r,ll.COMPLETE="complete",MT=ll,Ju.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",Yt.prototype.listen=Yt.prototype.J,du=Ju,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,jT=ge}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const zx="@firebase/firestore",Ux="4.9.3";class Cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");let tl="12.7.0";const Na=new Ag("@firebase/firestore");function jo(){return Na.logLevel}function xt(n,...t){if(Na.logLevel<=re.DEBUG){const e=t.map(wg);Na.debug(`Firestore (${tl}): ${n}`,...e)}}function Gs(n,...t){if(Na.logLevel<=re.ERROR){const e=t.map(wg);Na.error(`Firestore (${tl}): ${n}`,...e)}}function Go(n,...t){if(Na.logLevel<=re.WARN){const e=t.map(wg);Na.warn(`Firestore (${tl}): ${n}`,...e)}}function wg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function jt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,kT(n,r,e)}function kT(n,t,e){let r=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Gs(r),new Error(r)}function fe(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||kT(t,o,r)}function Ut(n,t){return n}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Gr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class LT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Cn.UNAUTHENTICATED)))}shutdown(){}}class PR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class kR{constructor(t){this.t=t,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){fe(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string",31837,{l:r}),new LT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string",2055,{h:t}),new Cn(t)}}class LR{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BR{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_R(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){fe(this.o===void 0,3512);const r=u=>{u.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,xt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(fe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Fx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Cg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Zt(n,t){return n<t?-1:n>t?1:0}function Om(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return nm(o)===nm(u)?Zt(o,u):nm(o)?1:-1}return Zt(n.length,t.length)}const FR=55296,HR=57343;function nm(n){const t=n.charCodeAt(0);return t>=FR&&t<=HR}function Yo(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const Hx="__name__";class hs{constructor(t,e,r){e===void 0?e=0:e>t.length&&jt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&jt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=hs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Zt(t.length,e.length)}static compareSegments(t,e){const r=hs.isNumericId(t),o=hs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?hs.extractNumericId(t).compare(hs.extractNumericId(e)):Om(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class be extends hs{construct(t,e,r){return new be(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new be(e)}static emptyPath(){return new be([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends hs{construct(t,e,r){return new Tn(t,e,r)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hx}static keyField(){return new Tn([Hx])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new yt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(r+=p,o++):(u(),o++)}if(u(),c)throw new yt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Tn(e)}static emptyPath(){return new Tn([])}}class It{constructor(t){this.path=t}static fromPath(t){return new It(be.fromString(t))}static fromName(t){return new It(be.fromString(t).popFirst(5))}static empty(){return new It(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return be.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new be(t.slice()))}}function BT(n,t,e){if(!e)throw new yt(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function GR(n,t,e,r){if(t===!0&&r===!0)throw new yt(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function qx(n){if(!It.isDocumentKey(n))throw new yt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gx(n){if(It.isDocumentKey(n))throw new yt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":jt(12329,{type:typeof n})}function Yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bd(n);throw new yt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function YR(n,t){if(t<=0)throw new yt(ft.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function en(n,t){const e={typeString:n};return t&&(e.value=t),e}function Uu(n,t){if(!zT(n))throw new yt(ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new yt(ft.INVALID_ARGUMENT,e);return!0}const Yx=-62135596800,Qx=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Qx);return new Ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Yx)throw new yt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qx}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:en("string",Ae._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Ae(0,0))}static max(){return new Lt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function QR(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(r===1e9?new Ae(e+1,0):new Ae(e,r));return new kr(o,It.empty(),t)}function WR(n){return new kr(n.readTime,n.key,Ru)}class kr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new kr(Lt.min(),It.empty(),Ru)}static max(){return new kr(Lt.max(),It.empty(),Ru)}}function KR(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(n.documentKey,t.documentKey),e!==0?e:Zt(n.largestBatchId,t.largestBatchId))}const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function el(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==XR)throw n;xt("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.reject(e)}static resolve(t){return new ht(((e,r)=>{e(t)}))}static reject(t){return new ht(((e,r)=>{r(t)}))}static waitFor(t){return new ht(((e,r)=>{let o=0,u=0,c=!1;t.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&e()}),(m=>r(m)))})),c=!0,u===o&&e()}))}static or(t){let e=ht.resolve(!1);for(const r of t)e=e.next((o=>o?ht.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new ht(((r,o)=>{const u=t.length,c=new Array(u);let p=0;for(let m=0;m<u;m++){const v=m;e(t[v]).next((x=>{c[v]=x,++p,p===u&&r(c)}),(x=>o(x)))}}))}static doWhile(t,e){return new ht(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ZR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function nl(n){return n.name==="IndexedDbTransactionError"}class Td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Td.ce=-1;const Rg=-1;function Sd(n){return n==null}function Zf(n){return n===0&&1/n==-1/0}function JR(n){return typeof n=="number"&&Number.isInteger(n)&&!Zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const UT="";function tI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Wx(t)),t=eI(n.get(e),t);return Wx(t)}function eI(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case UT:e+="";break;default:e+=u}}return e}function Wx(n){return n+UT+""}function Kx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function FT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ve{constructor(t,e){this.comparator=t,this.root=e||bn.EMPTY}insert(t,e){return new Ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cf(this.root,t,this.comparator,!0)}}class Cf{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??bn.RED,this.left=o??bn.EMPTY,this.right=u??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new bn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return bn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jt(27949);return t+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new bn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Xx(this.data.getIterator())}getIteratorFrom(t){return new Xx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof an)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new an(this.comparator);return e.data=t,e}}class Xx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort(Tn.comparator)}static empty(){return new si([])}unionWith(t){let e=new an(Tn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new si(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}})(t);return new Sn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Sn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const nI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(n){if(fe(!!n,39018),typeof n=="string"){let t=0;const e=nI.exec(n);if(fe(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fe(n.seconds),nanos:Fe(n.nanos)}}function Fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Br(n){return typeof n=="string"?Sn.fromBase64String(n):Sn.fromUint8Array(n)}const qT="server_timestamp",GT="__type__",YT="__previous_value__",QT="__local_write_time__";function Ig(n){return(n?.mapValue?.fields||{})[GT]?.stringValue===qT}function Ad(n){const t=n.mapValue.fields[YT];return Ig(t)?Ad(t):t}function Iu(n){const t=Lr(n.mapValue.fields[QT].timestampValue);return new Ae(t.seconds,t.nanos)}class iI{constructor(t,e,r,o,u,c,p,m,v,x){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=x}}const Jf="(default)";class Du{constructor(t,e){this.projectId=t,this.database=e||Jf}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(t){return t instanceof Du&&t.projectId===this.projectId&&t.database===this.database}}const WT="__type__",sI="__max__",Rf={mapValue:{}},KT="__vector__",td="value";function zr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ig(n)?4:aI(n)?9007199254740991:rI(n)?10:11:jt(28295,{value:n})}function Ts(n,t){if(n===t)return!0;const e=zr(n);if(e!==zr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Iu(n).isEqual(Iu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Lr(o.timestampValue),p=Lr(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Br(o.bytesValue).isEqual(Br(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Fe(o.geoPointValue.latitude)===Fe(u.geoPointValue.latitude)&&Fe(o.geoPointValue.longitude)===Fe(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Fe(o.integerValue)===Fe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Fe(o.doubleValue),p=Fe(u.doubleValue);return c===p?Zf(c)===Zf(p):isNaN(c)&&isNaN(p)}return!1})(n,t);case 9:return Yo(n.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Kx(c)!==Kx(p))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(p[m]===void 0||!Ts(c[m],p[m])))return!1;return!0})(n,t);default:return jt(52216,{left:n})}}function Vu(n,t){return(n.values||[]).find((e=>Ts(e,t)))!==void 0}function Qo(n,t){if(n===t)return 0;const e=zr(n),r=zr(t);if(e!==r)return Zt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const p=Fe(u.integerValue||u.doubleValue),m=Fe(c.integerValue||c.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,t);case 3:return $x(n.timestampValue,t.timestampValue);case 4:return $x(Iu(n),Iu(t));case 5:return Om(n.stringValue,t.stringValue);case 6:return(function(u,c){const p=Br(u),m=Br(c);return p.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const p=u.split("/"),m=c.split("/");for(let v=0;v<p.length&&v<m.length;v++){const x=Zt(p[v],m[v]);if(x!==0)return x}return Zt(p.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const p=Zt(Fe(u.latitude),Fe(c.latitude));return p!==0?p:Zt(Fe(u.longitude),Fe(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Zx(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const p=u.fields||{},m=c.fields||{},v=p[td]?.arrayValue,x=m[td]?.arrayValue,f=Zt(v?.values?.length||0,x?.values?.length||0);return f!==0?f:Zx(v,x)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rf.mapValue&&c===Rf.mapValue)return 0;if(u===Rf.mapValue)return 1;if(c===Rf.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),v=c.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let f=0;f<m.length&&f<x.length;++f){const _=Om(m[f],x[f]);if(_!==0)return _;const T=Qo(p[m[f]],v[x[f]]);if(T!==0)return T}return Zt(m.length,x.length)})(n.mapValue,t.mapValue);default:throw jt(23264,{he:e})}}function $x(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Zt(n,t);const e=Lr(n),r=Lr(t),o=Zt(e.seconds,r.seconds);return o!==0?o:Zt(e.nanos,r.nanos)}function Zx(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Qo(e[o],r[o]);if(u)return u}return Zt(e.length,r.length)}function Wo(n){return Nm(n)}function Nm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Lr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Br(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return It.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Nm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Nm(e.fields[c])}`;return o+"}"})(n.mapValue):jt(61005,{value:n})}function zf(n){switch(zr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ad(n);return t?16+zf(t):16;case 5:return 2*n.stringValue.length;case 6:return Br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zf(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Yr(r.fields,((u,c)=>{o+=u.length+zf(c)})),o})(n.mapValue);default:throw jt(13486,{value:n})}}function Jx(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Pm(n){return!!n&&"integerValue"in n}function Dg(n){return!!n&&"arrayValue"in n}function tb(n){return!!n&&"nullValue"in n}function eb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function rI(n){return(n?.mapValue?.fields||{})[WT]?.stringValue===KT}function vu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Yr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=vu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vu(n.arrayValue.values[e]);return t}return{...n}}function aI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sI}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Uf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vu(e)}setAll(t){let e=Tn.emptyPath(),r={},o=[];t.forEach(((c,p)=>{if(!e.isImmediateParentOf(p)){const m=this.getFieldsMap(e);this.applyChanges(m,r,o),r={},o=[],e=p.popLast()}c?r[p.lastSegment()]=vu(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Uf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Uf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Yr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new qn(vu(this.value))}}function XT(n){const t=[];return Yr(n.fields,((e,r)=>{const o=new Tn([e]);if(Uf(r)){const u=XT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new si(t)}class In{constructor(t,e,r,o,u,c,p){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(t){return new In(t,0,Lt.min(),Lt.min(),Lt.min(),qn.empty(),0)}static newFoundDocument(t,e,r,o){return new In(t,1,e,Lt.min(),r,o,0)}static newNoDocument(t,e){return new In(t,2,e,Lt.min(),Lt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new In(t,3,e,Lt.min(),Lt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof In&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(t,e){this.position=t,this.inclusive=e}}function nb(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=It.comparator(It.fromName(c.referenceValue),e.key):r=Qo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ib(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ts(n.position[e],t.position[e]))return!1;return!0}class ju{constructor(t,e="asc"){this.field=t,this.dir=e}}function oI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class $T{}class tn extends $T{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new uI(t,e,r):e==="array-contains"?new dI(t,r):e==="in"?new hI(t,r):e==="not-in"?new pI(t,r):e==="array-contains-any"?new mI(t,r):new tn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new cI(t,r):new fI(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Qo(e,this.value)):e!==null&&zr(this.value)===zr(e)&&this.matchesComparison(Qo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends $T{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new qi(t,e)}matches(t){return ZT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZT(n){return n.op==="and"}function JT(n){return lI(n)&&ZT(n)}function lI(n){for(const t of n.filters)if(t instanceof qi)return!1;return!0}function km(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+Wo(n.value);if(JT(n))return n.filters.map((t=>km(t))).join(",");{const t=n.filters.map((e=>km(e))).join(",");return`${n.op}(${t})`}}function tS(n,t){return n instanceof tn?(function(r,o){return o instanceof tn&&r.op===o.op&&r.field.isEqual(o.field)&&Ts(r.value,o.value)})(n,t):n instanceof qi?(function(r,o){return o instanceof qi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,p)=>u&&tS(c,o.filters[p])),!0):!1})(n,t):void jt(19439)}function eS(n){return n instanceof tn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Wo(e.value)}`})(n):n instanceof qi?(function(e){return e.op.toString()+" {"+e.getFilters().map(eS).join(" ,")+"}"})(n):"Filter"}class uI extends tn{constructor(t,e,r){super(t,e,r),this.key=It.fromName(r.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class cI extends tn{constructor(t,e){super(t,"in",e),this.keys=nS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class fI extends tn{constructor(t,e){super(t,"not-in",e),this.keys=nS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function nS(n,t){return(t.arrayValue?.values||[]).map((e=>It.fromName(e.referenceValue)))}class dI extends tn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dg(e)&&Vu(e.arrayValue,this.value)}}class hI extends tn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class pI extends tn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class mI extends tn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Vu(this.value.arrayValue,r)))}}class gI{constructor(t,e=null,r=[],o=[],u=null,c=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function sb(n,t=null,e=[],r=[],o=null,u=null,c=null){return new gI(n,t,e,r,o,u,c)}function Vg(n){const t=Ut(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>km(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Sd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Wo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Wo(r))).join(",")),t.Te=e}return t.Te}function jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!oI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!tS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ib(n.startAt,t.startAt)&&ib(n.endAt,t.endAt)}function Lm(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class il{constructor(t,e=null,r=[],o=[],u=null,c="F",p=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yI(n,t,e,r,o,u,c,p){return new il(n,t,e,r,o,u,c,p)}function Ed(n){return new il(n)}function rb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iS(n){return n.collectionGroup!==null}function _u(n){const t=Ut(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new an(Tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ju(u,r))})),e.has(Tn.keyField().canonicalString())||t.Ie.push(new ju(Tn.keyField(),r))}return t.Ie}function gs(n){const t=Ut(n);return t.Ee||(t.Ee=vI(t,_u(n))),t.Ee}function vI(n,t){if(n.limitType==="F")return sb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ju(o.field,u)}));const e=n.endAt?new ed(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ed(n.startAt.position,n.startAt.inclusive):null;return sb(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Bm(n,t){const e=n.filters.concat([t]);return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function nd(n,t,e){return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function wd(n,t){return jg(gs(n),gs(t))&&n.limitType===t.limitType}function sS(n){return`${Vg(gs(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>eS(o))).join(", ")}]`),Sd(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Wo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Wo(o))).join(",")),`Target(${r})`})(gs(n))}; limitType=${n.limitType})`}function Cd(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):It.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of _u(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,p,m){const v=nb(c,p,m);return c.inclusive?v<=0:v<0})(r.startAt,_u(r),o)||r.endAt&&!(function(c,p,m){const v=nb(c,p,m);return c.inclusive?v>=0:v>0})(r.endAt,_u(r),o))})(n,t)}function _I(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rS(n){return(t,e)=>{let r=!1;for(const o of _u(n)){const u=xI(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function xI(n,t,e){const r=n.field.isKeyField()?It.comparator(t.key,e.key):(function(u,c,p){const m=c.data.field(u),v=p.data.field(u);return m!==null&&v!==null?Qo(m,v):jt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:n.dir})}}class Ba{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}const bI=new Ve(It.comparator);function Ys(){return bI}const aS=new Ve(It.comparator);function hu(...n){let t=aS;for(const e of n)t=t.insert(e.key,e);return t}function oS(n){let t=aS;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Ca(){return xu()}function lS(){return xu()}function xu(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const TI=new Ve(It.comparator),SI=new an(It.comparator);function Jt(...n){let t=SI;for(const e of n)t=t.add(e);return t}const AI=new an(Zt);function EI(){return AI}function Mg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(t)?"-0":t}}function uS(n){return{integerValue:""+n}}function wI(n,t){return JR(t)?uS(t):Mg(n,t)}class Rd{constructor(){this._=void 0}}function CI(n,t,e){return n instanceof id?(function(o,u){const c={fields:{[GT]:{stringValue:qT},[QT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ig(u)&&(u=Ad(u)),u&&(c.fields[YT]=u),{mapValue:c}})(e,t):n instanceof Mu?fS(n,t):n instanceof Ou?dS(n,t):(function(o,u){const c=cS(o,u),p=ab(c)+ab(o.Ae);return Pm(c)&&Pm(o.Ae)?uS(p):Mg(o.serializer,p)})(n,t)}function RI(n,t,e){return n instanceof Mu?fS(n,t):n instanceof Ou?dS(n,t):e}function cS(n,t){return n instanceof sd?(function(r){return Pm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class id extends Rd{}class Mu extends Rd{constructor(t){super(),this.elements=t}}function fS(n,t){const e=hS(t);for(const r of n.elements)e.some((o=>Ts(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Ou extends Rd{constructor(t){super(),this.elements=t}}function dS(n,t){let e=hS(t);for(const r of n.elements)e=e.filter((o=>!Ts(o,r)));return{arrayValue:{values:e}}}class sd extends Rd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ab(n){return Fe(n.integerValue||n.doubleValue)}function hS(n){return Dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function II(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Mu&&o instanceof Mu||r instanceof Ou&&o instanceof Ou?Yo(r.elements,o.elements,Ts):r instanceof sd&&o instanceof sd?Ts(r.Ae,o.Ae):r instanceof id&&o instanceof id})(n.transform,t.transform)}class DI{constructor(t,e){this.version=t,this.transformResults=e}}class wi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ff(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Id{}function pS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Og(n.key,wi.none()):new Fu(n.key,n.data,wi.none());{const e=n.data,r=qn.empty();let o=new an(Tn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Qr(n.key,r,new si(o.toArray()),wi.none())}}function VI(n,t,e){n instanceof Fu?(function(o,u,c){const p=o.value.clone(),m=lb(o.fieldTransforms,u,c.transformResults);p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):n instanceof Qr?(function(o,u,c){if(!Ff(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=lb(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(mS(o)),m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function bu(n,t,e,r){return n instanceof Fu?(function(u,c,p,m){if(!Ff(u.precondition,c))return p;const v=u.value.clone(),x=ub(u.fieldTransforms,m,c);return v.setAll(x),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,t,e,r):n instanceof Qr?(function(u,c,p,m){if(!Ff(u.precondition,c))return p;const v=ub(u.fieldTransforms,m,c),x=c.data;return x.setAll(mS(u)),x.setAll(v),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((f=>f.field)))})(n,t,e,r):(function(u,c,p){return Ff(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(n,t,e)}function jI(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=cS(r.transform,o||null);u!=null&&(e===null&&(e=qn.empty()),e.set(r.field,u))}return e||null}function ob(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,((u,c)=>II(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Fu extends Id{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends Id{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function lb(n,t,e){const r=new Map;fe(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,p=t.data.field(u.field);r.set(u.field,RI(c,p,e[o]))}return r}function ub(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,CI(u,c,t))}return r}class Og extends Id{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MI extends Id{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OI{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&VI(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=bu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=bu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=lS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=e.has(o.key)?null:p;const m=pS(c,p);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Jt())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,((e,r)=>ob(e,r)))&&Yo(this.baseMutations,t.baseMutations,((e,r)=>ob(e,r)))}}class Ng{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){fe(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return TI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ng(t,e,r,o)}}class NI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ze,se;function kI(n){switch(n){case ft.OK:return jt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return jt(15467,{code:n})}}function gS(n){if(n===void 0)return Gs("GRPC error has no .code"),ft.UNKNOWN;switch(n){case Ze.OK:return ft.OK;case Ze.CANCELLED:return ft.CANCELLED;case Ze.UNKNOWN:return ft.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return ft.INTERNAL;case Ze.UNAVAILABLE:return ft.UNAVAILABLE;case Ze.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Ze.NOT_FOUND:return ft.NOT_FOUND;case Ze.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Ze.ABORTED:return ft.ABORTED;case Ze.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Ze.DATA_LOSS:return ft.DATA_LOSS;default:return jt(39323,{code:n})}}(se=Ze||(Ze={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";function LI(){return new TextEncoder}const BI=new Or([4294967295,4294967295],0);function cb(n){const t=LI().encode(n),e=new VT;return e.update(t),new Uint8Array(e.digest())}function fb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Or([e,r],0),new Or([o,u],0)]}class Pg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Or.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Or.fromNumber(r)));return o.compare(BI)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=cb(t),[r,o]=fb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Pg(u,o,e);return r.forEach((p=>c.insert(p))),c}insert(t){if(this.ge===0)return;const e=cb(t),[r,o]=fb(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Hu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Dd(Lt.min(),o,new Ve(Zt),Ys(),Jt())}}class Hu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Hu(r,e,Jt(),Jt(),Jt())}}class Hf{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class yS{constructor(t,e){this.targetId=t,this.Ce=e}}class vS{constructor(t,e,r=Sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class db{constructor(){this.ve=0,this.Fe=hb(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),e=Jt(),r=Jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:jt(38017,{changeType:u})}})),new Hu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=hb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=If(),this.He=If(),this.Ye=new Ve(Zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:jt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Lm(u))if(r===0){const c=new It(u.path);this.et(e,c,In.newNoDocument(c,Lt.min()))}else fe(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const p=this.ut(t),m=p?this.ct(p,t,c):1;if(m!==0){this.it(e);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,v)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,p;try{c=Br(r).toUint8Array()}catch(m){if(m instanceof HT)return Go("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Pg(c,o,u)}catch(m){return Go(m instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Lm(p.target)){const m=new It(p.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,In.newNoDocument(m,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Jt();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Dd(t,e,this.Ye,this.je,r);return this.je=Ys(),this.Je=If(),this.He=If(),this.Ye=new Ve(Zt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new db,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new an(Zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new an(Zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||xt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new db),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function If(){return new Ve(It.comparator)}function hb(){return new Ve(It.comparator)}const UI={asc:"ASCENDING",desc:"DESCENDING"},FI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HI={and:"AND",or:"OR"};class qI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zm(n,t){return n.useProto3Json||Sd(t)?t:{value:t}}function rd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _S(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function GI(n,t){return rd(n,t.toTimestamp())}function ys(n){return fe(!!n,49232),Lt.fromTimestamp((function(e){const r=Lr(e);return new Ae(r.seconds,r.nanos)})(n))}function kg(n,t){return Um(n,t).canonicalString()}function Um(n,t){const e=(function(o){return new be(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function xS(n){const t=be.fromString(n);return fe(ES(t),10190,{key:t.toString()}),t}function Fm(n,t){return kg(n.databaseId,t.path)}function im(n,t){const e=xS(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(TS(e))}function bS(n,t){return kg(n.databaseId,t)}function YI(n){const t=xS(n);return t.length===4?be.emptyPath():TS(t)}function Hm(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TS(n){return fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pb(n,t,e){return{name:Fm(n,t),fields:e.value.mapValue.fields}}function QI(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:jt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,x){return v.useProto3Json?(fe(x===void 0||typeof x=="string",58123),Sn.fromBase64String(x||"")):(fe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Sn.fromUint8Array(x||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,p=c&&(function(v){const x=v.code===void 0?ft.UNKNOWN:gS(v.code);return new yt(x,v.message||"")})(c);e=new vS(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=im(n,r.document.name),u=ys(r.document.updateTime),c=r.document.createTime?ys(r.document.createTime):Lt.min(),p=new qn({mapValue:{fields:r.document.fields}}),m=In.newFoundDocument(o,u,c,p),v=r.targetIds||[],x=r.removedTargetIds||[];e=new Hf(v,x,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=im(n,r.document),u=r.readTime?ys(r.readTime):Lt.min(),c=In.newNoDocument(o,u),p=r.removedTargetIds||[];e=new Hf([],p,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=im(n,r.document),u=r.removedTargetIds||[];e=new Hf([],u,o,null)}else{if(!("filter"in t))return jt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new PI(o,u),p=r.targetId;e=new yS(p,c)}}return e}function WI(n,t){let e;if(t instanceof Fu)e={update:pb(n,t.key,t.value)};else if(t instanceof Og)e={delete:Fm(n,t.key)};else if(t instanceof Qr)e={update:pb(n,t.key,t.data),updateMask:iD(t.fieldMask)};else{if(!(t instanceof MI))return jt(16599,{Vt:t.type});e={verify:Fm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const p=c.transform;if(p instanceof id)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sd)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw jt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:jt(27497)})(n,t.precondition)),e}function KI(n,t){return n&&n.length>0?(fe(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?ys(o.updateTime):ys(u);return c.isEqual(Lt.min())&&(c=ys(u)),new DI(c,o.transformResults||[])})(e,t)))):[]}function XI(n,t){return{documents:[bS(n,t.path)]}}function $I(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=bS(n,o);const u=(function(v){if(v.length!==0)return AS(qi.create(v,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(v){if(v.length!==0)return v.map((x=>(function(_){return{field:Oo(_.field),direction:tD(_.dir)}})(x)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const p=zm(n,t.limit);return p!==null&&(e.structuredQuery.limit=p),t.startAt&&(e.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:e,parent:o}}function ZI(n){let t=YI(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){fe(r===1,65062);const x=e.from[0];x.allDescendants?o=x.collectionId:t=t.child(x.collectionId)}let u=[];e.where&&(u=(function(f){const _=SS(f);return _ instanceof qi&&JT(_)?_.getFilters():[_]})(e.where));let c=[];e.orderBy&&(c=(function(f){return f.map((_=>(function(E){return new ju(No(E.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(_)))})(e.orderBy));let p=null;e.limit&&(p=(function(f){let _;return _=typeof f=="object"?f.value:f,Sd(_)?null:_})(e.limit));let m=null;e.startAt&&(m=(function(f){const _=!!f.before,T=f.values||[];return new ed(T,_)})(e.startAt));let v=null;return e.endAt&&(v=(function(f){const _=!f.before,T=f.values||[];return new ed(T,_)})(e.endAt)),yI(t,o,c,u,p,"F",m,v)}function JI(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function SS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=No(e.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=No(e.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(e.unaryFilter.field);return tn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(e.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return tn.create(No(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return qi.create(e.compositeFilter.filters.map((r=>SS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(e.compositeFilter.op))})(n):jt(30097,{filter:n})}function tD(n){return UI[n]}function eD(n){return FI[n]}function nD(n){return HI[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function No(n){return Tn.fromServerFormat(n.fieldPath)}function AS(n){return n instanceof tn?(function(e){if(e.op==="=="){if(eb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(tb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(eb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(tb(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:eD(e.op),value:e.value}}})(n):n instanceof qi?(function(e){const r=e.getFilters().map((o=>AS(o)));return r.length===1?r[0]:{compositeFilter:{op:nD(e.op),filters:r}}})(n):jt(54877,{filter:n})}function iD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ES(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Dr{constructor(t,e,r,o,u=Lt.min(),c=Lt.min(),p=Sn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sD{constructor(t){this.yt=t}}function rD(n){const t=ZI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nd(t,t.limit,"L"):t}class aD{constructor(){this.Cn=new oD}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(kr.min())}updateCollectionGroup(t,e,r){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class oD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new an(be.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new an(be.comparator)).toArray()}}const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wS=41943040;class Hn{static withCacheSize(t){return new Hn(t,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(wS,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}const gb="LruGarbageCollector",lD=1048576;function yb([n,t],[e,r]){const o=Zt(n,e);return o===0?Zt(t,r):o}class uD{constructor(t){this.Ir=t,this.buffer=new an(yb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();yb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){xt(gb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nl(e)?xt(gb,"Ignoring IndexedDB error during garbage collection: ",e):await el(e)}await this.Vr(3e5)}))}}class fD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(Td.ce);const r=new uD(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(mb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,p,m,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),o=this.params.maximumSequenceNumbersToCollect):o=f,c=Date.now(),this.nthSequenceNumber(t,o)))).next((f=>(r=f,p=Date.now(),this.removeTargets(t,r,e)))).next((f=>(u=f,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((f=>(v=Date.now(),jo()<=re.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${f} documents in `+(v-m)+`ms
Total Duration: ${v-x}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:f}))))}}function dD(n,t){return new fD(n,t)}class hD{constructor(){this.changes=new Ba((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,In.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?ht.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class mD{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&bu(r.mutation,o,si.empty(),Ae.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Jt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Jt()){const o=Ca();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=hu();return u.forEach(((p,m)=>{c=c.insert(p,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Ca();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Jt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,p)=>{e.set(c,p)}))}))}computeViews(t,e,r,o){let u=Ys();const c=xu(),p=(function(){return xu()})();return e.forEach(((m,v)=>{const x=r.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof Qr)?u=u.insert(v.key,v):x!==void 0?(c.set(v.key,x.mutation.getFieldMask()),bu(x.mutation,v,x.mutation.getFieldMask(),Ae.now())):c.set(v.key,si.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((v,x)=>c.set(v,x))),e.forEach(((v,x)=>p.set(v,new pD(x,c.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,e){const r=xu();let o=new Ve(((c,p)=>c-p)),u=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const p of c)p.keys().forEach((m=>{const v=e.get(m);if(v===null)return;let x=r.get(m)||si.empty();x=p.applyToLocalView(v,x),r.set(m,x);const f=(o.get(p.batchId)||Jt()).add(m);o=o.insert(p.batchId,f)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,x=m.value,f=lS();x.forEach((_=>{if(!u.has(_)){const T=pS(e.get(_),r.get(_));T!==null&&f.set(_,T),u=u.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(t,v,f))}return ht.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return It.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):iS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):ht.resolve(Ca());let p=Ru,m=u;return c.next((v=>ht.forEach(v,((x,f)=>(p<f.largestBatchId&&(p=f.largestBatchId),u.get(x)?ht.resolve():this.remoteDocumentCache.getEntry(t,x).next((_=>{m=m.insert(x,_)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,m,v,Jt()))).next((x=>({batchId:p,changes:oS(x)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next((r=>{let o=hu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(t,u).next((p=>ht.forEach(p,(m=>{const v=(function(f,_){return new il(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((x=>{x.forEach(((f,_)=>{c=c.insert(f,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((m,v)=>{const x=v.getKey();c.get(x)===null&&(c=c.insert(x,In.newInvalidDocument(x)))}));let p=hu();return c.forEach(((m,v)=>{const x=u.get(m);x!==void 0&&bu(x.mutation,v,si.empty(),Ae.now()),Cd(e,v)&&(p=p.insert(m,v))})),p}))}}class gD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ys(o.createTime)}})(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:rD(o.bundledQuery),readTime:ys(o.readTime)}})(e)),ht.resolve()}}class yD{constructor(){this.overlays=new Ve(It.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ca();return ht.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),ht.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ht.resolve()}getOverlaysForCollection(t,e,r){const o=Ca(),u=e.length+1,c=new It(e.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ht.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new Ve(((v,x)=>v-x));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let x=u.get(v.largestBatchId);x===null&&(x=Ca(),u=u.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const p=Ca(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,x)=>p.set(v,x))),!(p.size()>=o)););return ht.resolve(p)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NI(e,r));let u=this.qr.get(e);u===void 0&&(u=Jt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}class vD{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}class Lg{constructor(){this.Qr=new an(dn.$r),this.Ur=new an(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new dn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new dn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new It(new be([])),r=new dn(e,t),o=new dn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new It(new be([])),r=new dn(e,t),o=new dn(e,t+1);let u=Jt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new dn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class dn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return It.comparator(t.key,e.key)||Zt(t.Yr,e.Yr)}static Kr(t,e){return Zt(t.Yr,e.Yr)||It.comparator(t.key,e.key)}}class _D{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new an(dn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OI(u,e,r,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new dn(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return ht.resolve(c)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return ht.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Rg:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new dn(e,0),o=new dn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),ht.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new an(Zt);return e.forEach((o=>{const u=new dn(o,0),c=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{r=r.add(p.Yr)}))})),ht.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;It.isDocumentKey(u)||(u=u.child(""));const c=new dn(new It(u),0);let p=new an(Zt);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(m.Yr)),!0)}),c),ht.resolve(this.ti(p))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){fe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ht.forEach(e.mutations,(o=>{const u=new dn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new dn(e,0),o=this.Zr.firstAfterOrEqual(r);return ht.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xD{constructor(t){this.ri=t,this.docs=(function(){return new Ve(It.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ht.resolve(r?r.document.mutableCopy():In.newInvalidDocument(e))}getEntries(t,e){let r=Ys();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():In.newInvalidDocument(o))})),ht.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ys();const c=e.path,p=new It(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||KR(WR(x),r)<=0||(o.has(x.key)||Cd(e,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ht.resolve(u)}getAllFromCollectionGroup(t,e,r,o){jt(9500)}ii(t,e){return ht.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new bD(this)}getSize(t){return ht.resolve(this.size)}}class bD extends hD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class TD{constructor(t){this.persistence=t,this.si=new Ba((e=>Vg(e)),jg),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ko(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=e&&r.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),ht.waitFor(u).next((()=>o))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return ht.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),ht.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ht.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return ht.resolve(r)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}class CS{constructor(t,e){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new vD,this.referenceDelegate=t(this),this.Pi=new TD(this),this.indexManager=new aD,this.remoteDocumentCache=(function(o){return new xD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sD(e),this.Ii=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new _D(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){xt("MemoryPersistence","Starting transaction:",t);const o=new SD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return ht.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class SD extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class Bg{constructor(t){this.persistence=t,this.Ri=new Lg,this.Vi=null}static mi(t){return new Bg(t)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),ht.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,(r=>{const o=It.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Lt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class ad{constructor(t,e){this.persistence=t,this.pi=new Ba((r=>tI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dD(this,e)}static mi(t,e){return new ad(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return ht.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ht.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((p=>{p||(r++,u.removeEntry(c,Lt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zf(t.data.value)),e}br(t,e,r){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return ht.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class zg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Jt(),o=Jt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zg(t,e.fromCache,r,o)}}class AD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ED{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mC()?8:ZR(dC())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new AD;return this.Ss(t,e,c).next((p=>{if(u.result=p,this.Vs)return this.bs(t,e,c,p.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(jo()<=re.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",Mo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(jo()<=re.DEBUG&&xt("QueryEngine","Query:",Mo(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(jo()<=re.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",Mo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gs(e))):ht.resolve())}ys(t,e){if(rb(e))return ht.resolve(null);let r=gs(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=nd(e,null,"F"),r=gs(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Jt(...u);return this.ps.getDocuments(t,c).next((p=>this.indexManager.getMinOffset(t,r).next((m=>{const v=this.Ds(e,p);return this.Cs(e,v,c,m.readTime)?this.ys(t,nd(e,null,"F")):this.vs(t,v,e,m)}))))})))))}ws(t,e,r,o){return rb(e)||o.isEqual(Lt.min())?ht.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?ht.resolve(null):(jo()<=re.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(e)),this.vs(t,c,e,QR(o,Ru)).next((p=>p)))}))}Ds(t,e){let r=new an(rS(t));return e.forEach(((o,u)=>{Cd(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return jo()<=re.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Mo(e)),this.ps.getDocumentsMatchingQuery(t,e,kr.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Ug="LocalStore",wD=3e8;class CD{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new Ve(Zt),this.xs=new Ba((u=>Vg(u)),jg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function RD(n,t,e,r){return new CD(n,t,e,r)}async function RS(n,t){const e=Ut(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],p=[];let m=Jt();for(const v of o){c.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of u){p.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return e.localDocuments.getDocuments(r,m).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:p})))}))}))}function ID(n,t){const e=Ut(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,v,x){const f=v.batch,_=f.keys();let T=ht.resolve();return _.forEach((E=>{T=T.next((()=>x.getEntry(m,E))).next((C=>{const M=v.docVersions.get(E);fe(M!==null,48541),C.version.compareTo(M)<0&&(f.applyToRemoteDocument(C,v),C.isValidDocument()&&(C.setReadTime(v.commitVersion),x.addEntry(C)))}))})),T.next((()=>p.mutationQueue.removeMutationBatch(m,f)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let m=Jt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(m=m.add(p.batch.mutations[v].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function IS(n){const t=Ut(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function DD(n,t){const e=Ut(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const p=[];t.targetChanges.forEach(((x,f)=>{const _=o.get(f);if(!_)return;p.push(e.Pi.removeMatchingKeys(u,x.removedDocuments,f).next((()=>e.Pi.addMatchingKeys(u,x.addedDocuments,f))));let T=_.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(f)!==null?T=T.withResumeToken(Sn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):x.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(x.resumeToken,r)),o=o.insert(f,T),(function(C,M,j){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=wD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(_,T,x)&&p.push(e.Pi.updateTargetData(u,T))}));let m=Ys(),v=Jt();if(t.documentUpdates.forEach((x=>{t.resolvedLimboDocuments.has(x)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(VD(u,c,t.documentUpdates).next((x=>{m=x.ks,v=x.qs}))),!r.isEqual(Lt.min())){const x=e.Pi.getLastRemoteSnapshotVersion(u).next((f=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(x)}return ht.waitFor(p).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,m,v))).next((()=>m))})).then((u=>(e.Ms=o,u)))}function VD(n,t,e){let r=Jt(),o=Jt();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Ys();return e.forEach(((p,m)=>{const v=u.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Lt.min())?(t.removeEntry(p,m.readTime),c=c.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(m),c=c.insert(p,m)):xt(Ug,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function jD(n,t){const e=Ut(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Rg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function MD(n,t){const e=Ut(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,ht.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new Dr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function qm(n,t,e){const r=Ut(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!nl(c))throw c;xt(Ug,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function vb(n,t,e){const r=Ut(n);let o=Lt.min(),u=Jt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,v,x){const f=Ut(m),_=f.xs.get(x);return _!==void 0?ht.resolve(f.Ms.get(_)):f.Pi.getTargetData(v,x)})(r,c,gs(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,p.targetId).next((m=>{u=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Lt.min(),e?u:Jt()))).next((p=>(OD(r,_I(t),p),{documents:p,Qs:u})))))}function OD(n,t,e){let r=n.Os.get(t)||Lt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class _b{constructor(){this.activeTargetIds=EI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ND{constructor(){this.Mo=new _b,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _b,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class PD{Oo(t){}shutdown(){}}const xb="ConnectivityMonitor";class bb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xt(xb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){xt(xb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function Gm(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const sm="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=Gm(),p=this.zo(t,e.toUriEncodedString());xt(sm,`Sending RPC '${t}' ${c}:`,p,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:v}=new URL(p),x=Sg(v);return this.Jo(t,p,m,r,x).then((f=>(xt(sm,`Received RPC '${t}' ${c}: `,f),f)),(f=>{throw Go(sm,`RPC '${t}' ${c} failed with error: `,f,"url: ",p,"request:",r),f}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=kD[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class BD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const wn="WebChannelConnection";class zD extends LD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=Gm();return new Promise(((p,m)=>{const v=new jT;v.setWithCredentials(!0),v.listenOnce(MT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Bf.NO_ERROR:const f=v.getResponseJson();xt(wn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(f)),p(f);break;case Bf.TIMEOUT:xt(wn,`RPC '${t}' ${c} timed out`),m(new yt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const _=v.getStatus();if(xt(wn,`RPC '${t}' ${c} failed with status:`,_,"response text:",v.getResponseText()),_>0){let T=v.getResponseJson();Array.isArray(T)&&(T=T[0]);const E=T?.error;if(E&&E.status&&E.message){const C=(function(j){const N=j.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(N)>=0?N:ft.UNKNOWN})(E.status);m(new yt(C,E.message))}else m(new yt(ft.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new yt(ft.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:t,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{xt(wn,`RPC '${t}' ${c} completed.`)}}));const x=JSON.stringify(o);xt(wn,`RPC '${t}' ${c} sending request:`,o),v.send(e,"POST",x,r,15)}))}T_(t,e,r){const o=Gm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=PT(),p=NT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const x=u.join("");xt(wn,`Creating RPC '${t}' stream ${o}: ${x}`,m);const f=c.createWebChannel(x,m);this.I_(f);let _=!1,T=!1;const E=new BD({Yo:M=>{T?xt(wn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(_||(xt(wn,`Opening RPC '${t}' stream ${o} transport.`),f.open(),_=!0),xt(wn,`RPC '${t}' stream ${o} sending:`,M),f.send(M))},Zo:()=>f.close()}),C=(M,j,N)=>{M.listen(j,(B=>{try{N(B)}catch(G){setTimeout((()=>{throw G}),0)}}))};return C(f,du.EventType.OPEN,(()=>{T||(xt(wn,`RPC '${t}' stream ${o} transport opened.`),E.o_())})),C(f,du.EventType.CLOSE,(()=>{T||(T=!0,xt(wn,`RPC '${t}' stream ${o} transport closed`),E.a_(),this.E_(f))})),C(f,du.EventType.ERROR,(M=>{T||(T=!0,Go(wn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),E.a_(new yt(ft.UNAVAILABLE,"The operation could not be completed")))})),C(f,du.EventType.MESSAGE,(M=>{if(!T){const j=M.data[0];fe(!!j,16349);const N=j,B=N?.error||N[0]?.error;if(B){xt(wn,`RPC '${t}' stream ${o} received error:`,B);const G=B.status;let tt=(function(R){const I=Ze[R];if(I!==void 0)return gS(I)})(G),J=B.message;tt===void 0&&(tt=ft.INTERNAL,J="Unknown error status: "+G+" with message "+B.message),T=!0,E.a_(new yt(tt,J)),f.close()}else xt(wn,`RPC '${t}' stream ${o} received:`,j),E.u_(j)}})),C(p,OT.STAT_EVENT,(M=>{M.stat===Mm.PROXY?xt(wn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===Mm.NOPROXY&&xt(wn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function rm(){return typeof document<"u"?document:null}function Vd(n){return new qI(n,!0)}class DS{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&xt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tb="PersistentStream";class VS{constructor(t,e,r,o,u,c,p,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return xt(Tb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(xt(Tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UD extends VS{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=QI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?ys(c.readTime):Lt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Hm(this.serializer),e.addTarget=(function(u,c){let p;const m=c.target;if(p=Lm(m)?{documents:XI(u,m)}:{query:$I(u,m).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=_S(u,c.resumeToken);const v=zm(u,c.expectedCount);v!==null&&(p.expectedCount=v)}else if(c.snapshotVersion.compareTo(Lt.min())>0){p.readTime=rd(u,c.snapshotVersion.toTimestamp());const v=zm(u,c.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=JI(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Hm(this.serializer),e.removeTarget=t,this.q_(e)}}class FD extends VS{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return fe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){fe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=KI(t.writeResults,t.commitTime),r=ys(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Hm(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>WI(this.serializer,r)))};this.q_(e)}}class HD{}class qD extends HD{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Um(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ft.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(t,Um(e,r),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ft.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(e),this.aa=!1):xt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class YD{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{za(this)&&(xt(Pa,"Restarting streams for network reachability change."),await(async function(m){const v=Ut(m);v.Ea.add(4),await qu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await jd(v)})(this))}))})),this.Ra=new GD(r,o)}}async function jd(n){if(za(n))for(const t of n.da)await t(!0)}async function qu(n){for(const t of n.da)await t(!1)}function jS(n,t){const e=Ut(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Gg(e)?qg(e):sl(e).O_()&&Hg(e,t))}function Fg(n,t){const e=Ut(n),r=sl(e);e.Ia.delete(t),r.O_()&&MS(e,t),e.Ia.size===0&&(r.O_()?r.L_():za(e)&&e.Ra.set("Unknown"))}function Hg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}sl(n).Y_(t)}function MS(n,t){n.Va.Ue(t),sl(n).Z_(t)}function qg(n){n.Va=new zI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.Ra.ua()}function Gg(n){return za(n)&&!sl(n).x_()&&n.Ia.size>0}function za(n){return Ut(n).Ea.size===0}function OS(n){n.Va=void 0}async function QD(n){n.Ra.set("Online")}async function WD(n){n.Ia.forEach(((t,e)=>{Hg(n,t)}))}async function KD(n,t){OS(n),Gg(n)?(n.Ra.ha(t),qg(n)):n.Ra.set("Unknown")}async function XD(n,t,e){if(n.Ra.set("Online"),t instanceof vS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(n,t)}catch(r){xt(Pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await od(n,r)}else if(t instanceof Hf?n.Va.Ze(t):t instanceof yS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Lt.min()))try{const r=await IS(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=u.Ia.get(v);x&&u.Ia.set(v,x.withResumeToken(m.resumeToken,c))}})),p.targetMismatches.forEach(((m,v)=>{const x=u.Ia.get(m);if(!x)return;u.Ia.set(m,x.withResumeToken(Sn.EMPTY_BYTE_STRING,x.snapshotVersion)),MS(u,m);const f=new Dr(x.target,m,v,x.sequenceNumber);Hg(u,f)})),u.remoteSyncer.applyRemoteEvent(p)})(n,e)}catch(r){xt(Pa,"Failed to raise snapshot:",r),await od(n,r)}}async function od(n,t,e){if(!nl(t))throw t;n.Ea.add(1),await qu(n),n.Ra.set("Offline"),e||(e=()=>IS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{xt(Pa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await jd(n)}))}function NS(n,t){return t().catch((e=>od(n,e,t)))}async function Md(n){const t=Ut(n),e=Ur(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rg;for(;$D(t);)try{const o=await jD(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,ZD(t,o)}catch(o){await od(t,o)}PS(t)&&kS(t)}function $D(n){return za(n)&&n.Ta.length<10}function ZD(n,t){n.Ta.push(t);const e=Ur(n);e.O_()&&e.X_&&e.ea(t.mutations)}function PS(n){return za(n)&&!Ur(n).x_()&&n.Ta.length>0}function kS(n){Ur(n).start()}async function JD(n){Ur(n).ra()}async function tV(n){const t=Ur(n);for(const e of n.Ta)t.ea(e.mutations)}async function eV(n,t,e){const r=n.Ta.shift(),o=Ng.from(r,t,e);await NS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Md(n)}async function nV(n,t){t&&Ur(n).X_&&await(async function(r,o){if((function(c){return kI(c)&&c!==ft.ABORTED})(o.code)){const u=r.Ta.shift();Ur(r).B_(),await NS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Md(r)}})(n,t),PS(n)&&kS(n)}async function Sb(n,t){const e=Ut(n);e.asyncQueue.verifyOperationInProgress(),xt(Pa,"RemoteStore received new credentials");const r=za(e);e.Ea.add(3),await qu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await jd(e)}async function iV(n,t){const e=Ut(n);t?(e.Ea.delete(2),await jd(e)):t||(e.Ea.add(2),await qu(e),e.Ra.set("Unknown"))}function sl(n){return n.ma||(n.ma=(function(e,r,o){const u=Ut(e);return u.sa(),new UD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:QD.bind(null,n),t_:WD.bind(null,n),r_:KD.bind(null,n),H_:XD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Gg(n)?qg(n):n.Ra.set("Unknown")):(await n.ma.stop(),OS(n))}))),n.ma}function Ur(n){return n.fa||(n.fa=(function(e,r,o){const u=Ut(e);return u.sa(),new FD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:JD.bind(null,n),r_:nV.bind(null,n),ta:tV.bind(null,n),na:eV.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Md(n)):(await n.fa.stop(),n.Ta.length>0&&(xt(Pa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Yg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,p=new Yg(t,e,c,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(n,t){if(Gs("AsyncQueue",`${t}: ${n}`),nl(n))return new yt(ft.UNAVAILABLE,`${t}: ${n}`);throw n}class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||It.comparator(e.key,r.key):(e,r)=>It.comparator(e.key,r.key),this.keyedMap=hu(),this.sortedSet=new Ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Ab{constructor(){this.ga=new Ve(It.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):jt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Xo{constructor(t,e,r,o,u,c,p,m,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((p=>{c.push({type:0,doc:p})})),new Xo(t,e,Uo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class sV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rV{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Ut(e),u=o.queries;o.queries=Eb(),u.forEach(((c,p)=>{for(const m of p.Sa)m.onError(r)}))})(this,new yt(ft.ABORTED,"Firestore shutting down"))}}function Eb(){return new Ba((n=>sS(n)),wd)}async function Wg(n,t){const e=Ut(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new sV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const p=Qg(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(p)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Xg(e)}async function Kg(n,t){const e=Ut(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function aV(n,t){const e=Ut(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(r=!0);c.wa=o}}r&&Xg(e)}function oV(n,t,e){const r=Ut(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Xg(n){n.Ca.forEach((t=>{t.next()}))}var Ym,wb;(wb=Ym||(Ym={})).Ma="default",wb.Cache="cache";class $g{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ym.Cache}}class LS{constructor(t){this.key=t}}class BS{constructor(t){this.key=t}}class lV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=rS(t),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new Ab,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((x,f)=>{const _=o.get(x),T=Cd(this.query,f)?f:null,E=!!_&&this.mutatedKeys.has(_.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;_&&T?_.data.isEqual(T.data)?E!==C&&(r.track({type:3,doc:T}),M=!0):this.su(_,T)||(r.track({type:2,doc:T}),M=!0,(m&&this.eu(T,m)>0||v&&this.eu(T,v)<0)&&(p=!0)):!_&&T?(r.track({type:0,doc:T}),M=!0):_&&!T&&(r.track({type:1,doc:_}),M=!0,(m||v)&&(p=!0)),M&&(T?(c=c.add(T),u=C?u.add(x):u.delete(x)):(c=c.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{tu:c,iu:r,Cs:p,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((x,f)=>(function(T,E){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:M})}};return C(T)-C(E)})(x.type,f.type)||this.eu(x.doc,f.doc))),this.ou(r),o=o??!1;const p=e&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,c.length!==0||v?{snapshot:new Xo(this.query,t.tu,u,c,t.mutatedKeys,m===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new BS(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new LS(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class uV{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class cV{constructor(t){this.key=t,this.hu=!1}}class fV{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((p=>sS(p)),wd),this.Iu=new Map,this.Eu=new Set,this.du=new Ve(It.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dV(n,t,e=!0){const r=GS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zS(r,t,e,!0),o}async function hV(n,t){const e=GS(n);await zS(e,t,!0,!1)}async function zS(n,t,e,r){const o=await MD(n.localStore,gs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let p;return r&&(p=await pV(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&jS(n.remoteStore,o),p}async function pV(n,t,e,r,o){n.pu=(f,_,T)=>(async function(C,M,j,N){let B=M.view.ru(j);B.Cs&&(B=await vb(C.localStore,M.query,!1).then((({documents:V})=>M.view.ru(V,B))));const G=N&&N.targetChanges.get(M.targetId),tt=N&&N.targetMismatches.get(M.targetId)!=null,J=M.view.applyChanges(B,C.isPrimaryClient,G,tt);return Rb(C,M.targetId,J.au),J.snapshot})(n,f,_,T);const u=await vb(n.localStore,t,!0),c=new lV(t,u.Qs),p=c.ru(u.documents),m=Hu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),v=c.applyChanges(p,n.isPrimaryClient,m);Rb(n,e,v.au);const x=new uV(t,e,c);return n.Tu.set(t,x),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),v.snapshot}async function mV(n,t,e){const r=Ut(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!wd(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Fg(r.remoteStore,o.targetId),Qm(r,o.targetId)})).catch(el)):(Qm(r,o.targetId),await qm(r.localStore,o.targetId,!0))}async function gV(n,t){const e=Ut(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Fg(e.remoteStore,r.targetId))}async function yV(n,t,e){const r=AV(n);try{const o=await(function(c,p){const m=Ut(c),v=Ae.now(),x=p.reduce(((T,E)=>T.add(E.key)),Jt());let f,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let E=Ys(),C=Jt();return m.Ns.getEntries(T,x).next((M=>{E=M,E.forEach(((j,N)=>{N.isValidDocument()||(C=C.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(T,E))).next((M=>{f=M;const j=[];for(const N of p){const B=jI(N,f.get(N.key).overlayedDocument);B!=null&&j.push(new Qr(N.key,B,XT(B.value.mapValue),wi.exists(!0)))}return m.mutationQueue.addMutationBatch(T,v,j,p)})).next((M=>{_=M;const j=M.applyToLocalDocumentSet(f,C);return m.documentOverlayCache.saveOverlays(T,M.batchId,j)}))})).then((()=>({batchId:_.batchId,changes:oS(f)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,p,m){let v=c.Vu[c.currentUser.toKey()];v||(v=new Ve(Zt)),v=v.insert(p,m),c.Vu[c.currentUser.toKey()]=v})(r,o.batchId,e),await Gu(r,o.changes),await Md(r.remoteStore)}catch(o){const u=Qg(o,"Failed to persist write");e.reject(u)}}async function US(n,t){const e=Ut(n);try{const r=await DD(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?fe(c.hu,14607):o.removedDocuments.size>0&&(fe(c.hu,42227),c.hu=!1))})),await Gu(e,r,t)}catch(r){await el(r)}}function Cb(n,t,e){const r=Ut(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const p=c.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const m=Ut(c);m.onlineState=p;let v=!1;m.queries.forEach(((x,f)=>{for(const _ of f.Sa)_.va(p)&&(v=!0)})),v&&Xg(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vV(n,t,e){const r=Ut(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Ve(It.comparator);c=c.insert(u,In.newNoDocument(u,Lt.min()));const p=Jt().add(u),m=new Dd(Lt.min(),new Map,new Ve(Zt),c,p);await US(r,m),r.du=r.du.remove(u),r.Au.delete(t),Jg(r)}else await qm(r.localStore,t,!1).then((()=>Qm(r,t,e))).catch(el)}async function _V(n,t){const e=Ut(n),r=t.batch.batchId;try{const o=await ID(e.localStore,t);HS(e,r,null),FS(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(e,o)}catch(o){await el(o)}}async function xV(n,t,e){const r=Ut(n);try{const o=await(function(c,p){const m=Ut(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return m.mutationQueue.lookupMutationBatch(v,p).next((f=>(fe(f!==null,37113),x=f.keys(),m.mutationQueue.removeMutationBatch(v,f)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>m.localDocuments.getDocuments(v,x)))}))})(r.localStore,t);HS(r,t,e),FS(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Gu(r,o)}catch(o){await el(o)}}function FS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function HS(n,t,e){const r=Ut(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Qm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||qS(n,r)}))}function qS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Fg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Jg(n))}function Rb(n,t,e){for(const r of e)r instanceof LS?(n.Ru.addReference(r.key,t),bV(n,r)):r instanceof BS?(xt(Zg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||qS(n,r.key)):jt(19791,{wu:r})}function bV(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(xt(Zg,"New document in limbo: "+e),n.Eu.add(r),Jg(n))}function Jg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new It(be.fromString(t)),r=n.fu.next();n.Au.set(r,new cV(e)),n.du=n.du.insert(e,r),jS(n.remoteStore,new Dr(gs(Ed(e.path)),r,"TargetPurposeLimboResolution",Td.ce))}}async function Gu(n,t,e){const r=Ut(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,m)=>{c.push(r.pu(m,t,e).then((v=>{if((v||e)&&r.isPrimaryClient){const x=v?!v.fromCache:e?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(v){o.push(v);const x=zg.As(m.targetId,v);u.push(x)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,v){const x=Ut(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ht.forEach(v,(_=>ht.forEach(_.Es,(T=>x.persistence.referenceDelegate.addReference(f,_.targetId,T))).next((()=>ht.forEach(_.ds,(T=>x.persistence.referenceDelegate.removeReference(f,_.targetId,T)))))))))}catch(f){if(!nl(f))throw f;xt(Ug,"Failed to update sequence numbers: "+f)}for(const f of v){const _=f.targetId;if(!f.fromCache){const T=x.Ms.get(_),E=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(E);x.Ms=x.Ms.insert(_,C)}}})(r.localStore,u))}async function TV(n,t){const e=Ut(n);if(!e.currentUser.isEqual(t)){xt(Zg,"User change. New user:",t.toKey());const r=await RS(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new yt(ft.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gu(e,r.Ls)}}function SV(n,t){const e=Ut(n),r=e.Au.get(t);if(r&&r.hu)return Jt().add(r.key);{let o=Jt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const p=e.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function GS(n){const t=Ut(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vV.bind(null,t),t.Pu.H_=aV.bind(null,t.eventManager),t.Pu.yu=oV.bind(null,t.eventManager),t}function AV(n){const t=Ut(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_V.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xV.bind(null,t),t}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return RD(this.persistence,new ED,t.initialUser,this.serializer)}Cu(t){return new CS(Bg.mi,this.serializer)}Du(t){return new ND}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class EV extends ld{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){fe(this.persistence.referenceDelegate instanceof ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cD(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new CS((r=>ad.mi(r,e)),this.serializer)}}class Wm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TV.bind(null,this.syncEngine),await iV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rV})()}createDatastore(t){const e=Vd(t.databaseInfo.databaseId),r=(function(u){return new zD(u)})(t.databaseInfo);return(function(u,c,p,m){return new qD(u,c,p,m)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,p){return new YD(r,o,u,c,p)})(this.localStore,this.datastore,t.asyncQueue,(e=>Cb(this.syncEngine,e,0)),(function(){return bb.v()?new bb:new PD})())}createSyncEngine(t,e){return(function(o,u,c,p,m,v,x){const f=new fV(o,u,c,p,m,v);return x&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Ut(e);xt(Pa,"RemoteStore shutting down."),r.Ea.add(5),await qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class ty{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Fr="FirestoreClient";class wV{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Cn.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{xt(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(xt(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Qg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function am(n,t){n.asyncQueue.verifyOperationInProgress(),xt(Fr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await RS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Ib(n,t){n.asyncQueue.verifyOperationInProgress();const e=await CV(n);xt(Fr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Sb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Sb(t.remoteStore,o))),n._onlineComponents=t}async function CV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xt(Fr,"Using user provided OfflineComponentProvider");try{await am(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Go("Error using user provided cache. Falling back to memory cache: "+e),await am(n,new ld)}}else xt(Fr,"Using default OfflineComponentProvider"),await am(n,new EV(void 0));return n._offlineComponents}async function YS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xt(Fr,"Using user provided OnlineComponentProvider"),await Ib(n,n._uninitializedComponentsProvider._online)):(xt(Fr,"Using default OnlineComponentProvider"),await Ib(n,new Wm))),n._onlineComponents}function RV(n){return YS(n).then((t=>t.syncEngine))}async function ud(n){const t=await YS(n),e=t.eventManager;return e.onListen=dV.bind(null,t.syncEngine),e.onUnlisten=mV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=hV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gV.bind(null,t.syncEngine),e}function IV(n,t,e={}){const r=new Fs;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,m,v){const x=new ty({next:_=>{x.Nu(),c.enqueueAndForget((()=>Kg(u,f)));const T=_.docs.has(p);!T&&_.fromCache?v.reject(new yt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&m&&m.source==="server"?v.reject(new yt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:_=>v.reject(_)}),f=new $g(Ed(p.path),x,{includeMetadataChanges:!0,qa:!0});return Wg(u,f)})(await ud(n),n.asyncQueue,t,e,r))),r.promise}function DV(n,t,e={}){const r=new Fs;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,m,v){const x=new ty({next:_=>{x.Nu(),c.enqueueAndForget((()=>Kg(u,f))),_.fromCache&&m.source==="server"?v.reject(new yt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:_=>v.reject(_)}),f=new $g(p,x,{includeMetadataChanges:!0,qa:!0});return Wg(u,f)})(await ud(n),n.asyncQueue,t,e,r))),r.promise}function QS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const Db=new Map;const WS="firestore.googleapis.com",Vb=!0;class jb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=Vb}else this.host=t.host,this.ssl=t.ssl??Vb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lD)throw new yt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Od{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NR;switch(r.type){case"firstParty":return new BR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Db.get(e);r&&(xt("ComponentProvider","Removing Datastore"),Db.delete(e),r.terminate())})(this),Promise.resolve()}}function VV(n,t,e,r={}){n=Yn(n,Od);const o=Sg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},p=`${t}:${e}`;o&&(oC(`https://${p}`),fC("Firestore",!0)),u.host!==WS&&u.host!==p&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:r};if(!wu(m,c)&&(n._setSettings(m),r.mockUserToken)){let v,x;if(typeof r.mockUserToken=="string")v=r.mockUserToken,x=Cn.MOCK_USER;else{v=lC(r.mockUserToken,n._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new yt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Cn(f)}n._authCredentials=new PR(new LT(v,x))}}class Xs{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xs(this.firestore,t,this._query)}}class Pe{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Uu(e,Pe._jsonSchema))return new Pe(t,r||null,new It(be.fromString(e.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:en("string",Pe._jsonSchemaVersion),referencePath:en("string")};class Nr extends Xs{constructor(t,e,r){super(t,e,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new It(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function Rn(n,t,...e){if(n=ai(n),BT("collection","path",t),n instanceof Od){const r=be.fromString(t,...e);return Gx(r),new Nr(n,null,r)}{if(!(n instanceof Pe||n instanceof Nr))throw new yt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(t,...e));return Gx(r),new Nr(n.firestore,null,r)}}function Re(n,t,...e){if(n=ai(n),arguments.length===1&&(t=Cg.newId()),BT("doc","path",t),n instanceof Od){const r=be.fromString(t,...e);return qx(r),new Pe(n,null,new It(r))}{if(!(n instanceof Pe||n instanceof Nr))throw new yt(ft.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(t,...e));return qx(r),new Pe(n.firestore,n instanceof Nr?n.converter:null,new It(r))}}const Mb="AsyncQueue";class Ob{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DS(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&xt(Mb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=rm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=rm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!nl(t))throw t;xt(Mb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",Nb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Yg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&jt(47125,{Pc:Nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Nb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Pb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Qs extends Od{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Ob,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ob(t),this._firestoreClient=void 0,await t}}}function jV(n,t){const e=typeof n=="object"?n:RT(),r=typeof n=="string"?n:Jf,o=zu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rC("firestore");u&&VV(o,...u)}return o}function Nd(n){if(n._terminated)throw new yt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MV(n),n._firestoreClient}function MV(n){const t=n._freezeSettings(),e=(function(o,u,c,p){return new iI(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,QS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new wV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ai(Sn.fromBase64String(t))}catch(e){throw new yt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ai(Sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Ai._jsonSchema))return Ai.fromBase64String(t.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:en("string",Ai._jsonSchemaVersion),bytes:en("string")};class Pd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ey{constructor(t){this._methodName=t}}class vs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,vs._jsonSchema))return new vs(t.latitude,t.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:en("string",vs._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class _s{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,_s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new _s(t.vectorValues);throw new yt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:en("string",_s._jsonSchemaVersion),vectorValues:en("object")};const OV=/^__.*__$/;class NV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fu(t,this.data,e,this.fieldTransforms)}}class KS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:n})}}class ny{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return cd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(XS(this.Ac)&&OV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class PV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Vd(t)}Cc(t,e,r,o=!1){return new ny({Ac:t,methodName:e,Dc:r,path:Tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(n){const t=n._freezeSettings(),e=Vd(n._databaseId);return new PV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $S(n,t,e,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);iy("Data must be an object, but it was:",c,r);const p=ZS(r,c);let m,v;if(u.merge)m=new si(c.fieldMask),v=c.fieldTransforms;else if(u.mergeFields){const x=[];for(const f of u.mergeFields){const _=Km(t,f,e);if(!c.contains(_))throw new yt(ft.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);tA(x,_)||x.push(_)}m=new si(x),v=c.fieldTransforms.filter((f=>m.covers(f.field)))}else m=null,v=c.fieldTransforms;return new NV(new qn(p),m,v)}class Ld extends ey{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ld}}function kV(n,t,e,r){const o=n.Cc(1,t,e);iy("Data must be an object, but it was:",o,r);const u=[],c=qn.empty();Yr(r,((m,v)=>{const x=sy(t,m,e);v=ai(v);const f=o.yc(x);if(v instanceof Ld)u.push(x);else{const _=Yu(v,f);_!=null&&(u.push(x),c.set(x,_))}}));const p=new si(u);return new KS(c,p,o.fieldTransforms)}function LV(n,t,e,r,o,u){const c=n.Cc(1,t,e),p=[Km(t,r,e)],m=[o];if(u.length%2!=0)throw new yt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<u.length;_+=2)p.push(Km(t,u[_])),m.push(u[_+1]);const v=[],x=qn.empty();for(let _=p.length-1;_>=0;--_)if(!tA(v,p[_])){const T=p[_];let E=m[_];E=ai(E);const C=c.yc(T);if(E instanceof Ld)v.push(T);else{const M=Yu(E,C);M!=null&&(v.push(T),x.set(T,M))}}const f=new si(v);return new KS(x,f,c.fieldTransforms)}function BV(n,t,e,r=!1){return Yu(e,n.Cc(r?4:3,t))}function Yu(n,t){if(JS(n=ai(n)))return iy("Unsupported field value:",t,n),ZS(n,t);if(n instanceof ey)return(function(r,o){if(!XS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const p of r){let m=Yu(p,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ae.fromDate(r);return{timestampValue:rd(o.serializer,u)}}if(r instanceof Ae){const u=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(o.serializer,u)}}if(r instanceof vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:_S(o.serializer,r._byteString)};if(r instanceof Pe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof _s)return(function(c,p){return{mapValue:{fields:{[WT]:{stringValue:KT},[td]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mg(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${bd(r)}`)})(n,t)}function ZS(n,t){const e={};return FT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(n,((r,o)=>{const u=Yu(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function JS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ae||n instanceof vs||n instanceof Ai||n instanceof Pe||n instanceof ey||n instanceof _s)}function iy(n,t,e){if(!JS(e)||!zT(e)){const r=bd(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Km(n,t,e){if((t=ai(t))instanceof Pd)return t._internalPath;if(typeof t=="string")return sy(n,t);throw cd("Field path arguments must be of type string or ",n,!1,void 0,e)}const zV=new RegExp("[~\\*/\\[\\]]");function sy(n,t,e){if(t.search(zV)>=0)throw cd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Pd(...t.split("."))._internalPath}catch{throw cd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cd(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new yt(ft.INVALID_ARGUMENT,p+n+m)}function tA(n,t){return n.some((e=>e.isEqual(t)))}class eA{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Bd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class UV extends eA{data(){return super.data()}}function Bd(n,t){return typeof t=="string"?sy(n,t):t instanceof Pd?t._internalPath:t._delegate._internalPath}function nA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class ay extends ry{}function Vr(n,t,...e){let r=[];t instanceof ry&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((m=>m instanceof oy)).length,p=u.filter((m=>m instanceof zd)).length;if(c>1||c>0&&p>0)throw new yt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class zd extends ay{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new zd(t,e,r)}_apply(t){const e=this._parse(t);return iA(t._query,e),new Xs(t.firestore,t.converter,Bm(t._query,e))}_parse(t){const e=kd(t.firestore);return(function(u,c,p,m,v,x,f){let _;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new yt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Lb(f,x);const E=[];for(const C of f)E.push(kb(m,u,C));_={arrayValue:{values:E}}}else _=kb(m,u,f)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Lb(f,x),_=BV(p,c,f,x==="in"||x==="not-in");return tn.create(v,x,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function qf(n,t,e){const r=t,o=Bd("where",n);return zd._create(o,r,e)}class oy extends ry{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new oy(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:qi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const p=u.getFlattenedFilters();for(const m of p)iA(c,m),c=Bm(c,m)})(t._query,e),new Xs(t.firestore,t.converter,Bm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends ay{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ly(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new yt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new yt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(u,c)})(t._query,this._field,this._direction);return new Xs(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new il(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function Vf(n,t="asc"){const e=t,r=Bd("orderBy",n);return ly._create(r,e)}class uy extends ay{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new uy(t,e,r)}_apply(t){return new Xs(t.firestore,t.converter,nd(t._query,this._limit,this._limitType))}}function Xm(n){return YR("limit",n),uy._create("limit",n,"F")}function kb(n,t,e){if(typeof(e=ai(e))=="string"){if(e==="")throw new yt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iS(t)&&e.indexOf("/")!==-1)throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(be.fromString(e));if(!It.isDocumentKey(r))throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jx(n,new It(r))}if(e instanceof Pe)return Jx(n,e._key);throw new yt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(e)}.`)}function Lb(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iA(n,t){const e=(function(o,u){for(const c of o)for(const p of c.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new yt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class FV{convertValue(t,e="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw jt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Yr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[td].arrayValue?.values?.map((r=>Fe(r.doubleValue)));return new _s(e)}convertGeoPoint(t){return new vs(Fe(t.latitude),Fe(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Ad(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const e=Lr(t);return new Ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=be.fromString(t);fe(ES(r),9688,{name:t});const o=new Du(r.get(1),r.get(3)),u=new It(r.popFirst(5));return o.isEqual(e)||Gs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function sA(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class mu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Va extends eA{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Bd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Va._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:en("string",Va._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Gf extends Va{data(t={}){return super.data(t)}}class ja{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Gf(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const m=new Gf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new Gf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return p.type!==0&&(v=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),x=c.indexOf(p.doc.key)),{type:HV(p.type),doc:m,oldIndex:v,newIndex:x}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:n})}}function Fi(n){n=Yn(n,Pe);const t=Yn(n.firestore,Qs);return IV(Nd(t),n._key).then((e=>rA(t,n,e)))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:en("string",ja._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class cy extends FV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ai(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,e)}}function qV(n){n=Yn(n,Xs);const t=Yn(n.firestore,Qs),e=Nd(t),r=new cy(t);return nA(n._query),DV(e,n._query).then((o=>new ja(t,r,n,o)))}function Fo(n,t,e){n=Yn(n,Pe);const r=Yn(n.firestore,Qs),o=sA(n.converter,t,e);return Ud(r,[$S(kd(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,wi.none())])}function Hi(n,t,e,...r){n=Yn(n,Pe);const o=Yn(n.firestore,Qs),u=kd(o);let c;return c=typeof(t=ai(t))=="string"||t instanceof Pd?LV(u,"updateDoc",n._key,t,e,r):kV(u,"updateDoc",n._key,t),Ud(o,[c.toMutation(n._key,wi.exists(!0))])}function om(n){return Ud(Yn(n.firestore,Qs),[new Og(n._key,wi.none())])}function $o(n,t){const e=Yn(n.firestore,Qs),r=Re(n),o=sA(n.converter,t);return Ud(e,[$S(kd(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then((()=>r))}function ps(n,...t){n=ai(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Pb(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Pb(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let u,c,p;if(n instanceof Pe)c=Yn(n.firestore,Qs),p=Ed(n._key.path),u={next:m=>{t[r]&&t[r](rA(c,n,m))},error:t[r+1],complete:t[r+2]};else{const m=Yn(n,Xs);c=Yn(m.firestore,Qs),p=m._query;const v=new cy(c);u={next:x=>{t[r]&&t[r](new ja(c,v,m,x))},error:t[r+1],complete:t[r+2]},nA(n._query)}return(function(v,x,f,_){const T=new ty(_),E=new $g(x,T,f);return v.asyncQueue.enqueueAndForget((async()=>Wg(await ud(v),E))),()=>{T.Nu(),v.asyncQueue.enqueueAndForget((async()=>Kg(await ud(v),E)))}})(Nd(c),p,o,u)}function Ud(n,t){return(function(r,o){const u=new Fs;return r.asyncQueue.enqueueAndForget((async()=>yV(await RV(r),o,u))),u.promise})(Nd(n),t)}function rA(n,t,e){const r=e.docs.get(t._key),o=new cy(n);return new Va(n,o,t._key,r,new mu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){tl=o})(TR),Pr(new Hs("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),p=new Qs(new kR(r.getProvider("auth-internal")),new zR(c,r.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new yt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(v.options.projectId,x)})(c,o),c);return u={useFetchStreams:e,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ms(zx,Ux,t),ms(zx,Ux,"esm2020")})();const aA="@firebase/installations",fy="0.6.19";const oA=1e4,lA=`w:${fy}`,uA="FIS_v2",GV="https://firebaseinstallations.googleapis.com/v1",YV=3600*1e3,QV="installations",WV="Installations";const KV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ka=new xd(QV,WV,KV);function cA(n){return n instanceof Gr&&n.code.includes("request-failed")}function fA({projectId:n}){return`${GV}/projects/${n}/installations`}function dA(n){return{token:n.token,requestStatus:2,expiresIn:$V(n.expiresIn),creationTime:Date.now()}}async function hA(n,t){const r=(await t.json()).error;return ka.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function XV(n,{refreshToken:t}){const e=pA(n);return e.append("Authorization",ZV(t)),e}async function mA(n){const t=await n();return t.status>=500&&t.status<600?n():t}function $V(n){return Number(n.replace("s","000"))}function ZV(n){return`${uA} ${n}`}async function JV({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=fA(n),o=pA(n),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:e,authVersion:uA,appId:n.appId,sdkVersion:lA},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await mA(()=>fetch(r,p));if(m.ok){const v=await m.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:dA(v.authToken)}}else throw await hA("Create Installation",m)}function gA(n){return new Promise(t=>{setTimeout(t,n)})}function tj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const ej=/^[cdef][\w-]{21}$/,$m="";function nj(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=ij(n);return ej.test(e)?e:$m}catch{return $m}}function ij(n){return tj(n).substr(0,22)}function Fd(n){return`${n.appName}!${n.appId}`}const yA=new Map;function vA(n,t){const e=Fd(n);_A(e,t),sj(e,t)}function _A(n,t){const e=yA.get(n);if(e)for(const r of e)r(t)}function sj(n,t){const e=rj();e&&e.postMessage({key:n,fid:t}),aj()}let Ra=null;function rj(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=n=>{_A(n.data.key,n.data.fid)}),Ra}function aj(){yA.size===0&&Ra&&(Ra.close(),Ra=null)}const oj="firebase-installations-database",lj=1,La="firebase-installations-store";let lm=null;function dy(){return lm||(lm=wT(oj,lj,{upgrade:(n,t)=>{t===0&&n.createObjectStore(La)}})),lm}async function fd(n,t){const e=Fd(n),o=(await dy()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(e);return await u.put(t,e),await o.done,(!c||c.fid!==t.fid)&&vA(n,t.fid),t}async function xA(n){const t=Fd(n),r=(await dy()).transaction(La,"readwrite");await r.objectStore(La).delete(t),await r.done}async function Hd(n,t){const e=Fd(n),o=(await dy()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(e),p=t(c);return p===void 0?await u.delete(e):await u.put(p,e),await o.done,p&&(!c||c.fid!==p.fid)&&vA(n,p.fid),p}async function hy(n){let t;const e=await Hd(n.appConfig,r=>{const o=uj(r),u=cj(n,o);return t=u.registrationPromise,u.installationEntry});return e.fid===$m?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function uj(n){const t=n||{fid:nj(),registrationStatus:0};return bA(t)}function cj(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ka.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=fj(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:dj(n)}:{installationEntry:t}}async function fj(n,t){try{const e=await JV(n,t);return fd(n.appConfig,e)}catch(e){throw cA(e)&&e.customData.serverCode===409?await xA(n.appConfig):await fd(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function dj(n){let t=await Bb(n.appConfig);for(;t.registrationStatus===1;)await gA(100),t=await Bb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await hy(n);return r||e}return t}function Bb(n){return Hd(n,t=>{if(!t)throw ka.create("installation-not-found");return bA(t)})}function bA(n){return hj(n)?{fid:n.fid,registrationStatus:0}:n}function hj(n){return n.registrationStatus===1&&n.registrationTime+oA<Date.now()}async function pj({appConfig:n,heartbeatServiceProvider:t},e){const r=mj(n,e),o=XV(n,e),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:lA,appId:n.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},m=await mA(()=>fetch(r,p));if(m.ok){const v=await m.json();return dA(v)}else throw await hA("Generate Auth Token",m)}function mj(n,{fid:t}){return`${fA(n)}/${t}/authTokens:generate`}async function py(n,t=!1){let e;const r=await Hd(n.appConfig,u=>{if(!TA(u))throw ka.create("not-registered");const c=u.authToken;if(!t&&vj(c))return u;if(c.requestStatus===1)return e=gj(n,t),u;{if(!navigator.onLine)throw ka.create("app-offline");const p=xj(u);return e=yj(n,p),p}});return e?await e:r.authToken}async function gj(n,t){let e=await zb(n.appConfig);for(;e.authToken.requestStatus===1;)await gA(100),e=await zb(n.appConfig);const r=e.authToken;return r.requestStatus===0?py(n,t):r}function zb(n){return Hd(n,t=>{if(!TA(t))throw ka.create("not-registered");const e=t.authToken;return bj(e)?{...t,authToken:{requestStatus:0}}:t})}async function yj(n,t){try{const e=await pj(n,t),r={...t,authToken:e};return await fd(n.appConfig,r),e}catch(e){if(cA(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await xA(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await fd(n.appConfig,r)}throw e}}function TA(n){return n!==void 0&&n.registrationStatus===2}function vj(n){return n.requestStatus===2&&!_j(n)}function _j(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+YV}function xj(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function bj(n){return n.requestStatus===1&&n.requestTime+oA<Date.now()}async function Tj(n){const t=n,{installationEntry:e,registrationPromise:r}=await hy(t);return r?r.catch(console.error):py(t).catch(console.error),e.fid}async function Sj(n,t=!1){const e=n;return await Aj(e),(await py(e,t)).token}async function Aj(n){const{registrationPromise:t}=await hy(n);t&&await t}function Ej(n){if(!n||!n.options)throw um("App Configuration");if(!n.name)throw um("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw um(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function um(n){return ka.create("missing-app-config-values",{valueName:n})}const SA="installations",wj="installations-internal",Cj=n=>{const t=n.getProvider("app").getImmediate(),e=Ej(t),r=zu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Rj=n=>{const t=n.getProvider("app").getImmediate(),e=zu(t,SA).getImmediate();return{getId:()=>Tj(e),getToken:o=>Sj(e,o)}};function Ij(){Pr(new Hs(SA,Cj,"PUBLIC")),Pr(new Hs(wj,Rj,"PRIVATE"))}Ij();ms(aA,fy);ms(aA,fy,"esm2020");const dd="analytics",Dj="firebase_id",Vj="origin",jj=60*1e3,Mj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",my="https://www.googletagmanager.com/gtag/js";const Nn=new Ag("@firebase/analytics");const Oj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new xd("analytics","Analytics",Oj);function Nj(n){if(!n.startsWith(my)){const t=ri.create("invalid-gtag-resource",{gtagURL:n});return Nn.warn(t.message),""}return n}function AA(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function Pj(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function kj(n,t){const e=Pj("firebase-js-sdk-policy",{createScriptURL:Nj}),r=document.createElement("script"),o=`${my}?l=${n}&id=${t}`;r.src=e?e?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Lj(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function Bj(n,t,e,r,o,u){const c=r[o];try{if(c)await t[c];else{const m=(await AA(e)).find(v=>v.measurementId===o);m&&await t[m.appId]}}catch(p){Nn.error(p)}n("config",o,u)}async function zj(n,t,e,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const p=await AA(e);for(const m of c){const v=p.find(f=>f.measurementId===m),x=v&&t[v.appId];if(x)u.push(x);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Nn.error(u)}}function Uj(n,t,e,r){async function o(u,...c){try{if(u==="event"){const[p,m]=c;await zj(n,t,e,p,m)}else if(u==="config"){const[p,m]=c;await Bj(n,t,e,r,p,m)}else if(u==="consent"){const[p,m]=c;n("consent",p,m)}else if(u==="get"){const[p,m,v]=c;n("get",p,m,v)}else if(u==="set"){const[p]=c;n("set",p)}else n(u,...c)}catch(p){Nn.error(p)}}return o}function Fj(n,t,e,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Uj(u,n,t,e),{gtagCore:u,wrappedGtag:window[o]}}function Hj(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(my)&&e.src.includes(n))return e;return null}const qj=30,Gj=1e3;class Yj{constructor(t={},e=Gj){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const EA=new Yj;function Qj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Wj(n){const{appId:t,apiKey:e}=n,r={method:"GET",headers:Qj(e)},o=Mj.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const p=await u.json();p.error?.message&&(c=p.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function Kj(n,t=EA,e){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ri.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ri.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Zj;return setTimeout(async()=>{p.abort()},jj),wA({appId:r,apiKey:o,measurementId:u},c,p,t)}async function wA(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=EA){const{appId:u,measurementId:c}=n;try{await Xj(r,t)}catch(p){if(c)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw p}try{const p=await Wj(n);return o.deleteThrottleMetadata(u),p}catch(p){const m=p;if(!$j(m)){if(o.deleteThrottleMetadata(u),c)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw p}const v=Number(m?.customData?.httpStatus)===503?Dx(e,o.intervalMillis,qj):Dx(e,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+v,backoffCount:e+1};return o.setThrottleMetadata(u,x),Nn.debug(`Calling attemptFetch again in ${v} millis`),wA(n,x,r,o)}}function Xj(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(u),r(ri.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function $j(n){if(!(n instanceof Gr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class Zj{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Jj(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const u=await t,c={...r,send_to:u};n("event",e,c)}}async function t5(n,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:e})}}async function e5(){if(TT())try{await ST()}catch(n){return Nn.warn(ri.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Nn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function n5(n,t,e,r,o,u,c){const p=Kj(n);p.then(_=>{e[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Nn.error(_)),t.push(p);const m=e5().then(_=>{if(_)return r.getId()}),[v,x]=await Promise.all([p,m]);Hj(u)||kj(u,v.measurementId),o("js",new Date);const f=c?.config??{};return f[Vj]="firebase",f.update=!0,x!=null&&(f[Dj]=x),o("config",v.measurementId,f),v.measurementId}class i5{constructor(t){this.app=t}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},Ub=[];const Fb={};let cm="dataLayer",s5="gtag",Hb,gy,qb=!1;function r5(){const n=[];if(pC()&&n.push("This is a browser extension environment."),gC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=ri.create("invalid-analytics-context",{errorInfo:t});Nn.warn(e.message)}}function a5(n,t,e){r5();const r=n.options.appId;if(!r)throw ri.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(Ho[r]!=null)throw ri.create("already-exists",{id:r});if(!qb){Lj(cm);const{wrappedGtag:u,gtagCore:c}=Fj(Ho,Ub,Fb,cm,s5);gy=u,Hb=c,qb=!0}return Ho[r]=n5(n,Ub,Fb,t,Hb,cm,e),new i5(n)}function o5(n=RT()){n=ai(n);const t=zu(n,dd);return t.isInitialized()?t.getImmediate():l5(n)}function l5(n,t={}){const e=zu(n,dd);if(e.isInitialized()){const o=e.getImmediate();if(wu(t,e.getOptions()))return o;throw ri.create("already-initialized")}return e.initialize({options:t})}function u5(n,t,e){n=ai(n),t5(gy,Ho[n.app.options.appId],t,e).catch(r=>Nn.error(r))}function c5(n,t,e,r){n=ai(n),Jj(gy,Ho[n.app.options.appId],t,e,r).catch(o=>Nn.error(o))}const Gb="@firebase/analytics",Yb="0.10.19";function f5(){Pr(new Hs(dd,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return a5(r,o,e)},"PUBLIC")),Pr(new Hs("analytics-internal",n,"PRIVATE")),ms(Gb,Yb),ms(Gb,Yb,"esm2020");function n(t){try{const e=t.getProvider(dd).getImmediate();return{logEvent:(r,o,u)=>c5(e,r,o,u),setUserProperties:(r,o)=>u5(e,r,o)}}catch(e){throw ri.create("interop-component-reg-failed",{reason:e})}}}f5();const d5={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},CA=CT(d5);o5(CA);const Qt=jV(CA);function h5({t:n,lang:t,users:e,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:p,logo:m,logoSize:v,logoPos:x,styles:f,isAdmin:_,syncToFirebase:T}){const[E,C]=H.useState("login"),[M,j]=H.useState(""),[N,B]=H.useState(""),[G,tt]=H.useState(""),J=async()=>{if(!M||!N||!G)return alert(t==="ko"?"  .":"Please fill all info.");const I=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(W=>W.code===G),k=e.find(W=>W.id===G);if(!I&&!k&&!(G==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(e.find(W=>W.id===M))return alert(t==="ko"?"  .":"ID already exists.");const P=(2783982189+e.length).toString(),Ct={id:M,pw:N,no:P,referral:G,diamond:0,refCode:M,agentName:I?I.name:"",joinedAt:new Date().toISOString()},Ft=[...e,Ct];r(Ft),T&&await T({users:Ft}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),j(""),B(""),tt(""),C("login")},V=R=>{R.key==="Enter"&&(E==="login"?o(M,N):J())};return y.jsxs("div",{style:{...f.landingWrapper,minHeight:"100dvh"},children:[y.jsxs("div",{style:{...f.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[y.jsx("div",{style:f.bgOverlay}),c.mode==="image"&&c.imageSrc&&y.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&p&&y.jsx("video",{src:p,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...f.bgVideo,height:"100dvh",objectFit:"cover"}},p)]}),y.jsx("div",{style:{...f.logoContainer,left:`${x.x}px`,top:`${x.y}px`,transition:"all 0.3s ease"},children:m?y.jsx("img",{src:m,alt:"logo",style:{height:`${v}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):y.jsx("strong",{style:f.defaultLogo,children:"DAISY"})}),y.jsxs("div",{style:f.mainContent,children:[y.jsxs("div",{style:f.heroSection,children:[y.jsx("h1",{style:f.mainTitle,children:c.title[t]}),y.jsx("p",{style:f.subTitle,children:c.desc[t]})]}),!_&&y.jsx("div",{style:f.authWrap,children:y.jsxs("div",{style:{...f.authCard,padding:"50px 40px"},children:[y.jsx("h2",{style:{...f.authTitle,fontSize:"28px",marginBottom:"35px"},children:E==="login"?n.login:n.signup}),y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:M,onChange:R=>j(R.target.value),onKeyDown:V}),y.jsx("input",{type:"password",style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:N,onChange:R=>B(R.target.value),onKeyDown:V}),E==="signup"&&y.jsx("input",{style:{...f.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:G,onChange:R=>tt(R.target.value),onKeyDown:V}),y.jsx("button",{style:{...f.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>E==="login"?o(M,N):J(),children:E==="login"?n.login:n.signup}),E==="login"&&y.jsx("button",{style:{...f.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),y.jsx("div",{style:{...f.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{C(E==="login"?"signup":"login"),j(""),B(""),tt("")},children:E==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Qb=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function p5({members:n=[],slideImages:t=[],innerLogo:e,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:p}){const[m,v]=H.useState(0),x=H.useRef(null);H.useEffect(()=>{if(!t||t.length<=1)return;const E=setInterval(()=>{v(C=>(C+1)%t.length)},4e3);return()=>clearInterval(E)},[t]);const f=H.useMemo(()=>!n||n.length===0?[]:[...n,...n,...n],[n]),_=E=>{x.current&&x.current.scrollBy({left:E==="left"?-300:300,behavior:"smooth"})},T=E=>{const C=x.current;if(!C)return;let M=!0,j=E.pageX-C.offsetLeft,N=C.scrollLeft;const B=tt=>{if(!M)return;tt.preventDefault();const V=(tt.pageX-C.offsetLeft-j)*2;C.scrollLeft=N-V},G=()=>{M=!1,window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",B),window.addEventListener("mouseup",G)};return y.jsxs("div",{style:Vt.container,children:[y.jsx("div",{className:"bg-glow"}),y.jsx("div",{className:"bg-pattern"}),y.jsxs("header",{style:Vt.header,children:[y.jsx("div",{style:Vt.logoArea,children:e?y.jsx("img",{src:e,style:Vt.logoImg,alt:"logo"}):y.jsxs("h1",{style:Vt.defaultLogo,children:["DAISY",y.jsx("br",{}),y.jsx("span",{children:"LOUNGE"})]})}),y.jsxs("div",{style:Vt.statusBadge,children:[y.jsx("div",{className:"dot-pulse-wrap",children:y.jsx("span",{className:"dot-pulse"})}),y.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),y.jsxs("b",{style:Vt.countText,children:[c," MEMBERS"]})]})]}),y.jsxs("div",{style:Vt.introTextArea,children:[y.jsx("div",{style:Vt.introSub,children:"WELCOME TO THE PRIVATE"}),y.jsxs("div",{style:Vt.introMain,children:[p.welcome.replace(" ",""),y.jsx("span",{style:Vt.introSparkle,children:""})]})]}),t&&t.length>0&&y.jsx("div",{style:Vt.sliderContainer,children:y.jsxs("div",{style:Vt.sliderWrap,children:[t.map((E,C)=>{const M=E.url||E,j=C===m;return y.jsx("div",{style:{...Vt.slide,opacity:j?1:0,visibility:j?"visible":"hidden"},children:y.jsxs("div",{style:Vt.imageBorderWrapper,children:[y.jsx("img",{src:M,style:Vt.actualImg,alt:"slide",draggable:"false"}),y.jsx("div",{style:Vt.slideOverlay}),y.jsx("div",{style:Vt.adTag,children:"PREMIUM PICK"})]})},C)}),y.jsx("div",{style:Vt.indicatorWrap,children:t.map((E,C)=>y.jsx("div",{style:{...Vt.dot,width:C===m?20:6,backgroundColor:C===m?"#FFD700":"rgba(255,255,255,0.3)"}},C))})]})}),y.jsxs("div",{style:Vt.welcomeBox,children:[y.jsx("div",{style:Vt.welcomeLine}),y.jsx("span",{style:Vt.welcomeText,children:p.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),y.jsx("div",{style:Vt.welcomeLine})]}),y.jsxs("div",{style:Vt.sectionLabel,children:[y.jsxs("div",{style:Vt.labelLeft,children:[y.jsx("span",{className:"shine-text",style:Vt.labelIcon,children:""}),y.jsxs("span",{style:Vt.labelText,children:["DAISY ",p.manager.toUpperCase()]})]}),y.jsx("div",{onClick:()=>o&&o("manager"),style:Vt.moreBtn,children:"VIEW ALL "})]}),y.jsxs("div",{style:{position:"relative",width:"100%"},children:[y.jsx("div",{ref:x,className:"snap-container",style:Vt.scrollArea,onMouseDown:T,children:f.map((E,C)=>y.jsxs("div",{style:Vt.card,onClick:()=>u&&u(E),children:[y.jsxs("div",{style:Vt.cardImgWrap,children:[y.jsx("img",{src:E.img,style:Vt.cardImg,alt:E.name||"member",draggable:"false"}),y.jsx("div",{style:Vt.cardOverlay}),y.jsx("div",{style:Vt.cardBadge,children:Qb[C%Qb.length]})]}),y.jsxs("div",{style:Vt.cardInfo,children:[y.jsx("div",{style:Vt.cardName,children:E.name}),y.jsxs("div",{style:Vt.cardSpecs,children:[y.jsx("span",{style:Vt.specText,children:E.loc||E.region||(p.home===""?"":"Area")}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.age?`${E.age}${p.home===""?"":""}`:p.home===""?"20":"20s"})]}),y.jsxs("div",{style:{...Vt.cardSpecs,marginTop:"5px"},children:[y.jsx("span",{style:Vt.specText,children:E.height?E.height+"cm":"cm"}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.weight?E.weight+"kg":"kg"}),y.jsx("span",{style:Vt.specDivider,children:""}),y.jsx("span",{style:Vt.specText,children:E.bust||E.size||"Size"})]})]})]},C))}),y.jsxs("div",{className:"pc-arrows-wrap",children:[y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("left")},children:""}),y.jsx("button",{className:"arrow-btn",onClick:E=>{E.stopPropagation(),_("right")},children:""})]})]}),y.jsxs("div",{style:Vt.footerBtnArea,children:[y.jsxs("button",{onClick:r,className:"shimmer-btn",style:Vt.teleBtn,children:[" ",p.home===""?"  ":"Connect Real-time Chat"]}),y.jsx("p",{style:Vt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),y.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const Vt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function m5({filteredMembers:n,regions:t,selectedRegion:e,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[p,m]=H.useState(null),[v,x]=H.useState(null);H.useEffect(()=>{o&&(m(o),window.history.pushState({isDetail:!0},""))},[o]),H.useEffect(()=>{const N=()=>{v?x(null):p&&_()};return window.addEventListener("popstate",N),()=>window.removeEventListener("popstate",N)},[v,p]);const f=(N,B)=>{x({type:N,url:B}),window.history.pushState({isFull:!0},"")},_=()=>{m(null),u&&u()},T=N=>N&&(N.includes("/video/upload/")||N.match(/\.(mp4|webm|mov|avi)$/i)),E={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},C=c.home==="",M=N=>C?N:E[N]||N,j=N=>{const B=C?[`${N}        .`,`     ${N}  .`,`      ${N} .`]:[`${N} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${N}, who boasts a visual perfected through thorough self-management.`,`${N} promises a comfortable time with bright energy and consideration.`];let G=(N||"").split("").reduce((tt,J)=>tt+J.charCodeAt(0),0);return B[G%B.length]};return y.jsxs("div",{style:Pt.container,children:[y.jsx("div",{style:Pt.filterWrapper,children:y.jsx("div",{style:Pt.filterScroll,children:t.map(N=>y.jsx("div",{onClick:()=>r(N),style:{...Pt.filterItem,color:e===N?"#000":"#888",background:e===N?"#FFD700":"transparent",borderColor:e===N?"#FFD700":"#333"},children:M(N)},N))})}),y.jsx("div",{style:Pt.grid,children:n.map((N,B)=>y.jsxs("div",{style:Pt.card,onClick:()=>{m(N),window.history.pushState({isDetail:!0},"")},children:[y.jsxs("div",{style:Pt.cardImgWrap,children:[y.jsx("img",{src:N.img,style:Pt.cardImg,alt:N.name}),y.jsx("div",{style:Pt.cardOverlay}),y.jsx("div",{style:Pt.cardBadge,children:"PREMIUM"})]}),y.jsxs("div",{style:Pt.cardInfo,children:[y.jsx("div",{style:Pt.cardName,children:N.name}),y.jsxs("div",{style:Pt.cardSpecs,children:[M(N.loc||N.region||(C?"":"LOC")),"  ",N.age?`${N.age}${C?"":""}`:C?"20":"20s"]}),y.jsxs("div",{style:{...Pt.cardSpecs,marginTop:"4px"},children:[N.height?N.height+"cm":"cm","  ",N.bust||N.size||"Size"]})]})]},B))}),p&&y.jsx("div",{style:Pt.modalOverlay,onClick:_,children:y.jsxs("div",{style:Pt.modalContent,onClick:N=>N.stopPropagation(),children:[y.jsxs("div",{style:Pt.modalImageWrap,onClick:()=>f("img",p.img),children:[y.jsx("img",{src:p.img,style:Pt.modalActualImg,alt:""}),y.jsxs("div",{style:Pt.luxTag,children:[" ",C?" ":"CLICK TO ZOOM"]})]}),y.jsxs("div",{style:Pt.modalBody,children:[y.jsx("h2",{style:Pt.modalName,children:p.name}),y.jsxs("div",{style:Pt.specGrid,children:[y.jsxs("div",{style:Pt.specItem,children:["LOC",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:M(p.loc||p.region||(C?"":"TBA"))})]}),y.jsxs("div",{style:Pt.specItem,children:["AGE",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.age?`${p.age}${C?"":""}`:"20s"})]}),y.jsxs("div",{style:Pt.specItem,children:["HEIGHT",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.height?p.height+"cm":"cm"})]}),y.jsxs("div",{style:Pt.specItem,children:["WEIGHT",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.weight?p.weight+"kg":"kg"})]}),y.jsxs("div",{style:Pt.specItem,children:["SIZE",y.jsx("br",{}),y.jsx("b",{style:Pt.specVal,children:p.bust||p.size||"Size"})]})]}),y.jsxs("div",{style:Pt.introBox,children:[y.jsx("div",{style:Pt.introTitle,children:"INTRO"}),y.jsx("p",{style:Pt.introText,children:p.desc||j(p.name)})]}),(p.video||T(p.img))&&y.jsxs("div",{style:Pt.videoArea,onClick:()=>f("video",p.video||p.img),children:[y.jsxs("div",{style:Pt.introTitle,children:["PRIVATE MOVIE (",C?" ":"CLICK TO ENLARGE",")"]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("video",{src:p.video||p.img,style:Pt.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),y.jsxs("div",{style:Pt.videoOverlay,children:[" ",C?" ":"TAP TO FULL VIEW"]})]})]}),y.jsx("button",{style:Pt.closeBtn,onClick:_,children:C?"":"CLOSE"})]})]})}),v&&y.jsxs("div",{id:"full-screen-view",style:Pt.fullScreenOverlay,onClick:()=>x(null),children:[y.jsxs("button",{style:Pt.fullScreenClose,onClick:()=>x(null),children:[" ",C?"":"CLOSE"]}),y.jsx("div",{style:Pt.fullScreenContent,onClick:N=>N.stopPropagation(),children:v.type==="video"?y.jsx("video",{src:v.url,style:Pt.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):y.jsx("img",{src:v.url,style:Pt.fullMedia,alt:""})})]})]})}const Pt={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function g5({videoCategories:n=[],selectedCategory:t,setSelectedCategory:e,filteredVideos:r=[],t:o}){const[u,c]=H.useState(null),[p,m]=H.useState(1),v=10,x=o.home==="",f={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},_=G=>x?G:f[G]||G;H.useEffect(()=>{m(1)},[t]);const T=p*v,E=T-v,C=r.slice(E,T),M=Math.ceil(r.length/v),j=t==="ALL";H.useEffect(()=>{const G=()=>{u&&c(null)};return window.addEventListener("popstate",G),()=>window.removeEventListener("popstate",G)},[u]);const N=G=>{c(G),window.history.pushState({isFullVideo:!0},"")},B=()=>{c(null)};return y.jsxs("div",{style:$e.pagePadding,children:[y.jsx("h2",{style:$e.tabDisplayTitle,children:x?" ":"PREMIUM GALLERY"}),y.jsxs("div",{style:$e.videoCategoryBar,children:[y.jsxs("span",{onClick:()=>e("ALL"),style:{...$e.videoCatItem,color:j?"#ffb347":"#555",borderBottom:j?"2px solid #ffb347":"2px solid transparent"},children:[" ",_("ALL")," "]}),n.map(G=>y.jsxs("span",{onClick:()=>e(G),style:{...$e.videoCatItem,color:t===G?"#ffb347":"#555",borderBottom:t===G?"2px solid #ffb347":"2px solid transparent"},children:[" ",_(G)," "]},G))]}),y.jsx("div",{style:$e.videoGrid,children:C.length>0?C.map(G=>y.jsxs("div",{style:$e.videoCard,onClick:()=>N(G.url),children:[y.jsxs("div",{style:$e.videoWrapper,children:[y.jsx("video",{src:G.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:$e.videoEl,poster:G.poster||""}),y.jsxs("div",{style:$e.playOverlay,children:[" ",x?"":"FULL VIEW"]})]}),y.jsxs("div",{style:$e.videoDesc,children:[y.jsx("span",{style:$e.descBadge,children:"EXCLUSIVE"}),y.jsx("p",{style:$e.descText,children:G.description||(x?` ${G.category} `:`PREMIUM ${_(G.category)} SHOW`)})]})]},G.id)):y.jsx("div",{style:$e.noData,children:x?"    .":"Videos in this category are coming soon."})}),M>1&&y.jsx("div",{style:$e.pagination,children:Array.from({length:M},(G,tt)=>tt+1).map(G=>y.jsxs("button",{onClick:()=>{m(G),window.scrollTo(0,0)},style:{...$e.pageBtn,background:p===G?"#ffb347":"#1a1a1a",color:p===G?"#000":"#888"},children:[" ",G," "]},G))}),u&&y.jsxs("div",{id:"full-screen-view",style:$e.fullOverlay,onClick:B,children:[y.jsxs("button",{style:$e.closeFull,onClick:B,children:[" ",x?"":"CLOSE"]}),y.jsx("div",{style:$e.fullContent,onClick:G=>G.stopPropagation(),children:y.jsx("video",{src:u,style:$e.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const $e={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},yy=H.createContext({});function qd(n){const t=H.useRef(null);return t.current===null&&(t.current=n()),t.current}const vy=typeof window<"u",_y=vy?H.useLayoutEffect:H.useEffect,Gd=H.createContext(null);function xy(n,t){n.indexOf(t)===-1&&n.push(t)}function by(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ws=(n,t,e)=>e>t?t:e<n?n:e;let Ty=()=>{};const Ks={},RA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function IA(n){return typeof n=="object"&&n!==null}const DA=n=>/^0[^.\s]+$/u.test(n);function Sy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ci=n=>n,y5=(n,t)=>e=>t(n(e)),Qu=(...n)=>n.reduce(y5),Nu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class Ay{constructor(){this.subscriptions=[]}add(t){return xy(this.subscriptions,t),()=>by(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xs=n=>n*1e3,Ei=n=>n/1e3;function VA(n,t){return t?n*(1e3/t):0}const jA=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,v5=1e-7,_5=12;function x5(n,t,e,r,o){let u,c,p=0;do c=t+(e-t)/2,u=jA(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>v5&&++p<_5);return c}function Wu(n,t,e,r){if(n===t&&e===r)return Ci;const o=u=>x5(u,0,1,n,e);return u=>u===0||u===1?u:jA(o(u),t,r)}const MA=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,OA=n=>t=>1-n(1-t),NA=Wu(.33,1.53,.69,.99),Ey=OA(NA),PA=MA(Ey),kA=n=>(n*=2)<1?.5*Ey(n):.5*(2-Math.pow(2,-10*(n-1))),wy=n=>1-Math.sin(Math.acos(n)),LA=OA(wy),BA=MA(wy),b5=Wu(.42,0,1,1),T5=Wu(0,0,.58,1),zA=Wu(.42,0,.58,1),S5=n=>Array.isArray(n)&&typeof n[0]!="number",UA=n=>Array.isArray(n)&&typeof n[0]=="number",A5={linear:Ci,easeIn:b5,easeInOut:zA,easeOut:T5,circIn:wy,circInOut:BA,circOut:LA,backIn:Ey,backInOut:PA,backOut:NA,anticipate:kA},E5=n=>typeof n=="string",Wb=n=>{if(UA(n)){Ty(n.length===4);const[t,e,r,o]=n;return Wu(t,e,r,o)}else if(E5(n))return A5[n];return n},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function w5(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(x){c.has(x)&&(v.schedule(x),n()),x(p)}const v={schedule:(x,f=!1,_=!1)=>{const E=_&&o?e:r;return f&&c.add(x),E.has(x)||E.add(x),x},cancel:x=>{r.delete(x),c.delete(x)},process:x=>{if(p=x,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(m),e.clear(),o=!1,u&&(u=!1,v.process(x))}};return v}const C5=40;function FA(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=jf.reduce((B,G)=>(B[G]=w5(u),B),{}),{setup:p,read:m,resolveKeyframes:v,preUpdate:x,update:f,preRender:_,render:T,postRender:E}=c,C=()=>{const B=Ks.useManualTiming?o.timestamp:performance.now();e=!1,Ks.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(B-o.timestamp,C5),1)),o.timestamp=B,o.isProcessing=!0,p.process(o),m.process(o),v.process(o),x.process(o),f.process(o),_.process(o),T.process(o),E.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(C))},M=()=>{e=!0,r=!0,o.isProcessing||n(C)};return{schedule:jf.reduce((B,G)=>{const tt=c[G];return B[G]=(J,V=!1,R=!1)=>(e||M(),tt.schedule(J,V,R)),B},{}),cancel:B=>{for(let G=0;G<jf.length;G++)c[jf[G]].cancel(B)},state:o,steps:c}}const{schedule:Ie,cancel:Hr,state:xn,steps:fm}=FA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ci,!0);let Yf;function R5(){Yf=void 0}const Gn={now:()=>(Yf===void 0&&Gn.set(xn.isProcessing||Ks.useManualTiming?xn.timestamp:performance.now()),Yf),set:n=>{Yf=n,queueMicrotask(R5)}},HA=n=>t=>typeof t=="string"&&t.startsWith(n),qA=HA("--"),I5=HA("var(--"),Cy=n=>I5(n)?D5.test(n.split("/*")[0].trim()):!1,D5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Pu={...rl,transform:n=>Ws(0,1,n)},Mf={...rl,default:1},Tu=n=>Math.round(n*1e5)/1e5,Ry=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V5(n){return n==null}const j5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Iy=(n,t)=>e=>!!(typeof e=="string"&&j5.test(e)&&e.startsWith(n)||t&&!V5(e)&&Object.prototype.hasOwnProperty.call(e,t)),GA=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,p]=r.match(Ry);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:p!==void 0?parseFloat(p):1}},M5=n=>Ws(0,255,n),dm={...rl,transform:n=>Math.round(M5(n))},Ia={test:Iy("rgb","red"),parse:GA("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+dm.transform(n)+", "+dm.transform(t)+", "+dm.transform(e)+", "+Tu(Pu.transform(r))+")"};function O5(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Zm={test:Iy("#"),parse:O5,transform:Ia.transform},Ku=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ir=Ku("deg"),bs=Ku("%"),Mt=Ku("px"),N5=Ku("vh"),P5=Ku("vw"),Kb={...bs,parse:n=>bs.parse(n)/100,transform:n=>bs.transform(n*100)},Po={test:Iy("hsl","hue"),parse:GA("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+bs.transform(Tu(t))+", "+bs.transform(Tu(e))+", "+Tu(Pu.transform(r))+")"},Je={test:n=>Ia.test(n)||Zm.test(n)||Po.test(n),parse:n=>Ia.test(n)?Ia.parse(n):Po.test(n)?Po.parse(n):Zm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ia.transform(n):Po.transform(n),getAnimatableNone:n=>{const t=Je.parse(n);return t.alpha=0,Je.transform(t)}},k5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L5(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ry)?.length||0)+(n.match(k5)?.length||0)>0}const YA="number",QA="color",B5="var",z5="var(",Xb="${}",U5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const p=t.replace(U5,m=>(Je.test(m)?(r.color.push(u),o.push(QA),e.push(Je.parse(m))):m.startsWith(z5)?(r.var.push(u),o.push(B5),e.push(m)):(r.number.push(u),o.push(YA),e.push(parseFloat(m))),++u,Xb)).split(Xb);return{values:e,split:p,indexes:r,types:o}}function WA(n){return ku(n).values}function KA(n){const{split:t,types:e}=ku(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const p=e[c];p===YA?u+=Tu(o[c]):p===QA?u+=Je.transform(o[c]):u+=o[c]}return u}}const F5=n=>typeof n=="number"?0:Je.test(n)?Je.getAnimatableNone(n):n;function H5(n){const t=WA(n);return KA(n)(t.map(F5))}const qr={test:L5,parse:WA,createTransformer:KA,getAnimatableNone:H5};function hm(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function q5({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const p=e<.5?e*(1+t):e+t-e*t,m=2*e-p;o=hm(m,p,n+1/3),u=hm(m,p,n),c=hm(m,p,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function hd(n,t){return e=>e>0?t:n}const De=(n,t,e)=>n+(t-n)*e,pm=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},G5=[Zm,Ia,Po],Y5=n=>G5.find(t=>t.test(n));function $b(n){const t=Y5(n);if(!t)return!1;let e=t.parse(n);return t===Po&&(e=q5(e)),e}const Zb=(n,t)=>{const e=$b(n),r=$b(t);if(!e||!r)return hd(n,t);const o={...e};return u=>(o.red=pm(e.red,r.red,u),o.green=pm(e.green,r.green,u),o.blue=pm(e.blue,r.blue,u),o.alpha=De(e.alpha,r.alpha,u),Ia.transform(o))},Jm=new Set(["none","hidden"]);function Q5(n,t){return Jm.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function W5(n,t){return e=>De(n,t,e)}function Dy(n){return typeof n=="number"?W5:typeof n=="string"?Cy(n)?hd:Je.test(n)?Zb:$5:Array.isArray(n)?XA:typeof n=="object"?Je.test(n)?Zb:K5:hd}function XA(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>Dy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function K5(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Dy(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function X5(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],p=n.values[c]??0;e[o]=p,r[u]++}return e}const $5=(n,t)=>{const e=qr.createTransformer(t),r=ku(n),o=ku(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Jm.has(n)&&!o.values.length||Jm.has(t)&&!r.values.length?Q5(n,t):Qu(XA(X5(r,o),o.values),e):hd(n,t)};function $A(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?De(n,t,e):Dy(n)(n,t)}const Z5=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Ie.update(t,e),stop:()=>Hr(t),now:()=>xn.isProcessing?xn.timestamp:Gn.now()}},ZA=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},pd=2e4;function Vy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<pd;)t+=e,r=n.next(t);return t>=pd?1/0:t}function J5(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(Vy(r),pd);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Ei(o)}}const t4=5;function JA(n,t,e){const r=Math.max(t-t4,0);return VA(e-n(r),t-r)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mm=.001;function e4({duration:n=Ne.duration,bounce:t=Ne.bounce,velocity:e=Ne.velocity,mass:r=Ne.mass}){let o,u,c=1-t;c=Ws(Ne.minDamping,Ne.maxDamping,c),n=Ws(Ne.minDuration,Ne.maxDuration,Ei(n)),c<1?(o=v=>{const x=v*c,f=x*n,_=x-e,T=tg(v,c),E=Math.exp(-f);return mm-_/T*E},u=v=>{const f=v*c*n,_=f*e+e,T=Math.pow(c,2)*Math.pow(v,2)*n,E=Math.exp(-f),C=tg(Math.pow(v,2),c);return(-o(v)+mm>0?-1:1)*((_-T)*E)/C}):(o=v=>{const x=Math.exp(-v*n),f=(v-e)*n+1;return-mm+x*f},u=v=>{const x=Math.exp(-v*n),f=(e-v)*(n*n);return x*f});const p=5/n,m=i4(o,u,p);if(n=xs(n),isNaN(m))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:n};{const v=Math.pow(m,2)*r;return{stiffness:v,damping:c*2*Math.sqrt(r*v),duration:n}}}const n4=12;function i4(n,t,e){let r=e;for(let o=1;o<n4;o++)r=r-n(r)/t(r);return r}function tg(n,t){return n*Math.sqrt(1-t*t)}const s4=["duration","bounce"],r4=["stiffness","damping","mass"];function Jb(n,t){return t.some(e=>n[e]!==void 0)}function a4(n){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...n};if(!Jb(n,r4)&&Jb(n,s4))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*Ws(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ne.mass,stiffness:o,damping:u}}else{const e=e4(n);t={...t,...e,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function md(n=Ne.visualDuration,t=Ne.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],p={done:!1,value:u},{stiffness:m,damping:v,mass:x,duration:f,velocity:_,isResolvedFromDuration:T}=a4({...e,velocity:-Ei(e.velocity||0)}),E=_||0,C=v/(2*Math.sqrt(m*x)),M=c-u,j=Ei(Math.sqrt(m/x)),N=Math.abs(M)<5;r||(r=N?Ne.restSpeed.granular:Ne.restSpeed.default),o||(o=N?Ne.restDelta.granular:Ne.restDelta.default);let B;if(C<1){const tt=tg(j,C);B=J=>{const V=Math.exp(-C*j*J);return c-V*((E+C*j*M)/tt*Math.sin(tt*J)+M*Math.cos(tt*J))}}else if(C===1)B=tt=>c-Math.exp(-j*tt)*(M+(E+j*M)*tt);else{const tt=j*Math.sqrt(C*C-1);B=J=>{const V=Math.exp(-C*j*J),R=Math.min(tt*J,300);return c-V*((E+C*j*M)*Math.sinh(R)+tt*M*Math.cosh(R))/tt}}const G={calculatedDuration:T&&f||null,next:tt=>{const J=B(tt);if(T)p.done=tt>=f;else{let V=tt===0?E:0;C<1&&(V=tt===0?xs(E):JA(B,tt,J));const R=Math.abs(V)<=r,I=Math.abs(c-J)<=o;p.done=R&&I}return p.value=p.done?c:J,p},toString:()=>{const tt=Math.min(Vy(G),pd),J=ZA(V=>G.next(tt*V).value,tt,30);return tt+"ms "+J},toTransition:()=>{}};return G}md.applyToOptions=n=>{const t=J5(n,100,md);return n.ease=t.ease,n.duration=xs(t.duration),n.type="keyframes",n};function eg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:p,max:m,restDelta:v=.5,restSpeed:x}){const f=n[0],_={done:!1,value:f},T=R=>p!==void 0&&R<p||m!==void 0&&R>m,E=R=>p===void 0?m:m===void 0||Math.abs(p-R)<Math.abs(m-R)?p:m;let C=e*t;const M=f+C,j=c===void 0?M:c(M);j!==M&&(C=j-f);const N=R=>-C*Math.exp(-R/r),B=R=>j+N(R),G=R=>{const I=N(R),k=B(R);_.done=Math.abs(I)<=v,_.value=_.done?j:k};let tt,J;const V=R=>{T(_.value)&&(tt=R,J=md({keyframes:[_.value,E(_.value)],velocity:JA(B,R,_.value),damping:o,stiffness:u,restDelta:v,restSpeed:x}))};return V(0),{calculatedDuration:null,next:R=>{let I=!1;return!J&&tt===void 0&&(I=!0,G(R),V(R)),tt!==void 0&&R>=tt?J.next(R-tt):(!I&&G(R),_)}}}function o4(n,t,e){const r=[],o=e||Ks.mix||$A,u=n.length-1;for(let c=0;c<u;c++){let p=o(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||Ci:t;p=Qu(m,p)}r.push(p)}return r}function l4(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(Ty(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const p=o4(t,r,o),m=p.length,v=x=>{if(c&&x<n[0])return t[0];let f=0;if(m>1)for(;f<n.length-2&&!(x<n[f+1]);f++);const _=Nu(n[f],n[f+1],x);return p[f](_)};return e?x=>v(Ws(n[0],n[u-1],x)):v}function u4(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Nu(0,t,r);n.push(De(e,1,o))}}function c4(n){const t=[0];return u4(t,n.length-1),t}function f4(n,t){return n.map(e=>e*t)}function d4(n,t){return n.map(()=>t||zA).splice(0,n.length-1)}function Su({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=S5(r)?r.map(Wb):Wb(r),u={done:!1,value:t[0]},c=f4(e&&e.length===t.length?e:c4(t),n),p=l4(c,t,{ease:Array.isArray(o)?o:d4(t,o)});return{calculatedDuration:n,next:m=>(u.value=p(m),u.done=m>=n,u)}}const h4=n=>n!==null;function jy(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(h4),p=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!p||r===void 0?u[p]:r}const p4={decay:eg,inertia:eg,tween:Su,keyframes:Su,spring:md};function tE(n){typeof n.type=="string"&&(n.type=p4[n.type])}class My{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const m4=n=>n/100;class Oy extends My{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tE(t);const{type:e=Su,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:p}=t;const m=e||Su;m!==Su&&typeof p[0]!="number"&&(this.mixKeyframes=Qu(m4,$A(p[0],p[1])),p=[0,100]);const v=m({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...p].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Vy(v));const{calculatedDuration:x}=v;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=v}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:x,repeat:f,repeatType:_,repeatDelay:T,type:E,onUpdate:C,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const j=this.currentTime-v*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let B=this.currentTime,G=r;if(f){const R=Math.min(this.currentTime,o)/p;let I=Math.floor(R),k=R%1;!k&&R>=1&&(k=1),k===1&&I--,I=Math.min(I,f+1),I%2&&(_==="reverse"?(k=1-k,T&&(k-=T/p)):_==="mirror"&&(G=c)),B=Ws(0,1,k)*p}const tt=N?{done:!1,value:x[0]}:G.next(B);u&&(tt.value=u(tt.value));let{done:J}=tt;!N&&m!==null&&(J=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return V&&E!==eg&&(tt.value=jy(x,this.options,M,this.speed)),C&&C(tt.value),V&&this.finish(),tt}then(t,e){return this.finished.then(t,e)}get duration(){return Ei(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ei(t)}get time(){return Ei(this.currentTime)}set time(t){t=xs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ei(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Z5,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function g4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Da=n=>n*180/Math.PI,ng=n=>{const t=Da(Math.atan2(n[1],n[0]));return ig(t)},y4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ng,rotateZ:ng,skewX:n=>Da(Math.atan(n[1])),skewY:n=>Da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ig=n=>(n=n%360,n<0&&(n+=360),n),t1=ng,e1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),n1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),v4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e1,scaleY:n1,scale:n=>(e1(n)+n1(n))/2,rotateX:n=>ig(Da(Math.atan2(n[6],n[5]))),rotateY:n=>ig(Da(Math.atan2(-n[2],n[0]))),rotateZ:t1,rotate:t1,skewX:n=>Da(Math.atan(n[4])),skewY:n=>Da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function sg(n){return n.includes("scale")?1:0}function rg(n,t){if(!n||n==="none")return sg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=v4,o=e;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=y4,o=p}if(!o)return sg(t);const u=r[t],c=o[1].split(",").map(x4);return typeof u=="function"?u(c):c[u]}const _4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return rg(e,t)};function x4(n){return parseFloat(n.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),i1=n=>n===rl||n===Mt,b4=new Set(["x","y","z"]),T4=al.filter(n=>!b4.has(n));function S4(n){const t=[];return T4.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Ma={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>rg(t,"x"),y:(n,{transform:t})=>rg(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Oa=new Set;let ag=!1,og=!1,lg=!1;function eE(){if(og){const n=Array.from(Oa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=S4(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}og=!1,ag=!1,Oa.forEach(n=>n.complete(lg)),Oa.clear()}function nE(){Oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(og=!0)})}function A4(){lg=!0,nE(),eE(),lg=!1}class Ny{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),ag||(ag=!0,Ie.read(nE),Ie.resolveKeyframes(eE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const p=r.readValue(e,c);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}g4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E4=n=>n.startsWith("--");function w4(n,t,e){E4(t)?n.style.setProperty(t,e):n.style[t]=e}const C4=Sy(()=>window.ScrollTimeline!==void 0),R4={};function I4(n,t){const e=Sy(n);return()=>R4[t]??e()}const iE=I4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,s1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function sE(n,t){if(n)return typeof n=="function"?iE()?ZA(n,t):"ease-out":UA(n)?gu(n):Array.isArray(n)?n.map(e=>sE(e,t)||s1.easeOut):s1[n]}function D4(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:p="easeOut",times:m}={},v=void 0){const x={[t]:e};m&&(x.offset=m);const f=sE(p,o);Array.isArray(f)&&(x.easing=f);const _={delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return v&&(_.pseudoElement=v),n.animate(x,_)}function rE(n){return typeof n=="function"&&"applyToOptions"in n}function V4({type:n,...t}){return rE(n)&&iE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class j4 extends My{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:p,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Ty(typeof t.type!="string");const v=V4(t);this.animation=D4(e,r,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=jy(o,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(x):w4(e,r,x),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ei(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ei(t)}get time(){return Ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&C4()?(this.animation.timeline=t,Ci):e(this)}}const aE={anticipate:kA,backInOut:PA,circInOut:BA};function M4(n){return n in aE}function O4(n){typeof n.ease=="string"&&M4(n.ease)&&(n.ease=aE[n.ease])}const r1=10;class N4 extends j4{constructor(t){O4(t),tE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const p=new Oy({...c,autoplay:!1}),m=xs(this.finishedTime??this.time);e.setWithVelocity(p.sample(m-r1).value,p.sample(m).value,r1),p.stop()}}const a1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qr.test(n)||n==="0")&&!n.startsWith("url("));function P4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function k4(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=a1(o,t),p=a1(u,t);return!c||!p?!1:P4(n)||(e==="spring"||rE(e))&&r}function ug(n){n.duration=0,n.type="keyframes"}const L4=new Set(["opacity","clipPath","filter","transform"]),B4=Sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function z4(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:v}=t.owner.getProps();return B4()&&e&&L4.has(e)&&(e!=="transform"||!v)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const U4=40;class F4 extends My{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:p,name:m,motionValue:v,element:x,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const _={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:v,element:x,...f},T=x?.KeyframeResolver||Ny;this.keyframeResolver=new T(p,(E,C,M)=>this.onKeyframesResolved(E,C,_,!M),m,v,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:p,delay:m,isHandoff:v,onUpdate:x}=r;this.resolvedAt=Gn.now(),k4(t,u,c,p)||((Ks.instantAnimations||!m)&&x?.(jy(t,r,e)),t[0]=t[t.length-1],ug(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>U4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},T=!v&&z4(_)?new N4({..._,element:_.motionValue.owner.current}):new Oy(_);T.finished.then(()=>this.notifyFinished()).catch(Ci),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),A4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const H4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q4(n){const t=H4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function oE(n,t,e=1){const[r,o]=q4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return RA(c)?parseFloat(c):c}return Cy(o)?oE(o,t,e+1):o}function Py(n,t){return n?.[t]??n?.default??n}const lE=new Set(["width","height","top","left","right","bottom",...al]),G4={test:n=>n==="auto",parse:n=>n},uE=n=>t=>t.test(n),cE=[rl,Mt,bs,Ir,P5,N5,G4],o1=n=>cE.find(uE(n));function Y4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||DA(n):!0}const Q4=new Set(["brightness","contrast","saturate","opacity"]);function W4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Ry)||[];if(!r)return n;const o=e.replace(r,"");let u=Q4.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const K4=/\b([a-z-]*)\(.*?\)/gu,cg={...qr,getAnimatableNone:n=>{const t=n.match(K4);return t?t.map(W4).join(" "):n}},l1={...rl,transform:Math.round},X4={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Mf,scaleX:Mf,scaleY:Mf,scaleZ:Mf,skew:Ir,skewX:Ir,skewY:Ir,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Pu,originX:Kb,originY:Kb,originZ:Mt},ky={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt,...X4,zIndex:l1,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:l1},$4={...ky,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:cg,WebkitFilter:cg},fE=n=>$4[n];function dE(n,t){let e=fE(n);return e!==cg&&(e=qr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Z4=new Set(["auto","none","0"]);function J4(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!Z4.has(u)&&ku(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=dE(e,o)}class tM extends Ny{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let v=t[m];if(typeof v=="string"&&(v=v.trim(),Cy(v))){const x=oE(v,e.current);x!==void 0&&(t[m]=x),m===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!lE.has(r)||t.length!==2)return;const[o,u]=t,c=o1(o),p=o1(u);if(c!==p)if(i1(c)&&i1(p))for(let m=0;m<t.length;m++){const v=t[m];typeof v=="string"&&(t[m]=parseFloat(v))}else Ma[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Y4(t[o]))&&r.push(o);r.length&&J4(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Ma[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function eM(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const hE=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function pE(n){return IA(n)&&"offsetHeight"in n}const u1=30,nM=n=>!isNaN(parseFloat(n));class iM{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Ay);const r=this.events[t].add(e);return t==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>u1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,u1);return VA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zo(n,t){return new iM(n,t)}const{schedule:Ly}=FA(queueMicrotask,!1),Ui={x:!1,y:!1};function mE(){return Ui.x||Ui.y}function sM(n){return n==="x"||n==="y"?Ui[n]?null:(Ui[n]=!0,()=>{Ui[n]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}function gE(n,t){const e=eM(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function c1(n){return!(n.pointerType==="touch"||mE())}function rM(n,t,e={}){const[r,o,u]=gE(n,e),c=p=>{if(!c1(p))return;const{target:m}=p,v=t(m,p);if(typeof v!="function"||!m)return;const x=f=>{c1(f)&&(v(f),m.removeEventListener("pointerleave",x))};m.addEventListener("pointerleave",x,o)};return r.forEach(p=>{p.addEventListener("pointerenter",c,o)}),u}const yE=(n,t)=>t?n===t?!0:yE(n,t.parentElement):!1,By=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,aM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oM(n){return aM.has(n.tagName)||n.tabIndex!==-1}const Qf=new WeakSet;function f1(n){return t=>{t.key==="Enter"&&n(t)}}function gm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lM=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=f1(()=>{if(Qf.has(e))return;gm(e,"down");const o=f1(()=>{gm(e,"up")}),u=()=>gm(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function d1(n){return By(n)&&!mE()}function uM(n,t,e={}){const[r,o,u]=gE(n,e),c=p=>{const m=p.currentTarget;if(!d1(p))return;Qf.add(m);const v=t(m,p),x=(T,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",_),Qf.has(m)&&Qf.delete(m),d1(T)&&typeof v=="function"&&v(T,{success:E})},f=T=>{x(T,m===window||m===document||e.useGlobalTarget||yE(m,T.target))},_=T=>{x(T,!1)};window.addEventListener("pointerup",f,o),window.addEventListener("pointercancel",_,o)};return r.forEach(p=>{(e.useGlobalTarget?window:p).addEventListener("pointerdown",c,o),pE(p)&&(p.addEventListener("focus",v=>lM(v,o)),!oM(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function vE(n){return IA(n)&&"ownerSVGElement"in n}function cM(n){return vE(n)&&n.tagName==="svg"}const Dn=n=>!!(n&&n.getVelocity),fM=[...cE,Je,qr],dM=n=>fM.find(uE(n)),zy=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function h1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function hM(...n){return t=>{let e=!1;const r=n.map(o=>{const u=h1(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():h1(n[o],null)}}}}function pM(...n){return H.useCallback(hM(...n),n)}class mM extends H.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,o=pE(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gM({children:n,isPresent:t,anchorX:e,root:r}){const o=H.useId(),u=H.useRef(null),c=H.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=H.useContext(zy),m=pM(u,n?.ref);return H.useInsertionEffect(()=>{const{width:v,height:x,top:f,left:_,right:T}=c.current;if(t||!u.current||!v||!x)return;const E=e==="left"?`left: ${_}`:`right: ${T}`;u.current.dataset.motionPopId=o;const C=document.createElement("style");p&&(C.nonce=p);const M=r??document.head;return M.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${E}px !important;
            top: ${f}px !important;
          }
        `),()=>{M.contains(C)&&M.removeChild(C)}},[t]),y.jsx(mM,{isPresent:t,childRef:u,sizeRef:c,children:H.cloneElement(n,{ref:m})})}const yM=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:p,root:m})=>{const v=qd(vM),x=H.useId();let f=!0,_=H.useMemo(()=>(f=!1,{id:x,initial:t,isPresent:e,custom:o,onExitComplete:T=>{v.set(T,!0);for(const E of v.values())if(!E)return;r&&r()},register:T=>(v.set(T,!1),()=>v.delete(T))}),[e,v,r]);return u&&f&&(_={..._}),H.useMemo(()=>{v.forEach((T,E)=>v.set(E,!1))},[e]),H.useEffect(()=>{!e&&!v.size&&r&&r()},[e]),c==="popLayout"&&(n=y.jsx(gM,{isPresent:e,anchorX:p,root:m,children:n})),y.jsx(Gd.Provider,{value:_,children:n})};function vM(){return new Map}function _E(n=!0){const t=H.useContext(Gd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=H.useId();H.useEffect(()=>{if(n)return o(u)},[n]);const c=H.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const Of=n=>n.key||"";function p1(n){const t=[];return H.Children.forEach(n,e=>{H.isValidElement(e)&&t.push(e)}),t}const ym=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:p="left",root:m})=>{const[v,x]=_E(c),f=H.useMemo(()=>p1(n),[n]),_=c&&!v?[]:f.map(Of),T=H.useRef(!0),E=H.useRef(f),C=qd(()=>new Map),[M,j]=H.useState(f),[N,B]=H.useState(f);_y(()=>{T.current=!1,E.current=f;for(let J=0;J<N.length;J++){const V=Of(N[J]);_.includes(V)?C.delete(V):C.get(V)!==!0&&C.set(V,!1)}},[N,_.length,_.join("-")]);const G=[];if(f!==M){let J=[...f];for(let V=0;V<N.length;V++){const R=N[V],I=Of(R);_.includes(I)||(J.splice(V,0,R),G.push(R))}return u==="wait"&&G.length&&(J=G),B(p1(J)),j(f),null}const{forceRender:tt}=H.useContext(yy);return y.jsx(y.Fragment,{children:N.map(J=>{const V=Of(J),R=c&&!v?!1:f===N||_.includes(V),I=()=>{if(C.has(V))C.set(V,!0);else return;let k=!0;C.forEach(L=>{L||(k=!1)}),k&&(tt?.(),B(E.current),c&&x?.(),r&&r())};return y.jsx(yM,{isPresent:R,initial:!T.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:R?void 0:I,anchorX:p,children:J},V)})})},xE=H.createContext({strict:!1}),m1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jo={};for(const n in m1)Jo[n]={isEnabled:t=>m1[n].some(e=>!!t[e])};function _M(n){for(const t in n)Jo[t]={...Jo[t],...n[t]}}const xM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||xM.has(n)}let bE=n=>!gd(n);function bM(n){typeof n=="function"&&(bE=t=>t.startsWith("on")?!gd(t):n(t))}try{bM(require("@emotion/is-prop-valid").default)}catch{}function TM(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(bE(o)||e===!0&&gd(o)||!t&&!gd(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Yd=H.createContext({});function Qd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lu(n){return typeof n=="string"||Array.isArray(n)}const Uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fy=["initial",...Uy];function Wd(n){return Qd(n.animate)||Fy.some(t=>Lu(n[t]))}function TE(n){return!!(Wd(n)||n.variants)}function SM(n,t){if(Wd(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Lu(e)?e:void 0,animate:Lu(r)?r:void 0}}return n.inherit!==!1?t:{}}function AM(n){const{initial:t,animate:e}=SM(n,H.useContext(Yd));return H.useMemo(()=>({initial:t,animate:e}),[g1(t),g1(e)])}function g1(n){return Array.isArray(n)?n.join(" "):n}function y1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const cu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Mt.test(n))n=parseFloat(n);else return n;const e=y1(n,t.target.x),r=y1(n,t.target.y);return`${e}% ${r}%`}},EM={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=qr.parse(n);if(o.length>5)return r;const u=qr.createTransformer(n),c=typeof o[0]!="number"?1:0,p=e.x.scale*t.x,m=e.y.scale*t.y;o[0+c]/=p,o[1+c]/=m;const v=De(p,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=v),typeof o[3+c]=="number"&&(o[3+c]/=v),u(o)}},fg={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:EM};function SE(n,{layout:t,layoutId:e}){return ol.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!fg[n]||n==="opacity")}const wM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CM=al.length;function RM(n,t,e){let r="",o=!0;for(let u=0;u<CM;u++){const c=al[u],p=n[c];if(p===void 0)continue;let m=!0;if(typeof p=="number"?m=p===(c.startsWith("scale")?1:0):m=parseFloat(p)===0,!m||e){const v=hE(p,ky[c]);if(!m){o=!1;const x=wM[c]||c;r+=`${x}(${v}) `}e&&(t[c]=v)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Hy(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,p=!1;for(const m in t){const v=t[m];if(ol.has(m)){c=!0;continue}else if(qA(m)){o[m]=v;continue}else{const x=hE(v,ky[m]);m.startsWith("origin")?(p=!0,u[m]=x):r[m]=x}}if(t.transform||(c||e?r.transform=RM(t,n.transform,e):r.transform&&(r.transform="none")),p){const{originX:m="50%",originY:v="50%",originZ:x=0}=u;r.transformOrigin=`${m} ${v} ${x}`}}const qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AE(n,t,e){for(const r in t)!Dn(t[r])&&!SE(r,e)&&(n[r]=t[r])}function IM({transformTemplate:n},t){return H.useMemo(()=>{const e=qy();return Hy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function DM(n,t){const e=n.style||{},r={};return AE(r,e,n),Object.assign(r,IM(n,t)),r}function VM(n,t){const e={},r=DM(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const jM={offset:"stroke-dashoffset",array:"stroke-dasharray"},MM={offset:"strokeDashoffset",array:"strokeDasharray"};function OM(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?jM:MM;n[u.offset]=Mt.transform(-r);const c=Mt.transform(t),p=Mt.transform(e);n[u.array]=`${c} ${p}`}function EE(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...p},m,v,x){if(Hy(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:_}=n;f.transform&&(_.transform=f.transform,delete f.transform),(_.transform||f.transformOrigin)&&(_.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),_.transform&&(_.transformBox=x?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),e!==void 0&&(f.y=e),r!==void 0&&(f.scale=r),o!==void 0&&OM(f,o,u,c,!1)}const wE=()=>({...qy(),attrs:{}}),CE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function NM(n,t,e,r){const o=H.useMemo(()=>{const u=wE();return EE(u,t,CE(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};AE(u,n.style,n),o.style={...u,...o.style}}return o}const PM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gy(n){return typeof n!="string"||n.includes("-")?!1:!!(PM.indexOf(n)>-1||/[A-Z]/u.test(n))}function kM(n,t,e,{latestValues:r},o,u=!1){const p=(Gy(n)?NM:VM)(t,r,o,n),m=TM(t,typeof n=="string",u),v=n!==H.Fragment?{...m,...p,ref:e}:{},{children:x}=t,f=H.useMemo(()=>Dn(x)?x.get():x,[x]);return H.createElement(n,{...v,children:f})}function v1(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Yy(n,t,e,r){if(typeof t=="function"){const[o,u]=v1(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=v1(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Wf(n){return Dn(n)?n.get():n}function LM({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:BM(e,r,o,n),renderState:t()}}function BM(n,t,e,r){const o={},u=r(n,{});for(const _ in u)o[_]=Wf(u[_]);let{initial:c,animate:p}=n;const m=Wd(n),v=TE(n);t&&v&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),p===void 0&&(p=t.animate));let x=e?e.initial===!1:!1;x=x||c===!1;const f=x?p:c;if(f&&typeof f!="boolean"&&!Qd(f)){const _=Array.isArray(f)?f:[f];for(let T=0;T<_.length;T++){const E=Yy(n,_[T]);if(E){const{transitionEnd:C,transition:M,...j}=E;for(const N in j){let B=j[N];if(Array.isArray(B)){const G=x?B.length-1:0;B=B[G]}B!==null&&(o[N]=B)}for(const N in C)o[N]=C[N]}}}return o}const RE=n=>(t,e)=>{const r=H.useContext(Yd),o=H.useContext(Gd),u=()=>LM(n,t,r,o);return e?u():qd(u)};function Qy(n,t,e){const{style:r}=n,o={};for(const u in r)(Dn(r[u])||t.style&&Dn(t.style[u])||SE(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const zM=RE({scrapeMotionValuesFromProps:Qy,createRenderState:qy});function IE(n,t,e){const r=Qy(n,t,e);for(const o in n)if(Dn(n[o])||Dn(t[o])){const u=al.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const UM=RE({scrapeMotionValuesFromProps:IE,createRenderState:wE}),FM=Symbol.for("motionComponentSymbol");function ko(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function HM(n,t,e){return H.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):ko(e)&&(e.current=r))},[t])}const Wy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qM="framerAppearId",DE="data-"+Wy(qM),VE=H.createContext({});function GM(n,t,e,r,o){const{visualElement:u}=H.useContext(Yd),c=H.useContext(xE),p=H.useContext(Gd),m=H.useContext(zy).reducedMotion,v=H.useRef(null);r=r||c.renderer,!v.current&&r&&(v.current=r(n,{visualState:t,parent:u,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const x=v.current,f=H.useContext(VE);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&YM(v.current,e,o,f);const _=H.useRef(!1);H.useInsertionEffect(()=>{x&&_.current&&x.update(e,p)});const T=e[DE],E=H.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return _y(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),E.current&&x.animationState&&x.animationState.animateChanges())}),H.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),E.current=!1),x.enteringChildren=void 0)}),x}function YM(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:p,layoutScroll:m,layoutRoot:v,layoutCrossfade:x}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:jE(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||p&&ko(p),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:m,layoutRoot:v})}function jE(n){if(n)return n.options.allowProjection!==!1?n.projection:jE(n.parent)}function vm(n,{forwardMotionProps:t=!1}={},e,r){e&&_M(e);const o=Gy(n)?UM:zM;function u(p,m){let v;const x={...H.useContext(zy),...p,layoutId:QM(p)},{isStatic:f}=x,_=AM(p),T=o(p,f);if(!f&&vy){WM();const E=KM(x);v=E.MeasureLayout,_.visualElement=GM(n,T,x,r,E.ProjectionNode)}return y.jsxs(Yd.Provider,{value:_,children:[v&&_.visualElement?y.jsx(v,{visualElement:_.visualElement,...x}):null,kM(n,p,HM(T,_.visualElement,m),T,f,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=H.forwardRef(u);return c[FM]=n,c}function QM({layoutId:n}){const t=H.useContext(yy).id;return t&&n!==void 0?t+"-"+n:n}function WM(n,t){H.useContext(xE).strict}function KM(n){const{drag:t,layout:e}=Jo;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function XM(n,t){if(typeof Proxy>"u")return vm;const e=new Map,r=(u,c)=>vm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,vm(c,void 0,n,t)),e.get(c))})}function ME({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function $M({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function ZM(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function _m(n){return n===void 0||n===1}function dg({scale:n,scaleX:t,scaleY:e}){return!_m(n)||!_m(t)||!_m(e)}function wa(n){return dg(n)||OE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function OE(n){return _1(n.x)||_1(n.y)}function _1(n){return n&&n!=="0%"}function yd(n,t,e){const r=n-e,o=t*r;return e+o}function x1(n,t,e,r,o){return o!==void 0&&(n=yd(n,o,r)),yd(n,e,r)+t}function hg(n,t=0,e=1,r,o){n.min=x1(n.min,t,e,r,o),n.max=x1(n.max,t,e,r,o)}function NE(n,{x:t,y:e}){hg(n.x,t.translate,t.scale,t.originPoint),hg(n.y,e.translate,e.scale,e.originPoint)}const b1=.999999999999,T1=1.0000000000001;function JM(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let p=0;p<o;p++){u=e[p],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,NE(n,c)),r&&wa(u.latestValues)&&Bo(n,u.latestValues))}t.x<T1&&t.x>b1&&(t.x=1),t.y<T1&&t.y>b1&&(t.y=1)}function Lo(n,t){n.min=n.min+t,n.max=n.max+t}function S1(n,t,e,r,o=.5){const u=De(n.min,n.max,o);hg(n,t,e,u,r)}function Bo(n,t){S1(n.x,t.x,t.scaleX,t.scale,t.originX),S1(n.y,t.y,t.scaleY,t.scale,t.originY)}function PE(n,t){return ME(ZM(n.getBoundingClientRect(),t))}function t3(n,t,e){const r=PE(n,e),{scroll:o}=t;return o&&(Lo(r.x,o.offset.x),Lo(r.y,o.offset.y)),r}const A1=()=>({translate:0,scale:1,origin:0,originPoint:0}),zo=()=>({x:A1(),y:A1()}),E1=()=>({min:0,max:0}),rn=()=>({x:E1(),y:E1()}),pg={current:null},kE={current:!1};function e3(){if(kE.current=!0,!!vy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>pg.current=n.matches;n.addEventListener("change",t),t()}else pg.current=!1}const n3=new WeakMap;function i3(n,t,e){for(const r in t){const o=t[r],u=e[r];if(Dn(o))n.addValue(r,o);else if(Dn(u))n.addValue(r,Zo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Zo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const w1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s3{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ny,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Gn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ie.render(this.render,!1,!0))};const{latestValues:m,renderState:v}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=v,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Wd(e),this.isVariantNode=TE(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in f){const T=f[_];m[_]!==void 0&&Dn(T)&&T.set(m[_])}}mount(t){this.current=t,n3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),kE.current||e3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ol.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jo){const e=Jo[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<w1.length;r++){const o=w1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=i3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Zo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(RA(r)||DA(r))?r=parseFloat(r):!dM(r)&&qr.test(e)&&(r=dE(t,e)),this.setBaseTarget(t,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Yy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Dn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Ay),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Ly.render(this.render)}}class LE extends s3{constructor(){super(...arguments),this.KeyframeResolver=tM}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Dn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function BE(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function r3(n){return window.getComputedStyle(n)}class a3 extends LE{constructor(){super(...arguments),this.type="html",this.renderInstance=BE}readValueFromInstance(t,e){if(ol.has(e))return this.projection?.isProjecting?sg(e):_4(t,e);{const r=r3(t),o=(qA(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return PE(t,e)}build(t,e,r){Hy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Qy(t,e,r)}}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o3(n,t,e,r){BE(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(zE.has(o)?o:Wy(o),t.attrs[o])}class l3 extends LE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ol.has(e)){const r=fE(e);return r&&r.default||0}return e=zE.has(e)?e:Wy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return IE(t,e,r)}build(t,e,r){EE(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){o3(t,e,r,o)}mount(t){this.isSVGTag=CE(t.tagName),super.mount(t)}}const u3=(n,t)=>Gy(n)?new l3(t):new a3(t,{allowProjection:n!==H.Fragment});function qo(n,t,e){const r=n.getProps();return Yy(r,t,e!==void 0?e:r.custom,n)}const mg=n=>Array.isArray(n);function c3(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Zo(e))}function f3(n){return mg(n)?n[n.length-1]||0:n}function Ky(n,t){const e=qo(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const p=f3(u[c]);c3(n,c,p)}}function d3(n){return!!(Dn(n)&&n.add)}function gg(n,t){const e=n.getValue("willChange");if(d3(e))return e.add(t);if(!e&&Ks.WillChange){const r=new Ks.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function UE(n){return n.props[DE]}const h3=n=>n!==null;function p3(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(h3),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const m3={type:"spring",stiffness:500,damping:25,restSpeed:10},g3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),y3={type:"keyframes",duration:.8},v3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_3=(n,{keyframes:t})=>t.length>2?y3:ol.has(n)?n.startsWith("scale")?g3(t[1]):m3:v3;function x3({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:p,from:m,elapsed:v,...x}){return!!Object.keys(x).length}const Xy=(n,t,e,r={},o,u)=>c=>{const p=Py(r,n)||{},m=p.delay||r.delay||0;let{elapsed:v=0}=r;v=v-xs(m);const x={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-v,onUpdate:_=>{t.set(_),p.onUpdate&&p.onUpdate(_)},onComplete:()=>{c(),p.onComplete&&p.onComplete()},name:n,motionValue:t,element:u?void 0:o};x3(p)||Object.assign(x,_3(n,x)),x.duration&&(x.duration=xs(x.duration)),x.repeatDelay&&(x.repeatDelay=xs(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let f=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(ug(x),x.delay===0&&(f=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(f=!0,ug(x),x.delay=0),x.allowFlatten=!p.type&&!p.ease,f&&!u&&t.get()!==void 0){const _=p3(x.keyframes,p);if(_!==void 0){Ie.update(()=>{x.onUpdate(_),x.onComplete()});return}}return p.isSync?new Oy(x):new F4(x)};function b3({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function FE(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...p}=t;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const x in p){const f=n.getValue(x,n.latestValues[x]??null),_=p[x];if(_===void 0||v&&b3(v,x))continue;const T={delay:e,...Py(u||{},x)},E=f.get();if(E!==void 0&&!f.isAnimating&&!Array.isArray(_)&&_===E&&!T.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const j=UE(n);if(j){const N=window.MotionHandoffAnimation(j,x,Ie);N!==null&&(T.startTime=N,C=!0)}}gg(n,x),f.start(Xy(x,f,_,n.shouldReduceMotion&&lE.has(x)?{type:!1}:T,n,C));const M=f.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{Ie.update(()=>{c&&Ky(n,c)})}),m}function HE(n,t,e,r=0,o=1){const u=Array.from(n).sort((v,x)=>v.sortNodePosition(x)).indexOf(t),c=n.size,p=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:p-u*r}function yg(n,t,e={}){const r=qo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(FE(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:f}=o;return T3(n,t,m,v,x,f,e)}:()=>Promise.resolve(),{when:p}=o;if(p){const[m,v]=p==="beforeChildren"?[u,c]:[c,u];return m().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function T3(n,t,e=0,r=0,o=0,u=1,c){const p=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),p.push(yg(m,t,{...c,delay:e+(typeof r=="function"?0:r)+HE(n.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(p)}function qE(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>yg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=yg(n,t,e);else{const o=typeof t=="function"?qo(n,t,e.custom):t;r=Promise.all(FE(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}function GE(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const S3=Fy.length;function YE(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?YE(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<S3;e++){const r=Fy[e],o=n.props[r];(Lu(o)||o===!1)&&(t[r]=o)}return t}const A3=[...Uy].reverse(),E3=Uy.length;function w3(n){return t=>Promise.all(t.map(({animation:e,options:r})=>qE(n,e,r)))}function C3(n){let t=w3(n),e=C1(),r=!0;const o=m=>(v,x)=>{const f=qo(n,x,m==="exit"?n.presenceContext?.custom:void 0);if(f){const{transition:_,transitionEnd:T,...E}=f;v={...v,...E,...T}}return v};function u(m){t=m(n)}function c(m){const{props:v}=n,x=YE(n.parent)||{},f=[],_=new Set;let T={},E=1/0;for(let M=0;M<E3;M++){const j=A3[M],N=e[j],B=v[j]!==void 0?v[j]:x[j],G=Lu(B),tt=j===m?N.isActive:null;tt===!1&&(E=M);let J=B===x[j]&&B!==v[j]&&G;if(J&&r&&n.manuallyAnimateOnMount&&(J=!1),N.protectedKeys={...T},!N.isActive&&tt===null||!B&&!N.prevProp||Qd(B)||typeof B=="boolean")continue;const V=R3(N.prevProp,B);let R=V||j===m&&N.isActive&&!J&&G||M>E&&G,I=!1;const k=Array.isArray(B)?B:[B];let L=k.reduce(o(j),{});tt===!1&&(L={});const{prevResolvedValues:U={}}=N,P={...U,...L},Ct=rt=>{R=!0,_.has(rt)&&(I=!0,_.delete(rt)),N.needsAnimating[rt]=!0;const Q=n.getValue(rt);Q&&(Q.liveStyle=!1)};for(const rt in P){const Q=L[rt],$=U[rt];if(T.hasOwnProperty(rt))continue;let at=!1;mg(Q)&&mg($)?at=!GE(Q,$):at=Q!==$,at?Q!=null?Ct(rt):_.add(rt):Q!==void 0&&_.has(rt)?Ct(rt):N.protectedKeys[rt]=!0}N.prevProp=B,N.prevResolvedValues=L,N.isActive&&(T={...T,...L}),r&&n.blockInitialAnimation&&(R=!1);const Ft=J&&V;R&&(!Ft||I)&&f.push(...k.map(rt=>{const Q={type:j};if(typeof rt=="string"&&r&&!Ft&&n.manuallyAnimateOnMount&&n.parent){const{parent:$}=n,at=qo($,rt);if($.enteringChildren&&at){const{delayChildren:O}=at.transition||{};Q.delay=HE($.enteringChildren,n,O)}}return{animation:rt,options:Q}}))}if(_.size){const M={};if(typeof v.initial!="boolean"){const j=qo(n,Array.isArray(v.initial)?v.initial[0]:v.initial);j&&j.transition&&(M.transition=j.transition)}_.forEach(j=>{const N=n.getBaseTarget(j),B=n.getValue(j);B&&(B.liveStyle=!0),M[j]=N??null}),f.push({animation:M})}let C=!!f.length;return r&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(f):Promise.resolve()}function p(m,v){if(e[m].isActive===v)return Promise.resolve();n.variantChildren?.forEach(f=>f.animationState?.setActive(m,v)),e[m].isActive=v;const x=c(m);for(const f in e)e[f].protectedKeys={};return x}return{animateChanges:c,setActive:p,setAnimateFunction:u,getState:()=>e,reset:()=>{e=C1()}}}function R3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!GE(t,n):!1}function Sa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C1(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class I3 extends Wr{constructor(t){super(t),t.animationState||(t.animationState=C3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D3=0;class V3 extends Wr{constructor(){super(...arguments),this.id=D3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const j3={animation:{Feature:I3},exit:{Feature:V3}};function Bu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}function Xu(n){return{point:{x:n.pageX,y:n.pageY}}}const M3=n=>t=>By(t)&&n(t,Xu(t));function Au(n,t,e,r){return Bu(n,t,M3(e),r)}const QE=1e-4,O3=1-QE,N3=1+QE,WE=.01,P3=0-WE,k3=0+WE;function On(n){return n.max-n.min}function L3(n,t,e){return Math.abs(n-t)<=e}function R1(n,t,e,r=.5){n.origin=r,n.originPoint=De(t.min,t.max,n.origin),n.scale=On(e)/On(t),n.translate=De(e.min,e.max,n.origin)-n.originPoint,(n.scale>=O3&&n.scale<=N3||isNaN(n.scale))&&(n.scale=1),(n.translate>=P3&&n.translate<=k3||isNaN(n.translate))&&(n.translate=0)}function Eu(n,t,e,r){R1(n.x,t.x,e.x,r?r.originX:void 0),R1(n.y,t.y,e.y,r?r.originY:void 0)}function I1(n,t,e){n.min=e.min+t.min,n.max=n.min+On(t)}function B3(n,t,e){I1(n.x,t.x,e.x),I1(n.y,t.y,e.y)}function D1(n,t,e){n.min=t.min-e.min,n.max=n.min+On(t)}function vd(n,t,e){D1(n.x,t.x,e.x),D1(n.y,t.y,e.y)}function Ti(n){return[n("x"),n("y")]}const KE=({current:n})=>n?n.ownerDocument.defaultView:null,V1=(n,t)=>Math.abs(n-t);function z3(n,t){const e=V1(n.x,t.x),r=V1(n.y,t.y);return Math.sqrt(e**2+r**2)}class XE{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bm(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,E=z3(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!E)return;const{point:C}=_,{timestamp:M}=xn;this.history.push({...C,timestamp:M});const{onStart:j,onMove:N}=this.handlers;T||(j&&j(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=xm(T,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=bm(_.type==="pointercancel"?this.lastMoveEventInfo:xm(T,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,j),C&&C(_,j)},!By(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Xu(t),m=xm(p,this.transformPagePoint),{point:v}=m,{timestamp:x}=xn;this.history=[{...v,timestamp:x}];const{onSessionStart:f}=e;f&&f(t,bm(m,this.history)),this.removeListeners=Qu(Au(this.contextWindow,"pointermove",this.handlePointerMove),Au(this.contextWindow,"pointerup",this.handlePointerUp),Au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function xm(n,t){return t?{point:t(n.point)}:n}function j1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function bm({point:n},t){return{point:n,delta:j1(n,$E(t)),offset:j1(n,U3(t)),velocity:F3(t,.1)}}function U3(n){return n[0]}function $E(n){return n[n.length-1]}function F3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=$E(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>xs(t)));)e--;if(!r)return{x:0,y:0};const u=Ei(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function H3(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?De(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?De(e,n,r.max):Math.min(n,e)),n}function M1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function q3(n,{top:t,left:e,bottom:r,right:o}){return{x:M1(n.x,e,o),y:M1(n.y,t,r)}}function O1(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function G3(n,t){return{x:O1(n.x,t.x),y:O1(n.y,t.y)}}function Y3(n,t){let e=.5;const r=On(n),o=On(t);return o>r?e=Nu(t.min,t.max-r,n.min):r>o&&(e=Nu(n.min,n.max-o,t.min)),Ws(0,1,e)}function Q3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const vg=.35;function W3(n=vg){return n===!1?n=0:n===!0&&(n=vg),{x:N1(n,"left","right"),y:N1(n,"top","bottom")}}function N1(n,t,e){return{min:P1(n,t),max:P1(n,e)}}function P1(n,t){return typeof n=="number"?n:n[t]||0}const K3=new WeakMap;class X3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=f=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Xu(f).point)},c=(f,_)=>{const{drag:T,dragPropagation:E,onDragStart:C}=this.getProps();if(T&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sM(T),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(j=>{let N=this.getAxisMotionValue(j).get()||0;if(bs.test(N)){const{projection:B}=this.visualElement;if(B&&B.layout){const G=B.layout.layoutBox[j];G&&(N=On(G)*(parseFloat(N)/100))}}this.originPoint[j]=N}),C&&Ie.postRender(()=>C(f,_)),gg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},p=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_;const{dragPropagation:T,dragDirectionLock:E,onDirectionLock:C,onDrag:M}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:j}=_;if(E&&this.currentDirection===null){this.currentDirection=$3(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,j),this.updateAxis("y",_.point,j),this.visualElement.render(),M&&M(f,_)},m=(f,_)=>{this.latestPointerEvent=f,this.latestPanInfo=_,this.stop(f,_),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Ti(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new XE(t,{onSessionStart:u,onStart:c,onMove:p,onSessionEnd:m,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:r,contextWindow:KE(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:p}=this.getProps();p&&Ie.postRender(()=>p(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nf(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=H3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=q3(r.layoutBox,t):this.constraints=!1,this.elastic=W3(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ti(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Q3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ko(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=t3(r,o.root,this.visualElement.getTransformPagePoint());let c=G3(o.layout.layoutBox,u);if(e){const p=e($M(c));this.hasMutatedConstraints=!!p,p&&(c=ME(p))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},v=Ti(x=>{if(!Nf(x,e,this.currentDirection))return;let f=m&&m[x]||{};c&&(f={min:0,max:0});const _=o?200:1e6,T=o?40:1e7,E={type:"inertia",velocity:r?t[x]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...u,...f};return this.startAxisValueAnimation(x,E)});return Promise.all(v).then(p)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return gg(this.visualElement,t),r.start(Xy(t,r,0,e,this.visualElement,!1))}stopAnimation(){Ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ti(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ti(e=>{const{drag:r}=this.getProps();if(!Nf(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:p}=o.layout.layoutBox[e];u.set(t[e]-De(c,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!ko(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ti(c=>{const p=this.getAxisMotionValue(c);if(p&&this.constraints!==!1){const m=p.get();o[c]=Y3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ti(c=>{if(!Nf(c,t,null))return;const p=this.getAxisMotionValue(c),{min:m,max:v}=this.constraints[c];p.set(De(m,v,o[c]))})}addListeners(){if(!this.visualElement.current)return;K3.set(this.visualElement,this);const t=this.visualElement.current,e=Au(t,"pointerdown",m=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();ko(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ie.read(r);const c=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:v})=>{this.isDragging&&v&&(Ti(x=>{const f=this.getAxisMotionValue(x);f&&(this.originPoint[x]+=m[x].translate,f.set(f.get()+m[x].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=vg,dragMomentum:p=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:p}}}function Nf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function $3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class Z3 extends Wr{constructor(t){super(t),this.removeGroupControls=Ci,this.removeListeners=Ci,this.controls=new X3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const k1=n=>(t,e)=>{n&&Ie.postRender(()=>n(t,e))};class J3 extends Wr{constructor(){super(...arguments),this.removePointerDownListener=Ci}onPointerDown(t){this.session=new XE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:k1(t),onStart:k1(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ie.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Au(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Tm=!1;class tO extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),Tm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Tm=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ie.postRender(()=>{const p=c.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ly.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;Tm=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ZE(n){const[t,e]=_E(),r=H.useContext(yy);return y.jsx(tO,{...n,layoutGroup:r,switchLayoutGroup:H.useContext(VE),isPresent:t,safeToRemove:e})}function eO(n,t,e){const r=Dn(n)?n:Zo(n);return r.start(Xy("",r,t,e)),r.animation}const nO=(n,t)=>n.depth-t.depth;class iO{constructor(){this.children=[],this.isDirty=!1}add(t){xy(this.children,t),this.isDirty=!0}remove(t){by(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nO),this.isDirty=!1,this.children.forEach(t)}}function sO(n,t){const e=Gn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Hr(r),n(u-t))};return Ie.setup(r,!0),()=>Hr(r)}const JE=["TopLeft","TopRight","BottomLeft","BottomRight"],rO=JE.length,L1=n=>typeof n=="string"?parseFloat(n):n,B1=n=>typeof n=="number"||Mt.test(n);function aO(n,t,e,r,o,u){o?(n.opacity=De(0,e.opacity??1,oO(r)),n.opacityExit=De(t.opacity??1,0,lO(r))):u&&(n.opacity=De(t.opacity??1,e.opacity??1,r));for(let c=0;c<rO;c++){const p=`border${JE[c]}Radius`;let m=z1(t,p),v=z1(e,p);if(m===void 0&&v===void 0)continue;m||(m=0),v||(v=0),m===0||v===0||B1(m)===B1(v)?(n[p]=Math.max(De(L1(m),L1(v),r),0),(bs.test(v)||bs.test(m))&&(n[p]+="%")):n[p]=v}(t.rotate||e.rotate)&&(n.rotate=De(t.rotate||0,e.rotate||0,r))}function z1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const oO=tw(0,.5,LA),lO=tw(.5,.95,Ci);function tw(n,t,e){return r=>r<n?0:r>t?1:e(Nu(n,t,r))}function U1(n,t){n.min=t.min,n.max=t.max}function zi(n,t){U1(n.x,t.x),U1(n.y,t.y)}function F1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function H1(n,t,e,r,o){return n-=t,n=yd(n,1/e,r),o!==void 0&&(n=yd(n,1/o,r)),n}function uO(n,t=0,e=1,r=.5,o,u=n,c=n){if(bs.test(t)&&(t=parseFloat(t),t=De(c.min,c.max,t/100)-c.min),typeof t!="number")return;let p=De(u.min,u.max,r);n===u&&(p-=t),n.min=H1(n.min,t,e,p,o),n.max=H1(n.max,t,e,p,o)}function q1(n,t,[e,r,o],u,c){uO(n,t[e],t[r],t[o],t.scale,u,c)}const cO=["x","scaleX","originX"],fO=["y","scaleY","originY"];function G1(n,t,e,r){q1(n.x,t,cO,e?e.x:void 0,r?r.x:void 0),q1(n.y,t,fO,e?e.y:void 0,r?r.y:void 0)}function Y1(n){return n.translate===0&&n.scale===1}function ew(n){return Y1(n.x)&&Y1(n.y)}function Q1(n,t){return n.min===t.min&&n.max===t.max}function dO(n,t){return Q1(n.x,t.x)&&Q1(n.y,t.y)}function W1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function nw(n,t){return W1(n.x,t.x)&&W1(n.y,t.y)}function K1(n){return On(n.x)/On(n.y)}function X1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class hO{constructor(){this.members=[]}add(t){xy(this.members,t),t.scheduleRender()}remove(t){if(by(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pO(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:v,rotate:x,rotateX:f,rotateY:_,skewX:T,skewY:E}=e;v&&(r=`perspective(${v}px) ${r}`),x&&(r+=`rotate(${x}deg) `),f&&(r+=`rotateX(${f}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),E&&(r+=`skewY(${E}deg) `)}const p=n.x.scale*t.x,m=n.y.scale*t.y;return(p!==1||m!==1)&&(r+=`scale(${p}, ${m})`),r||"none"}const Sm=["","X","Y","Z"],mO=1e3;let gO=0;function Am(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function iw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=UE(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Ie,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&iw(r)}function sw({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},p=t?.()){this.id=gO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_O),this.nodes.forEach(SO),this.nodes.forEach(AO),this.nodes.forEach(xO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new iO)}addEventListener(c,p){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ay),this.eventHandlers.get(c).add(p)}notifyListeners(c,...p){const m=this.eventHandlers.get(c);m&&m.notify(...p)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vE(c)&&!cM(c),this.instance=c;const{layoutId:p,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),n){let x,f=0;const _=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{f=window.innerWidth}),n(c,()=>{const T=window.innerWidth;T!==f&&(f=T,this.root.updateBlockedByResize=!0,x&&x(),x=sO(_,250),Kf.hasAnimatedSinceResize&&(Kf.hasAnimatedSinceResize=!1,this.nodes.forEach(J1)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:f,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||v.getDefaultTransition()||IO,{onLayoutAnimationStart:C,onLayoutAnimationComplete:M}=v.getProps(),j=!this.targetLayout||!nw(this.targetLayout,T),N=!f&&_;if(this.options.layoutRoot||this.resumeFrom||N||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Py(E,"layout"),onPlay:C,onComplete:M};(v.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(x,N)}else f||J1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const f=this.path[x];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TO),this.nodes.forEach(yO),this.nodes.forEach(vO)):this.nodes.forEach(Z1),this.clearAllSnapshots();const p=Gn.now();xn.delta=Ws(0,1e3/60,p-xn.timestamp),xn.timestamp=p,xn.isProcessing=!0,fm.update.process(xn),fm.preRender.process(xn),fm.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ly.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bO),this.sharedNodes.forEach(wO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(p=!1),p&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!ew(this.projectionDelta),m=this.getTransformTemplate(),v=m?m(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;c&&this.instance&&(p||wa(this.latestValues)||x)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return c&&(m=this.removeTransform(m)),DO(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return rn();const p=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(VO))){const{scroll:v}=this.root;v&&(Lo(p.x,v.offset.x),Lo(p.y,v.offset.y))}return p}removeElementScroll(c){const p=rn();if(zi(p,c),this.scroll?.wasRoot)return p;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:x,options:f}=v;v!==this.root&&x&&f.layoutScroll&&(x.wasRoot&&zi(p,c),Lo(p.x,x.offset.x),Lo(p.y,x.offset.y))}return p}applyTransform(c,p=!1){const m=rn();zi(m,c);for(let v=0;v<this.path.length;v++){const x=this.path[v];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Bo(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),wa(x.latestValues)&&Bo(m,x.latestValues)}return wa(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(c){const p=rn();zi(p,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];if(!v.instance||!wa(v.latestValues))continue;dg(v.latestValues)&&v.updateSnapshot();const x=rn(),f=v.measurePageBox();zi(x,f),G1(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return wa(this.latestValues)&&G1(p,this.latestValues),p}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:f}=this.options;if(!this.layout||!(x||f))return;this.resolvedRelativeTargetAt=xn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zi(this.target,this.layout.layoutBox),NE(this.target,this.targetDelta)):zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||OE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,p,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),vd(this.relativeTargetOrigin,p,m),zi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),p=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(m=!1),m)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;zi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,_=this.treeScale.y;JM(this.layoutCorrected,this.treeScale,this.path,p),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=rn());const{target:T}=c;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F1(this.prevProjectionDelta.x,this.projectionDelta.x),F1(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==_||!X1(this.projectionDelta.x,this.prevProjectionDelta.x)||!X1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zo(),this.projectionDelta=zo(),this.projectionDeltaWithTransform=zo()}setAnimationOrigin(c,p=!1){const m=this.snapshot,v=m?m.latestValues:{},x={...this.latestValues},f=zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=rn(),T=m?m.source:void 0,E=this.layout?this.layout.source:void 0,C=T!==E,M=this.getStack(),j=!M||M.members.length<=1,N=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(RO));this.animationProgress=0;let B;this.mixTargetDelta=G=>{const tt=G/1e3;tT(f.x,c.x,tt),tT(f.y,c.y,tt),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CO(this.relativeTarget,this.relativeTargetOrigin,_,tt),B&&dO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=rn()),zi(B,this.relativeTarget)),C&&(this.animationValues=x,aO(x,v,this.latestValues,tt,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zo(0)),this.currentAnimation=eO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:p,target:m,layout:v,latestValues:x}=c;if(!(!p||!m||!v)){if(this!==c&&this.layout&&v&&rw(this.options.animationType,this.layout.layoutBox,v.layoutBox)){m=this.target||rn();const f=On(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+f;const _=On(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}zi(p,m),Bo(p,x),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(c,p){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hO),this.sharedNodes.get(c).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:p,preserveFollowOpacity:m}={}){const v=this.getStack();v&&v.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let p=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const v={};m.z&&Am("z",c,v,this.animationValues);for(let x=0;x<Sm.length;x++)Am(`rotate${Sm[x]}`,c,v,this.animationValues),Am(`skew${Sm[x]}`,c,v,this.animationValues);c.render();for(const x in v)c.setStaticValue(x,v[x]),this.animationValues&&(this.animationValues[x]=v[x]);c.scheduleRender()}applyProjectionStyles(c,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Wf(p?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Wf(p?.pointerEvents)||""),this.hasProjected&&!wa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=v.animationValues||v.latestValues;this.applyTransformsToTarget();let f=pO(this.projectionDeltaWithTransform,this.treeScale,x);m&&(f=m(x,f)),c.transform=f;const{x:_,y:T}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,v.animationValues?c.opacity=v===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const E in fg){if(x[E]===void 0)continue;const{correct:C,applyTo:M,isCSSVariable:j}=fg[E],N=f==="none"?x[E]:C(x[E],v);if(M){const B=M.length;for(let G=0;G<B;G++)c[M[G]]=N}else j?this.options.visualElement.renderState.vars[E]=N:c[E]=N}this.options.layoutId&&(c.pointerEvents=v===this?Wf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach($1),this.root.sharedNodes.clear()}}}function yO(n){n.updateLayout()}function vO(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Ti(x=>{const f=u?t.measuredBox[x]:t.layoutBox[x],_=On(f);f.min=e[x].min,f.max=f.min+_}):rw(o,t.layoutBox,e)&&Ti(x=>{const f=u?t.measuredBox[x]:t.layoutBox[x],_=On(e[x]);f.max=f.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+_)});const c=zo();Eu(c,e,t.layoutBox);const p=zo();u?Eu(p,n.applyTransform(r,!0),t.measuredBox):Eu(p,e,t.layoutBox);const m=!ew(c);let v=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:f,layout:_}=x;if(f&&_){const T=rn();vd(T,t.layoutBox,f.layoutBox);const E=rn();vd(E,e,_.layoutBox),nw(T,E)||(v=!0),x.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=T,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:p,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function _O(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bO(n){n.clearSnapshot()}function $1(n){n.clearMeasurements()}function Z1(n){n.isLayoutDirty=!1}function TO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function J1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function SO(n){n.resolveTargetDelta()}function AO(n){n.calcProjection()}function EO(n){n.resetSkewAndRotation()}function wO(n){n.removeLeadSnapshot()}function tT(n,t,e){n.translate=De(t.translate,0,e),n.scale=De(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function eT(n,t,e,r){n.min=De(t.min,e.min,r),n.max=De(t.max,e.max,r)}function CO(n,t,e,r){eT(n.x,t.x,e.x,r),eT(n.y,t.y,e.y,r)}function RO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const IO={duration:.45,ease:[.4,0,.1,1]},nT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),iT=nT("applewebkit/")&&!nT("chrome/")?Math.round:Ci;function sT(n){n.min=iT(n.min),n.max=iT(n.max)}function DO(n){sT(n.x),sT(n.y)}function rw(n,t,e){return n==="position"||n==="preserve-aspect"&&!L3(K1(t),K1(e),.2)}function VO(n){return n!==n.root&&n.scroll?.wasRoot}const jO=sw({attachResizeListener:(n,t)=>Bu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Em={current:void 0},aw=sw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Em.current){const n=new jO({});n.mount(window),n.setOptions({layoutScroll:!0}),Em.current=n}return Em.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),MO={pan:{Feature:J3},drag:{Feature:Z3,ProjectionNode:aw,MeasureLayout:ZE}};function rT(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&Ie.postRender(()=>u(t,Xu(t)))}class OO extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=rM(t,(e,r)=>(rT(this.node,r,"Start"),o=>rT(this.node,o,"End"))))}unmount(){}}class NO extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&Ie.postRender(()=>u(t,Xu(t)))}class PO extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=uM(t,(e,r)=>(aT(this.node,r,"Start"),(o,{success:u})=>aT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _g=new WeakMap,wm=new WeakMap,kO=n=>{const t=_g.get(n.target);t&&t(n)},LO=n=>{n.forEach(kO)};function BO({root:n,...t}){const e=n||document;wm.has(e)||wm.set(e,{});const r=wm.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(LO,{root:n,...t})),r[o]}function zO(n,t,e){const r=BO(t);return _g.set(n,e),r.observe(n),()=>{_g.delete(n),r.unobserve(n)}}const UO={some:0,all:1};class FO extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UO[o]},p=m=>{const{isIntersecting:v}=m;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:f}=this.node.getProps(),_=v?x:f;_&&_(m)};return zO(this.node.current,c,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(HO(t,e))&&this.startObserver()}unmount(){}}function HO({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const qO={inView:{Feature:FO},tap:{Feature:PO},focus:{Feature:NO},hover:{Feature:OO}},GO={layout:{ProjectionNode:aw,MeasureLayout:ZE}},YO={...j3,...qO,...MO,...GO},Mn=XM(YO,u3);function QO(n){n.values.forEach(t=>t.stop())}function xg(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&Ky(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{xg(u,t)})})}function WO(n,t){if(Array.isArray(t))return xg(n,t);if(typeof t=="string")return xg(n,[t]);Ky(n,t)}function KO(){const n=new Set,t={subscribe(e){return n.add(e),()=>{n.delete(e)}},start(e,r){const o=[];return n.forEach(u=>{o.push(qE(u,e,{transitionOverride:r}))}),Promise.all(o)},set(e){return n.forEach(r=>{WO(r,e)})},stop(){n.forEach(e=>{QO(e)})},mount(){return()=>{t.stop()}}};return t}function XO(){const n=qd(KO);return _y(n.mount,[]),n}const $O=XO;var Cm={};var oT;function ZO(){return oT||(oT=1,(function(n){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||e;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var _=this||e;if(f=parseFloat(f),_.ctx||x(),typeof f<"u"&&f>=0&&f<=1){if(_._volume=f,_._muted)return _;_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f,e.ctx.currentTime);for(var T=0;T<_._howls.length;T++)if(!_._howls[T]._webAudio)for(var E=_._howls[T]._getSoundIds(),C=0;C<E.length;C++){var M=_._howls[T]._soundById(E[C]);M&&M._node&&(M._node.volume=M._volume*f)}return _}return _._volume},mute:function(f){var _=this||e;_.ctx||x(),_._muted=f,_.usingWebAudio&&_.masterGain.gain.setValueAtTime(f?0:_._volume,e.ctx.currentTime);for(var T=0;T<_._howls.length;T++)if(!_._howls[T]._webAudio)for(var E=_._howls[T]._getSoundIds(),C=0;C<E.length;C++){var M=_._howls[T]._soundById(E[C]);M&&M._node&&(M._node.muted=f?!0:M._muted)}return _},stop:function(){for(var f=this||e,_=0;_<f._howls.length;_++)f._howls[_].stop();return f},unload:function(){for(var f=this||e,_=f._howls.length-1;_>=0;_--)f._howls[_].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,x()),f},codecs:function(f){return(this||e)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||e;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var _=new Audio;typeof _.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var _=new Audio;_.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||e,_=null;try{_=typeof Audio<"u"?new Audio:null}catch{return f}if(!_||typeof _.canPlayType!="function")return f;var T=_.canPlayType("audio/mpeg;").replace(/^no$/,""),E=f._navigator?f._navigator.userAgent:"",C=E.match(/OPR\/(\d+)/g),M=C&&parseInt(C[0].split("/")[1],10)<33,j=E.indexOf("Safari")!==-1&&E.indexOf("Chrome")===-1,N=E.match(/Version\/(.*?) /),B=j&&N&&parseInt(N[1],10)<15;return f._codecs={mp3:!!(!M&&(T||_.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!T,opus:!!_.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(_.canPlayType('audio/wav; codecs="1"')||_.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!_.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!_.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(_.canPlayType("audio/x-m4a;")||_.canPlayType("audio/m4a;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(_.canPlayType("audio/x-m4b;")||_.canPlayType("audio/m4b;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(_.canPlayType("audio/x-mp4;")||_.canPlayType("audio/mp4;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!B&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!B&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!_.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(_.canPlayType("audio/x-flac;")||_.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||e;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var _=function(T){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var E=new Audio;E._unlocked=!0,f._releaseHtml5Audio(E)}catch{f.noAudio=!0;break}for(var C=0;C<f._howls.length;C++)if(!f._howls[C]._webAudio)for(var M=f._howls[C]._getSoundIds(),j=0;j<M.length;j++){var N=f._howls[C]._soundById(M[j]);N&&N._node&&!N._node._unlocked&&(N._node._unlocked=!0,N._node.load())}f._autoResume();var B=f.ctx.createBufferSource();B.buffer=f._scratchBuffer,B.connect(f.ctx.destination),typeof B.start>"u"?B.noteOn(0):B.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),B.onended=function(){B.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",_,!0),document.removeEventListener("touchend",_,!0),document.removeEventListener("click",_,!0),document.removeEventListener("keydown",_,!0);for(var G=0;G<f._howls.length;G++)f._howls[G]._emit("unlock")}};return document.addEventListener("touchstart",_,!0),document.addEventListener("touchend",_,!0),document.addEventListener("click",_,!0),document.addEventListener("keydown",_,!0),f}},_obtainHtml5Audio:function(){var f=this||e;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var _=new Audio().play();return _&&typeof Promise<"u"&&(_ instanceof Promise||typeof _.then=="function")&&_.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var _=this||e;return f._unlocked&&_._html5AudioPool.push(f),_},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!e.usingWebAudio)){for(var _=0;_<f._howls.length;_++)if(f._howls[_]._webAudio){for(var T=0;T<f._howls[_]._sounds.length;T++)if(!f._howls[_]._sounds[T]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var E=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(E,E)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!e.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var _=0;_<f._howls.length;_++)f._howls[_]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var e=new t,r=function(f){var _=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}_.init(f)};r.prototype={init:function(f){var _=this;return e.ctx||x(),_._autoplay=f.autoplay||!1,_._format=typeof f.format!="string"?f.format:[f.format],_._html5=f.html5||!1,_._muted=f.mute||!1,_._loop=f.loop||!1,_._pool=f.pool||5,_._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,_._rate=f.rate||1,_._sprite=f.sprite||{},_._src=typeof f.src!="string"?f.src:[f.src],_._volume=f.volume!==void 0?f.volume:1,_._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},_._duration=0,_._state="unloaded",_._sounds=[],_._endTimers={},_._queue=[],_._playLock=!1,_._onend=f.onend?[{fn:f.onend}]:[],_._onfade=f.onfade?[{fn:f.onfade}]:[],_._onload=f.onload?[{fn:f.onload}]:[],_._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],_._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],_._onpause=f.onpause?[{fn:f.onpause}]:[],_._onplay=f.onplay?[{fn:f.onplay}]:[],_._onstop=f.onstop?[{fn:f.onstop}]:[],_._onmute=f.onmute?[{fn:f.onmute}]:[],_._onvolume=f.onvolume?[{fn:f.onvolume}]:[],_._onrate=f.onrate?[{fn:f.onrate}]:[],_._onseek=f.onseek?[{fn:f.onseek}]:[],_._onunlock=f.onunlock?[{fn:f.onunlock}]:[],_._onresume=[],_._webAudio=e.usingWebAudio&&!_._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(_),_._autoplay&&_._queue.push({event:"play",action:function(){_.play()}}),_._preload&&_._preload!=="none"&&_.load(),_},load:function(){var f=this,_=null;if(e.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var T=0;T<f._src.length;T++){var E,C;if(f._format&&f._format[T])E=f._format[T];else{if(C=f._src[T],typeof C!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}E=/^data:audio\/([^;,]+);/i.exec(C),E||(E=/\.([^.]+)$/.exec(C.split("?",1)[0])),E&&(E=E[1].toLowerCase())}if(E||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),E&&e.codecs(E)){_=f._src[T];break}}if(!_){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=_,f._state="loading",window.location.protocol==="https:"&&_.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new o(f),f._webAudio&&c(f),f},play:function(f,_){var T=this,E=null;if(typeof f=="number")E=f,f=null;else{if(typeof f=="string"&&T._state==="loaded"&&!T._sprite[f])return null;if(typeof f>"u"&&(f="__default",!T._playLock)){for(var C=0,M=0;M<T._sounds.length;M++)T._sounds[M]._paused&&!T._sounds[M]._ended&&(C++,E=T._sounds[M]._id);C===1?f=null:E=null}}var j=E?T._soundById(E):T._inactiveSound();if(!j)return null;if(E&&!f&&(f=j._sprite||"__default"),T._state!=="loaded"){j._sprite=f,j._ended=!1;var N=j._id;return T._queue.push({event:"play",action:function(){T.play(N)}}),N}if(E&&!j._paused)return _||T._loadQueue("play"),j._id;T._webAudio&&e._autoResume();var B=Math.max(0,j._seek>0?j._seek:T._sprite[f][0]/1e3),G=Math.max(0,(T._sprite[f][0]+T._sprite[f][1])/1e3-B),tt=G*1e3/Math.abs(j._rate),J=T._sprite[f][0]/1e3,V=(T._sprite[f][0]+T._sprite[f][1])/1e3;j._sprite=f,j._ended=!1;var R=function(){j._paused=!1,j._seek=B,j._start=J,j._stop=V,j._loop=!!(j._loop||T._sprite[f][2])};if(B>=V){T._ended(j);return}var I=j._node;if(T._webAudio){var k=function(){T._playLock=!1,R(),T._refreshBuffer(j);var Ct=j._muted||T._muted?0:j._volume;I.gain.setValueAtTime(Ct,e.ctx.currentTime),j._playStart=e.ctx.currentTime,typeof I.bufferSource.start>"u"?j._loop?I.bufferSource.noteGrainOn(0,B,86400):I.bufferSource.noteGrainOn(0,B,G):j._loop?I.bufferSource.start(0,B,86400):I.bufferSource.start(0,B,G),tt!==1/0&&(T._endTimers[j._id]=setTimeout(T._ended.bind(T,j),tt)),_||setTimeout(function(){T._emit("play",j._id),T._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?k():(T._playLock=!0,T.once("resume",k),T._clearTimer(j._id))}else{var L=function(){I.currentTime=B,I.muted=j._muted||T._muted||e._muted||I.muted,I.volume=j._volume*e.volume(),I.playbackRate=j._rate;try{var Ct=I.play();if(Ct&&typeof Promise<"u"&&(Ct instanceof Promise||typeof Ct.then=="function")?(T._playLock=!0,R(),Ct.then(function(){T._playLock=!1,I._unlocked=!0,_?T._loadQueue():T._emit("play",j._id)}).catch(function(){T._playLock=!1,T._emit("playerror",j._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),j._ended=!0,j._paused=!0})):_||(T._playLock=!1,R(),T._emit("play",j._id)),I.playbackRate=j._rate,I.paused){T._emit("playerror",j._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||j._loop?T._endTimers[j._id]=setTimeout(T._ended.bind(T,j),tt):(T._endTimers[j._id]=function(){T._ended(j),I.removeEventListener("ended",T._endTimers[j._id],!1)},I.addEventListener("ended",T._endTimers[j._id],!1))}catch(Ft){T._emit("playerror",j._id,Ft)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=T._src,I.load());var U=window&&window.ejecta||!I.readyState&&e._navigator.isCocoonJS;if(I.readyState>=3||U)L();else{T._playLock=!0,T._state="loading";var P=function(){T._state="loaded",L(),I.removeEventListener(e._canPlayEvent,P,!1)};I.addEventListener(e._canPlayEvent,P,!1),T._clearTimer(j._id)}}return j._id},pause:function(f){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"pause",action:function(){_.pause(f)}}),_;for(var T=_._getSoundIds(f),E=0;E<T.length;E++){_._clearTimer(T[E]);var C=_._soundById(T[E]);if(C&&!C._paused&&(C._seek=_.seek(T[E]),C._rateSeek=0,C._paused=!0,_._stopFade(T[E]),C._node))if(_._webAudio){if(!C._node.bufferSource)continue;typeof C._node.bufferSource.stop>"u"?C._node.bufferSource.noteOff(0):C._node.bufferSource.stop(0),_._cleanBuffer(C._node)}else(!isNaN(C._node.duration)||C._node.duration===1/0)&&C._node.pause();arguments[1]||_._emit("pause",C?C._id:null)}return _},stop:function(f,_){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"stop",action:function(){T.stop(f)}}),T;for(var E=T._getSoundIds(f),C=0;C<E.length;C++){T._clearTimer(E[C]);var M=T._soundById(E[C]);M&&(M._seek=M._start||0,M._rateSeek=0,M._paused=!0,M._ended=!0,T._stopFade(E[C]),M._node&&(T._webAudio?M._node.bufferSource&&(typeof M._node.bufferSource.stop>"u"?M._node.bufferSource.noteOff(0):M._node.bufferSource.stop(0),T._cleanBuffer(M._node)):(!isNaN(M._node.duration)||M._node.duration===1/0)&&(M._node.currentTime=M._start||0,M._node.pause(),M._node.duration===1/0&&T._clearSound(M._node))),_||T._emit("stop",M._id))}return T},mute:function(f,_){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"mute",action:function(){T.mute(f,_)}}),T;if(typeof _>"u")if(typeof f=="boolean")T._muted=f;else return T._muted;for(var E=T._getSoundIds(_),C=0;C<E.length;C++){var M=T._soundById(E[C]);M&&(M._muted=f,M._interval&&T._stopFade(M._id),T._webAudio&&M._node?M._node.gain.setValueAtTime(f?0:M._volume,e.ctx.currentTime):M._node&&(M._node.muted=e._muted?!0:f),T._emit("mute",M._id))}return T},volume:function(){var f=this,_=arguments,T,E;if(_.length===0)return f._volume;if(_.length===1||_.length===2&&typeof _[1]>"u"){var C=f._getSoundIds(),M=C.indexOf(_[0]);M>=0?E=parseInt(_[0],10):T=parseFloat(_[0])}else _.length>=2&&(T=parseFloat(_[0]),E=parseInt(_[1],10));var j;if(typeof T<"u"&&T>=0&&T<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,_)}}),f;typeof E>"u"&&(f._volume=T),E=f._getSoundIds(E);for(var N=0;N<E.length;N++)j=f._soundById(E[N]),j&&(j._volume=T,_[2]||f._stopFade(E[N]),f._webAudio&&j._node&&!j._muted?j._node.gain.setValueAtTime(T,e.ctx.currentTime):j._node&&!j._muted&&(j._node.volume=T*e.volume()),f._emit("volume",j._id))}else return j=E?f._soundById(E):f._sounds[0],j?j._volume:0;return f},fade:function(f,_,T,E){var C=this;if(C._state!=="loaded"||C._playLock)return C._queue.push({event:"fade",action:function(){C.fade(f,_,T,E)}}),C;f=Math.min(Math.max(0,parseFloat(f)),1),_=Math.min(Math.max(0,parseFloat(_)),1),T=parseFloat(T),C.volume(f,E);for(var M=C._getSoundIds(E),j=0;j<M.length;j++){var N=C._soundById(M[j]);if(N){if(E||C._stopFade(M[j]),C._webAudio&&!N._muted){var B=e.ctx.currentTime,G=B+T/1e3;N._volume=f,N._node.gain.setValueAtTime(f,B),N._node.gain.linearRampToValueAtTime(_,G)}C._startFadeInterval(N,f,_,T,M[j],typeof E>"u")}}return C},_startFadeInterval:function(f,_,T,E,C,M){var j=this,N=_,B=T-_,G=Math.abs(B/.01),tt=Math.max(4,G>0?E/G:E),J=Date.now();f._fadeTo=T,f._interval=setInterval(function(){var V=(Date.now()-J)/E;J=Date.now(),N+=B*V,N=Math.round(N*100)/100,B<0?N=Math.max(T,N):N=Math.min(T,N),j._webAudio?f._volume=N:j.volume(N,f._id,!0),M&&(j._volume=N),(T<_&&N<=T||T>_&&N>=T)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,j.volume(T,f._id),j._emit("fade",f._id))},tt)},_stopFade:function(f){var _=this,T=_._soundById(f);return T&&T._interval&&(_._webAudio&&T._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(T._interval),T._interval=null,_.volume(T._fadeTo,f),T._fadeTo=null,_._emit("fade",f)),_},loop:function(){var f=this,_=arguments,T,E,C;if(_.length===0)return f._loop;if(_.length===1)if(typeof _[0]=="boolean")T=_[0],f._loop=T;else return C=f._soundById(parseInt(_[0],10)),C?C._loop:!1;else _.length===2&&(T=_[0],E=parseInt(_[1],10));for(var M=f._getSoundIds(E),j=0;j<M.length;j++)C=f._soundById(M[j]),C&&(C._loop=T,f._webAudio&&C._node&&C._node.bufferSource&&(C._node.bufferSource.loop=T,T&&(C._node.bufferSource.loopStart=C._start||0,C._node.bufferSource.loopEnd=C._stop,f.playing(M[j])&&(f.pause(M[j],!0),f.play(M[j],!0)))));return f},rate:function(){var f=this,_=arguments,T,E;if(_.length===0)E=f._sounds[0]._id;else if(_.length===1){var C=f._getSoundIds(),M=C.indexOf(_[0]);M>=0?E=parseInt(_[0],10):T=parseFloat(_[0])}else _.length===2&&(T=parseFloat(_[0]),E=parseInt(_[1],10));var j;if(typeof T=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,_)}}),f;typeof E>"u"&&(f._rate=T),E=f._getSoundIds(E);for(var N=0;N<E.length;N++)if(j=f._soundById(E[N]),j){f.playing(E[N])&&(j._rateSeek=f.seek(E[N]),j._playStart=f._webAudio?e.ctx.currentTime:j._playStart),j._rate=T,f._webAudio&&j._node&&j._node.bufferSource?j._node.bufferSource.playbackRate.setValueAtTime(T,e.ctx.currentTime):j._node&&(j._node.playbackRate=T);var B=f.seek(E[N]),G=(f._sprite[j._sprite][0]+f._sprite[j._sprite][1])/1e3-B,tt=G*1e3/Math.abs(j._rate);(f._endTimers[E[N]]||!j._paused)&&(f._clearTimer(E[N]),f._endTimers[E[N]]=setTimeout(f._ended.bind(f,j),tt)),f._emit("rate",j._id)}}else return j=f._soundById(E),j?j._rate:f._rate;return f},seek:function(){var f=this,_=arguments,T,E;if(_.length===0)f._sounds.length&&(E=f._sounds[0]._id);else if(_.length===1){var C=f._getSoundIds(),M=C.indexOf(_[0]);M>=0?E=parseInt(_[0],10):f._sounds.length&&(E=f._sounds[0]._id,T=parseFloat(_[0]))}else _.length===2&&(T=parseFloat(_[0]),E=parseInt(_[1],10));if(typeof E>"u")return 0;if(typeof T=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,_)}}),f;var j=f._soundById(E);if(j)if(typeof T=="number"&&T>=0){var N=f.playing(E);N&&f.pause(E,!0),j._seek=T,j._ended=!1,f._clearTimer(E),!f._webAudio&&j._node&&!isNaN(j._node.duration)&&(j._node.currentTime=T);var B=function(){N&&f.play(E,!0),f._emit("seek",E)};if(N&&!f._webAudio){var G=function(){f._playLock?setTimeout(G,0):B()};setTimeout(G,0)}else B()}else if(f._webAudio){var tt=f.playing(E)?e.ctx.currentTime-j._playStart:0,J=j._rateSeek?j._rateSeek-j._seek:0;return j._seek+(J+tt*Math.abs(j._rate))}else return j._node.currentTime;return f},playing:function(f){var _=this;if(typeof f=="number"){var T=_._soundById(f);return T?!T._paused:!1}for(var E=0;E<_._sounds.length;E++)if(!_._sounds[E]._paused)return!0;return!1},duration:function(f){var _=this,T=_._duration,E=_._soundById(f);return E&&(T=_._sprite[E._sprite][1]/1e3),T},state:function(){return this._state},unload:function(){for(var f=this,_=f._sounds,T=0;T<_.length;T++)_[T]._paused||f.stop(_[T]._id),f._webAudio||(f._clearSound(_[T]._node),_[T]._node.removeEventListener("error",_[T]._errorFn,!1),_[T]._node.removeEventListener(e._canPlayEvent,_[T]._loadFn,!1),_[T]._node.removeEventListener("ended",_[T]._endFn,!1),e._releaseHtml5Audio(_[T]._node)),delete _[T]._node,f._clearTimer(_[T]._id);var E=e._howls.indexOf(f);E>=0&&e._howls.splice(E,1);var C=!0;for(T=0;T<e._howls.length;T++)if(e._howls[T]._src===f._src||f._src.indexOf(e._howls[T]._src)>=0){C=!1;break}return u&&C&&delete u[f._src],e.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,_,T,E){var C=this,M=C["_on"+f];return typeof _=="function"&&M.push(E?{id:T,fn:_,once:E}:{id:T,fn:_}),C},off:function(f,_,T){var E=this,C=E["_on"+f],M=0;if(typeof _=="number"&&(T=_,_=null),_||T)for(M=0;M<C.length;M++){var j=T===C[M].id;if(_===C[M].fn&&j||!_&&j){C.splice(M,1);break}}else if(f)E["_on"+f]=[];else{var N=Object.keys(E);for(M=0;M<N.length;M++)N[M].indexOf("_on")===0&&Array.isArray(E[N[M]])&&(E[N[M]]=[])}return E},once:function(f,_,T){var E=this;return E.on(f,_,T,1),E},_emit:function(f,_,T){for(var E=this,C=E["_on"+f],M=C.length-1;M>=0;M--)(!C[M].id||C[M].id===_||f==="load")&&(setTimeout((function(j){j.call(this,_,T)}).bind(E,C[M].fn),0),C[M].once&&E.off(f,C[M].fn,C[M].id));return E._loadQueue(f),E},_loadQueue:function(f){var _=this;if(_._queue.length>0){var T=_._queue[0];T.event===f&&(_._queue.shift(),_._loadQueue()),f||T.action()}return _},_ended:function(f){var _=this,T=f._sprite;if(!_._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(_._ended.bind(_,f),100),_;var E=!!(f._loop||_._sprite[T][2]);if(_._emit("end",f._id),!_._webAudio&&E&&_.stop(f._id,!0).play(f._id),_._webAudio&&E){_._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=e.ctx.currentTime;var C=(f._stop-f._start)*1e3/Math.abs(f._rate);_._endTimers[f._id]=setTimeout(_._ended.bind(_,f),C)}return _._webAudio&&!E&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,_._clearTimer(f._id),_._cleanBuffer(f._node),e._autoSuspend()),!_._webAudio&&!E&&_.stop(f._id,!0),_},_clearTimer:function(f){var _=this;if(_._endTimers[f]){if(typeof _._endTimers[f]!="function")clearTimeout(_._endTimers[f]);else{var T=_._soundById(f);T&&T._node&&T._node.removeEventListener("ended",_._endTimers[f],!1)}delete _._endTimers[f]}return _},_soundById:function(f){for(var _=this,T=0;T<_._sounds.length;T++)if(f===_._sounds[T]._id)return _._sounds[T];return null},_inactiveSound:function(){var f=this;f._drain();for(var _=0;_<f._sounds.length;_++)if(f._sounds[_]._ended)return f._sounds[_].reset();return new o(f)},_drain:function(){var f=this,_=f._pool,T=0,E=0;if(!(f._sounds.length<_)){for(E=0;E<f._sounds.length;E++)f._sounds[E]._ended&&T++;for(E=f._sounds.length-1;E>=0;E--){if(T<=_)return;f._sounds[E]._ended&&(f._webAudio&&f._sounds[E]._node&&f._sounds[E]._node.disconnect(0),f._sounds.splice(E,1),T--)}}},_getSoundIds:function(f){var _=this;if(typeof f>"u"){for(var T=[],E=0;E<_._sounds.length;E++)T.push(_._sounds[E]._id);return T}else return[f]},_refreshBuffer:function(f){var _=this;return f._node.bufferSource=e.ctx.createBufferSource(),f._node.bufferSource.buffer=u[_._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,e.ctx.currentTime),_},_cleanBuffer:function(f){var _=this,T=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return _;if(e._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),T))try{f.bufferSource.buffer=e._scratchBuffer}catch{}return f.bufferSource=null,_},_clearSound:function(f){var _=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);_||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(f){this._parent=f,this.init()};o.prototype={init:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,_._sounds.push(f),f.create(),f},create:function(){var f=this,_=f._parent,T=e._muted||f._muted||f._parent._muted?0:f._volume;return _._webAudio?(f._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),f._node.gain.setValueAtTime(T,e.ctx.currentTime),f._node.paused=!0,f._node.connect(e.masterGain)):e.noAudio||(f._node=e._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(e._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=_._src,f._node.preload=_._preload===!0?"auto":_._preload,f._node.volume=T*e.volume(),f._node.load()),f},reset:function(){var f=this,_=f._parent;return f._muted=_._muted,f._loop=_._loop,f._volume=_._volume,f._rate=_._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++e._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,_=f._parent;_._duration=Math.ceil(f._node.duration*10)/10,Object.keys(_._sprite).length===0&&(_._sprite={__default:[0,_._duration*1e3]}),_._state!=="loaded"&&(_._state="loaded",_._emit("load"),_._loadQueue()),f._node.removeEventListener(e._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,_=f._parent;_._duration===1/0&&(_._duration=Math.ceil(f._node.duration*10)/10,_._sprite.__default[1]===1/0&&(_._sprite.__default[1]=_._duration*1e3),_._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var u={},c=function(f){var _=f._src;if(u[_]){f._duration=u[_].duration,v(f);return}if(/^data:[^;]+;base64,/.test(_)){for(var T=atob(_.split(",")[1]),E=new Uint8Array(T.length),C=0;C<T.length;++C)E[C]=T.charCodeAt(C);m(E.buffer,f)}else{var M=new XMLHttpRequest;M.open(f._xhr.method,_,!0),M.withCredentials=f._xhr.withCredentials,M.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(j){M.setRequestHeader(j,f._xhr.headers[j])}),M.onload=function(){var j=(M.status+"")[0];if(j!=="0"&&j!=="2"&&j!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+M.status+".");return}m(M.response,f)},M.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete u[_],f.load())},p(M)}},p=function(f){try{f.send()}catch{f.onerror()}},m=function(f,_){var T=function(){_._emit("loaderror",null,"Decoding audio data failed.")},E=function(C){C&&_._sounds.length>0?(u[_._src]=C,v(_,C)):T()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(f).then(E).catch(T):e.ctx.decodeAudioData(f,E,T)},v=function(f,_){_&&!f._duration&&(f._duration=_.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},x=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),_=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),T=_?parseInt(_[1],10):null;if(f&&T&&T<9){var E=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!E&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};n.Howler=e,n.Howl=r,typeof ou<"u"?(ou.HowlerGlobal=t,ou.Howler=e,ou.Howl=r,ou.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=r,window.Sound=o)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(e);return r},HowlerGlobal.prototype.pos=function(e,r,o){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(r=typeof r!="number"?u._pos[1]:r,o=typeof o!="number"?u._pos[2]:o,typeof e=="number")u._pos=[e,r,o],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(e,r,o,u,c,p){var m=this;if(!m.ctx||!m.ctx.listener)return m;var v=m._orientation;if(r=typeof r!="number"?v[1]:r,o=typeof o!="number"?v[2]:o,u=typeof u!="number"?v[3]:u,c=typeof c!="number"?v[4]:c,p=typeof p!="number"?v[5]:p,typeof e=="number")m._orientation=[e,r,o,u,c,p],typeof m.ctx.listener.forwardX<"u"?(m.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(e,r,o,u,c,p);else return v;return m},Howl.prototype.init=(function(e){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],e.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(e,r)}}),o;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof e=="number")o._stereo=e,o._pos=[e,0,0];else return o._stereo;for(var c=o._getSoundIds(r),p=0;p<c.length;p++){var m=o._soundById(c[p]);if(m)if(typeof e=="number")m._stereo=e,m._pos=[e,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&t(m,u),u==="spatial"?typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(e,0,0):m._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",m._id);else return m._stereo}return o},Howl.prototype.pos=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(e,r,o,u)}}),c;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof u>"u")if(typeof e=="number")c._pos=[e,r,o];else return c._pos;for(var p=c._getSoundIds(u),m=0;m<p.length;m++){var v=c._soundById(p[m]);if(v)if(typeof e=="number")v._pos=[e,r,o],v._node&&((!v._panner||v._panner.pan)&&t(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setPosition(e,r,o)),c._emit("pos",v._id);else return v._pos}return c},Howl.prototype.orientation=function(e,r,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(e,r,o,u)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,o=typeof o!="number"?c._orientation[2]:o,typeof u>"u")if(typeof e=="number")c._orientation=[e,r,o];else return c._orientation;for(var p=c._getSoundIds(u),m=0;m<p.length;m++){var v=c._soundById(p[m]);if(v)if(typeof e=="number")v._orientation=[e,r,o],v._node&&(v._panner||(v._pos||(v._pos=c._pos||[0,0,-.5]),t(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setOrientation(e,r,o)),c._emit("orientation",v._id);else return v._orientation}return c},Howl.prototype.pannerAttr=function(){var e=this,r=arguments,o,u,c;if(!e._webAudio)return e;if(r.length===0)return e._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof u>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),e._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:e._panningModel});else return c=e._soundById(parseInt(r[0],10)),c?c._pannerAttr:e._pannerAttr;else r.length===2&&(o=r[0],u=parseInt(r[1],10));for(var p=e._getSoundIds(u),m=0;m<p.length;m++)if(c=e._soundById(p[m]),c){var v=c._pannerAttr;v={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:v.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:v.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:v.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:v.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:v.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:v.panningModel};var x=c._panner;x||(c._pos||(c._pos=e._pos||[0,0,-.5]),t(c,"spatial"),x=c._panner),x.coneInnerAngle=v.coneInnerAngle,x.coneOuterAngle=v.coneOuterAngle,x.coneOuterGain=v.coneOuterGain,x.distanceModel=v.distanceModel,x.maxDistance=v.maxDistance,x.refDistance=v.refDistance,x.rolloffFactor=v.rolloffFactor,x.panningModel=v.panningModel}return e},Sound.prototype.init=(function(e){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,e.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),e.call(this)}})(Sound.prototype.reset);var t=function(e,r){r=r||"spatial",r==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})(Cm)),Cm}var Pf=ZO();class JO{constructor(){this.sounds={bgm:new Pf.Howl({src:["/sounds/casino_ambience.mp3"],loop:!0,volume:.3,html5:!0,onloaderror:()=>{console.warn("BGM   ()")}}),chip:new Pf.Howl({src:["/sounds/chip_place.mp3"],volume:.6,onloaderror:()=>{}}),deal:new Pf.Howl({src:["/sounds/card_deal.mp3"],volume:.7,onloaderror:()=>{}}),shuffle:new Pf.Howl({src:["/sounds/shuffle.mp3"],volume:.8,onloaderror:()=>{}})}}speak(t){if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t);e.lang="ko-KR",e.rate=.82,e.pitch=1.45,e.volume=1;const o=window.speechSynthesis.getVoices().find(u=>(u.lang.includes("ko")||u.lang.includes("KR"))&&(u.name.includes("Google")||u.name.includes("Yuna")||u.name.includes("Heami")||u.name.includes("Female")));o&&(e.voice=o),window.speechSynthesis.speak(e)}play(t){if(t==="voice_win")this.speak("...   ...      ? ~!");else if(t==="voice_lose")this.speak("...     ...    ?     ...   ~");else if(t==="voice_side")this.speak("! !  !   ...      ? !");else if(this.sounds[t]){const e=this.sounds[t];try{e.state()==="loaded"&&e.play()}catch(r){console.error("Sound Play Error",r)}}}}const fu=new JO,tN=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],eN=["S","H","D","C"],nN=n=>["10","J","Q","K"].includes(n)?0:n==="A"?1:parseInt(n),kf=n=>n.reduce((e,r)=>e+r.val,0)%10,iN=n=>{var t=Math.sin(n++)*1e4;return t-Math.floor(t)},lT=n=>{let t=[n(),n()],e=[n(),n()],r=kf(t),o=kf(e);if(r>=8||o>=8)return{pHand:t,bHand:e,pScore:r,bScore:o};let u=null;r<=5&&(u=n(),t.push(u),r=kf(t));let c=!1;if(u===null)o<=5&&(c=!0);else{const p=u.val;(o<=2||o===3&&p!==8||o===4&&[2,3,4,5,6,7].includes(p)||o===5&&[4,5,6,7].includes(p)||o===6&&[6,7].includes(p))&&(c=!0)}return c&&(e.push(n()),o=kf(e)),{pHand:t,bHand:e,pScore:r,bScore:o}},Si={getCurrentRoundInfo:()=>{const t=new Date("2025-01-01T00:00:00Z").getTime(),e=1e4,o=Date.now()-t,u=e+Math.floor(o/(60*1e3)),c=60*1e3-o%(60*1e3),p=Math.floor(c/1e3);return{round:u,timeLeft:p,isDrawingPhase:p<=20}},shuffleDeck:(n=null)=>{let t=[];for(let e=0;e<8;e++)eN.forEach(r=>{tN.forEach(o=>{t.push({rank:o,suit:r,val:nN(o)})})});for(let e=t.length-1;e>0;e--){const r=n?iN(n+e):Math.random(),o=Math.floor(r*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t},generateBaccaratResult:(n=null)=>{let t,e,r=0;do{const o=Si.shuffleDeck();let u=0;if(t=lT(()=>o[u++]),t.pScore>t.bScore?e="PLAYER":t.bScore>t.pScore?e="BANKER":e="TIE",r++,!n)break}while(e!==n&&r<500);return{...t,result:e}},generateDeterministicResult:n=>{const t=Si.shuffleDeck(n);let e=0;const o=lT(()=>t[e++]);let u="TIE";o.pScore>o.bScore?u="PLAYER":o.bScore>o.pScore&&(u="BANKER");const c=o.pHand[0].rank===o.pHand[1].rank,p=o.bHand[0].rank===o.bHand[1].rank,f=new Date("2025-01-01T00:00:00Z").getTime()+(n-1e4)*60*1e3,_=new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{...o,result:u,isPP:c,isBP:p,round:n,date:_}},getPastHistory:n=>{const t=[];for(let e=n-1;e>=n-72;e--)t.push(Si.generateDeterministicResult(e));return t},generateBigRoad:n=>{if(!n||!Array.isArray(n))return[];const t=[...n].sort((u,c)=>u.round-c.round),e=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(e.push(r),r=[c],o=c))}),r.length>0&&e.push(r),e.slice(-25)},generateBeadRoad:n=>n?[...n].sort((t,e)=>t.round-e.round).slice(-72):[],calculateStats:n=>{if(!n||!Array.isArray(n))return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=n.filter(c=>c.result),e=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:e,b:r,t:o,total:u,pRate:Math.round(e/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function sN(n,t,e,r){const o=H.useRef(!1),u=H.useRef(null),c=H.useRef(t),p=H.useRef(null),m=H.useRef(0);H.useEffect(()=>{c.current=Number(t)||0},[t]);const v=$=>{try{const at=localStorage.getItem($);if(!at)return[];const O=JSON.parse(at);return Array.isArray(O)?O.filter(q=>q&&typeof q.result=="string"):[]}catch{return[]}},[x,f]=H.useState([]),[_,T]=H.useState([]),[E,C]=H.useState(0),[M,j]=H.useState(0),[N,B]=H.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,squeezeTarget:null}),[G,tt]=H.useState(null),[J,V]=H.useState(null),[R,I]=H.useState("   !"),k=H.useCallback($=>{const at=Number($)||0;e&&(e(at),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[e,r]),L=$=>{p.current=$,tt($),$?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify($)):localStorage.removeItem(`pending_bet_${n?.id}`)},U=H.useCallback(async()=>{if(n?.id)try{const $=Vr(Rn(Qt,"event_bets"),qf("userId","==",n.id),Xm(50)),O=(await qV($)).docs.map(q=>({id:q.id,...q.data()}));O.sort((q,nt)=>(nt.round||0)-(q.round||0)),O.length>0?(T(O),localStorage.setItem(`event_my_history_${n.id}`,JSON.stringify(O))):T(v(`event_my_history_${n.id}`))}catch{T(v(`event_my_history_${n?.id}`))}},[n?.id]),P=H.useCallback(()=>{if(!n?.id)return;const $=localStorage.getItem(`pending_bet_${n?.id}`);if($)try{const at=JSON.parse($),{round:O}=Si.getCurrentRoundInfo();at&&at.round>=O?(p.current=at,tt(at)):localStorage.removeItem(`pending_bet_${n?.id}`)}catch{}},[n?.id]);H.useEffect(()=>{(()=>{const{round:at}=Si.getCurrentRoundInfo(),O=v("event_total_history");if(O.length===0||O[0]&&O[0].round<at-2){const q=Si.getPastHistory(at);f(q),localStorage.setItem("event_total_history",JSON.stringify(q))}else f(O);U(),P()})()},[U,P]);const Ct=$=>{j(5);const at=setInterval(()=>j(O=>Math.max(0,O-1)),1e3);return u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{clearInterval(at),$()},5e3),at},Ft=H.useCallback(async $=>{if(o.current)return;o.current=!0,B(pt=>({...pt,isDrawing:!0,timeLeft:0})),fu.play("draw");let at=null;try{const pt=await Fi(Re(Qt,"event_manipulation",String($)));pt.exists()&&(at=pt.data().winner)}catch{}const O=at?Si.generateBaccaratResult(at):Si.generateDeterministicResult($),q=p.current;let nt=null;if(q&&q.round===$&&q.bets){const pt=Number(q.bets.PLAYER)||0,vt=Number(q.bets.BANKER)||0;(pt>0||vt>0)&&(nt=pt>=vt?"PLAYER":"BANKER")}B(pt=>({...pt,gameResult:O,squeezeTarget:nt})),setTimeout(()=>{C(1),setTimeout(()=>{nt?(C(2),Ct(()=>W($,O,q,nt))):W($,O,q,nt)},1500)},500)},[n?.id]),W=($,at,O,q)=>{u.current&&clearTimeout(u.current),C(3);const nt=(at.pHand[0].val+at.pHand[1].val)%10,pt=(at.bHand[0].val+at.bHand[1].val)%10,vt=nt>=8||pt>=8,St=at.pHand.length>2||at.bHand.length>2;setTimeout(()=>{!vt&&St?(C(4),fu.play("draw"),setTimeout(()=>{q?(C(5),Ct(()=>Q($,at,O))):Q($,at,O)},1500)):Q($,at,O)},1500)},rt=()=>{u.current&&clearTimeout(u.current),E===2?W(N.round,N.gameResult,p.current,N.squeezeTarget):E===5&&Q(N.round,N.gameResult,p.current)},Q=async($,at,O)=>{C(6);const{result:q,pHand:nt,bHand:pt}=at,vt=nt?.[0]?.rank===nt?.[1]?.rank,St=pt?.[0]?.rank===pt?.[1]?.rank,Tt=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(f(At=>{const wt={round:$,result:q,isPP:vt,isBP:St,date:Tt};if(At.length>0&&At[0].round===$)return At;const ne=[wt,...At].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify(ne)),ne}),O&&O.round===$){const{bets:At={},totalCost:wt=0}=O;let ne=0,Ee=!1;Object.entries(At).forEach(([je,li])=>{const Yt=Number(li)||0;q==="PLAYER"&&je==="PLAYER"?ne+=Math.floor(Yt*2):q==="BANKER"&&je==="BANKER"?ne+=Math.floor(Yt*1.95):q==="TIE"&&(je==="TIE"?(ne+=Math.floor(Yt*9),Ee=!0):(je==="PLAYER"||je==="BANKER")&&(ne+=Yt)),je==="P_PAIR"&&vt&&(ne+=Math.floor(Yt*12),Ee=!0),je==="B_PAIR"&&St&&(ne+=Math.floor(Yt*12),Ee=!0)});const nn=Number(ne)||0,ke=Number(wt)||0,oi=(Number(c.current)||0)+nn;if(k(oi),n?.id)try{await Hi(Re(Qt,"users",n.id),{diamond:oi})}catch{}nn>ke?Ee?fu.play("voice_side"):fu.play("voice_win"):fu.play("voice_lose");const An={round:$,userId:n.id,bets:At,result:q||"TIE",isPP:vt,isBP:St,earn:nn,cost:ke,date:Tt,status:"settled",timestamp:new Date().toISOString()};try{await $o(Rn(Qt,"event_bets"),An),T(je=>[An,...je].slice(0,50))}catch(je){console.error("History Save Fail",je)}V({totalEarn:nn,totalCost:ke,result:q||"TIE",isPP:vt,isBP:St})}setTimeout(()=>{L(null),B(At=>({...At,gameResult:null,isDrawing:!1,squeezeTarget:null})),C(0),V(null),o.current=!1},4e3)};return H.useEffect(()=>{const at=setInterval(()=>{const{round:O,timeLeft:q,isDrawingPhase:nt}=Si.getCurrentRoundInfo();m.current!==0&&O>m.current&&!o.current&&Ft(m.current),m.current=O,o.current||B(pt=>({...pt,round:O,timeLeft:q,isDrawing:nt}))},1e3);return()=>clearInterval(at)},[Ft]),{gameState:N,gameStep:E,squeezeTime:M,onSqueezeComplete:rt,totalHistory:x,myHistory:_,myPendingBet:G,setMyPendingBet:L,showResult:J,setShowResult:V,liveNoti:R,updatePointWithAnim:k}}const uT=({type:n,value:t})=>{const e=n||"",r=e.includes("PLAYER")||e==="P_PAIR"?"#4d94ff":e.includes("BANKER")||e==="B_PAIR"?"#ff4d4d":"#00e676",o=t>=1e3?`${t/1e3}k`:t;return y.jsx(Mn.div,{initial:{scale:2,opacity:0,y:-50,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},style:{width:"42px",height:"42px",borderRadius:"50%",border:"3px dashed #fff",backgroundColor:r,boxShadow:"0 4px 10px rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:50,bottom:"15px",right:"15px"},children:y.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.4)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"900",color:"#fff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:o})},t)},Lf=({rank:n,suit:t,index:e,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t]||"?",p=r?300:-300;return y.jsxs(Mn.div,{initial:{x:p,y:-400,scale:.5,rotateY:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:e*.2,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"50px",height:"75px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"22px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&y.jsxs(y.Fragment,{children:[y.jsx("span",{style:{fontSize:"12px",position:"absolute",top:"2px",left:"4px"},children:n}),y.jsx("span",{style:{fontSize:"28px"},children:c}),y.jsx("span",{style:{fontSize:"12px",position:"absolute",bottom:"2px",right:"4px",transform:"rotate(180deg)"},children:n})]}),o&&y.jsx("div",{style:{width:"36px",height:"60px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},cT=({cards:n,targetName:t,onComplete:e,timeLeft:r})=>{const[o,u]=H.useState((n||[]).map(()=>!1)),c=(p,m)=>{if(m.offset.y>100){const v=[...o];v[p]=!0,u(v),v.every(x=>x===!0)&&setTimeout(e,500)}};return!n||n.length===0?null:y.jsxs(Mn.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[y.jsxs("h2",{style:{color:"#fff",fontSize:"24px",marginBottom:"30px",fontWeight:"900",letterSpacing:"2px"},children:[y.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),y.jsx("div",{style:{display:"flex",gap:"30px"},children:n.map((p,m)=>y.jsxs("div",{style:{position:"relative",width:"140px",height:"210px"},children:[y.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:p.suit==="H"||p.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[y.jsx("div",{children:p.suit==="S"?"":p.suit==="H"?"":p.suit==="D"?"":""}),y.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:p.rank})]}),y.jsx(Mn.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,onDragEnd:(v,x)=>c(m,x),animate:o[m]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:y.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},m))}),y.jsxs("div",{style:{marginTop:"30px",color:r<=3?"#ff3b30":"#ffd700",fontSize:"16px",fontWeight:"bold",animation:"pulse 1s infinite"},children:["AUTO OPEN IN ",r,"s"]}),y.jsx("style",{children:"@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }"})]})},rN=({round:n,timeLeft:t,isDrawing:e,gameResult:r,gameStep:o,isSqueezing:u})=>y.jsxs(Mn.div,{style:{...Do.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden",position:"relative"},children:[y.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),y.jsxs("div",{style:{...Do.bannerContent,zIndex:10},children:[y.jsxs("div",{style:Do.bannerTop,children:[y.jsx("div",{style:{...Do.liveBadge,background:e?"#ff3b30":"#00e676",color:"#fff"},children:e?"DEALING":"BETTING OPEN"}),y.jsxs("span",{style:{...Do.roundInfo,color:"#8fbc8f",marginLeft:"8px"},children:["Rd. ",n]})]}),y.jsx("div",{style:{...Do.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:e&&r?y.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.pHand?.slice(0,2).map((c,p)=>y.jsx(Lf,{...c,index:p,isPlayer:!0,hidden:o<3},`p-${p}`)),o>=4&&r.pHand?.[2]&&y.jsx(Lf,{...r.pHand[2],index:2,isPlayer:!0,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(Mn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),y.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[y.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.bHand?.slice(0,2).map((c,p)=>y.jsx(Lf,{...c,index:p+.2,isPlayer:!1,hidden:o<3},`b-${p}`)),o>=4&&r.bHand?.[2]&&y.jsx(Lf,{...r.bHand[2],index:2.2,isPlayer:!1,hidden:o<6})]}),o>=3&&(o<4||o>=6)&&y.jsx(Mn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):y.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:y.jsx("h2",{style:{fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace",fontWeight:"900"},children:t})})})]})]}),aN=({beadRoad:n,bigRoad:t,stats:e})=>y.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[y.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[y.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",e?.p||0," (",e?.pRate||0,"%)"]}),y.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",e?.b||0," (",e?.bRate||0,"%)"]}),y.jsxs("div",{style:{color:"#00e676"},children:["T: ",e?.t||0," (",e?.tRate||0,"%)"]}),y.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",e?.total||0]})]}),y.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[y.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:Array.isArray(t)&&t.map((r,o)=>y.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>y.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},`res-${o}-${c}`))},`col-${o}`))}),y.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=Array.isArray(n)?n[n.length-36+o]:null;return y.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&u.result&&y.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},`bead-${o}`)})})]})]}),Do={eventBanner:{borderRadius:"28px",padding:"20px",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"220px"},bannerContent:{position:"relative",width:"100%",height:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},liveBadge:{fontSize:"10px",fontWeight:"900",padding:"4px 10px",borderRadius:"4px"},roundInfo:{fontSize:"12px"},timerDisplay:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},fT=[{id:"P_PAIR",name:"P.PAIR",label:"x11",color:"#4d94ff",type:"sub",desc:" "},{id:"TIE",name:"TIE",label:"x9",color:"#00e676",type:"sub",desc:""},{id:"B_PAIR",name:"B.PAIR",label:"x11",color:"#ff4d4d",type:"sub",desc:" "},{id:"PLAYER",name:"PLAYER",label:"x2.0",color:"#4d94ff",type:"main",desc:" "},{id:"BANKER",name:"BANKER",label:"x1.95",color:"#ff4d4d",type:"main",desc:" "}],dT=({card:n,isHidden:t})=>{if(!n||t)return y.jsx("div",{style:ii.cardBack,children:y.jsx("div",{style:ii.backPattern})});const{rank:e,suit:r}=n,u=r==="H"||r==="D"?"#e74c3c":"#2c3e50",c={S:"",H:"",D:"",C:""}[r],p=()=>{const m=e;if(["J","Q","K"].includes(m)){let f="",_="";return m==="J"?(f="",_="Knight"):m==="Q"?(f="",_="Sexy"):m==="K"&&(f="",_="King"),y.jsxs("div",{style:ii.faceCardBox,children:[y.jsx("div",{style:{fontSize:"22px",lineHeight:"1.2",textShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:f}),y.jsx("div",{style:{fontSize:"9px",fontWeight:"900",marginTop:"4px",color:u,letterSpacing:"1px"},children:_}),y.jsx("div",{style:{...ii.faceBorder,borderColor:u}})]})}if(m==="A")return y.jsx("div",{style:{...ii.pip,top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"38px"},children:c});const v=parseInt(m);return(f=>{let M=[];return f>=2&&M.push({top:"12%",left:"50%",transform:"translateX(-50%)"},{bottom:"12%",left:"50%",transform:"translateX(-50%)"}),f===3&&M.push({top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),f>=4&&(M=[{top:"12%",left:"20%"},{top:"12%",right:"20%"},{bottom:"12%",left:"20%"},{bottom:"12%",right:"20%"}]),f===5&&M.push({top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),f===6&&M.push({top:"50%",left:"20%"},{top:"50%",right:"20%"}),f===7&&M.push({top:"50%",left:"20%"},{top:"50%",right:"20%"},{top:"31%",left:"50%",transform:"translateX(-50%)"}),f===8&&M.push({top:"50%",left:"20%"},{top:"50%",right:"20%"},{top:"31%",left:"50%",transform:"translateX(-50%)"},{bottom:"31%",left:"50%",transform:"translateX(-50%)"}),f===9&&(M=[{top:"12%",left:"20%"},{top:"12%",right:"20%"},{bottom:"12%",left:"20%"},{bottom:"12%",right:"20%"},{top:"38%",left:"20%"},{top:"38%",right:"20%"},{bottom:"38%",left:"20%"},{bottom:"38%",right:"20%"},{top:"50%",left:"50%",transform:"translate(-50%,-50%)"}]),f===10&&(M=[{top:"12%",left:"20%"},{top:"12%",right:"20%"},{bottom:"12%",left:"20%"},{bottom:"12%",right:"20%"},{top:"35%",left:"20%"},{top:"35%",right:"20%"},{bottom:"35%",left:"20%"},{bottom:"35%",right:"20%"},{top:"22%",left:"50%",transform:"translateX(-50%)"},{bottom:"22%",left:"50%",transform:"translateX(-50%)"}]),M})(v).map((f,_)=>y.jsx("div",{style:{...ii.pip,...f},children:c},_))};return y.jsxs(Mn.div,{initial:{rotateY:180},animate:{rotateY:0},transition:{duration:.4},style:{...ii.cardFront,color:u},children:[y.jsxs("div",{style:ii.cornerTop,children:[y.jsx("div",{children:e}),y.jsx("div",{style:{fontSize:"10px"},children:c})]}),y.jsx("div",{style:ii.innerContent,children:p()}),y.jsxs("div",{style:ii.cornerBottom,children:[y.jsx("div",{children:e}),y.jsx("div",{style:{fontSize:"10px"},children:c})]})]})};function ow({user:n,userPoint:t=0,confirmedImage:e,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const p=$O(),[m,v]=H.useState(t),x=H.useRef(null),{gameState:f,gameStep:_,squeezeTime:T,onSqueezeComplete:E,totalHistory:C,myHistory:M,myPendingBet:j,setMyPendingBet:N,showResult:B,setShowResult:G,liveNoti:tt,updatePointWithAnim:J}=sN(n,t,u,p),V=H.useMemo(()=>({bigRoad:Si.generateBigRoad(C),beadRoad:Si.generateBeadRoad(C),stats:Si.calculateStats(C)}),[C]),[R,I]=H.useState({}),[k,L]=H.useState("10000"),[U,P]=H.useState("mine");H.useEffect(()=>{v(t)},[t]),H.useEffect(()=>{const Q=$=>{n&&$.detail&&$.detail.userId===n.id&&(v($.detail.point),J($.detail.point))};return window.addEventListener("user_point_update",Q),()=>window.removeEventListener("user_point_update",Q)},[n,J]);const Ct=Q=>{if(f.timeLeft<=0)return alert("  .");const $=parseInt(k);if(!$||$<=0)return alert(" () .");const at=Object.values(R).reduce((O,q)=>O+q,0);if($+at>m)return alert("  .");I(O=>({...O,[Q]:(O[Q]||0)+$}))},Ft=async()=>{const Q=Object.values(R).reduce((nt,pt)=>nt+pt,0);if(Q===0)return alert("    .");const $=m-Q;v($),J($);const at=j?j.bets:{},O=j?j.totalCost:0,q={...at};Object.entries(R).forEach(([nt,pt])=>{q[nt]=(q[nt]||0)+pt}),N({round:f.round,bets:q,totalCost:O+Q});try{await $o(Rn(Qt,"event_bets"),{round:f.round,userId:n.id,betAmount:Q,bets:R,timestamp:new Date().toISOString()})}catch(nt){console.error("Firebase Error",nt)}I({})},W=()=>{if(!j)return;const Q=m+j.totalCost;v(Q),J(Q),N(null),I({})},rt=H.useMemo(()=>{if(e)return e;const Q=r||0;return`https://api.dicebear.com/7.x/${["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"][Q]}/svg?seed=${n?.id}_${Q}&backgroundColor=2a2a2e`},[e,r,n?.id]);return y.jsxs("div",{style:kt.screenContainer,children:[y.jsxs("div",{style:kt.fixedHeader,children:[y.jsxs("div",{style:kt.navLeft,onClick:o,children:[y.jsx("span",{style:kt.backBtn,children:""}),y.jsx("span",{style:kt.navTitle,children:"ROYAL BACCARAT"})]}),y.jsxs("div",{style:kt.navRight,children:[y.jsxs(Mn.div,{animate:p,style:kt.pointBadge,children:[y.jsx("span",{style:kt.coinIcon,children:""}),y.jsx("span",{style:kt.headerPoint,children:m.toLocaleString()})]}),y.jsx("div",{style:kt.profileCircle,children:y.jsx("img",{src:rt,alt:"profile",style:kt.profileImg})})]})]}),y.jsxs("div",{style:kt.scrollBody,ref:x,children:[y.jsx("div",{style:kt.liveTicker,children:y.jsxs(Mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:kt.tickerText,children:[" ",tt]},tt)}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx(rN,{round:f.round,timeLeft:f.timeLeft,isDrawing:f.isDrawing,gameResult:f.gameResult,gameStep:_,isSqueezing:f.isSqueezing}),f.gameResult&&!f.isDrawing&&y.jsxs("div",{style:ii.tableCardLayer,children:[y.jsx("div",{style:ii.sideHand,children:f.gameResult.pHand.map((Q,$)=>y.jsx(dT,{card:Q,isHidden:$===2?_<4:_<2},`p-${$}`))}),y.jsx("div",{style:ii.sideHand,children:f.gameResult.bHand.map((Q,$)=>y.jsx(dT,{card:Q,isHidden:$===2?_<4:_<2},`b-${$}`))})]}),y.jsx(ym,{children:f.gameResult&&(_===2&&y.jsx(cT,{targetName:f.squeezeTarget,cards:f.squeezeTarget==="PLAYER"?f.gameResult.pHand.slice(0,2):f.gameResult.bHand.slice(0,2),onComplete:E,timeLeft:T})||_===5&&y.jsx(cT,{targetName:f.squeezeTarget,cards:[f.squeezeTarget==="PLAYER"?f.gameResult.pHand[2]:f.gameResult.bHand[2]],onComplete:E,timeLeft:T}))})]}),y.jsx(aN,{...V}),y.jsxs("div",{style:kt.sectionLabel,children:[y.jsx("span",{style:kt.labelBar})," MULTI BETTING ZONE"]}),y.jsxs("div",{style:kt.baccaratGrid,children:[y.jsx("div",{style:kt.rowTop,children:fT.filter(Q=>Q.type==="sub").map(Q=>{const $=j?.bets?.[Q.id]||0,at=R[Q.id]||0,O=$+at,q=O>0;return y.jsxs(Mn.div,{whileTap:{scale:.95},onClick:()=>Ct(Q.id),style:{...kt.zoneCardSmall,border:q?`2px solid ${Q.color}`:"1px solid #333",background:q?`linear-gradient(180deg, ${Q.color}22, #111)`:"#161616"},children:[y.jsx("div",{style:{color:Q.color,fontSize:"13px",fontWeight:"900"},children:Q.name}),y.jsx("div",{style:{color:"#fff",fontSize:"10px",marginTop:"2px"},children:Q.label}),q&&y.jsx("div",{style:{marginTop:"5px",background:Q.color,color:"#fff",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px",zIndex:10},children:O.toLocaleString()}),q&&y.jsx(uT,{type:Q.id,value:O})]},Q.id)})}),y.jsx("div",{style:kt.rowBottom,children:fT.filter(Q=>Q.type==="main").map(Q=>{const $=j?.bets?.[Q.id]||0,at=R[Q.id]||0,O=$+at,q=O>0;return y.jsxs(Mn.div,{whileTap:{scale:.95},onClick:()=>Ct(Q.id),style:{...kt.zoneCardBig,border:q?`2px solid ${Q.color}`:"1px solid #333",background:q?`linear-gradient(180deg, ${Q.color}22, #111)`:"#161616"},children:[y.jsx("div",{style:{color:Q.color,fontSize:"28px",fontWeight:"900"},children:Q.name[0]}),y.jsx("div",{style:{color:Q.color,fontSize:"14px",fontWeight:"bold",marginTop:"-5px"},children:Q.name}),q&&y.jsx("div",{style:{marginTop:"8px",background:Q.color,color:"#fff",fontSize:"14px",fontWeight:"bold",padding:"4px 12px",borderRadius:"12px",zIndex:10},children:O.toLocaleString()}),q&&y.jsx(uT,{type:Q.id,value:O})]},Q.id)})})]}),y.jsxs("div",{style:kt.tabSection,children:[y.jsxs("div",{style:kt.tabHeader,children:[y.jsx("button",{style:{...kt.tabBtn,color:U==="mine"?"#fff":"#666",borderBottom:U==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>P("mine"),children:" "}),y.jsx("button",{style:{...kt.tabBtn,color:U==="total"?"#fff":"#666",borderBottom:U==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>P("total"),children:""})]}),y.jsxs("div",{style:kt.tabContent,children:[U==="mine"&&M.slice(0,30).map((Q,$)=>{const at=(Number(Q?.earn)||0)-(Number(Q?.cost)||0),O=Q.bets?Object.entries(Q.bets).map(([q,nt])=>`${q.substring(0,1)}:${nt/1e3}k`).join(" "):"No data";return y.jsxs("div",{style:kt.histItem,children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[y.jsxs("span",{style:kt.histRound,children:["No. ",Q.round," ",y.jsx("span",{style:kt.histDate,children:Q.date})]}),y.jsxs("span",{style:{fontSize:"11px",color:"#aaa"},children:["Bet: ",O," | Res: ",Q.result]})]}),y.jsx("div",{style:{...kt.histEarn,color:at>0?"#34D399":at===0&&Q.earn>0?"#fff":"#FB7185"},children:at>0?`+${at.toLocaleString()}`:at===0&&(Number(Q?.earn)||0)>0?"REFUND":`-${(Number(Q?.cost)||0).toLocaleString()}`})]},`my-${$}`)}),U==="total"&&C.slice(0,30).map((Q,$)=>y.jsxs("div",{style:kt.histItem,children:[y.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[Q.round," "]}),y.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:Q.result==="PLAYER"?"#4d94ff":Q.result==="BANKER"?"#ff4d4d":"#00e676"},children:[Q.result," ",Q.isPP&&y.jsx("small",{style:{color:"#4d94ff",fontSize:"9px"},children:"PP"})," ",Q.isBP&&y.jsx("small",{style:{color:"#ff4d4d",fontSize:"9px"},children:"BP"})]})]},`tot-${$}`))]})]})]}),y.jsx(ym,{children:y.jsxs(Mn.div,{initial:{y:180},animate:{y:0},style:kt.bottomPanel,children:[y.jsxs("div",{style:kt.statusHeader,children:[y.jsxs("span",{style:{fontSize:"13px",color:"#aaa"},children:[" : ",y.jsxs("b",{style:{color:"#fff",fontSize:"15px"},children:[((Number(j?.totalCost)||0)+Object.values(R).reduce((Q,$)=>Q+$,0)).toLocaleString()," DIA"]})]}),j&&f.timeLeft>10&&y.jsx("button",{onClick:W,style:kt.cancelBtnSmall,children:" "})]}),y.jsxs("div",{style:kt.amountPresets,children:[["1000","5000","10000","50000","100000"].map(Q=>y.jsxs("button",{onClick:()=>L(Q),style:{...kt.presetBtn,color:k===Q?"#ffd700":"#fff",border:k===Q?"1px solid #ffd700":"1px solid #333"},children:[parseInt(Q)/1e3,"k"]},Q)),y.jsx("button",{onClick:()=>I({}),style:{...kt.presetBtn,color:"#ff3b30",border:"1px solid #444"},children:"Reset"})]}),y.jsxs("div",{style:kt.betInputGroup,children:[y.jsx("input",{type:"number",value:k,onChange:Q=>L(Q.target.value),style:kt.mainInput,placeholder:"    "}),y.jsx("button",{style:{...kt.finalBtn,background:Object.keys(R).length>0?"#ffb347":"#333"},onClick:Ft,disabled:Object.keys(R).length===0,children:"CONFIRM"})]})]})}),y.jsx(ym,{children:B&&y.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},style:kt.modalOverlay,onClick:()=>G(null),children:y.jsxs(Mn.div,{initial:{scale:.8},animate:{scale:1},style:kt.modalCard,onClick:Q=>Q.stopPropagation(),children:[y.jsx("div",{style:{...kt.modalTitle,color:(Number(B.totalEarn)||0)>(Number(B.totalCost)||0)?"#ffd700":"#FB7185"},children:(Number(B.totalEarn)||0)>(Number(B.totalCost)||0)?"WIN!":"LOSE"}),y.jsxs("div",{style:{fontSize:"22px",margin:"20px 0",fontWeight:"bold",color:"#fff"},children:[B.result," WIN"]}),y.jsxs("div",{style:{...kt.modalAmount,color:(Number(B.totalEarn)||0)>(Number(B.totalCost)||0)?"#34D399":"#fff"},children:[((Number(B?.totalEarn)||0)-(Number(B?.totalCost)||0)).toLocaleString()," DIA"]}),y.jsx("button",{style:kt.modalCloseBtn,onClick:()=>G(null),children:"CLOSE"})]})})})]})}const ii={cardFront:{width:"58px",height:"82px",background:"#fff",borderRadius:"7px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",border:"1px solid #ddd"},cardBack:{width:"58px",height:"82px",background:"#2c3e50",borderRadius:"7px",border:"2px solid #fff",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",boxSizing:"border-box"},backPattern:{width:"100%",height:"100%",backgroundColor:"#2c3e50",backgroundImage:"radial-gradient(#445566 20%, transparent 20%)",backgroundSize:"6px 6px",borderRadius:"4px"},cornerTop:{position:"absolute",top:2,left:4,fontSize:"11px",fontWeight:"bold",lineHeight:"11px",textAlign:"center"},cornerBottom:{position:"absolute",bottom:2,right:4,fontSize:"11px",fontWeight:"bold",lineHeight:"11px",textAlign:"center",transform:"rotate(180deg)"},innerContent:{width:"100%",height:"100%",position:"relative"},pip:{position:"absolute",fontSize:"15px",lineHeight:"15px"},faceCardBox:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},faceBorder:{position:"absolute",top:"12%",left:"12%",right:"12%",bottom:"12%",border:"1.5px solid",opacity:.3,borderRadius:"5px"},tableCardLayer:{position:"absolute",top:"55%",left:0,right:0,display:"flex",justifyContent:"space-around",pointerEvents:"none",transform:"translateY(-50%)",zIndex:5,padding:"0 10px"},sideHand:{display:"flex",gap:"6px"}},kt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#080808",overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:999,borderBottom:"1px solid #1a1a1a"},scrollBody:{flex:1,overflowY:"auto",padding:"10px 20px 200px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"16px",fontWeight:"900",color:"#fff",letterSpacing:"0.5px"},backBtn:{fontSize:"20px",color:"#888"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#161616",padding:"8px 16px",borderRadius:"25px",border:"1px solid #222",display:"flex",gap:"8px",alignItems:"center",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.3)"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"38px",height:"38px",borderRadius:"50%",overflow:"hidden",border:"2px solid #222"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"36px",background:"rgba(255, 179, 71, 0.03)",margin:"0 -20px 15px",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #111"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"700",letterSpacing:"-0.2px"},sectionLabel:{fontSize:"15px",fontWeight:"900",margin:"30px 0 15px",display:"flex",alignItems:"center",gap:"10px",color:"#eee"},labelBar:{width:"4px",height:"15px",background:"#ffb347",borderRadius:"2px"},baccaratGrid:{display:"flex",flexDirection:"column",gap:"12px"},rowTop:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",height:"95px"},rowBottom:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",height:"150px"},zoneCardSmall:{borderRadius:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.2s"},zoneCardBig:{borderRadius:"22px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.2s"},tabSection:{marginTop:"50px"},tabHeader:{display:"flex",gap:"25px",borderBottom:"1px solid #1a1a1a",padding:"0 5px"},tabBtn:{background:"none",border:"none",padding:"15px 0",fontSize:"14px",fontWeight:"900",cursor:"pointer",transition:"all 0.3s"},tabContent:{background:"#0e0e0e",borderRadius:"24px",marginTop:"20px",border:"1px solid #1a1a1a",overflow:"hidden"},histItem:{padding:"18px 22px",borderBottom:"1px solid #1a1a1a",display:"flex",justifyContent:"space-between",alignItems:"center"},histRound:{fontSize:"14px",fontWeight:"800",color:"#fff"},histDate:{fontSize:"10px",color:"#444",marginLeft:"8px"},histEarn:{fontSize:"16px",fontWeight:"900"},bottomPanel:{position:"fixed",bottom:25,left:15,right:15,background:"#161618",padding:"22px",borderRadius:"35px",border:"1px solid #2c2c2e",zIndex:100,boxShadow:"0 -15px 50px rgba(0,0,0,0.6)"},statusHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"18px",borderBottom:"1px solid #222",marginBottom:"18px"},cancelBtnSmall:{background:"rgba(251, 113, 133, 0.1)",color:"#fb7185",border:"1px solid #fb7185",padding:"7px 14px",borderRadius:"10px",fontSize:"12px",fontWeight:"800"},amountPresets:{display:"flex",gap:"8px",marginBottom:"18px"},presetBtn:{flex:1,background:"#222",border:"1px solid #333",color:"#fff",padding:"12px 0",borderRadius:"14px",fontSize:"12px",fontWeight:"800",transition:"all 0.2s"},betInputGroup:{display:"flex",gap:"12px"},mainInput:{flex:1,background:"#000",border:"1px solid #333",borderRadius:"18px",padding:"16px",color:"#fff",fontSize:"20px",fontWeight:"900",outline:"none"},finalBtn:{color:"#000",border:"none",padding:"0 30px",borderRadius:"18px",fontWeight:"900",fontSize:"15px",cursor:"pointer"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(8px)"},modalCard:{background:"#1a1a1a",padding:"45px 35px",borderRadius:"40px",textAlign:"center",width:"100%",maxWidth:"330px",border:"1px solid #2c2c2e"},modalTitle:{fontSize:"36px",fontWeight:"900",letterSpacing:"-1px"},modalAmount:{fontSize:"34px",fontWeight:"900",margin:"25px 0"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"20px",borderRadius:"20px",fontWeight:"900",fontSize:"17px",cursor:"pointer"}},ct={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},_d=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],lw=(n,t)=>{const e=n>=0&&n<_d.length?n:0;return`https://api.dicebear.com/7.x/${_d[e]}/svg?seed=${t}_${e}&backgroundColor=2a2a2e`},oN=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},lN=({userId:n,tempSelectedIdx:t,tempUploadedImg:e,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:p})=>{const m=H.useRef(null);return y.jsxs("div",{style:ct.avatarPicker,children:[y.jsxs("div",{style:ct.pickerHeader,children:[y.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:p,style:ct.randomBtn,children:" "}),y.jsx("button",{onClick:u,style:ct.closeBtn,children:""})]})]}),y.jsx("div",{style:ct.charGrid,children:_d.map((v,x)=>y.jsx("div",{onClick:()=>{o(null),r(x)},style:{...ct.pickerItem,border:t===x&&!e?"2px solid #D4AF37":"1px solid #333"},children:y.jsx("img",{src:lw(x,n),alt:"char",style:{width:"85%"}})},x))}),y.jsx("input",{type:"file",accept:"image/*",ref:m,onChange:v=>{const x=v.target.files[0];if(x){const f=new FileReader;f.onloadend=()=>{o(f.result),r(-1)},f.readAsDataURL(x)}},style:{display:"none"}}),y.jsx("button",{onClick:()=>m.current.click(),style:ct.uploadBtn,children:"   "}),y.jsx("button",{onClick:c,style:ct.applyBtn,children:""})]})},hT=new BroadcastChannel("daisy_global_channel"),uN=(n,t,e)=>{const[r,o]=H.useState(n||null),[u,c]=H.useState(()=>{if(!n)return!1;const N=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===N}),[p,m]=H.useState([]),[v,x]=H.useState([]);H.useEffect(()=>{n&&o(n)},[n]),H.useEffect(()=>{const N=(G,tt)=>{o(J=>J&&J.id===G?{...J,diamond:tt}:J)},B=G=>{const{userId:tt,point:J}=G.detail||{};tt&&N(tt,J)};return window.addEventListener("user_point_update",B),hT.onmessage=G=>{const{type:tt,userId:J,point:V}=G.data||{};tt==="POINT_UPDATE"&&J&&N(J,V)},()=>window.removeEventListener("user_point_update",B)},[]),H.useEffect(()=>{if(!r?.id)return;const N=Vr(Rn(Qt,"deposit_requests"),qf("userId","==",r.id)),B=Vr(Rn(Qt,"withdraw_requests"),qf("userId","==",r.id)),G=Vr(Rn(Qt,"finance_history"),qf("userId","==",r.id));let tt=[],J=[],V=[];const R=()=>{const U=V.filter(W=>W.type==="").map(W=>({...W,status:""})),P=[...tt,...U].sort((W,rt)=>new Date(rt.timestamp||rt.completedAt)-new Date(W.timestamp||W.completedAt));m(P);const Ct=V.filter(W=>W.type==="").map(W=>({...W,status:""})),Ft=[...J,...Ct].sort((W,rt)=>new Date(rt.timestamp||rt.completedAt)-new Date(W.timestamp||W.completedAt));x(Ft)},I=ps(N,U=>{tt=U.docs.map(P=>({id:P.id,...P.data(),status:""})),R()}),k=ps(B,U=>{J=U.docs.map(P=>({id:P.id,...P.data(),status:""})),R()}),L=ps(G,U=>{V=U.docs.map(P=>({id:P.id,...P.data()})),R()});return()=>{I(),k(),L()}},[r?.id]);const f=H.useCallback(N=>{window.speechSynthesis.cancel();const B=new SpeechSynthesisUtterance(N),G=window.speechSynthesis.getVoices(),tt=G.find(J=>J.lang.includes("ko")&&J.name.includes("Google"))||G.find(J=>J.lang.includes("ko")&&(J.name.includes("Female")||J.name.includes("")))||G.find(J=>J.lang.includes("ko"));tt&&(B.voice=tt),B.lang=e?"ko-KR":"en-US",B.rate=1.1,B.pitch=1,window.speechSynthesis.speak(B)},[e]);return{userInfo:r,isCheckedIn:u,myDeposits:p,myWithdraws:v,handleDailyCheckIn:async()=>{if(!u)try{const N=Re(Qt,"settings","global"),B=await Fi(N);if(!B.exists())throw new Error("Database Error");const G=B.data().users||[],tt=Math.floor(Math.random()*1901)+100;let J=0;const V=G.map(I=>I.id===r.id?(J=(I.diamond||0)+tt,{...I,diamond:J}):I);await Hi(N,{users:V}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(I=>({...I,diamond:J})),t&&t(J),hT.postMessage({type:"POINT_UPDATE",userId:r.id,point:J});const R=e?`  ${tt}  .`:`Daily bonus ${tt} diamonds paid.`;f(R),alert(e?`! ${tt.toLocaleString()} DIA .`:`Congrats! ${tt.toLocaleString()} DIA paid.`)}catch(N){console.error(N);const B=1e3;o(G=>({...G,diamond:(G.diamond||0)+B})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(e?`( ) ${B} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(N,B)=>{if(!N.trim()||!B)return alert(e?" .":"Enter info.");try{return await $o(Rn(Qt,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:N,amount:Number(B),status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Deposit requested."),alert(e?" !":"Done!"),!0}catch(G){return alert("Error: "+G.message),!1}},requestWithdraw:async(N,B,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(G!==tt)return alert(e?" ":"PIN mismatch");if(Number(N)>r.diamond)return alert(e?" ":"Not enough balance");try{return await $o(Rn(Qt,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(N),bankInfo:B,status:"pending",timestamp:new Date().toISOString()}),f(e?" .":"Withdrawal requested."),alert(e?" !":"Done!"),!0}catch(J){return alert("Error: "+J.message),!1}},updatePassword:async(N,B,G)=>{if(!N||B!==G)return alert(e?"  .":"Check inputs.");try{const tt=Re(Qt,"settings","global"),J=await Fi(tt);if(J.exists()){const R=(J.data().users||[]).map(I=>I.id===r.id?{...I,password:B}:I);await Hi(tt,{users:R})}return alert(e?"  ":"Success"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updatePin:async(N,B,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(tt&&N!==tt)return alert(e?" PIN ":"Old PIN wrong");if(B!==G||B.length!==6)return alert(e?" PIN  ":"Check New PIN");try{const J=Re(Qt,"settings","global"),V=await Fi(J);if(V.exists()){const R=V.data().users.map(I=>I.id===r.id?{...I,pin:B}:I);await Hi(J,{users:R})}return localStorage.setItem(`user_pin_${r.id}`,B),alert(e?" ":"Done"),!0}catch(J){return alert("Error: "+J.message),!1}},updateAvatar:async(N,B,G)=>{const tt={image:N,idx:B};try{const J=Re(Qt,"settings","global"),V=await Fi(J);if(V.exists()){const R=V.data().users.map(I=>I.id===r.id?{...I,avatar:tt}:I);await Hi(J,{users:R})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(tt)),G&&G(N,B),alert(e?"  ":"Updated"),!0}catch(J){return alert("Error: "+J.message),!1}}}},Ua=({title:n,onBack:t})=>y.jsxs("div",{style:ct.subHeader,children:[y.jsx("button",{onClick:t,style:ct.backBtn,children:""}),y.jsx("span",{style:ct.subTitle,children:n}),y.jsx("div",{style:{width:30}})]}),cN=({onBack:n,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),[m,v]=H.useState(""),x=async()=>{await e(o,c,m)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Change Password",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:"ID"}),y.jsx("input",{style:ct.inputDisabled,value:r.id,disabled:!0})]}),y.jsx("div",{style:{height:20}}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" ":"Old Password"}),y.jsx("input",{type:"password",style:ct.input,value:o,onChange:f=>u(f.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" ":"New Password"}),y.jsx("input",{type:"password",style:ct.input,value:c,onChange:f=>p(f.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Confirm"}),y.jsx("input",{type:"password",style:ct.input,value:m,onChange:f=>v(f.target.value)})]}),y.jsx("button",{style:ct.saveBtn,onClick:x,children:t?"":"Save"})]})]})},fN=({onBack:n,isKo:t,onSubmit:e,userInfo:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),[m,v]=H.useState(""),x=localStorage.getItem(`user_pin_${r.id}`),f=async()=>{await e(o,c,m)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:x?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[x?y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" PIN":"Old PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:_=>u(_.target.value.replace(/[^0-9]/g,""))})]}):null,y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" PIN (6)":"New PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:_=>p(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"PIN ":"Confirm"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:m,onChange:_=>v(_.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:ct.saveBtn,onClick:f,children:t?"":"Done"})]})]})},dN=({onBack:n,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),m=async()=>{await e(o,c)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Deposit",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Name"}),y.jsx("input",{style:ct.input,value:o,onChange:v=>u(v.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ct.input,value:c,onChange:v=>p(v.target.value)})]}),y.jsx("button",{style:ct.saveBtn,onClick:m,children:t?"":"Request"})]})]})},hN=({onBack:n,isKo:t,onSubmit:e,onViewHistory:r})=>{const[o,u]=H.useState(""),[c,p]=H.useState(""),[m,v]=H.useState(""),[x,f]=H.useState(""),[_,T]=H.useState(""),E=async()=>{await e(o,{bank:c,account:m,holder:x},_)&&n()};return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Withdraw",onBack:n}),y.jsxs("div",{style:ct.formArea,children:[y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:y.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?"":"Amount"}),y.jsx("input",{type:"number",style:ct.input,value:o,onChange:C=>u(C.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:t?" ":"Bank Info"}),y.jsx("input",{style:{...ct.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:C=>p(C.target.value)}),y.jsx("input",{style:{...ct.input,marginBottom:5},placeholder:t?"":"Account No",value:m,onChange:C=>v(C.target.value)}),y.jsx("input",{style:ct.input,placeholder:t?"":"Holder",value:x,onChange:C=>f(C.target.value)})]}),y.jsxs("div",{style:ct.inputGroup,children:[y.jsx("label",{style:ct.inputLabel,children:"PIN"}),y.jsx("input",{type:"password",maxLength:6,style:{...ct.input,textAlign:"center",letterSpacing:"8px"},value:_,onChange:C=>T(C.target.value.replace(/[^0-9]/g,""))})]}),y.jsx("button",{style:{...ct.saveBtn,background:"#D4AF37",color:"#000"},onClick:E,children:t?"":"Request"})]})]})},pT=({onBack:n,isKo:t,title:e,data:r})=>y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:e,onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",p=c?"#4cd137":"#fbc531",m=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",v=c?t?"":"Done":t?"":"Pending";return y.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),y.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),y.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),y.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:m,color:p,border:`1px solid ${p}`},children:v})]},u)})})]}),pN=({onBack:n,isKo:t,userId:e})=>{const r=H.useMemo(()=>{if(!e)return[];const o=localStorage.getItem(`event_my_history_${e}`);return o?JSON.parse(o):[]},[e]);return y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"History",onBack:n}),y.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?y.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>y.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[y.jsxs("span",{children:[o.round,t?"":"R"]}),y.jsx("span",{children:o.date})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),y.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},mN=({onBack:n,isKo:t,onChangeView:e})=>y.jsxs("div",{style:ct.container,children:[y.jsx(Ua,{title:t?" ":"Settings",onBack:n}),y.jsxs("div",{style:ct.settingList,children:[y.jsxs("div",{style:ct.settingItem,onClick:()=>e("profile"),children:[y.jsx("span",{style:ct.settingText,children:t?"  ":"Change Password"}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.settingItem,onClick:()=>e("payment_pin"),children:[y.jsx("span",{style:ct.settingText,children:t?" (PIN) ":"Setup PIN"}),y.jsx("span",{style:ct.arrow,children:""})]})]})]});function gN({user:n,onBack:t,onLogout:e,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:p}){const[m,v]=H.useState("main"),x=p.home==="",{userInfo:f,isCheckedIn:_,myDeposits:T,myWithdraws:E,handleDailyCheckIn:C,requestDeposit:M,requestWithdraw:j,updatePassword:N,updatePin:B,updateAvatar:G}=uN(n,c,x),[tt,J]=H.useState(o||0),[V,R]=H.useState(r||null),[I,k]=H.useState(!1);if(!f)return y.jsx("div",{style:ct.loading,children:"SECRET MEMBERSHIP..."});const L=oN(f.diamond);return m==="profile"?y.jsx(cN,{onBack:()=>v("settings"),isKo:x,onSubmit:N,userInfo:f}):m==="payment_pin"?y.jsx(fN,{onBack:()=>v("settings"),isKo:x,onSubmit:B,userInfo:f}):m==="deposit"?y.jsx(dN,{onBack:()=>v("main"),isKo:x,onSubmit:M,onViewHistory:()=>v("deposit_history")}):m==="withdraw"?y.jsx(hN,{onBack:()=>v("main"),isKo:x,onSubmit:j,onViewHistory:()=>v("withdraw_history")}):m==="deposit_history"?y.jsx(pT,{onBack:()=>v("deposit"),isKo:x,title:x?"  ":"Deposit History",data:T}):m==="withdraw_history"?y.jsx(pT,{onBack:()=>v("withdraw"),isKo:x,title:x?"  ":"Withdraw History",data:E}):m==="history"?y.jsx(pN,{onBack:()=>v("main"),isKo:x,userId:f.id}):m==="settings"?y.jsx(mN,{onBack:()=>v("main"),isKo:x,onChangeView:v}):m==="event_donation"?y.jsx(ow,{user:f,userPoint:f.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>v("main"),t:p}):y.jsxs("div",{style:ct.container,children:[y.jsxs("div",{style:ct.topBar,children:[y.jsx("button",{onClick:t,style:ct.backBtn,children:""}),y.jsx("span",{style:ct.topTitle,children:"PRIVATE LOUNGE"}),y.jsx("span",{onClick:()=>v("settings"),style:ct.settingsIcon,children:""})]}),y.jsx("div",{style:ct.profileHeaderMain,children:y.jsxs("div",{style:ct.profileInfoMain,children:[y.jsxs("div",{style:ct.avatarWrapper,children:[y.jsx("div",{style:ct.avatarLarge,children:r?y.jsx("img",{src:r,alt:"profile",style:ct.imgFull}):y.jsx("img",{src:lw(o,f.id),alt:"avatar",style:ct.imgFull})}),y.jsx("button",{style:ct.editBadgeOutside,onClick:()=>k(!0),children:x?"":"Edit"})]}),y.jsxs("div",{style:ct.userTextMain,children:[y.jsxs("div",{style:ct.userIdMain,children:[f.name||f.id," ",y.jsx("span",{style:{...ct.vipBadge,background:L.color,color:"#000"},children:L.name})]}),y.jsxs("div",{style:ct.tierContainer,children:[y.jsxs("div",{style:ct.tierText,children:[x?" ":"Next Tier",": ",L.next.toLocaleString()]}),y.jsx("div",{style:ct.tierBarOuter,children:y.jsx("div",{style:{...ct.tierBarInner,width:`${L.per}%`,background:L.color}})})]}),y.jsxs("div",{style:ct.userNoMain,children:["UID: ",f.no||"000000"]})]})]})}),y.jsxs("div",{style:ct.balanceCard,children:[y.jsxs("div",{style:ct.balanceItem,children:[y.jsx("div",{style:ct.label,children:x?" ":"Diamonds"}),y.jsxs("div",{style:ct.value,children:[" ",f.diamond?.toLocaleString()??0]})]}),y.jsx("div",{style:ct.divider}),y.jsxs("div",{style:{...ct.balanceItem,cursor:_?"default":"pointer"},onClick:C,children:[y.jsx("div",{style:{...ct.label,color:_?"#444":"#D4AF37"},children:_?x?" ":"Claimed":x?" ":"Daily Bonus"}),y.jsx("div",{style:ct.value,children:_?"":""})]})]}),y.jsxs("div",{style:ct.menuList,children:[y.jsxs("div",{style:ct.goldMenu,onClick:()=>v("event_donation"),children:[y.jsxs("div",{style:ct.goldMenuContent,children:[y.jsx("div",{style:ct.goldTag,children:"HOT"}),y.jsx("span",{style:ct.goldMenuTitle,children:x?"  ":"Join Event"})]}),y.jsx("span",{children:""})]}),y.jsxs("div",{style:ct.menuGroup,children:[y.jsxs("div",{style:ct.menuItem,onClick:()=>v("deposit"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",x?" ":"Deposit"]}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.menuItem,onClick:()=>v("withdraw"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",x?" ":"Withdraw"]}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.menuItem,onClick:()=>v("history"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",x?" ":"History"]}),y.jsx("span",{style:ct.arrow,children:""})]}),y.jsxs("div",{style:ct.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[y.jsxs("span",{style:ct.menuTitle,children:["  ",x?"1:1  ":"1:1 Support"]}),y.jsx("span",{style:ct.arrow,children:""})]})]}),y.jsx("button",{onClick:e,style:{...ct.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:x?"":"LOG OUT"})]}),I&&y.jsx(lN,{userId:f.id,tempSelectedIdx:tt,tempUploadedImg:V,setTempSelectedIdx:J,setTempUploadedImg:R,onClose:()=>k(!1),onApply:()=>G(V,tt,u).then(U=>U&&k(!1)),onRandom:()=>{R(null),J(Math.floor(Math.random()*_d.length))}})]})}function yN({user:n,onUpdatePoint:t,appAvatarImage:e,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:p,dashStyles:m,isGuest:v,members:x=[],regions:f=[],slideImages:_=[],videos:T=[],videoCategories:E=[],innerLogo:C,telegramLink:M="https://t.me/your_address"}){const[j,N]=H.useState("home"),[B,G]=H.useState(null),[tt,J]=H.useState(""),[V,R]=H.useState(""),[I,k]=H.useState(!1),[L,U]=H.useState(!1),P=async()=>{if(v)return alert("  .");const pt=(Number(n?.diamond)||0)+1e5;if(t(pt),n?.id)try{const vt=Re(Qt,"users",n.id);await Hi(vt,{diamond:pt,lastBonusDate:new Date().toISOString()}),alert("  10   !")}catch(vt){console.error("   :",vt),alert("  .   .")}},Ct=T.filter(nt=>tt==="ALL"||!tt?!0:nt.category===tt),Ft=x.filter(nt=>!V||V===""||V==="ALL"?!0:nt.region===V),[W,rt]=H.useState(()=>{const nt=localStorage.getItem("live_count"),pt=nt?parseInt(nt):142;return pt>=123&&pt<=179?pt:145});H.useEffect(()=>{const nt=setInterval(()=>{rt(pt=>{const vt=Math.random();let St=vt<.45?1:vt<.9?-1:vt<.95?2:-2,Tt=pt+St;return Tt<=123&&(Tt=125),Tt>=179&&(Tt=177),localStorage.setItem("live_count",Tt),Tt})},5e3);return()=>clearInterval(nt)},[]);const Q=H.useCallback(()=>{document.getElementById("full-screen-view")||B||document.getElementById("manager-detail-view")||(j!=="home"?N("home"):U(!0),window.history.pushState(null,""))},[B,j]);H.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",Q),()=>window.removeEventListener("popstate",Q)),[Q]);const $=nt=>{if(v&&(nt==="event"||nt==="mypage")){alert(p==="ko"?"   .":"Authorized Members Only.");return}nt==="event"?(k(!0),N(nt),setTimeout(()=>k(!1),800)):N(nt)},at=nt=>{G(nt),N("manager"),window.history.pushState({isDetail:!0},"")},O=()=>{M?window.open(M,"_blank"):alert(p==="ko"?"   .":"Link not set.")};H.useEffect(()=>{window.scrollTo(0,0)},[j]);const q=()=>{switch(j){case"home":return y.jsx(p5,{t:u,innerLogo:C,slideImages:_,members:x,setActiveTab:N,openDetail:at,handleTelegram:O,matchingCount:W,onClaimBonus:P});case"manager":return y.jsx(m5,{t:u,regions:f,selectedRegion:V,setSelectedRegion:R,filteredMembers:Ft,initialMember:B,onCloseDetail:()=>G(null)});case"event":return I?y.jsxs("div",{style:ni.loadingContainer,children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("div",{style:ni.loadingText,children:p==="ko"?"   ...":"Loading Private Benefits..."})]}):y.jsx(ow,{t:u,user:n,userPoint:n?.diamond||0,onUpdatePoint:t,onBack:()=>N("home"),confirmedImage:e,confirmedAvatarIdx:r});case"video":return y.jsx(g5,{t:u,videoCategories:E,selectedCategory:tt,setSelectedCategory:J,filteredVideos:Ct});case"mypage":return y.jsx(gN,{t:u,user:n,onBack:()=>N("home"),onLogout:()=>U(!0),confirmedImage:e,confirmedAvatarIdx:r,onAvatarChange:o,s:ni});default:return null}};return y.jsxs("div",{style:{...m.container,background:"#080808",zIndex:10,position:"relative"},children:[y.jsxs("div",{style:{...m.contentArea,background:"transparent"},children:[j!=="home"&&j!=="event"&&j!=="mypage"&&y.jsx("div",{style:ni.topStatus,children:y.jsxs("div",{style:ni.statusInner,children:[y.jsx("span",{className:"dot-active"}),y.jsx("span",{style:ni.statusText,children:"LIVE CONNECTED : "}),y.jsxs("b",{style:ni.statusCount,children:[W," MEMBERS"]})]})}),q()]}),L&&y.jsx("div",{style:ni.modalOverlay,onClick:()=>U(!1),children:y.jsxs("div",{style:{...ni.modalContent,textAlign:"center"},onClick:nt=>nt.stopPropagation(),children:[y.jsx("h3",{style:ni.modalName,children:u.logout}),y.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:p==="ko"?"  ?":"Are you sure you want to log out?"}),y.jsxs("div",{style:ni.modalBtnGroup,children:[y.jsx("button",{onClick:c,style:ni.mMatchBtn,children:u.logout}),y.jsx("button",{onClick:()=>U(!1),style:ni.mCloseBtn,children:p==="ko"?"":"CANCEL"})]})]})}),y.jsx("nav",{style:{...m.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(nt=>y.jsxs("div",{onClick:()=>$(nt.key),style:{...m.navItem,color:j===nt.key?"#D4AF37":"#555"},children:[y.jsx("span",{style:{fontSize:22,filter:j===nt.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:nt.icon}),y.jsx("span",{style:{fontSize:10,fontWeight:800},children:nt.label})]},nt.key))}),y.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const ni={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},vN="dwla93cgd",_N="daisy_upload",mT=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",e=new FormData;e.append("file",n),e.append("upload_preset",_N);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${vN}/${t}/upload`,{method:"POST",body:e})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function xN({adminPreviewMode:n,setAdminPreviewMode:t,hero:e,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:p,logoSize:m,setLogoSize:v,logoPos:x,setLogoPos:f,innerLogo:_,setInnerLogo:T,onExit:E,members:C,setMembers:M,slideImages:j,setSlideImages:N,videos:B,setVideos:G,adminPw:tt,setAdminPw:J,telegramLink:V,setTelegramLink:R,saveToFirebase:I,syncToFirebase:k,openIndependent:L,styles:U}){const P={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},Ct=Object.keys(P),Ft=["","","","",""],W={name:"",region:"",loc:P.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[rt,Q]=H.useState(W),[$,at]=H.useState(null),[O,q]=H.useState(!1),[nt,pt]=H.useState(""),[vt,St]=H.useState(""),[Tt,At]=H.useState(!1),[wt,ne]=H.useState(!1),[Ee,nn]=H.useState(null),[ke,hn]=H.useState(""),oi=ot=>{Q({...rt,region:ot,loc:P[ot][0]})},An=ot=>{at(ot.id),Q(ot),At(!0);const gt=document.getElementById("manager-modal-scroll");gt&&gt.scrollTo({top:0,behavior:"smooth"})},je=async()=>{if(O)return alert("  .  .");if(!rt.img||!rt.name)return alert("   .");let ot;$?(ot=C.map(ie=>ie.id===$?{...rt,id:$}:ie),at(null)):ot=[...C,{...rt,id:Date.now()}],M(ot),q(!0);const gt=await k({members:ot});q(!1),gt&&(Q(W),alert("    ! "))},li=async()=>{if(!ke)return alert("   .");let ot;Ee?(ot=B.map(ie=>ie.id===Ee?{...ie,url:ke,category:nt,description:vt}:ie),nn(null)):ot=[...B,{id:Date.now(),url:ke,category:nt,description:vt}],G(ot),q(!0);const gt=await k({videos:ot});q(!1),gt&&(hn(""),St(""),alert("   ! "))},Yt=async(ot,gt,ie)=>{const Bt=ot.target.files?.[0];if(Bt)try{q(!0);const te=await mT(Bt);if(te){ie(te);let de={};gt==="logo"?de={logo:te}:gt==="innerLogo"?de={innerLogo:te}:gt==="heroImg"&&(de={hero:{...e,imageSrc:te,mode:"image"}}),Object.keys(de).length>0&&await k(de)}}catch(te){console.error("  :",te)}finally{q(!1),ot.target.value=""}},Ot=async()=>{q(!0);const ot=await k({telegramLink:V,adminPw:tt});q(!1),ot&&alert("      ! ")};return y.jsxs("div",{style:Nt.cms,children:[y.jsxs("div",{style:Nt.toggleArea,children:[y.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Nt.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),y.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Nt.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("h3",{style:Nt.mainTitle,children:"SERVER ADMIN PANEL"}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"    "}),y.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[y.jsx("button",{onClick:()=>r({...e,mode:"image"}),style:{...Nt.modeBtn,background:e.mode==="image"?"#fff":"#333",color:e.mode==="image"?"#000":"#888"},children:" "}),y.jsx("button",{onClick:()=>r({...e,mode:"video"}),style:{...Nt.modeBtn,background:e.mode==="video"?"#fff":"#333",color:e.mode==="video"?"#000":"#888"},children:" "})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>Yt(ot,"heroImg",gt=>r({...e,imageSrc:gt,mode:"image"}))}),e.imageSrc&&y.jsx("img",{src:e.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),y.jsx("input",{type:"file",accept:"video/*",style:Nt.fileInput,onChange:ot=>Yt(ot,"heroVid",gt=>{u(gt),r({...e,mode:"video"})})}),o&&y.jsx("div",{style:{marginTop:5},children:y.jsx("p",{style:Nt.checkText,children:"  "})})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"    "}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>Yt(ot,"logo",p)}),y.jsxs("div",{style:Nt.rangeRow,children:[y.jsxs("span",{children:[": ",m,"px"]}),y.jsx("input",{type:"range",min:"40",max:"600",value:m,onChange:ot=>v(+ot.target.value)})]}),y.jsxs("div",{style:Nt.rangeGrid,children:[y.jsxs("div",{children:[y.jsx("span",{children:"(Y)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:x.y,onChange:ot=>f({...x,y:+ot.target.value})})]}),y.jsxs("div",{children:[y.jsx("span",{children:"(X)"}),y.jsx("input",{type:"range",min:"0",max:"1000",value:x.x,onChange:ot=>f({...x,x:+ot.target.value})})]})]})]})]}),y.jsxs("div",{style:{...Nt.sectionBox,borderColor:"#FFD700"},children:[y.jsx("label",{style:{...Nt.sectionLabel,color:"#FFD700"},children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (Inner Logo)"}),y.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:ot=>Yt(ot,"innerLogo",T)}),_&&y.jsx("img",{src:_,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   (X  )"}),y.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Nt.fileInput,onChange:async ot=>{const gt=Array.from(ot.target.files);q(!0);const Bt=(await Promise.all(gt.map(de=>mT(de)))).filter(de=>de).map(de=>({id:Date.now()+Math.random(),url:de})),te=[...j,...Bt];N(te),await k({slideImages:te}),q(!1),ot.target.value=""}}),y.jsx("div",{style:Nt.bannerList,children:j.map(ot=>y.jsxs("div",{style:Nt.bannerThumb,children:[y.jsx("img",{src:ot.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:async()=>{const gt=j.filter(ie=>ie.id!==ot.id);N(gt),await k({slideImages:gt})},style:Nt.bannerDelBtn,children:""})]},ot.id))})]})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"   "}),y.jsxs("button",{onClick:()=>At(!0),style:Nt.modalOpenBtn,children:["   (",C.length,")"]}),y.jsxs("button",{onClick:()=>ne(!0),style:{...Nt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",B.length,")"]}),y.jsx("button",{onClick:()=>L&&L(),style:{...Nt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),y.jsxs("div",{style:Nt.sectionBox,children:[y.jsx("label",{style:Nt.sectionLabel,children:"  "}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"   "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"@TelegramID",value:V||"",onChange:ot=>R(ot.target.value)})]}),y.jsxs("div",{style:Nt.fieldGroup,children:[y.jsx("label",{style:Nt.fieldLabel,children:"  "}),y.jsx("input",{type:"text",style:Nt.textInput,placeholder:"  ",value:tt||"",onChange:ot=>J(ot.target.value)})]}),y.jsx("button",{onClick:Ot,style:{...Nt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),y.jsx("button",{style:{...Nt.saveExitBtn,background:O?"#ffb347":"#fff",cursor:O?"wait":"pointer"},onClick:async()=>{if(O)return;q(!0);const ot=setTimeout(()=>{E()},5e3);try{I&&await I(),clearTimeout(ot),E()}catch{E()}finally{q(!1)}},children:O?"   ...":"    "})]}),Tt&&y.jsx("div",{style:ce.overlay,children:y.jsxs("div",{id:"manager-modal-scroll",style:ce.container,children:[y.jsxs("div",{style:ce.header,children:[y.jsx("h2",{style:{color:"#ffb347"},children:$?"  ":"  "}),y.jsx("button",{onClick:()=>{At(!1),at(null),Q(W)},style:ce.closeBtn,children:""})]}),y.jsxs("div",{style:ce.formBox,children:[y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[y.jsx("select",{value:rt.region,onChange:ot=>oi(ot.target.value),style:ce.select,children:Ct.map(ot=>y.jsx("option",{value:ot,children:ot},ot))}),y.jsx("select",{value:rt.loc,onChange:ot=>Q({...rt,loc:ot.target.value}),style:ce.select,children:P[rt.region].map(ot=>y.jsx("option",{value:ot,children:ot},ot))})]}),y.jsxs("div",{style:{display:"flex",gap:10},children:[y.jsx("input",{style:{...ce.input,flex:2},placeholder:" ",value:rt.name,onChange:ot=>Q({...rt,name:ot.target.value})}),y.jsx("input",{style:{...ce.input,flex:1},placeholder:"",value:rt.age,onChange:ot=>Q({...rt,age:ot.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[y.jsx("input",{style:ce.input,placeholder:" (cm)",value:rt.height,onChange:ot=>Q({...rt,height:ot.target.value})}),y.jsx("input",{style:ce.input,placeholder:" (kg)",value:rt.weight,onChange:ot=>Q({...rt,weight:ot.target.value})}),y.jsx("input",{style:ce.input,placeholder:" ()",value:rt.bust,onChange:ot=>Q({...rt,bust:ot.target.value})})]}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"image/*",onChange:ot=>Yt(ot,"image",gt=>Q({...rt,img:gt}))}),rt.img&&y.jsx("img",{src:rt.img,style:ce.previewImg,alt:"p"})]}),y.jsxs("div",{style:{flex:1},children:[y.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),y.jsx("input",{type:"file",accept:"video/*",onChange:ot=>Yt(ot,"video",gt=>Q({...rt,video:gt}))}),rt.video&&y.jsx("video",{src:rt.video,style:ce.previewImg,controls:!0})]})]}),y.jsx("button",{onClick:je,style:ce.actionBtn,children:$?" ":" "})]}),y.jsx("div",{style:ce.list,children:C.map(ot=>y.jsxs("div",{style:ce.listItem,children:[y.jsxs("span",{children:["[",ot.loc,"] ",ot.name," (",ot.age?ot.age+"":"",")"]}),y.jsxs("div",{children:[y.jsx("button",{onClick:()=>An(ot),style:ce.editBtn,children:""}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const gt=C.filter(ie=>ie.id!==ot.id);M(gt),await k({members:gt})}},style:ce.delBtn,children:""})]})]},ot.id))})]})}),wt&&y.jsx("div",{style:ce.overlay,children:y.jsxs("div",{id:"video-modal-scroll",style:{...ce.container,border:"2px solid #2196F3"},children:[y.jsxs("div",{style:ce.header,children:[y.jsx("h2",{style:{color:"#2196F3"},children:Ee?"  ":"  "}),y.jsx("button",{onClick:()=>{ne(!1),nn(null),St(""),hn("")},style:ce.closeBtn,children:""})]}),y.jsxs("div",{style:ce.formBox,children:[y.jsx("select",{value:nt,onChange:ot=>pt(ot.target.value),style:ce.select,children:Ft.map(ot=>y.jsx("option",{value:ot,children:ot},ot))}),y.jsx("input",{style:{...ce.input,marginTop:10},placeholder:" ",value:vt,onChange:ot=>St(ot.target.value)}),y.jsx("input",{type:"file",accept:"video/*",onChange:ot=>Yt(ot,"video",gt=>hn(gt))}),ke&&y.jsx("video",{src:ke,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),y.jsx("button",{onClick:li,style:{...ce.actionBtn,background:"#2196F3"},children:" "})]}),y.jsx("div",{style:ce.list,children:B.map(ot=>y.jsxs("div",{style:ce.listItem,children:[y.jsx("video",{src:ot.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),y.jsx("div",{style:{flex:1,marginLeft:10},children:y.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:ot.description})}),y.jsx("button",{onClick:async()=>{if(confirm("?")){const gt=B.filter(ie=>ie.id!==ot.id);G(gt),await k({videos:gt})}},style:ce.delBtn,children:""})]},ot.id))})]})})]})}const Nt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ce={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},_t={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Vo={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},bN=(n,t)=>{const[e,r]=H.useState(n||[]),[o,u]=H.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[c,p]=H.useState(0),[m,v]=H.useState({}),[x,f]=H.useState([]),[_,T]=H.useState([]),[E,C]=H.useState([]),[M,j]=H.useState([]),[N,B]=H.useState([]),[G,tt]=H.useState([]),[J,V]=H.useState(""),[R,I]=H.useState(""),k=H.useMemo(()=>{const $=Date.now();return e.filter(at=>at.lastActive&&$-at.lastActive<6e4)},[e]);return H.useEffect(()=>{(async()=>{const at=JSON.parse(localStorage.getItem("users")||"[]");if(at.length!==0){for(const O of at)if(O.id)try{const q=Re(Qt,"users",O.id);(await Fi(q)).exists()||await Fo(q,O,{merge:!0})}catch(q){console.error(" :",q)}}})()},[]),H.useEffect(()=>{const $=ps(Rn(Qt,"users"),Tt=>{const At=Tt.docs.map(wt=>({id:wt.id,...wt.data()}));At.length>0&&(At.sort((wt,ne)=>(ne.lastActive||0)-(wt.lastActive||0)),r(At),t&&t(At))}),at=ps(Rn(Qt,"event_manipulation"),Tt=>{const At={};Tt.forEach(wt=>{At[wt.id]=wt.data().winner||wt.data().items}),v(At)}),O=ps(Vr(Rn(Qt,"event_bets"),Vf("round","desc"),Xm(100)),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),At.length>0&&T(At)}),q=ps(Vr(Rn(Qt,"deposit_requests"),Vf("timestamp","desc")),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),C(At)}),nt=ps(Vr(Rn(Qt,"withdraw_requests"),Vf("timestamp","desc")),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),j(At)}),pt=ps(Vr(Rn(Qt,"finance_history"),Vf("completedAt","desc"),Xm(50)),Tt=>{const At=[];Tt.forEach(wt=>At.push({id:wt.id,...wt.data()})),B(At)});tt(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const vt=JSON.parse(localStorage.getItem("event_total_history")||"[]");f(vt.sort((Tt,At)=>At.round-Tt.round));const St=setInterval(()=>{const At=Date.now()-Vo.START_TIME,wt=Vo.BASE_ROUND+Math.floor(At/(Vo.ROUND_DURATION*1e3)),ne=Vo.ROUND_DURATION*1e3-At%(Vo.ROUND_DURATION*1e3);let Ee=Math.floor(ne/1e3);Ee>=Vo.ROUND_DURATION&&(Ee=0),u({currentRound:wt,timeLeft:Ee,isDrawing:Ee<=5}),p(nn=>nn===0?wt+1:nn)},1e3);return()=>{$(),at(),O(),q(),nt(),pt(),clearInterval(St)}},[r]),{users:e,currentInfo:o,targetRound:c,setTargetRound:p,queue:m,deleteQueue:async $=>{try{await om(Re(Qt,"event_manipulation",String($)));const at={...m};delete at[$],v(at)}catch{alert(" ")}},gameHistory:x,sponsorships:_,activeUsers:k,depositRequests:E,withdrawRequests:M,financeHistory:N,approveDeposit:async $=>{if(window.confirm(`${$.userId} ${$.amount.toLocaleString()} DIA  ?`))try{const at=Re(Qt,"users",$.userId),O=await Fi(at),nt=(O.exists()&&O.data().diamond||0)+$.amount;await Hi(at,{diamond:nt}),await $o(Rn(Qt,"finance_history"),{...$,type:"",status:"",completedAt:new Date().toISOString()}),await om(Re(Qt,"deposit_requests",$.id)),alert("  !")}catch(at){alert(" : "+at.message)}},approveWithdraw:async $=>{if(window.confirm(`${$.userId}  () ?`))try{const at=Re(Qt,"users",$.userId),O=await Fi(at),q=O.exists()&&O.data().diamond||0;if(q<$.amount&&!window.confirm(`[]  (${q}).  ?`))return;const nt=q-$.amount;await Hi(at,{diamond:nt}),await $o(Rn(Qt,"finance_history"),{...$,type:"",status:"",completedAt:new Date().toISOString()}),await om(Re(Qt,"withdraw_requests",$.id)),alert("  !")}catch(at){alert(" : "+at.message)}},agents:G,newAgentName:J,setNewAgentName:V,newAgentCode:R,setNewAgentCode:I,addAgent:()=>{if(!J)return;const $=[...G,{name:J,code:R,id:Date.now()}];tt($),localStorage.setItem("daisy_agents",JSON.stringify($)),V(""),I("")},handleApplyManipulation:async $=>{if(!$)return alert(" .");try{return await Fo(Re(Qt,"event_manipulation",String(c)),{winner:$,updatedAt:new Date().toISOString()}),v({...m,[c]:$}),alert(`[${c}]  [${$}] !`),!0}catch(at){return alert(": "+at.message),!1}},updateFullUserInfo:async($,at,O,q)=>{const nt=parseInt(at);if(isNaN(nt))return alert(" .");if(window.confirm(`[${$}]  ?`))try{await Hi(Re(Qt,"users",$),{diamond:nt,refCode:O||"",referral:q||""}),alert(`[${$}]  `)}catch(pt){alert(" : "+pt.message)}},handleChangeUserPassword:async $=>{const at=window.prompt(`[${$}]   :`);if(at)try{await Hi(Re(Qt,"users",$),{password:at}),alert("  ")}catch(O){alert(" : "+O.message)}},handleChangeAdminPassword:async()=>{const $=window.prompt(" ' (game)'   :");if($)try{await Fo(Re(Qt,"settings","global"),{gamePw:$},{merge:!0}),localStorage.setItem("daisy_game_password",$),alert(`  : ${$}`)}catch(at){alert(" : "+at.message)}}}},TN=({depositRequests:n,withdrawRequests:t,approveDeposit:e,approveWithdraw:r})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:" /  "}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),y.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>e(o),style:_t.giantBtn,children:""})})]},o.id))})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{children:[y.jsx("b",{children:o.userId}),y.jsx("br",{}),y.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),y.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),y.jsx("td",{children:y.jsx("button",{onClick:()=>r(o),style:{..._t.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),SN=({financeHistory:n})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  /  "}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),y.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),y.jsx("td",{children:y.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),y.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),y.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),AN=({currentInfo:n,targetRound:t,setTargetRound:e,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,p]=H.useState(null);return y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"   "}),y.jsxs("div",{style:_t.monitorBox,children:[y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[n.currentRound,""]})]}),y.jsxs("div",{children:[" : ",y.jsxs("b",{style:{fontSize:"24px",color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]}),y.jsxs("div",{children:[": ",y.jsx("span",{style:{color:n.isDrawing?"#ff3b30":"#00e676"},children:n.isDrawing?"":""})]})]}),y.jsxs("div",{style:{marginTop:30},children:[y.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),y.jsx("input",{type:"number",placeholder:"",value:t,onChange:m=>e(parseInt(m.target.value)),style:_t.adminInput}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[y.jsxs("div",{onClick:()=>p("PLAYER"),style:{..._t.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"PLAYER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),y.jsxs("div",{onClick:()=>p("TIE"),style:{..._t.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"TIE"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),y.jsxs("div",{onClick:()=>p("BANKER"),style:{..._t.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d",cursor:"pointer",textAlign:"center",padding:"20px"},children:[y.jsx("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"BANKER"}),y.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),y.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(m=>{m&&p(null)})},style:{..._t.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5,marginTop:"20px",width:"100%",padding:"15px",fontSize:"18px",fontWeight:"bold",border:"none",borderRadius:"8px"},children:[t,"  ",y.jsxs("b",{children:["[",c,"]"]})," "]})]}),y.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[y.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?y.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([m,v])=>y.jsxs("div",{style:_t.queueRow,children:[y.jsxs("div",{children:[y.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[m,""]}),y.jsxs("span",{style:{fontWeight:"bold",color:v==="PLAYER"?"#4d94ff":v==="BANKER"?"#ff4d4d":"#00e676"},children:[v," WIN"]})]}),y.jsx("button",{onClick:()=>o(m),style:_t.delBtn,children:""})]},m))]})]})},EN=({users:n,updateFullUserInfo:t,handleChangeUserPassword:e})=>{const[r,o]=H.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("span",{style:{fontSize:24},children:""}),y.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:_t.searchInputField})]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:u.map(c=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?y.jsx("span",{style:{color:"#0f0"},children:""}):y.jsx("span",{style:{color:"#444"},children:""})}),y.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),y.jsxs("td",{style:{color:"#ffb347"},children:[" ",(c.diamond||0).toLocaleString()]}),y.jsx("td",{children:y.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:_t.giantInput})}),y.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[y.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:_t.giantBtn,children:""}),y.jsx("button",{onClick:()=>e(c.id),style:{..._t.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},wN=({agents:n,users:t,newAgentName:e,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:p})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[y.jsx("input",{placeholder:"",value:e,onChange:m=>r(m.target.value),style:_t.giantInput}),y.jsx("input",{placeholder:"",value:o,onChange:m=>u(m.target.value),style:_t.giantInput}),y.jsx("button",{onClick:c,style:_t.giantBtn,children:""})]}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(m=>{const v=t.filter(x=>x.referral===m.code);return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347",fontSize:18},children:m.name}),y.jsx("td",{children:m.code}),y.jsx("td",{style:{color:"#00ff00"},children:v.length}),y.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:v.map(x=>x.id).join(", ")}),y.jsx("td",{children:y.jsx("button",{onClick:()=>{const x=n.filter(f=>f.id!==m.id);p(x),localStorage.setItem("daisy_agents",JSON.stringify(x))},style:_t.delBtn,children:""})})]},m.id)})})]})]}),CN=({users:n,updateFullUserInfo:t})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:" "}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(e=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{children:e.id}),y.jsx("td",{children:y.jsx("input",{id:`rc-${e.id}`,defaultValue:e.refCode||"",style:_t.giantInput})}),y.jsx("td",{children:y.jsx("input",{id:`rf-${e.id}`,defaultValue:e.referral||"",style:{..._t.giantInput,color:"#0ff"}})}),y.jsx("td",{children:y.jsx("button",{onClick:()=>t(e.id,e.diamond,document.getElementById(`rc-${e.id}`).value,document.getElementById(`rf-${e.id}`).value),style:_t.giantBtn,children:""})})]},e.id))})]})]}),RN=({gameHistory:n})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"  "}),y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map(t=>y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),y.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,") ",t.isPP&&y.jsx("small",{style:{color:"#4d94ff"},children:"PP"})," ",t.isBP&&y.jsx("small",{style:{color:"#ff4d4d"},children:"BP"})]})]},t.round))})]})]}),IN=({sponsorships:n})=>y.jsxs("div",{style:_t.card,children:[y.jsx("h1",{style:_t.bigTabTitle,children:"   "}),y.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:y.jsxs("table",{style:_t.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:"ID"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:n.map((t,e)=>{const r=t.bets?Object.entries(t.bets).map(([o,u])=>`${o.substring(0,1)}:${(u/1e3).toFixed(1)}k`).join(" "):Array.isArray(t.picks)?t.picks.join(", "):t.pick;return y.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[y.jsx("td",{style:{color:"#ffb347"},children:t.round}),y.jsx("td",{children:y.jsx("b",{children:t.userId})}),y.jsx("td",{style:{color:"#aaa",fontSize:"12px"},children:r}),y.jsx("td",{style:{color:"#fff",fontWeight:"bold"},children:t.betAmount?.toLocaleString()}),y.jsx("td",{children:t.result?y.jsx("span",{style:{color:"#0f0"},children:t.result}):y.jsx("span",{style:{color:"#888"},children:""})})]},e)})})]})})]});function DN({users:n,setUsers:t,onExit:e}){const[r,o]=H.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:p,queue:m,deleteQueue:v,gameHistory:x,sponsorships:f,activeUsers:_,depositRequests:T,withdrawRequests:E,financeHistory:C,approveDeposit:M,approveWithdraw:j,agents:N,setAgents:B,newAgentName:G,setNewAgentName:tt,newAgentCode:J,setNewAgentCode:V,addAgent:R,handleApplyManipulation:I,updateFullUserInfo:k,handleChangeUserPassword:L,handleChangeAdminPassword:U}=bN(n,t);return y.jsxs("div",{style:_t.container,children:[y.jsxs("aside",{style:_t.sidebar,children:[y.jsx("h2",{style:_t.title,children:"CASINO MASTER"}),y.jsxs("div",{style:_t.onlineBadge,children:[y.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),y.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",_.length,""]})]}),y.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?_t.menuActive:_t.menu,children:[" /  ",y.jsx("span",{style:_t.countTag,children:T.length+E.length})]}),y.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),y.jsx("div",{onClick:()=>o("event"),style:r==="event"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("users"),style:r==="users"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("history"),style:r==="history"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?_t.menuActive:_t.menu,children:"  "}),y.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:y.jsx("button",{onClick:U,style:{..._t.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),y.jsx("button",{onClick:e,style:_t.exitBtn,children:" "})]}),y.jsxs("main",{style:_t.main,children:[r==="requests"&&y.jsx(TN,{depositRequests:T,withdrawRequests:E,approveDeposit:M,approveWithdraw:j}),r==="finance"&&y.jsx(SN,{financeHistory:C}),r==="event"&&y.jsx(AN,{currentInfo:u,targetRound:c,setTargetRound:p,queue:m,deleteQueue:v,handleApplyManipulation:I}),r==="users"&&y.jsx(EN,{users:n,updateFullUserInfo:k,handleChangeUserPassword:L}),r==="referrals"&&y.jsx(CN,{users:n,updateFullUserInfo:k}),r==="agents"&&y.jsx(wN,{agents:N,setAgents:B,users:n,newAgentName:G,setNewAgentName:tt,newAgentCode:J,setNewAgentCode:V,addAgent:R}),r==="history"&&y.jsx(RN,{gameHistory:x}),r==="sponsorships"&&y.jsx(IN,{sponsorships:f})]})]})}const VN=new BroadcastChannel("daisy_global_channel"),gT=[""," "," ","","","","","","",""],yT=["","","","",""],cn=(n,t)=>{try{const e=localStorage.getItem(n);if(!e)return t;const r=JSON.parse(e);return r===null?t:r}catch{return t}},fn=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(e){e.name==="QuotaExceededError"&&alert("Storage quota exceeded!")}},vT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:"",input_id_pw:"  .",id_exists:"  .",signup_ok:" !",login_fail:"  ."},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE",input_id_pw:"Please enter ID and Password.",id_exists:"ID already exists.",signup_ok:"Sign up successful!",login_fail:"Login Failed"}};function jN(){const[n,t]=H.useState(()=>cn("lang","ko")),[e,r]=H.useState(()=>cn("loggedIn",!1)),[o,u]=H.useState(()=>cn("isAdmin",!1)),[c,p]=H.useState(()=>cn("isGuest",!1)),[m,v]=H.useState(()=>cn("users",[])),[x,f]=H.useState(()=>cn("currentUser",null)),[_,T]=H.useState(null),[E,C]=H.useState(0),[M,j]=H.useState(!1),[N,B]=H.useState(()=>cn("adminPw","123456")),[G,tt]=H.useState(()=>cn("gamePw","1234")),[J,V]=H.useState(()=>cn("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[R,I]=H.useState(!0),[k,L]=H.useState(()=>cn("members",[])),[U,P]=H.useState(()=>cn("slideImages",[])),[Ct,Ft]=H.useState(()=>cn("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[W,rt]=H.useState(()=>cn("videoURL",null)),[Q,$]=H.useState(()=>cn("videos",[])),[at,O]=H.useState(()=>cn("logo",null)),[q,nt]=H.useState(()=>cn("logoSize",140)),[pt,vt]=H.useState(()=>cn("logoPos",{x:0,y:0})),[St,Tt]=H.useState(()=>cn("innerLogo",null)),[At,wt]=H.useState("dashboard"),ne=H.useMemo(()=>vT[n]||vT.ko,[n]);H.useEffect(()=>{const Ot=ps(Re(Qt,"settings","global"),ot=>{if(ot.exists()){const gt=ot.data();gt.hero&&Ft(gt.hero),gt.videoURL!==void 0&&rt(gt.videoURL),gt.logo!==void 0&&O(gt.logo),gt.logoSize&&nt(gt.logoSize),gt.logoPos&&vt(gt.logoPos),gt.members&&L(gt.members),gt.slideImages&&P(gt.slideImages),gt.videos&&$(gt.videos),gt.innerLogo!==void 0&&Tt(gt.innerLogo),gt.adminPassword?B(gt.adminPassword):gt.adminPw&&B(gt.adminPw),gt.gamePw&&tt(gt.gamePw),gt.telegramLink&&V(gt.telegramLink)}});return()=>Ot()},[]);const Ee=async Ot=>{try{const ot={hero:Ct,videoURL:W,logo:at,logoSize:q,logoPos:pt,members:k,slideImages:U,videos:Q,innerLogo:St,adminPw:N,gamePw:G,telegramLink:J,...Ot};return await Fo(Re(Qt,"settings","global"),ot,{merge:!0}),console.log(" Server Sync Complete"),!0}catch(ot){return console.error(" Sync Failed:",ot),!1}},nn=async()=>await Ee({}),ke=H.useCallback((Ot,ot,gt,ie)=>{v(Bt=>Bt.map(te=>te.id===Ot?{...te,diamond:ot,refCode:gt,referral:ie}:te)),f(Bt=>Bt?.id===Ot?{...Bt,diamond:ot,refCode:gt,referral:ie}:Bt)},[]);H.useEffect(()=>{VN.onmessage=ot=>{const{type:gt,userId:ie,point:Bt,refCode:te,referral:de}=ot.data||{};(gt==="USER_UPDATE"||gt==="POINT_UPDATE")&&ie&&ke(ie,Bt,te,de)};const Ot=ot=>{const{userId:gt,point:ie,refCode:Bt,referral:te}=ot.detail||{};gt&&ke(gt,ie,Bt,te)};return window.addEventListener("user_point_update",Ot),()=>window.removeEventListener("user_point_update",Ot)},[ke]),H.useEffect(()=>{fn("lang",n),fn("loggedIn",e),fn("isAdmin",o),fn("isGuest",c),fn("users",m),fn("currentUser",x),fn("members",k),fn("hero",Ct),fn("logo",at),fn("logoSize",q),fn("logoPos",pt),fn("slideImages",U),fn("videoURL",W),fn("videos",Q),fn("innerLogo",St),fn("adminPw",N),fn("gamePw",G),fn("telegramLink",J)},[n,e,o,c,m,x,Ct,at,q,pt,k,U,W,Q,St,N,G,J]);const hn=async(Ot,ot)=>{let gt=N,ie=G;try{const Bt=await Fi(Re(Qt,"settings","global"));if(Bt.exists()){const te=Bt.data();te.adminPw&&(gt=te.adminPw),te.gamePw&&(ie=te.gamePw),B(gt),tt(ie)}}catch{console.error("Setting Load Fail")}if(Ot==="game")if(ot===ie){j(!0),r(!0);return}else return alert("   .");if(Ot==="admin")if(ot===gt){u(!0),r(!0),f({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),wt("dashboard");return}else return alert("   .");try{const Bt=Re(Qt,"users",Ot),te=await Fi(Bt);if(te.exists()){const de=te.data();de.password===ot?(f(de),r(!0),p(!1),Hi(Bt,{lastActive:Date.now()})):alert(ne.login_fail||"  .")}else{const de=m.find(Gi=>Gi.id===Ot&&Gi.pw===ot);de?(await Fo(Re(Qt,"users",Ot),de,{merge:!0}),f(de),r(!0),p(!1)):alert(ne.login_fail||"  .")}}catch(Bt){console.error(Bt),alert("Login Error")}},oi=async(Ot,ot,gt,ie)=>{if(!Ot||!ot)return alert(ne.input_id_pw||"ID/PW Required");try{const Bt=Re(Qt,"users",Ot);if((await Fi(Bt)).exists()){alert(ne.id_exists||"ID exists");return}const de={id:Ot,password:ot,nickname:gt||Ot,referral:ie||"",diamond:0,rewards:0,lastActive:Date.now(),createdAt:new Date().toISOString()};await Fo(Bt,de),v(Gi=>[...Gi,de]),alert(ne.signup_ok||"Welcome!")}catch(Bt){console.error(Bt),alert("Signup Error")}},An=()=>{r(!1),u(!1),p(!1),j(!1),f(null)},je=(Ot,ot)=>{T(Ot),C(ot)};if(M)return y.jsx(DN,{users:m,setUsers:v,onExit:An});const li=e&&x,Yt=!li||o&&At==="landing";return y.jsxs("div",{style:{...Aa.app,height:"100vh",overflow:"hidden"},children:[R&&!o&&li&&!Yt&&y.jsx("div",{style:Aa.popupOverlay,children:y.jsxs("div",{style:Aa.popupContent,children:[y.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),y.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),y.jsx("button",{onClick:()=>I(!1),style:Aa.popupBtn,children:ne.close})]})}),Yt?y.jsx("div",{style:{height:"100%",overflowY:"auto"},children:y.jsx(h5,{t:ne,lang:n,users:m,setUsers:v,hero:Ct,videoURL:W,logo:at,logoSize:q,logoPos:pt,styles:Aa,isAdmin:o,setLang:t,onLogin:hn,onSignup:oi,onGuestLogin:()=>{f({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),p(!0)},syncToFirebase:Ee})}):y.jsx(yN,{user:x,onUpdatePoint:Ot=>ke(x.id,Ot,x.refCode,x.referral),appAvatarImage:_,appAvatarIdx:E,onAvatarChange:je,t:ne,lang:n,isGuest:c,members:k,regions:gT,slideImages:U,videos:Q,videoCategories:yT,innerLogo:St,telegramLink:J,onLogout:An,dashStyles:MN}),o&&y.jsx(xN,{adminPreviewMode:At,setAdminPreviewMode:wt,hero:Ct,setHero:Ft,setVideoURL:rt,videoURL:W,logo:at,setLogo:O,logoSize:q,setLogoSize:nt,logoPos:pt,setLogoPos:vt,members:k,setMembers:L,regions:gT,slideImages:U,setSlideImages:P,videos:Q,setVideos:$,videoCategories:yT,innerLogo:St,setInnerLogo:Tt,onExit:An,styles:Aa,adminPw:N,setAdminPw:B,telegramLink:J,setTelegramLink:V,openIndependent:()=>j(!0),saveToFirebase:nn,syncToFirebase:Ee}),!o&&Yt&&y.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:y.jsx("button",{style:Aa.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Aa={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},MN={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};W2.createRoot(document.getElementById("root")).render(y.jsx(H.StrictMode,{children:y.jsx(jN,{})}));

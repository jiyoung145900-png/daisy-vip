(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var kp={exports:{}},ru={};var r1;function R2(){if(r1)return ru;r1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return ru.Fragment=t,ru.jsx=i,ru.jsxs=i,ru}var a1;function I2(){return a1||(a1=1,kp.exports=R2()),kp.exports}var m=I2(),Bp={exports:{}},Lt={};var o1;function D2(){if(o1)return Lt;o1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function Q(O,J,at){this.props=O,this.context=J,this.refs=U,this.updater=at||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=Q.prototype;function q(O,J,at){this.props=O,this.context=J,this.refs=U,this.updater=at||N}var G=q.prototype=new L;G.constructor=q,B(G,Q.prototype),G.isPureReactComponent=!0;var tt=Array.isArray;function et(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(O,J,at){var ht=at.ref;return{$$typeof:n,type:O,key:J,ref:ht!==void 0?ht:null,props:at}}function j(O,J){return w(O.type,J,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return J[at]})}var I=/\/+/g;function At(O,J){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):J.toString(36)}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(et,et):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function M(O,J,at,ht,gt){var dt=typeof O;(dt==="undefined"||dt==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(dt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case n:case t:_t=!0;break;case v:return _t=O._init,M(_t(O._payload),J,at,ht,gt)}}if(_t)return gt=gt(O),_t=ht===""?"."+At(O,0):ht,tt(gt)?(at="",_t!=null&&(at=_t.replace(I,"$&/")+"/"),M(gt,J,at,"",function(vn){return vn})):gt!=null&&(V(gt)&&(gt=j(gt,at+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+_t)),J.push(gt)),1;_t=0;var se=ht===""?".":ht+":";if(tt(O))for(var Xt=0;Xt<O.length;Xt++)ht=O[Xt],dt=se+At(ht,Xt),_t+=M(ht,J,at,dt,gt);else if(Xt=D(O),typeof Xt=="function")for(O=Xt.call(O),Xt=0;!(ht=O.next()).done;)ht=ht.value,dt=se+At(ht,Xt++),_t+=M(ht,J,at,dt,gt);else if(dt==="object"){if(typeof O.then=="function")return M(Ft(O),J,at,ht,gt);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _t}function K(O,J,at){if(O==null)return O;var ht=[],gt=0;return M(O,ht,"","",function(dt){return J.call(at,dt,gt++)}),ht}function $(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},vt={map:K,forEach:function(O,J,at){K(O,function(){J.apply(this,arguments)},at)},count:function(O){var J=0;return K(O,function(){J++}),J},toArray:function(O){return K(O,function(J){return J})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Lt.Activity=b,Lt.Children=vt,Lt.Component=Q,Lt.Fragment=i,Lt.Profiler=o,Lt.PureComponent=q,Lt.StrictMode=r,Lt.Suspense=g,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Lt.cache=function(O){return function(){return O.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(O,J,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=B({},O.props),gt=O.key;if(J!=null)for(dt in J.key!==void 0&&(gt=""+J.key),J)!A.call(J,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&J.ref===void 0||(ht[dt]=J[dt]);var dt=arguments.length-2;if(dt===1)ht.children=at;else if(1<dt){for(var _t=Array(dt),se=0;se<dt;se++)_t[se]=arguments[se+2];ht.children=_t}return w(O.type,gt,ht)},Lt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Lt.createElement=function(O,J,at){var ht,gt={},dt=null;if(J!=null)for(ht in J.key!==void 0&&(dt=""+J.key),J)A.call(J,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(gt[ht]=J[ht]);var _t=arguments.length-2;if(_t===1)gt.children=at;else if(1<_t){for(var se=Array(_t),Xt=0;Xt<_t;Xt++)se[Xt]=arguments[Xt+2];gt.children=se}if(O&&O.defaultProps)for(ht in _t=O.defaultProps,_t)gt[ht]===void 0&&(gt[ht]=_t[ht]);return w(O,dt,gt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(O){return{$$typeof:d,render:O}},Lt.isValidElement=V,Lt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:$}},Lt.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Lt.startTransition=function(O){var J=R.T,at={};R.T=at;try{var ht=O(),gt=R.S;gt!==null&&gt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(et,pt)}catch(dt){pt(dt)}finally{J!==null&&at.types!==null&&(J.types=at.types),R.T=J}},Lt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Lt.use=function(O){return R.H.use(O)},Lt.useActionState=function(O,J,at){return R.H.useActionState(O,J,at)},Lt.useCallback=function(O,J){return R.H.useCallback(O,J)},Lt.useContext=function(O){return R.H.useContext(O)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(O,J){return R.H.useDeferredValue(O,J)},Lt.useEffect=function(O,J){return R.H.useEffect(O,J)},Lt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Lt.useId=function(){return R.H.useId()},Lt.useImperativeHandle=function(O,J,at){return R.H.useImperativeHandle(O,J,at)},Lt.useInsertionEffect=function(O,J){return R.H.useInsertionEffect(O,J)},Lt.useLayoutEffect=function(O,J){return R.H.useLayoutEffect(O,J)},Lt.useMemo=function(O,J){return R.H.useMemo(O,J)},Lt.useOptimistic=function(O,J){return R.H.useOptimistic(O,J)},Lt.useReducer=function(O,J,at){return R.H.useReducer(O,J,at)},Lt.useRef=function(O){return R.H.useRef(O)},Lt.useState=function(O){return R.H.useState(O)},Lt.useSyncExternalStore=function(O,J,at){return R.H.useSyncExternalStore(O,J,at)},Lt.useTransition=function(){return R.H.useTransition()},Lt.version="19.2.3",Lt}var l1;function dg(){return l1||(l1=1,Bp.exports=D2()),Bp.exports}var F=dg(),zp={exports:{}},au={},Up={exports:{}},Fp={};var u1;function V2(){return u1||(u1=1,(function(n){function t(M,K){var $=M.length;M.push(K);t:for(;0<$;){var pt=$-1>>>1,vt=M[pt];if(0<o(vt,K))M[pt]=K,M[$]=vt,$=pt;else break t}}function i(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],$=M.pop();if($!==K){M[0]=$;t:for(var pt=0,vt=M.length,O=vt>>>1;pt<O;){var J=2*(pt+1)-1,at=M[J],ht=J+1,gt=M[ht];if(0>o(at,$))ht<vt&&0>o(gt,at)?(M[pt]=gt,M[ht]=$,pt=ht):(M[pt]=at,M[J]=$,pt=J);else if(ht<vt&&0>o(gt,$))M[pt]=gt,M[ht]=$,pt=ht;else break t}}return K}function o(M,K){var $=M.sortIndex-K.sortIndex;return $!==0?$:M.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],y=[],v=1,b=null,S=3,D=!1,N=!1,B=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var K=i(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=M)r(y),K.sortIndex=K.expirationTime,t(g,K);else break;K=i(y)}}function tt(M){if(B=!1,G(M),!N)if(i(g)!==null)N=!0,et||(et=!0,k());else{var K=i(y);K!==null&&Ft(tt,K.startTime-M)}}var et=!1,R=-1,A=5,w=-1;function j(){return U?!0:!(n.unstable_now()-w<A)}function V(){if(U=!1,et){var M=n.unstable_now();w=M;var K=!0;try{t:{N=!1,B&&(B=!1,L(R),R=-1),D=!0;var $=S;try{e:{for(G(M),b=i(g);b!==null&&!(b.expirationTime>M&&j());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,S=b.priorityLevel;var vt=pt(b.expirationTime<=M);if(M=n.unstable_now(),typeof vt=="function"){b.callback=vt,G(M),K=!0;break e}b===i(g)&&r(g),G(M)}else r(g);b=i(g)}if(b!==null)K=!0;else{var O=i(y);O!==null&&Ft(tt,O.startTime-M),K=!1}}break t}finally{b=null,S=$,D=!1}K=void 0}}finally{K?k():et=!1}}}var k;if(typeof q=="function")k=function(){q(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,At=I.port2;I.port1.onmessage=V,k=function(){At.postMessage(null)}}else k=function(){Q(V,0)};function Ft(M,K){R=Q(function(){M(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(M){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var $=S;S=K;try{return M()}finally{S=$}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=S;S=M;try{return K()}finally{S=$}},n.unstable_scheduleCallback=function(M,K,$){var pt=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pt+$:pt):$=pt,M){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=$+vt,M={id:v++,callback:K,priorityLevel:M,startTime:$,expirationTime:vt,sortIndex:-1},$>pt?(M.sortIndex=$,t(y,M),i(g)===null&&M===i(y)&&(B?(L(R),R=-1):B=!0,Ft(tt,$-pt))):(M.sortIndex=vt,t(g,M),N||D||(N=!0,et||(et=!0,k()))),M},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(M){var K=S;return function(){var $=S;S=K;try{return M.apply(this,arguments)}finally{S=$}}}})(Fp)),Fp}var c1;function j2(){return c1||(c1=1,Up.exports=V2()),Up.exports}var qp={exports:{}},_n={};var f1;function M2(){if(f1)return _n;f1=1;var n=dg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,v)},_n.flushSync=function(g){var y=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=y,r.p=v,r.d.f()}},_n.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},_n.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},_n.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:D}):v==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},_n.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=d(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},_n.requestFormReset=function(g){r.d.r(g)},_n.unstable_batchedUpdates=function(g,y){return g(y)},_n.useFormState=function(g,y,v){return c.H.useFormState(g,y,v)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.3",_n}var h1;function N2(){if(h1)return qp.exports;h1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qp.exports=M2(),qp.exports}var d1;function O2(){if(d1)return au;d1=1;var n=j2(),t=dg(),i=N2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return g(h),e;if(p===l)return g(h),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=p;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=p;break}if(E===l){_=!0,l=h,a=p;break}E=E.sibling}if(!_){for(E=p.child;E;){if(E===a){_=!0,a=p,l=h;break}if(E===l){_=!0,l=p,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case tt:return"Suspense";case et:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case q:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case G:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return s=e.displayName||null,s!==null?s:At(e.type)||"Memo";case A:s=e._payload,e=e._init;try{return At(e(s))}catch{}}return null}var Ft=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},pt=[],vt=-1;function O(e){return{current:e}}function J(e){0>vt||(e.current=pt[vt],pt[vt]=null,vt--)}function at(e,s){vt++,pt[vt]=e.current,e.current=s}var ht=O(null),gt=O(null),dt=O(null),_t=O(null);function se(e,s){switch(at(dt,s),at(gt,e),at(ht,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Rx(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Rx(s),e=Ix(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ht),at(ht,e)}function Xt(){J(ht),J(gt),J(dt)}function vn(e){e.memoizedState!==null&&at(_t,e);var s=ht.current,a=Ix(s,e.type);s!==a&&(at(gt,e),at(ht,a))}function zn(e){gt.current===e&&(J(ht),J(gt)),_t.current===e&&(J(_t),eu._currentValue=$)}var Un,xn;function bn(e){if(Un===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Un=s&&s[1]||"",xn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+e+xn}var ii=!1;function Ei(e,s){if(!e||ii)return"";ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(it){var Z=it}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(it){Z=it}e.call(ct.prototype)}}else{try{throw Error()}catch(it){Z=it}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(it){if(it&&Z&&typeof it.stack=="string")return[it.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),_=p[0],E=p[1];if(_&&E){var P=_.split(`
`),X=E.split(`
`);for(h=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(l===P.length||h===X.length)for(l=P.length-1,h=X.length-1;1<=l&&0<=h&&P[l]!==X[h];)h--;for(;1<=l&&0<=h;l--,h--)if(P[l]!==X[h]){if(l!==1||h!==1)do if(l--,h--,0>h||P[l]!==X[h]){var st=`
`+P[l].replace(" at new "," at ");return e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",e.displayName)),st}while(1<=l&&0<=h);break}}}finally{ii=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bn(a):""}function Ai(e,s){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==s&&s!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Ei(e.type,!1);case 11:return Ei(e.type.render,!1);case 1:return Ei(e.type,!0);case 31:return bn("Activity");default:return""}}function ys(e){try{var s="",a=null;do s+=Ai(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,rt=n.unstable_cancelCallback,wt=n.unstable_shouldYield,St=n.unstable_requestPaint,te=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,si=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,Uh=n.unstable_LowPriority,Qu=n.unstable_IdlePriority,Wu=n.log,Xu=n.unstable_setDisableYieldValue,wi=null,ln=null;function ri(e){if(typeof Wu=="function"&&Xu(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(wi,e)}catch{}}var Me=Math.clz32?Math.clz32:Zu,$u=Math.log,Ua=Math.LN2;function Zu(e){return e>>>=0,e===0?32:31-($u(e)/Ua|0)|0}var Ui=256,Kr=262144,Be=4194304;function Fi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,p=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?h=Fi(l):(_&=E,_!==0?h=Fi(_):a||(a=E&~e,a!==0&&(h=Fi(a))))):(E=l&~p,E!==0?h=Fi(E):_!==0?h=Fi(_):a||(a=l&~e,a!==0&&(h=Fi(a)))),h===0?0:s!==0&&s!==h&&(s&p)===0&&(p=h&-h,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:h}function Ci(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Fh(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function Hi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Qr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,s,a,l,h,p){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,P=e.expirationTimes,X=e.hiddenUpdates;for(a=_&~a;0<a;){var st=31-Me(a),ct=1<<st;E[st]=0,P[st]=-1;var Z=X[st];if(Z!==null)for(X[st]=null,st=0;st<Z.length;st++){var it=Z[st];it!==null&&(it.lane&=-536870913)}a&=~ct}l!==0&&Wr(e,l,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(_&~s))}function Wr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Me(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function al(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Me(a),h=1<<l;h&s|e[l]&s&&(e[l]|=s),a&=~h}}function ol(e,s){var a=s&-s;return a=(a&42)!==0?1:Xr(a),(a&(e.suspendedLanes|s))!==0?0:a}function Xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Zx(e.type))}function Ri(e,s){var a=K.p;try{return K.p=e,s()}finally{K.p=a}}var Ii=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ii,en="__reactProps$"+Ii,Gi="__reactContainer$"+Ii,Fa="__reactEvents$"+Ii,Hh="__reactListeners$"+Ii,ec="__reactHandles$"+Ii,nc="__reactResources$"+Ii,Yi="__reactMarker$"+Ii;function qa(e){delete e[ze],delete e[en],delete e[Fa],delete e[Hh],delete e[ec]}function Ki(e){var s=e[ze];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Gi]||a[ze]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Px(e);e!==null;){if(a=e[ze])return a;e=Px(e)}return s}e=a,a=e.parentNode}return null}function ai(e){if(e=e[ze]||e[Gi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Fn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Qi(e){var s=e[nc];return s||(s=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(e){e[Yi]=!0}var ll=new Set,ul={};function Wi(e,s){Xi(e,s),Xi(e+"Capture",s)}function Xi(e,s){for(ul[e]=s,e=0;e<s.length;e++)ll.add(s[e])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},hl={};function ic(e){return re.call(hl,e)?!0:re.call(fl,e)?!1:cl.test(e)?hl[e]=!0:(fl[e]=!0,!1)}function Ha(e,s,a){if(ic(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function qn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Fe(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gs(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dl(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,p.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function fe(e){if(!e._valueTracker){var s=Gs(e)?"checked":"value";e._valueTracker=dl(e,s,""+e[s])}}function $r(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Gs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zr=/[\n"\\]/g;function Dn(e){return e.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ga(e,s,a,l,h,p,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+nn(s)):e.value!==""+nn(s)&&(e.value=""+nn(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?pl(e,_,nn(s)):a!=null?pl(e,_,nn(a)):l!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function sc(e,s,a,l,h,p,_,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){fe(e);return}a=a!=null?""+nn(a):"",s=s!=null?""+nn(s):a,E||s===e.value||(e.value=s),e.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),fe(e)}function pl(e,s,a){s==="number"&&$i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ys(e,s,a,l){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function rc(e,s,a){if(s!=null&&(s=""+nn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+nn(a):""}function Ks(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=nn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),fe(e)}function Vn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||ac.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function gl(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&ml(e,h,l)}else for(var p in s)s.hasOwnProperty(p)&&ml(e,p,s[p])}function Ya(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(e){return Qs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Di(){}var yl=null;function oi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ws=null,Zi=null;function Jr(e){var s=ai(e);if(s&&(e=s.stateNode)){var a=e[en]||null;t:switch(e=s.stateNode,s.type){case"input":if(Ga(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var h=l[en]||null;if(!h)throw Error(r(90));Ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&$r(l)}break t;case"textarea":rc(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ys(e,!!a.multiple,s,!1)}}}var Qa=!1;function Xs(e,s,a){if(Qa)return e(s,a);Qa=!0;try{var l=e(s);return l}finally{if(Qa=!1,(Ws!==null||Zi!==null)&&(tf(),Ws&&(s=Ws,e=Zi,Zi=Ws=null,Jr(s),e)))for(s=0;s<e.length;s++)Jr(e[s])}}function Vi(e,s){var a=e.stateNode;if(a===null)return null;var l=a[en]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(li)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){ta=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{ta=!1}var Ji=null,vl=null,ea=null;function xl(){if(ea)return ea;var e,s=vl,a=s.length,l,h="value"in Ji?Ji.value:Ji.textContent,p=h.length;for(e=0;e<a&&s[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===h[p-l];l++);return ea=h.slice(e,1<l?1-l:void 0)}function na(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function ji(){return!1}function un(e){function s(a,l,h,p,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?xs:ji,this.isPropagationStopped=ji,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),s}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=un(bs),$s=b({},bs,{view:0,detail:0}),bl=un($s),Zs,Wa,es,Xa=b({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(Zs=e.screenX-es.screenX,Wa=e.screenY-es.screenY):Wa=Zs=0,es=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),_l=un(Xa),ia=b({},Xa,{dataTransfer:0}),lc=un(ia),uc=b({},$s,{relatedTarget:0}),sa=un(uc),Tl=b({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=un(Tl),$a=b({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fc=un($a),hc=b({},bs,{data:0}),ns=un(hc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=mc[e])?!!s[e]:!1}function Js(){return gc}var wn=b({},$s,{key:function(e){if(e.key){var s=dc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yc=un(wn),vc=b({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=un(vc),f=b({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),x=un(f),T=b({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=un(T),Y=b({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=un(Y),mt=b({},bs,{newState:0,oldState:0}),Bt=un(mt),Ne=[9,13,27,32],oe=li&&"CompositionEvent"in window,Ee=null;li&&"documentMode"in document&&(Ee=document.documentMode);var ui=li&&"TextEvent"in window&&!Ee,is=li&&(!oe||Ee&&8<Ee&&11>=Ee),Mi=" ",Ni=!1;function ra(e,s){switch(e){case"keyup":return Ne.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function ZA(e,s){switch(e){case"compositionend":return Za(s);case"keypress":return s.which!==32?null:(Ni=!0,Mi);case"textInput":return e=s.data,e===Mi&&Ni?null:e;default:return null}}function JA(e,s){if(Ja)return e==="compositionend"||!oe&&ra(e,s)?(e=xl(),ea=vl=Ji=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!tw[e.type]:s==="textarea"}function zy(e,s,a,l){Ws?Zi?Zi.push(l):Zi=[l]:Ws=l,s=lf(s,"onChange"),0<s.length&&(a=new ts("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Sl=null,El=null;function ew(e){Tx(e,0)}function xc(e){var s=Fn(e);if($r(s))return e}function Uy(e,s){if(e==="change")return s}var Fy=!1;if(li){var Gh;if(li){var Yh="oninput"in document;if(!Yh){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),Yh=typeof qy.oninput=="function"}Gh=Yh}else Gh=!1;Fy=Gh&&(!document.documentMode||9<document.documentMode)}function Hy(){Sl&&(Sl.detachEvent("onpropertychange",Gy),El=Sl=null)}function Gy(e){if(e.propertyName==="value"&&xc(El)){var s=[];zy(s,El,e,oi(e)),Xs(ew,s)}}function nw(e,s,a){e==="focusin"?(Hy(),Sl=s,El=a,Sl.attachEvent("onpropertychange",Gy)):e==="focusout"&&Hy()}function iw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(El)}function sw(e,s){if(e==="click")return xc(s)}function rw(e,s){if(e==="input"||e==="change")return xc(s)}function aw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Hn=typeof Object.is=="function"?Object.is:aw;function Al(e,s){if(Hn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!re.call(s,h)||!Hn(e[h],s[h]))return!1}return!0}function Yy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ky(e,s){var a=Yy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yy(a)}}function Qy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Qy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Wy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=$i(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=$i(e.document)}return s}function Kh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var ow=li&&"documentMode"in document&&11>=document.documentMode,to=null,Qh=null,wl=null,Wh=!1;function Xy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||to==null||to!==$i(l)||(l=to,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&Al(wl,l)||(wl=l,l=lf(Qh,"onSelect"),0<l.length&&(s=new ts("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=to)))}function aa(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var eo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Xh={},$y={};li&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function oa(e){if(Xh[e])return Xh[e];if(!eo[e])return e;var s=eo[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in $y)return Xh[e]=s[a];return e}var Zy=oa("animationend"),Jy=oa("animationiteration"),t0=oa("animationstart"),lw=oa("transitionrun"),uw=oa("transitionstart"),cw=oa("transitioncancel"),e0=oa("transitionend"),n0=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Oi(e,s){n0.set(e,s),Wi(s,[e])}var bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],no=0,Zh=0;function _c(){for(var e=no,s=Zh=no=0;s<e;){var a=ci[s];ci[s++]=null;var l=ci[s];ci[s++]=null;var h=ci[s];ci[s++]=null;var p=ci[s];if(ci[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}p!==0&&i0(a,h,p)}}function Tc(e,s,a,l){ci[no++]=e,ci[no++]=s,ci[no++]=a,ci[no++]=l,Zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jh(e,s,a,l){return Tc(e,s,a,l),Sc(e)}function la(e,s){return Tc(e,null,null,s),Sc(e)}function i0(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=e.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&s!==null&&(h=31-Me(a),e=p.hiddenUpdates,l=e[h],l===null?e[h]=[s]:l.push(s),s.lane=a|536870912),p):null}function Sc(e){if(50<Ql)throw Ql=0,lp=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var io={};function fw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,s,a,l){return new fw(e,s,a,l)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ts(e,s){var a=e.alternate;return a===null?(a=Gn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function s0(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Ec(e,s,a,l,h,p){var _=0;if(l=e,typeof e=="function")td(e)&&(_=1);else if(typeof e=="string")_=g2(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Gn(31,a,s,h),e.elementType=w,e.lanes=p,e;case B:return ua(a.children,h,p,s);case U:_=8,h|=24;break;case Q:return e=Gn(12,a,s,h|2),e.elementType=Q,e.lanes=p,e;case tt:return e=Gn(13,a,s,h),e.elementType=tt,e.lanes=p,e;case et:return e=Gn(19,a,s,h),e.elementType=et,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:_=10;break t;case L:_=9;break t;case G:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Gn(_,a,s,h),s.elementType=e,s.type=l,s.lanes=p,s}function ua(e,s,a,l){return e=Gn(7,e,l,s),e.lanes=a,e}function ed(e,s,a){return e=Gn(6,e,null,s),e.lanes=a,e}function r0(e){var s=Gn(18,null,null,0);return s.stateNode=e,s}function nd(e,s,a){return s=Gn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var a0=new WeakMap;function fi(e,s){if(typeof e=="object"&&e!==null){var a=a0.get(e);return a!==void 0?a:(s={value:e,source:s,stack:ys(s)},a0.set(e,s),s)}return{value:e,source:s,stack:ys(s)}}var so=[],ro=0,Ac=null,Cl=0,hi=[],di=0,tr=null,ss=1,rs="";function Ss(e,s){so[ro++]=Cl,so[ro++]=Ac,Ac=e,Cl=s}function o0(e,s,a){hi[di++]=ss,hi[di++]=rs,hi[di++]=tr,tr=e;var l=ss;e=rs;var h=32-Me(l)-1;l&=~(1<<h),a+=1;var p=32-Me(s)+h;if(30<p){var _=h-h%5;p=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ss=1<<32-Me(s)+h|a<<h|l,rs=p+e}else ss=1<<p|a<<h|l,rs=e}function id(e){e.return!==null&&(Ss(e,1),o0(e,1,0))}function sd(e){for(;e===Ac;)Ac=so[--ro],so[ro]=null,Cl=so[--ro],so[ro]=null;for(;e===tr;)tr=hi[--di],hi[di]=null,rs=hi[--di],hi[di]=null,ss=hi[--di],hi[di]=null}function l0(e,s){hi[di++]=ss,hi[di++]=rs,hi[di++]=tr,ss=s.id,rs=s.overflow,tr=e}var cn=null,_e=null,Wt=!1,er=null,pi=!1,rd=Error(r(519));function nr(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(fi(s,e)),rd}function u0(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[ze]=e,s[en]=l,a){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Ht(Xl[a],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),sc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),Ks(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||wx(s.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),l.onScroll!=null&&Ht("scroll",s),l.onScrollEnd!=null&&Ht("scrollend",s),l.onClick!=null&&(s.onclick=Di),s=!0):s=!1,s||nr(e,!0)}function c0(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:cn=cn.return}}function ao(e){if(e!==cn)return!1;if(!Wt)return c0(e),Wt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sp(e.type,e.memoizedProps)),a=!a),a&&_e&&nr(e),c0(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=Ox(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=Ox(e)}else s===27?(s=_e,gr(e.type)?(e=Rp,Rp=null,_e=e):_e=s):_e=cn?gi(e.stateNode.nextSibling):null;return!0}function ca(){_e=cn=null,Wt=!1}function ad(){var e=er;return e!==null&&(On===null?On=e:On.push.apply(On,e),er=null),e}function Rl(e){er===null?er=[e]:er.push(e)}var od=O(null),fa=null,Es=null;function ir(e,s,a){at(od,s._currentValue),s._currentValue=a}function As(e){e._currentValue=od.current,J(od)}function ld(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function ud(e,s,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;t:for(;p!==null;){var E=p;p=h;for(var P=0;P<s.length;P++)if(E.context===s[P]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),ld(p.return,a,e),l||(_=null);break t}p=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,p=_.alternate,p!==null&&(p.lanes|=a),ld(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function oo(e,s,a,l){e=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;Hn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(eu):e=[eu])}h=h.return}e!==null&&ud(s,e,a,l),s.flags|=262144}function wc(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){fa=e,Es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return f0(fa,e)}function Cc(e,s){return fa===null&&ha(e),f0(e,s)}function f0(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Es===null){if(e===null)throw Error(r(308));Es=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Es=Es.next=s;return a}var hw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},dw=n.unstable_scheduleCallback,pw=n.unstable_NormalPriority,qe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new hw,data:new Map,refCount:0}}function Il(e){e.refCount--,e.refCount===0&&dw(pw,function(){e.controller.abort()})}var Dl=null,fd=0,lo=0,uo=null;function mw(e,s){if(Dl===null){var a=Dl=[];fd=0,lo=pp(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fd++,s.then(h0,h0),s}function h0(){if(--fd===0&&Dl!==null){uo!==null&&(uo.status="fulfilled");var e=Dl;Dl=null,lo=0,uo=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function gw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var d0=M.S;M.S=function(e,s){Xv=te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mw(e,s),d0!==null&&d0(e,s)};var da=O(null);function hd(){var e=da.current;return e!==null?e:ve.pooledCache}function Rc(e,s){s===null?at(da,da.current):at(da,s.pool)}function p0(){var e=hd();return e===null?null:{parent:qe._currentValue,pool:e}}var co=Error(r(460)),dd=Error(r(474)),Ic=Error(r(542)),Dc={then:function(){}};function m0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function g0(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Di,Di),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,v0(e),e;default:if(typeof s.status=="string")s.then(Di,Di);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,v0(e),e}throw ma=s,co}}function pa(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,co):a}}var ma=null;function y0(){if(ma===null)throw Error(r(459));var e=ma;return ma=null,e}function v0(e){if(e===co||e===Ic)throw Error(r(483))}var fo=null,Vl=0;function Vc(e){var s=Vl;return Vl+=1,fo===null&&(fo=[]),g0(fo,e,s)}function jl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function jc(e,s){throw s.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function x0(e){function s(H,z){if(e){var W=H.deletions;W===null?(H.deletions=[z],H.flags|=16):W.push(z)}}function a(H,z){if(!e)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function l(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function h(H,z){return H=Ts(H,z),H.index=0,H.sibling=null,H}function p(H,z,W){return H.index=W,e?(W=H.alternate,W!==null?(W=W.index,W<z?(H.flags|=67108866,z):W):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function _(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function E(H,z,W,ot){return z===null||z.tag!==6?(z=ed(W,H.mode,ot),z.return=H,z):(z=h(z,W),z.return=H,z)}function P(H,z,W,ot){var Ct=W.type;return Ct===B?st(H,z,W.props.children,ot,W.key):z!==null&&(z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===A&&pa(Ct)===z.type)?(z=h(z,W.props),jl(z,W),z.return=H,z):(z=Ec(W.type,W.key,W.props,null,H.mode,ot),jl(z,W),z.return=H,z)}function X(H,z,W,ot){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=nd(W,H.mode,ot),z.return=H,z):(z=h(z,W.children||[]),z.return=H,z)}function st(H,z,W,ot,Ct){return z===null||z.tag!==7?(z=ua(W,H.mode,ot,Ct),z.return=H,z):(z=h(z,W),z.return=H,z)}function ct(H,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ed(""+z,H.mode,W),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return W=Ec(z.type,z.key,z.props,null,H.mode,W),jl(W,z),W.return=H,W;case N:return z=nd(z,H.mode,W),z.return=H,z;case A:return z=pa(z),ct(H,z,W)}if(Ft(z)||k(z))return z=ua(z,H.mode,W,null),z.return=H,z;if(typeof z.then=="function")return ct(H,Vc(z),W);if(z.$$typeof===q)return ct(H,Cc(H,z),W);jc(H,z)}return null}function Z(H,z,W,ot){var Ct=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ct!==null?null:E(H,z,""+W,ot);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return W.key===Ct?P(H,z,W,ot):null;case N:return W.key===Ct?X(H,z,W,ot):null;case A:return W=pa(W),Z(H,z,W,ot)}if(Ft(W)||k(W))return Ct!==null?null:st(H,z,W,ot,null);if(typeof W.then=="function")return Z(H,z,Vc(W),ot);if(W.$$typeof===q)return Z(H,z,Cc(H,W),ot);jc(H,W)}return null}function it(H,z,W,ot,Ct){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return H=H.get(W)||null,E(z,H,""+ot,Ct);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case D:return H=H.get(ot.key===null?W:ot.key)||null,P(z,H,ot,Ct);case N:return H=H.get(ot.key===null?W:ot.key)||null,X(z,H,ot,Ct);case A:return ot=pa(ot),it(H,z,W,ot,Ct)}if(Ft(ot)||k(ot))return H=H.get(W)||null,st(z,H,ot,Ct,null);if(typeof ot.then=="function")return it(H,z,W,Vc(ot),Ct);if(ot.$$typeof===q)return it(H,z,W,Cc(z,ot),Ct);jc(z,ot)}return null}function Tt(H,z,W,ot){for(var Ct=null,ne=null,Et=z,Ut=z=0,Yt=null;Et!==null&&Ut<W.length;Ut++){Et.index>Ut?(Yt=Et,Et=null):Yt=Et.sibling;var ie=Z(H,Et,W[Ut],ot);if(ie===null){Et===null&&(Et=Yt);break}e&&Et&&ie.alternate===null&&s(H,Et),z=p(ie,z,Ut),ne===null?Ct=ie:ne.sibling=ie,ne=ie,Et=Yt}if(Ut===W.length)return a(H,Et),Wt&&Ss(H,Ut),Ct;if(Et===null){for(;Ut<W.length;Ut++)Et=ct(H,W[Ut],ot),Et!==null&&(z=p(Et,z,Ut),ne===null?Ct=Et:ne.sibling=Et,ne=Et);return Wt&&Ss(H,Ut),Ct}for(Et=l(Et);Ut<W.length;Ut++)Yt=it(Et,H,Ut,W[Ut],ot),Yt!==null&&(e&&Yt.alternate!==null&&Et.delete(Yt.key===null?Ut:Yt.key),z=p(Yt,z,Ut),ne===null?Ct=Yt:ne.sibling=Yt,ne=Yt);return e&&Et.forEach(function(_r){return s(H,_r)}),Wt&&Ss(H,Ut),Ct}function It(H,z,W,ot){if(W==null)throw Error(r(151));for(var Ct=null,ne=null,Et=z,Ut=z=0,Yt=null,ie=W.next();Et!==null&&!ie.done;Ut++,ie=W.next()){Et.index>Ut?(Yt=Et,Et=null):Yt=Et.sibling;var _r=Z(H,Et,ie.value,ot);if(_r===null){Et===null&&(Et=Yt);break}e&&Et&&_r.alternate===null&&s(H,Et),z=p(_r,z,Ut),ne===null?Ct=_r:ne.sibling=_r,ne=_r,Et=Yt}if(ie.done)return a(H,Et),Wt&&Ss(H,Ut),Ct;if(Et===null){for(;!ie.done;Ut++,ie=W.next())ie=ct(H,ie.value,ot),ie!==null&&(z=p(ie,z,Ut),ne===null?Ct=ie:ne.sibling=ie,ne=ie);return Wt&&Ss(H,Ut),Ct}for(Et=l(Et);!ie.done;Ut++,ie=W.next())ie=it(Et,H,Ut,ie.value,ot),ie!==null&&(e&&ie.alternate!==null&&Et.delete(ie.key===null?Ut:ie.key),z=p(ie,z,Ut),ne===null?Ct=ie:ne.sibling=ie,ne=ie);return e&&Et.forEach(function(C2){return s(H,C2)}),Wt&&Ss(H,Ut),Ct}function ye(H,z,W,ot){if(typeof W=="object"&&W!==null&&W.type===B&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case D:t:{for(var Ct=W.key;z!==null;){if(z.key===Ct){if(Ct=W.type,Ct===B){if(z.tag===7){a(H,z.sibling),ot=h(z,W.props.children),ot.return=H,H=ot;break t}}else if(z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===A&&pa(Ct)===z.type){a(H,z.sibling),ot=h(z,W.props),jl(ot,W),ot.return=H,H=ot;break t}a(H,z);break}else s(H,z);z=z.sibling}W.type===B?(ot=ua(W.props.children,H.mode,ot,W.key),ot.return=H,H=ot):(ot=Ec(W.type,W.key,W.props,null,H.mode,ot),jl(ot,W),ot.return=H,H=ot)}return _(H);case N:t:{for(Ct=W.key;z!==null;){if(z.key===Ct)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){a(H,z.sibling),ot=h(z,W.children||[]),ot.return=H,H=ot;break t}else{a(H,z);break}else s(H,z);z=z.sibling}ot=nd(W,H.mode,ot),ot.return=H,H=ot}return _(H);case A:return W=pa(W),ye(H,z,W,ot)}if(Ft(W))return Tt(H,z,W,ot);if(k(W)){if(Ct=k(W),typeof Ct!="function")throw Error(r(150));return W=Ct.call(W),It(H,z,W,ot)}if(typeof W.then=="function")return ye(H,z,Vc(W),ot);if(W.$$typeof===q)return ye(H,z,Cc(H,W),ot);jc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,z!==null&&z.tag===6?(a(H,z.sibling),ot=h(z,W),ot.return=H,H=ot):(a(H,z),ot=ed(W,H.mode,ot),ot.return=H,H=ot),_(H)):a(H,z)}return function(H,z,W,ot){try{Vl=0;var Ct=ye(H,z,W,ot);return fo=null,Ct}catch(Et){if(Et===co||Et===Ic)throw Et;var ne=Gn(29,Et,null,H.mode);return ne.lanes=ot,ne.return=H,ne}}}var ga=x0(!0),b0=x0(!1),sr=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Sc(e),i0(e,null,a),s}return Tc(e,l,s,a),Sc(e)}function Ml(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,al(e,a)}}function gd(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var yd=!1;function Nl(){if(yd){var e=uo;if(e!==null)throw e}}function Ol(e,s,a,l){yd=!1;var h=e.updateQueue;sr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var P=E,X=P.next;P.next=null,_===null?p=X:_.next=X,_=P;var st=e.alternate;st!==null&&(st=st.updateQueue,E=st.lastBaseUpdate,E!==_&&(E===null?st.firstBaseUpdate=X:E.next=X,st.lastBaseUpdate=P))}if(p!==null){var ct=h.baseState;_=0,st=X=P=null,E=p;do{var Z=E.lane&-536870913,it=Z!==E.lane;if(it?(Gt&Z)===Z:(l&Z)===Z){Z!==0&&Z===lo&&(yd=!0),st!==null&&(st=st.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,It=E;Z=s;var ye=a;switch(It.tag){case 1:if(Tt=It.payload,typeof Tt=="function"){ct=Tt.call(ye,ct,Z);break t}ct=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=It.payload,Z=typeof Tt=="function"?Tt.call(ye,ct,Z):Tt,Z==null)break t;ct=b({},ct,Z);break t;case 2:sr=!0}}Z=E.callback,Z!==null&&(e.flags|=64,it&&(e.flags|=8192),it=h.callbacks,it===null?h.callbacks=[Z]:it.push(Z))}else it={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},st===null?(X=st=it,P=ct):st=st.next=it,_|=Z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;it=E,E=it.next,it.next=null,h.lastBaseUpdate=it,h.shared.pending=null}}while(!0);st===null&&(P=ct),h.baseState=P,h.firstBaseUpdate=X,h.lastBaseUpdate=st,p===null&&(h.shared.lanes=0),fr|=_,e.lanes=_,e.memoizedState=ct}}function _0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function T0(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_0(a[e],s)}var ho=O(null),Mc=O(0);function S0(e,s){e=Ns,at(Mc,e),at(ho,s),Ns=e|s.baseLanes}function vd(){at(Mc,Ns),at(ho,ho.current)}function xd(){Ns=Mc.current,J(ho),J(Mc)}var Yn=O(null),mi=null;function or(e){var s=e.alternate;at(Oe,Oe.current&1),at(Yn,e),mi===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(mi=e)}function bd(e){at(Oe,Oe.current),at(Yn,e),mi===null&&(mi=e)}function E0(e){e.tag===22?(at(Oe,Oe.current),at(Yn,e),mi===null&&(mi=e)):lr()}function lr(){at(Oe,Oe.current),at(Yn,Yn.current)}function Kn(e){J(Yn),mi===e&&(mi=null),J(Oe)}var Oe=O(0);function Nc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wp(a)||Cp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ws=0,zt=null,me=null,He=null,Oc=!1,po=!1,ya=!1,Pc=0,Pl=0,mo=null,yw=0;function Ie(){throw Error(r(321))}function _d(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Hn(e[a],s[a]))return!1;return!0}function Td(e,s,a,l,h,p){return ws=p,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=e===null||e.memoizedState===null?ov:Ld,ya=!1,p=a(l,h),ya=!1,po&&(p=w0(s,a,l,h)),A0(e),p}function A0(e){M.H=Bl;var s=me!==null&&me.next!==null;if(ws=0,He=me=zt=null,Oc=!1,Pl=0,mo=null,s)throw Error(r(300));e===null||Ge||(e=e.dependencies,e!==null&&wc(e)&&(Ge=!0))}function w0(e,s,a,l){zt=e;var h=0;do{if(po&&(mo=null),Pl=0,po=!1,25<=h)throw Error(r(301));if(h+=1,He=me=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}M.H=lv,p=s(a,l)}while(po);return p}function vw(){var e=M.H,s=e.useState()[0];return s=typeof s.then=="function"?Ll(s):s,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(zt.flags|=1024),s}function Sd(){var e=Pc!==0;return Pc=0,e}function Ed(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Ad(e){if(Oc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Oc=!1}ws=0,He=me=zt=null,po=!1,Pl=Pc=0,mo=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?zt.memoizedState=He=e:He=He.next=e,He}function Pe(){if(me===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var s=He===null?zt.memoizedState:He.next;if(s!==null)He=s,me=e;else{if(e===null)throw zt.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},He===null?zt.memoizedState=He=e:He=He.next=e}return He}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var s=Pl;return Pl+=1,mo===null&&(mo=[]),e=g0(mo,e,s),s=zt,(He===null?s.memoizedState:He.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?ov:Ld),e}function kc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===q)return fn(e)}throw Error(r(438,String(e)))}function wd(e){var s=null,a=zt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Lc(),zt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=j;return s.index++,a}function Cs(e,s){return typeof s=="function"?s(e):s}function Bc(e){var s=Pe();return Cd(s,me,e)}function Cd(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,p=l.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}s.baseQueue=h=p,l.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{s=h.next;var E=_=null,P=null,X=s,st=!1;do{var ct=X.lane&-536870913;if(ct!==X.lane?(Gt&ct)===ct:(ws&ct)===ct){var Z=X.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ct===lo&&(st=!0);else if((ws&Z)===Z){X=X.next,Z===lo&&(st=!0);continue}else ct={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(E=P=ct,_=p):P=P.next=ct,zt.lanes|=Z,fr|=Z;ct=X.action,ya&&a(p,ct),p=X.hasEagerState?X.eagerState:a(p,ct)}else Z={lane:ct,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(E=P=Z,_=p):P=P.next=Z,zt.lanes|=ct,fr|=ct;X=X.next}while(X!==null&&X!==s);if(P===null?_=p:P.next=E,!Hn(p,e.memoizedState)&&(Ge=!0,st&&(a=uo,a!==null)))throw a;e.memoizedState=p,e.baseState=_,e.baseQueue=P,l.lastRenderedState=p}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rd(e){var s=Pe(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do p=e(p,_.action),_=_.next;while(_!==h);Hn(p,s.memoizedState)||(Ge=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function C0(e,s,a){var l=zt,h=Pe(),p=Wt;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Hn((me||h).memoizedState,a);if(_&&(h.memoizedState=a,Ge=!0),h=h.queue,Vd(D0.bind(null,l,h,e),[e]),h.getSnapshot!==s||_||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},I0.bind(null,l,h,a,s),null),ve===null)throw Error(r(349));p||(ws&127)!==0||R0(l,s,a)}return a}function R0(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=zt.updateQueue,s===null?(s=Lc(),zt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function I0(e,s,a,l){s.value=a,s.getSnapshot=l,V0(s)&&j0(e)}function D0(e,s,a){return a(function(){V0(s)&&j0(e)})}function V0(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Hn(e,a)}catch{return!0}}function j0(e){var s=la(e,2);s!==null&&Pn(s,e,2)}function Id(e){var s=Cn();if(typeof e=="function"){var a=e;if(e=a(),ya){ri(!0);try{a()}finally{ri(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},s}function M0(e,s,a,l){return e.baseState=a,Cd(e,me,typeof l=="function"?l:Cs)}function xw(e,s,a,l,h){if(Fc(e))throw Error(r(485));if(e=s.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};M.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,N0(s,p)):(p.next=a.next,s.pending=a.next=p)}}function N0(e,s){var a=s.action,l=s.payload,h=e.state;if(s.isTransition){var p=M.T,_={};M.T=_;try{var E=a(h,l),P=M.S;P!==null&&P(_,E),O0(e,s,E)}catch(X){Dd(e,s,X)}finally{p!==null&&_.types!==null&&(p.types=_.types),M.T=p}}else try{p=a(h,l),O0(e,s,p)}catch(X){Dd(e,s,X)}}function O0(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){P0(e,s,l)},function(l){return Dd(e,s,l)}):P0(e,s,a)}function P0(e,s,a){s.status="fulfilled",s.value=a,L0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,N0(e,a)))}function Dd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,L0(s),s=s.next;while(s!==l)}e.action=null}function L0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function k0(e,s){return s}function B0(e,s){if(Wt){var a=ve.formState;if(a!==null){t:{var l=zt;if(Wt){if(_e){e:{for(var h=_e,p=pi;h.nodeType!==8;){if(!p){h=null;break e}if(h=gi(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){_e=gi(h.nextSibling),l=h.data==="F!";break t}}nr(l)}l=!1}l&&(s=a[0])}}return a=Cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k0,lastRenderedState:s},a.queue=l,a=sv.bind(null,zt,l),l.dispatch=a,l=Id(!1),p=Pd.bind(null,zt,!1,l.queue),l=Cn(),h={state:s,dispatch:null,action:e,pending:null},l.queue=h,a=xw.bind(null,zt,h,p,a),h.dispatch=a,l.memoizedState=e,[s,a,!1]}function z0(e){var s=Pe();return U0(s,me,e)}function U0(e,s,a){if(s=Cd(e,s,k0)[0],e=Bc(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Ll(s)}catch(_){throw _===co?Ic:_}else l=s;s=Pe();var h=s.queue,p=h.dispatch;return a!==s.memoizedState&&(zt.flags|=2048,go(9,{destroy:void 0},bw.bind(null,h,a),null)),[l,p,e]}function bw(e,s){e.action=s}function F0(e){var s=Pe(),a=me;if(a!==null)return U0(s,a,e);Pe(),s=s.memoizedState,a=Pe();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function go(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=zt.updateQueue,s===null&&(s=Lc(),zt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function q0(){return Pe().memoizedState}function zc(e,s,a,l){var h=Cn();zt.flags|=e,h.memoizedState=go(1|s,{destroy:void 0},a,l===void 0?null:l)}function Uc(e,s,a,l){var h=Pe();l=l===void 0?null:l;var p=h.memoizedState.inst;me!==null&&l!==null&&_d(l,me.memoizedState.deps)?h.memoizedState=go(s,p,a,l):(zt.flags|=e,h.memoizedState=go(1|s,p,a,l))}function H0(e,s){zc(8390656,8,e,s)}function Vd(e,s){Uc(2048,8,e,s)}function _w(e){zt.flags|=4;var s=zt.updateQueue;if(s===null)s=Lc(),zt.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function G0(e){var s=Pe().memoizedState;return _w({ref:s,nextImpl:e}),function(){if((le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Y0(e,s){return Uc(4,2,e,s)}function K0(e,s){return Uc(4,4,e,s)}function Q0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function W0(e,s,a){a=a!=null?a.concat([e]):null,Uc(4,4,Q0.bind(null,s,e),a)}function jd(){}function X0(e,s){var a=Pe();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&_d(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function $0(e,s){var a=Pe();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&_d(s,l[1]))return l[0];if(l=e(),ya){ri(!0);try{e()}finally{ri(!1)}}return a.memoizedState=[l,s],l}function Md(e,s,a){return a===void 0||(ws&1073741824)!==0&&(Gt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=Zv(),zt.lanes|=e,fr|=e,a)}function Z0(e,s,a,l){return Hn(a,s)?a:ho.current!==null?(e=Md(e,a,l),Hn(e,s)||(Ge=!0),e):(ws&42)===0||(ws&1073741824)!==0&&(Gt&261930)===0?(Ge=!0,e.memoizedState=a):(e=Zv(),zt.lanes|=e,fr|=e,s)}function J0(e,s,a,l,h){var p=K.p;K.p=p!==0&&8>p?p:8;var _=M.T,E={};M.T=E,Pd(e,!1,s,a);try{var P=h(),X=M.S;if(X!==null&&X(E,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var st=gw(P,l);kl(e,s,st,Xn(e))}else kl(e,s,l,Xn(e))}catch(ct){kl(e,s,{then:function(){},status:"rejected",reason:ct},Xn())}finally{K.p=p,_!==null&&E.types!==null&&(_.types=E.types),M.T=_}}function Tw(){}function Nd(e,s,a,l){if(e.tag!==5)throw Error(r(476));var h=tv(e).queue;J0(e,h,s,$,a===null?Tw:function(){return ev(e),a(l)})}function tv(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:$},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function ev(e){var s=tv(e);s.next===null&&(s=e.alternate.memoizedState),kl(e,s.next.queue,{},Xn())}function Od(){return fn(eu)}function nv(){return Pe().memoizedState}function iv(){return Pe().memoizedState}function Sw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Xn();e=rr(a);var l=ar(s,e,a);l!==null&&(Pn(l,s,a),Ml(l,s,a)),s={cache:cd()},e.payload=s;return}s=s.return}}function Ew(e,s,a){var l=Xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(e)?rv(s,a):(a=Jh(e,s,a,l),a!==null&&(Pn(a,e,l),av(a,s,l)))}function sv(e,s,a){var l=Xn();kl(e,s,a,l)}function kl(e,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(e))rv(s,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var _=s.lastRenderedState,E=p(_,a);if(h.hasEagerState=!0,h.eagerState=E,Hn(E,_))return Tc(e,s,h,0),ve===null&&_c(),!1}catch{}if(a=Jh(e,s,h,l),a!==null)return Pn(a,e,l),av(a,s,l),!0}return!1}function Pd(e,s,a,l){if(l={lane:2,revertLane:pp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(e)){if(s)throw Error(r(479))}else s=Jh(e,a,l,2),s!==null&&Pn(s,e,2)}function Fc(e){var s=e.alternate;return e===zt||s!==null&&s===zt}function rv(e,s){po=Oc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function av(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,al(e,a)}}var Bl={readContext:fn,use:kc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Bl.useEffectEvent=Ie;var ov={readContext:fn,use:kc,useCallback:function(e,s){return Cn().memoizedState=[e,s===void 0?null:s],e},useContext:fn,useEffect:H0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,zc(4194308,4,Q0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return zc(4194308,4,e,s)},useInsertionEffect:function(e,s){zc(4,2,e,s)},useMemo:function(e,s){var a=Cn();s=s===void 0?null:s;var l=e();if(ya){ri(!0);try{e()}finally{ri(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Cn();if(a!==void 0){var h=a(s);if(ya){ri(!0);try{a(s)}finally{ri(!1)}}}else h=s;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Ew.bind(null,zt,e),[l.memoizedState,e]},useRef:function(e){var s=Cn();return e={current:e},s.memoizedState=e},useState:function(e){e=Id(e);var s=e.queue,a=sv.bind(null,zt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:jd,useDeferredValue:function(e,s){var a=Cn();return Md(a,e,s)},useTransition:function(){var e=Id(!1);return e=J0.bind(null,zt,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=zt,h=Cn();if(Wt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ve===null)throw Error(r(349));(Gt&127)!==0||R0(l,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,H0(D0.bind(null,l,p,e),[e]),l.flags|=2048,go(9,{destroy:void 0},I0.bind(null,l,p,a,s),null),a},useId:function(){var e=Cn(),s=ve.identifierPrefix;if(Wt){var a=rs,l=ss;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Pc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=yw++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Od,useFormState:B0,useActionState:B0,useOptimistic:function(e){var s=Cn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Pd.bind(null,zt,!0,a),a.dispatch=s,[e,s]},useMemoCache:wd,useCacheRefresh:function(){return Cn().memoizedState=Sw.bind(null,zt)},useEffectEvent:function(e){var s=Cn(),a={impl:e};return s.memoizedState=a,function(){if((le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ld={readContext:fn,use:kc,useCallback:X0,useContext:fn,useEffect:Vd,useImperativeHandle:W0,useInsertionEffect:Y0,useLayoutEffect:K0,useMemo:$0,useReducer:Bc,useRef:q0,useState:function(){return Bc(Cs)},useDebugValue:jd,useDeferredValue:function(e,s){var a=Pe();return Z0(a,me.memoizedState,e,s)},useTransition:function(){var e=Bc(Cs)[0],s=Pe().memoizedState;return[typeof e=="boolean"?e:Ll(e),s]},useSyncExternalStore:C0,useId:nv,useHostTransitionStatus:Od,useFormState:z0,useActionState:z0,useOptimistic:function(e,s){var a=Pe();return M0(a,me,e,s)},useMemoCache:wd,useCacheRefresh:iv};Ld.useEffectEvent=G0;var lv={readContext:fn,use:kc,useCallback:X0,useContext:fn,useEffect:Vd,useImperativeHandle:W0,useInsertionEffect:Y0,useLayoutEffect:K0,useMemo:$0,useReducer:Rd,useRef:q0,useState:function(){return Rd(Cs)},useDebugValue:jd,useDeferredValue:function(e,s){var a=Pe();return me===null?Md(a,e,s):Z0(a,me.memoizedState,e,s)},useTransition:function(){var e=Rd(Cs)[0],s=Pe().memoizedState;return[typeof e=="boolean"?e:Ll(e),s]},useSyncExternalStore:C0,useId:nv,useHostTransitionStatus:Od,useFormState:F0,useActionState:F0,useOptimistic:function(e,s){var a=Pe();return me!==null?M0(a,me,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:iv};lv.useEffectEvent=G0;function kd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Xn(),h=rr(l);h.payload=s,a!=null&&(h.callback=a),s=ar(e,h,l),s!==null&&(Pn(s,e,l),Ml(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Xn(),h=rr(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ar(e,h,l),s!==null&&(Pn(s,e,l),Ml(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Xn(),l=rr(a);l.tag=2,s!=null&&(l.callback=s),s=ar(e,l,a),s!==null&&(Pn(s,e,a),Ml(s,e,a))}};function uv(e,s,a,l,h,p,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,_):s.prototype&&s.prototype.isPureReactComponent?!Al(a,l)||!Al(h,p):!0}function cv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Bd.enqueueReplaceState(s,s.state,null)}function va(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function fv(e){bc(e)}function hv(e){console.error(e)}function dv(e){bc(e)}function qc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function pv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zd(e,s,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(e,s)},a}function mv(e){return e=rr(e),e.tag=3,e}function gv(e,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;e.payload=function(){return h(p)},e.callback=function(){pv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){pv(s,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Aw(e,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&oo(s,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?ef():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),fp(e,l,h)),!1;case 22:return a.flags|=65536,l===Dc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),fp(e,l,h)),!1}throw Error(r(435,a.tag))}return fp(e,l,h),ef(),!1}if(Wt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==rd&&(e=Error(r(422),{cause:l}),Rl(fi(e,a)))):(l!==rd&&(s=Error(r(423),{cause:l}),Rl(fi(s,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=fi(l,a),h=zd(e.stateNode,l,h),gd(e,h),De!==4&&(De=2)),!1;var p=Error(r(520),{cause:l});if(p=fi(p,a),Kl===null?Kl=[p]:Kl.push(p),De!==4&&(De=2),s===null)return!0;l=fi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zd(a.stateNode,l,e),gd(a,e),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(hr===null||!hr.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mv(h),gv(h,e,a,l),gd(a,h),!1}a=a.return}while(a!==null);return!1}var Ud=Error(r(461)),Ge=!1;function hn(e,s,a,l){s.child=e===null?b0(s,null,a,l):ga(s,e.child,a,l)}function yv(e,s,a,l,h){a=a.render;var p=s.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ha(s),l=Td(e,s,a,_,p,h),E=Sd(),e!==null&&!Ge?(Ed(e,s,h),Rs(e,s,h)):(Wt&&E&&id(s),s.flags|=1,hn(e,s,l,h),s.child)}function vv(e,s,a,l,h){if(e===null){var p=a.type;return typeof p=="function"&&!td(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,xv(e,s,p,l,h)):(e=Ec(a.type,null,l,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(p=e.child,!Wd(e,h)){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(_,l)&&e.ref===s.ref)return Rs(e,s,h)}return s.flags|=1,e=Ts(p,l),e.ref=s.ref,e.return=s,s.child=e}function xv(e,s,a,l,h){if(e!==null){var p=e.memoizedProps;if(Al(p,l)&&e.ref===s.ref)if(Ge=!1,s.pendingProps=l=p,Wd(e,h))(e.flags&131072)!==0&&(Ge=!0);else return s.lanes=e.lanes,Rs(e,s,h)}return Fd(e,s,a,l,h)}function bv(e,s,a,l){var h=l.children,p=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(l=s.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~p}else l=0,s.child=null;return _v(e,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rc(s,p!==null?p.cachePool:null),p!==null?S0(s,p):vd(),E0(s);else return l=s.lanes=536870912,_v(e,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Rc(s,p.cachePool),S0(s,p),lr(),s.memoizedState=null):(e!==null&&Rc(s,null),vd(),lr());return hn(e,s,h,a),s.child}function zl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _v(e,s,a,l,h){var p=hd();return p=p===null?null:{parent:qe._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},e!==null&&Rc(s,null),vd(),E0(s),e!==null&&oo(e,s,l,!0),s.childLanes=h,null}function Hc(e,s){return s=Yc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Tv(e,s,a){return ga(s,e.child,null,a),e=Hc(s,s.pendingProps),e.flags|=2,Kn(s),s.memoizedState=null,e}function ww(e,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Wt){if(l.mode==="hidden")return e=Hc(s,l),s.lanes=536870912,zl(null,e);if(bd(s),(e=_e)?(e=Nx(e,pi),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:tr!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=r0(e),a.return=s,s.child=a,cn=s,_e=null)):e=null,e===null)throw nr(s);return s.lanes=536870912,null}return Hc(s,l)}var p=e.memoizedState;if(p!==null){var _=p.dehydrated;if(bd(s),h)if(s.flags&256)s.flags&=-257,s=Tv(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ge||oo(e,s,a,!1),h=(a&e.childLanes)!==0,Ge||h){if(l=ve,l!==null&&(_=ol(l,a),_!==0&&_!==p.retryLane))throw p.retryLane=_,la(e,_),Pn(l,e,_),Ud;ef(),s=Tv(e,s,a)}else e=p.treeContext,_e=gi(_.nextSibling),cn=s,Wt=!0,er=null,pi=!1,e!==null&&l0(s,e),s=Hc(s,l),s.flags|=4096;return s}return e=Ts(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Gc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Fd(e,s,a,l,h){return ha(s),a=Td(e,s,a,l,void 0,h),l=Sd(),e!==null&&!Ge?(Ed(e,s,h),Rs(e,s,h)):(Wt&&l&&id(s),s.flags|=1,hn(e,s,a,h),s.child)}function Sv(e,s,a,l,h,p){return ha(s),s.updateQueue=null,a=w0(s,l,a,h),A0(e),l=Sd(),e!==null&&!Ge?(Ed(e,s,p),Rs(e,s,p)):(Wt&&l&&id(s),s.flags|=1,hn(e,s,a,p),s.child)}function Ev(e,s,a,l,h){if(ha(s),s.stateNode===null){var p=io,_=a.contextType;typeof _=="object"&&_!==null&&(p=fn(_)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},pd(s),_=a.contextType,p.context=typeof _=="object"&&_!==null?fn(_):io,p.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kd(s,a,_,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Bd.enqueueReplaceState(p,p.state,null),Ol(s,l,p,h),Nl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){p=s.stateNode;var E=s.memoizedProps,P=va(a,E);p.props=P;var X=p.context,st=a.contextType;_=io,typeof st=="object"&&st!==null&&(_=fn(st));var ct=a.getDerivedStateFromProps;st=typeof ct=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,st||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||X!==_)&&cv(s,p,l,_),sr=!1;var Z=s.memoizedState;p.state=Z,Ol(s,l,p,h),Nl(),X=s.memoizedState,E||Z!==X||sr?(typeof ct=="function"&&(kd(s,a,ct,l),X=s.memoizedState),(P=sr||uv(s,a,P,l,Z,X,_))?(st||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=X),p.props=l,p.state=X,p.context=_,l=P):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,md(e,s),_=s.memoizedProps,st=va(a,_),p.props=st,ct=s.pendingProps,Z=p.context,X=a.contextType,P=io,typeof X=="object"&&X!==null&&(P=fn(X)),E=a.getDerivedStateFromProps,(X=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==ct||Z!==P)&&cv(s,p,l,P),sr=!1,Z=s.memoizedState,p.state=Z,Ol(s,l,p,h),Nl();var it=s.memoizedState;_!==ct||Z!==it||sr||e!==null&&e.dependencies!==null&&wc(e.dependencies)?(typeof E=="function"&&(kd(s,a,E,l),it=s.memoizedState),(st=sr||uv(s,a,st,l,Z,it,P)||e!==null&&e.dependencies!==null&&wc(e.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,it,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,it,P)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=it),p.props=l,p.state=it,p.context=P,l=st):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(s.flags|=1024),l=!1)}return p=l,Gc(e,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,e!==null&&l?(s.child=ga(s,e.child,null,h),s.child=ga(s,null,a,h)):hn(e,s,a,h),s.memoizedState=p.state,e=s.child):e=Rs(e,s,h),e}function Av(e,s,a,l){return ca(),s.flags|=256,hn(e,s,a,l),s.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:p0()}}function Gd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Wn),e}function wv(e,s,a){var l=s.pendingProps,h=!1,p=(s.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(Wt){if(h?or(s):lr(),(e=_e)?(e=Nx(e,pi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:tr!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=r0(e),a.return=s,s.child=a,cn=s,_e=null)):e=null,e===null)throw nr(s);return Cp(e)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(lr(),h=s.mode,E=Yc({mode:"hidden",children:E},h),l=ua(l,h,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Hd(a),l.childLanes=Gd(e,_,a),s.memoizedState=qd,zl(null,l)):(or(s),Yd(s,E))}var P=e.memoizedState;if(P!==null&&(E=P.dehydrated,E!==null)){if(p)s.flags&256?(or(s),s.flags&=-257,s=Kd(e,s,a)):s.memoizedState!==null?(lr(),s.child=e.child,s.flags|=128,s=null):(lr(),E=l.fallback,h=s.mode,l=Yc({mode:"visible",children:l.children},h),E=ua(E,h,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,ga(s,e.child,null,a),l=s.child,l.memoizedState=Hd(a),l.childLanes=Gd(e,_,a),s.memoizedState=qd,s=zl(null,l));else if(or(s),Cp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var X=_.dgst;_=X,l=Error(r(419)),l.stack="",l.digest=_,Rl({value:l,source:null,stack:null}),s=Kd(e,s,a)}else if(Ge||oo(e,s,a,!1),_=(a&e.childLanes)!==0,Ge||_){if(_=ve,_!==null&&(l=ol(_,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,la(e,l),Pn(_,e,l),Ud;wp(E)||ef(),s=Kd(e,s,a)}else wp(E)?(s.flags|=192,s.child=e.child,s=null):(e=P.treeContext,_e=gi(E.nextSibling),cn=s,Wt=!0,er=null,pi=!1,e!==null&&l0(s,e),s=Yd(s,l.children),s.flags|=4096);return s}return h?(lr(),E=l.fallback,h=s.mode,P=e.child,X=P.sibling,l=Ts(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,X!==null?E=Ts(X,E):(E=ua(E,h,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,zl(null,l),l=s.child,E=e.child.memoizedState,E===null?E=Hd(a):(h=E.cachePool,h!==null?(P=qe._currentValue,h=h.parent!==P?{parent:P,pool:P}:h):h=p0(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Gd(e,_,a),s.memoizedState=qd,zl(e.child,l)):(or(s),a=e.child,e=a.sibling,a=Ts(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function Yd(e,s){return s=Yc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Yc(e,s){return e=Gn(22,e,null,s),e.lanes=0,e}function Kd(e,s,a){return ga(s,e.child,null,a),e=Yd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Cv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),ld(e.return,s,a)}function Qd(e,s,a,l,h,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=p)}function Rv(e,s,a){var l=s.pendingProps,h=l.revealOrder,p=l.tail;l=l.children;var _=Oe.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,at(Oe,_),hn(e,s,l,a),l=Wt?Cl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cv(e,a,s);else if(e.tag===19)Cv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&Nc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Qd(s,!1,h,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Nc(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qd(s,!0,a,null,p,l);break;case"together":Qd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Rs(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),fr|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(oo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ts(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ts(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Wd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&wc(e)))}function Cw(e,s,a){switch(s.tag){case 3:se(s,s.stateNode.containerInfo),ir(s,qe,e.memoizedState.cache),ca();break;case 27:case 5:vn(s);break;case 4:se(s,s.stateNode.containerInfo);break;case 10:ir(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(or(s),s.flags|=128,null):(a&s.child.childLanes)!==0?wv(e,s,a):(or(s),e=Rs(e,s,a),e!==null?e.sibling:null);or(s);break;case 19:var h=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(oo(e,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Rv(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Oe,Oe.current),l)break;return null;case 22:return s.lanes=0,bv(e,s,a,s.pendingProps);case 24:ir(s,qe,e.memoizedState.cache)}return Rs(e,s,a)}function Iv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ge=!0;else{if(!Wd(e,a)&&(s.flags&128)===0)return Ge=!1,Cw(e,s,a);Ge=(e.flags&131072)!==0}else Ge=!1,Wt&&(s.flags&1048576)!==0&&o0(s,Cl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=pa(s.elementType),s.type=e,typeof e=="function")td(e)?(l=va(e,l),s.tag=1,s=Ev(null,s,e,l,a)):(s.tag=0,s=Fd(null,s,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===G){s.tag=11,s=yv(null,s,e,l,a);break t}else if(h===R){s.tag=14,s=vv(null,s,e,l,a);break t}}throw s=At(e)||e,Error(r(306,s,""))}}return s;case 0:return Fd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=va(l,s.pendingProps),Ev(e,s,l,h,a);case 3:t:{if(se(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;h=p.element,md(e,s),Ol(s,l,null,a);var _=s.memoizedState;if(l=_.cache,ir(s,qe,l),l!==p.cache&&ud(s,[qe],a,!0),Nl(),l=_.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Av(e,s,l,a);break t}else if(l!==h){h=fi(Error(r(424)),s),Rl(h),s=Av(e,s,l,a);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,_e=gi(e.firstChild),cn=s,Wt=!0,er=null,pi=!0,a=b0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ca(),l===h){s=Rs(e,s,a);break t}hn(e,s,l,a)}s=s.child}return s;case 26:return Gc(e,s),e===null?(a=zx(s.type,null,s.pendingProps,null))?s.memoizedState=a:Wt||(a=s.type,e=s.pendingProps,l=uf(dt.current).createElement(a),l[ze]=s,l[en]=e,dn(l,a,e),Ue(l),s.stateNode=l):s.memoizedState=zx(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return vn(s),e===null&&Wt&&(l=s.stateNode=Lx(s.type,s.pendingProps,dt.current),cn=s,pi=!0,h=_e,gr(s.type)?(Rp=h,_e=gi(l.firstChild)):_e=h),hn(e,s,s.pendingProps.children,a),Gc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Wt&&((h=l=_e)&&(l=i2(l,s.type,s.pendingProps,pi),l!==null?(s.stateNode=l,cn=s,_e=gi(l.firstChild),pi=!1,h=!0):h=!1),h||nr(s)),vn(s),h=s.type,p=s.pendingProps,_=e!==null?e.memoizedProps:null,l=p.children,Sp(h,p)?l=null:_!==null&&Sp(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Td(e,s,vw,null,null,a),eu._currentValue=h),Gc(e,s),hn(e,s,l,a),s.child;case 6:return e===null&&Wt&&((e=a=_e)&&(a=s2(a,s.pendingProps,pi),a!==null?(s.stateNode=a,cn=s,_e=null,e=!0):e=!1),e||nr(s)),null;case 13:return wv(e,s,a);case 4:return se(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=ga(s,null,l,a):hn(e,s,l,a),s.child;case 11:return yv(e,s,s.type,s.pendingProps,a);case 7:return hn(e,s,s.pendingProps,a),s.child;case 8:return hn(e,s,s.pendingProps.children,a),s.child;case 12:return hn(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ir(s,s.type,l.value),hn(e,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,ha(s),h=fn(h),l=l(h),s.flags|=1,hn(e,s,l,a),s.child;case 14:return vv(e,s,s.type,s.pendingProps,a);case 15:return xv(e,s,s.type,s.pendingProps,a);case 19:return Rv(e,s,a);case 31:return ww(e,s,a);case 22:return bv(e,s,a,s.pendingProps);case 24:return ha(s),l=fn(qe),e===null?(h=hd(),h===null&&(h=ve,p=cd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),s.memoizedState={parent:l,cache:h},pd(s),ir(s,qe,h)):((e.lanes&a)!==0&&(md(e,s),Ol(s,null,null,a),Nl()),h=e.memoizedState,p=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ir(s,qe,l)):(l=p.cache,ir(s,qe,l),l!==h.cache&&ud(s,[qe],a,!0))),hn(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Is(e){e.flags|=4}function Xd(e,s,a,l,h){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(nx())e.flags|=8192;else throw ma=Dc,dd}else e.flags&=-16777217}function Dv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gx(s))if(nx())e.flags|=8192;else throw ma=Dc,dd}function Kc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Ju():536870912,e.lanes|=s,bo|=s)}function Ul(e,s){if(!Wt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Te(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Rw(e,s,a){var l=s.pendingProps;switch(sd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(s),null;case 1:return Te(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),As(qe),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ao(s)?Is(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),Te(s),null;case 26:var h=s.type,p=s.memoizedState;return e===null?(Is(s),p!==null?(Te(s),Dv(s,p)):(Te(s),Xd(s,h,null,l,a))):p?p!==e.memoizedState?(Is(s),Te(s),Dv(s,p)):(Te(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Is(s),Te(s),Xd(s,h,e,l,a)),null;case 27:if(zn(s),a=dt.current,h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}e=ht.current,ao(s)?u0(s):(e=Lx(h,l,a),s.stateNode=e,Is(s))}return Te(s),null;case 5:if(zn(s),h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Te(s),null}if(p=ht.current,ao(s))u0(s);else{var _=uf(dt.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}p[ze]=s,p[en]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=p;t:switch(dn(p,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Is(s)}}return Te(s),Xd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=dt.current,ao(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ze]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wx(e.nodeValue,a)),e||nr(s,!0)}else e=uf(e).createTextNode(l),e[ze]=s,s.stateNode=e}return Te(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=ao(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ze]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),e=!1}else a=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Te(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ao(s),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ze]=s}else ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),h=!1}else h=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Kc(s,s.updateQueue),Te(s),null);case 4:return Xt(),e===null&&vp(s.stateNode.containerInfo),Te(s),null;case 10:return As(s.type),Te(s),null;case 19:if(J(Oe),l=s.memoizedState,l===null)return Te(s),null;if(h=(s.flags&128)!==0,p=l.rendering,p===null)if(h)Ul(l,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(p=Nc(e),p!==null){for(s.flags|=128,Ul(l,!1),e=p.updateQueue,s.updateQueue=e,Kc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)s0(a,e),a=a.sibling;return at(Oe,Oe.current&1|2),Wt&&Ss(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&te()>Zc&&(s.flags|=128,h=!0,Ul(l,!1),s.lanes=4194304)}else{if(!h)if(e=Nc(p),e!==null){if(s.flags|=128,h=!0,e=e.updateQueue,s.updateQueue=e,Kc(s,e),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Wt)return Te(s),null}else 2*te()-l.renderingStartTime>Zc&&a!==536870912&&(s.flags|=128,h=!0,Ul(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(e=l.last,e!==null?e.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=te(),e.sibling=null,a=Oe.current,at(Oe,h?a&1|2:a&1),Wt&&Ss(s,l.treeForkCount),e):(Te(s),null);case 22:case 23:return Kn(s),xd(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Te(s),s.subtreeFlags&6&&(s.flags|=8192)):Te(s),a=s.updateQueue,a!==null&&Kc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&J(da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),As(qe),Te(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Iw(e,s){switch(sd(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return As(qe),Xt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return zn(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Kn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ca()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(Oe),null;case 4:return Xt(),null;case 10:return As(s.type),null;case 22:case 23:return Kn(s),xd(),e!==null&&J(da),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return As(qe),null;case 25:return null;default:return null}}function Vv(e,s){switch(sd(s),s.tag){case 3:As(qe),Xt();break;case 26:case 27:case 5:zn(s);break;case 4:Xt();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:J(Oe);break;case 10:As(s.type);break;case 22:case 23:Kn(s),xd(),e!==null&&J(da);break;case 24:As(qe)}}function Fl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var p=a.create,_=a.inst;l=p(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){de(s,s.return,E)}}function ur(e,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=s;var P=a,X=E;try{X()}catch(st){de(h,P,st)}}}l=l.next}while(l!==p)}}catch(st){de(s,s.return,st)}}function jv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{T0(s,a)}catch(l){de(e,e.return,l)}}}function Mv(e,s,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){de(e,s,l)}}function ql(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){de(e,s,h)}}function as(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){de(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){de(e,s,h)}else a.current=null}function Nv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){de(e,e.return,h)}}function $d(e,s,a){try{var l=e.stateNode;$w(l,e.type,a,s),l[en]=s}catch(h){de(e,e.return,h)}}function Ov(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ov(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Di));else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Jd(e,s,a),e=e.sibling;e!==null;)Jd(e,s,a),e=e.sibling}function Qc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qc(e,s,a),e=e.sibling;e!==null;)Qc(e,s,a),e=e.sibling}function Pv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);dn(s,l,a),s[ze]=e,s[en]=a}catch(p){de(e,e.return,p)}}var Ds=!1,Ye=!1,tp=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Dw(e,s){if(e=e.containerInfo,_p=gf,e=Wy(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var _=0,E=-1,P=-1,X=0,st=0,ct=e,Z=null;e:for(;;){for(var it;ct!==a||h!==0&&ct.nodeType!==3||(E=_+h),ct!==p||l!==0&&ct.nodeType!==3||(P=_+l),ct.nodeType===3&&(_+=ct.nodeValue.length),(it=ct.firstChild)!==null;)Z=ct,ct=it;for(;;){if(ct===e)break e;if(Z===a&&++X===h&&(E=_),Z===p&&++st===l&&(P=_),(it=ct.nextSibling)!==null)break;ct=Z,Z=ct.parentNode}ct=it}a=E===-1||P===-1?null:{start:E,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tp={focusedElem:e,selectionRange:a},gf=!1,sn=s;sn!==null;)if(s=sn,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,sn=e;else for(;sn!==null;){switch(s=sn,p=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=s,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Tt=va(a.type,h);e=l.getSnapshotBeforeUpdate(Tt,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(It){de(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Ap(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ap(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,sn=e;break}sn=s.return}}function kv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:js(e,a),l&4&&Fl(5,a);break;case 1:if(js(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){de(a,a.return,_)}else{var h=va(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){de(a,a.return,_)}}l&64&&jv(a),l&512&&ql(a,a.return);break;case 3:if(js(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{T0(e,s)}catch(_){de(a,a.return,_)}}break;case 27:s===null&&l&4&&Pv(a);case 26:case 5:js(e,a),s===null&&l&4&&Nv(a),l&512&&ql(a,a.return);break;case 12:js(e,a);break;case 31:js(e,a),l&4&&Uv(e,a);break;case 13:js(e,a),l&4&&Fv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Bw.bind(null,a),r2(e,a))));break;case 22:if(l=a.memoizedState!==null||Ds,!l){s=s!==null&&s.memoizedState!==null||Ye,h=Ds;var p=Ye;Ds=l,(Ye=s)&&!p?Ms(e,a,(a.subtreeFlags&8772)!==0):js(e,a),Ds=h,Ye=p}break;case 30:break;default:js(e,a)}}function Bv(e){var s=e.alternate;s!==null&&(e.alternate=null,Bv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&qa(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,jn=!1;function Vs(e,s,a){for(a=a.child;a!==null;)zv(e,s,a),a=a.sibling}function zv(e,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(wi,a)}catch{}switch(a.tag){case 26:Ye||as(a,s),Vs(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||as(a,s);var l=Ae,h=jn;gr(a.type)&&(Ae=a.stateNode,jn=!1),Vs(e,s,a),Zl(a.stateNode),Ae=l,jn=h;break;case 5:Ye||as(a,s);case 6:if(l=Ae,h=jn,Ae=null,Vs(e,s,a),Ae=l,jn=h,Ae!==null)if(jn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(p){de(a,s,p)}else try{Ae.removeChild(a.stateNode)}catch(p){de(a,s,p)}break;case 18:Ae!==null&&(jn?(e=Ae,jx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ro(e)):jx(Ae,a.stateNode));break;case 4:l=Ae,h=jn,Ae=a.stateNode.containerInfo,jn=!0,Vs(e,s,a),Ae=l,jn=h;break;case 0:case 11:case 14:case 15:ur(2,a,s),Ye||ur(4,a,s),Vs(e,s,a);break;case 1:Ye||(as(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Mv(a,s,l)),Vs(e,s,a);break;case 21:Vs(e,s,a);break;case 22:Ye=(l=Ye)||a.memoizedState!==null,Vs(e,s,a),Ye=l;break;default:Vs(e,s,a)}}function Uv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ro(e)}catch(a){de(s,s.return,a)}}}function Fv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ro(e)}catch(a){de(s,s.return,a)}}function Vw(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Lv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Lv),s;default:throw Error(r(435,e.tag))}}function Wc(e,s){var a=Vw(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=zw.bind(null,e,l);l.then(h,h)}})}function Mn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=e,_=s,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(gr(E.type)){Ae=E.stateNode,jn=!1;break t}break;case 5:Ae=E.stateNode,jn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,jn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));zv(p,_,h),Ae=null,jn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)qv(s,e),s=s.sibling}var Pi=null;function qv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(s,e),Nn(e),l&4&&(ur(3,e,e.return),Fl(3,e),ur(5,e,e.return));break;case 1:Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),l&64&&Ds&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pi;if(Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Yi]||p[ze]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),dn(p,l,a),p[ze]=e,Ue(p),l=p;break t;case"link":var _=qx("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(p=_[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}p=h.createElement(l),dn(p,l,a),h.head.appendChild(p);break;case"meta":if(_=qx("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(p=_[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}p=h.createElement(l),dn(p,l,a),h.head.appendChild(p);break;default:throw Error(r(468,l))}p[ze]=e,Ue(p),l=p}e.stateNode=l}else Hx(h,e.type,e.stateNode);else e.stateNode=Fx(h,l,e.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?Hx(h,e.type,e.stateNode):Fx(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$d(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),a!==null&&l&4&&$d(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mn(s,e),Nn(e),l&512&&(Ye||a===null||as(a,a.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(Tt){de(e,e.return,Tt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,$d(e,h,a!==null?a.memoizedProps:h)),l&1024&&(tp=!0);break;case 6:if(Mn(s,e),Nn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Tt){de(e,e.return,Tt)}}break;case 3:if(hf=null,h=Pi,Pi=cf(s.containerInfo),Mn(s,e),Pi=h,Nn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ro(s.containerInfo)}catch(Tt){de(e,e.return,Tt)}tp&&(tp=!1,Hv(e));break;case 4:l=Pi,Pi=cf(e.stateNode.containerInfo),Mn(s,e),Nn(e),Pi=l;break;case 12:Mn(s,e),Nn(e);break;case 31:Mn(s,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 13:Mn(s,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($c=te()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 22:h=e.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,X=Ds,st=Ye;if(Ds=X||h,Ye=st||P,Mn(s,e),Ye=st,Ds=X,Nn(e),l&8192)t:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||P||Ds||Ye||xa(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(p=P.stateNode,h)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=P.stateNode;var ct=P.memoizedProps.style,Z=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Tt){de(P,P.return,Tt)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(Tt){de(P,P.return,Tt)}}}else if(s.tag===18){if(a===null){P=s;try{var it=P.stateNode;h?Mx(it,!0):Mx(P.stateNode,!1)}catch(Tt){de(P,P.return,Tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(e,a))));break;case 19:Mn(s,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wc(e,l)));break;case 30:break;case 21:break;default:Mn(s,e),Nn(e)}}function Nn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Ov(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,p=Zd(e);Qc(e,p,h);break;case 5:var _=a.stateNode;a.flags&32&&(Vn(_,""),a.flags&=-33);var E=Zd(e);Qc(e,E,_);break;case 3:case 4:var P=a.stateNode.containerInfo,X=Zd(e);Jd(e,X,P);break;default:throw Error(r(161))}}catch(st){de(e,e.return,st)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Hv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Hv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function js(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kv(e,s.alternate,s),s=s.sibling}function xa(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ur(4,s,s.return),xa(s);break;case 1:as(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Mv(s,s.return,a),xa(s);break;case 27:Zl(s.stateNode);case 26:case 5:as(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}e=e.sibling}}function Ms(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=e,p=s,_=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(h,p,a),Fl(4,p);break;case 1:if(Ms(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){de(l,l.return,X)}if(l=p,h=l.updateQueue,h!==null){var E=l.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)_0(P[h],E)}catch(X){de(l,l.return,X)}}a&&_&64&&jv(p),ql(p,p.return);break;case 27:Pv(p);case 26:case 5:Ms(h,p,a),a&&l===null&&_&4&&Nv(p),ql(p,p.return);break;case 12:Ms(h,p,a);break;case 31:Ms(h,p,a),a&&_&4&&Uv(h,p);break;case 13:Ms(h,p,a),a&&_&4&&Fv(h,p);break;case 22:p.memoizedState===null&&Ms(h,p,a),ql(p,p.return);break;case 30:break;default:Ms(h,p,a)}s=s.sibling}}function ep(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Il(a))}function np(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Il(e))}function Li(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gv(e,s,a,l),s=s.sibling}function Gv(e,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s,a,l),h&2048&&Fl(9,s);break;case 1:Li(e,s,a,l);break;case 3:Li(e,s,a,l),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Il(e)));break;case 12:if(h&2048){Li(e,s,a,l),e=s.stateNode;try{var p=s.memoizedProps,_=p.id,E=p.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){de(s,s.return,P)}}else Li(e,s,a,l);break;case 31:Li(e,s,a,l);break;case 13:Li(e,s,a,l);break;case 23:break;case 22:p=s.stateNode,_=s.alternate,s.memoizedState!==null?p._visibility&2?Li(e,s,a,l):Hl(e,s):p._visibility&2?Li(e,s,a,l):(p._visibility|=2,yo(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&ep(_,s);break;case 24:Li(e,s,a,l),h&2048&&np(s.alternate,s);break;default:Li(e,s,a,l)}}function yo(e,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=e,_=s,E=a,P=l,X=_.flags;switch(_.tag){case 0:case 11:case 15:yo(p,_,E,P,h),Fl(8,_);break;case 23:break;case 22:var st=_.stateNode;_.memoizedState!==null?st._visibility&2?yo(p,_,E,P,h):Hl(p,_):(st._visibility|=2,yo(p,_,E,P,h)),h&&X&2048&&ep(_.alternate,_);break;case 24:yo(p,_,E,P,h),h&&X&2048&&np(_.alternate,_);break;default:yo(p,_,E,P,h)}s=s.sibling}}function Hl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,h=l.flags;switch(l.tag){case 22:Hl(a,l),h&2048&&ep(l.alternate,l);break;case 24:Hl(a,l),h&2048&&np(l.alternate,l);break;default:Hl(a,l)}s=s.sibling}}var Gl=8192;function vo(e,s,a){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Yv(e,s,a),e=e.sibling}function Yv(e,s,a){switch(e.tag){case 26:vo(e,s,a),e.flags&Gl&&e.memoizedState!==null&&y2(a,Pi,e.memoizedState,e.memoizedProps);break;case 5:vo(e,s,a);break;case 3:case 4:var l=Pi;Pi=cf(e.stateNode.containerInfo),vo(e,s,a),Pi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,vo(e,s,a),Gl=l):vo(e,s,a));break;default:vo(e,s,a)}}function Kv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Yl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,Wv(l,e)}Kv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qv(e),e=e.sibling}function Qv(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Xc(e)):Yl(e);break;default:Yl(e)}}function Xc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];sn=l,Wv(l,e)}Kv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ur(8,s,s.return),Xc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(s));break;default:Xc(s)}e=e.sibling}}function Wv(e,s){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:ur(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else t:for(a=e;sn!==null;){l=sn;var h=l.sibling,p=l.return;if(Bv(l),l===a){sn=null;break t}if(h!==null){h.return=p,sn=h;break t}sn=p}}}var jw={getCacheForType:function(e){var s=fn(qe),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return fn(qe).controller.signal}},Mw=typeof WeakMap=="function"?WeakMap:Map,le=0,ve=null,qt=null,Gt=0,he=0,Qn=null,cr=!1,xo=!1,ip=!1,Ns=0,De=0,fr=0,ba=0,sp=0,Wn=0,bo=0,Kl=null,On=null,rp=!1,$c=0,Xv=0,Zc=1/0,Jc=null,hr=null,Ze=0,dr=null,_o=null,Os=0,ap=0,op=null,$v=null,Ql=0,lp=null;function Xn(){return(le&2)!==0&&Gt!==0?Gt&-Gt:M.T!==null?pp():tc()}function Zv(){if(Wn===0)if((Gt&536870912)===0||Wt){var e=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Wn=e}else Wn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Wn}function Pn(e,s,a){(e===ve&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(To(e,0),pr(e,Gt,Wn,!1)),Qr(e,a),((le&2)===0||e!==ve)&&(e===ve&&((le&2)===0&&(ba|=a),De===4&&pr(e,Gt,Wn,!1)),os(e))}function Jv(e,s,a){if((le&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Ci(e,s),h=l?Pw(e,s):cp(e,s,!0),p=l;do{if(h===0){xo&&!l&&pr(e,s,0,!1);break}else{if(a=e.current.alternate,p&&!Nw(a)){h=cp(e,s,!1),p=!1;continue}if(h===2){if(p=s,e.errorRecoveryDisabledLanes&p)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var E=e;h=Kl;var P=E.current.memoizedState.isDehydrated;if(P&&(To(E,_).flags|=256),_=cp(E,_,!1),_!==2){if(ip&&!P){E.errorRecoveryDisabledLanes|=p,ba|=p,h=4;break t}p=On,On=h,p!==null&&(On===null?On=p:On.push.apply(On,p))}h=_}if(p=!1,h!==2)continue}}if(h===1){To(e,0),pr(e,s,0,!0);break}t:{switch(l=e,p=h,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:pr(l,s,Wn,!cr);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=$c+300-te(),10<h)){if(pr(l,s,Wn,!cr),qi(l,0,!0)!==0)break t;Os=s,l.timeoutHandle=Dx(tx.bind(null,l,a,On,Jc,rp,s,Wn,ba,bo,cr,p,"Throttled",-0,0),h);break t}tx(l,a,On,Jc,rp,s,Wn,ba,bo,cr,p,null,-0,0)}}break}while(!0);os(e)}function tx(e,s,a,l,h,p,_,E,P,X,st,ct,Z,it){if(e.timeoutHandle=-1,ct=s.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Di},Yv(s,p,ct);var Tt=(p&62914560)===p?$c-te():(p&4194048)===p?Xv-te():0;if(Tt=v2(ct,Tt),Tt!==null){Os=p,e.cancelPendingCommit=Tt(lx.bind(null,e,s,p,a,l,h,_,E,P,st,ct,null,Z,it)),pr(e,p,_,!X);return}}lx(e,s,p,a,l,h,_,E,P)}function Nw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!Hn(p(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pr(e,s,a,l){s&=~sp,s&=~ba,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var h=s;0<h;){var p=31-Me(h),_=1<<p;l[p]=-1,h&=~_}a!==0&&Wr(e,a,s)}function tf(){return(le&6)===0?(Wl(0),!1):!0}function up(){if(qt!==null){if(he===0)var e=qt.return;else e=qt,Es=fa=null,Ad(e),fo=null,Vl=0,e=qt;for(;e!==null;)Vv(e.alternate,e),e=e.return;qt=null}}function To(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,t2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Os=0,up(),ve=e,qt=a=Ts(e.current,null),Gt=s,he=0,Qn=null,cr=!1,xo=Ci(e,s),ip=!1,bo=Wn=sp=ba=fr=De=0,On=Kl=null,rp=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var h=31-Me(l),p=1<<h;s|=e[h],l&=~p}return Ns=s,_c(),a}function ex(e,s){zt=null,M.H=Bl,s===co||s===Ic?(s=y0(),he=3):s===dd?(s=y0(),he=4):he=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,qt===null&&(De=1,qc(e,fi(s,e.current)))}function nx(){var e=Yn.current;return e===null?!0:(Gt&4194048)===Gt?mi===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?e===mi:!1}function ix(){var e=M.H;return M.H=Bl,e===null?Bl:e}function sx(){var e=M.A;return M.A=jw,e}function ef(){De=4,cr||(Gt&4194048)!==Gt&&Yn.current!==null||(xo=!0),(fr&134217727)===0&&(ba&134217727)===0||ve===null||pr(ve,Gt,Wn,!1)}function cp(e,s,a){var l=le;le|=2;var h=ix(),p=sx();(ve!==e||Gt!==s)&&(Jc=null,To(e,s)),s=!1;var _=De;t:do try{if(he!==0&&qt!==null){var E=qt,P=Qn;switch(he){case 8:up(),_=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var X=he;if(he=0,Qn=null,So(e,E,P,X),a&&xo){_=0;break t}break;default:X=he,he=0,Qn=null,So(e,E,P,X)}}Ow(),_=De;break}catch(st){ex(e,st)}while(!0);return s&&e.shellSuspendCounter++,Es=fa=null,le=l,M.H=h,M.A=p,qt===null&&(ve=null,Gt=0,_c()),_}function Ow(){for(;qt!==null;)rx(qt)}function Pw(e,s){var a=le;le|=2;var l=ix(),h=sx();ve!==e||Gt!==s?(Jc=null,Zc=te()+500,To(e,s)):xo=Ci(e,s);t:do try{if(he!==0&&qt!==null){s=qt;var p=Qn;e:switch(he){case 1:he=0,Qn=null,So(e,s,p,1);break;case 2:case 9:if(m0(p)){he=0,Qn=null,ax(s);break}s=function(){he!==2&&he!==9||ve!==e||(he=7),os(e)},p.then(s,s);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:m0(p)?(he=0,Qn=null,ax(s)):(he=0,Qn=null,So(e,s,p,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var E=qt;if(_?Gx(_):E.stateNode.complete){he=0,Qn=null;var P=E.sibling;if(P!==null)qt=P;else{var X=E.return;X!==null?(qt=X,nf(X)):qt=null}break e}}he=0,Qn=null,So(e,s,p,5);break;case 6:he=0,Qn=null,So(e,s,p,6);break;case 8:up(),De=6;break t;default:throw Error(r(462))}}Lw();break}catch(st){ex(e,st)}while(!0);return Es=fa=null,M.H=l,M.A=h,le=a,qt!==null?0:(ve=null,Gt=0,_c(),De)}function Lw(){for(;qt!==null&&!wt();)rx(qt)}function rx(e){var s=Iv(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,s===null?nf(e):qt=s}function ax(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Sv(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=Sv(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:Ad(s);default:Vv(a,s),s=qt=s0(s,Ns),s=Iv(a,s,Ns)}e.memoizedProps=e.pendingProps,s===null?nf(e):qt=s}function So(e,s,a,l){Es=fa=null,Ad(s),fo=null,Vl=0;var h=s.return;try{if(Aw(e,h,s,a,Gt)){De=1,qc(e,fi(a,e.current)),qt=null;return}}catch(p){if(h!==null)throw qt=h,p;De=1,qc(e,fi(a,e.current)),qt=null;return}s.flags&32768?(Wt||l===1?e=!0:xo||(Gt&536870912)!==0?e=!1:(cr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ox(s,e)):nf(s)}function nf(e){var s=e;do{if((s.flags&32768)!==0){ox(s,cr);return}e=s.return;var a=Rw(s.alternate,s,Ns);if(a!==null){qt=a;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=e}while(s!==null);De===0&&(De=5)}function ox(e,s){do{var a=Iw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);De=6,qt=null}function lx(e,s,a,l,h,p,_,E,P){e.cancelPendingCommit=null;do sf();while(Ze!==0);if((le&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Zh,qh(e,a,p,_,E,P),e===ve&&(qt=ve=null,Gt=0),_o=s,dr=e,Os=a,ap=p,op=h,$v=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Uw(Hs,function(){return dx(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=K.p,K.p=2,_=le,le|=4;try{Dw(e,s,a)}finally{le=_,K.p=h,M.T=l}}Ze=1,ux(),cx(),fx()}}function ux(){if(Ze===1){Ze=0;var e=dr,s=_o,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=K.p;K.p=2;var h=le;le|=4;try{qv(s,e);var p=Tp,_=Wy(e.containerInfo),E=p.focusedElem,P=p.selectionRange;if(_!==E&&E&&E.ownerDocument&&Qy(E.ownerDocument.documentElement,E)){if(P!==null&&Kh(E)){var X=P.start,st=P.end;if(st===void 0&&(st=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(st,E.value.length);else{var ct=E.ownerDocument||document,Z=ct&&ct.defaultView||window;if(Z.getSelection){var it=Z.getSelection(),Tt=E.textContent.length,It=Math.min(P.start,Tt),ye=P.end===void 0?It:Math.min(P.end,Tt);!it.extend&&It>ye&&(_=ye,ye=It,It=_);var H=Ky(E,It),z=Ky(E,ye);if(H&&z&&(it.rangeCount!==1||it.anchorNode!==H.node||it.anchorOffset!==H.offset||it.focusNode!==z.node||it.focusOffset!==z.offset)){var W=ct.createRange();W.setStart(H.node,H.offset),it.removeAllRanges(),It>ye?(it.addRange(W),it.extend(z.node,z.offset)):(W.setEnd(z.node,z.offset),it.addRange(W))}}}}for(ct=[],it=E;it=it.parentNode;)it.nodeType===1&&ct.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ct.length;E++){var ot=ct[E];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}gf=!!_p,Tp=_p=null}finally{le=h,K.p=l,M.T=a}}e.current=s,Ze=2}}function cx(){if(Ze===2){Ze=0;var e=dr,s=_o,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=K.p;K.p=2;var h=le;le|=4;try{kv(e,s.alternate,s)}finally{le=h,K.p=l,M.T=a}}Ze=3}}function fx(){if(Ze===4||Ze===3){Ze=0,St();var e=dr,s=_o,a=Os,l=$v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ze=5:(Ze=0,_o=dr=null,hx(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),vs(a),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(wi,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=M.T,h=K.p,K.p=2,M.T=null;try{for(var p=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];p(E.value,{componentStack:E.stack})}}finally{M.T=s,K.p=h}}(Os&3)!==0&&sf(),os(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===lp?Ql++:(Ql=0,lp=e):Ql=0,Wl(0)}}function hx(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Il(s)))}function sf(){return ux(),cx(),fx(),dx()}function dx(){if(Ze!==5)return!1;var e=dr,s=ap;ap=0;var a=vs(Os),l=M.T,h=K.p;try{K.p=32>a?32:a,M.T=null,a=op,op=null;var p=dr,_=Os;if(Ze=0,_o=dr=null,Os=0,(le&6)!==0)throw Error(r(331));var E=le;if(le|=4,Qv(p.current),Gv(p,p.current,_,a),le=E,Wl(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(wi,p)}catch{}return!0}finally{K.p=h,M.T=l,hx(e,s)}}function px(e,s,a){s=fi(a,s),s=zd(e.stateNode,s,2),e=ar(e,s,2),e!==null&&(Qr(e,2),os(e))}function de(e,s,a){if(e.tag===3)px(e,e,a);else for(;s!==null;){if(s.tag===3){px(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){e=fi(a,e),a=mv(2),l=ar(s,a,2),l!==null&&(gv(a,l,s,e),Qr(l,2),os(l));break}}s=s.return}}function fp(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Mw;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(ip=!0,h.add(a),e=kw.bind(null,e,s,a),s.then(e,e))}function kw(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ve===e&&(Gt&a)===a&&(De===4||De===3&&(Gt&62914560)===Gt&&300>te()-$c?(le&2)===0&&To(e,0):sp|=a,bo===Gt&&(bo=0)),os(e)}function mx(e,s){s===0&&(s=Ju()),e=la(e,s),e!==null&&(Qr(e,s),os(e))}function Bw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),mx(e,a)}function zw(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),mx(e,a)}function Uw(e,s){return be(e,s)}var rf=null,Eo=null,hp=!1,af=!1,dp=!1,mr=0;function os(e){e!==Eo&&e.next===null&&(Eo===null?rf=Eo=e:Eo=Eo.next=e),af=!0,hp||(hp=!0,qw())}function Wl(e,s){if(!dp&&af){dp=!0;do for(var a=!1,l=rf;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var _=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Me(42|e)+1)-1,p&=h&~(_&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,xx(l,p))}else p=Gt,p=qi(l,l===ve?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ci(l,p)||(a=!0,xx(l,p));l=l.next}while(a);dp=!1}}function Fw(){gx()}function gx(){af=hp=!1;var e=0;mr!==0&&Jw()&&(e=mr);for(var s=te(),a=null,l=rf;l!==null;){var h=l.next,p=yx(l,s);p===0?(l.next=null,a===null?rf=h:a.next=h,h===null&&(Eo=a)):(a=l,(e!==0||(p&3)!==0)&&(af=!0)),l=h}Ze!==0&&Ze!==5||Wl(e),mr!==0&&(mr=0)}function yx(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var _=31-Me(p),E=1<<_,P=h[_];P===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Fh(E,s)):P<=s&&(e.expiredLanes|=E),p&=~E}if(s=ve,a=Gt,a=qi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(he===2||he===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ci(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&rt(l),vs(a)){case 2:case 8:a=si;break;case 32:a=Hs;break;case 268435456:a=Qu;break;default:a=Hs}return l=vx.bind(null,e),a=be(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&rt(l),e.callbackPriority=2,e.callbackNode=null,2}function vx(e,s){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sf()&&e.callbackNode!==a)return null;var l=Gt;return l=qi(e,e===ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Jv(e,l,s),yx(e,te()),e.callbackNode!=null&&e.callbackNode===a?vx.bind(null,e):null)}function xx(e,s){if(sf())return null;Jv(e,s,!0)}function qw(){e2(function(){(le&6)!==0?be(ee,Fw):gx()})}function pp(){if(mr===0){var e=lo;e===0&&(e=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),mr=e}return mr}function bx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ka(""+e)}function _x(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Hw(e,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var p=bx((h[en]||null).action),_=l.submitter;_&&(s=(s=_[en]||null)?bx(s.formAction):_.getAttribute("formAction"),s!==null&&(p=s,_=null));var E=new ts("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(mr!==0){var P=_?_x(h,_):new FormData(h);Nd(a,{pending:!0,data:P,method:h.method,action:p},null,P)}}else typeof p=="function"&&(E.preventDefault(),P=_?_x(h,_):new FormData(h),Nd(a,{pending:!0,data:P,method:h.method,action:p},p,P))},currentTarget:h}]})}}for(var mp=0;mp<$h.length;mp++){var gp=$h[mp],Gw=gp.toLowerCase(),Yw=gp[0].toUpperCase()+gp.slice(1);Oi(Gw,"on"+Yw)}Oi(Zy,"onAnimationEnd"),Oi(Jy,"onAnimationIteration"),Oi(t0,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(lw,"onTransitionRun"),Oi(uw,"onTransitionStart"),Oi(cw,"onTransitionCancel"),Oi(e0,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function Tx(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var _=l.length-1;0<=_;_--){var E=l[_],P=E.instance,X=E.currentTarget;if(E=E.listener,P!==p&&h.isPropagationStopped())break t;p=E,h.currentTarget=X;try{p(h)}catch(st){bc(st)}h.currentTarget=null,p=P}else for(_=0;_<l.length;_++){if(E=l[_],P=E.instance,X=E.currentTarget,E=E.listener,P!==p&&h.isPropagationStopped())break t;p=E,h.currentTarget=X;try{p(h)}catch(st){bc(st)}h.currentTarget=null,p=P}}}}function Ht(e,s){var a=s[Fa];a===void 0&&(a=s[Fa]=new Set);var l=e+"__bubble";a.has(l)||(Sx(s,e,2,!1),a.add(l))}function yp(e,s,a){var l=0;s&&(l|=4),Sx(a,e,l,s)}var of="_reactListening"+Math.random().toString(36).slice(2);function vp(e){if(!e[of]){e[of]=!0,ll.forEach(function(a){a!=="selectionchange"&&(Kw.has(a)||yp(a,!1,e),yp(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[of]||(s[of]=!0,yp("selectionchange",!1,s))}}function Sx(e,s,a,l){switch(Zx(s)){case 2:var h=_2;break;case 8:h=T2;break;default:h=Mp}a=h.bind(null,s,a,e),h=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function xp(e,s,a,l,h){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Ki(E),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){l=p=_;continue t}E=E.parentNode}}l=l.return}Xs(function(){var X=p,st=oi(a),ct=[];t:{var Z=n0.get(e);if(Z!==void 0){var it=ts,Tt=e;switch(e){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":it=yc;break;case"focusin":Tt="focus",it=sa;break;case"focusout":Tt="blur",it=sa;break;case"beforeblur":case"afterblur":it=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=x;break;case Zy:case Jy:case t0:it=cc;break;case e0:it=C;break;case"scroll":case"scrollend":it=bl;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=_s;break;case"toggle":case"beforetoggle":it=Bt}var It=(s&4)!==0,ye=!It&&(e==="scroll"||e==="scrollend"),H=It?Z!==null?Z+"Capture":null:Z;It=[];for(var z=X,W;z!==null;){var ot=z;if(W=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||W===null||H===null||(ot=Vi(z,H),ot!=null&&It.push($l(z,ot,W))),ye)break;z=z.return}0<It.length&&(Z=new it(Z,Tt,null,a,st),ct.push({event:Z,listeners:It}))}}if((s&7)===0){t:{if(Z=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",Z&&a!==yl&&(Tt=a.relatedTarget||a.fromElement)&&(Ki(Tt)||Tt[Gi]))break t;if((it||Z)&&(Z=st.window===st?st:(Z=st.ownerDocument)?Z.defaultView||Z.parentWindow:window,it?(Tt=a.relatedTarget||a.toElement,it=X,Tt=Tt?Ki(Tt):null,Tt!==null&&(ye=u(Tt),It=Tt.tag,Tt!==ye||It!==5&&It!==27&&It!==6)&&(Tt=null)):(it=null,Tt=X),it!==Tt)){if(It=_l,ot="onMouseLeave",H="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(It=_s,ot="onPointerLeave",H="onPointerEnter",z="pointer"),ye=it==null?Z:Fn(it),W=Tt==null?Z:Fn(Tt),Z=new It(ot,z+"leave",it,a,st),Z.target=ye,Z.relatedTarget=W,ot=null,Ki(st)===X&&(It=new It(H,z+"enter",Tt,a,st),It.target=W,It.relatedTarget=ye,ot=It),ye=ot,it&&Tt)e:{for(It=Qw,H=it,z=Tt,W=0,ot=H;ot;ot=It(ot))W++;ot=0;for(var Ct=z;Ct;Ct=It(Ct))ot++;for(;0<W-ot;)H=It(H),W--;for(;0<ot-W;)z=It(z),ot--;for(;W--;){if(H===z||z!==null&&H===z.alternate){It=H;break e}H=It(H),z=It(z)}It=null}else It=null;it!==null&&Ex(ct,Z,it,It,!1),Tt!==null&&ye!==null&&Ex(ct,ye,Tt,It,!0)}}t:{if(Z=X?Fn(X):window,it=Z.nodeName&&Z.nodeName.toLowerCase(),it==="select"||it==="input"&&Z.type==="file")var ne=Uy;else if(By(Z))if(Fy)ne=rw;else{ne=iw;var Et=nw}else it=Z.nodeName,!it||it.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Ya(X.elementType)&&(ne=Uy):ne=sw;if(ne&&(ne=ne(e,X))){zy(ct,ne,a,st);break t}Et&&Et(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&pl(Z,"number",Z.value)}switch(Et=X?Fn(X):window,e){case"focusin":(By(Et)||Et.contentEditable==="true")&&(to=Et,Qh=X,wl=null);break;case"focusout":wl=Qh=to=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Xy(ct,a,st);break;case"selectionchange":if(ow)break;case"keydown":case"keyup":Xy(ct,a,st)}var Ut;if(oe)t:{switch(e){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Ja?ra(e,a)&&(Yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Yt="onCompositionStart");Yt&&(is&&a.locale!=="ko"&&(Ja||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ja&&(Ut=xl()):(Ji=st,vl="value"in Ji?Ji.value:Ji.textContent,Ja=!0)),Et=lf(X,Yt),0<Et.length&&(Yt=new ns(Yt,e,null,a,st),ct.push({event:Yt,listeners:Et}),Ut?Yt.data=Ut:(Ut=Za(a),Ut!==null&&(Yt.data=Ut)))),(Ut=ui?ZA(e,a):JA(e,a))&&(Yt=lf(X,"onBeforeInput"),0<Yt.length&&(Et=new ns("onBeforeInput","beforeinput",null,a,st),ct.push({event:Et,listeners:Yt}),Et.data=Ut)),Hw(ct,e,X,a,st)}Tx(ct,s)})}function $l(e,s,a){return{instance:e,listener:s,currentTarget:a}}function lf(e,s){for(var a=s+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Vi(e,a),h!=null&&l.unshift($l(e,h,p)),h=Vi(e,s),h!=null&&l.push($l(e,h,p))),e.tag===3)return l;e=e.return}return[]}function Qw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ex(e,s,a,l,h){for(var p=s._reactName,_=[];a!==null&&a!==l;){var E=a,P=E.alternate,X=E.stateNode;if(E=E.tag,P!==null&&P===l)break;E!==5&&E!==26&&E!==27||X===null||(P=X,h?(X=Vi(a,p),X!=null&&_.unshift($l(a,X,P))):h||(X=Vi(a,p),X!=null&&_.push($l(a,X,P)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var Ww=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function Ax(e){return(typeof e=="string"?e:""+e).replace(Ww,`
`).replace(Xw,"")}function wx(e,s){return s=Ax(s),Ax(e)===s}function ge(e,s,a,l,h,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vn(e,""+l);break;case"className":qn(e,"class",l);break;case"tabIndex":qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,a,l);break;case"style":gl(e,l,p);break;case"data":if(s!=="object"){qn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&ge(e,s,"name",h.name,h,null),ge(e,s,"formEncType",h.formEncType,h,null),ge(e,s,"formMethod",h.formMethod,h,null),ge(e,s,"formTarget",h.formTarget,h,null)):(ge(e,s,"encType",h.encType,h,null),ge(e,s,"method",h.method,h,null),ge(e,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Di);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ka(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Ha(e,"popover",l);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oc.get(a)||a,Ha(e,a,l))}}function bp(e,s,a,l,h,p){switch(a){case"style":gl(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),p=e[en]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(s,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ha(e,a,l)}}}function dn(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var _=a[p];if(_!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,p,_,a,null)}}h&&ge(e,s,"srcSet",a.srcSet,a,null),l&&ge(e,s,"src",a.src,a,null);return;case"input":Ht("invalid",e);var E=p=_=h=null,P=null,X=null;for(l in a)if(a.hasOwnProperty(l)){var st=a[l];if(st!=null)switch(l){case"name":h=st;break;case"type":_=st;break;case"checked":P=st;break;case"defaultChecked":X=st;break;case"value":p=st;break;case"defaultValue":E=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:ge(e,s,l,st,a,null)}}sc(e,p,E,P,X,_,h,!1);return;case"select":Ht("invalid",e),l=_=p=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":p=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:ge(e,s,h,E,a,null)}s=p,a=_,e.multiple=!!l,s!=null?Ys(e,!!l,s,!1):a!=null&&Ys(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),p=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ge(e,s,_,E,a,null)}Ks(e,l,h,p);return;case"option":for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null)&&(P==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ge(e,s,P,l,a,null));return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Ht(Xl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(l=a[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ge(e,s,X,l,a,null)}return;default:if(Ya(s)){for(st in a)a.hasOwnProperty(st)&&(l=a[st],l!==void 0&&bp(e,s,st,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ge(e,s,E,l,a,null))}function $w(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,E=null,P=null,X=null,st=null;for(it in a){var ct=a[it];if(a.hasOwnProperty(it)&&ct!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":P=ct;default:l.hasOwnProperty(it)||ge(e,s,it,null,l,ct)}}for(var Z in l){var it=l[Z];if(ct=a[Z],l.hasOwnProperty(Z)&&(it!=null||ct!=null))switch(Z){case"type":p=it;break;case"name":h=it;break;case"checked":X=it;break;case"defaultChecked":st=it;break;case"value":_=it;break;case"defaultValue":E=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:it!==ct&&ge(e,s,Z,it,l,ct)}}Ga(e,_,E,P,X,st,p,h);return;case"select":it=_=E=Z=null;for(p in a)if(P=a[p],a.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":it=P;default:l.hasOwnProperty(p)||ge(e,s,p,null,l,P)}for(h in l)if(p=l[h],P=a[h],l.hasOwnProperty(h)&&(p!=null||P!=null))switch(h){case"value":Z=p;break;case"defaultValue":E=p;break;case"multiple":_=p;default:p!==P&&ge(e,s,h,p,l,P)}s=E,a=_,l=it,Z!=null?Ys(e,!!a,Z,!1):!!l!=!!a&&(s!=null?Ys(e,!!a,s,!0):Ys(e,!!a,a?[]:"",!1));return;case"textarea":it=Z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ge(e,s,E,null,l,h)}for(_ in l)if(h=l[_],p=a[_],l.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":Z=h;break;case"defaultValue":it=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==p&&ge(e,s,_,h,l,p)}rc(e,Z,it);return;case"option":for(var Tt in a)Z=a[Tt],a.hasOwnProperty(Tt)&&Z!=null&&!l.hasOwnProperty(Tt)&&(Tt==="selected"?e.selected=!1:ge(e,s,Tt,null,l,Z));for(P in l)Z=l[P],it=a[P],l.hasOwnProperty(P)&&Z!==it&&(Z!=null||it!=null)&&(P==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ge(e,s,P,Z,l,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)Z=a[It],a.hasOwnProperty(It)&&Z!=null&&!l.hasOwnProperty(It)&&ge(e,s,It,null,l,Z);for(X in l)if(Z=l[X],it=a[X],l.hasOwnProperty(X)&&Z!==it&&(Z!=null||it!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ge(e,s,X,Z,l,it)}return;default:if(Ya(s)){for(var ye in a)Z=a[ye],a.hasOwnProperty(ye)&&Z!==void 0&&!l.hasOwnProperty(ye)&&bp(e,s,ye,void 0,l,Z);for(st in l)Z=l[st],it=a[st],!l.hasOwnProperty(st)||Z===it||Z===void 0&&it===void 0||bp(e,s,st,Z,l,it);return}}for(var H in a)Z=a[H],a.hasOwnProperty(H)&&Z!=null&&!l.hasOwnProperty(H)&&ge(e,s,H,null,l,Z);for(ct in l)Z=l[ct],it=a[ct],!l.hasOwnProperty(ct)||Z===it||Z==null&&it==null||ge(e,s,ct,Z,l,it)}function Cx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],p=h.transferSize,_=h.initiatorType,E=h.duration;if(p&&E&&Cx(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var P=a[l],X=P.startTime;if(X>E)break;var st=P.transferSize,ct=P.initiatorType;st&&Cx(ct)&&(P=P.responseEnd,_+=st*(P<E?1:(E-X)/(P-X)))}if(--l,s+=8*(p+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _p=null,Tp=null;function uf(e){return e.nodeType===9?e:e.ownerDocument}function Rx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ix(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Sp(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ep=null;function Jw(){var e=window.event;return e&&e.type==="popstate"?e===Ep?!1:(Ep=e,!0):(Ep=null,!1)}var Dx=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(e){return Vx.resolve(null).then(e).catch(n2)}:Dx;function n2(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function jx(e,s){var a=s,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ro(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Zl(a);for(var p=a.firstChild;p;){var _=p.nextSibling,E=p.nodeName;p[Yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=_}}else a==="body"&&Zl(e.ownerDocument.body);a=h}while(a);Ro(s)}function Mx(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ap(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ap(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function i2(e,s,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function s2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=gi(e.nextSibling),e===null))return null;return e}function Nx(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=gi(e.nextSibling),e===null))return null;return e}function wp(e){return e.data==="$?"||e.data==="$~"}function Cp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function gi(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Rp=null;function Ox(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return gi(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function Px(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function Lx(e,s,a){switch(s=uf(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);qa(e)}var yi=new Map,kx=new Set;function cf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ps=K.d;K.d={f:a2,r:o2,D:l2,C:u2,L:c2,m:f2,X:d2,S:h2,M:p2};function a2(){var e=Ps.f(),s=tf();return e||s}function o2(e){var s=ai(e);s!==null&&s.tag===5&&s.type==="form"?ev(s):Ps.r(e)}var Ao=typeof document>"u"?null:document;function Bx(e,s,a){var l=Ao;if(l&&typeof s=="string"&&s){var h=Dn(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),kx.has(h)||(kx.add(h),e={rel:e,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),dn(s,"link",e),Ue(s),l.head.appendChild(s)))}}function l2(e){Ps.D(e),Bx("dns-prefetch",e,null)}function u2(e,s){Ps.C(e,s),Bx("preconnect",e,s)}function c2(e,s,a){Ps.L(e,s,a);var l=Ao;if(l&&e&&s){var h='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dn(a.imageSizes)+'"]')):h+='[href="'+Dn(e)+'"]';var p=h;switch(s){case"style":p=wo(e);break;case"script":p=Co(e)}yi.has(p)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),yi.set(p,e),l.querySelector(h)!==null||s==="style"&&l.querySelector(Jl(p))||s==="script"&&l.querySelector(tu(p))||(s=l.createElement("link"),dn(s,"link",e),Ue(s),l.head.appendChild(s)))}}function f2(e,s){Ps.m(e,s);var a=Ao;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(e)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(e)}if(!yi.has(p)&&(e=b({rel:"modulepreload",href:e},s),yi.set(p,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tu(p)))return}l=a.createElement("link"),dn(l,"link",e),Ue(l),a.head.appendChild(l)}}}function h2(e,s,a){Ps.S(e,s,a);var l=Ao;if(l&&e){var h=Qi(l).hoistableStyles,p=wo(e);s=s||"default";var _=h.get(p);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Jl(p)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=yi.get(p))&&Ip(e,a);var P=_=l.createElement("link");Ue(P),dn(P,"link",e),P._p=new Promise(function(X,st){P.onload=X,P.onerror=st}),P.addEventListener("load",function(){E.loading|=1}),P.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ff(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(p,_)}}}function d2(e,s){Ps.X(e,s);var a=Ao;if(a&&e){var l=Qi(a).hoistableScripts,h=Co(e),p=l.get(h);p||(p=a.querySelector(tu(h)),p||(e=b({src:e,async:!0},s),(s=yi.get(h))&&Dp(e,s),p=a.createElement("script"),Ue(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function p2(e,s){Ps.M(e,s);var a=Ao;if(a&&e){var l=Qi(a).hoistableScripts,h=Co(e),p=l.get(h);p||(p=a.querySelector(tu(h)),p||(e=b({src:e,async:!0,type:"module"},s),(s=yi.get(h))&&Dp(e,s),p=a.createElement("script"),Ue(p),dn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function zx(e,s,a,l){var h=(h=dt.current)?cf(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=wo(a.href),a=Qi(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wo(a.href);var p=Qi(h).hoistableStyles,_=p.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,_),(p=h.querySelector(Jl(e)))&&!p._p&&(_.instance=p,_.state.loading=5),yi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(e,a),p||m2(h,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(a),a=Qi(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wo(e){return'href="'+Dn(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function Ux(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function m2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dn(s,"link",a),Ue(s),e.head.appendChild(s))}function Co(e){return'[src="'+Dn(e)+'"]'}function tu(e){return"script[async]"+e}function Fx(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Dn(a.href)+'"]');if(l)return s.instance=l,Ue(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),dn(l,"style",h),ff(l,a.precedence,e),s.instance=l;case"stylesheet":h=wo(a.href);var p=e.querySelector(Jl(h));if(p)return s.state.loading|=4,s.instance=p,Ue(p),p;l=Ux(a),(h=yi.get(h))&&Ip(l,h),p=(e.ownerDocument||e).createElement("link"),Ue(p);var _=p;return _._p=new Promise(function(E,P){_.onload=E,_.onerror=P}),dn(p,"link",l),s.state.loading|=4,ff(p,a.precedence,e),s.instance=p;case"script":return p=Co(a.src),(h=e.querySelector(tu(p)))?(s.instance=h,Ue(h),h):(l=a,(h=yi.get(p))&&(l=b({},a),Dp(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ue(h),dn(h,"link",l),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ff(l,a.precedence,e));return s.instance}function ff(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===s)p=E;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Ip(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Dp(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var hf=null;function qx(e,s,a){if(hf===null){var l=new Map,h=hf=new Map;h.set(a,l)}else h=hf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var p=a[h];if(!(p[Yi]||p[ze]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(s)||"";_=e+_;var E=l.get(_);E?E.push(p):l.set(_,[p])}}return l}function Hx(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function g2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function y2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=wo(l.href),p=s.querySelector(Jl(h));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=df.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=p,Ue(p);return}p=s.ownerDocument||s,l=Ux(l),(h=yi.get(h))&&Ip(l,h),p=p.createElement("link"),Ue(p);var _=p;_._p=new Promise(function(E,P){_.onload=E,_.onerror=P}),dn(p,"link",l),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=df.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vp=0;function v2(e,s){return e.stylesheets&&e.count===0&&mf(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+s);0<e.imgBytes&&Vp===0&&(Vp=62500*Zw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Vp?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pf=null;function mf(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pf=new Map,s.forEach(x2,e),pf=null,df.call(e))}function x2(e,s){if(!(s.state.loading&4)){var a=pf.get(e);if(a)var l=a.get(null);else{a=new Map,pf.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),p=a.get(_)||l,p===l&&a.set(null,h),a.set(_,h),this.count++,l=df.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var eu={$$typeof:q,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function b2(e,s,a,l,h,p,_,E,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Yx(e,s,a,l,h,p,_,E,P,X,st,ct){return e=new b2(e,s,a,_,P,X,st,ct,E),s=1,p===!0&&(s|=24),p=Gn(3,null,null,s),e.current=p,p.stateNode=e,s=cd(),s.refCount++,e.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},pd(p),e}function Kx(e){return e?(e=io,e):io}function Qx(e,s,a,l,h,p){h=Kx(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=ar(e,l,s),a!==null&&(Pn(a,e,s),Ml(a,e,s))}function Wx(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function jp(e,s){Wx(e,s),(e=e.alternate)&&Wx(e,s)}function Xx(e){if(e.tag===13||e.tag===31){var s=la(e,67108864);s!==null&&Pn(s,e,67108864),jp(e,67108864)}}function $x(e){if(e.tag===13||e.tag===31){var s=Xn();s=Xr(s);var a=la(e,s);a!==null&&Pn(a,e,s),jp(e,s)}}var gf=!0;function _2(e,s,a,l){var h=M.T;M.T=null;var p=K.p;try{K.p=2,Mp(e,s,a,l)}finally{K.p=p,M.T=h}}function T2(e,s,a,l){var h=M.T;M.T=null;var p=K.p;try{K.p=8,Mp(e,s,a,l)}finally{K.p=p,M.T=h}}function Mp(e,s,a,l){if(gf){var h=Np(l);if(h===null)xp(e,s,l,yf,a),Jx(e,l);else if(E2(h,e,s,a,l))l.stopPropagation();else if(Jx(e,l),s&4&&-1<S2.indexOf(e)){for(;h!==null;){var p=ai(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Fi(p.pendingLanes);if(_!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var P=1<<31-Me(_);E.entanglements[1]|=P,_&=~P}os(p),(le&6)===0&&(Zc=te()+500,Wl(0))}}break;case 31:case 13:E=la(p,2),E!==null&&Pn(E,p,2),tf(),jp(p,2)}if(p=Np(l),p===null&&xp(e,s,l,yf,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else xp(e,s,l,null,a)}}function Np(e){return e=oi(e),Op(e)}var yf=null;function Op(e){if(yf=null,e=Ki(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=d(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return yf=e,null}function Zx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case ee:return 2;case si:return 8;case Hs:case Uh:return 32;case Qu:return 268435456;default:return 32}default:return 32}}var Pp=!1,yr=null,vr=null,xr=null,nu=new Map,iu=new Map,br=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(e,s){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(s.pointerId)}}function su(e,s,a,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},s!==null&&(s=ai(s),s!==null&&Xx(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function E2(e,s,a,l,h){switch(s){case"focusin":return yr=su(yr,e,s,a,l,h),!0;case"dragenter":return vr=su(vr,e,s,a,l,h),!0;case"mouseover":return xr=su(xr,e,s,a,l,h),!0;case"pointerover":var p=h.pointerId;return nu.set(p,su(nu.get(p)||null,e,s,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,iu.set(p,su(iu.get(p)||null,e,s,a,l,h)),!0}return!1}function t1(e){var s=Ki(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Ri(e.priority,function(){$x(a)});return}}else if(s===31){if(s=d(a),s!==null){e.blockedOn=s,Ri(e.priority,function(){$x(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Np(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return s=ai(a),s!==null&&Xx(s),e.blockedOn=a,!1;s.shift()}return!0}function e1(e,s,a){vf(e)&&a.delete(s)}function A2(){Pp=!1,yr!==null&&vf(yr)&&(yr=null),vr!==null&&vf(vr)&&(vr=null),xr!==null&&vf(xr)&&(xr=null),nu.forEach(e1),iu.forEach(e1)}function xf(e,s){e.blockedOn===s&&(e.blockedOn=null,Pp||(Pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A2)))}var bf=null;function n1(e){bf!==e&&(bf=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bf===e&&(bf=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],h=e[s+2];if(typeof l!="function"){if(Op(l||a)===null)continue;break}var p=ai(a);p!==null&&(e.splice(s,3),s-=3,Nd(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ro(e){function s(P){return xf(P,e)}yr!==null&&xf(yr,e),vr!==null&&xf(vr,e),xr!==null&&xf(xr,e),nu.forEach(s),iu.forEach(s);for(var a=0;a<br.length;a++){var l=br[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)t1(a),a.blockedOn===null&&br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],_=h[en]||null;if(typeof p=="function")_||n1(a);else if(_){var E=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[en]||null)E=_.formAction;else if(Op(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),n1(a)}}}function i1(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Lp(e){this._internalRoot=e}_f.prototype.render=Lp.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Xn();Qx(a,l,e,s,null,null)},_f.prototype.unmount=Lp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Qx(e.current,2,null,e,null,null),tf(),s[Gi]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var s=tc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<br.length&&s!==0&&s<br[a].priority;a++);br.splice(a,0,e),a===0&&t1(e)}};var s1=t.version;if(s1!=="19.2.3")throw Error(r(527,s1,"19.2.3"));K.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var w2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{wi=Tf.inject(w2),ln=Tf}catch{}}return au.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",h=fv,p=hv,_=dv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Yx(e,1,!1,null,null,a,l,null,h,p,_,i1),e[Gi]=s.current,vp(e),new Lp(s)},au.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,h="",p=fv,_=hv,E=dv,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=Yx(e,1,!0,s,a??null,l,h,P,p,_,E,i1),s.context=Kx(null),a=s.current,l=Xn(),l=Xr(l),h=rr(l),h.callback=null,ar(a,h,l),a=l,s.current.lanes=a,Qr(s,a),os(s),e[Gi]=s.current,vp(e),new _f(s)},au.version="19.2.3",au}var p1;function P2(){if(p1)return zp.exports;p1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zp.exports=O2(),zp.exports}var L2=P2();const k2=()=>{};var m1={};const sT=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},B2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],d=n[i++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|y>>6,D=y&63;g||(D=64,c||(S=64)),r.push(i[v],i[b],i[S],i[D])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(sT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):B2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const y=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||y==null||b==null)throw new z2;const S=u<<2|d>>4;if(r.push(S),y!==64){const D=d<<4&240|y>>2;if(r.push(D),b!==64){const N=y<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U2=function(n){const t=sT(n);return rT.encodeByteArray(t,!0)},Hf=function(n){return U2(n).replace(/\./g,"")},F2=function(n){try{return rT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H2=()=>q2().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof m1>"u")return;const n=m1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&F2(n[1]);return t&&JSON.parse(t)},pg=()=>{try{return k2()||H2()||G2()||Y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},K2=n=>pg()?.emulatorHosts?.[n],Q2=n=>{const t=K2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},aT=()=>pg()?.config;class W2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function mg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X2(n){return(await fetch(n,{credentials:"include"})).ok}function $2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hf(JSON.stringify(i)),Hf(JSON.stringify(c)),""].join(".")}const du={};function Z2(){const n={prod:[],emulator:[]};for(const t of Object.keys(du))du[t]?n.emulator.push(t):n.prod.push(t);return n}function J2(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let g1=!1;function tC(n,t){if(typeof window>"u"||typeof document>"u"||!mg(window.location.host)||du[n]===t||du[n]||g1)return;du[n]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=Z2().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{g1=!0,c()},S}function v(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=J2(r),D=i("text"),N=document.getElementById(D)||document.createElement("span"),B=i("learnmore"),U=document.getElementById(B)||document.createElement("a"),Q=i("preprendIcon"),L=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;d(q),v(U,B);const G=y();g(L,Q),q.append(L,N,U,G),document.body.appendChild(q)}u?(N.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function eC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){const n=pg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sC(){return!nC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function lT(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}function rC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const aC="FirebaseError";class Fr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=aC,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?oC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Fr(o,d,r)}}function oC(n,t){return n.replace(lC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const lC=/\{\$([^}]+)}/g;function Tu(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(y1(u)&&y1(c)){if(!Tu(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function y1(n){return n!==null&&typeof n=="object"}const uC=1e3,cC=2,fC=14400*1e3,hC=.5;function v1(n,t=uC,i=cC){const r=t*Math.pow(i,n),o=Math.round(hC*r*(Math.random()-.5)*2);return Math.min(fC,r+o)}function ni(n){return n&&n._delegate?n._delegate:n}class ks{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ea="[DEFAULT]";class dC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new W2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mC(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(n){return n===Ea?void 0:n}function mC(n){return n.instantiationMode==="EAGER"}class gC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new dC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Zt||(Zt={}));const yC={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},vC=Zt.INFO,xC={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},bC=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=xC[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gg{constructor(t){this.name=t,this._logLevel=vC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const _C=(n,t)=>t.some(i=>n instanceof i);let x1,b1;function TC(){return x1||(x1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,bm=new WeakMap,cT=new WeakMap,Hp=new WeakMap,yg=new WeakMap;function EC(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Cr(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&uT.set(i,n)}).catch(()=>{}),yg.set(t,n),t}function AC(n){if(bm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});bm.set(n,t)}let _m={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return bm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||cT.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wC(n){_m=n(_m)}function CC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Gp(this),t,...i);return cT.set(r,t.sort?t.sort():[t]),Cr(r)}:SC().includes(n)?function(...t){return n.apply(Gp(this),t),Cr(uT.get(this))}:function(...t){return Cr(n.apply(Gp(this),t))}}function RC(n){return typeof n=="function"?CC(n):(n instanceof IDBTransaction&&AC(n),_C(n,TC())?new Proxy(n,_m):n)}function Cr(n){if(n instanceof IDBRequest)return EC(n);if(Hp.has(n))return Hp.get(n);const t=RC(n);return t!==n&&(Hp.set(n,t),yg.set(t,n)),t}const Gp=n=>yg.get(n);function fT(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=Cr(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Cr(c.result),g.oldVersion,g.newVersion,Cr(c.transaction),g)}),i&&c.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const IC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],Yp=new Map;function _1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Yp.get(t))return Yp.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=DC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IC.includes(i)))return;const u=async function(c,...d){const g=this.transaction(c,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[i](...d),o&&g.done]))[0]};return Yp.set(t,u),u}wC(n=>({...n,get:(t,i,r)=>_1(t,i)||n.get(t,i,r),has:(t,i)=>!!_1(t,i)||n.has(t,i)}));class VC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function jC(n){return n.getComponent()?.type==="VERSION"}const Tm="@firebase/app",T1="0.14.6";const Bs=new gg("@firebase/app"),MC="@firebase/app-compat",NC="@firebase/analytics-compat",OC="@firebase/analytics",PC="@firebase/app-check-compat",LC="@firebase/app-check",kC="@firebase/auth",BC="@firebase/auth-compat",zC="@firebase/database",UC="@firebase/data-connect",FC="@firebase/database-compat",qC="@firebase/functions",HC="@firebase/functions-compat",GC="@firebase/installations",YC="@firebase/installations-compat",KC="@firebase/messaging",QC="@firebase/messaging-compat",WC="@firebase/performance",XC="@firebase/performance-compat",$C="@firebase/remote-config",ZC="@firebase/remote-config-compat",JC="@firebase/storage",tR="@firebase/storage-compat",eR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",sR="firebase",rR="12.6.0";const Sm="[DEFAULT]",aR={[Tm]:"fire-core",[MC]:"fire-core-compat",[OC]:"fire-analytics",[NC]:"fire-analytics-compat",[LC]:"fire-app-check",[PC]:"fire-app-check-compat",[kC]:"fire-auth",[BC]:"fire-auth-compat",[zC]:"fire-rtdb",[UC]:"fire-data-connect",[FC]:"fire-rtdb-compat",[qC]:"fire-fn",[HC]:"fire-fn-compat",[GC]:"fire-iid",[YC]:"fire-iid-compat",[KC]:"fire-fcm",[QC]:"fire-fcm-compat",[WC]:"fire-perf",[XC]:"fire-perf-compat",[$C]:"fire-rc",[ZC]:"fire-rc-compat",[JC]:"fire-gcs",[tR]:"fire-gcs-compat",[eR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};const Gf=new Map,oR=new Map,Em=new Map;function S1(n,t){try{n.container.addComponent(t)}catch(i){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function jr(n){const t=n.name;if(Em.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;Em.set(t,n);for(const i of Gf.values())S1(i,n);for(const i of oR.values())S1(i,n);return!0}function Lu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function lR(n){return n==null?!1:n.settings!==void 0}const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new dh("app","Firebase",uR);class cR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const fR=rR;function hT(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Sm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=aT()),!i)throw Rr.create("no-options");const u=Gf.get(o);if(u){if(Tu(i,u.options)&&Tu(r,u.config))return u;throw Rr.create("duplicate-app",{appName:o})}const c=new gC(o);for(const g of Em.values())c.addComponent(g);const d=new cR(i,r,c);return Gf.set(o,d),d}function dT(n=Sm){const t=Gf.get(n);if(!t&&n===Sm&&aT())return hT();if(!t)throw Rr.create("no-app",{appName:n});return t}function us(n,t,i){let r=aR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}jr(new ks(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const hR="firebase-heartbeat-database",dR=1,Su="firebase-heartbeat-store";let Kp=null;function pT(){return Kp||(Kp=fT(hR,dR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Su)}catch(i){console.warn(i)}}}}).catch(n=>{throw Rr.create("idb-open",{originalErrorMessage:n.message})})),Kp}async function pR(n){try{const i=(await pT()).transaction(Su),r=await i.objectStore(Su).get(mT(n));return await i.done,r}catch(t){if(t instanceof Fr)Bs.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t?.message});Bs.warn(i.message)}}}async function E1(n,t){try{const r=(await pT()).transaction(Su,"readwrite");await r.objectStore(Su).put(t,mT(n)),await r.done}catch(i){if(i instanceof Fr)Bs.warn(i.message);else{const r=Rr.create("idb-set",{originalErrorMessage:i?.message});Bs.warn(r.message)}}}function mT(n){return`${n.name}!${n.options.appId}`}const mR=1024,gR=30;class yR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>gR){const o=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A1(),{heartbeatsToSend:i,unsentEntries:r}=vR(this._heartbeatsCache.heartbeats),o=Hf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bs.warn(t),""}}}function A1(){return new Date().toISOString().substring(0,10)}function vR(n,t=mR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),w1(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),w1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class xR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?lT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function w1(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function bR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}function _R(n){jr(new ks("platform-logger",t=>new VC(t),"PRIVATE")),jr(new ks("heartbeat",t=>new yR(t),"PRIVATE")),us(Tm,T1,n),us(Tm,T1,"esm2020"),us("fire-js","")}_R("");var TR="firebase",SR="12.7.0";us(TR,SR,"app");var C1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ir,gT;(function(){var n;function t(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(j,V,k){for(var I=Array(arguments.length-2),At=2;At<arguments.length;At++)I[At-2]=arguments[At];return A.prototype[V].apply(j,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);const j=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)j[V]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(V=0;V<16;++V)j[V]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],V=R.g[2];let k=R.g[3],I;I=A+(k^w&(V^k))+j[0]+3614090360&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[1]+3905402710&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[3]+3250441966&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(k^w&(V^k))+j[4]+4118548399&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[5]+1200080426&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[7]+4249261313&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(k^w&(V^k))+j[8]+1770035416&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[9]+2336552879&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[11]+2304563134&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(k^w&(V^k))+j[12]+1804603682&4294967295,A=w+(I<<7&4294967295|I>>>25),I=k+(V^A&(w^V))+j[13]+4254626195&4294967295,k=A+(I<<12&4294967295|I>>>20),I=V+(w^k&(A^w))+j[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=w+(A^V&(k^A))+j[15]+1236535329&4294967295,w=V+(I<<22&4294967295|I>>>10),I=A+(V^k&(w^V))+j[1]+4129170786&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[6]+3225465664&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[0]+3921069994&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(V^k&(w^V))+j[5]+3593408605&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[10]+38016083&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[4]+3889429448&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(V^k&(w^V))+j[9]+568446438&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[14]+3275163606&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[8]+1163531501&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(V^k&(w^V))+j[13]+2850285829&4294967295,A=w+(I<<5&4294967295|I>>>27),I=k+(w^V&(A^w))+j[2]+4243563512&4294967295,k=A+(I<<9&4294967295|I>>>23),I=V+(A^w&(k^A))+j[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=w+(k^A&(V^k))+j[12]+2368359562&4294967295,w=V+(I<<20&4294967295|I>>>12),I=A+(w^V^k)+j[5]+4294588738&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[8]+2272392833&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[14]+4259657740&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(w^V^k)+j[1]+2763975236&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[4]+1272893353&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[10]+3200236656&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(w^V^k)+j[13]+681279174&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[0]+3936430074&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[6]+76029189&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(w^V^k)+j[9]+3654602809&4294967295,A=w+(I<<4&4294967295|I>>>28),I=k+(A^w^V)+j[12]+3873151461&4294967295,k=A+(I<<11&4294967295|I>>>21),I=V+(k^A^w)+j[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=w+(V^k^A)+j[2]+3299628645&4294967295,w=V+(I<<23&4294967295|I>>>9),I=A+(V^(w|~k))+j[0]+4096336452&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[7]+1126891415&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[5]+4237533241&4294967295,w=V+(I<<21&4294967295|I>>>11),I=A+(V^(w|~k))+j[12]+1700485571&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[3]+2399980690&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[1]+2240044497&4294967295,w=V+(I<<21&4294967295|I>>>11),I=A+(V^(w|~k))+j[8]+1873313359&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[15]+4264355552&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[13]+1309151649&4294967295,w=V+(I<<21&4294967295|I>>>11),I=A+(V^(w|~k))+j[4]+4149444226&4294967295,A=w+(I<<6&4294967295|I>>>26),I=k+(w^(A|~V))+j[11]+3174756917&4294967295,k=A+(I<<10&4294967295|I>>>22),I=V+(A^(k|~w))+j[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=w+(k^(V|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,j=this.C;let V=this.h,k=0;for(;k<A;){if(V==0)for(;k<=w;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(j[V++]=R.charCodeAt(k++),V==this.blockSize){o(this,j),V=0;break}}else for(;k<A;)if(j[V++]=R[k++],V==this.blockSize){o(this,j),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let j=0;j<32;j+=8)R[A++]=this.g[w]>>>j&255;return R};function u(R,A){var w=d;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function c(R,A){this.h=A;const w=[];let j=!0;for(let V=R.length-1;V>=0;V--){const k=R[V]|0;j&&k==A||(w[V]=k,j=!1)}this.g=w}var d={};function g(R){return-128<=R&&R<128?u(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return U(y(-R));const A=[];let w=1;for(let j=0;R>=w;j++)A[j]=R/w|0,w*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return U(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let j=b;for(let k=0;k<R.length;k+=8){var V=Math.min(8,R.length-k);const I=parseInt(R.substring(k,k+V),A);V<8?(V=y(Math.pow(A,V)),j=j.j(V).add(y(I))):(j=j.j(w),j=j.add(y(I)))}return j}var b=g(0),S=g(1),D=g(16777216);n=c.prototype,n.m=function(){if(B(this))return-U(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const j=this.i(w);R+=(j>=0?j:4294967296+j)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(B(this))return"-"+U(this).toString(R);const A=y(Math.pow(R,6));var w=this;let j="";for(;;){const V=G(w,A).g;w=Q(w,V.j(A));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=V,N(w))return k+j;for(;k.length<6;)k="0"+k;j=k+j}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function B(R){return R.h==-1}n.l=function(R){return R=Q(this,R),B(R)?-1:N(R)?0:1};function U(R){const A=R.g.length,w=[];for(let j=0;j<A;j++)w[j]=~R.g[j];return new c(w,~R.h).add(S)}n.abs=function(){return B(this)?U(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let j=0;for(let V=0;V<=A;V++){let k=j+(this.i(V)&65535)+(R.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);j=I>>>16,k&=65535,I&=65535,w[V]=I<<16|k}return new c(w,w[w.length-1]&-2147483648?-1:0)};function Q(R,A){return R.add(U(A))}n.j=function(R){if(N(this)||N(R))return b;if(B(this))return B(R)?U(this).j(U(R)):U(U(this).j(R));if(B(R))return U(this.j(U(R)));if(this.l(D)<0&&R.l(D)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var j=0;j<2*A;j++)w[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<R.g.length;V++){const k=this.i(j)>>>16,I=this.i(j)&65535,At=R.i(V)>>>16,Ft=R.i(V)&65535;w[2*j+2*V]+=I*Ft,L(w,2*j+2*V),w[2*j+2*V+1]+=k*Ft,L(w,2*j+2*V+1),w[2*j+2*V+1]+=I*At,L(w,2*j+2*V+1),w[2*j+2*V+2]+=k*At,L(w,2*j+2*V+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new c(w,0)};function L(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function q(R,A){this.g=R,this.h=A}function G(R,A){if(N(A))throw Error("division by zero");if(N(R))return new q(b,b);if(B(R))return A=G(U(R),A),new q(U(A.g),U(A.h));if(B(A))return A=G(R,U(A)),new q(U(A.g),A.h);if(R.g.length>30){if(B(R)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var w=S,j=A;j.l(R)<=0;)w=tt(w),j=tt(j);var V=et(w,1),k=et(j,1);for(j=et(j,2),w=et(w,2);!N(j);){var I=k.add(j);I.l(R)<=0&&(V=V.add(w),k=I),j=et(j,1),w=et(w,1)}return A=Q(R,V.j(A)),new q(V,A)}for(V=b;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(w)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),k=y(w),I=k.j(A);B(I)||I.l(R)>0;)w-=j,k=y(w),I=k.j(A);N(k)&&(k=S),V=V.add(k),R=Q(R,I)}return new q(V,R)}n.B=function(R){return G(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let j=0;j<A;j++)w[j]=this.i(j)&R.i(j);return new c(w,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let j=0;j<A;j++)w[j]=this.i(j)|R.i(j);return new c(w,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let j=0;j<A;j++)w[j]=this.i(j)^R.i(j);return new c(w,this.h^R.h)};function tt(R){const A=R.g.length+1,w=[];for(let j=0;j<A;j++)w[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(w,R.h)}function et(R,A){const w=A>>5;A%=32;const j=R.g.length-w,V=[];for(let k=0;k<j;k++)V[k]=A>0?R.i(k+w)>>>A|R.i(k+w+1)<<32-A:R.i(k+w);return new c(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Ir=c}).apply(typeof C1<"u"?C1:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yT,lu,vT,Mf,Am,xT,bT,_T;(function(){var n,t=Object.defineProperty;function i(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var x=0;x<f.length;++x){var T=f[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(f,x){if(x)t:{var T=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var Y=f[C];if(!(Y in T))break t;T=T[Y]}f=f[f.length-1],C=T[f],x=x(C),x!=C&&x!=null&&t(T,f,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(x){var T=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&T.push([C,x[C]]);return T}});var u=u||{},c=this||self;function d(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function g(f,x,T){return f.call.apply(f.bind,arguments)}function y(f,x,T){return y=g,y.apply(null,arguments)}function v(f,x){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function b(f,x){function T(){}T.prototype=x.prototype,f.Z=x.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,Y,nt){for(var mt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)mt[Bt-2]=arguments[Bt];return x.prototype[Y].apply(C,mt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function D(f){const x=f.length;if(x>0){const T=Array(x);for(let C=0;C<x;C++)T[C]=f[C];return T}return[]}function N(f,x){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=f.length||0;const nt=Y.length||0;f.length=T+nt;for(let mt=0;mt<nt;mt++)f[T+mt]=Y[mt]}else f.push(Y)}}class B{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function U(f){c.setTimeout(()=>{throw f},0)}function Q(){var f=R;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class L{constructor(){this.h=this.g=null}add(x,T){const C=q.get();C.set(x,T),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new B(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,et=!1,R=new L,A=()=>{const f=Promise.resolve(void 0);tt=()=>{f.then(w)}};function w(){for(var f;f=Q();){try{f.h.call(f.g)}catch(T){U(T)}var x=q;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}et=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function At(f,x){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}b(At,V),At.prototype.init=function(f,x){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(T=="mouseover"?x=f.fromElement:T=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&At.Z.h.call(this)},At.prototype.h=function(){At.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ft="closure_listenable_"+(Math.random()*1e6|0),M=0;function K(f,x,T,C,Y){this.listener=f,this.proxy=null,this.src=x,this.type=T,this.capture=!!C,this.ha=Y,this.key=++M,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pt(f,x,T){for(const C in f)x.call(T,f[C],C,f)}function vt(f,x){for(const T in f)x.call(void 0,f[T],T,f)}function O(f){const x={};for(const T in f)x[T]=f[T];return x}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(f,x){let T,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(T in C)f[T]=C[T];for(let nt=0;nt<J.length;nt++)T=J[nt],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function ht(f){this.src=f,this.g={},this.h=0}ht.prototype.add=function(f,x,T,C,Y){const nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);const mt=dt(f,x,C,Y);return mt>-1?(x=f[mt],T||(x.fa=!1)):(x=new K(x,this.src,nt,!!C,Y),x.fa=T,f.push(x)),x};function gt(f,x){const T=x.type;if(T in f.g){var C=f.g[T],Y=Array.prototype.indexOf.call(C,x,void 0),nt;(nt=Y>=0)&&Array.prototype.splice.call(C,Y,1),nt&&($(x),f.g[T].length==0&&(delete f.g[T],f.h--))}}function dt(f,x,T,C){for(let Y=0;Y<f.length;++Y){const nt=f[Y];if(!nt.da&&nt.listener==x&&nt.capture==!!T&&nt.ha==C)return Y}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),se={};function Xt(f,x,T,C,Y){if(Array.isArray(x)){for(let nt=0;nt<x.length;nt++)Xt(f,x[nt],T,C,Y);return null}return T=ys(T),f&&f[Ft]?f.J(x,T,d(C)?!!C.capture:!1,Y):vn(f,x,T,!1,C,Y)}function vn(f,x,T,C,Y,nt){if(!x)throw Error("Invalid event type");const mt=d(Y)?!!Y.capture:!!Y;let Bt=Ei(f);if(Bt||(f[_t]=Bt=new ht(f)),T=Bt.add(x,T,C,mt,nt),T.proxy)return T;if(C=zn(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)k||(Y=mt),Y===void 0&&(Y=!1),f.addEventListener(x.toString(),C,Y);else if(f.attachEvent)f.attachEvent(bn(x.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zn(){function f(T){return x.call(f.src,f.listener,T)}const x=ii;return f}function Un(f,x,T,C,Y){if(Array.isArray(x))for(var nt=0;nt<x.length;nt++)Un(f,x[nt],T,C,Y);else C=d(C)?!!C.capture:!!C,T=ys(T),f&&f[Ft]?(f=f.i,nt=String(x).toString(),nt in f.g&&(x=f.g[nt],T=dt(x,T,C,Y),T>-1&&($(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete f.g[nt],f.h--)))):f&&(f=Ei(f))&&(x=f.g[x.toString()],f=-1,x&&(f=dt(x,T,C,Y)),(T=f>-1?x[f]:null)&&xn(T))}function xn(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ft])gt(x.i,f);else{var T=f.type,C=f.proxy;x.removeEventListener?x.removeEventListener(T,C,f.capture):x.detachEvent?x.detachEvent(bn(T),C):x.addListener&&x.removeListener&&x.removeListener(C),(T=Ei(x))?(gt(T,f),T.h==0&&(T.src=null,x[_t]=null)):$(f)}}}function bn(f){return f in se?se[f]:se[f]="on"+f}function ii(f,x){if(f.da)f=!0;else{x=new At(x,this);const T=f.listener,C=f.ha||f.src;f.fa&&xn(f),f=T.call(C,x)}return f}function Ei(f){return f=f[_t],f instanceof ht?f:null}var Ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(f){return typeof f=="function"?f:(f[Ai]||(f[Ai]=function(x){return f.handleEvent(x)}),f[Ai])}function re(){j.call(this),this.i=new ht(this),this.M=this,this.G=null}b(re,j),re.prototype[Ft]=!0,re.prototype.removeEventListener=function(f,x,T,C){Un(this,f,x,T,C)};function be(f,x){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=x.type||x,typeof x=="string")x=new V(x,f);else if(x instanceof V)x.target=x.target||f;else{var Y=x;x=new V(C,f),at(x,Y)}Y=!0;let nt,mt;if(T)for(mt=T.length-1;mt>=0;mt--)nt=x.g=T[mt],Y=rt(nt,C,!0,x)&&Y;if(nt=x.g=f,Y=rt(nt,C,!0,x)&&Y,Y=rt(nt,C,!1,x)&&Y,T)for(mt=0;mt<T.length;mt++)nt=x.g=T[mt],Y=rt(nt,C,!1,x)&&Y}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const T=f.g[x];for(let C=0;C<T.length;C++)$(T[C]);delete f.g[x],f.h--}}this.G=null},re.prototype.J=function(f,x,T,C){return this.i.add(String(f),x,!1,T,C)},re.prototype.K=function(f,x,T,C){return this.i.add(String(f),x,!0,T,C)};function rt(f,x,T,C){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let Y=!0;for(let nt=0;nt<x.length;++nt){const mt=x[nt];if(mt&&!mt.da&&mt.capture==T){const Bt=mt.listener,Ne=mt.ha||mt.src;mt.fa&&gt(f.i,mt),Y=Bt.call(Ne,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function wt(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function St(f){f.g=wt(()=>{f.g=null,f.i&&(f.i=!1,St(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class te extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(f){j.call(this),this.h=f,this.g={}}b(ae,j);var ee=[];function si(f){pt(f.g,function(x,T){this.g.hasOwnProperty(T)&&xn(x)},f),f.g={}}ae.prototype.N=function(){ae.Z.N.call(this),si(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=c.JSON.stringify,Uh=c.JSON.parse,Qu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Wu(){}function Xu(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){V.call(this,"d")}b(ln,V);function ri(){V.call(this,"c")}b(ri,V);var Me={},$u=null;function Ua(){return $u=$u||new re}Me.Ia="serverreachability";function Zu(f){V.call(this,Me.Ia,f)}b(Zu,V);function Ui(f){const x=Ua();be(x,new Zu(x))}Me.STAT_EVENT="statevent";function Kr(f,x){V.call(this,Me.STAT_EVENT,f),this.stat=x}b(Kr,V);function Be(f){const x=Ua();be(x,new Kr(x,f))}Me.Ja="timingevent";function Fi(f,x){V.call(this,Me.Ja,f),this.size=x}b(Fi,V);function qi(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function Fh(f,x,T,C,Y,nt){f.info(function(){if(f.g)if(nt){var mt="",Bt=nt.split("&");for(let oe=0;oe<Bt.length;oe++){var Ne=Bt[oe].split("=");if(Ne.length>1){const Ee=Ne[0];Ne=Ne[1];const ui=Ee.split("_");mt=ui.length>=2&&ui[1]=="type"?mt+(Ee+"="+Ne+"&"):mt+(Ee+"=redacted&")}}}else mt=null;else mt=nt;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+x+`
`+T+`
`+mt})}function Ju(f,x,T,C,Y,nt,mt){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+x+`
`+T+`
`+nt+" "+mt})}function Hi(f,x,T,C){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+qh(f,T)+(C?" "+C:"")})}function Qr(f,x){f.info(function(){return"TIMEOUT: "+x})}Ci.prototype.info=function(){};function qh(f,x){if(!f.g)return x;if(!x)return null;try{const nt=JSON.parse(x);if(nt){for(f=0;f<nt.length;f++)if(Array.isArray(nt[f])){var T=nt[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let mt=1;mt<C.length;mt++)C[mt]=""}}}}return Hs(nt)}catch{return x}}var Wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Xr(){}b(Xr,Wu),Xr.prototype.g=function(){return new XMLHttpRequest},ol=new Xr;function vs(f){return encodeURIComponent(String(f))}function tc(f){var x=1;f=f.split(":");const T=[];for(;x>0&&f.length;)T.push(f.shift()),x--;return f.length&&T.push(f.join(":")),T}function Ri(f,x,T,C){this.j=f,this.i=x,this.l=T,this.S=C||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var ze={},en={};function Gi(f,x,T){f.M=1,f.A=$r(Fe(x)),f.u=T,f.R=!0,Fa(f,null)}function Fa(f,x){f.F=Date.now(),Yi(f),f.B=Fe(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),Ya(T.i,"t",C),f.C=0,T=f.j.L,f.h=new Ii,f.g=mc(f.j,T?x:null,!f.u),f.P>0&&(f.O=new te(y(f.Y,f,f.g),f.P)),x=f.V,T=f.g,C=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ee[0]=Y.toString()),Y=ee);for(let nt=0;nt<Y.length;nt++){const mt=Xt(T,Y[nt],C||x.handleEvent,!1,x.h||x);if(!mt)break;x.g[mt.key]=mt}x=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Ui(),Fh(f.i,f.v,f.B,f.l,f.S,f.u)}Ri.prototype.ba=function(f){f=f.target;const x=this.O;x&&ji(f)==3?x.j():this.Y(f)},Ri.prototype.Y=function(f){try{if(f==this.g)t:{const Bt=ji(this.g),Ne=this.g.ya(),oe=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Bt!=4||Ne==7||(Ne==8||oe<=0?Ui(3):Ui(2)),Ki(this);var x=this.g.ca();this.X=x;var T=Hh(this);if(this.o=x==200,Ju(this.i,this.v,this.B,this.l,this.S,Bt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var nt=C;break e}}nt=null}if(f=nt)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,f);else{this.o=!1,this.m=3,Be(12),Fn(this),ai(this);break t}}if(this.R){f=!0;let Ee;for(;!this.K&&this.C<T.length;)if(Ee=nc(this,T),Ee==en){Bt==4&&(this.m=4,Be(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==ze){this.m=4,Be(15),Hi(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,Ee,null),Qi(this,Ee);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||T.length!=0||this.h.h||(this.m=1,Be(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,T,"[Invalid Chunked Response]"),Fn(this),ai(this);else if(T.length>0&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.aa&&!mt.P&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Tl(mt),mt.P=!0,Be(11))}}else Hi(this.i,this.l,T,null),Qi(this,T);Bt==4&&Fn(this),this.o&&!this.K&&(Bt==4?fc(this.j,this):(this.o=!1,Yi(this)))}else bs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),Fn(this),ai(this)}}}catch{}};function Hh(f){if(!ec(f))return f.g.la();const x=un(f.g);if(x==="")return"";let T="";const C=x.length,Y=ji(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),ai(f),"";f.h.i=new c.TextDecoder}for(let nt=0;nt<C;nt++)f.h.h=!0,T+=f.h.i.decode(x[nt],{stream:!(Y&&nt==C-1)});return x.length=0,f.h.g+=T,f.C=0,f.h.g}function ec(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nc(f,x){var T=f.C,C=x.indexOf(`
`,T);return C==-1?en:(T=Number(x.substring(T,C)),isNaN(T)?ze:(C+=1,C+T>x.length?en:(x=x.slice(C,C+T),f.C=C+T,x)))}Ri.prototype.cancel=function(){this.K=!0,Fn(this)};function Yi(f){f.T=Date.now()+f.H,qa(f,f.H)}function qa(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(y(f.aa,f),x)}function Ki(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ri.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(Ui(),Be(17)),Fn(this),this.m=2,ai(this)):qa(this,this.T-f)};function ai(f){f.j.I==0||f.K||fc(f.j,f)}function Fn(f){Ki(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,si(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Qi(f,x){try{var T=f.j;if(T.I!=0&&(T.g==f||Xi(T.h,f))){if(!f.L&&Xi(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)$a(T),Zs(T);else break t;sa(T),Be(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qi(y(T.Va,T),6e3));Wi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ns(T,11)}else if((f.L||T.g==f)&&$a(T),!I(x))for(Y=T.Ba.g.parse(x),x=0;x<Y.length;x++){let oe=Y[x];const Ee=oe[0];if(!(Ee<=T.K))if(T.K=Ee,oe=oe[1],T.I==2)if(oe[0]=="c"){T.M=oe[1],T.ba=oe[2];const ui=oe[3];ui!=null&&(T.ka=ui,T.j.info("VER="+T.ka));const is=oe[4];is!=null&&(T.za=is,T.j.info("SVER="+T.za));const Mi=oe[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(C=1.5*Mi,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Ni=f.g;if(Ni){const ra=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var nt=C.h;nt.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(cl(nt,nt.h),nt.h=null))}if(C.G){const Za=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(C.wa=Za,fe(C.J,C.G,Za))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var mt=f;if(C.na=pc(C,C.L?C.ba:null,C.W),mt.L){fl(C.h,mt);var Bt=mt,Ne=C.O;Ne&&(Bt.H=Ne),Bt.D&&(Ki(Bt),Yi(Bt)),C.g=mt}else uc(C);T.i.length>0&&es(T)}else oe[0]!="stop"&&oe[0]!="close"||ns(T,7);else T.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?ns(T,7):bl(T):oe[0]!="noop"&&T.l&&T.l.qa(oe),T.A=0)}}Ui(4)}catch{}}var Ue=class{constructor(f,x){this.g=f,this.map=x}};function ll(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wi(f){return f.h?1:f.g?f.g.size:0}function Xi(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function cl(f,x){f.g?f.g.add(x):f.h=x}function fl(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ll.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function hl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const T of f.g.values())x=x.concat(T.G);return x}return D(f.i)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(f,x){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let Y,nt=null;C>=0?(Y=f[T].substring(0,C),nt=f[T].substring(C+1)):Y=f[T],x(Y,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof qn?(this.l=f.l,nn(this,f.j),this.o=f.o,this.g=f.g,Gs(this,f.u),this.h=f.h,dl(this,oc(f.i)),this.m=f.m):f&&(x=String(f).match(ic))?(this.l=!1,nn(this,x[1]||"",!0),this.o=$i(x[2]||""),this.g=$i(x[3]||"",!0),Gs(this,x[4]),this.h=$i(x[5]||"",!0),dl(this,x[6]||"",!0),this.m=$i(x[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}qn.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Zr(x,Ga,!0),":");var T=this.g;return(T||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Zr(x,Ga,!0),"@"),f.push(vs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Zr(T,T.charAt(0)=="/"?pl:sc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Zr(T,rc)),f.join("")},qn.prototype.resolve=function(f){const x=Fe(this);let T=!!f.j;T?nn(x,f.j):T=!!f.o,T?x.o=f.o:T=!!f.g,T?x.g=f.g:T=f.u!=null;var C=f.h;if(T)Gs(x,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=x.h.lastIndexOf("/");Y!=-1&&(C=x.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const nt=[];for(let mt=0;mt<Y.length;){const Bt=Y[mt++];Bt=="."?C&&mt==Y.length&&nt.push(""):Bt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),C&&mt==Y.length&&nt.push("")):(nt.push(Bt),C=!0)}C=nt.join("/")}else C=Y}return T?x.h=C:T=f.i.toString()!=="",T?dl(x,oc(f.i)):T=!!f.m,T&&(x.m=f.m),x};function Fe(f){return new qn(f)}function nn(f,x,T){f.j=T?$i(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Gs(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function dl(f,x,T){x instanceof Ks?(f.i=x,Ka(f.i,f.l)):(T||(x=Zr(x,Ys)),f.i=new Ks(x,f.l))}function fe(f,x,T){f.i.set(x,T)}function $r(f){return fe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function $i(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zr(f,x,T){return typeof f=="string"?(f=encodeURI(f).replace(x,Dn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ga=/[#\/\?@]/g,sc=/[#\?:]/g,pl=/[#\?]/g,Ys=/[#\?@]/g,rc=/#/g;function Ks(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ha(f.i,function(x,T){f.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=Ks.prototype,n.add=function(f,x){Vn(this),this.i=null,f=Qs(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(x),this.h+=1,this};function ac(f,x){Vn(f),x=Qs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function ml(f,x){return Vn(f),x=Qs(f,x),f.g.has(x)}n.forEach=function(f,x){Vn(this),this.g.forEach(function(T,C){T.forEach(function(Y){f.call(x,Y,C,this)},this)},this)};function gl(f,x){Vn(f);let T=[];if(typeof x=="string")ml(f,x)&&(T=T.concat(f.g.get(Qs(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)T=T.concat(f[x]);return T}n.set=function(f,x){return Vn(this),this.i=null,f=Qs(this,f),ml(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=gl(this,f),f.length>0?String(f[0]):x):x};function Ya(f,x,T){ac(f,x),T.length>0&&(f.i=null,f.g.set(Qs(f,x),D(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var T=x[C];const Y=vs(T);T=gl(this,T);for(let nt=0;nt<T.length;nt++){let mt=Y;T[nt]!==""&&(mt+="="+vs(T[nt])),f.push(mt)}}return this.i=f.join("&")};function oc(f){const x=new Ks;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Qs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Ka(f,x){x&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(T,C){const Y=C.toLowerCase();C!=Y&&(ac(this,C),Ya(this,Y,T))},f)),f.j=x}function Di(f,x){const T=new Ci;if(c.Image){const C=new Image;C.onload=v(oi,T,"TestLoadImage: loaded",!0,x,C),C.onerror=v(oi,T,"TestLoadImage: error",!1,x,C),C.onabort=v(oi,T,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(oi,T,"TestLoadImage: timeout",!1,x,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else x(!1)}function yl(f,x){const T=new Ci,C=new AbortController,Y=setTimeout(()=>{C.abort(),oi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:C.signal}).then(nt=>{clearTimeout(Y),nt.ok?oi(T,"TestPingServer: ok",!0,x):oi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),oi(T,"TestPingServer: error",!1,x)})}function oi(f,x,T,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(T)}catch{}}function Ws(){this.g=new Qu}function Zi(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Zi,Wu),Zi.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(f,x){re.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Jr,re),n=Jr.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Vi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Xs(this):Vi(this),this.readyState==3&&Qa(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},n.Na=function(f){this.g&&(this.response=f,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Vi(f)}n.setRequestHeader=function(f,x){this.A.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=x.next();return f.join(`\r
`)};function Vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function li(f){let x="";return pt(f,function(T,C){x+=C,x+=":",x+=T,x+=`\r
`}),x}function ta(f,x,T){t:{for(C in T){var C=!1;break t}C=!0}C||(T=li(T),typeof f=="string"?T!=null&&vs(T):fe(f,x,T))}function pe(f){re.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(pe,re);var Ji=/^https?$/i,vl=["POST","PUT"];n=pe.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,x,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(nt){ea(this,nt);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)T.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const nt of C.keys())T.set(nt,C.get(nt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(nt=>nt.toLowerCase()=="content-type"),Y=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(vl,x,void 0)>=0)||C||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,mt]of T)this.g.setRequestHeader(nt,mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(nt){ea(this,nt)}};function ea(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,xl(f),xs(f)}function xl(f){f.A||(f.A=!0,be(f,"complete"),be(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,be(this,"complete"),be(this,"abort"),xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),pe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(f){if(f.h&&typeof u<"u"){if(f.v&&ji(f)==4)setTimeout(f.Ca.bind(f),0);else if(be(f,"readystatechange"),ji(f)==4){f.h=!1;try{const nt=f.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var C;if(C=nt===0){let mt=String(f.D).match(ic)[1]||null;!mt&&c.self&&c.self.location&&(mt=c.self.location.protocol.slice(0,-1)),C=!Ji.test(mt?mt.toLowerCase():"")}T=C}if(T)be(f,"complete"),be(f,"success");else{f.o=6;try{var Y=ji(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",xl(f)}}finally{xs(f)}}}}function xs(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,x||be(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ji(f){return f.g?f.g.readyState:0}n.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Uh(x)}};function un(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(f){const x={};f=(f.g&&ji(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(I(f[C]))continue;var T=tc(f[C]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const nt=x[Y]||[];x[Y]=nt,nt.push(T)}vt(x,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||x}function $s(f){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(f&&f.concurrentRequestLimit),this.Ba=new Ws,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$s.prototype,n.ka=8,n.I=1,n.connect=function(f,x,T,C){Be(0),this.W=f,this.H=x||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=pc(this,null,this.W),es(this)};function bl(f){if(Wa(f),f.I==3){var x=f.V++,T=Fe(f.J);if(fe(T,"SID",f.M),fe(T,"RID",x),fe(T,"TYPE","terminate"),ia(f,T),x=new Ri(f,f.j,x),x.M=2,x.A=$r(Fe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=mc(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Yi(x)}dc(f)}function Zs(f){f.g&&(Tl(f),f.g.cancel(),f.g=null)}function Wa(f){Zs(f),f.v&&(c.clearTimeout(f.v),f.v=null),$a(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function es(f){if(!ul(f.h)&&!f.m){f.m=!0;var x=f.Ea;tt||A(),et||(tt(),et=!0),R.add(x,f),f.D=0}}function Xa(f,x){return Wi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(y(f.Ea,f,x),hc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ri(this,this.j,f);let nt=this.o;if(this.U&&(nt?(nt=O(nt),at(nt,this.U)):nt=this.U),this.u!==null||this.R||(Y.J=nt,nt=null),this.S)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=lc(this,Y,x),T=Fe(this.J),fe(T,"RID",f),fe(T,"CVER",22),this.G&&fe(T,"X-HTTP-Session-Id",this.G),ia(this,T),nt&&(this.R?x="headers="+vs(li(nt))+"&"+x:this.u&&ta(T,this.u,nt)),cl(this.h,Y),this.Ra&&fe(T,"TYPE","init"),this.S?(fe(T,"$req",x),fe(T,"SID","null"),Y.U=!0,Gi(Y,T,null)):Gi(Y,T,x),this.I=2}}else this.I==3&&(f?_l(this,f):this.i.length==0||ul(this.h)||_l(this))};function _l(f,x){var T;x?T=x.l:T=f.V++;const C=Fe(f.J);fe(C,"SID",f.M),fe(C,"RID",T),fe(C,"AID",f.K),ia(f,C),f.u&&f.o&&ta(C,f.u,f.o),T=new Ri(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),x&&(f.i=x.G.concat(f.i)),x=lc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),cl(f.h,T),Gi(T,C,x)}function ia(f,x){f.H&&pt(f.H,function(T,C){fe(x,C,T)}),f.l&&pt({},function(T,C){fe(x,C,T)})}function lc(f,x,T){T=Math.min(f.i.length,T);const C=f.l?y(f.l.Ka,f.l,f):null;t:{var Y=f.i;let Bt=-1;for(;;){const Ne=["count="+T];Bt==-1?T>0?(Bt=Y[0].g,Ne.push("ofs="+Bt)):Bt=0:Ne.push("ofs="+Bt);let oe=!0;for(let Ee=0;Ee<T;Ee++){var nt=Y[Ee].g;const ui=Y[Ee].map;if(nt-=Bt,nt<0)Bt=Math.max(0,Y[Ee].g-100),oe=!1;else try{nt="req"+nt+"_"||"";try{var mt=ui instanceof Map?ui:Object.entries(ui);for(const[is,Mi]of mt){let Ni=Mi;d(Mi)&&(Ni=Hs(Mi)),Ne.push(nt+is+"="+encodeURIComponent(Ni))}}catch(is){throw Ne.push(nt+"type="+encodeURIComponent("_badmap")),is}}catch{C&&C(ui)}}if(oe){mt=Ne.join("&");break t}}mt=void 0}return f=f.i.splice(0,T),x.G=f,mt}function uc(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;tt||A(),et||(tt(),et=!0),R.add(x,f),f.A=0}}function sa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(y(f.Da,f),hc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(y(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),Zs(this),cc(this))};function Tl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function cc(f){f.g=new Ri(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Fe(f.na);fe(x,"RID","rpc"),fe(x,"SID",f.M),fe(x,"AID",f.K),fe(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&fe(x,"TO",f.ia),fe(x,"TYPE","xmlhttp"),ia(f,x),f.u&&f.o&&ta(x,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=$r(Fe(x)),T.u=null,T.R=!0,Fa(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),sa(this),Be(19))};function $a(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function fc(f,x){var T=null;if(f.g==x){$a(f),Tl(f),f.g=null;var C=2}else if(Xi(f.h,x))T=x.G,fl(f.h,x),C=1;else return;if(f.I!=0){if(x.o)if(C==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var Y=f.D;C=Ua(),be(C,new Fi(C,T)),es(f)}else uc(f);else if(Y=x.m,Y==3||Y==0&&x.X>0||!(C==1&&Xa(f,x)||C==2&&sa(f)))switch(T&&T.length>0&&(x=f.h,x.i=x.i.concat(T)),Y){case 1:ns(f,5);break;case 4:ns(f,10);break;case 3:ns(f,6);break;default:ns(f,2)}}}function hc(f,x){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*x}function ns(f,x){if(f.j.info("Error code "+x),x==2){var T=y(f.bb,f),C=f.Ua;const Y=!C;C=new qn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(C,"https"),$r(C),Y?Di(C.toString(),T):yl(C.toString(),T)}else Be(2);f.I=0,f.l&&f.l.pa(x),dc(f),Wa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function dc(f){if(f.I=0,f.ja=[],f.l){const x=hl(f.h);(x.length!=0||f.i.length!=0)&&(N(f.ja,x),N(f.ja,f.i),f.h.i.length=0,D(f.i),f.i.length=0),f.l.oa()}}function pc(f,x,T){var C=T instanceof qn?Fe(T):new qn(T);if(C.g!="")x&&(C.g=x+"."+C.g),Gs(C,C.u);else{var Y=c.location;C=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;const nt=new qn(null);C&&nn(nt,C),x&&(nt.g=x),Y&&Gs(nt,Y),T&&(nt.h=T),C=nt}return T=f.G,x=f.wa,T&&x&&fe(C,T,x),fe(C,"VER",f.ka),ia(f,C),C}function mc(f,x,T){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new pe(new Zi({ab:T})):new pe(f.ma),x.Fa(f.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Js(){}Js.prototype.g=function(f,x){return new wn(f,x)};function wn(f,x){re.call(this),this.g=new $s(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!I(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new _s(this)}b(wn,re),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){bl(this.g)},wn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Hs(f),f=T);x.i.push(new Ue(x.Ya++,f)),x.I==3&&es(x)},wn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,wn.Z.N.call(this)};function yc(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){t:{for(const T in x){f=T;break t}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}b(yc,ln);function vc(){ri.call(this),this.status=1}b(vc,ri);function _s(f){this.g=f}b(_s,gc),_s.prototype.ra=function(){be(this.g,"a")},_s.prototype.qa=function(f){be(this.g,new yc(f))},_s.prototype.pa=function(f){be(this.g,new vc)},_s.prototype.oa=function(){be(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,_T=function(){return new Js},bT=function(){return Ua()},xT=Me,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,Mf=Wr,al.COMPLETE="complete",vT=al,Xu.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",re.prototype.listen=re.prototype.J,lu=Xu,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,yT=pe}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const R1="@firebase/firestore",I1="4.9.3";class Sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let Zo="12.7.0";const Na=new gg("@firebase/firestore");function Vo(){return Na.logLevel}function bt(n,...t){if(Na.logLevel<=Zt.DEBUG){const i=t.map(vg);Na.debug(`Firestore (${Zo}): ${n}`,...i)}}function zs(n,...t){if(Na.logLevel<=Zt.ERROR){const i=t.map(vg);Na.error(`Firestore (${Zo}): ${n}`,...i)}}function Ho(n,...t){if(Na.logLevel<=Zt.WARN){const i=t.map(vg);Na.warn(`Firestore (${Zo}): ${n}`,...i)}}function vg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function jt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,TT(n,r,i)}function TT(n,t,i){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw zs(r),new Error(r)}function ce(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||TT(t,o,r)}function kt(n,t){return n}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ST{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ER{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Sn.UNAUTHENTICATED)))}shutdown(){}}class AR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class wR{constructor(t){this.t=t,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ce(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},d=g=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new ST(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new Sn(t)}}class CR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ce(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}class xg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=DR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function wm(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Qp(o)===Qp(u)?Kt(o,u):Qp(o)?1:-1}return Kt(n.length,t.length)}const VR=55296,jR=57343;function Qp(n){const t=n.charCodeAt(0);return t>=VR&&t<=jR}function Go(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}const V1="__name__";class ls{constructor(t,i,r){i===void 0?i=0:i>t.length&&jt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&jt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ls.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ls?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ls.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Kt(t.length,i.length)}static compareSegments(t,i){const r=ls.isNumericId(t),o=ls.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ls.extractNumericId(t).compare(ls.extractNumericId(i)):wm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class xe extends ls{construct(t,i,r){return new xe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new xe(i)}static emptyPath(){return new xe([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends ls{construct(t,i,r){return new gn(t,i,r)}static isValidIdentifier(t){return MR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V1}static keyField(){return new gn([V1])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new yt(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new yt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new yt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new yt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(i)}static emptyPath(){return new gn([])}}class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(xe.fromString(t))}static fromName(t){return new Rt(xe.fromString(t).popFirst(5))}static empty(){return new Rt(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return xe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new xe(t.slice()))}}function ET(n,t,i){if(!i)throw new yt(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NR(n,t,i,r){if(t===!0&&r===!0)throw new yt(ut.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function j1(n){if(!Rt.isDocumentKey(n))throw new yt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M1(n){if(Rt.isDocumentKey(n))throw new yt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ph(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":jt(12329,{type:typeof n})}function _i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(n);throw new yt(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function OR(n,t){if(t<=0)throw new yt(ut.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function $e(n,t){const i={typeString:n};return t&&(i.value=t),i}function ku(n,t){if(!AT(n))throw new yt(ut.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new yt(ut.INVALID_ARGUMENT,i);return!0}const N1=-62135596800,O1=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*O1);return new Se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new yt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<N1)throw new yt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O1}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ku(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-N1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:$e("string",Se._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new Se(0,0))}static max(){return new Pt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function PR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new Mr(o,Rt.empty(),t)}function LR(n){return new Mr(n.readTime,n.key,Eu)}class Mr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Mr(Pt.min(),Rt.empty(),Eu)}static max(){return new Mr(Pt.max(),Rt.empty(),Eu)}}function kR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Rt.comparator(n.documentKey,t.documentKey),i!==0?i:Kt(n.largestBatchId,t.largestBatchId))}const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jo(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==BR)throw n;bt("LocalStore","Unexpectedly lost primary lease")}class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ft(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ft?i:ft.resolve(i)}catch(i){return ft.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ft.reject(i)}static resolve(t){return new ft(((i,r)=>{i(t)}))}static reject(t){return new ft(((i,r)=>{r(t)}))}static waitFor(t){return new ft(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(g=>r(g)))})),c=!0,u===o&&i()}))}static or(t){let i=ft.resolve(!1);for(const r of t)i=i.next((o=>o?ft.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new ft(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;i(t[y]).next((v=>{c[y]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new ft(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function UR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function tl(n){return n.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const bg=-1;function gh(n){return n==null}function Yf(n){return n===0&&1/n==-1/0}function FR(n){return typeof n=="number"&&Number.isInteger(n)&&!Yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const wT="";function qR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=P1(t)),t=HR(n.get(i),t);return P1(t)}function HR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case wT:i+="";break;default:i+=u}}return i}function P1(n){return n+wT+""}function L1(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function qr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function CT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Re{constructor(t,i){this.comparator=t,this.root=i||mn.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ef(this.root,t,this.comparator,!0)}}class Ef{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new mn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new mn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new k1(this.data.getIterator())}getIteratorFrom(t){return new k1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new tn(this.comparator);return i.data=t,i}}class k1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new ti([])}unionWith(t){let i=new tn(gn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ti(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}})(t);return new yn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new yn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(ce(!!n,39018),typeof n=="string"){let t=0;const i=GR.exec(n);if(ce(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const IT="server_timestamp",DT="__type__",VT="__previous_value__",jT="__local_write_time__";function _g(n){return(n?.mapValue?.fields||{})[DT]?.stringValue===IT}function yh(n){const t=n.mapValue.fields[VT];return _g(t)?yh(t):t}function Au(n){const t=Nr(n.mapValue.fields[jT].timestampValue);return new Se(t.seconds,t.nanos)}class YR{constructor(t,i,r,o,u,c,d,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const Kf="(default)";class wu{constructor(t,i){this.projectId=t,this.database=i||Kf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(t){return t instanceof wu&&t.projectId===this.projectId&&t.database===this.database}}const MT="__type__",KR="__max__",Af={mapValue:{}},NT="__vector__",Qf="value";function Pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_g(n)?4:WR(n)?9007199254740991:QR(n)?10:11:jt(28295,{value:n})}function gs(n,t){if(n===t)return!0;const i=Pr(n);if(i!==Pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Au(n).isEqual(Au(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Nr(o.timestampValue),d=Nr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Or(o.bytesValue).isEqual(Or(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return ke(o.geoPointValue.latitude)===ke(u.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ke(o.integerValue)===ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ke(o.doubleValue),d=ke(u.doubleValue);return c===d?Yf(c)===Yf(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Go(n.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(L1(c)!==L1(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!gs(c[g],d[g])))return!1;return!0})(n,t);default:return jt(52216,{left:n})}}function Cu(n,t){return(n.values||[]).find((i=>gs(i,t)))!==void 0}function Yo(n,t){if(n===t)return 0;const i=Pr(n),r=Pr(t);if(i!==r)return Kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=ke(u.integerValue||u.doubleValue),g=ke(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(n,t);case 3:return B1(n.timestampValue,t.timestampValue);case 4:return B1(Au(n),Au(t));case 5:return wm(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=Or(u),g=Or(c);return d.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),g=c.split("/");for(let y=0;y<d.length&&y<g.length;y++){const v=Kt(d[y],g[y]);if(v!==0)return v}return Kt(d.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Kt(ke(u.latitude),ke(c.latitude));return d!==0?d:Kt(ke(u.longitude),ke(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return z1(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},g=c.fields||{},y=d[Qf]?.arrayValue,v=g[Qf]?.arrayValue,b=Kt(y?.values?.length||0,v?.values?.length||0);return b!==0?b:z1(y,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Af.mapValue&&c===Af.mapValue)return 0;if(u===Af.mapValue)return 1;if(c===Af.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=c.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let b=0;b<g.length&&b<v.length;++b){const S=wm(g[b],v[b]);if(S!==0)return S;const D=Yo(d[g[b]],y[v[b]]);if(D!==0)return D}return Kt(g.length,v.length)})(n.mapValue,t.mapValue);default:throw jt(23264,{he:i})}}function B1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Kt(n,t);const i=Nr(n),r=Nr(t),o=Kt(i.seconds,r.seconds);return o!==0?o:Kt(i.nanos,r.nanos)}function z1(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Yo(i[o],r[o]);if(u)return u}return Kt(i.length,r.length)}function Ko(n){return Cm(n)}function Cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return Or(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Rt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Cm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Cm(i.fields[c])}`;return o+"}"})(n.mapValue):jt(61005,{value:n})}function Nf(n){switch(Pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(n);return t?16+Nf(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Nf(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return qr(r.fields,((u,c)=>{o+=u.length+Nf(c)})),o})(n.mapValue);default:throw jt(13486,{value:n})}}function U1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Rm(n){return!!n&&"integerValue"in n}function Tg(n){return!!n&&"arrayValue"in n}function F1(n){return!!n&&"nullValue"in n}function q1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Of(n){return!!n&&"mapValue"in n}function QR(n){return(n?.mapValue?.fields||{})[MT]?.stringValue===NT}function pu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return qr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=pu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pu(n.arrayValue.values[i]);return t}return{...n}}function WR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KR}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Of(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(i)}setAll(t){let i=gn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=pu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Of(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){qr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new kn(pu(this.value))}}function OT(n){const t=[];return qr(n.fields,((i,r)=>{const o=new gn([i]);if(Of(r)){const u=OT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ti(t)}class En{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new En(t,0,Pt.min(),Pt.min(),Pt.min(),kn.empty(),0)}static newFoundDocument(t,i,r,o){return new En(t,1,i,Pt.min(),r,o,0)}static newNoDocument(t,i){return new En(t,2,i,Pt.min(),Pt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new En(t,3,i,Pt.min(),Pt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(t,i){this.position=t,this.inclusive=i}}function H1(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=Rt.comparator(Rt.fromName(c.referenceValue),i.key):r=Yo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function G1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!gs(n.position[i],t.position[i]))return!1;return!0}class Ru{constructor(t,i="asc"){this.field=t,this.dir=i}}function XR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class PT{}class Xe extends PT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new ZR(t,i,r):i==="array-contains"?new eI(t,r):i==="in"?new nI(t,r):i==="not-in"?new iI(t,r):i==="array-contains-any"?new sI(t,r):new Xe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new JR(t,r):new tI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Yo(i,this.value)):i!==null&&Pr(this.value)===Pr(i)&&this.matchesComparison(Yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends PT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return LT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(n){return n.op==="and"}function kT(n){return $R(n)&&LT(n)}function $R(n){for(const t of n.filters)if(t instanceof zi)return!1;return!0}function Im(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(kT(n))return n.filters.map((t=>Im(t))).join(",");{const t=n.filters.map((i=>Im(i))).join(",");return`${n.op}(${t})`}}function BT(n,t){return n instanceof Xe?(function(r,o){return o instanceof Xe&&r.op===o.op&&r.field.isEqual(o.field)&&gs(r.value,o.value)})(n,t):n instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&BT(c,o.filters[d])),!0):!1})(n,t):void jt(19439)}function zT(n){return n instanceof Xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ko(i.value)}`})(n):n instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zT).join(" ,")+"}"})(n):"Filter"}class ZR extends Xe{constructor(t,i,r){super(t,i,r),this.key=Rt.fromName(r.referenceValue)}matches(t){const i=Rt.comparator(t.key,this.key);return this.matchesComparison(i)}}class JR extends Xe{constructor(t,i){super(t,"in",i),this.keys=UT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tI extends Xe{constructor(t,i){super(t,"not-in",i),this.keys=UT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UT(n,t){return(t.arrayValue?.values||[]).map((i=>Rt.fromName(i.referenceValue)))}class eI extends Xe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tg(i)&&Cu(i.arrayValue,this.value)}}class nI extends Xe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cu(this.value.arrayValue,i)}}class iI extends Xe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cu(this.value.arrayValue,i)}}class sI extends Xe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Cu(this.value.arrayValue,r)))}}class rI{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function Y1(n,t=null,i=[],r=[],o=null,u=null,c=null){return new rI(n,t,i,r,o,u,c)}function Sg(n){const t=kt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Im(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ko(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ko(r))).join(",")),t.Te=i}return t.Te}function Eg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!XR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!BT(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!G1(n.startAt,t.startAt)&&G1(n.endAt,t.endAt)}function Dm(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class el{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aI(n,t,i,r,o,u,c,d){return new el(n,t,i,r,o,u,c,d)}function vh(n){return new el(n)}function K1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FT(n){return n.collectionGroup!==null}function mu(n){const t=kt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(gn.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ru(u,r))})),i.has(gn.keyField().canonicalString())||t.Ie.push(new Ru(gn.keyField(),r))}return t.Ie}function cs(n){const t=kt(n);return t.Ee||(t.Ee=oI(t,mu(n))),t.Ee}function oI(n,t){if(n.limitType==="F")return Y1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const i=n.endAt?new Wf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wf(n.startAt.position,n.startAt.inclusive):null;return Y1(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Vm(n,t){const i=n.filters.concat([t]);return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Xf(n,t,i){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function xh(n,t){return Eg(cs(n),cs(t))&&n.limitType===t.limitType}function qT(n){return`${Sg(cs(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>zT(o))).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ko(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ko(o))).join(",")),`Target(${r})`})(cs(n))}; limitType=${n.limitType})`}function bh(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Rt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of mu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,g){const y=H1(c,d,g);return c.inclusive?y<=0:y<0})(r.startAt,mu(r),o)||r.endAt&&!(function(c,d,g){const y=H1(c,d,g);return c.inclusive?y>=0:y>0})(r.endAt,mu(r),o))})(n,t)}function lI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HT(n){return(t,i)=>{let r=!1;for(const o of mu(n)){const u=uI(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function uI(n,t,i){const r=n.field.isKeyField()?Rt.comparator(t.key,i.key):(function(u,c,d){const g=c.data.field(u),y=d.data.field(u);return g!==null&&y!==null?Yo(g,y):jt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:n.dir})}}class ka{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}const cI=new Re(Rt.comparator);function Us(){return cI}const GT=new Re(Rt.comparator);function uu(...n){let t=GT;for(const i of n)t=t.insert(i.key,i);return t}function YT(n){let t=GT;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function wa(){return gu()}function KT(){return gu()}function gu(){return new ka((n=>n.toString()),((n,t)=>n.isEqual(t)))}const fI=new Re(Rt.comparator),hI=new tn(Rt.comparator);function Qt(...n){let t=hI;for(const i of n)t=t.add(i);return t}const dI=new tn(Kt);function pI(){return dI}function Ag(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(t)?"-0":t}}function QT(n){return{integerValue:""+n}}function mI(n,t){return FR(t)?QT(t):Ag(n,t)}class _h{constructor(){this._=void 0}}function gI(n,t,i){return n instanceof $f?(function(o,u){const c={fields:{[DT]:{stringValue:IT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&_g(u)&&(u=yh(u)),u&&(c.fields[VT]=u),{mapValue:c}})(i,t):n instanceof Iu?XT(n,t):n instanceof Du?$T(n,t):(function(o,u){const c=WT(o,u),d=Q1(c)+Q1(o.Ae);return Rm(c)&&Rm(o.Ae)?QT(d):Ag(o.serializer,d)})(n,t)}function yI(n,t,i){return n instanceof Iu?XT(n,t):n instanceof Du?$T(n,t):i}function WT(n,t){return n instanceof Zf?(function(r){return Rm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class $f extends _h{}class Iu extends _h{constructor(t){super(),this.elements=t}}function XT(n,t){const i=ZT(t);for(const r of n.elements)i.some((o=>gs(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Du extends _h{constructor(t){super(),this.elements=t}}function $T(n,t){let i=ZT(t);for(const r of n.elements)i=i.filter((o=>!gs(o,r)));return{arrayValue:{values:i}}}class Zf extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Q1(n){return ke(n.integerValue||n.doubleValue)}function ZT(n){return Tg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Iu&&o instanceof Iu||r instanceof Du&&o instanceof Du?Go(r.elements,o.elements,gs):r instanceof Zf&&o instanceof Zf?gs(r.Ae,o.Ae):r instanceof $f&&o instanceof $f})(n.transform,t.transform)}class xI{constructor(t,i){this.version=t,this.transformResults=i}}class Ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Th{}function JT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new wg(n.key,Ti.none()):new Bu(n.key,n.data,Ti.none());{const i=n.data,r=kn.empty();let o=new tn(gn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Hr(n.key,r,new ti(o.toArray()),Ti.none())}}function bI(n,t,i){n instanceof Bu?(function(o,u,c){const d=o.value.clone(),g=X1(o.fieldTransforms,u,c.transformResults);d.setAll(g),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,i):n instanceof Hr?(function(o,u,c){if(!Pf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=X1(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(tS(o)),g.setAll(d),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function yu(n,t,i,r){return n instanceof Bu?(function(u,c,d,g){if(!Pf(u.precondition,c))return d;const y=u.value.clone(),v=$1(u.fieldTransforms,g,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,t,i,r):n instanceof Hr?(function(u,c,d,g){if(!Pf(u.precondition,c))return d;const y=$1(u.fieldTransforms,g,c),v=c.data;return v.setAll(tS(u)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,d){return Pf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,i)}function _I(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=WT(r.transform,o||null);u!=null&&(i===null&&(i=kn.empty()),i.set(r.field,u))}return i||null}function W1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Go(r,o,((u,c)=>vI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Bu extends Th{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Th{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tS(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function X1(n,t,i){const r=new Map;ce(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,yI(c,d,i[o]))}return r}function $1(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,gI(u,c,t))}return r}class wg extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TI extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&bI(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=yu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=yu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=KT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const g=JT(c,d);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Pt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,((i,r)=>W1(i,r)))&&Go(this.baseMutations,t.baseMutations,((i,r)=>W1(i,r)))}}class Cg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ce(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return fI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Cg(t,i,r,o)}}class EI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Qe,$t;function wI(n){switch(n){case ut.OK:return jt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return jt(15467,{code:n})}}function eS(n){if(n===void 0)return zs("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Qe.OK:return ut.OK;case Qe.CANCELLED:return ut.CANCELLED;case Qe.UNKNOWN:return ut.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return ut.INTERNAL;case Qe.UNAVAILABLE:return ut.UNAVAILABLE;case Qe.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Qe.NOT_FOUND:return ut.NOT_FOUND;case Qe.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Qe.ABORTED:return ut.ABORTED;case Qe.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Qe.DATA_LOSS:return ut.DATA_LOSS;default:return jt(39323,{code:n})}}($t=Qe||(Qe={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function CI(){return new TextEncoder}const RI=new Ir([4294967295,4294967295],0);function Z1(n){const t=CI().encode(n),i=new gT;return i.update(t),new Uint8Array(i.digest())}function J1(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ir([i,r],0),new Ir([o,u],0)]}class Rg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new cu(`Invalid padding: ${i}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new cu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ir.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Ir.fromNumber(r)));return o.compare(RI)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Z1(t),[r,o]=J1(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Rg(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=Z1(t),[r,o]=J1(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sh(Pt.min(),o,new Re(Kt),Us(),Qt())}}class zu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new zu(r,i,Qt(),Qt(),Qt())}}class Lf{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class nS{constructor(t,i){this.targetId=t,this.Ce=i}}class iS{constructor(t,i,r=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class tb{constructor(){this.ve=0,this.Fe=eb(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),i=Qt(),r=Qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:jt(38017,{changeType:u})}})),new zu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=eb()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class II{constructor(t){this.Ge=t,this.ze=new Map,this.je=Us(),this.Je=wf(),this.He=wf(),this.Ye=new Re(Kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:jt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Dm(u))if(r===0){const c=new Rt(u.path);this.et(i,c,En.newNoDocument(c,Pt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=Or(r).toUint8Array()}catch(g){if(g instanceof RT)return Ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Rg(c,o,u)}catch(g){return Ho(g instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Dm(d.target)){const g=new Rt(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,En.newNoDocument(g,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Qt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Sh(t,i,this.Ye,this.je,r);return this.je=Us(),this.Je=wf(),this.He=wf(),this.Ye=new Re(Kt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new tb,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new tn(Kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new tn(Kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||bt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tb),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wf(){return new Re(Rt.comparator)}function eb(){return new Re(Rt.comparator)}const DI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class MI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function jm(n,t){return n.useProto3Json||gh(t)?t:{value:t}}function Jf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function NI(n,t){return Jf(n,t.toTimestamp())}function fs(n){return ce(!!n,49232),Pt.fromTimestamp((function(i){const r=Nr(i);return new Se(r.seconds,r.nanos)})(n))}function Ig(n,t){return Mm(n,t).canonicalString()}function Mm(n,t){const i=(function(o){return new xe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function rS(n){const t=xe.fromString(n);return ce(cS(t),10190,{key:t.toString()}),t}function Nm(n,t){return Ig(n.databaseId,t.path)}function Wp(n,t){const i=rS(t);if(i.get(1)!==n.databaseId.projectId)throw new yt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new yt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Rt(oS(i))}function aS(n,t){return Ig(n.databaseId,t)}function OI(n){const t=rS(n);return t.length===4?xe.emptyPath():oS(t)}function Om(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oS(n){return ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nb(n,t,i){return{name:Nm(n,t),fields:i.value.mapValue.fields}}function PI(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:jt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,v){return y.useProto3Json?(ce(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(y){const v=y.code===void 0?ut.UNKNOWN:eS(y.code);return new yt(v,y.message||"")})(c);i=new iS(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wp(n,r.document.name),u=fs(r.document.updateTime),c=r.document.createTime?fs(r.document.createTime):Pt.min(),d=new kn({mapValue:{fields:r.document.fields}}),g=En.newFoundDocument(o,u,c,d),y=r.targetIds||[],v=r.removedTargetIds||[];i=new Lf(y,v,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Wp(n,r.document),u=r.readTime?fs(r.readTime):Pt.min(),c=En.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Lf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Wp(n,r.document),u=r.removedTargetIds||[];i=new Lf([],u,o,null)}else{if(!("filter"in t))return jt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new AI(o,u),d=r.targetId;i=new nS(d,c)}}return i}function LI(n,t){let i;if(t instanceof Bu)i={update:nb(n,t.key,t.value)};else if(t instanceof wg)i={delete:Nm(n,t.key)};else if(t instanceof Hr)i={update:nb(n,t.key,t.data),updateMask:YI(t.fieldMask)};else{if(!(t instanceof TI))return jt(16599,{Vt:t.type});i={verify:Nm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof $f)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw jt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:jt(27497)})(n,t.precondition)),i}function kI(n,t){return n&&n.length>0?(ce(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?fs(o.updateTime):fs(u);return c.isEqual(Pt.min())&&(c=fs(u)),new xI(c,o.transformResults||[])})(i,t)))):[]}function BI(n,t){return{documents:[aS(n,t.path)]}}function zI(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=aS(n,o);const u=(function(y){if(y.length!==0)return uS(zi.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:Mo(S.field),direction:qI(S.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=jm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function UI(n){let t=OI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ce(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const S=lS(b);return S instanceof zi&&kT(S)?S.getFilters():[S]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((S=>(function(N){return new Ru(No(N.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(i.orderBy));let d=null;i.limit&&(d=(function(b){let S;return S=typeof b=="object"?b.value:b,gh(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(b){const S=!!b.before,D=b.values||[];return new Wf(D,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,D=b.values||[];return new Wf(D,S)})(i.endAt)),aI(t,o,c,u,d,"F",g,y)}function FI(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lS(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=No(i.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=No(i.unaryFilter.field);return Xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(i.unaryFilter.field);return Xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(i.unaryFilter.field);return Xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Xe.create(No(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>lS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(i.compositeFilter.op))})(n):jt(30097,{filter:n})}function qI(n){return DI[n]}function HI(n){return VI[n]}function GI(n){return jI[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function No(n){return gn.fromServerFormat(n.fieldPath)}function uS(n){return n instanceof Xe?(function(i){if(i.op==="=="){if(q1(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NAN"}};if(F1(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q1(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NAN"}};if(F1(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(i.field),op:HI(i.op),value:i.value}}})(n):n instanceof zi?(function(i){const r=i.getFilters().map((o=>uS(o)));return r.length===1?r[0]:{compositeFilter:{op:GI(i.op),filters:r}}})(n):jt(54877,{filter:n})}function YI(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Sr{constructor(t,i,r,o,u=Pt.min(),c=Pt.min(),d=yn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class KI{constructor(t){this.yt=t}}function QI(n){const t=UI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xf(t,t.limit,"L"):t}class WI{constructor(){this.Cn=new XI}addToCollectionParentIndex(t,i){return this.Cn.add(i),ft.resolve()}getCollectionParents(t,i){return ft.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return ft.resolve()}deleteFieldIndex(t,i){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,i){return ft.resolve()}getDocumentsMatchingTarget(t,i){return ft.resolve(null)}getIndexType(t,i){return ft.resolve(0)}getFieldIndexes(t,i){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,i){return ft.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,i){return ft.resolve(Mr.min())}updateCollectionGroup(t,i,r){return ft.resolve()}updateIndexEntries(t,i){return ft.resolve()}}class XI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new tn(xe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(xe.comparator)).toArray()}}const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(fS,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Qo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Qo(0)}static cr(){return new Qo(-1)}}const sb="LruGarbageCollector",$I=1048576;function rb([n,t],[i,r]){const o=Kt(n,i);return o===0?Kt(t,r):o}class ZI{constructor(t){this.Ir=t,this.buffer=new tn(rb),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();rb(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){bt(sb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){tl(i)?bt(sb,"Ignoring IndexedDB error during garbage collection: ",i):await Jo(i)}await this.Vr(3e5)}))}}class tD{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return ft.resolve(mh.ce);const r=new ZI(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(ib)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,g,y;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,d=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Vo()<=Zt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function eD(n,t){return new tD(n,t)}class nD{constructor(){this.changes=new ka((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ft.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class sD{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&yu(r.mutation,o,ti.empty(),Se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Qt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Qt()){const o=wa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=uu();return u.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=wa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Qt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=Us();const c=gu(),d=(function(){return gu()})();return i.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Hr)?u=u.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),yu(v.mutation,y,v.mutation.getFieldMask(),Se.now())):c.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,v)=>c.set(y,v))),i.forEach(((y,v)=>d.set(y,new iD(v,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=gu();let o=new Re(((c,d)=>c-d)),u=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let v=r.get(g)||ti.empty();v=d.applyToLocalView(y,v),r.set(g,v);const b=(o.get(d.batchId)||Qt()).add(g);o=o.insert(d.batchId,b)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,v=g.value,b=KT();v.forEach((S=>{if(!u.has(S)){const D=JT(i.get(S),r.get(S));D!==null&&b.set(S,D),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,y,b))}return ft.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return Rt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):FT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):ft.resolve(wa());let d=Eu,g=u;return c.next((y=>ft.forEach(y,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?ft.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Qt()))).next((v=>({batchId:d,changes:YT(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Rt(i)).next((r=>{let o=uu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(t,u).next((d=>ft.forEach(d,(g=>{const y=(function(b,S){return new el(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((g,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))}));let d=uu();return c.forEach(((g,y)=>{const v=u.get(g);v!==void 0&&yu(v.mutation,y,ti.empty(),Se.now()),bh(i,y)&&(d=d.insert(g,y))})),d}))}}class rD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return ft.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(i)),ft.resolve()}getNamedQuery(t,i){return ft.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:QI(o.bundledQuery),readTime:fs(o.readTime)}})(i)),ft.resolve()}}class aD{constructor(){this.overlays=new Re(Rt.comparator),this.qr=new Map}getOverlay(t,i){return ft.resolve(this.overlays.get(i))}getOverlays(t,i){const r=wa();return ft.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),ft.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ft.resolve()}getOverlaysForCollection(t,i,r){const o=wa(),u=i.length+1,c=new Rt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ft.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Re(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let v=u.get(y.largestBatchId);v===null&&(v=wa(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=wa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return ft.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new EI(i,r));let u=this.qr.get(i);u===void 0&&(u=Qt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class oD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ft.resolve()}}class Dg{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new on(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new on(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Rt(new xe([])),r=new on(i,t),o=new on(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Rt(new xe([])),r=new on(i,t),o=new on(i,t+1);let u=Qt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new on(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Rt.comparator(t.key,i.key)||Kt(t.Yr,i.Yr)}static Kr(t,i){return Kt(t.Yr,i.Yr)||Rt.comparator(t.key,i.key)}}class lD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SI(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new on(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ft.resolve(c)}lookupMutationBatch(t,i){return ft.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return ft.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?bg:this.tr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ft.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new tn(Kt);return i.forEach((o=>{const u=new on(o,0),c=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),ft.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Rt.isDocumentKey(u)||(u=u.child(""));const c=new on(new Rt(u),0);let d=new tn(Kt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.Yr)),!0)}),c),ft.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ce(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ft.forEach(i.mutations,(o=>{const u=new on(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new on(i,0),o=this.Zr.firstAfterOrEqual(r);return ft.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uD{constructor(t){this.ri=t,this.docs=(function(){return new Re(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ft.resolve(r?r.document.mutableCopy():En.newInvalidDocument(i))}getEntries(t,i){let r=Us();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))})),ft.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Us();const c=i.path,d=new Rt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||kR(LR(v),r)<=0||(o.has(v.key)||bh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ft.resolve(u)}getAllFromCollectionGroup(t,i,r,o){jt(9500)}ii(t,i){return ft.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new cD(this)}getSize(t){return ft.resolve(this.size)}}class cD extends nD{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ft.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class fD{constructor(t){this.persistence=t,this.si=new ka((i=>Sg(i)),Eg),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dg,this.targetCount=0,this.ai=Qo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ft.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Qo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,ft.resolve()}updateTargetData(t,i){return this.Pr(i),ft.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),ft.waitFor(u).next((()=>o))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return ft.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),ft.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ft.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),ft.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return ft.resolve(r)}containsKey(t,i){return ft.resolve(this._i.containsKey(i))}}class hS{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new oD,this.referenceDelegate=t(this),this.Pi=new fD(this),this.indexManager=new WI,this.remoteDocumentCache=(function(o){return new uD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new KI(i),this.Ii=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new lD(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){bt("MemoryPersistence","Starting transaction:",t);const o=new hD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return ft.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class hD extends zR{constructor(t){super(),this.currentSequenceNumber=t}}class Vg{constructor(t){this.persistence=t,this.Ri=new Dg,this.Vi=null}static mi(t){return new Vg(t)}get fi(){if(this.Vi)return this.Vi;throw jt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ft.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ft.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),ft.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.fi,(r=>{const o=Rt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return ft.or([()=>ft.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new ka((r=>qR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=eD(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return ft.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return ft.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ft.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Pt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),ft.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nf(t.data.value)),i}br(t,i,r){return ft.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return ft.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Qt(),o=Qt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jg(t,i.fromCache,r,o)}}class dD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sC()?8:UR(eC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new dD;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Vo()<=Zt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ft.resolve()):(Vo()<=Zt.DEBUG&&bt("QueryEngine","Query:",jo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Vo()<=Zt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cs(i))):ft.resolve())}ys(t,i){if(K1(i))return ft.resolve(null);let r=cs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Xf(i,null,"F"),r=cs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Qt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(i,d);return this.Cs(i,y,c,g.readTime)?this.ys(t,Xf(i,null,"F")):this.vs(t,y,i,g)}))))})))))}ws(t,i,r,o){return K1(i)||o.isEqual(Pt.min())?ft.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?ft.resolve(null):(Vo()<=Zt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(i)),this.vs(t,c,i,PR(o,Eu)).next((d=>d)))}))}Ds(t,i){let r=new tn(HT(t));return i.forEach(((o,u)=>{bh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Vo()<=Zt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",jo(i)),this.ps.getDocumentsMatchingQuery(t,i,Mr.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Mg="LocalStore",mD=3e8;class gD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Re(Kt),this.xs=new ka((u=>Sg(u)),Eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function yD(n,t,i,r){return new gD(n,t,i,r)}async function dS(n,t){const i=kt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let g=Qt();for(const y of o){c.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of u){d.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function vD(n,t){const i=kt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,g,y,v){const b=y.batch,S=b.keys();let D=ft.resolve();return S.forEach((N=>{D=D.next((()=>v.getEntry(g,N))).next((B=>{const U=y.docVersions.get(N);ce(U!==null,48541),B.version.compareTo(U)<0&&(b.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=Qt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function pS(n){const t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function xD(n,t){const i=kt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((v,b)=>{const S=o.get(b);if(!S)return;d.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let D=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(yn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,r)),o=o.insert(b,D),(function(B,U,Q){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=mD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,D,v)&&d.push(i.Pi.updateTargetData(u,D))}));let g=Us(),y=Qt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(bD(u,c,t.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(Pt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return ft.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=o,u)))}function bD(n,t,i){let r=Qt(),o=Qt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Us();return i.forEach(((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Pt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):bt(Mg,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function _D(n,t){const i=kt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=bg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function TD(n,t){const i=kt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,ft.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Sr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Pm(n,t,i){const r=kt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;bt(Mg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ab(n,t,i){const r=kt(n);let o=Pt.min(),u=Qt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,y,v){const b=kt(g),S=b.xs.get(v);return S!==void 0?ft.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,v)})(r,c,cs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Pt.min(),i?u:Qt()))).next((d=>(SD(r,lI(t),d),{documents:d,Qs:u})))))}function SD(n,t,i){let r=n.Os.get(t)||Pt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class ob{constructor(){this.activeTargetIds=pI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ED{constructor(){this.Mo=new ob,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ob,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AD{Oo(t){}shutdown(){}}const lb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bt(lb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){bt(lb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function Lm(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const Xp="RestConnection",wD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Kf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=Lm(),d=this.zo(t,i.toUriEncodedString());bt(Xp,`Sending RPC '${t}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(d),v=mg(y);return this.Jo(t,d,g,r,v).then((b=>(bt(Xp,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw Ho(Xp,`RPC '${t}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=wD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class RD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Tn="WebChannelConnection";class ID extends CD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=Lm();return new Promise(((d,g)=>{const y=new yT;y.setWithCredentials(!0),y.listenOnce(vT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mf.NO_ERROR:const b=y.getResponseJson();bt(Tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case Mf.TIMEOUT:bt(Tn,`RPC '${t}' ${c} timed out`),g(new yt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const S=y.getStatus();if(bt(Tn,`RPC '${t}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const B=(function(Q){const L=Q.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(L)>=0?L:ut.UNKNOWN})(N.status);g(new yt(B,N.message))}else g(new yt(ut.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new yt(ut.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{bt(Tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);bt(Tn,`RPC '${t}' ${c} sending request:`,o),y.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=Lm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_T(),d=bT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const v=u.join("");bt(Tn,`Creating RPC '${t}' stream ${o}: ${v}`,g);const b=c.createWebChannel(v,g);this.I_(b);let S=!1,D=!1;const N=new RD({Yo:U=>{D?bt(Tn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(S||(bt(Tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),bt(Tn,`RPC '${t}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),B=(U,Q,L)=>{U.listen(Q,(q=>{try{L(q)}catch(G){setTimeout((()=>{throw G}),0)}}))};return B(b,lu.EventType.OPEN,(()=>{D||(bt(Tn,`RPC '${t}' stream ${o} transport opened.`),N.o_())})),B(b,lu.EventType.CLOSE,(()=>{D||(D=!0,bt(Tn,`RPC '${t}' stream ${o} transport closed`),N.a_(),this.E_(b))})),B(b,lu.EventType.ERROR,(U=>{D||(D=!0,Ho(Tn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),N.a_(new yt(ut.UNAVAILABLE,"The operation could not be completed")))})),B(b,lu.EventType.MESSAGE,(U=>{if(!D){const Q=U.data[0];ce(!!Q,16349);const L=Q,q=L?.error||L[0]?.error;if(q){bt(Tn,`RPC '${t}' stream ${o} received error:`,q);const G=q.status;let tt=(function(A){const w=Qe[A];if(w!==void 0)return eS(w)})(G),et=q.message;tt===void 0&&(tt=ut.INTERNAL,et="Unknown error status: "+G+" with message "+q.message),D=!0,N.a_(new yt(tt,et)),b.close()}else bt(Tn,`RPC '${t}' stream ${o} received:`,Q),N.u_(Q)}})),B(d,xT.STAT_EVENT,(U=>{U.stat===Am.PROXY?bt(Tn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Am.NOPROXY&&bt(Tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $p(){return typeof document<"u"?document:null}function Eh(n){return new MI(n,!0)}class mS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cb="PersistentStream";class gS{constructor(t,i,r,o,u,c,d,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ut.RESOURCE_EXHAUSTED?(zs(i.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return bt(cb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(bt(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DD extends gS{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=PI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Pt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?fs(c.readTime):Pt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Om(this.serializer),i.addTarget=(function(u,c){let d;const g=c.target;if(d=Dm(g)?{documents:BI(u,g)}:{query:zI(u,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=sS(u,c.resumeToken);const y=jm(u,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Pt.min())>0){d.readTime=Jf(u,c.snapshotVersion.toTimestamp());const y=jm(u,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,t);const r=FI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Om(this.serializer),i.removeTarget=t,this.q_(i)}}class VD extends gS{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kI(t.writeResults,t.commitTime),r=fs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Om(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>LI(this.serializer,r)))};this.q_(i)}}class jD{}class MD extends jD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Mm(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ut.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Mm(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ut.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ND{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(i),this.aa=!1):bt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oa="RemoteStore";class OD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ba(this)&&(bt(Oa,"Restarting streams for network reachability change."),await(async function(g){const y=kt(g);y.Ea.add(4),await Uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Ra=new ND(r,o)}}async function Ah(n){if(Ba(n))for(const t of n.da)await t(!0)}async function Uu(n){for(const t of n.da)await t(!1)}function yS(n,t){const i=kt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Lg(i)?Pg(i):nl(i).O_()&&Og(i,t))}function Ng(n,t){const i=kt(n),r=nl(i);i.Ia.delete(t),r.O_()&&vS(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ba(i)&&i.Ra.set("Unknown"))}function Og(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}nl(n).Y_(t)}function vS(n,t){n.Va.Ue(t),nl(n).Z_(t)}function Pg(n){n.Va=new II({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),nl(n).start(),n.Ra.ua()}function Lg(n){return Ba(n)&&!nl(n).x_()&&n.Ia.size>0}function Ba(n){return kt(n).Ea.size===0}function xS(n){n.Va=void 0}async function PD(n){n.Ra.set("Online")}async function LD(n){n.Ia.forEach(((t,i)=>{Og(n,t)}))}async function kD(n,t){xS(n),Lg(n)?(n.Ra.ha(t),Pg(n)):n.Ra.set("Unknown")}async function BD(n,t,i){if(n.Ra.set("Online"),t instanceof iS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(r){bt(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await eh(n,r)}else if(t instanceof Lf?n.Va.Ze(t):t instanceof nS?n.Va.st(t):n.Va.tt(t),!i.isEqual(Pt.min()))try{const r=await pS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(y);v&&u.Ia.set(y,v.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,y)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),vS(u,g);const b=new Sr(v.target,g,y,v.sequenceNumber);Og(u,b)})),u.remoteSyncer.applyRemoteEvent(d)})(n,i)}catch(r){bt(Oa,"Failed to raise snapshot:",r),await eh(n,r)}}async function eh(n,t,i){if(!tl(t))throw t;n.Ea.add(1),await Uu(n),n.Ra.set("Offline"),i||(i=()=>pS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{bt(Oa,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Ah(n)}))}function bS(n,t){return t().catch((i=>eh(n,i,t)))}async function wh(n){const t=kt(n),i=Lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bg;for(;zD(t);)try{const o=await _D(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,UD(t,o)}catch(o){await eh(t,o)}_S(t)&&TS(t)}function zD(n){return Ba(n)&&n.Ta.length<10}function UD(n,t){n.Ta.push(t);const i=Lr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function _S(n){return Ba(n)&&!Lr(n).x_()&&n.Ta.length>0}function TS(n){Lr(n).start()}async function FD(n){Lr(n).ra()}async function qD(n){const t=Lr(n);for(const i of n.Ta)t.ea(i.mutations)}async function HD(n,t,i){const r=n.Ta.shift(),o=Cg.from(r,t,i);await bS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await wh(n)}async function GD(n,t){t&&Lr(n).X_&&await(async function(r,o){if((function(c){return wI(c)&&c!==ut.ABORTED})(o.code)){const u=r.Ta.shift();Lr(r).B_(),await bS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wh(r)}})(n,t),_S(n)&&TS(n)}async function fb(n,t){const i=kt(n);i.asyncQueue.verifyOperationInProgress(),bt(Oa,"RemoteStore received new credentials");const r=Ba(i);i.Ea.add(3),await Uu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function YD(n,t){const i=kt(n);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Uu(i),i.Ra.set("Unknown"))}function nl(n){return n.ma||(n.ma=(function(i,r,o){const u=kt(i);return u.sa(),new DD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:PD.bind(null,n),t_:LD.bind(null,n),r_:kD.bind(null,n),H_:BD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Lg(n)?Pg(n):n.Ra.set("Unknown")):(await n.ma.stop(),xS(n))}))),n.ma}function Lr(n){return n.fa||(n.fa=(function(i,r,o){const u=kt(i);return u.sa(),new VD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:FD.bind(null,n),r_:GD.bind(null,n),ta:qD.bind(null,n),na:HD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await wh(n)):(await n.fa.stop(),n.Ta.length>0&&(bt(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class kg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new kg(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(n,t){if(zs("AsyncQueue",`${t}: ${n}`),tl(n))return new yt(ut.UNAVAILABLE,`${t}: ${n}`);throw n}class zo{static emptySet(t){return new zo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Rt.comparator(i.key,r.key):(i,r)=>Rt.comparator(i.key,r.key),this.keyedMap=uu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof zo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new zo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class hb{constructor(){this.ga=new Re(Rt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):jt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Wo{constructor(t,i,r,o,u,c,d,g,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Wo(t,i,zo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class KD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QD{constructor(){this.queries=db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=kt(i),u=o.queries;o.queries=db(),u.forEach(((c,d)=>{for(const g of d.Sa)g.onError(r)}))})(this,new yt(ut.ABORTED,"Firestore shutting down"))}}function db(){return new ka((n=>qT(n)),xh)}async function SS(n,t){const i=kt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new KD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Bg(c,`Initialization of query '${jo(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&zg(i)}async function ES(n,t){const i=kt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function WD(n,t){const i=kt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&zg(i)}function XD(n,t,i){const r=kt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function zg(n){n.Ca.forEach((t=>{t.next()}))}var km,pb;(pb=km||(km={})).Ma="default",pb.Cache="cache";class AS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Wo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==km.Cache}}class wS{constructor(t){this.key=t}}class CS{constructor(t){this.key=t}}class $D{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=HT(t),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new hb,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const S=o.get(v),D=bh(this.query,b)?b:null,N=!!S&&this.mutatedKeys.has(S.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;S&&D?S.data.isEqual(D.data)?N!==B&&(r.track({type:3,doc:D}),U=!0):this.su(S,D)||(r.track({type:2,doc:D}),U=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(d=!0)):!S&&D?(r.track({type:0,doc:D}),U=!0):S&&!D&&(r.track({type:1,doc:S}),U=!0,(g||y)&&(d=!0)),U&&(D?(c=c.add(D),u=B?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(D,N){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Rt:U})}};return B(D)-B(N)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,c.length!==0||y?{snapshot:new Wo(this.query,t.tu,u,c,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new CS(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new wS(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ug="SyncEngine";class ZD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class JD{constructor(t){this.key=t,this.hu=!1}}class t4{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((d=>qT(d)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new Re(Rt.comparator),this.Au=new Map,this.Ru=new Dg,this.Vu={},this.mu=new Map,this.fu=Qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e4(n,t,i=!0){const r=MS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await RS(r,t,i,!0),o}async function n4(n,t){const i=MS(n);await RS(i,t,!0,!1)}async function RS(n,t,i,r){const o=await TD(n.localStore,cs(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await i4(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&yS(n.remoteStore,o),d}async function i4(n,t,i,r,o){n.pu=(b,S,D)=>(async function(B,U,Q,L){let q=U.view.ru(Q);q.Cs&&(q=await ab(B.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,q))));const G=L&&L.targetChanges.get(U.targetId),tt=L&&L.targetMismatches.get(U.targetId)!=null,et=U.view.applyChanges(q,B.isPrimaryClient,G,tt);return gb(B,U.targetId,et.au),et.snapshot})(n,b,S,D);const u=await ab(n.localStore,t,!0),c=new $D(t,u.Qs),d=c.ru(u.documents),g=zu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,g);gb(n,i,y.au);const v=new ZD(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),y.snapshot}async function s4(n,t,i){const r=kt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!xh(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ng(r.remoteStore,o.targetId),Bm(r,o.targetId)})).catch(Jo)):(Bm(r,o.targetId),await Pm(r.localStore,o.targetId,!0))}async function r4(n,t){const i=kt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(i.remoteStore,r.targetId))}async function a4(n,t,i){const r=d4(n);try{const o=await(function(c,d){const g=kt(c),y=Se.now(),v=d.reduce(((D,N)=>D.add(N.key)),Qt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let N=Us(),B=Qt();return g.Ns.getEntries(D,v).next((U=>{N=U,N.forEach(((Q,L)=>{L.isValidDocument()||(B=B.add(Q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,N))).next((U=>{b=U;const Q=[];for(const L of d){const q=_I(L,b.get(L.key).overlayedDocument);q!=null&&Q.push(new Hr(L.key,q,OT(q.value.mapValue),Ti.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,Q,d)})).next((U=>{S=U;const Q=U.applyToLocalDocumentSet(b,B);return g.documentOverlayCache.saveOverlays(D,U.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:YT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,g){let y=c.Vu[c.currentUser.toKey()];y||(y=new Re(Kt)),y=y.insert(d,g),c.Vu[c.currentUser.toKey()]=y})(r,o.batchId,i),await Fu(r,o.changes),await wh(r.remoteStore)}catch(o){const u=Bg(o,"Failed to persist write");i.reject(u)}}async function IS(n,t){const i=kt(n);try{const r=await xD(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ce(c.hu,14607):o.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await Fu(i,r,t)}catch(r){await Jo(r)}}function mb(n,t,i){const r=kt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const g=kt(c);g.onlineState=d;let y=!1;g.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(d)&&(y=!0)})),y&&zg(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function o4(n,t,i){const r=kt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Re(Rt.comparator);c=c.insert(u,En.newNoDocument(u,Pt.min()));const d=Qt().add(u),g=new Sh(Pt.min(),new Map,new Re(Kt),c,d);await IS(r,g),r.du=r.du.remove(u),r.Au.delete(t),Fg(r)}else await Pm(r.localStore,t,!1).then((()=>Bm(r,t,i))).catch(Jo)}async function l4(n,t){const i=kt(n),r=t.batch.batchId;try{const o=await vD(i.localStore,t);VS(i,r,null),DS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(i,o)}catch(o){await Jo(o)}}async function u4(n,t,i){const r=kt(n);try{const o=await(function(c,d){const g=kt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,d).next((b=>(ce(b!==null,37113),v=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,t);VS(r,t,i),DS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Fu(r,o)}catch(o){await Jo(o)}}function DS(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function VS(n,t,i){const r=kt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Bm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||jS(n,r)}))}function jS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(Ng(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Fg(n))}function gb(n,t,i){for(const r of i)r instanceof wS?(n.Ru.addReference(r.key,t),c4(n,r)):r instanceof CS?(bt(Ug,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||jS(n,r.key)):jt(19791,{wu:r})}function c4(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(bt(Ug,"New document in limbo: "+i),n.Eu.add(r),Fg(n))}function Fg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new Rt(xe.fromString(t)),r=n.fu.next();n.Au.set(r,new JD(i)),n.du=n.du.insert(i,r),yS(n.remoteStore,new Sr(cs(vh(i.path)),r,"TargetPurposeLimboResolution",mh.ce))}}async function Fu(n,t,i){const r=kt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{c.push(r.pu(g,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const v=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=jg.As(g.targetId,y);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,y){const v=kt(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ft.forEach(y,(S=>ft.forEach(S.Es,(D=>v.persistence.referenceDelegate.addReference(b,S.targetId,D))).next((()=>ft.forEach(S.ds,(D=>v.persistence.referenceDelegate.removeReference(b,S.targetId,D)))))))))}catch(b){if(!tl(b))throw b;bt(Mg,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const D=v.Ms.get(S),N=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,B)}}})(r.localStore,u))}async function f4(n,t){const i=kt(n);if(!i.currentUser.isEqual(t)){bt(Ug,"User change. New user:",t.toKey());const r=await dS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((g=>{g.reject(new yt(ut.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fu(i,r.Ls)}}function h4(n,t){const i=kt(n),r=i.Au.get(t);if(r&&r.hu)return Qt().add(r.key);{let o=Qt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function MS(n){const t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=h4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o4.bind(null,t),t.Pu.H_=WD.bind(null,t.eventManager),t.Pu.yu=XD.bind(null,t.eventManager),t}function d4(n){const t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u4.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yD(this.persistence,new pD,t.initialUser,this.serializer)}Cu(t){return new hS(Vg.mi,this.serializer)}Du(t){return new ED}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class p4 extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ce(this.persistence.referenceDelegate instanceof th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new hS((r=>th.mi(r,i)),this.serializer)}}class zm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,this.syncEngine),await YD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QD})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),r=(function(u){return new ID(u)})(t.databaseInfo);return(function(u,c,d,g){return new MD(u,c,d,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new OD(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>mb(this.syncEngine,i,0)),(function(){return ub.v()?new ub:new AD})())}createSyncEngine(t,i){return(function(o,u,c,d,g,y,v){const b=new t4(o,u,c,d,g,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=kt(i);bt(Oa,"RemoteStore shutting down."),r.Ea.add(5),await Uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class NS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const kr="FirestoreClient";class m4{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{bt(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(bt(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Bg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Zp(n,t){n.asyncQueue.verifyOperationInProgress(),bt(kr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await dS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function yb(n,t){n.asyncQueue.verifyOperationInProgress();const i=await g4(n);bt(kr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>fb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>fb(t.remoteStore,o))),n._onlineComponents=t}async function g4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(kr,"Using user provided OfflineComponentProvider");try{await Zp(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ho("Error using user provided cache. Falling back to memory cache: "+i),await Zp(n,new nh)}}else bt(kr,"Using default OfflineComponentProvider"),await Zp(n,new p4(void 0));return n._offlineComponents}async function OS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(kr,"Using user provided OnlineComponentProvider"),await yb(n,n._uninitializedComponentsProvider._online)):(bt(kr,"Using default OnlineComponentProvider"),await yb(n,new zm))),n._onlineComponents}function y4(n){return OS(n).then((t=>t.syncEngine))}async function Um(n){const t=await OS(n),i=t.eventManager;return i.onListen=e4.bind(null,t.syncEngine),i.onUnlisten=s4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=n4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=r4.bind(null,t.syncEngine),i}function v4(n,t,i={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,g,y){const v=new NS({next:S=>{v.Nu(),c.enqueueAndForget((()=>ES(u,b)));const D=S.docs.has(d);!D&&S.fromCache?y.reject(new yt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?y.reject(new yt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new AS(vh(d.path),v,{includeMetadataChanges:!0,qa:!0});return SS(u,b)})(await Um(n),n.asyncQueue,t,i,r))),r.promise}function PS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const vb=new Map;const LS="firestore.googleapis.com",xb=!0;class bb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=xb}else this.host=t.host,this.ssl=t.ssl??xb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$I)throw new yt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ch{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ER;switch(r.type){case"firstParty":return new RR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=vb.get(i);r&&(bt("ComponentProvider","Removing Datastore"),vb.delete(i),r.terminate())})(this),Promise.resolve()}}function x4(n,t,i,r={}){n=_i(n,Ch);const o=mg(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${i}`;o&&(X2(`https://${d}`),tC("Firestore",!0)),u.host!==LS&&u.host!==d&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:d,ssl:o,emulatorOptions:r};if(!Tu(g,c)&&(n._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Sn.MOCK_USER;else{y=$2(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new yt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Sn(b)}n._authCredentials=new AR(new ST(y,v))}}class Gr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gr(this.firestore,t,this._query)}}class je{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ku(i,je._jsonSchema))return new je(t,r||null,new Rt(xe.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:$e("string",je._jsonSchemaVersion),referencePath:$e("string")};class Vr extends Gr{constructor(t,i,r){super(t,i,vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Rt(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function Zn(n,t,...i){if(n=ni(n),ET("collection","path",t),n instanceof Ch){const r=xe.fromString(t,...i);return M1(r),new Vr(n,null,r)}{if(!(n instanceof je||n instanceof Vr))throw new yt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...i));return M1(r),new Vr(n.firestore,null,r)}}function Le(n,t,...i){if(n=ni(n),arguments.length===1&&(t=xg.newId()),ET("doc","path",t),n instanceof Ch){const r=xe.fromString(t,...i);return j1(r),new je(n,null,new Rt(r))}{if(!(n instanceof je||n instanceof Vr))throw new yt(ut.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(t,...i));return j1(r),new je(n.firestore,n instanceof Vr?n.converter:null,new Rt(r))}}const _b="AsyncQueue";class Tb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mS(this,"async_queue_retry"),this._c=()=>{const r=$p();r&&bt(_b,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$p();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$p();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tl(t))throw t;bt(_b,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",Sb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=kg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&jt(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Sb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Eb(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Br extends Ch{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tb(t),this._firestoreClient=void 0,await t}}}function b4(n,t){const i=typeof n=="object"?n:dT(),r=typeof n=="string"?n:Kf,o=Lu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Q2("firestore");u&&x4(o,...u)}return o}function qg(n){if(n._terminated)throw new yt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_4(n),n._firestoreClient}function _4(n){const t=n._freezeSettings(),i=(function(o,u,c,d){return new YR(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,PS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new m4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(yn.fromBase64String(t))}catch(i){throw new yt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xi(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ku(t,xi._jsonSchema))return xi.fromBase64String(t.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:$e("string",xi._jsonSchemaVersion),bytes:$e("string")};class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new yt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hg{constructor(t){this._methodName=t}}class hs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new yt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new yt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(ku(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:$e("string",hs._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};class ds{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ku(t,ds._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ds(t.vectorValues);throw new yt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:$e("string",ds._jsonSchemaVersion),vectorValues:$e("object")};const T4=/^__.*__$/;class S4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bu(t,this.data,i,this.fieldTransforms)}}class kS{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function BS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{Ac:n})}}class Gg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BS(this.Ac)&&T4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class E4{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Eh(t)}Cc(t,i,r,o=!1){return new Gg({Ac:t,methodName:i,Dc:r,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(n){const t=n._freezeSettings(),i=Eh(n._databaseId);return new E4(n._databaseId,!!t.ignoreUndefinedProperties,i)}function zS(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);Yg("Data must be an object, but it was:",c,r);const d=US(r,c);let g,y;if(u.merge)g=new ti(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=Fm(t,b,i);if(!c.contains(S))throw new yt(ut.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qS(v,S)||v.push(S)}g=new ti(v),y=c.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=c.fieldTransforms;return new S4(new kn(d),g,y)}class Dh extends Hg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function A4(n,t,i,r){const o=n.Cc(1,t,i);Yg("Data must be an object, but it was:",o,r);const u=[],c=kn.empty();qr(r,((g,y)=>{const v=Kg(t,g,i);y=ni(y);const b=o.yc(v);if(y instanceof Dh)u.push(v);else{const S=qu(y,b);S!=null&&(u.push(v),c.set(v,S))}}));const d=new ti(u);return new kS(c,d,o.fieldTransforms)}function w4(n,t,i,r,o,u){const c=n.Cc(1,t,i),d=[Fm(t,r,i)],g=[o];if(u.length%2!=0)throw new yt(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Fm(t,u[S])),g.push(u[S+1]);const y=[],v=kn.empty();for(let S=d.length-1;S>=0;--S)if(!qS(y,d[S])){const D=d[S];let N=g[S];N=ni(N);const B=c.yc(D);if(N instanceof Dh)y.push(D);else{const U=qu(N,B);U!=null&&(y.push(D),v.set(D,U))}}const b=new ti(y);return new kS(v,b,c.fieldTransforms)}function C4(n,t,i,r=!1){return qu(i,n.Cc(r?4:3,t))}function qu(n,t){if(FS(n=ni(n)))return Yg("Unsupported field value:",t,n),US(n,t);if(n instanceof Hg)return(function(r,o){if(!BS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let g=qu(d,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Se.fromDate(r);return{timestampValue:Jf(o.serializer,u)}}if(r instanceof Se){const u=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(o.serializer,u)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:sS(o.serializer,r._byteString)};if(r instanceof je){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ig(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ds)return(function(c,d){return{mapValue:{fields:{[MT]:{stringValue:NT},[Qf]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ag(d.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ph(r)}`)})(n,t)}function US(n,t){const i={};return CT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(n,((r,o)=>{const u=qu(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function FS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Se||n instanceof hs||n instanceof xi||n instanceof je||n instanceof Hg||n instanceof ds)}function Yg(n,t,i){if(!FS(i)||!AT(i)){const r=ph(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Fm(n,t,i){if((t=ni(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return Kg(n,t);throw ih("Field path arguments must be of type string or ",n,!1,void 0,i)}const R4=new RegExp("[~\\*/\\[\\]]");function Kg(n,t,i){if(t.search(R4)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function ih(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new yt(ut.INVALID_ARGUMENT,d+n+g)}function qS(n,t){return n.some((i=>i.isEqual(t)))}class HS{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Vh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class I4 extends HS{data(){return super.data()}}function Vh(n,t){return typeof t=="string"?Kg(n,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function D4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class Wg extends Qg{}function Ca(n,t,...i){let r=[];t instanceof Qg&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((g=>g instanceof Xg)).length,d=u.filter((g=>g instanceof jh)).length;if(c>1||c>0&&d>0)throw new yt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class jh extends Wg{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new jh(t,i,r)}_apply(t){const i=this._parse(t);return GS(t._query,i),new Gr(t.firestore,t.converter,Vm(t._query,i))}_parse(t){const i=Ih(t.firestore);return(function(u,c,d,g,y,v,b){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new yt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Cb(b,v);const N=[];for(const B of b)N.push(wb(g,u,B));S={arrayValue:{values:N}}}else S=wb(g,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Cb(b,v),S=C4(d,c,b,v==="in"||v==="not-in");return Xe.create(y,v,S)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Jp(n,t,i){const r=t,o=Vh("where",n);return jh._create(o,r,i)}class Xg extends Qg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Xg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:zi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const g of d)GS(c,g),c=Vm(c,g)})(t._query,i),new Gr(t.firestore,t.converter,Vm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends Wg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new $g(t,i)}_apply(t){const i=(function(o,u,c){if(o.startAt!==null)throw new yt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new yt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,c)})(t._query,this._field,this._direction);return new Gr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Rf(n,t="asc"){const i=t,r=Vh("orderBy",n);return $g._create(r,i)}class Zg extends Wg{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new Zg(t,i,r)}_apply(t){return new Gr(t.firestore,t.converter,Xf(t._query,this._limit,this._limitType))}}function Ab(n){return OR("limit",n),Zg._create("limit",n,"F")}function wb(n,t,i){if(typeof(i=ni(i))=="string"){if(i==="")throw new yt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(t)&&i.indexOf("/")!==-1)throw new yt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(xe.fromString(i));if(!Rt.isDocumentKey(r))throw new yt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U1(n,new Rt(r))}if(i instanceof je)return U1(n,i._key);throw new yt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function Cb(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GS(n,t){const i=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new yt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class V4{convertValue(t,i="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw jt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return qr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Qf].arrayValue?.values?.map((r=>ke(r.doubleValue)));return new ds(i)}convertGeoPoint(t){return new hs(ke(t.latitude),ke(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Au(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=xe.fromString(t);ce(cS(r),9688,{name:t});const o=new wu(r.get(1),r.get(3)),u=new Rt(r.popFirst(5));return o.isEqual(i)||zs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function YS(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}class fu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Va extends HS{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:$e("string",Va._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class kf extends Va{data(t={}){return super.data(t)}}class Uo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kf(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const g=new kf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const g=new kf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new fu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:j4(d.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function j4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:n})}}function Er(n){n=_i(n,je);const t=_i(n.firestore,Br);return v4(qg(t),n._key).then((i=>QS(t,n,i)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:$e("string",Uo._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class KS extends V4{constructor(t){super(),this.firestore=t}convertBytes(t){return new xi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function Bf(n,t,i){n=_i(n,je);const r=_i(n.firestore,Br),o=YS(n.converter,t,i);return Mh(r,[zS(Ih(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Ti.none())])}function Ar(n,t,i,...r){n=_i(n,je);const o=_i(n.firestore,Br),u=Ih(o);let c;return c=typeof(t=ni(t))=="string"||t instanceof Rh?w4(u,"updateDoc",n._key,t,i,r):A4(u,"updateDoc",n._key,t),Mh(o,[c.toMutation(n._key,Ti.exists(!0))])}function tm(n){return Mh(_i(n.firestore,Br),[new wg(n._key,Ti.none())])}function Vu(n,t){const i=_i(n.firestore,Br),r=Le(n),o=YS(n.converter,t);return Mh(i,[zS(Ih(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function Ls(n,...t){n=ni(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Eb(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Eb(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,c,d;if(n instanceof je)c=_i(n.firestore,Br),d=vh(n._key.path),u={next:g=>{t[r]&&t[r](QS(c,n,g))},error:t[r+1],complete:t[r+2]};else{const g=_i(n,Gr);c=_i(g.firestore,Br),d=g._query;const y=new KS(c);u={next:v=>{t[r]&&t[r](new Uo(c,y,g,v))},error:t[r+1],complete:t[r+2]},D4(n._query)}return(function(y,v,b,S){const D=new NS(S),N=new AS(v,D,b);return y.asyncQueue.enqueueAndForget((async()=>SS(await Um(y),N))),()=>{D.Nu(),y.asyncQueue.enqueueAndForget((async()=>ES(await Um(y),N)))}})(qg(c),d,o,u)}function Mh(n,t){return(function(r,o){const u=new Dr;return r.asyncQueue.enqueueAndForget((async()=>a4(await y4(r),o,u))),u.promise})(qg(n),t)}function QS(n,t,i){const r=i.docs.get(t._key),o=new KS(n);return new Va(n,o,t._key,r,new fu(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Zo=o})(fR),jr(new ks("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Br(new wR(r.getProvider("auth-internal")),new IR(c,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(y.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),us(R1,I1,t),us(R1,I1,"esm2020")})();const WS="@firebase/installations",Jg="0.6.19";const XS=1e4,$S=`w:${Jg}`,ZS="FIS_v2",M4="https://firebaseinstallations.googleapis.com/v1",N4=3600*1e3,O4="installations",P4="Installations";const L4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new dh(O4,P4,L4);function JS(n){return n instanceof Fr&&n.code.includes("request-failed")}function tE({projectId:n}){return`${M4}/projects/${n}/installations`}function eE(n){return{token:n.token,requestStatus:2,expiresIn:B4(n.expiresIn),creationTime:Date.now()}}async function nE(n,t){const r=(await t.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function k4(n,{refreshToken:t}){const i=iE(n);return i.append("Authorization",z4(t)),i}async function sE(n){const t=await n();return t.status>=500&&t.status<600?n():t}function B4(n){return Number(n.replace("s","000"))}function z4(n){return`${ZS} ${n}`}async function U4({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=tE(n),o=iE(n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:i,authVersion:ZS,appId:n.appId,sdkVersion:$S},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await sE(()=>fetch(r,d));if(g.ok){const y=await g.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:eE(y.authToken)}}else throw await nE("Create Installation",g)}function rE(n){return new Promise(t=>{setTimeout(t,n)})}function F4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const q4=/^[cdef][\w-]{21}$/,qm="";function H4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=G4(n);return q4.test(i)?i:qm}catch{return qm}}function G4(n){return F4(n).substr(0,22)}function Nh(n){return`${n.appName}!${n.appId}`}const aE=new Map;function oE(n,t){const i=Nh(n);lE(i,t),Y4(i,t)}function lE(n,t){const i=aE.get(n);if(i)for(const r of i)r(t)}function Y4(n,t){const i=K4();i&&i.postMessage({key:n,fid:t}),Q4()}let Ra=null;function K4(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=n=>{lE(n.data.key,n.data.fid)}),Ra}function Q4(){aE.size===0&&Ra&&(Ra.close(),Ra=null)}const W4="firebase-installations-database",X4=1,La="firebase-installations-store";let em=null;function ty(){return em||(em=fT(W4,X4,{upgrade:(n,t)=>{t===0&&n.createObjectStore(La)}})),em}async function sh(n,t){const i=Nh(n),o=(await ty()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(i);return await u.put(t,i),await o.done,(!c||c.fid!==t.fid)&&oE(n,t.fid),t}async function uE(n){const t=Nh(n),r=(await ty()).transaction(La,"readwrite");await r.objectStore(La).delete(t),await r.done}async function Oh(n,t){const i=Nh(n),o=(await ty()).transaction(La,"readwrite"),u=o.objectStore(La),c=await u.get(i),d=t(c);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!c||c.fid!==d.fid)&&oE(n,d.fid),d}async function ey(n){let t;const i=await Oh(n.appConfig,r=>{const o=$4(r),u=Z4(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===qm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function $4(n){const t=n||{fid:H4(),registrationStatus:0};return cE(t)}function Z4(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=J4(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:tV(n)}:{installationEntry:t}}async function J4(n,t){try{const i=await U4(n,t);return sh(n.appConfig,i)}catch(i){throw JS(i)&&i.customData.serverCode===409?await uE(n.appConfig):await sh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function tV(n){let t=await Rb(n.appConfig);for(;t.registrationStatus===1;)await rE(100),t=await Rb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await ey(n);return r||i}return t}function Rb(n){return Oh(n,t=>{if(!t)throw Pa.create("installation-not-found");return cE(t)})}function cE(n){return eV(n)?{fid:n.fid,registrationStatus:0}:n}function eV(n){return n.registrationStatus===1&&n.registrationTime+XS<Date.now()}async function nV({appConfig:n,heartbeatServiceProvider:t},i){const r=iV(n,i),o=k4(n,i),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:$S,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await sE(()=>fetch(r,d));if(g.ok){const y=await g.json();return eE(y)}else throw await nE("Generate Auth Token",g)}function iV(n,{fid:t}){return`${tE(n)}/${t}/authTokens:generate`}async function ny(n,t=!1){let i;const r=await Oh(n.appConfig,u=>{if(!fE(u))throw Pa.create("not-registered");const c=u.authToken;if(!t&&aV(c))return u;if(c.requestStatus===1)return i=sV(n,t),u;{if(!navigator.onLine)throw Pa.create("app-offline");const d=lV(u);return i=rV(n,d),d}});return i?await i:r.authToken}async function sV(n,t){let i=await Ib(n.appConfig);for(;i.authToken.requestStatus===1;)await rE(100),i=await Ib(n.appConfig);const r=i.authToken;return r.requestStatus===0?ny(n,t):r}function Ib(n){return Oh(n,t=>{if(!fE(t))throw Pa.create("not-registered");const i=t.authToken;return uV(i)?{...t,authToken:{requestStatus:0}}:t})}async function rV(n,t){try{const i=await nV(n,t),r={...t,authToken:i};return await sh(n.appConfig,r),i}catch(i){if(JS(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await uE(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await sh(n.appConfig,r)}throw i}}function fE(n){return n!==void 0&&n.registrationStatus===2}function aV(n){return n.requestStatus===2&&!oV(n)}function oV(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+N4}function lV(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function uV(n){return n.requestStatus===1&&n.requestTime+XS<Date.now()}async function cV(n){const t=n,{installationEntry:i,registrationPromise:r}=await ey(t);return r?r.catch(console.error):ny(t).catch(console.error),i.fid}async function fV(n,t=!1){const i=n;return await hV(i),(await ny(i,t)).token}async function hV(n){const{registrationPromise:t}=await ey(n);t&&await t}function dV(n){if(!n||!n.options)throw nm("App Configuration");if(!n.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw nm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function nm(n){return Pa.create("missing-app-config-values",{valueName:n})}const hE="installations",pV="installations-internal",mV=n=>{const t=n.getProvider("app").getImmediate(),i=dV(t),r=Lu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gV=n=>{const t=n.getProvider("app").getImmediate(),i=Lu(t,hE).getImmediate();return{getId:()=>cV(i),getToken:o=>fV(i,o)}};function yV(){jr(new ks(hE,mV,"PUBLIC")),jr(new ks(pV,gV,"PRIVATE"))}yV();us(WS,Jg);us(WS,Jg,"esm2020");const rh="analytics",vV="firebase_id",xV="origin",bV=60*1e3,_V="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iy="https://www.googletagmanager.com/gtag/js";const In=new gg("@firebase/analytics");const TV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new dh("analytics","Analytics",TV);function SV(n){if(!n.startsWith(iy)){const t=ei.create("invalid-gtag-resource",{gtagURL:n});return In.warn(t.message),""}return n}function dE(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function EV(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function AV(n,t){const i=EV("firebase-js-sdk-policy",{createScriptURL:SV}),r=document.createElement("script"),o=`${iy}?l=${n}&id=${t}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function wV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function CV(n,t,i,r,o,u){const c=r[o];try{if(c)await t[c];else{const g=(await dE(i)).find(y=>y.measurementId===o);g&&await t[g.appId]}}catch(d){In.error(d)}n("config",o,u)}async function RV(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await dE(i);for(const g of c){const y=d.find(b=>b.measurementId===g),v=y&&t[y.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){In.error(u)}}function IV(n,t,i,r){async function o(u,...c){try{if(u==="event"){const[d,g]=c;await RV(n,t,i,d,g)}else if(u==="config"){const[d,g]=c;await CV(n,t,i,r,d,g)}else if(u==="consent"){const[d,g]=c;n("consent",d,g)}else if(u==="get"){const[d,g,y]=c;n("get",d,g,y)}else if(u==="set"){const[d]=c;n("set",d)}else n(u,...c)}catch(d){In.error(d)}}return o}function DV(n,t,i,r,o){let u=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=IV(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function VV(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(iy)&&i.src.includes(n))return i;return null}const jV=30,MV=1e3;class NV{constructor(t={},i=MV){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const pE=new NV;function OV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function PV(n){const{appId:t,apiKey:i}=n,r={method:"GET",headers:OV(i)},o=_V.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function LV(n,t=pE,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ei.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ei.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new zV;return setTimeout(async()=>{d.abort()},bV),mE({appId:r,apiKey:o,measurementId:u},c,d,t)}async function mE(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=pE){const{appId:u,measurementId:c}=n;try{await kV(r,t)}catch(d){if(c)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await PV(n);return o.deleteThrottleMetadata(u),d}catch(d){const g=d;if(!BV(g)){if(o.deleteThrottleMetadata(u),c)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:c};throw d}const y=Number(g?.customData?.httpStatus)===503?v1(i,o.intervalMillis,jV):v1(i,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return o.setThrottleMetadata(u,v),In.debug(`Calling attemptFetch again in ${y} millis`),mE(n,v,r,o)}}function kV(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(ei.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function BV(n){if(!(n instanceof Fr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class zV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function UV(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,c={...r,send_to:u};n("event",i,c)}}async function FV(n,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:i})}}async function qV(){if(oT())try{await lT()}catch(n){return In.warn(ei.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return In.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HV(n,t,i,r,o,u,c){const d=LV(n);d.then(S=>{i[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>In.error(S)),t.push(d);const g=qV().then(S=>{if(S)return r.getId()}),[y,v]=await Promise.all([d,g]);VV(u)||AV(u,y.measurementId),o("js",new Date);const b=c?.config??{};return b[xV]="firebase",b.update=!0,v!=null&&(b[vV]=v),o("config",y.measurementId,b),y.measurementId}class GV{constructor(t){this.app=t}_delete(){return delete Fo[this.app.options.appId],Promise.resolve()}}let Fo={},Db=[];const Vb={};let im="dataLayer",YV="gtag",jb,sy,Mb=!1;function KV(){const n=[];if(iC()&&n.push("This is a browser extension environment."),rC()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=ei.create("invalid-analytics-context",{errorInfo:t});In.warn(i.message)}}function QV(n,t,i){KV();const r=n.options.appId;if(!r)throw ei.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Fo[r]!=null)throw ei.create("already-exists",{id:r});if(!Mb){wV(im);const{wrappedGtag:u,gtagCore:c}=DV(Fo,Db,Vb,im,YV);sy=u,jb=c,Mb=!0}return Fo[r]=HV(n,Db,Vb,t,jb,im,i),new GV(n)}function WV(n=dT()){n=ni(n);const t=Lu(n,rh);return t.isInitialized()?t.getImmediate():XV(n)}function XV(n,t={}){const i=Lu(n,rh);if(i.isInitialized()){const o=i.getImmediate();if(Tu(t,i.getOptions()))return o;throw ei.create("already-initialized")}return i.initialize({options:t})}function $V(n,t,i){n=ni(n),FV(sy,Fo[n.app.options.appId],t,i).catch(r=>In.error(r))}function ZV(n,t,i,r){n=ni(n),UV(sy,Fo[n.app.options.appId],t,i,r).catch(o=>In.error(o))}const Nb="@firebase/analytics",Ob="0.10.19";function JV(){jr(new ks(rh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return QV(r,o,i)},"PUBLIC")),jr(new ks("analytics-internal",n,"PRIVATE")),us(Nb,Ob),us(Nb,Ob,"esm2020");function n(t){try{const i=t.getProvider(rh).getImmediate();return{logEvent:(r,o,u)=>ZV(i,r,o,u),setUserProperties:(r,o)=>$V(i,r,o)}}catch(i){throw ei.create("interop-component-reg-failed",{reason:i})}}}JV();const tj={apiKey:"AIzaSyC9iOPeIpzeBP-Y1fP-Tmqvo6ynjcR_nSI",authDomain:"daisy-club.firebaseapp.com",projectId:"daisy-club",storageBucket:"daisy-club.firebasestorage.app",messagingSenderId:"1074568055038",appId:"1:1074568055038:web:6723e1fd3b9d2cd435bdaf",measurementId:"G-TH9WM3YXGJ"},gE=hT(tj);WV(gE);const Jt=b4(gE);function ej({t:n,lang:t,users:i,setUsers:r,onLogin:o,onGuestLogin:u,hero:c,videoURL:d,logo:g,logoSize:y,logoPos:v,styles:b,isAdmin:S,syncToFirebase:D}){const[N,B]=F.useState("login"),[U,Q]=F.useState(""),[L,q]=F.useState(""),[G,tt]=F.useState(""),et=async()=>{if(!U||!L||!G)return alert(t==="ko"?"  .":"Please fill all info.");const w=JSON.parse(localStorage.getItem("daisy_agents")||"[]").find(M=>M.code===G),j=i.find(M=>M.id===G);if(!w&&!j&&!(G==="ADMIN"))return alert(t==="ko"?"    .":"Invalid referral code.");if(i.find(M=>M.id===U))return alert(t==="ko"?"  .":"ID already exists.");const I=(2783982189+i.length).toString(),At={id:U,pw:L,no:I,referral:G,diamond:0,refCode:U,agentName:w?w.name:"",joinedAt:new Date().toISOString()},Ft=[...i,At];r(Ft),D&&await D({users:Ft}),alert(t==="ko"?" ! .":"Signup Success! Please Login."),Q(""),q(""),tt(""),B("login")},R=A=>{A.key==="Enter"&&(N==="login"?o(U,L):et())};return m.jsxs("div",{style:{...b.landingWrapper,minHeight:"100dvh"},children:[m.jsxs("div",{style:{...b.bgWrap,minHeight:"100dvh",position:"absolute",inset:0,overflow:"hidden"},children:[m.jsx("div",{style:b.bgOverlay}),c.mode==="image"&&c.imageSrc&&m.jsx("img",{src:c.imageSrc,alt:"",draggable:!1,style:{position:"absolute",inset:0,width:"100%",height:"100dvh",objectFit:"cover",zIndex:-1}}),c.mode==="video"&&d&&m.jsx("video",{src:d,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{...b.bgVideo,height:"100dvh",objectFit:"cover"}},d)]}),m.jsx("div",{style:{...b.logoContainer,left:`${v.x}px`,top:`${v.y}px`,transition:"all 0.3s ease"},children:g?m.jsx("img",{src:g,alt:"logo",style:{height:`${y}px`,width:"auto",objectFit:"contain",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.5))"}}):m.jsx("strong",{style:b.defaultLogo,children:"DAISY"})}),m.jsxs("div",{style:b.mainContent,children:[m.jsxs("div",{style:b.heroSection,children:[m.jsx("h1",{style:b.mainTitle,children:c.title[t]}),m.jsx("p",{style:b.subTitle,children:c.desc[t]})]}),!S&&m.jsx("div",{style:b.authWrap,children:m.jsxs("div",{style:{...b.authCard,padding:"50px 40px"},children:[m.jsx("h2",{style:{...b.authTitle,fontSize:"28px",marginBottom:"35px"},children:N==="login"?n.login:n.signup}),m.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.id,value:U,onChange:A=>Q(A.target.value),onKeyDown:R}),m.jsx("input",{type:"password",style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px"},placeholder:n.pw,value:L,onChange:A=>q(A.target.value),onKeyDown:R}),N==="signup"&&m.jsx("input",{style:{...b.authInput,height:"60px",fontSize:"18px",marginBottom:"20px",border:"2px solid #ffb347",background:"rgba(255,179,71,0.05)"},placeholder:t==="ko"?"  ":"Enter Invitation Code",value:G,onChange:A=>tt(A.target.value),onKeyDown:R}),m.jsx("button",{style:{...b.primaryBtn,height:"65px",fontSize:"20px",fontWeight:"900",marginTop:"10px"},onClick:()=>N==="login"?o(U,L):et(),children:N==="login"?n.login:n.signup}),N==="login"&&m.jsx("button",{style:{...b.guestBtn,height:"55px",marginTop:"15px"},onClick:u,children:n.guest}),m.jsx("div",{style:{...b.authToggle,fontSize:"15px",marginTop:"30px"},onClick:()=>{B(N==="login"?"signup":"login"),Q(""),q(""),tt("")},children:N==="login"?t==="ko"?"? ":"New here? Sign Up":t==="ko"?"  ? ":"Have an account? Login"})]})})]})]})}const Pb=["DAISY VIP","PURE LUXURY","SWEET BLOOM","GOLDEN CLASS","ELITE SELECT"];function nj({members:n=[],slideImages:t=[],innerLogo:i,handleTelegram:r,setActiveTab:o,openDetail:u,matchingCount:c=0,t:d}){const[g,y]=F.useState(0),v=F.useRef(null);F.useEffect(()=>{if(!t||t.length<=1)return;const N=setInterval(()=>{y(B=>(B+1)%t.length)},4e3);return()=>clearInterval(N)},[t]);const b=F.useMemo(()=>!n||n.length===0?[]:[...n,...n,...n],[n]),S=N=>{v.current&&v.current.scrollBy({left:N==="left"?-300:300,behavior:"smooth"})},D=N=>{const B=v.current;if(!B)return;let U=!0,Q=N.pageX-B.offsetLeft,L=B.scrollLeft;const q=tt=>{if(!U)return;tt.preventDefault();const R=(tt.pageX-B.offsetLeft-Q)*2;B.scrollLeft=L-R},G=()=>{U=!1,window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",q),window.addEventListener("mouseup",G)};return m.jsxs("div",{style:Vt.container,children:[m.jsx("div",{className:"bg-glow"}),m.jsx("div",{className:"bg-pattern"}),m.jsxs("header",{style:Vt.header,children:[m.jsx("div",{style:Vt.logoArea,children:i?m.jsx("img",{src:i,style:Vt.logoImg,alt:"logo"}):m.jsxs("h1",{style:Vt.defaultLogo,children:["DAISY",m.jsx("br",{}),m.jsx("span",{children:"LOUNGE"})]})}),m.jsxs("div",{style:Vt.statusBadge,children:[m.jsx("div",{className:"dot-pulse-wrap",children:m.jsx("span",{className:"dot-pulse"})}),m.jsx("span",{style:{opacity:.8},children:"LIVE CONNECTED :"}),m.jsxs("b",{style:Vt.countText,children:[c," MEMBERS"]})]})]}),m.jsxs("div",{style:Vt.introTextArea,children:[m.jsx("div",{style:Vt.introSub,children:"WELCOME TO THE PRIVATE"}),m.jsxs("div",{style:Vt.introMain,children:[d.welcome.replace(" ",""),m.jsx("span",{style:Vt.introSparkle,children:""})]})]}),t&&t.length>0&&m.jsx("div",{style:Vt.sliderContainer,children:m.jsxs("div",{style:Vt.sliderWrap,children:[t.map((N,B)=>{const U=N.url||N,Q=B===g;return m.jsx("div",{style:{...Vt.slide,opacity:Q?1:0,visibility:Q?"visible":"hidden"},children:m.jsxs("div",{style:Vt.imageBorderWrapper,children:[m.jsx("img",{src:U,style:Vt.actualImg,alt:"slide",draggable:"false"}),m.jsx("div",{style:Vt.slideOverlay}),m.jsx("div",{style:Vt.adTag,children:"PREMIUM PICK"})]})},B)}),m.jsx("div",{style:Vt.indicatorWrap,children:t.map((N,B)=>m.jsx("div",{style:{...Vt.dot,width:B===g?20:6,backgroundColor:B===g?"#FFD700":"rgba(255,255,255,0.3)"}},B))})]})}),m.jsxs("div",{style:Vt.welcomeBox,children:[m.jsx("div",{style:Vt.welcomeLine}),m.jsx("span",{style:Vt.welcomeText,children:d.home===""?"  ,   ":"A space where even waiting is exciting, visiting you today"}),m.jsx("div",{style:Vt.welcomeLine})]}),m.jsxs("div",{style:Vt.sectionLabel,children:[m.jsxs("div",{style:Vt.labelLeft,children:[m.jsx("span",{className:"shine-text",style:Vt.labelIcon,children:""}),m.jsxs("span",{style:Vt.labelText,children:["DAISY ",d.manager.toUpperCase()]})]}),m.jsx("div",{onClick:()=>o&&o("manager"),style:Vt.moreBtn,children:"VIEW ALL "})]}),m.jsxs("div",{style:{position:"relative",width:"100%"},children:[m.jsx("div",{ref:v,className:"snap-container",style:Vt.scrollArea,onMouseDown:D,children:b.map((N,B)=>m.jsxs("div",{style:Vt.card,onClick:()=>u&&u(N),children:[m.jsxs("div",{style:Vt.cardImgWrap,children:[m.jsx("img",{src:N.img,style:Vt.cardImg,alt:N.name||"member",draggable:"false"}),m.jsx("div",{style:Vt.cardOverlay}),m.jsx("div",{style:Vt.cardBadge,children:Pb[B%Pb.length]})]}),m.jsxs("div",{style:Vt.cardInfo,children:[m.jsx("div",{style:Vt.cardName,children:N.name}),m.jsxs("div",{style:Vt.cardSpecs,children:[m.jsx("span",{style:Vt.specText,children:N.loc||N.region||(d.home===""?"":"Area")}),m.jsx("span",{style:Vt.specDivider,children:""}),m.jsx("span",{style:Vt.specText,children:N.age?`${N.age}${d.home===""?"":""}`:d.home===""?"20":"20s"})]}),m.jsxs("div",{style:{...Vt.cardSpecs,marginTop:"5px"},children:[m.jsx("span",{style:Vt.specText,children:N.height?N.height+"cm":"cm"}),m.jsx("span",{style:Vt.specDivider,children:""}),m.jsx("span",{style:Vt.specText,children:N.weight?N.weight+"kg":"kg"}),m.jsx("span",{style:Vt.specDivider,children:""}),m.jsx("span",{style:Vt.specText,children:N.bust||N.size||"Size"})]})]})]},B))}),m.jsxs("div",{className:"pc-arrows-wrap",children:[m.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("left")},children:""}),m.jsx("button",{className:"arrow-btn",onClick:N=>{N.stopPropagation(),S("right")},children:""})]})]}),m.jsxs("div",{style:Vt.footerBtnArea,children:[m.jsxs("button",{onClick:r,className:"shimmer-btn",style:Vt.teleBtn,children:[" ",d.home===""?"  ":"Connect Real-time Chat"]}),m.jsx("p",{style:Vt.footerNotice,children:"24/7 PRIVATE CONCIERGE SERVICE"})]}),m.jsx("style",{children:`
        .bg-pattern { position: absolute; inset: 0; background-image: radial-gradient(rgba(255,215,0,0.05) 1px, transparent 1px); background-size: 30px 30px; z-index: -1; }
        .bg-glow { position: absolute; top: -100px; left: 50%; transform: translateX(-50%); width: 150%; height: 600px; background: radial-gradient(circle, rgba(255,215,0,0.07) 0%, transparent 70%); z-index: -1; }
        
        .snap-container::-webkit-scrollbar { display: none; }
        
        .pc-arrows-wrap { position: absolute; top: 40%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; padding: 0 5px; z-index: 100; }
        .arrow-btn { width: 40px; height: 40px; border-radius: 50%; background: #FFD700; color: #000; border: 2px solid #fff; font-size: 18px; font-weight: bold; cursor: pointer; pointer-events: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: 0.2s; opacity: 0.9; }
        .arrow-btn:hover { background: #fff; transform: scale(1.1); }
        @media (max-width: 768px) { .pc-arrows-wrap { display: none; } }

        .dot-pulse-wrap { width: 12px; height: 12px; display: flex; align-items: center; justify-content: center; margin-right: 5px; }
        .dot-pulse { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 10px #00ff00; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .shine-text { animation: textShine 2s infinite alternate; }
        @keyframes textShine { from { opacity: .5; text-shadow: none; } to { opacity: 1; text-shadow: 0 0 10px #FFD700; } }
        .shimmer-btn { position: relative; overflow: hidden; outline: none; border: none; }
        .shimmer-btn::after { content: ''; position: absolute; top: -50%; left: -100%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent); transform: rotate(45deg); animation: shimmer 3s infinite; }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
      `})]})}const Vt={container:{position:"relative",overflow:"hidden",backgroundColor:"#0a0a0a",paddingBottom:50,minHeight:"100vh",color:"#fff"},header:{padding:"50px 0 10px",textAlign:"center"},logoArea:{marginBottom:20},logoImg:{maxWidth:"220px",filter:"drop-shadow(0 0 10px rgba(255,215,0,0.3))"},defaultLogo:{fontSize:36,color:"#fff",fontWeight:900,letterSpacing:-1,lineHeight:.8},statusBadge:{fontSize:10,color:"#eee",background:"rgba(255,255,255,0.07)",padding:"8px 16px",borderRadius:"30px",display:"inline-flex",alignItems:"center",gap:5,border:"1px solid rgba(255,255,255,0.1)"},countText:{color:"#FFD700",letterSpacing:1},introTextArea:{textAlign:"center",marginTop:30,marginBottom:15},introSub:{fontSize:10,color:"#FFD700",letterSpacing:2,fontWeight:600,opacity:.8,marginBottom:5},introMain:{fontSize:18,fontWeight:800,color:"#fff",letterSpacing:-.5},introSparkle:{color:"#FFD700",marginLeft:5,fontSize:14},welcomeBox:{display:"flex",alignItems:"center",justifyContent:"center",gap:15,margin:"35px 0"},welcomeLine:{width:30,height:1,background:"linear-gradient(90deg, transparent, #FFD700, transparent)"},welcomeText:{color:"#bbb",fontSize:13,fontWeight:300,letterSpacing:.5,textAlign:"center"},sliderContainer:{padding:"0 20px"},sliderWrap:{width:"100%",height:"260px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},slide:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 1s ease-in-out"},imageBorderWrapper:{position:"relative",display:"inline-flex",borderRadius:"15px",border:"1.5px solid rgba(255,215,0,0.5)",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.9)",zIndex:2,maxWidth:"100%",maxHeight:"240px"},actualImg:{display:"block",maxWidth:"100%",maxHeight:"240px",width:"auto",height:"auto",objectFit:"contain"},slideOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.7) 100%)",zIndex:3},adTag:{position:"absolute",top:12,left:12,background:"linear-gradient(135deg, #FFD700, #B8860B)",color:"#000",fontSize:9,fontWeight:900,padding:"4px 8px",borderRadius:4,zIndex:4},indicatorWrap:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",display:"flex",gap:5,zIndex:5},dot:{height:6,borderRadius:3,transition:"all 0.3s"},sectionLabel:{padding:"40px 24px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},labelLeft:{display:"flex",alignItems:"center",gap:8},labelIcon:{color:"#FFD700",fontSize:18},labelText:{color:"#fff",fontSize:17,fontWeight:800},moreBtn:{fontSize:11,color:"#FFD700",opacity:.8,cursor:"pointer"},scrollArea:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",padding:"10px 20px 40px",width:"100%",boxSizing:"border-box",scrollbarWidth:"none",msOverflowStyle:"none"},card:{width:"210px",minWidth:"210px",flexShrink:0,background:"#1a1a1a",borderRadius:"20px",overflow:"hidden",border:"1px solid #333",boxShadow:"0 10px 25px rgba(0,0,0,0.6)",scrollSnapAlign:"center",marginRight:"15px",cursor:"pointer"},cardImgWrap:{position:"relative",height:"280px"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #1a1a1a 100%)"},cardBadge:{position:"absolute",top:12,right:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"15px 10px 22px",textAlign:"center"},cardName:{color:"#fff",fontSize:"20px",fontWeight:900,marginBottom:8,letterSpacing:"-0.5px"},cardSpecs:{display:"flex",alignItems:"center",justifyContent:"center",gap:4},specText:{fontSize:"13px",color:"#bbb",fontWeight:400},specDivider:{fontSize:"12px",color:"#555"},footerBtnArea:{padding:"0 24px",marginTop:40,textAlign:"center"},teleBtn:{width:"100%",padding:"20px",borderRadius:"12px",background:"linear-gradient(135deg, #0088cc, #005588)",color:"#fff",fontSize:"15px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10},footerNotice:{fontSize:10,color:"#444",marginTop:15,letterSpacing:2}};function ij({filteredMembers:n,regions:t,selectedRegion:i,setSelectedRegion:r,initialMember:o,onCloseDetail:u,t:c}){const[d,g]=F.useState(null),[y,v]=F.useState(null);F.useEffect(()=>{o&&(g(o),window.history.pushState({isDetail:!0},""))},[o]),F.useEffect(()=>{const L=()=>{y?v(null):d&&S()};return window.addEventListener("popstate",L),()=>window.removeEventListener("popstate",L)},[y,d]);const b=(L,q)=>{v({type:L,url:q}),window.history.pushState({isFull:!0},"")},S=()=>{g(null),u&&u()},D=L=>L&&(L.includes("/video/upload/")||L.match(/\.(mp4|webm|mov|avi)$/i)),N={:"ALL",:"SEOUL"," ":"Gyeonggi N."," ":"Gyeonggi S.",:"INCHEON",:"CHUNGCHEONG",:"GANGWON",:"JEONLA","":"DAEGU/GB","":"BUSAN/GN",:"JEJU"},B=c.home==="",U=L=>B?L:N[L]||L,Q=L=>{const q=B?[`${L}        .`,`     ${L}  .`,`      ${L} .`]:[`${L} is an elite member with sophisticated manners and delicate senses.`,`Introducing ${L}, who boasts a visual perfected through thorough self-management.`,`${L} promises a comfortable time with bright energy and consideration.`];let G=(L||"").split("").reduce((tt,et)=>tt+et.charCodeAt(0),0);return q[G%q.length]};return m.jsxs("div",{style:Ot.container,children:[m.jsx("div",{style:Ot.filterWrapper,children:m.jsx("div",{style:Ot.filterScroll,children:t.map(L=>m.jsx("div",{onClick:()=>r(L),style:{...Ot.filterItem,color:i===L?"#000":"#888",background:i===L?"#FFD700":"transparent",borderColor:i===L?"#FFD700":"#333"},children:U(L)},L))})}),m.jsx("div",{style:Ot.grid,children:n.map((L,q)=>m.jsxs("div",{style:Ot.card,onClick:()=>{g(L),window.history.pushState({isDetail:!0},"")},children:[m.jsxs("div",{style:Ot.cardImgWrap,children:[m.jsx("img",{src:L.img,style:Ot.cardImg,alt:L.name}),m.jsx("div",{style:Ot.cardOverlay}),m.jsx("div",{style:Ot.cardBadge,children:"PREMIUM"})]}),m.jsxs("div",{style:Ot.cardInfo,children:[m.jsx("div",{style:Ot.cardName,children:L.name}),m.jsxs("div",{style:Ot.cardSpecs,children:[U(L.loc||L.region||(B?"":"LOC")),"  ",L.age?`${L.age}${B?"":""}`:B?"20":"20s"]}),m.jsxs("div",{style:{...Ot.cardSpecs,marginTop:"4px"},children:[L.height?L.height+"cm":"cm","  ",L.bust||L.size||"Size"]})]})]},q))}),d&&m.jsx("div",{style:Ot.modalOverlay,onClick:S,children:m.jsxs("div",{style:Ot.modalContent,onClick:L=>L.stopPropagation(),children:[m.jsxs("div",{style:Ot.modalImageWrap,onClick:()=>b("img",d.img),children:[m.jsx("img",{src:d.img,style:Ot.modalActualImg,alt:""}),m.jsxs("div",{style:Ot.luxTag,children:[" ",B?" ":"CLICK TO ZOOM"]})]}),m.jsxs("div",{style:Ot.modalBody,children:[m.jsx("h2",{style:Ot.modalName,children:d.name}),m.jsxs("div",{style:Ot.specGrid,children:[m.jsxs("div",{style:Ot.specItem,children:["LOC",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:U(d.loc||d.region||(B?"":"TBA"))})]}),m.jsxs("div",{style:Ot.specItem,children:["AGE",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.age?`${d.age}${B?"":""}`:"20s"})]}),m.jsxs("div",{style:Ot.specItem,children:["HEIGHT",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.height?d.height+"cm":"cm"})]}),m.jsxs("div",{style:Ot.specItem,children:["WEIGHT",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.weight?d.weight+"kg":"kg"})]}),m.jsxs("div",{style:Ot.specItem,children:["SIZE",m.jsx("br",{}),m.jsx("b",{style:Ot.specVal,children:d.bust||d.size||"Size"})]})]}),m.jsxs("div",{style:Ot.introBox,children:[m.jsx("div",{style:Ot.introTitle,children:"INTRO"}),m.jsx("p",{style:Ot.introText,children:d.desc||Q(d.name)})]}),(d.video||D(d.img))&&m.jsxs("div",{style:Ot.videoArea,onClick:()=>b("video",d.video||d.img),children:[m.jsxs("div",{style:Ot.introTitle,children:["PRIVATE MOVIE (",B?" ":"CLICK TO ENLARGE",")"]}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("video",{src:d.video||d.img,style:Ot.videoTag,muted:!0,loop:!0,autoPlay:!0,playsInline:!0}),m.jsxs("div",{style:Ot.videoOverlay,children:[" ",B?" ":"TAP TO FULL VIEW"]})]})]}),m.jsx("button",{style:Ot.closeBtn,onClick:S,children:B?"":"CLOSE"})]})]})}),y&&m.jsxs("div",{id:"full-screen-view",style:Ot.fullScreenOverlay,onClick:()=>v(null),children:[m.jsxs("button",{style:Ot.fullScreenClose,onClick:()=>v(null),children:[" ",B?"":"CLOSE"]}),m.jsx("div",{style:Ot.fullScreenContent,onClick:L=>L.stopPropagation(),children:y.type==="video"?m.jsx("video",{src:y.url,style:Ot.fullMedia,controls:!0,autoPlay:!0,loop:!0,playsInline:!0}):m.jsx("img",{src:y.url,style:Ot.fullMedia,alt:""})})]})]})}const Ot={container:{padding:"20px 0 100px",backgroundColor:"#080808"},filterWrapper:{overflowX:"auto",padding:"0 20px 20px",whiteSpace:"nowrap"},filterScroll:{display:"inline-flex",gap:10},filterItem:{padding:"10px 25px",borderRadius:"25px",border:"1px solid #333",fontSize:15,fontWeight:800,cursor:"pointer"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15,padding:"0 20px"},card:{background:"#111",borderRadius:"15px",overflow:"hidden",border:"1px solid #222",cursor:"pointer"},cardImgWrap:{position:"relative",aspectRatio:"1/1.3"},cardImg:{width:"100%",height:"100%",objectFit:"cover"},cardOverlay:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 50%, #111 100%)"},cardBadge:{position:"absolute",top:12,left:12,background:"rgba(255,215,0,0.9)",color:"#000",fontSize:10,fontWeight:900,padding:"4px 10px",borderRadius:6},cardInfo:{padding:"18px 12px",textAlign:"center"},cardName:{color:"#fff",fontSize:20,fontWeight:900,marginBottom:5},cardSpecs:{fontSize:13,color:"#aaa",fontWeight:600},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20,backdropFilter:"blur(8px)"},modalContent:{background:"#0f0f0f",width:"100%",maxWidth:"400px",borderRadius:"35px",overflowY:"auto",border:"1px solid #333",maxHeight:"92vh"},modalImageWrap:{position:"relative",width:"100%",aspectRatio:"1/1.2",cursor:"zoom-in"},modalActualImg:{width:"100%",height:"100%",objectFit:"cover"},luxTag:{position:"absolute",bottom:15,right:15,background:"rgba(0,0,0,0.5)",color:"#FFD700",fontSize:10,fontWeight:900,padding:"6px 12px",borderRadius:5,border:"1px solid #FFD700"},modalBody:{padding:30},modalName:{color:"#fff",fontSize:30,fontWeight:900,textAlign:"center",marginBottom:25},specGrid:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:30},specItem:{textAlign:"center",color:"#888",fontSize:11,background:"#161616",padding:"15px 5px",borderRadius:15,border:"1px solid #222"},specVal:{color:"#FFD700",fontSize:15,fontWeight:900,display:"block",marginTop:5},introBox:{background:"#161616",padding:25,borderRadius:20,borderLeft:"5px solid #FFD700",marginBottom:30},introTitle:{color:"#FFD700",fontSize:13,fontWeight:900,marginBottom:12,letterSpacing:1.5},introText:{color:"#eee",fontSize:16,lineHeight:1.8,margin:0},videoArea:{marginBottom:30,cursor:"zoom-in"},videoTag:{width:"100%",borderRadius:20,border:"1px solid #333",display:"block"},videoOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:15,fontWeight:900,borderRadius:20},closeBtn:{width:"100%",padding:20,background:"#222",color:"#fff",border:"none",borderRadius:20,fontSize:18,fontWeight:900,cursor:"pointer"},fullScreenOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullScreenContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullMedia:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},fullScreenClose:{position:"absolute",top:40,right:20,zIndex:100001,background:"#FFD700",color:"#000",border:"none",padding:"12px 25px",borderRadius:"30px",fontWeight:900,cursor:"pointer"}};function sj({videoCategories:n=[],selectedCategory:t,setSelectedCategory:i,filteredVideos:r=[],t:o}){const[u,c]=F.useState(null),[d,g]=F.useState(1),y=10,v=o.home==="",b={ALL:"ALL",:"KOREA",:"JAPAN",:"CHINA",:"S.E ASIA",:"WESTERN"},S=G=>v?G:b[G]||G;F.useEffect(()=>{g(1)},[t]);const D=d*y,N=D-y,B=r.slice(N,D),U=Math.ceil(r.length/y),Q=t==="ALL";F.useEffect(()=>{const G=()=>{u&&c(null)};return window.addEventListener("popstate",G),()=>window.removeEventListener("popstate",G)},[u]);const L=G=>{c(G),window.history.pushState({isFullVideo:!0},"")},q=()=>{c(null)};return m.jsxs("div",{style:Ke.pagePadding,children:[m.jsx("h2",{style:Ke.tabDisplayTitle,children:v?" ":"PREMIUM GALLERY"}),m.jsxs("div",{style:Ke.videoCategoryBar,children:[m.jsxs("span",{onClick:()=>i("ALL"),style:{...Ke.videoCatItem,color:Q?"#ffb347":"#555",borderBottom:Q?"2px solid #ffb347":"2px solid transparent"},children:[" ",S("ALL")," "]}),n.map(G=>m.jsxs("span",{onClick:()=>i(G),style:{...Ke.videoCatItem,color:t===G?"#ffb347":"#555",borderBottom:t===G?"2px solid #ffb347":"2px solid transparent"},children:[" ",S(G)," "]},G))]}),m.jsx("div",{style:Ke.videoGrid,children:B.length>0?B.map(G=>m.jsxs("div",{style:Ke.videoCard,onClick:()=>L(G.url),children:[m.jsxs("div",{style:Ke.videoWrapper,children:[m.jsx("video",{src:G.url,playsInline:!0,muted:!0,loop:!0,autoPlay:!0,style:Ke.videoEl,poster:G.poster||""}),m.jsxs("div",{style:Ke.playOverlay,children:[" ",v?"":"FULL VIEW"]})]}),m.jsxs("div",{style:Ke.videoDesc,children:[m.jsx("span",{style:Ke.descBadge,children:"EXCLUSIVE"}),m.jsx("p",{style:Ke.descText,children:G.description||(v?` ${G.category} `:`PREMIUM ${S(G.category)} SHOW`)})]})]},G.id)):m.jsx("div",{style:Ke.noData,children:v?"    .":"Videos in this category are coming soon."})}),U>1&&m.jsx("div",{style:Ke.pagination,children:Array.from({length:U},(G,tt)=>tt+1).map(G=>m.jsxs("button",{onClick:()=>{g(G),window.scrollTo(0,0)},style:{...Ke.pageBtn,background:d===G?"#ffb347":"#1a1a1a",color:d===G?"#000":"#888"},children:[" ",G," "]},G))}),u&&m.jsxs("div",{id:"full-screen-view",style:Ke.fullOverlay,onClick:q,children:[m.jsxs("button",{style:Ke.closeFull,onClick:q,children:[" ",v?"":"CLOSE"]}),m.jsx("div",{style:Ke.fullContent,onClick:G=>G.stopPropagation(),children:m.jsx("video",{src:u,style:Ke.fullVideoEl,controls:!0,autoPlay:!0,loop:!0,playsInline:!0})})]})]})}const Ke={pagePadding:{padding:"0 20px 100px 20px"},tabDisplayTitle:{color:"#fff",fontSize:20,fontWeight:200,letterSpacing:6,textAlign:"center",marginBottom:35,textTransform:"uppercase"},videoCategoryBar:{display:"flex",justifyContent:"center",gap:15,marginBottom:30,borderBottom:"1px solid #1a1a1a",paddingBottom:12,flexWrap:"wrap"},videoCatItem:{fontSize:13,fontWeight:800,cursor:"pointer",padding:"4px 4px",transition:"all 0.3s ease",textTransform:"uppercase"},videoGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:15},videoCard:{background:"#0f0f0f",borderRadius:12,overflow:"hidden",border:"1px solid #1a1a1a",cursor:"pointer"},videoWrapper:{width:"100%",aspectRatio:"9/16",background:"#000",position:"relative"},videoEl:{width:"100%",height:"100%",objectFit:"cover"},playOverlay:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,fontWeight:900,opacity:.8},videoDesc:{padding:"12px 10px",textAlign:"center"},descBadge:{fontSize:8,color:"#000",background:"#ffb347",padding:"2px 5px",borderRadius:3,fontWeight:900,display:"inline-block",marginBottom:6},descText:{margin:0,fontSize:11,color:"#eee",fontWeight:500,letterSpacing:-.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},noData:{gridColumn:"span 2",textAlign:"center",color:"#444",padding:"50px 0",fontSize:14},pagination:{display:"flex",justifyContent:"center",gap:8,marginTop:30},pageBtn:{border:"none",width:35,height:35,borderRadius:"50%",fontWeight:800,fontSize:12,cursor:"pointer"},fullOverlay:{position:"fixed",inset:0,background:"#000",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},fullContent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fullVideoEl:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},closeFull:{position:"absolute",top:30,right:20,zIndex:100001,background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"30px",fontWeight:800}},ry=F.createContext({});function Ph(n){const t=F.useRef(null);return t.current===null&&(t.current=n()),t.current}const ay=typeof window<"u",oy=ay?F.useLayoutEffect:F.useEffect,Lh=F.createContext(null);function ly(n,t){n.indexOf(t)===-1&&n.push(t)}function uy(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Fs=(n,t,i)=>i>t?t:i<n?n:i;let cy=()=>{};const qs={},yE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function vE(n){return typeof n=="object"&&n!==null}const xE=n=>/^0[^.\s]+$/u.test(n);function fy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Si=n=>n,rj=(n,t)=>i=>t(n(i)),Hu=(...n)=>n.reduce(rj),ju=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class hy{constructor(){this.subscriptions=[]}add(t){return ly(this.subscriptions,t),()=>uy(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ps=n=>n*1e3,bi=n=>n/1e3;function bE(n,t){return t?n*(1e3/t):0}const _E=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,aj=1e-7,oj=12;function lj(n,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=_E(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>aj&&++d<oj);return c}function Gu(n,t,i,r){if(n===t&&i===r)return Si;const o=u=>lj(u,0,1,n,i);return u=>u===0||u===1?u:_E(o(u),t,r)}const TE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,SE=n=>t=>1-n(1-t),EE=Gu(.33,1.53,.69,.99),dy=SE(EE),AE=TE(dy),wE=n=>(n*=2)<1?.5*dy(n):.5*(2-Math.pow(2,-10*(n-1))),py=n=>1-Math.sin(Math.acos(n)),CE=SE(py),RE=TE(py),uj=Gu(.42,0,1,1),cj=Gu(0,0,.58,1),IE=Gu(.42,0,.58,1),fj=n=>Array.isArray(n)&&typeof n[0]!="number",DE=n=>Array.isArray(n)&&typeof n[0]=="number",hj={linear:Si,easeIn:uj,easeInOut:IE,easeOut:cj,circIn:py,circInOut:RE,circOut:CE,backIn:dy,backInOut:AE,backOut:EE,anticipate:wE},dj=n=>typeof n=="string",Lb=n=>{if(DE(n)){cy(n.length===4);const[t,i,r,o]=n;return Gu(t,i,r,o)}else if(dj(n))return hj[n];return n},If=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pj(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(y.schedule(v),n()),v(d)}const y={schedule:(v,b=!1,S=!1)=>{const N=S&&o?i:r;return b&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),i.clear(),o=!1,u&&(u=!1,y.process(v))}};return y}const mj=40;function VE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=If.reduce((q,G)=>(q[G]=pj(u),q),{}),{setup:d,read:g,resolveKeyframes:y,preUpdate:v,update:b,preRender:S,render:D,postRender:N}=c,B=()=>{const q=qs.useManualTiming?o.timestamp:performance.now();i=!1,qs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,mj),1)),o.timestamp=q,o.isProcessing=!0,d.process(o),g.process(o),y.process(o),v.process(o),b.process(o),S.process(o),D.process(o),N.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(B))},U=()=>{i=!0,r=!0,o.isProcessing||n(B)};return{schedule:If.reduce((q,G)=>{const tt=c[G];return q[G]=(et,R=!1,A=!1)=>(i||U(),tt.schedule(et,R,A)),q},{}),cancel:q=>{for(let G=0;G<If.length;G++)c[If[G]].cancel(q)},state:o,steps:c}}const{schedule:we,cancel:zr,state:pn,steps:sm}=VE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Si,!0);let zf;function gj(){zf=void 0}const Bn={now:()=>(zf===void 0&&Bn.set(pn.isProcessing||qs.useManualTiming?pn.timestamp:performance.now()),zf),set:n=>{zf=n,queueMicrotask(gj)}},jE=n=>t=>typeof t=="string"&&t.startsWith(n),ME=jE("--"),yj=jE("var(--"),my=n=>yj(n)?vj.test(n.split("/*")[0].trim()):!1,vj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Mu={...il,transform:n=>Fs(0,1,n)},Df={...il,default:1},vu=n=>Math.round(n*1e5)/1e5,gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xj(n){return n==null}const bj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yy=(n,t)=>i=>!!(typeof i=="string"&&bj.test(i)&&i.startsWith(n)||t&&!xj(i)&&Object.prototype.hasOwnProperty.call(i,t)),NE=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(gy);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},_j=n=>Fs(0,255,n),rm={...il,transform:n=>Math.round(_j(n))},Ia={test:yy("rgb","red"),parse:NE("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+rm.transform(n)+", "+rm.transform(t)+", "+rm.transform(i)+", "+vu(Mu.transform(r))+")"};function Tj(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Hm={test:yy("#"),parse:Tj,transform:Ia.transform},Yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Tr=Yu("deg"),ms=Yu("%"),Mt=Yu("px"),Sj=Yu("vh"),Ej=Yu("vw"),kb={...ms,parse:n=>ms.parse(n)/100,transform:n=>ms.transform(n*100)},Oo={test:yy("hsl","hue"),parse:NE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+ms.transform(vu(t))+", "+ms.transform(vu(i))+", "+vu(Mu.transform(r))+")"},We={test:n=>Ia.test(n)||Hm.test(n)||Oo.test(n),parse:n=>Ia.test(n)?Ia.parse(n):Oo.test(n)?Oo.parse(n):Hm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ia.transform(n):Oo.transform(n),getAnimatableNone:n=>{const t=We.parse(n);return t.alpha=0,We.transform(t)}},Aj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wj(n){return isNaN(n)&&typeof n=="string"&&(n.match(gy)?.length||0)+(n.match(Aj)?.length||0)>0}const OE="number",PE="color",Cj="var",Rj="var(",Bb="${}",Ij=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(Ij,g=>(We.test(g)?(r.color.push(u),o.push(PE),i.push(We.parse(g))):g.startsWith(Rj)?(r.var.push(u),o.push(Cj),i.push(g)):(r.number.push(u),o.push(OE),i.push(parseFloat(g))),++u,Bb)).split(Bb);return{values:i,split:d,indexes:r,types:o}}function LE(n){return Nu(n).values}function kE(n){const{split:t,types:i}=Nu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===OE?u+=vu(o[c]):d===PE?u+=We.transform(o[c]):u+=o[c]}return u}}const Dj=n=>typeof n=="number"?0:We.test(n)?We.getAnimatableNone(n):n;function Vj(n){const t=LE(n);return kE(n)(t.map(Dj))}const Ur={test:wj,parse:LE,createTransformer:kE,getAnimatableNone:Vj};function am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function jj({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,g=2*i-d;o=am(g,d,n+1/3),u=am(g,d,n),c=am(g,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function ah(n,t){return i=>i>0?t:n}const Ce=(n,t,i)=>n+(t-n)*i,om=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Mj=[Hm,Ia,Oo],Nj=n=>Mj.find(t=>t.test(n));function zb(n){const t=Nj(n);if(!t)return!1;let i=t.parse(n);return t===Oo&&(i=jj(i)),i}const Ub=(n,t)=>{const i=zb(n),r=zb(t);if(!i||!r)return ah(n,t);const o={...i};return u=>(o.red=om(i.red,r.red,u),o.green=om(i.green,r.green,u),o.blue=om(i.blue,r.blue,u),o.alpha=Ce(i.alpha,r.alpha,u),Ia.transform(o))},Gm=new Set(["none","hidden"]);function Oj(n,t){return Gm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function Pj(n,t){return i=>Ce(n,t,i)}function vy(n){return typeof n=="number"?Pj:typeof n=="string"?my(n)?ah:We.test(n)?Ub:Bj:Array.isArray(n)?BE:typeof n=="object"?We.test(n)?Ub:Lj:ah}function BE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>vy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function Lj(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=vy(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function kj(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],d=n.values[c]??0;i[o]=d,r[u]++}return i}const Bj=(n,t)=>{const i=Ur.createTransformer(t),r=Nu(n),o=Nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Gm.has(n)&&!o.values.length||Gm.has(t)&&!r.values.length?Oj(n,t):Hu(BE(kj(r,o),o.values),i):ah(n,t)};function zE(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Ce(n,t,i):vy(n)(n,t)}const zj=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>we.update(t,i),stop:()=>zr(t),now:()=>pn.isProcessing?pn.timestamp:Bn.now()}},UE=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oh=2e4;function xy(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<oh;)t+=i,r=n.next(t);return t>=oh?1/0:t}function Uj(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(xy(r),oh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:bi(o)}}const Fj=5;function FE(n,t,i){const r=Math.max(t-Fj,0);return bE(i-n(r),t-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function qj({duration:n=Ve.duration,bounce:t=Ve.bounce,velocity:i=Ve.velocity,mass:r=Ve.mass}){let o,u,c=1-t;c=Fs(Ve.minDamping,Ve.maxDamping,c),n=Fs(Ve.minDuration,Ve.maxDuration,bi(n)),c<1?(o=y=>{const v=y*c,b=v*n,S=v-i,D=Ym(y,c),N=Math.exp(-b);return lm-S/D*N},u=y=>{const b=y*c*n,S=b*i+i,D=Math.pow(c,2)*Math.pow(y,2)*n,N=Math.exp(-b),B=Ym(Math.pow(y,2),c);return(-o(y)+lm>0?-1:1)*((S-D)*N)/B}):(o=y=>{const v=Math.exp(-y*n),b=(y-i)*n+1;return-lm+v*b},u=y=>{const v=Math.exp(-y*n),b=(i-y)*(n*n);return v*b});const d=5/n,g=Gj(o,u,d);if(n=ps(n),isNaN(g))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:n};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:c*2*Math.sqrt(r*y),duration:n}}}const Hj=12;function Gj(n,t,i){let r=i;for(let o=1;o<Hj;o++)r=r-n(r)/t(r);return r}function Ym(n,t){return n*Math.sqrt(1-t*t)}const Yj=["duration","bounce"],Kj=["stiffness","damping","mass"];function Fb(n,t){return t.some(i=>n[i]!==void 0)}function Qj(n){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...n};if(!Fb(n,Kj)&&Fb(n,Yj))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Fs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ve.mass,stiffness:o,damping:u}}else{const i=qj(n);t={...t,...i,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function lh(n=Ve.visualDuration,t=Ve.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:g,damping:y,mass:v,duration:b,velocity:S,isResolvedFromDuration:D}=Qj({...i,velocity:-bi(i.velocity||0)}),N=S||0,B=y/(2*Math.sqrt(g*v)),U=c-u,Q=bi(Math.sqrt(g/v)),L=Math.abs(U)<5;r||(r=L?Ve.restSpeed.granular:Ve.restSpeed.default),o||(o=L?Ve.restDelta.granular:Ve.restDelta.default);let q;if(B<1){const tt=Ym(Q,B);q=et=>{const R=Math.exp(-B*Q*et);return c-R*((N+B*Q*U)/tt*Math.sin(tt*et)+U*Math.cos(tt*et))}}else if(B===1)q=tt=>c-Math.exp(-Q*tt)*(U+(N+Q*U)*tt);else{const tt=Q*Math.sqrt(B*B-1);q=et=>{const R=Math.exp(-B*Q*et),A=Math.min(tt*et,300);return c-R*((N+B*Q*U)*Math.sinh(A)+tt*U*Math.cosh(A))/tt}}const G={calculatedDuration:D&&b||null,next:tt=>{const et=q(tt);if(D)d.done=tt>=b;else{let R=tt===0?N:0;B<1&&(R=tt===0?ps(N):FE(q,tt,et));const A=Math.abs(R)<=r,w=Math.abs(c-et)<=o;d.done=A&&w}return d.value=d.done?c:et,d},toString:()=>{const tt=Math.min(xy(G),oh),et=UE(R=>G.next(tt*R).value,tt,30);return tt+"ms "+et},toTransition:()=>{}};return G}lh.applyToOptions=n=>{const t=Uj(n,100,lh);return n.ease=t.ease,n.duration=ps(t.duration),n.type="keyframes",n};function Km({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:g,restDelta:y=.5,restSpeed:v}){const b=n[0],S={done:!1,value:b},D=A=>d!==void 0&&A<d||g!==void 0&&A>g,N=A=>d===void 0?g:g===void 0||Math.abs(d-A)<Math.abs(g-A)?d:g;let B=i*t;const U=b+B,Q=c===void 0?U:c(U);Q!==U&&(B=Q-b);const L=A=>-B*Math.exp(-A/r),q=A=>Q+L(A),G=A=>{const w=L(A),j=q(A);S.done=Math.abs(w)<=y,S.value=S.done?Q:j};let tt,et;const R=A=>{D(S.value)&&(tt=A,et=lh({keyframes:[S.value,N(S.value)],velocity:FE(q,A,S.value),damping:o,stiffness:u,restDelta:y,restSpeed:v}))};return R(0),{calculatedDuration:null,next:A=>{let w=!1;return!et&&tt===void 0&&(w=!0,G(A),R(A)),tt!==void 0&&A>=tt?et.next(A-tt):(!w&&G(A),S)}}}function Wj(n,t,i){const r=[],o=i||qs.mix||zE,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const g=Array.isArray(t)?t[c]||Si:t;d=Hu(g,d)}r.push(d)}return r}function Xj(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(cy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=Wj(t,r,o),g=d.length,y=v=>{if(c&&v<n[0])return t[0];let b=0;if(g>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const S=ju(n[b],n[b+1],v);return d[b](S)};return i?v=>y(Fs(n[0],n[u-1],v)):y}function $j(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=ju(0,t,r);n.push(Ce(i,1,o))}}function Zj(n){const t=[0];return $j(t,n.length-1),t}function Jj(n,t){return n.map(i=>i*t)}function t5(n,t){return n.map(()=>t||IE).splice(0,n.length-1)}function xu({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=fj(r)?r.map(Lb):Lb(r),u={done:!1,value:t[0]},c=Jj(i&&i.length===t.length?i:Zj(t),n),d=Xj(c,t,{ease:Array.isArray(o)?o:t5(t,o)});return{calculatedDuration:n,next:g=>(u.value=d(g),u.done=g>=n,u)}}const e5=n=>n!==null;function by(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(e5),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const n5={decay:Km,inertia:Km,tween:xu,keyframes:xu,spring:lh};function qE(n){typeof n.type=="string"&&(n.type=n5[n.type])}class _y{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const i5=n=>n/100;class Ty extends _y{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qE(t);const{type:i=xu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const g=i||xu;g!==xu&&typeof d[0]!="number"&&(this.mixKeyframes=Hu(i5,zE(d[0],d[1])),d=[0,100]);const y=g({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...d].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=xy(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:v,repeat:b,repeatType:S,repeatDelay:D,type:N,onUpdate:B,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-y*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,G=r;if(b){const A=Math.min(this.currentTime,o)/d;let w=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&w--,w=Math.min(w,b+1),w%2&&(S==="reverse"?(j=1-j,D&&(j-=D/d)):S==="mirror"&&(G=c)),q=Fs(0,1,j)*d}const tt=L?{done:!1,value:v[0]}:G.next(q);u&&(tt.value=u(tt.value));let{done:et}=tt;!L&&g!==null&&(et=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&et);return R&&N!==Km&&(tt.value=by(v,this.options,U,this.speed)),B&&B(tt.value),R&&this.finish(),tt}then(t,i){return this.finished.then(t,i)}get duration(){return bi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bi(t)}get time(){return bi(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=bi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=zj,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function s5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Da=n=>n*180/Math.PI,Qm=n=>{const t=Da(Math.atan2(n[1],n[0]));return Wm(t)},r5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Qm,rotateZ:Qm,skewX:n=>Da(Math.atan(n[1])),skewY:n=>Da(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Wm=n=>(n=n%360,n<0&&(n+=360),n),qb=Qm,Hb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Gb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),a5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hb,scaleY:Gb,scale:n=>(Hb(n)+Gb(n))/2,rotateX:n=>Wm(Da(Math.atan2(n[6],n[5]))),rotateY:n=>Wm(Da(Math.atan2(-n[2],n[0]))),rotateZ:qb,rotate:qb,skewX:n=>Da(Math.atan(n[4])),skewY:n=>Da(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Xm(n){return n.includes("scale")?1:0}function $m(n,t){if(!n||n==="none")return Xm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=a5,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=r5,o=d}if(!o)return Xm(t);const u=r[t],c=o[1].split(",").map(l5);return typeof u=="function"?u(c):c[u]}const o5=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return $m(i,t)};function l5(n){return parseFloat(n.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rl=new Set(sl),Yb=n=>n===il||n===Mt,u5=new Set(["x","y","z"]),c5=sl.filter(n=>!u5.has(n));function f5(n){const t=[];return c5.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ja={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>$m(t,"x"),y:(n,{transform:t})=>$m(t,"y")};ja.translateX=ja.x;ja.translateY=ja.y;const Ma=new Set;let Zm=!1,Jm=!1,tg=!1;function HE(){if(Jm){const n=Array.from(Ma).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=f5(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jm=!1,Zm=!1,Ma.forEach(n=>n.complete(tg)),Ma.clear()}function GE(){Ma.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Jm=!0)})}function h5(){tg=!0,GE(),HE(),tg=!1}class Sy{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),Zm||(Zm=!0,we.read(GE),we.resolveKeyframes(HE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}s5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const d5=n=>n.startsWith("--");function p5(n,t,i){d5(t)?n.style.setProperty(t,i):n.style[t]=i}const m5=fy(()=>window.ScrollTimeline!==void 0),g5={};function y5(n,t){const i=fy(n);return()=>g5[t]??i()}const YE=y5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Kb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function KE(n,t){if(n)return typeof n=="function"?YE()?UE(n,t):"ease-out":DE(n)?hu(n):Array.isArray(n)?n.map(i=>KE(i,t)||Kb.easeOut):Kb[n]}function v5(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:g}={},y=void 0){const v={[t]:i};g&&(v.offset=g);const b=KE(d,o);Array.isArray(b)&&(v.easing=b);const S={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),n.animate(v,S)}function QE(n){return typeof n=="function"&&"applyToOptions"in n}function x5({type:n,...t}){return QE(n)&&YE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class b5 extends _y{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:g}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,cy(typeof t.type!="string");const y=x5(t);this.animation=v5(i,r,o,y,u),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=by(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):p5(i,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return bi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+bi(t)}get time(){return bi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&m5()?(this.animation.timeline=t,Si):i(this)}}const WE={anticipate:wE,backInOut:AE,circInOut:RE};function _5(n){return n in WE}function T5(n){typeof n.ease=="string"&&_5(n.ease)&&(n.ease=WE[n.ease])}const Qb=10;class S5 extends b5{constructor(t){T5(t),qE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Ty({...c,autoplay:!1}),g=ps(this.finishedTime??this.time);i.setWithVelocity(d.sample(g-Qb).value,d.sample(g).value,Qb),d.stop()}}const Wb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ur.test(n)||n==="0")&&!n.startsWith("url("));function E5(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function A5(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=Wb(o,t),d=Wb(u,t);return!c||!d?!1:E5(n)||(i==="spring"||QE(i))&&r}function eg(n){n.duration=0,n.type="keyframes"}const w5=new Set(["opacity","clipPath","filter","transform"]),C5=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function R5(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=t.owner.getProps();return C5()&&i&&w5.has(i)&&(i!=="transform"||!y)&&!g&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const I5=40;class D5 extends _y{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:g,motionValue:y,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:g,motionValue:y,element:v,...b},D=v?.KeyframeResolver||Sy;this.keyframeResolver=new D(d,(N,B,U)=>this.onKeyframesResolved(N,B,S,!U),g,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:g,isHandoff:y,onUpdate:v}=r;this.resolvedAt=Bn.now(),A5(t,u,c,d)||((qs.instantAnimations||!g)&&v?.(by(t,r,i)),t[0]=t[t.length-1],eg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>I5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},D=!y&&R5(S)?new S5({...S,element:S.motionValue.owner.current}):new Ty(S);D.finished.then(()=>this.notifyFinished()).catch(Si),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),h5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const V5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j5(n){const t=V5.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function XE(n,t,i=1){const[r,o]=j5(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return yE(c)?parseFloat(c):c}return my(o)?XE(o,t,i+1):o}function Ey(n,t){return n?.[t]??n?.default??n}const $E=new Set(["width","height","top","left","right","bottom",...sl]),M5={test:n=>n==="auto",parse:n=>n},ZE=n=>t=>t.test(n),JE=[il,Mt,ms,Tr,Ej,Sj,M5],Xb=n=>JE.find(ZE(n));function N5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xE(n):!0}const O5=new Set(["brightness","contrast","saturate","opacity"]);function P5(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(gy)||[];if(!r)return n;const o=i.replace(r,"");let u=O5.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const L5=/\b([a-z-]*)\(.*?\)/gu,ng={...Ur,getAnimatableNone:n=>{const t=n.match(L5);return t?t.map(P5).join(" "):n}},$b={...il,transform:Math.round},k5={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:Tr,skewX:Tr,skewY:Tr,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Mu,originX:kb,originY:kb,originZ:Mt},Ay={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt,...k5,zIndex:$b,fillOpacity:Mu,strokeOpacity:Mu,numOctaves:$b},B5={...Ay,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:ng,WebkitFilter:ng},tA=n=>B5[n];function eA(n,t){let i=tA(n);return i!==ng&&(i=Ur),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const z5=new Set(["auto","none","0"]);function U5(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!z5.has(u)&&Nu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=eA(i,o)}class F5 extends Sy{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let y=t[g];if(typeof y=="string"&&(y=y.trim(),my(y))){const v=XE(y,i.current);v!==void 0&&(t[g]=v),g===t.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!$E.has(r)||t.length!==2)return;const[o,u]=t,c=Xb(o),d=Xb(u);if(c!==d)if(Yb(c)&&Yb(d))for(let g=0;g<t.length;g++){const y=t[g];typeof y=="string"&&(t[g]=parseFloat(y))}else ja[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||N5(t[o]))&&r.push(o);r.length&&U5(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ja[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ja[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,g])=>{t.getValue(d).set(g)}),this.resolveNoneKeyframes()}}function q5(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const nA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function iA(n){return vE(n)&&"offsetHeight"in n}const Zb=30,H5=n=>!isNaN(parseFloat(n));class G5{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Bn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=H5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new hy);const r=this.events[t].add(i);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zb)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Zb);return bE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xo(n,t){return new G5(n,t)}const{schedule:wy}=VE(queueMicrotask,!1),Bi={x:!1,y:!1};function sA(){return Bi.x||Bi.y}function Y5(n){return n==="x"||n==="y"?Bi[n]?null:(Bi[n]=!0,()=>{Bi[n]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function rA(n,t){const i=q5(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function Jb(n){return!(n.pointerType==="touch"||sA())}function K5(n,t,i={}){const[r,o,u]=rA(n,i),c=d=>{if(!Jb(d))return;const{target:g}=d,y=t(g,d);if(typeof y!="function"||!g)return;const v=b=>{Jb(b)&&(y(b),g.removeEventListener("pointerleave",v))};g.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const aA=(n,t)=>t?n===t?!0:aA(n,t.parentElement):!1,Cy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Q5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W5(n){return Q5.has(n.tagName)||n.tabIndex!==-1}const Uf=new WeakSet;function t_(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const X5=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=t_(()=>{if(Uf.has(i))return;um(i,"down");const o=t_(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function e_(n){return Cy(n)&&!sA()}function $5(n,t,i={}){const[r,o,u]=rA(n,i),c=d=>{const g=d.currentTarget;if(!e_(d))return;Uf.add(g);const y=t(g,d),v=(D,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",S),Uf.has(g)&&Uf.delete(g),e_(D)&&typeof y=="function"&&y(D,{success:N})},b=D=>{v(D,g===window||g===document||i.useGlobalTarget||aA(g,D.target))},S=D=>{v(D,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),iA(d)&&(d.addEventListener("focus",y=>X5(y,o)),!W5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function oA(n){return vE(n)&&"ownerSVGElement"in n}function Z5(n){return oA(n)&&n.tagName==="svg"}const An=n=>!!(n&&n.getVelocity),J5=[...JE,We,Ur],tM=n=>J5.find(ZE(n)),Ry=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function n_(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function eM(...n){return t=>{let i=!1;const r=n.map(o=>{const u=n_(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():n_(n[o],null)}}}}function nM(...n){return F.useCallback(eM(...n),n)}class iM extends F.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=iA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sM({children:n,isPresent:t,anchorX:i,root:r}){const o=F.useId(),u=F.useRef(null),c=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=F.useContext(Ry),g=nM(u,n?.ref);return F.useInsertionEffect(()=>{const{width:y,height:v,top:b,left:S,right:D}=c.current;if(t||!u.current||!y||!v)return;const N=i==="left"?`left: ${S}`:`right: ${D}`;u.current.dataset.motionPopId=o;const B=document.createElement("style");d&&(B.nonce=d);const U=r??document.head;return U.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${b}px !important;
          }
        `),()=>{U.contains(B)&&U.removeChild(B)}},[t]),m.jsx(iM,{isPresent:t,childRef:u,sizeRef:c,children:F.cloneElement(n,{ref:g})})}const rM=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:g})=>{const y=Ph(aM),v=F.useId();let b=!0,S=F.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:D=>{y.set(D,!0);for(const N of y.values())if(!N)return;r&&r()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[i,y,r]);return u&&b&&(S={...S}),F.useMemo(()=>{y.forEach((D,N)=>y.set(N,!1))},[i]),F.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),c==="popLayout"&&(n=m.jsx(sM,{isPresent:i,anchorX:d,root:g,children:n})),m.jsx(Lh.Provider,{value:S,children:n})};function aM(){return new Map}function lA(n=!0){const t=F.useContext(Lh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=F.useId();F.useEffect(()=>{if(n)return o(u)},[n]);const c=F.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const Vf=n=>n.key||"";function i_(n){const t=[];return F.Children.forEach(n,i=>{F.isValidElement(i)&&t.push(i)}),t}const cm=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:g})=>{const[y,v]=lA(c),b=F.useMemo(()=>i_(n),[n]),S=c&&!y?[]:b.map(Vf),D=F.useRef(!0),N=F.useRef(b),B=Ph(()=>new Map),[U,Q]=F.useState(b),[L,q]=F.useState(b);oy(()=>{D.current=!1,N.current=b;for(let et=0;et<L.length;et++){const R=Vf(L[et]);S.includes(R)?B.delete(R):B.get(R)!==!0&&B.set(R,!1)}},[L,S.length,S.join("-")]);const G=[];if(b!==U){let et=[...b];for(let R=0;R<L.length;R++){const A=L[R],w=Vf(A);S.includes(w)||(et.splice(R,0,A),G.push(A))}return u==="wait"&&G.length&&(et=G),q(i_(et)),Q(b),null}const{forceRender:tt}=F.useContext(ry);return m.jsx(m.Fragment,{children:L.map(et=>{const R=Vf(et),A=c&&!y?!1:b===L||S.includes(R),w=()=>{if(B.has(R))B.set(R,!0);else return;let j=!0;B.forEach(V=>{V||(j=!1)}),j&&(tt?.(),q(N.current),c&&v?.(),r&&r())};return m.jsx(rM,{isPresent:A,initial:!D.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:A?void 0:w,anchorX:d,children:et},R)})})},uA=F.createContext({strict:!1}),s_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const n in s_)$o[n]={isEnabled:t=>s_[n].some(i=>!!t[i])};function oM(n){for(const t in n)$o[t]={...$o[t],...n[t]}}const lM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||lM.has(n)}let cA=n=>!uh(n);function uM(n){typeof n=="function"&&(cA=t=>t.startsWith("on")?!uh(t):n(t))}try{uM(require("@emotion/is-prop-valid").default)}catch{}function cM(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(cA(o)||i===!0&&uh(o)||!t&&!uh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const kh=F.createContext({});function Bh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ou(n){return typeof n=="string"||Array.isArray(n)}const Iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dy=["initial",...Iy];function zh(n){return Bh(n.animate)||Dy.some(t=>Ou(n[t]))}function fA(n){return!!(zh(n)||n.variants)}function fM(n,t){if(zh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Ou(i)?i:void 0,animate:Ou(r)?r:void 0}}return n.inherit!==!1?t:{}}function hM(n){const{initial:t,animate:i}=fM(n,F.useContext(kh));return F.useMemo(()=>({initial:t,animate:i}),[r_(t),r_(i)])}function r_(n){return Array.isArray(n)?n.join(" "):n}function a_(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ou={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Mt.test(n))n=parseFloat(n);else return n;const i=a_(n,t.target.x),r=a_(n,t.target.y);return`${i}% ${r}%`}},dM={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Ur.parse(n);if(o.length>5)return r;const u=Ur.createTransformer(n),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,g=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=g;const y=Ce(d,g,.5);return typeof o[2+c]=="number"&&(o[2+c]/=y),typeof o[3+c]=="number"&&(o[3+c]/=y),u(o)}},ig={borderRadius:{...ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:dM};function hA(n,{layout:t,layoutId:i}){return rl.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!ig[n]||n==="opacity")}const pM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mM=sl.length;function gM(n,t,i){let r="",o=!0;for(let u=0;u<mM;u++){const c=sl[u],d=n[c];if(d===void 0)continue;let g=!0;if(typeof d=="number"?g=d===(c.startsWith("scale")?1:0):g=parseFloat(d)===0,!g||i){const y=nA(d,Ay[c]);if(!g){o=!1;const v=pM[c]||c;r+=`${v}(${y}) `}i&&(t[c]=y)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Vy(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const g in t){const y=t[g];if(rl.has(g)){c=!0;continue}else if(ME(g)){o[g]=y;continue}else{const v=nA(y,Ay[g]);g.startsWith("origin")?(d=!0,u[g]=v):r[g]=v}}if(t.transform||(c||i?r.transform=gM(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:g="50%",originY:y="50%",originZ:v=0}=u;r.transformOrigin=`${g} ${y} ${v}`}}const jy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dA(n,t,i){for(const r in t)!An(t[r])&&!hA(r,i)&&(n[r]=t[r])}function yM({transformTemplate:n},t){return F.useMemo(()=>{const i=jy();return Vy(i,t,n),Object.assign({},i.vars,i.style)},[t])}function vM(n,t){const i=n.style||{},r={};return dA(r,i,n),Object.assign(r,yM(n,t)),r}function xM(n,t){const i={},r=vM(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const bM={offset:"stroke-dashoffset",array:"stroke-dasharray"},_M={offset:"strokeDashoffset",array:"strokeDasharray"};function TM(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?bM:_M;n[u.offset]=Mt.transform(-r);const c=Mt.transform(t),d=Mt.transform(i);n[u.array]=`${c} ${d}`}function pA(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},g,y,v){if(Vy(n,d,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:S}=n;b.transform&&(S.transform=b.transform,delete b.transform),(S.transform||b.transformOrigin)&&(S.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&TM(b,o,u,c,!1)}const mA=()=>({...jy(),attrs:{}}),gA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function SM(n,t,i,r){const o=F.useMemo(()=>{const u=mA();return pA(u,t,gA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};dA(u,n.style,n),o.style={...u,...o.style}}return o}const EM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function My(n){return typeof n!="string"||n.includes("-")?!1:!!(EM.indexOf(n)>-1||/[A-Z]/u.test(n))}function AM(n,t,i,{latestValues:r},o,u=!1){const d=(My(n)?SM:xM)(t,r,o,n),g=cM(t,typeof n=="string",u),y=n!==F.Fragment?{...g,...d,ref:i}:{},{children:v}=t,b=F.useMemo(()=>An(v)?v.get():v,[v]);return F.createElement(n,{...y,children:b})}function o_(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Ny(n,t,i,r){if(typeof t=="function"){const[o,u]=o_(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=o_(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function Ff(n){return An(n)?n.get():n}function wM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:CM(i,r,o,n),renderState:t()}}function CM(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=Ff(u[S]);let{initial:c,animate:d}=n;const g=zh(n),y=fA(n);t&&y&&!g&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Bh(b)){const S=Array.isArray(b)?b:[b];for(let D=0;D<S.length;D++){const N=Ny(n,S[D]);if(N){const{transitionEnd:B,transition:U,...Q}=N;for(const L in Q){let q=Q[L];if(Array.isArray(q)){const G=v?q.length-1:0;q=q[G]}q!==null&&(o[L]=q)}for(const L in B)o[L]=B[L]}}}return o}const yA=n=>(t,i)=>{const r=F.useContext(kh),o=F.useContext(Lh),u=()=>wM(n,t,r,o);return i?u():Ph(u)};function Oy(n,t,i){const{style:r}=n,o={};for(const u in r)(An(r[u])||t.style&&An(t.style[u])||hA(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const RM=yA({scrapeMotionValuesFromProps:Oy,createRenderState:jy});function vA(n,t,i){const r=Oy(n,t,i);for(const o in n)if(An(n[o])||An(t[o])){const u=sl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const IM=yA({scrapeMotionValuesFromProps:vA,createRenderState:mA}),DM=Symbol.for("motionComponentSymbol");function Po(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function VM(n,t,i){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Po(i)&&(i.current=r))},[t])}const Py=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jM="framerAppearId",xA="data-"+Py(jM),bA=F.createContext({});function MM(n,t,i,r,o){const{visualElement:u}=F.useContext(kh),c=F.useContext(uA),d=F.useContext(Lh),g=F.useContext(Ry).reducedMotion,y=F.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const v=y.current,b=F.useContext(bA);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&NM(y.current,i,o,b);const S=F.useRef(!1);F.useInsertionEffect(()=>{v&&S.current&&v.update(i,d)});const D=i[xA],N=F.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return oy(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),F.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),N.current=!1),v.enteringChildren=void 0)}),v}function NM(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:g,layoutRoot:y,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:_A(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Po(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:y})}function _A(n){if(n)return n.options.allowProjection!==!1?n.projection:_A(n.parent)}function fm(n,{forwardMotionProps:t=!1}={},i,r){i&&oM(i);const o=My(n)?IM:RM;function u(d,g){let y;const v={...F.useContext(Ry),...d,layoutId:OM(d)},{isStatic:b}=v,S=hM(d),D=o(d,b);if(!b&&ay){PM();const N=LM(v);y=N.MeasureLayout,S.visualElement=MM(n,D,v,r,N.ProjectionNode)}return m.jsxs(kh.Provider,{value:S,children:[y&&S.visualElement?m.jsx(y,{visualElement:S.visualElement,...v}):null,AM(n,d,VM(D,S.visualElement,g),D,b,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=F.forwardRef(u);return c[DM]=n,c}function OM({layoutId:n}){const t=F.useContext(ry).id;return t&&n!==void 0?t+"-"+n:n}function PM(n,t){F.useContext(uA).strict}function LM(n){const{drag:t,layout:i}=$o;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kM(n,t){if(typeof Proxy>"u")return fm;const i=new Map,r=(u,c)=>fm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,fm(c,void 0,n,t)),i.get(c))})}function TA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function BM({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function zM(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function hm(n){return n===void 0||n===1}function sg({scale:n,scaleX:t,scaleY:i}){return!hm(n)||!hm(t)||!hm(i)}function Aa(n){return sg(n)||SA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function SA(n){return l_(n.x)||l_(n.y)}function l_(n){return n&&n!=="0%"}function ch(n,t,i){const r=n-i,o=t*r;return i+o}function u_(n,t,i,r,o){return o!==void 0&&(n=ch(n,o,r)),ch(n,i,r)+t}function rg(n,t=0,i=1,r,o){n.min=u_(n.min,t,i,r,o),n.max=u_(n.max,t,i,r,o)}function EA(n,{x:t,y:i}){rg(n.x,t.translate,t.scale,t.originPoint),rg(n.y,i.translate,i.scale,i.originPoint)}const c_=.999999999999,f_=1.0000000000001;function UM(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ko(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,EA(n,c)),r&&Aa(u.latestValues)&&ko(n,u.latestValues))}t.x<f_&&t.x>c_&&(t.x=1),t.y<f_&&t.y>c_&&(t.y=1)}function Lo(n,t){n.min=n.min+t,n.max=n.max+t}function h_(n,t,i,r,o=.5){const u=Ce(n.min,n.max,o);rg(n,t,i,u,r)}function ko(n,t){h_(n.x,t.x,t.scaleX,t.scale,t.originX),h_(n.y,t.y,t.scaleY,t.scale,t.originY)}function AA(n,t){return TA(zM(n.getBoundingClientRect(),t))}function FM(n,t,i){const r=AA(n,i),{scroll:o}=t;return o&&(Lo(r.x,o.offset.x),Lo(r.y,o.offset.y)),r}const d_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:d_(),y:d_()}),p_=()=>({min:0,max:0}),Je=()=>({x:p_(),y:p_()}),ag={current:null},wA={current:!1};function qM(){if(wA.current=!0,!!ay)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>ag.current=n.matches;n.addEventListener("change",t),t()}else ag.current=!1}const HM=new WeakMap;function GM(n,t,i){for(const r in t){const o=t[r],u=i[r];if(An(o))n.addValue(r,o);else if(An(u))n.addValue(r,Xo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Xo(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const m_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YM{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Bn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,we.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=zh(i),this.isVariantNode=fA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in b){const D=b[S];g[S]!==void 0&&An(D)&&D.set(g[S])}}mount(t){this.current=t,HM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),wA.current||qM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ag.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=rl.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const i=$o[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<m_.length;r++){const o=m_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=GM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Xo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(yE(r)||xE(r))?r=parseFloat(r):!tM(r)&&Ur.test(i)&&(r=eA(t,i)),this.setBaseTarget(t,An(r)?r.get():r)),An(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Ny(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!An(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new hy),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){wy.render(this.render)}}class CA extends YM{constructor(){super(...arguments),this.KeyframeResolver=F5}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function RA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function KM(n){return window.getComputedStyle(n)}class QM extends CA{constructor(){super(...arguments),this.type="html",this.renderInstance=RA}readValueFromInstance(t,i){if(rl.has(i))return this.projection?.isProjecting?Xm(i):o5(t,i);{const r=KM(t),o=(ME(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return AA(t,i)}build(t,i,r){Vy(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Oy(t,i,r)}}const IA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WM(n,t,i,r){RA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(IA.has(o)?o:Py(o),t.attrs[o])}class XM extends CA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(rl.has(i)){const r=tA(i);return r&&r.default||0}return i=IA.has(i)?i:Py(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return vA(t,i,r)}build(t,i,r){pA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){WM(t,i,r,o)}mount(t){this.isSVGTag=gA(t.tagName),super.mount(t)}}const $M=(n,t)=>My(n)?new XM(t):new QM(t,{allowProjection:n!==F.Fragment});function qo(n,t,i){const r=n.getProps();return Ny(r,t,i!==void 0?i:r.custom,n)}const og=n=>Array.isArray(n);function ZM(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Xo(i))}function JM(n){return og(n)?n[n.length-1]||0:n}function Ly(n,t){const i=qo(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=JM(u[c]);ZM(n,c,d)}}function t3(n){return!!(An(n)&&n.add)}function lg(n,t){const i=n.getValue("willChange");if(t3(i))return i.add(t);if(!i&&qs.WillChange){const r=new qs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function DA(n){return n.props[xA]}const e3=n=>n!==null;function n3(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(e3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const i3={type:"spring",stiffness:500,damping:25,restSpeed:10},s3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),r3={type:"keyframes",duration:.8},a3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o3=(n,{keyframes:t})=>t.length>2?r3:rl.has(n)?n.startsWith("scale")?s3(t[1]):i3:a3;function l3({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:g,elapsed:y,...v}){return!!Object.keys(v).length}const ky=(n,t,i,r={},o,u)=>c=>{const d=Ey(r,n)||{},g=d.delay||r.delay||0;let{elapsed:y=0}=r;y=y-ps(g);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-y,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};l3(d)||Object.assign(v,o3(n,v)),v.duration&&(v.duration=ps(v.duration)),v.repeatDelay&&(v.repeatDelay=ps(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(eg(v),v.delay===0&&(b=!0)),(qs.instantAnimations||qs.skipAnimations)&&(b=!0,eg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!u&&t.get()!==void 0){const S=n3(v.keyframes,d);if(S!==void 0){we.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new Ty(v):new D5(v)};function u3({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function VA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const g=[],y=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const b=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||y&&u3(y,v))continue;const D={delay:i,...Ey(u||{},v)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===N&&!D.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const Q=DA(n);if(Q){const L=window.MotionHandoffAnimation(Q,v,we);L!==null&&(D.startTime=L,B=!0)}}lg(n,v),b.start(ky(v,b,S,n.shouldReduceMotion&&$E.has(v)?{type:!1}:D,n,B));const U=b.animation;U&&g.push(U)}return c&&Promise.all(g).then(()=>{we.update(()=>{c&&Ly(n,c)})}),g}function jA(n,t,i,r=0,o=1){const u=Array.from(n).sort((y,v)=>y.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function ug(n,t,i={}){const r=qo(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(VA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=o;return c3(n,t,g,y,v,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,y]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>y())}else return Promise.all([u(),c(i.delay)])}function c3(n,t,i=0,r=0,o=0,u=1,c){const d=[];for(const g of n.variantChildren)g.notify("AnimationStart",t),d.push(ug(g,t,{...c,delay:i+(typeof r=="function"?0:r)+jA(n.variantChildren,g,r,o,u)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(d)}function MA(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>ug(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=ug(n,t,i);else{const o=typeof t=="function"?qo(n,t,i.custom):t;r=Promise.all(VA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function NA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const f3=Dy.length;function OA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?OA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<f3;i++){const r=Dy[i],o=n.props[r];(Ou(o)||o===!1)&&(t[r]=o)}return t}const h3=[...Iy].reverse(),d3=Iy.length;function p3(n){return t=>Promise.all(t.map(({animation:i,options:r})=>MA(n,i,r)))}function m3(n){let t=p3(n),i=g_(),r=!0;const o=g=>(y,v)=>{const b=qo(n,v,g==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:S,transitionEnd:D,...N}=b;y={...y,...N,...D}}return y};function u(g){t=g(n)}function c(g){const{props:y}=n,v=OA(n.parent)||{},b=[],S=new Set;let D={},N=1/0;for(let U=0;U<d3;U++){const Q=h3[U],L=i[Q],q=y[Q]!==void 0?y[Q]:v[Q],G=Ou(q),tt=Q===g?L.isActive:null;tt===!1&&(N=U);let et=q===v[Q]&&q!==y[Q]&&G;if(et&&r&&n.manuallyAnimateOnMount&&(et=!1),L.protectedKeys={...D},!L.isActive&&tt===null||!q&&!L.prevProp||Bh(q)||typeof q=="boolean")continue;const R=g3(L.prevProp,q);let A=R||Q===g&&L.isActive&&!et&&G||U>N&&G,w=!1;const j=Array.isArray(q)?q:[q];let V=j.reduce(o(Q),{});tt===!1&&(V={});const{prevResolvedValues:k={}}=L,I={...k,...V},At=K=>{A=!0,S.has(K)&&(w=!0,S.delete(K)),L.needsAnimating[K]=!0;const $=n.getValue(K);$&&($.liveStyle=!1)};for(const K in I){const $=V[K],pt=k[K];if(D.hasOwnProperty(K))continue;let vt=!1;og($)&&og(pt)?vt=!NA($,pt):vt=$!==pt,vt?$!=null?At(K):S.add(K):$!==void 0&&S.has(K)?At(K):L.protectedKeys[K]=!0}L.prevProp=q,L.prevResolvedValues=V,L.isActive&&(D={...D,...V}),r&&n.blockInitialAnimation&&(A=!1);const Ft=et&&R;A&&(!Ft||w)&&b.push(...j.map(K=>{const $={type:Q};if(typeof K=="string"&&r&&!Ft&&n.manuallyAnimateOnMount&&n.parent){const{parent:pt}=n,vt=qo(pt,K);if(pt.enteringChildren&&vt){const{delayChildren:O}=vt.transition||{};$.delay=jA(pt.enteringChildren,n,O)}}return{animation:K,options:$}}))}if(S.size){const U={};if(typeof y.initial!="boolean"){const Q=qo(n,Array.isArray(y.initial)?y.initial[0]:y.initial);Q&&Q.transition&&(U.transition=Q.transition)}S.forEach(Q=>{const L=n.getBaseTarget(Q),q=n.getValue(Q);q&&(q.liveStyle=!0),U[Q]=L??null}),b.push({animation:U})}let B=!!b.length;return r&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(B=!1),r=!1,B?t(b):Promise.resolve()}function d(g,y){if(i[g].isActive===y)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(g,y)),i[g].isActive=y;const v=c(g);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=g_()}}}function g3(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!NA(t,n):!1}function _a(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g_(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class y3 extends Yr{constructor(t){super(t),t.animationState||(t.animationState=m3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let v3=0;class x3 extends Yr{constructor(){super(...arguments),this.id=v3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const b3={animation:{Feature:y3},exit:{Feature:x3}};function Pu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Ku(n){return{point:{x:n.pageX,y:n.pageY}}}const _3=n=>t=>Cy(t)&&n(t,Ku(t));function bu(n,t,i,r){return Pu(n,t,_3(i),r)}const PA=1e-4,T3=1-PA,S3=1+PA,LA=.01,E3=0-LA,A3=0+LA;function Rn(n){return n.max-n.min}function w3(n,t,i){return Math.abs(n-t)<=i}function y_(n,t,i,r=.5){n.origin=r,n.originPoint=Ce(t.min,t.max,n.origin),n.scale=Rn(i)/Rn(t),n.translate=Ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=T3&&n.scale<=S3||isNaN(n.scale))&&(n.scale=1),(n.translate>=E3&&n.translate<=A3||isNaN(n.translate))&&(n.translate=0)}function _u(n,t,i,r){y_(n.x,t.x,i.x,r?r.originX:void 0),y_(n.y,t.y,i.y,r?r.originY:void 0)}function v_(n,t,i){n.min=i.min+t.min,n.max=n.min+Rn(t)}function C3(n,t,i){v_(n.x,t.x,i.x),v_(n.y,t.y,i.y)}function x_(n,t,i){n.min=t.min-i.min,n.max=n.min+Rn(t)}function fh(n,t,i){x_(n.x,t.x,i.x),x_(n.y,t.y,i.y)}function vi(n){return[n("x"),n("y")]}const kA=({current:n})=>n?n.ownerDocument.defaultView:null,b_=(n,t)=>Math.abs(n-t);function R3(n,t){const i=b_(n.x,t.x),r=b_(n.y,t.y);return Math.sqrt(i**2+r**2)}class BA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pm(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,N=R3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!N)return;const{point:B}=S,{timestamp:U}=pn;this.history.push({...B,timestamp:U});const{onStart:Q,onMove:L}=this.handlers;D||(Q&&Q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,S)},this.handlePointerMove=(S,D)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=dm(D,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(S,D)=>{this.end();const{onEnd:N,onSessionEnd:B,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=pm(S.type==="pointercancel"?this.lastMoveEventInfo:dm(D,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,Q),B&&B(S,Q)},!Cy(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ku(t),g=dm(d,this.transformPagePoint),{point:y}=g,{timestamp:v}=pn;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,pm(g,this.history)),this.removeListeners=Hu(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function dm(n,t){return t?{point:t(n.point)}:n}function __(n,t){return{x:n.x-t.x,y:n.y-t.y}}function pm({point:n},t){return{point:n,delta:__(n,zA(t)),offset:__(n,I3(t)),velocity:D3(t,.1)}}function I3(n){return n[0]}function zA(n){return n[n.length-1]}function D3(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=zA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>ps(t)));)i--;if(!r)return{x:0,y:0};const u=bi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function V3(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Ce(i,n,r.max):Math.min(n,i)),n}function T_(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function j3(n,{top:t,left:i,bottom:r,right:o}){return{x:T_(n.x,i,o),y:T_(n.y,t,r)}}function S_(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function M3(n,t){return{x:S_(n.x,t.x),y:S_(n.y,t.y)}}function N3(n,t){let i=.5;const r=Rn(n),o=Rn(t);return o>r?i=ju(t.min,t.max-r,n.min):r>o&&(i=ju(n.min,n.max-o,t.min)),Fs(0,1,i)}function O3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const cg=.35;function P3(n=cg){return n===!1?n=0:n===!0&&(n=cg),{x:E_(n,"left","right"),y:E_(n,"top","bottom")}}function E_(n,t,i){return{min:A_(n,t),max:A_(n,i)}}function A_(n,t){return typeof n=="number"?n:n[t]||0}const L3=new WeakMap;class k3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ku(b).point)},c=(b,S)=>{const{drag:D,dragPropagation:N,onDragStart:B}=this.getProps();if(D&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Y5(D),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(Q=>{let L=this.getAxisMotionValue(Q).get()||0;if(ms.test(L)){const{projection:q}=this.visualElement;if(q&&q.layout){const G=q.layout.layoutBox[Q];G&&(L=Rn(G)*(parseFloat(L)/100))}}this.originPoint[Q]=L}),B&&we.postRender(()=>B(b,S)),lg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},d=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S;const{dragPropagation:D,dragDirectionLock:N,onDirectionLock:B,onDrag:U}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:Q}=S;if(N&&this.currentDirection===null){this.currentDirection=B3(Q),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",S.point,Q),this.updateAxis("y",S.point,Q),this.visualElement.render(),U&&U(b,S)},g=(b,S)=>{this.latestPointerEvent=b,this.latestPanInfo=S,this.stop(b,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>vi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new BA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:kA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&we.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!jf(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=V3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=j3(r.layoutBox,t):this.constraints=!1,this.elastic=P3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=O3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Po(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=FM(r,o.root,this.visualElement.getTransformPagePoint());let c=M3(o.layout.layoutBox,u);if(i){const d=i(BM(c));this.hasMutatedConstraints=!!d,d&&(c=TA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},y=vi(v=>{if(!jf(v,i,this.currentDirection))return;let b=g&&g[v]||{};c&&(b={min:0,max:0});const S=o?200:1e6,D=o?40:1e7,N={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,N)});return Promise.all(y).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return lg(this.visualElement,t),r.start(ky(t,r,0,i,this.visualElement,!1))}stopAnimation(){vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vi(i=>{const{drag:r}=this.getProps();if(!jf(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Po(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};vi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const g=d.get();o[c]=N3({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(c=>{if(!jf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:g,max:y}=this.constraints[c];d.set(Ce(g,y,o[c]))})}addListeners(){if(!this.visualElement.current)return;L3.set(this.visualElement,this);const t=this.visualElement.current,i=bu(t,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Po(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),we.read(r);const c=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(vi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=g[v].translate,b.set(b.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=cg,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function jf(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function B3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class z3 extends Yr{constructor(t){super(t),this.removeGroupControls=Si,this.removeListeners=Si,this.controls=new k3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Si}unmount(){this.removeGroupControls(),this.removeListeners()}}const w_=n=>(t,i)=>{n&&we.postRender(()=>n(t,i))};class U3 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=Si}onPointerDown(t){this.session=new BA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:w_(t),onStart:w_(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&we.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let mm=!1;class F3 extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),mm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,mm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||we.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;mm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UA(n){const[t,i]=lA(),r=F.useContext(ry);return m.jsx(F3,{...n,layoutGroup:r,switchLayoutGroup:F.useContext(bA),isPresent:t,safeToRemove:i})}function q3(n,t,i){const r=An(n)?n:Xo(n);return r.start(ky("",r,t,i)),r.animation}const H3=(n,t)=>n.depth-t.depth;class G3{constructor(){this.children=[],this.isDirty=!1}add(t){ly(this.children,t),this.isDirty=!0}remove(t){uy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(H3),this.isDirty=!1,this.children.forEach(t)}}function Y3(n,t){const i=Bn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(zr(r),n(u-t))};return we.setup(r,!0),()=>zr(r)}const FA=["TopLeft","TopRight","BottomLeft","BottomRight"],K3=FA.length,C_=n=>typeof n=="string"?parseFloat(n):n,R_=n=>typeof n=="number"||Mt.test(n);function Q3(n,t,i,r,o,u){o?(n.opacity=Ce(0,i.opacity??1,W3(r)),n.opacityExit=Ce(t.opacity??1,0,X3(r))):u&&(n.opacity=Ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<K3;c++){const d=`border${FA[c]}Radius`;let g=I_(t,d),y=I_(i,d);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||R_(g)===R_(y)?(n[d]=Math.max(Ce(C_(g),C_(y),r),0),(ms.test(y)||ms.test(g))&&(n[d]+="%")):n[d]=y}(t.rotate||i.rotate)&&(n.rotate=Ce(t.rotate||0,i.rotate||0,r))}function I_(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const W3=qA(0,.5,CE),X3=qA(.5,.95,Si);function qA(n,t,i){return r=>r<n?0:r>t?1:i(ju(n,t,r))}function D_(n,t){n.min=t.min,n.max=t.max}function ki(n,t){D_(n.x,t.x),D_(n.y,t.y)}function V_(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function j_(n,t,i,r,o){return n-=t,n=ch(n,1/i,r),o!==void 0&&(n=ch(n,1/o,r)),n}function $3(n,t=0,i=1,r=.5,o,u=n,c=n){if(ms.test(t)&&(t=parseFloat(t),t=Ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ce(u.min,u.max,r);n===u&&(d-=t),n.min=j_(n.min,t,i,d,o),n.max=j_(n.max,t,i,d,o)}function M_(n,t,[i,r,o],u,c){$3(n,t[i],t[r],t[o],t.scale,u,c)}const Z3=["x","scaleX","originX"],J3=["y","scaleY","originY"];function N_(n,t,i,r){M_(n.x,t,Z3,i?i.x:void 0,r?r.x:void 0),M_(n.y,t,J3,i?i.y:void 0,r?r.y:void 0)}function O_(n){return n.translate===0&&n.scale===1}function HA(n){return O_(n.x)&&O_(n.y)}function P_(n,t){return n.min===t.min&&n.max===t.max}function tN(n,t){return P_(n.x,t.x)&&P_(n.y,t.y)}function L_(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function GA(n,t){return L_(n.x,t.x)&&L_(n.y,t.y)}function k_(n){return Rn(n.x)/Rn(n.y)}function B_(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class eN{constructor(){this.members=[]}add(t){ly(this.members,t),t.scheduleRender()}remove(t){if(uy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nN(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:y,rotate:v,rotateX:b,rotateY:S,skewX:D,skewY:N}=i;y&&(r=`perspective(${y}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),S&&(r+=`rotateY(${S}deg) `),D&&(r+=`skewX(${D}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=n.x.scale*t.x,g=n.y.scale*t.y;return(d!==1||g!==1)&&(r+=`scale(${d}, ${g})`),r||"none"}const gm=["","X","Y","Z"],iN=1e3;let sN=0;function ym(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function YA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=DA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",we,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&YA(r)}function KA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=sN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oN),this.nodes.forEach(fN),this.nodes.forEach(hN),this.nodes.forEach(lN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new G3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const g=this.eventHandlers.get(c);g&&g.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oA(c)&&!Z5(c),this.instance=c;const{layoutId:d,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||d)&&(this.isLayoutDirty=!0),n){let v,b=0;const S=()=>this.root.updateBlockedByResize=!1;we.read(()=>{b=window.innerWidth}),n(c,()=>{const D=window.innerWidth;D!==b&&(b=D,this.root.updateBlockedByResize=!0,v&&v(),v=Y3(S,250),qf.hasAnimatedSinceResize&&(qf.hasAnimatedSinceResize=!1,this.nodes.forEach(F_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||y.getDefaultTransition()||yN,{onLayoutAnimationStart:B,onLayoutAnimationComplete:U}=y.getProps(),Q=!this.targetLayout||!GA(this.targetLayout,D),L=!b&&S;if(this.options.layoutRoot||this.resumeFrom||L||b&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Ey(N,"layout"),onPlay:B,onComplete:U};(y.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,L)}else b||F_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cN),this.nodes.forEach(rN),this.nodes.forEach(aN)):this.nodes.forEach(U_),this.clearAllSnapshots();const d=Bn.now();pn.delta=Fs(0,1e3/60,d-pn.timestamp),pn.timestamp=d,pn.isProcessing=!0,sm.update.process(pn),sm.preRender.process(pn),sm.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uN),this.sharedNodes.forEach(pN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!HA(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;c&&this.instance&&(d||Aa(this.latestValues)||v)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return c&&(g=this.removeTransform(g)),vN(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Je();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xN))){const{scroll:y}=this.root;y&&(Lo(d.x,y.offset.x),Lo(d.y,y.offset.y))}return d}removeElementScroll(c){const d=Je();if(ki(d,c),this.scroll?.wasRoot)return d;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ki(d,c),Lo(d.x,v.offset.x),Lo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const g=Je();ki(g,c);for(let y=0;y<this.path.length;y++){const v=this.path[y];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ko(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Aa(v.latestValues)&&ko(g,v.latestValues)}return Aa(this.latestValues)&&ko(g,this.latestValues),g}removeTransform(c){const d=Je();ki(d,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!Aa(y.latestValues))continue;sg(y.latestValues)&&y.updateSnapshot();const v=Je(),b=y.measurePageBox();ki(v,b),N_(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return Aa(this.latestValues)&&N_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==d;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=pn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),EA(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||sg(this.parent.latestValues)||SA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),fh(this.relativeTargetOrigin,d,g),ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(g=!1),g)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;ki(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;UM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Je());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(V_(this.prevProjectionDelta.x,this.projectionDelta.x),V_(this.prevProjectionDelta.y,this.projectionDelta.y)),_u(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==S||!B_(this.projectionDelta.x,this.prevProjectionDelta.x)||!B_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(c,d=!1){const g=this.snapshot,y=g?g.latestValues:{},v={...this.latestValues},b=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Je(),D=g?g.source:void 0,N=this.layout?this.layout.source:void 0,B=D!==N,U=this.getStack(),Q=!U||U.members.length<=1,L=!!(B&&!Q&&this.options.crossfade===!0&&!this.path.some(gN));this.animationProgress=0;let q;this.mixTargetDelta=G=>{const tt=G/1e3;q_(b.x,c.x,tt),q_(b.y,c.y,tt),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mN(this.relativeTarget,this.relativeTargetOrigin,S,tt),q&&tN(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Je()),ki(q,this.relativeTarget)),B&&(this.animationValues=v,Q3(v,y,this.latestValues,tt,L,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xo(0)),this.currentAnimation=q3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:g,layout:y,latestValues:v}=c;if(!(!d||!g||!y)){if(this!==c&&this.layout&&y&&QA(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||Je();const b=Rn(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+b;const S=Rn(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}ki(d,g),ko(d,v),_u(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new eN),this.sharedNodes.get(c).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const y={};g.z&&ym("z",c,y,this.animationValues);for(let v=0;v<gm.length;v++)ym(`rotate${gm[v]}`,c,y,this.animationValues),ym(`skew${gm[v]}`,c,y,this.animationValues);c.render();for(const v in y)c.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ff(d?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ff(d?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=nN(this.projectionDeltaWithTransform,this.treeScale,v);g&&(b=g(v,b)),c.transform=b;const{x:S,y:D}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${D.origin*100}% 0`,y.animationValues?c.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in ig){if(v[N]===void 0)continue;const{correct:B,applyTo:U,isCSSVariable:Q}=ig[N],L=b==="none"?v[N]:B(v[N],y);if(U){const q=U.length;for(let G=0;G<q;G++)c[U[G]]=L}else Q?this.options.visualElement.renderState.vars[N]=L:c[N]=L}this.options.layoutId&&(c.pointerEvents=y===this?Ff(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(z_),this.root.sharedNodes.clear()}}}function rN(n){n.updateLayout()}function aN(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?vi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(b);b.min=i[v].min,b.max=b.min+S}):QA(o,t.layoutBox,i)&&vi(v=>{const b=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(i[v]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=Bo();_u(c,i,t.layoutBox);const d=Bo();u?_u(d,n.applyTransform(r,!0),t.measuredBox):_u(d,i,t.layoutBox);const g=!HA(c);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const D=Je();fh(D,t.layoutBox,b.layoutBox);const N=Je();fh(N,i,S.layoutBox),GA(D,N)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=D,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function oN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function uN(n){n.clearSnapshot()}function z_(n){n.clearMeasurements()}function U_(n){n.isLayoutDirty=!1}function cN(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function F_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function fN(n){n.resolveTargetDelta()}function hN(n){n.calcProjection()}function dN(n){n.resetSkewAndRotation()}function pN(n){n.removeLeadSnapshot()}function q_(n,t,i){n.translate=Ce(t.translate,0,i),n.scale=Ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function H_(n,t,i,r){n.min=Ce(t.min,i.min,r),n.max=Ce(t.max,i.max,r)}function mN(n,t,i,r){H_(n.x,t.x,i.x,r),H_(n.y,t.y,i.y,r)}function gN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yN={duration:.45,ease:[.4,0,.1,1]},G_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Y_=G_("applewebkit/")&&!G_("chrome/")?Math.round:Si;function K_(n){n.min=Y_(n.min),n.max=Y_(n.max)}function vN(n){K_(n.x),K_(n.y)}function QA(n,t,i){return n==="position"||n==="preserve-aspect"&&!w3(k_(t),k_(i),.2)}function xN(n){return n!==n.root&&n.scroll?.wasRoot}const bN=KA({attachResizeListener:(n,t)=>Pu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},WA=KA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vm.current){const n=new bN({});n.mount(window),n.setOptions({layoutScroll:!0}),vm.current=n}return vm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_N={pan:{Feature:U3},drag:{Feature:z3,ProjectionNode:WA,MeasureLayout:UA}};function Q_(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&we.postRender(()=>u(t,Ku(t)))}class TN extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=K5(t,(i,r)=>(Q_(this.node,r,"Start"),o=>Q_(this.node,o,"End"))))}unmount(){}}class SN extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W_(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&we.postRender(()=>u(t,Ku(t)))}class EN extends Yr{mount(){const{current:t}=this.node;t&&(this.unmount=$5(t,(i,r)=>(W_(this.node,r,"Start"),(o,{success:u})=>W_(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fg=new WeakMap,xm=new WeakMap,AN=n=>{const t=fg.get(n.target);t&&t(n)},wN=n=>{n.forEach(AN)};function CN({root:n,...t}){const i=n||document;xm.has(i)||xm.set(i,{});const r=xm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(wN,{root:n,...t})),r[o]}function RN(n,t,i){const r=CN(t);return fg.set(n,i),r.observe(n),()=>{fg.delete(n),r.unobserve(n)}}const IN={some:0,all:1};class DN extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:IN[o]},d=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,u&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),S=y?v:b;S&&S(g)};return RN(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(VN(t,i))&&this.startObserver()}unmount(){}}function VN({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const jN={inView:{Feature:DN},tap:{Feature:EN},focus:{Feature:SN},hover:{Feature:TN}},MN={layout:{ProjectionNode:WA,MeasureLayout:UA}},NN={...b3,...jN,..._N,...MN},Jn=kM(NN,$M);function ON(n){n.values.forEach(t=>t.stop())}function hg(n,t){[...t].reverse().forEach(r=>{const o=n.getVariant(r);o&&Ly(n,o),n.variantChildren&&n.variantChildren.forEach(u=>{hg(u,t)})})}function PN(n,t){if(Array.isArray(t))return hg(n,t);if(typeof t=="string")return hg(n,[t]);Ly(n,t)}function LN(){const n=new Set,t={subscribe(i){return n.add(i),()=>{n.delete(i)}},start(i,r){const o=[];return n.forEach(u=>{o.push(MA(u,i,{transitionOverride:r}))}),Promise.all(o)},set(i){return n.forEach(r=>{PN(r,i)})},stop(){n.forEach(i=>{ON(i)})},mount(){return()=>{t.stop()}}};return t}function kN(){const n=Ph(LN);return oy(n.mount,[]),n}const BN=kN,Io=n=>["10","J","Q","K"].includes(n)?0:n==="A"?1:parseInt(n),X_=n=>{var t=Math.sin(n++)*1e4;return t-Math.floor(t)},wr={getCurrentRoundInfo:()=>{const i=new Date("2025-01-01T00:00:00Z").getTime(),o=Date.now()-i,u=1e4+Math.floor(o/(75*1e3)),c=75*1e3-o%(75*1e3),d=Math.floor(c/1e3);return{round:u,timeLeft:d,isDrawingPhase:d<=15}},generateBaccaratResult:(n=null)=>{const t=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],i=["S","H","D","C"],r=()=>{const g={r:t[Math.floor(Math.random()*13)],s:i[Math.floor(Math.random()*4)]},y={r:t[Math.floor(Math.random()*13)],s:i[Math.floor(Math.random()*4)]},v=(Io(g.r)+Io(y.r))%10;return{hand:[{rank:g.r,suit:g.s},{rank:y.r,suit:y.s}],score:v}};let o,u,c,d=0;do if(o=r(),u=r(),o.score>u.score?c="PLAYER":u.score>o.score?c="BANKER":c="TIE",d++,!n)break;while(c!==n&&d<500);return{pHand:o.hand,bHand:u.hand,pScore:o.score,bScore:u.score,result:c}},generateDeterministicResult:n=>{const t=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],i=["S","H","D","C"],r=U=>{const Q=X_(n*100+U),L=X_(n*200+U);return{r:t[Math.floor(Q*13)],s:i[Math.floor(L*4)]}},o=r(1),u=r(2),c=r(3),d=r(4),g=(Io(o.r)+Io(u.r))%10,y=(Io(c.r)+Io(d.r))%10;let v="TIE";g>y?v="PLAYER":y>g&&(v="BANKER");const N=new Date("2025-01-01T00:00:00Z").getTime()+(n-1e4)*75*1e3,B=new Date(N).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return{round:n,result:v,pScore:g,bScore:y,date:B,pHand:[],bHand:[]}},getPastHistory:n=>{const t=[];for(let i=n-1;i>=n-50;i--)t.push(wr.generateDeterministicResult(i));return t},generateBigRoad:n=>{if(!n||n.length===0)return[];const t=[...n].sort((u,c)=>u.round-c.round),i=[];let r=[],o=null;return t.forEach(u=>{const c=u.result;!c||c==="TIE"||(o===null?(r.push(c),o=c):c===o?r.push(c):(i.push(r),r=[c],o=c))}),r.length>0&&i.push(r),i.slice(-25)},generateBeadRoad:n=>n?[...n].sort((t,i)=>t.round-i.round).slice(-72):[],calculateStats:n=>{if(!n)return{p:0,b:0,t:0,total:0,pRate:0,bRate:0,tRate:0};const t=n.filter(c=>c.result),i=t.filter(c=>c.result==="PLAYER").length,r=t.filter(c=>c.result==="BANKER").length,o=t.filter(c=>c.result==="TIE").length,u=t.length||1;return{p:i,b:r,t:o,total:u,pRate:Math.round(i/u*100),bRate:Math.round(r/u*100),tRate:Math.round(o/u*100)}},getFixedResult:async()=>null};function zN(n,t,i,r){const o=F.useRef(!1),u=F.useRef(t),c=F.useRef(null),d=F.useRef(0);F.useEffect(()=>{u.current=t},[t]);const[g,y]=F.useState([]),[v,b]=F.useState(()=>JSON.parse(localStorage.getItem(`event_my_history_${n?.id}`)||"[]")),[S,D]=F.useState({round:0,timeLeft:60,isDrawing:!1,gameResult:null,isSqueezing:!1,squeezeTarget:null}),[N,B]=F.useState(null),[U,Q]=F.useState(null),[L,q]=F.useState("   !"),G=F.useCallback(w=>{i&&(i(w),r&&r.start({scale:[1,1.3,1],color:["#fff","#ffd700","#fff"],transition:{duration:.4}}))},[i,r]),tt=w=>{c.current=w,B(w),w?localStorage.setItem(`pending_bet_${n?.id}`,JSON.stringify(w)):localStorage.removeItem(`pending_bet_${n?.id}`)};F.useEffect(()=>{(()=>{const{round:j}=wr.getCurrentRoundInfo(),V=JSON.parse(localStorage.getItem("event_total_history")||"[]");if(V.length===0||V[0]&&V[0].round<j-2){console.log("     ...");const k=wr.getPastHistory(j);y(k),localStorage.setItem("event_total_history",JSON.stringify(k))}else y(V)})()},[]);const et=F.useCallback(async w=>{if(o.current)return;o.current=!0,D(At=>({...At,isDrawing:!0,timeLeft:0,isSqueezing:!1}));let j=null;try{const At=await Er(Le(Jt,"event_manipulation",String(w)));At.exists()&&(j=At.data().winner)}catch{}const V=wr.generateBaccaratResult(j),k=c.current;let I=null;k&&(k.selected==="PLAYER"||k.selected==="BANKER")&&(I=k.selected),D(At=>({...At,gameResult:V})),I?setTimeout(()=>{D(At=>({...At,isSqueezing:!0,squeezeTarget:I}))},1500):setTimeout(()=>R(w,V,k),3e3)},[n?.id]),R=(w,j,V)=>{const{result:k,pScore:I,bScore:At}=j,Ft=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(y(M=>{const K={round:w,result:k,pScore:I,bScore:At,date:Ft};if(M.length>0&&M[0].round===w)return M;const $=[K,...M].slice(0,100);return localStorage.setItem("event_total_history",JSON.stringify($)),$}),V&&V.round===w){const M=V.selected,K=V.amount;let $=0,pt=!1,vt=!1;M===k?(pt=!0,k==="PLAYER"&&($=Math.floor(K*2)),k==="BANKER"&&($=Math.floor(K*1.95)),k==="TIE"&&($=Math.floor(K*9))):k==="TIE"&&M!=="TIE"&&($=K,vt=!0),$>0&&G(u.current+$),Q({isWin:pt,isDraw:vt,winAmount:$,betAmount:K,result:k,myPick:M}),b(O=>{const J=[{round:w,pick:M,result:k,earn:$,cost:K,date:Ft},...O].slice(0,50);return localStorage.setItem(`event_my_history_${n?.id}`,JSON.stringify(J)),J})}D(M=>({...M,isSqueezing:!1})),setTimeout(()=>{tt(null),D(M=>({...M,gameResult:null,isDrawing:!1})),o.current=!1},5e3)},A=()=>{R(S.round,S.gameResult,c.current)};return F.useEffect(()=>{const w=()=>{const{round:V,timeLeft:k,isDrawingPhase:I}=wr.getCurrentRoundInfo();d.current!==0&&V>d.current&&!o.current&&et(d.current),d.current=V,D(At=>o.current?At:{...At,round:V,timeLeft:k,isDrawing:I})},j=setInterval(w,1e3);return w(),()=>clearInterval(j)},[et]),F.useEffect(()=>{const w=setInterval(()=>{const j=["P !","B  !","  !","  !"],V=j[Math.floor(Math.random()*j.length)];q(`  : ${V}`)},8e3);return()=>clearInterval(w)},[]),{gameState:S,onSqueezeComplete:A,totalHistory:g,myHistory:v,myPendingBet:N,setMyPendingBet:tt,showResult:U,setShowResult:Q,liveNoti:L,updatePointWithAnim:G}}const Ta={eventBanner:{background:"linear-gradient(135deg, #ffdeeb 0%, #fbc2eb 100%)",borderRadius:"28px",padding:"25px",border:"1px solid #ffb6c1",textAlign:"center",position:"relative",overflow:"hidden",height:"190px",display:"flex",alignItems:"center",justifyContent:"center"},bannerContent:{position:"relative",zIndex:10,width:"100%"},bannerTop:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},liveBadge:{color:"#fff",fontSize:"10px",fontWeight:"900",padding:"2px 8px",borderRadius:"4px"},roundInfo:{fontSize:"12px",color:"#555",fontWeight:"700"},timeLeftNum:{fontSize:"52px",fontWeight:"900",margin:"5px 0",color:"#333",letterSpacing:"-1px"}},UN=({type:n,amount:t})=>{const i=n==="PLAYER"?"#4d94ff":n==="BANKER"?"#ff4d4d":"#00e676";return m.jsx(Jn.div,{initial:{scale:2,opacity:0,y:-100,rotate:-180},animate:{scale:1,opacity:1,y:0,rotate:0},transition:{type:"spring",stiffness:200,damping:10},style:{width:"45px",height:"45px",borderRadius:"50%",border:"4px dashed white",backgroundColor:i,boxShadow:"0 5px 15px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:20,bottom:"15px",right:"15px"},children:m.jsx("div",{style:{width:"35px",height:"35px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"900",color:"#fff"},children:"DIA"})})},$_=({rank:n,suit:t,index:i,isPlayer:r,hidden:o})=>{const u=t==="H"||t==="D",c={S:"",H:"",D:"",C:""}[t],d=r?300:-300;return m.jsxs(Jn.div,{initial:{x:d,y:-400,scale:.5,rotate:180,opacity:0},animate:{x:0,y:0,scale:1,opacity:1,rotateY:o?180:0,rotate:0},transition:{delay:i*.4,duration:.5,type:"spring",stiffness:250,damping:20},style:{width:"55px",height:"80px",backgroundColor:o?"#2c3e50":"white",backgroundImage:o?"repeating-linear-gradient(45deg, #1a252f 0, #1a252f 10px, #2c3e50 10px, #2c3e50 20px)":"none",borderRadius:"6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 4px 10px rgba(0,0,0,0.4)",border:`1px solid ${o?"#fff":"#ddd"}`,color:u?"#d32f2f":"#1a1a1a",fontWeight:"bold",fontSize:"24px",position:"relative",transformStyle:"preserve-3d"},children:[!o&&m.jsxs(m.Fragment,{children:[m.jsx("span",{style:{fontSize:"14px",position:"absolute",top:"4px",left:"4px"},children:n}),m.jsx("span",{style:{fontSize:"32px"},children:c}),m.jsx("span",{style:{fontSize:"14px",position:"absolute",bottom:"4px",right:"4px",transform:"rotate(180deg)"},children:n})]}),o&&m.jsx("div",{style:{width:"40px",height:"65px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"4px"}})]})},FN=({cards:n,targetName:t,onComplete:i})=>{const[r,o]=F.useState([!1,!1]),u=(c,d)=>{if(d.offset.y>100){const g=[...r];g[c]=!0,o(g),g[0]&&g[1]&&setTimeout(i,800)}};return m.jsxs(Jn.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(15px)"},exit:{opacity:0},style:{position:"absolute",inset:0,zIndex:100,background:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[m.jsxs("h2",{style:{color:"#fff",fontSize:"28px",marginBottom:"40px",fontWeight:"900",letterSpacing:"4px"},children:[m.jsx("span",{style:{color:t==="PLAYER"?"#4d94ff":"#ff4d4d"},children:t})," SQUEEZE"]}),m.jsx("div",{style:{display:"flex",gap:"40px"},children:n.map((c,d)=>m.jsxs("div",{style:{position:"relative",width:"160px",height:"240px"},children:[m.jsxs("div",{style:{width:"100%",height:"100%",background:"#fff",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"80px",color:c.suit==="H"||c.suit==="D"?"#d32f2f":"#000",boxShadow:"0 0 40px rgba(255,255,255,0.2)"},children:[m.jsx("div",{children:c.suit==="S"?"":c.suit==="H"?"":c.suit==="D"?"":""}),m.jsx("div",{style:{fontSize:"50px",fontWeight:"900",marginTop:"-10px"},children:c.rank})]}),m.jsx(Jn.div,{drag:"y",dragConstraints:{top:0,bottom:250},dragElastic:.1,dragSnapToOrigin:!1,onDragEnd:(g,y)=>u(d,y),animate:r[d]?{y:400,opacity:0}:{y:0,opacity:1},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"15px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",border:"4px solid #fff",cursor:"grab",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:m.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",fontWeight:"bold",pointerEvents:"none"},children:"DRAG"})})]},d))}),m.jsx("div",{style:{marginTop:"40px",color:"#888",fontSize:"14px"},children:"  "})]})},qN=({round:n,timeLeft:t,isDrawing:i,gameResult:r,isSqueezing:o})=>m.jsxs(Jn.div,{style:{...Ta.eventBanner,background:"radial-gradient(circle, #0e4d2a 0%, #062b16 100%)",border:"6px solid #4e342e",boxShadow:"inset 0 0 60px rgba(0,0,0,0.8)",overflow:"hidden"},children:[m.jsx("div",{style:{position:"absolute",top:"-30px",right:"-40px",width:"140px",height:"100px",background:"#222",borderRadius:"12px",transform:"rotate(-20deg)",border:"4px solid #444",boxShadow:"10px 10px 20px rgba(0,0,0,0.6)",zIndex:5}}),m.jsxs("div",{style:{...Ta.bannerContent,zIndex:10},children:[m.jsxs("div",{style:Ta.bannerTop,children:[m.jsx("div",{style:{...Ta.liveBadge,background:i?"#ffd700":"#ff3b30",color:i?"#000":"#fff"},children:i?"DEALING":"OPEN"}),m.jsxs("span",{style:{...Ta.roundInfo,color:"#8fbc8f"},children:["Rd. ",n]})]}),m.jsx("div",{style:{...Ta.timerDisplay,height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:i&&r?m.jsxs("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 5px",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[m.jsx("span",{style:{color:"#4d94ff",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"PLAYER"}),m.jsx("div",{style:{display:"flex",gap:"8px"},children:r.pHand.map((u,c)=>m.jsx($_,{...u,index:c,isPlayer:!0,hidden:o&&c>=0},`p-${c}`))}),!o&&m.jsx(Jn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#4d94ff",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.pScore})]}),m.jsx("div",{style:{color:"#ffd700",fontSize:"20px",fontWeight:"900",fontStyle:"italic",opacity:.7},children:"VS"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[m.jsx("span",{style:{color:"#ff4d4d",fontWeight:"900",fontSize:"14px",textShadow:"0 2px 4px #000"},children:"BANKER"}),m.jsx("div",{style:{display:"flex",gap:"8px"},children:r.bHand.map((u,c)=>m.jsx($_,{...u,index:c+.2,isPlayer:!1,hidden:o&&c>=0},`b-${c}`))}),!o&&m.jsx(Jn.div,{initial:{scale:0},animate:{scale:1},style:{color:"#fff",background:"#ff4d4d",padding:"2px 10px",borderRadius:"10px",fontWeight:"bold",fontSize:"18px",marginTop:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:r.bScore})]})]}):m.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",border:"6px dashed #ffd700",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",boxShadow:"0 0 20px #ffd700"},children:m.jsx("h2",{style:{...Ta.timeLeftNum,fontSize:"42px",color:"#ffd700",margin:0,fontFamily:"monospace"},children:t})})})]})]}),HN=({beadRoad:n,bigRoad:t,stats:i})=>m.jsxs("div",{style:{background:"#222",borderRadius:"15px",padding:"15px",marginTop:"15px",border:"1px solid #444"},children:[m.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"11px",fontWeight:"bold",fontFamily:"monospace"},children:[m.jsxs("div",{style:{color:"#4d94ff"},children:["P: ",i.p," (",i.pRate,"%)"]}),m.jsxs("div",{style:{color:"#ff4d4d"},children:["B: ",i.b," (",i.bRate,"%)"]}),m.jsxs("div",{style:{color:"#00e676"},children:["T: ",i.t," (",i.tRate,"%)"]}),m.jsxs("div",{style:{color:"#888",marginLeft:"auto"},children:["Total: ",i.total]})]}),m.jsxs("div",{style:{display:"flex",height:"160px",border:"1px solid #444",background:"#fff"},children:[m.jsx("div",{style:{flex:1,overflowX:"auto",display:"flex",background:"#fff"},children:t.map((r,o)=>m.jsx("div",{style:{display:"flex",flexDirection:"column",width:"20px",borderRight:"1px solid #eee"},children:r.map((u,c)=>m.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",border:u==="PLAYER"?"3px solid #4d94ff":"3px solid #ff4d4d"}})},c))},o))}),m.jsx("div",{style:{width:"120px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(6, 1fr)",gap:"1px",background:"#ccc",borderLeft:"2px solid #000"},children:Array.from({length:36}).map((r,o)=>{const u=n[n.length-36+o];return m.jsx("div",{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u&&m.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:u.result==="PLAYER"?"#4d94ff":u.result==="BANKER"?"#ff4d4d":"#00e676",fontSize:"9px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:u.result[0]})},o)})})]})]}),GN=[{name:"PLAYER",label:"x2.0",color:"#4d94ff",desc:" ",descEn:"Player Wins"},{name:"TIE",label:"x9.0",color:"#00e676",desc:"",descEn:"Tie (Same Score)"},{name:"BANKER",label:"x1.95",color:"#ff4d4d",desc:" ",descEn:"Banker Wins"}];function XA({user:n,userPoint:t=0,confirmedImage:i,confirmedAvatarIdx:r,onBack:o,onUpdatePoint:u,t:c}){const d=BN(),[g,y]=F.useState(t),v=F.useRef(null),b=c&&c.home==="",{gameState:S,onSqueezeComplete:D,totalHistory:N,myHistory:B,myPendingBet:U,setMyPendingBet:Q,showResult:L,setShowResult:q,liveNoti:G,updatePointWithAnim:tt}=zN(n,t,u,d),et=F.useMemo(()=>({bigRoad:wr.generateBigRoad(N),beadRoad:wr.generateBeadRoad(N),stats:wr.calculateStats(N)}),[N]),[R,A]=F.useState([]),[w,j]=F.useState(""),[V,k]=F.useState("mine");F.useEffect(()=>{y(t)},[t]),F.useEffect(()=>{const M=K=>{n&&K.detail&&K.detail.userId===n.id&&(y(K.detail.point),tt(K.detail.point))};return window.addEventListener("user_point_update",M),()=>window.removeEventListener("user_point_update",M)},[n,tt]);const I=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],At=F.useMemo(()=>{if(i)return i;const M=r||0;return`https://api.dicebear.com/7.x/${I[M]}/svg?seed=${n?.id}_${M}&backgroundColor=2a2a2e`},[i,r,n?.id]),Ft=async()=>{if(R.length===0)return alert(b?"  .":"Please select a zone.");if(R.length>1)return alert(b?"   .":"Select only one zone.");const M=parseInt(w),K=M;if(!M||M<=0)return alert(b?" .":"Please enter amount.");if(K>g)return alert(b?"  .":"Check your diamond balance.");const $=g-K;y($),tt($);const pt={round:S.round,selected:R[0],amount:M,totalCost:K};Q(pt);try{await Vu(Zn(Jt,"event_bets"),{round:S.round,userId:n.id,betAmount:K,pick:R[0],timestamp:new Date().toISOString()})}catch(vt){console.error("  :",vt)}A([]),j("")};return m.jsxs("div",{style:Dt.screenContainer,children:[m.jsxs("div",{style:Dt.fixedHeader,children:[m.jsxs("div",{style:Dt.navLeft,onClick:o,children:[m.jsx("span",{style:Dt.backBtn,children:""}),m.jsx("span",{style:Dt.navTitle,children:"ROYAL BACCARAT"})]}),m.jsxs("div",{style:Dt.navRight,children:[m.jsxs(Jn.div,{animate:d,style:Dt.pointBadge,children:[m.jsx("span",{style:Dt.coinIcon,children:""}),m.jsx("span",{style:Dt.headerPoint,children:g.toLocaleString()})]}),m.jsx("div",{style:Dt.profileCircle,children:m.jsx("img",{src:At,alt:"profile",style:{...Dt.profileImg,objectFit:"cover"}})})]})]}),m.jsxs("div",{style:Dt.scrollBody,ref:v,children:[m.jsx("div",{style:Dt.liveTicker,children:m.jsxs(Jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:Dt.tickerText,children:[" ",G]},G)}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx(qN,{round:S.round,timeLeft:S.timeLeft,isDrawing:S.isDrawing,gameResult:S.gameResult,isSqueezing:S.isSqueezing}),m.jsx(cm,{children:S.isSqueezing&&S.gameResult&&m.jsx(FN,{targetName:S.squeezeTarget,cards:S.squeezeTarget==="PLAYER"?S.gameResult.pHand:S.gameResult.bHand,onComplete:D})})]}),m.jsx(HN,{...et}),m.jsxs("div",{style:Dt.sectionLabel,children:[m.jsx("span",{style:Dt.labelBar})," ",b?"  ":"Place Your Bet"]}),m.jsx("div",{style:{...Dt.grid,gridTemplateColumns:"1fr 0.6fr 1fr"},children:GN.map(M=>{const K=R.includes(M.name),$=U&&U.selected===M.name;return m.jsxs(Jn.div,{whileTap:U?{}:{scale:.95},onClick:()=>{U||A([M.name])},style:{...Dt.itemCard,opacity:U&&!$?.4:1,background:K?`linear-gradient(145deg, ${M.color}44, #111)`:"#161616",border:K?`2px solid ${M.color}`:"2px solid #333",position:"relative"},children:[m.jsx("div",{style:{...Dt.multiplier,color:M.color},children:M.label}),m.jsx("div",{style:{fontSize:"32px",fontWeight:"900",color:M.color,marginBottom:"5px"},children:M.name==="PLAYER"?"P":M.name==="BANKER"?"B":"T"}),m.jsxs("div",{style:Dt.itemInfoText,children:[m.jsx("span",{style:{...Dt.itemName,fontSize:"12px"},children:b?M.name:M.nameEn}),m.jsx("span",{style:{...Dt.itemDesc,fontSize:"9px"},children:b?M.desc:M.descEn})]}),K&&!U&&m.jsx("div",{style:{...Dt.checkBadge,background:M.color},children:""}),$&&m.jsx(UN,{type:M.name,amount:U.totalCost})]},M.name)})}),m.jsxs("div",{style:Dt.tabSection,children:[m.jsxs("div",{style:Dt.tabHeader,children:[m.jsx("button",{style:{...Dt.tabBtn,color:V==="mine"?"#fff":"#666",borderBottom:V==="mine"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>k("mine"),children:b?"  ":"My Bets"}),m.jsx("button",{style:{...Dt.tabBtn,color:V==="total"?"#fff":"#666",borderBottom:V==="total"?"2px solid #ffb347":"2px solid transparent"},onClick:()=>k("total"),children:b?" ":"Roadmap"})]}),m.jsxs("div",{style:Dt.tabContent,children:[V==="mine"&&B.slice(0,30).map((M,K)=>m.jsxs("div",{style:{...Dt.histItem,flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"12px",color:"#666"},children:[m.jsxs("span",{children:["No. ",M.round]}),m.jsx("span",{children:M.date})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:M.pick==="PLAYER"?"#4d94ff":M.pick==="BANKER"?"#ff4d4d":"#00e676",border:`1px solid ${M.pick==="PLAYER"?"#4d94ff":M.pick==="BANKER"?"#ff4d4d":"#00e676"}`,padding:"2px 8px",borderRadius:"4px"},children:M.pick}),m.jsxs("span",{style:{fontSize:"13px",color:"#aaa"},children:[" : ",m.jsx("b",{style:{color:"#fff"},children:M.result})]})]}),m.jsx("div",{style:{textAlign:"right"},children:m.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:M.earn>M.cost?"#34D399":M.earn===M.cost?"#fff":"#FB7185"},children:M.earn>M.cost?`+${(M.earn-M.cost).toLocaleString()}`:M.earn===M.cost?"REFUND":`-${M.cost.toLocaleString()}`})})]})]},K)),V==="total"&&N.slice(0,30).map((M,K)=>m.jsxs("div",{style:Dt.histItem,children:[m.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[M.round,""]}),m.jsxs("span",{style:{fontWeight:"bold",fontSize:"15px",color:M.result==="PLAYER"?"#4d94ff":M.result==="BANKER"?"#ff4d4d":"#00e676"},children:[M.result," ",m.jsxs("small",{style:{color:"#666",fontSize:"11px"},children:["(",M.pScore,":",M.bScore,")"]})]})]},K)),(V==="mine"?B:N).length===0&&m.jsx("div",{style:Dt.emptyText,children:b?" .":"No records found."})]})]})]}),m.jsx(cm,{children:(R.length>0||U)&&m.jsx(Jn.div,{initial:{y:150},animate:{y:0},exit:{y:150},style:Dt.bottomPanel,children:U?m.jsxs("div",{style:Dt.pendingContainer,children:[m.jsxs("div",{style:Dt.pendingInfo,children:[m.jsxs("div",{style:Dt.pendingTitle,children:[S.round,b?"  !":" Round Joined..."]}),m.jsxs("div",{style:Dt.pendingDetail,children:[m.jsx("b",{style:{color:U.selected==="PLAYER"?"#4d94ff":U.selected==="BANKER"?"#ff4d4d":"#00e676"},children:U.selected})," ",U.totalCost.toLocaleString()," DIA "]})]}),S.timeLeft>10&&m.jsx("button",{style:Dt.cancelBtn,onClick:()=>{const M=g+U.totalCost;y(M),tt(M),Q(null)},children:b?"":"Cancel"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:Dt.panelTop,children:[m.jsxs("span",{style:Dt.selectionText,children:[b?":":"Pick:"," ",m.jsx("b",{style:{color:R[0]==="PLAYER"?"#4d94ff":R[0]==="BANKER"?"#ff4d4d":"#00e676"},children:R[0]})]}),m.jsx("button",{style:Dt.clearBtn,onClick:()=>A([]),children:b?"":"Reset"})]}),m.jsx("div",{style:Dt.amountPresets,children:["10%","50%","MAX","CLEAR"].map(M=>m.jsx("button",{onClick:()=>{if(M==="CLEAR")j("");else{let K=M==="10%"?Math.floor(g*.1):M==="50%"?Math.floor(g*.5):g;j(K>0?K.toString():"")}},style:Dt.presetBtn,children:M},M))}),m.jsxs("div",{style:Dt.betInputGroup,children:[m.jsx("input",{type:"number",value:w,onChange:M=>j(M.target.value),style:Dt.mainInput,placeholder:b?" ":"Enter amount"}),m.jsx("button",{style:Dt.finalBtn,onClick:Ft,disabled:!w,children:w?`${parseInt(w).toLocaleString()} BET`:"BET"})]})]})})}),m.jsx(cm,{children:L&&m.jsx(Jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:Dt.modalOverlay,onClick:()=>q(null),children:m.jsxs(Jn.div,{initial:{scale:.8},animate:{scale:1},style:Dt.modalCard,onClick:M=>M.stopPropagation(),children:[m.jsx("div",{style:{...Dt.modalTitle,color:L.isWin?"#ffd700":L.isDraw?"#fff":"#FB7185",fontSize:"32px",marginBottom:"10px"},children:L.isWin?"YOU WIN!":L.isDraw?"DRAW":"YOU LOSE"}),m.jsxs("div",{style:{fontSize:"24px",margin:"20px 0",fontWeight:"900",color:"#fff"},children:[L.result," "]}),m.jsxs("div",{style:Dt.modalInfoBox,children:[m.jsxs("div",{children:[b?" ":"My Pick",": ",m.jsx("span",{style:{fontWeight:"bold",color:L.myPick==="PLAYER"?"#4d94ff":L.myPick==="BANKER"?"#ff4d4d":"#00e676"},children:L.myPick})]}),m.jsxs("div",{children:[b?"":"Bet",": ",L.betAmount.toLocaleString()]})]}),m.jsxs("div",{style:{...Dt.modalAmount,color:L.winAmount>L.betAmount?"#34D399":"#fff"},children:[L.winAmount>L.betAmount?"+":"",(L.winAmount-L.betAmount).toLocaleString()," DIA"]}),m.jsx("button",{style:Dt.modalCloseBtn,onClick:()=>q(null),children:b?"":"CLOSE"})]})})})]})}const Dt={screenContainer:{position:"relative",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#0c0c0c",overflow:"hidden",fontFamily:"-apple-system, sans-serif"},fixedHeader:{flex:"0 0 auto",height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",backgroundColor:"#0c0c0c",zIndex:10,paddingTop:"env(safe-area-inset-top)"},scrollBody:{flex:1,overflowY:"auto",padding:"20px 20px 140px",WebkitOverflowScrolling:"touch"},navLeft:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},navTitle:{fontSize:"17px",fontWeight:"900",color:"#fff"},backBtn:{fontSize:"22px",color:"#666"},navRight:{display:"flex",alignItems:"center",gap:"12px"},pointBadge:{background:"#1a1a1a",padding:"6px 14px",borderRadius:"20px",border:"1px solid #333",display:"flex",gap:"6px",alignItems:"center"},coinIcon:{fontSize:"14px"},headerPoint:{fontSize:"15px",fontWeight:"800",color:"#ffb347"},profileCircle:{width:"36px",height:"36px",borderRadius:"50%",overflow:"hidden",border:"1px solid #444"},profileImg:{width:"100%",height:"100%",objectFit:"cover"},liveTicker:{height:"34px",background:"rgba(255, 179, 71, 0.05)",margin:"0 -20px 10px",display:"flex",alignItems:"center",justifyContent:"center"},tickerText:{fontSize:"11px",color:"#ffb347",fontWeight:"600"},sectionLabel:{fontSize:"16px",fontWeight:"900",margin:"25px 0 15px",display:"flex",alignItems:"center",gap:"8px",color:"#fff"},labelBar:{width:"4px",height:"16px",background:"#ffb347",borderRadius:"2px"},grid:{display:"grid",gridTemplateColumns:"1fr 0.6fr 1fr",gap:"10px"},itemCard:{height:"120px",borderRadius:"18px",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden",transition:"all 0.2s ease"},multiplier:{position:"absolute",top:10,left:10,fontSize:"10px",fontWeight:"900",color:"#fff"},itemInfoText:{textAlign:"center",marginTop:"5px"},itemName:{fontSize:"14px",fontWeight:"900",display:"block",color:"#fff"},itemDesc:{fontSize:"10px",color:"#777",marginTop:"2px"},checkBadge:{position:"absolute",top:8,right:8,width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"900",zIndex:2},tabSection:{marginTop:"40px"},tabHeader:{display:"flex",gap:"20px",borderBottom:"1px solid #222"},tabBtn:{background:"none",border:"none",padding:"15px 5px",fontSize:"14px",fontWeight:"800",cursor:"pointer"},tabContent:{background:"#111",borderRadius:"20px",marginTop:"15px",border:"1px solid #222",overflow:"hidden"},histItem:{padding:"15px 20px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},emptyText:{padding:"40px",textAlign:"center",color:"#444",fontSize:"13px"},bottomPanel:{position:"absolute",bottom:20,left:15,right:15,background:"#1c1c1e",padding:"20px",borderRadius:"30px",border:"1px solid #333",zIndex:100,boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},panelTop:{display:"flex",justifyContent:"space-between",marginBottom:"15px",alignItems:"center"},selectionText:{fontSize:"13px",color:"#888"},clearBtn:{background:"none",border:"none",color:"#ff3b30",fontSize:"13px",fontWeight:"700"},amountPresets:{display:"flex",gap:"8px",marginBottom:"15px"},presetBtn:{flex:1,background:"#2c2c2e",border:"none",color:"#fff",padding:"10px",borderRadius:"12px",fontSize:"11px",fontWeight:"700"},betInputGroup:{display:"flex",gap:"10px"},mainInput:{flex:1,background:"#000",border:"1px solid #444",borderRadius:"16px",padding:"15px",color:"#fff",fontSize:"18px",fontWeight:"800"},finalBtn:{background:"#ffb347",color:"#000",border:"none",padding:"0 25px",borderRadius:"16px",fontWeight:"900"},pendingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},pendingInfo:{display:"flex",flexDirection:"column",gap:"4px"},pendingTitle:{fontSize:"15px",fontWeight:"900",color:"#ffb347"},pendingDetail:{fontSize:"12px",color:"#888"},cancelBtn:{background:"#ff3b30",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"16px",fontWeight:"900",fontSize:"13px"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalCard:{background:"#222",padding:"40px 30px",borderRadius:"35px",textAlign:"center",width:"100%",maxWidth:"320px",border:"1px solid #333"},modalTitle:{fontSize:"24px",fontWeight:"900",color:"#fff"},modalInfoBox:{background:"#161616",padding:"15px",borderRadius:"15px",margin:"20px 0",display:"flex",justifyContent:"space-around",fontSize:"13px",color:"#aaa"},modalAmount:{fontSize:"32px",fontWeight:"900",marginBottom:"25px"},modalCloseBtn:{width:"100%",background:"#fff",color:"#000",border:"none",padding:"18px",borderRadius:"18px",fontWeight:"900",fontSize:"16px"}},lt={container:{background:"#0f0f12",minHeight:"100vh",color:"#fff",paddingBottom:"80px"},loading:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"#D4AF37",background:"#0f0f12"},topBar:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#0f0f12",borderBottom:"1px solid #1c1c21"},subHeader:{height:"65px",display:"flex",alignItems:"center",padding:"0 20px",background:"#1c1c21"},subTitle:{flex:1,textAlign:"center",fontWeight:"800",fontSize:"16px",color:"#D4AF37"},backBtn:{background:"none",border:"none",color:"#fff",fontSize:"22px",cursor:"pointer"},topTitle:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",color:"#fff",letterSpacing:"3px"},settingsIcon:{fontSize:"18px",cursor:"pointer",color:"#444"},profileHeaderMain:{background:"linear-gradient(180deg, #1c1c21 0%, #0f0f12 100%)",padding:"40px 24px 40px"},profileInfoMain:{display:"flex",alignItems:"center",gap:"22px"},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},avatarLarge:{width:"90px",height:"90px",borderRadius:"28px",background:"#2a2a2e",overflow:"hidden",border:"2px solid #D4AF37"},imgFull:{width:"100%",height:"100%",objectFit:"cover"},editBadgeOutside:{background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"10px",fontWeight:"900"},userTextMain:{flex:1,display:"flex",flexDirection:"column",gap:"5px"},userIdMain:{fontSize:"24px",fontWeight:"900",color:"#fff",display:"flex",alignItems:"center",gap:"8px"},vipBadge:{fontSize:"10px",color:"#000",padding:"2px 6px",borderRadius:"4px",fontWeight:"900"},userNoMain:{fontSize:"11px",color:"#444",fontWeight:"600"},tierContainer:{margin:"5px 0"},tierText:{fontSize:"10px",color:"#888",marginBottom:"4px"},tierBarOuter:{width:"100%",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},tierBarInner:{height:"100%",transition:"width 0.5s ease"},balanceCard:{margin:"-20px 20px 25px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(15px)",borderRadius:"24px",display:"flex",alignItems:"center",padding:"30px 0",border:"1px solid rgba(212, 175, 55, 0.1)"},balanceItem:{flex:1,textAlign:"center"},divider:{width:"1px",height:"35px",background:"rgba(255,255,255,0.05)"},label:{fontSize:"11px",color:"#666",marginBottom:"8px",fontWeight:"700"},value:{fontSize:"22px",fontWeight:"900",color:"#fff"},menuList:{padding:"0 20px"},goldMenu:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"22px 24px",background:"rgba(212, 175, 55, 0.05)",borderRadius:"22px",marginBottom:"20px",border:"1px solid rgba(212, 175, 55, 0.2)",cursor:"pointer"},goldMenuContent:{display:"flex",alignItems:"center",gap:"12px"},goldTag:{background:"#D4AF37",color:"#000",fontSize:"9px",fontWeight:"900",padding:"2px 6px",borderRadius:"4px"},goldMenuTitle:{color:"#D4AF37",fontWeight:"900",fontSize:"15px"},menuGroup:{background:"rgba(255,255,255,0.02)",borderRadius:"24px",overflow:"hidden"},menuItem:{display:"flex",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.02)",cursor:"pointer"},menuTitle:{fontSize:"15px",fontWeight:"600",color:"#ccc"},arrow:{color:"#333",fontSize:"14px"},settingList:{padding:"20px"},settingItem:{background:"#1c1c21",padding:"22px",borderRadius:"20px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},settingText:{fontWeight:"700",color:"#eee"},formArea:{padding:"30px 20px"},inputGroup:{marginBottom:"25px"},inputLabel:{display:"block",color:"#444",fontSize:"12px",marginBottom:"10px",fontWeight:"800",paddingLeft:"5px"},inputDisabled:{width:"100%",background:"#151518",border:"none",borderRadius:"16px",padding:"18px",color:"#333",fontSize:"14px",fontWeight:"700"},input:{width:"100%",background:"#1c1c21",border:"1px solid #2a2a2e",borderRadius:"16px",padding:"18px",color:"#fff",fontSize:"14px"},saveBtn:{width:"100%",padding:"18px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",marginTop:"15px"},avatarPicker:{position:"fixed",bottom:0,left:0,right:0,background:"#1c1c21",padding:"35px 25px 45px",borderTopLeftRadius:"35px",borderTopRightRadius:"35px",boxShadow:"0 -15px 40px rgba(0,0,0,0.5)",zIndex:1e3},pickerHeader:{display:"flex",justifyContent:"space-between",marginBottom:25,alignItems:"center"},randomBtn:{background:"#333",color:"#fff",border:"none",padding:"5px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800"},closeBtn:{background:"none",border:"none",color:"#444",fontSize:"30px"},charGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"30px"},pickerItem:{aspectRatio:"1/1",borderRadius:"14px",background:"#0f0f12",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},uploadBtn:{width:"100%",padding:"16px",background:"#2a2a2e",color:"#fff",border:"none",borderRadius:"16px",marginBottom:"12px",fontWeight:"800",fontSize:"14px"},applyBtn:{width:"100%",padding:"20px",background:"linear-gradient(to right, #D4AF37, #F9E076)",color:"#000",border:"none",borderRadius:"18px",fontWeight:"900",fontSize:"16px"},logoutBtnMain:{width:"100%",padding:"40px",background:"transparent",color:"#333",border:"none",fontWeight:"800",fontSize:"13px",letterSpacing:"2px"}},hh=["adventurer","avataaars","big-ears","bottts","fun-emoji","lorelei","micah","miniavs","notionists","open-peeps"],$A=(n,t)=>{const i=n>=0&&n<hh.length?n:0;return`https://api.dicebear.com/7.x/${hh[i]}/svg?seed=${t}_${i}&backgroundColor=2a2a2e`},YN=(n=0)=>n>=1e6?{name:"DIAMOND",color:"#b9f2ff",next:"MAX",per:100}:n>=5e5?{name:"PLATINUM",color:"#e5e4e2",next:1e6,per:n/1e6*100}:n>=1e5?{name:"GOLD",color:"#D4AF37",next:5e5,per:n/5e5*100}:{name:"SILVER",color:"#C0C0C0",next:1e5,per:n/1e5*100},KN=({userId:n,tempSelectedIdx:t,tempUploadedImg:i,setTempSelectedIdx:r,setTempUploadedImg:o,onClose:u,onApply:c,onRandom:d})=>{const g=F.useRef(null);return m.jsxs("div",{style:lt.avatarPicker,children:[m.jsxs("div",{style:lt.pickerHeader,children:[m.jsx("span",{style:{color:"#fff",fontWeight:"800",fontSize:"18px"},children:" "}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:d,style:lt.randomBtn,children:" "}),m.jsx("button",{onClick:u,style:lt.closeBtn,children:""})]})]}),m.jsx("div",{style:lt.charGrid,children:hh.map((y,v)=>m.jsx("div",{onClick:()=>{o(null),r(v)},style:{...lt.pickerItem,border:t===v&&!i?"2px solid #D4AF37":"1px solid #333"},children:m.jsx("img",{src:$A(v,n),alt:"char",style:{width:"85%"}})},v))}),m.jsx("input",{type:"file",accept:"image/*",ref:g,onChange:y=>{const v=y.target.files[0];if(v){const b=new FileReader;b.onloadend=()=>{o(b.result),r(-1)},b.readAsDataURL(v)}},style:{display:"none"}}),m.jsx("button",{onClick:()=>g.current.click(),style:lt.uploadBtn,children:"   "}),m.jsx("button",{onClick:c,style:lt.applyBtn,children:""})]})},Z_=new BroadcastChannel("daisy_global_channel"),QN=(n,t,i)=>{const[r,o]=F.useState(n||null),[u,c]=F.useState(()=>{if(!n)return!1;const L=new Date().toDateString();return localStorage.getItem(`last_checkin_${n.id}`)===L}),[d,g]=F.useState([]),[y,v]=F.useState([]);F.useEffect(()=>{n&&o(n)},[n]),F.useEffect(()=>{const L=(G,tt)=>{o(et=>et&&et.id===G?{...et,diamond:tt}:et)},q=G=>{const{userId:tt,point:et}=G.detail||{};tt&&L(tt,et)};return window.addEventListener("user_point_update",q),Z_.onmessage=G=>{const{type:tt,userId:et,point:R}=G.data||{};tt==="POINT_UPDATE"&&et&&L(et,R)},()=>window.removeEventListener("user_point_update",q)},[]),F.useEffect(()=>{if(!r?.id)return;const L=Ca(Zn(Jt,"deposit_requests"),Jp("userId","==",r.id)),q=Ca(Zn(Jt,"withdraw_requests"),Jp("userId","==",r.id)),G=Ca(Zn(Jt,"finance_history"),Jp("userId","==",r.id));let tt=[],et=[],R=[];const A=()=>{const k=R.filter(M=>M.type==="").map(M=>({...M,status:""})),I=[...tt,...k].sort((M,K)=>new Date(K.timestamp||K.completedAt)-new Date(M.timestamp||M.completedAt));g(I);const At=R.filter(M=>M.type==="").map(M=>({...M,status:""})),Ft=[...et,...At].sort((M,K)=>new Date(K.timestamp||K.completedAt)-new Date(M.timestamp||M.completedAt));v(Ft)},w=Ls(L,k=>{tt=k.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),j=Ls(q,k=>{et=k.docs.map(I=>({id:I.id,...I.data(),status:""})),A()}),V=Ls(G,k=>{R=k.docs.map(I=>({id:I.id,...I.data()})),A()});return()=>{w(),j(),V()}},[r?.id]);const b=F.useCallback(L=>{window.speechSynthesis.cancel();const q=new SpeechSynthesisUtterance(L),G=window.speechSynthesis.getVoices(),tt=G.find(et=>et.lang.includes("ko")&&et.name.includes("Google"))||G.find(et=>et.lang.includes("ko")&&(et.name.includes("Female")||et.name.includes("")))||G.find(et=>et.lang.includes("ko"));tt&&(q.voice=tt),q.lang=i?"ko-KR":"en-US",q.rate=1.1,q.pitch=1,window.speechSynthesis.speak(q)},[i]);return{userInfo:r,isCheckedIn:u,myDeposits:d,myWithdraws:y,handleDailyCheckIn:async()=>{if(!u)try{const L=Le(Jt,"settings","global"),q=await Er(L);if(!q.exists())throw new Error("Database Error");const G=q.data().users||[],tt=Math.floor(Math.random()*1901)+100;let et=0;const R=G.map(w=>w.id===r.id?(et=(w.diamond||0)+tt,{...w,diamond:et}):w);await Ar(L,{users:R}),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),o(w=>({...w,diamond:et})),t&&t(et),Z_.postMessage({type:"POINT_UPDATE",userId:r.id,point:et});const A=i?`  ${tt}  .`:`Daily bonus ${tt} diamonds paid.`;b(A),alert(i?`! ${tt.toLocaleString()} DIA .`:`Congrats! ${tt.toLocaleString()} DIA paid.`)}catch(L){console.error(L);const q=1e3;o(G=>({...G,diamond:(G.diamond||0)+q})),localStorage.setItem(`last_checkin_${r.id}`,new Date().toDateString()),c(!0),alert(i?`( ) ${q} DIA ! (  )`:"Offline Bonus Collected.")}},requestDeposit:async(L,q)=>{if(!L.trim()||!q)return alert(i?" .":"Enter info.");try{return await Vu(Zn(Jt,"deposit_requests"),{userId:r.id,userName:r.name||r.id,depositName:L,amount:Number(q),status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Deposit requested."),alert(i?" !":"Done!"),!0}catch(G){return alert("Error: "+G.message),!1}},requestWithdraw:async(L,q,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(G!==tt)return alert(i?" ":"PIN mismatch");if(Number(L)>r.diamond)return alert(i?" ":"Not enough balance");try{return await Vu(Zn(Jt,"withdraw_requests"),{userId:r.id,userName:r.name||r.id,amount:Number(L),bankInfo:q,status:"pending",timestamp:new Date().toISOString()}),b(i?" .":"Withdrawal requested."),alert(i?" !":"Done!"),!0}catch(et){return alert("Error: "+et.message),!1}},updatePassword:async(L,q,G)=>{if(!L||q!==G)return alert(i?"  .":"Check inputs.");try{const tt=Le(Jt,"settings","global"),et=await Er(tt);if(et.exists()){const A=(et.data().users||[]).map(w=>w.id===r.id?{...w,password:q}:w);await Ar(tt,{users:A})}return alert(i?"  ":"Success"),!0}catch(tt){return alert("Error: "+tt.message),!1}},updatePin:async(L,q,G)=>{const tt=localStorage.getItem(`user_pin_${r.id}`);if(tt&&L!==tt)return alert(i?" PIN ":"Old PIN wrong");if(q!==G||q.length!==6)return alert(i?" PIN  ":"Check New PIN");try{const et=Le(Jt,"settings","global"),R=await Er(et);if(R.exists()){const A=R.data().users.map(w=>w.id===r.id?{...w,pin:q}:w);await Ar(et,{users:A})}return localStorage.setItem(`user_pin_${r.id}`,q),alert(i?" ":"Done"),!0}catch(et){return alert("Error: "+et.message),!1}},updateAvatar:async(L,q,G)=>{const tt={image:L,idx:q};try{const et=Le(Jt,"settings","global"),R=await Er(et);if(R.exists()){const A=R.data().users.map(w=>w.id===r.id?{...w,avatar:tt}:w);await Ar(et,{users:A})}return localStorage.setItem(`user_avatar_data_${r.id}`,JSON.stringify(tt)),G&&G(L,q),alert(i?"  ":"Updated"),!0}catch(et){return alert("Error: "+et.message),!1}}}},za=({title:n,onBack:t})=>m.jsxs("div",{style:lt.subHeader,children:[m.jsx("button",{onClick:t,style:lt.backBtn,children:""}),m.jsx("span",{style:lt.subTitle,children:n}),m.jsx("div",{style:{width:30}})]}),WN=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),[g,y]=F.useState(""),v=async()=>{await i(o,c,g)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Change Password",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:"ID"}),m.jsx("input",{style:lt.inputDisabled,value:r.id,disabled:!0})]}),m.jsx("div",{style:{height:20}}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" ":"Old Password"}),m.jsx("input",{type:"password",style:lt.input,value:o,onChange:b=>u(b.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" ":"New Password"}),m.jsx("input",{type:"password",style:lt.input,value:c,onChange:b=>d(b.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Confirm"}),m.jsx("input",{type:"password",style:lt.input,value:g,onChange:b=>y(b.target.value)})]}),m.jsx("button",{style:lt.saveBtn,onClick:v,children:t?"":"Save"})]})]})},XN=({onBack:n,isKo:t,onSubmit:i,userInfo:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),[g,y]=F.useState(""),v=localStorage.getItem(`user_pin_${r.id}`),b=async()=>{await i(o,c,g)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:v?t?"  ":"Change PIN":t?"  ":"Create PIN",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[v?m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" PIN":"Old PIN"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:o,onChange:S=>u(S.target.value.replace(/[^0-9]/g,""))})]}):null,m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" PIN (6)":"New PIN"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:c,onChange:S=>d(S.target.value.replace(/[^0-9]/g,""))})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"PIN ":"Confirm"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:g,onChange:S=>y(S.target.value.replace(/[^0-9]/g,""))})]}),m.jsx("button",{style:lt.saveBtn,onClick:b,children:t?"":"Done"})]})]})},$N=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),g=async()=>{await i(o,c)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Deposit",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:m.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Name"}),m.jsx("input",{style:lt.input,value:o,onChange:y=>u(y.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Amount"}),m.jsx("input",{type:"number",style:lt.input,value:c,onChange:y=>d(y.target.value)})]}),m.jsx("button",{style:lt.saveBtn,onClick:g,children:t?"":"Request"})]})]})},ZN=({onBack:n,isKo:t,onSubmit:i,onViewHistory:r})=>{const[o,u]=F.useState(""),[c,d]=F.useState(""),[g,y]=F.useState(""),[v,b]=F.useState(""),[S,D]=F.useState(""),N=async()=>{await i(o,{bank:c,account:g,holder:v},S)&&n()};return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Withdraw",onBack:n}),m.jsxs("div",{style:lt.formArea,children:[m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},children:m.jsxs("button",{onClick:r,style:{background:"#222",color:"#aaa",border:"1px solid #444",padding:"8px 12px",borderRadius:8,fontSize:13,cursor:"pointer"},children:[" ",t?"   ":"My History"]})}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?"":"Amount"}),m.jsx("input",{type:"number",style:lt.input,value:o,onChange:B=>u(B.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:t?" ":"Bank Info"}),m.jsx("input",{style:{...lt.input,marginBottom:5},placeholder:t?"":"Bank Name",value:c,onChange:B=>d(B.target.value)}),m.jsx("input",{style:{...lt.input,marginBottom:5},placeholder:t?"":"Account No",value:g,onChange:B=>y(B.target.value)}),m.jsx("input",{style:lt.input,placeholder:t?"":"Holder",value:v,onChange:B=>b(B.target.value)})]}),m.jsxs("div",{style:lt.inputGroup,children:[m.jsx("label",{style:lt.inputLabel,children:"PIN"}),m.jsx("input",{type:"password",maxLength:6,style:{...lt.input,textAlign:"center",letterSpacing:"8px"},value:S,onChange:B=>D(B.target.value.replace(/[^0-9]/g,""))})]}),m.jsx("button",{style:{...lt.saveBtn,background:"#D4AF37",color:"#000"},onClick:N,children:t?"":"Request"})]})]})},J_=({onBack:n,isKo:t,title:i,data:r})=>m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:i,onBack:n}),m.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?m.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>{const c=o.status==="",d=c?"#4cd137":"#fbc531",g=c?"rgba(76, 209, 55, 0.1)":"rgba(251, 197, 49, 0.1)",y=c?t?"":"Done":t?"":"Pending";return m.jsxs("div",{style:{background:"#1a1a1a",padding:"20px",borderRadius:"15px",marginBottom:"15px",border:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"5px"},children:new Date(o.timestamp||o.completedAt).toLocaleString()}),m.jsxs("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:[o.amount?.toLocaleString()," DIA"]}),m.jsx("div",{style:{color:"#666",fontSize:"13px",marginTop:4},children:o.depositName?t?`: ${o.depositName}`:`Name: ${o.depositName}`:o.bankInfo?`${o.bankInfo.bank} ${o.bankInfo.holder}`:""})]}),m.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",background:g,color:d,border:`1px solid ${d}`},children:y})]},u)})})]}),JN=({onBack:n,isKo:t,userId:i})=>{const r=F.useMemo(()=>{if(!i)return[];const o=localStorage.getItem(`event_my_history_${i}`);return o?JSON.parse(o):[]},[i]);return m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"History",onBack:n}),m.jsx("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:r.length===0?m.jsx("div",{style:{textAlign:"center",color:"#666",marginTop:"50px"},children:t?" .":"No records."}):r.map((o,u)=>m.jsxs("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #333"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#888",fontSize:"11px",marginBottom:"5px"},children:[m.jsxs("span",{children:[o.round,t?"":"R"]}),m.jsx("span",{children:o.date})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{color:"#fff"},children:o.selected?.join(", ")}),m.jsx("span",{style:{color:o.earn>0?"#4cd137":"#e84118",fontWeight:"bold"},children:o.earn>0?`+${o.earn.toLocaleString()}`:`-${o.cost.toLocaleString()}`})]})]},u))})]})},tO=({onBack:n,isKo:t,onChangeView:i})=>m.jsxs("div",{style:lt.container,children:[m.jsx(za,{title:t?" ":"Settings",onBack:n}),m.jsxs("div",{style:lt.settingList,children:[m.jsxs("div",{style:lt.settingItem,onClick:()=>i("profile"),children:[m.jsx("span",{style:lt.settingText,children:t?"  ":"Change Password"}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.settingItem,onClick:()=>i("payment_pin"),children:[m.jsx("span",{style:lt.settingText,children:t?" (PIN) ":"Setup PIN"}),m.jsx("span",{style:lt.arrow,children:""})]})]})]});function eO({user:n,onBack:t,onLogout:i,confirmedImage:r,confirmedAvatarIdx:o,onAvatarChange:u,onUpdatePoint:c,t:d}){const[g,y]=F.useState("main"),v=d.home==="",{userInfo:b,isCheckedIn:S,myDeposits:D,myWithdraws:N,handleDailyCheckIn:B,requestDeposit:U,requestWithdraw:Q,updatePassword:L,updatePin:q,updateAvatar:G}=QN(n,c,v),[tt,et]=F.useState(o||0),[R,A]=F.useState(r||null),[w,j]=F.useState(!1);if(!b)return m.jsx("div",{style:lt.loading,children:"SECRET MEMBERSHIP..."});const V=YN(b.diamond);return g==="profile"?m.jsx(WN,{onBack:()=>y("settings"),isKo:v,onSubmit:L,userInfo:b}):g==="payment_pin"?m.jsx(XN,{onBack:()=>y("settings"),isKo:v,onSubmit:q,userInfo:b}):g==="deposit"?m.jsx($N,{onBack:()=>y("main"),isKo:v,onSubmit:U,onViewHistory:()=>y("deposit_history")}):g==="withdraw"?m.jsx(ZN,{onBack:()=>y("main"),isKo:v,onSubmit:Q,onViewHistory:()=>y("withdraw_history")}):g==="deposit_history"?m.jsx(J_,{onBack:()=>y("deposit"),isKo:v,title:v?"  ":"Deposit History",data:D}):g==="withdraw_history"?m.jsx(J_,{onBack:()=>y("withdraw"),isKo:v,title:v?"  ":"Withdraw History",data:N}):g==="history"?m.jsx(JN,{onBack:()=>y("main"),isKo:v,userId:b.id}):g==="settings"?m.jsx(tO,{onBack:()=>y("main"),isKo:v,onChangeView:y}):g==="event_donation"?m.jsx(XA,{user:b,userPoint:b.diamond||0,confirmedImage:r,confirmedAvatarIdx:o,onBack:()=>y("main"),t:d}):m.jsxs("div",{style:lt.container,children:[m.jsxs("div",{style:lt.topBar,children:[m.jsx("button",{onClick:t,style:lt.backBtn,children:""}),m.jsx("span",{style:lt.topTitle,children:"PRIVATE LOUNGE"}),m.jsx("span",{onClick:()=>y("settings"),style:lt.settingsIcon,children:""})]}),m.jsx("div",{style:lt.profileHeaderMain,children:m.jsxs("div",{style:lt.profileInfoMain,children:[m.jsxs("div",{style:lt.avatarWrapper,children:[m.jsx("div",{style:lt.avatarLarge,children:r?m.jsx("img",{src:r,alt:"profile",style:lt.imgFull}):m.jsx("img",{src:$A(o,b.id),alt:"avatar",style:lt.imgFull})}),m.jsx("button",{style:lt.editBadgeOutside,onClick:()=>j(!0),children:v?"":"Edit"})]}),m.jsxs("div",{style:lt.userTextMain,children:[m.jsxs("div",{style:lt.userIdMain,children:[b.name||b.id," ",m.jsx("span",{style:{...lt.vipBadge,background:V.color,color:"#000"},children:V.name})]}),m.jsxs("div",{style:lt.tierContainer,children:[m.jsxs("div",{style:lt.tierText,children:[v?" ":"Next Tier",": ",V.next.toLocaleString()]}),m.jsx("div",{style:lt.tierBarOuter,children:m.jsx("div",{style:{...lt.tierBarInner,width:`${V.per}%`,background:V.color}})})]}),m.jsxs("div",{style:lt.userNoMain,children:["UID: ",b.no||"000000"]})]})]})}),m.jsxs("div",{style:lt.balanceCard,children:[m.jsxs("div",{style:lt.balanceItem,children:[m.jsx("div",{style:lt.label,children:v?" ":"Diamonds"}),m.jsxs("div",{style:lt.value,children:[" ",b.diamond?.toLocaleString()??0]})]}),m.jsx("div",{style:lt.divider}),m.jsxs("div",{style:{...lt.balanceItem,cursor:S?"default":"pointer"},onClick:B,children:[m.jsx("div",{style:{...lt.label,color:S?"#444":"#D4AF37"},children:S?v?" ":"Claimed":v?" ":"Daily Bonus"}),m.jsx("div",{style:lt.value,children:S?"":""})]})]}),m.jsxs("div",{style:lt.menuList,children:[m.jsxs("div",{style:lt.goldMenu,onClick:()=>y("event_donation"),children:[m.jsxs("div",{style:lt.goldMenuContent,children:[m.jsx("div",{style:lt.goldTag,children:"HOT"}),m.jsx("span",{style:lt.goldMenuTitle,children:v?"  ":"Join Event"})]}),m.jsx("span",{children:""})]}),m.jsxs("div",{style:lt.menuGroup,children:[m.jsxs("div",{style:lt.menuItem,onClick:()=>y("deposit"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"Deposit"]}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.menuItem,onClick:()=>y("withdraw"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"Withdraw"]}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.menuItem,onClick:()=>y("history"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?" ":"History"]}),m.jsx("span",{style:lt.arrow,children:""})]}),m.jsxs("div",{style:lt.menuItem,onClick:()=>window.open("https://t.me/daisy_support","_blank"),children:[m.jsxs("span",{style:lt.menuTitle,children:["  ",v?"1:1  ":"1:1 Support"]}),m.jsx("span",{style:lt.arrow,children:""})]})]}),m.jsx("button",{onClick:i,style:{...lt.logoutBtnMain,marginTop:40,border:"1px solid #444",color:"#ff4d4d",fontWeight:"bold",letterSpacing:"2px"},children:v?"":"LOG OUT"})]}),w&&m.jsx(KN,{userId:b.id,tempSelectedIdx:tt,tempUploadedImg:R,setTempSelectedIdx:et,setTempUploadedImg:A,onClose:()=>j(!1),onApply:()=>G(R,tt,u).then(k=>k&&j(!1)),onRandom:()=>{A(null),et(Math.floor(Math.random()*hh.length))}})]})}function nO({user:n,onUpdatePoint:t,appAvatarImage:i,appAvatarIdx:r,onAvatarChange:o,t:u,onLogout:c,lang:d,dashStyles:g,isGuest:y,members:v=[],regions:b=[],slideImages:S=[],videos:D=[],videoCategories:N=[],innerLogo:B,telegramLink:U="https://t.me/your_address"}){const[Q,L]=F.useState("home"),[q,G]=F.useState(null),[tt,et]=F.useState(""),[R,A]=F.useState(""),[w,j]=F.useState(!1),[V,k]=F.useState(!1),I=n||{id:"MEMBER",no:"2282290",diamond:0,rewards:0},At=D.filter(at=>tt==="ALL"||!tt?!0:at.category===tt),Ft=v.filter(at=>!R||R===""||R==="ALL"?!0:at.region===R),[M,K]=F.useState(()=>{const at=localStorage.getItem("live_count"),ht=at?parseInt(at):142;return ht>=123&&ht<=179?ht:145});F.useEffect(()=>{const at=setInterval(()=>{K(ht=>{const gt=Math.random();let dt=gt<.45?1:gt<.9?-1:gt<.95?2:-2,_t=ht+dt;return _t<=123&&(_t=125),_t>=179&&(_t=177),localStorage.setItem("live_count",_t),_t})},5e3);return()=>clearInterval(at)},[]);const $=F.useCallback(()=>{document.getElementById("full-screen-view")||q||document.getElementById("manager-detail-view")||(Q!=="home"?L("home"):k(!0),window.history.pushState(null,""))},[q,Q]);F.useEffect(()=>(window.history.pushState(null,""),window.addEventListener("popstate",$),()=>window.removeEventListener("popstate",$)),[$]);const pt=at=>{if(y&&(at==="event"||at==="mypage")){alert(d==="ko"?"   .":"Authorized Members Only.");return}at==="event"?(j(!0),L(at),setTimeout(()=>j(!1),800)):L(at)},vt=at=>{G(at),L("manager"),window.history.pushState({isDetail:!0},"")},O=()=>{U?window.open(U,"_blank"):alert(d==="ko"?"   .":"Link not set.")};F.useEffect(()=>{window.scrollTo(0,0)},[Q]);const J=()=>{switch(Q){case"home":return m.jsx(nj,{t:u,innerLogo:B,slideImages:S,members:v,setActiveTab:L,openDetail:vt,handleTelegram:O,matchingCount:M});case"manager":return m.jsx(ij,{t:u,regions:b,selectedRegion:R,setSelectedRegion:A,filteredMembers:Ft,initialMember:q,onCloseDetail:()=>G(null)});case"event":return w?m.jsxs("div",{style:$n.loadingContainer,children:[m.jsx("div",{className:"loading-spinner"}),m.jsx("div",{style:$n.loadingText,children:d==="ko"?"   ...":"Loading Private Benefits..."})]}):m.jsx(XA,{t:u,user:I,userPoint:I.diamond,onUpdatePoint:t,onBack:()=>L("home"),confirmedImage:i,confirmedAvatarIdx:r});case"video":return m.jsx(sj,{t:u,videoCategories:N,selectedCategory:tt,setSelectedCategory:et,filteredVideos:At});case"mypage":return m.jsx(eO,{t:u,user:I,onBack:()=>L("home"),onLogout:()=>k(!0),confirmedImage:i,confirmedAvatarIdx:r,onAvatarChange:o,s:$n});default:return null}};return m.jsxs("div",{style:{...g.container,background:"#080808",zIndex:10,position:"relative"},children:[m.jsxs("div",{style:{...g.contentArea,background:"transparent"},children:[Q!=="home"&&Q!=="event"&&Q!=="mypage"&&m.jsx("div",{style:$n.topStatus,children:m.jsxs("div",{style:$n.statusInner,children:[m.jsx("span",{className:"dot-active"}),m.jsx("span",{style:$n.statusText,children:"LIVE CONNECTED : "}),m.jsxs("b",{style:$n.statusCount,children:[M," MEMBERS"]})]})}),J()]}),V&&m.jsx("div",{style:$n.modalOverlay,onClick:()=>k(!1),children:m.jsxs("div",{style:{...$n.modalContent,textAlign:"center"},onClick:at=>at.stopPropagation(),children:[m.jsx("h3",{style:$n.modalName,children:u.logout}),m.jsx("p",{style:{color:"#8E8E93",fontSize:14,marginBottom:20},children:d==="ko"?"  ?":"Are you sure you want to log out?"}),m.jsxs("div",{style:$n.modalBtnGroup,children:[m.jsx("button",{onClick:c,style:$n.mMatchBtn,children:u.logout}),m.jsx("button",{onClick:()=>k(!1),style:$n.mCloseBtn,children:d==="ko"?"":"CANCEL"})]})]})}),m.jsx("nav",{style:{...g.bottomNav,backgroundColor:"#0F0F0F",borderTop:"1px solid #222",paddingBottom:"env(safe-area-inset-bottom)"},children:[{key:"home",label:u.home,icon:""},{key:"manager",label:u.manager,icon:""},{key:"event",label:u.event,icon:""},{key:"video",label:u.video,icon:""},{key:"mypage",label:u.mypage,icon:""}].map(at=>m.jsxs("div",{onClick:()=>pt(at.key),style:{...g.navItem,color:Q===at.key?"#D4AF37":"#555"},children:[m.jsx("span",{style:{fontSize:22,filter:Q===at.key?"none":"grayscale(100%) opacity(0.4)",marginBottom:4},children:at.icon}),m.jsx("span",{style:{fontSize:10,fontWeight:800},children:at.label})]},at.key))}),m.jsx("style",{children:`
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        .dot-active { width: 8px; height: 8px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; animation: pulse 1.5s infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner { width: 35px; height: 35px; border: 3px solid #222; border-top: 3px solid #D4AF37; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
      `})]})}const $n={topStatus:{background:"#121212",padding:"12px 0",borderBottom:"1px solid #222"},statusInner:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},statusText:{color:"#666",fontSize:11,fontWeight:600},statusCount:{color:"#D4AF37",fontSize:11,fontWeight:800},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 0"},loadingText:{fontSize:13,color:"#D4AF37",fontWeight:700},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#1A1A1A",width:"88%",maxWidth:"380px",padding:"24px",borderRadius:"28px",border:"1px solid #333"},modalName:{color:"#FFF",fontSize:22,fontWeight:800,margin:"0 0 6px 0"},modalBtnGroup:{display:"flex",flexDirection:"column",gap:10},mMatchBtn:{width:"100%",padding:"16px",background:"#D4AF37",color:"#000",border:"none",borderRadius:"16px",fontWeight:800,fontSize:"15px"},mCloseBtn:{width:"100%",padding:"14px",background:"#222",color:"#888",border:"none",borderRadius:"16px",fontWeight:700,fontSize:"14px"}},iO="dwla93cgd",sO="daisy_upload",tT=async n=>{if(!n)return null;const t=n.type.startsWith("video")?"video":"image",i=new FormData;i.append("file",n),i.append("upload_preset",sO);try{const o=await(await fetch(`https://api.cloudinary.com/v1_1/${iO}/${t}/upload`,{method:"POST",body:i})).json();return o.secure_url?(console.log("  URL:",o.secure_url),o.secure_url):(console.error(" :",o.error?.message),null)}catch(r){return console.error("Cloudinary   :",r),null}};function rO({adminPreviewMode:n,setAdminPreviewMode:t,hero:i,setHero:r,videoURL:o,setVideoURL:u,logo:c,setLogo:d,logoSize:g,setLogoSize:y,logoPos:v,setLogoPos:b,innerLogo:S,setInnerLogo:D,onExit:N,members:B,setMembers:U,slideImages:Q,setSlideImages:L,videos:q,setVideos:G,adminPw:tt,setAdminPw:et,telegramLink:R,setTelegramLink:A,saveToFirebase:w,syncToFirebase:j,openIndependent:V,styles:k}){const I={:["//","//","//","//","//","//"]," ":["//","//","//"]," ":["//","//","//","//","/","//"],:["/","//","//"],:["//","//","//"],:["//","//","//"],:["//","//","//","//"],"":[" //"," //","//","//","//"],"":[" //"," //"," //","/","//"],:[" "," "]},At=Object.keys(I),Ft=["","","","",""],M={name:"",region:"",loc:I.[0],img:"",video:"",age:"",height:"",weight:"",bust:""},[K,$]=F.useState(M),[pt,vt]=F.useState(null),[O,J]=F.useState(!1),[at,ht]=F.useState(""),[gt,dt]=F.useState(""),[_t,se]=F.useState(!1),[Xt,vn]=F.useState(!1),[zn,Un]=F.useState(null),[xn,bn]=F.useState(""),ii=rt=>{$({...K,region:rt,loc:I[rt][0]})},Ei=rt=>{vt(rt.id),$(rt),se(!0);const wt=document.getElementById("manager-modal-scroll");wt&&wt.scrollTo({top:0,behavior:"smooth"})},Ai=async()=>{if(O)return alert("  .  .");if(!K.img||!K.name)return alert("   .");let rt;pt?(rt=B.map(St=>St.id===pt?{...K,id:pt}:St),vt(null)):rt=[...B,{...K,id:Date.now()}],U(rt),J(!0);const wt=await j({members:rt});J(!1),wt&&($(M),alert("    ! "))},ys=async()=>{if(!xn)return alert("   .");let rt;zn?(rt=q.map(St=>St.id===zn?{...St,url:xn,category:at,description:gt}:St),Un(null)):rt=[...q,{id:Date.now(),url:xn,category:at,description:gt}],G(rt),J(!0);const wt=await j({videos:rt});J(!1),wt&&(bn(""),dt(""),alert("   ! "))},re=async(rt,wt,St)=>{const te=rt.target.files?.[0];if(te)try{J(!0);const ae=await tT(te);if(ae){St(ae);let ee={};wt==="logo"?ee={logo:ae}:wt==="innerLogo"?ee={innerLogo:ae}:wt==="heroImg"&&(ee={hero:{...i,imageSrc:ae,mode:"image"}}),Object.keys(ee).length>0&&await j(ee)}}catch(ae){console.error("  :",ae)}finally{J(!1),rt.target.value=""}},be=async()=>{J(!0);const rt=await j({telegramLink:R,adminPw:tt});J(!1),rt&&alert("      ! ")};return m.jsxs("div",{style:Nt.cms,children:[m.jsxs("div",{style:Nt.toggleArea,children:[m.jsx("button",{onClick:()=>{console.log("Landing Mode Clicked"),t("landing")},style:{...Nt.tabBtn,background:n==="landing"?"#ffb347":"#222",color:n==="landing"?"#000":"#888",border:n==="landing"?"2px solid #fff":"none"},children:"  "}),m.jsx("button",{onClick:()=>{console.log("Dashboard Mode Clicked"),t("dashboard")},style:{...Nt.tabBtn,background:n==="dashboard"?"#ffb347":"#222",color:n==="dashboard"?"#000":"#888",border:n==="dashboard"?"2px solid #fff":"none"},children:"  "})]}),m.jsxs("div",{style:{padding:"20px"},children:[m.jsx("h3",{style:Nt.mainTitle,children:"SERVER ADMIN PANEL"}),m.jsxs("div",{style:Nt.sectionBox,children:[m.jsx("label",{style:Nt.sectionLabel,children:"    "}),m.jsxs("div",{style:{display:"flex",gap:5,marginBottom:15},children:[m.jsx("button",{onClick:()=>r({...i,mode:"image"}),style:{...Nt.modeBtn,background:i.mode==="image"?"#fff":"#333",color:i.mode==="image"?"#000":"#888"},children:" "}),m.jsx("button",{onClick:()=>r({...i,mode:"video"}),style:{...Nt.modeBtn,background:i.mode==="video"?"#fff":"#333",color:i.mode==="video"?"#000":"#888"},children:" "})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),m.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:rt=>re(rt,"heroImg",wt=>r({...i,imageSrc:wt,mode:"image"}))}),i.imageSrc&&m.jsx("img",{src:i.imageSrc,style:{width:"100%",height:60,objectFit:"cover",marginTop:5,borderRadius:5},alt:"preview"})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"  (  )"}),m.jsx("input",{type:"file",accept:"video/*",style:Nt.fileInput,onChange:rt=>re(rt,"heroVid",wt=>{u(wt),r({...i,mode:"video"})})}),o&&m.jsx("div",{style:{marginTop:5},children:m.jsx("p",{style:Nt.checkText,children:"  "})})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"    "}),m.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:rt=>re(rt,"logo",d)}),m.jsxs("div",{style:Nt.rangeRow,children:[m.jsxs("span",{children:[": ",g,"px"]}),m.jsx("input",{type:"range",min:"40",max:"600",value:g,onChange:rt=>y(+rt.target.value)})]}),m.jsxs("div",{style:Nt.rangeGrid,children:[m.jsxs("div",{children:[m.jsx("span",{children:"(Y)"}),m.jsx("input",{type:"range",min:"0",max:"1000",value:v.y,onChange:rt=>b({...v,y:+rt.target.value})})]}),m.jsxs("div",{children:[m.jsx("span",{children:"(X)"}),m.jsx("input",{type:"range",min:"0",max:"1000",value:v.x,onChange:rt=>b({...v,x:+rt.target.value})})]})]})]})]}),m.jsxs("div",{style:{...Nt.sectionBox,borderColor:"#FFD700"},children:[m.jsx("label",{style:{...Nt.sectionLabel,color:"#FFD700"},children:"  "}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"   (Inner Logo)"}),m.jsx("input",{type:"file",accept:"image/*",style:Nt.fileInput,onChange:rt=>re(rt,"innerLogo",D)}),S&&m.jsx("img",{src:S,style:{maxHeight:30,marginTop:5},alt:"inner-logo"})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"   (X  )"}),m.jsx("input",{type:"file",multiple:!0,accept:"image/*",style:Nt.fileInput,onChange:async rt=>{const wt=Array.from(rt.target.files);J(!0);const te=(await Promise.all(wt.map(ee=>tT(ee)))).filter(ee=>ee).map(ee=>({id:Date.now()+Math.random(),url:ee})),ae=[...Q,...te];L(ae),await j({slideImages:ae}),J(!1),rt.target.value=""}}),m.jsx("div",{style:Nt.bannerList,children:Q.map(rt=>m.jsxs("div",{style:Nt.bannerThumb,children:[m.jsx("img",{src:rt.url,alt:"slide",style:{width:"100%",height:"100%",objectFit:"cover"}}),m.jsx("button",{onClick:async()=>{const wt=Q.filter(St=>St.id!==rt.id);L(wt),await j({slideImages:wt})},style:Nt.bannerDelBtn,children:""})]},rt.id))})]})]}),m.jsxs("div",{style:Nt.sectionBox,children:[m.jsx("label",{style:Nt.sectionLabel,children:"   "}),m.jsxs("button",{onClick:()=>se(!0),style:Nt.modalOpenBtn,children:["   (",B.length,")"]}),m.jsxs("button",{onClick:()=>vn(!0),style:{...Nt.modalOpenBtn,background:"#2196F3",marginTop:10},children:["   (",q.length,")"]}),m.jsx("button",{onClick:()=>V&&V(),style:{...Nt.modalOpenBtn,background:"#9C27B0",marginTop:10},children:"   ( )"})]}),m.jsxs("div",{style:Nt.sectionBox,children:[m.jsx("label",{style:Nt.sectionLabel,children:"  "}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"   "}),m.jsx("input",{type:"text",style:Nt.textInput,placeholder:"@TelegramID",value:R||"",onChange:rt=>A(rt.target.value)})]}),m.jsxs("div",{style:Nt.fieldGroup,children:[m.jsx("label",{style:Nt.fieldLabel,children:"  "}),m.jsx("input",{type:"text",style:Nt.textInput,placeholder:"  ",value:tt||"",onChange:rt=>et(rt.target.value)})]}),m.jsx("button",{onClick:be,style:{...Nt.modalOpenBtn,background:"#4CAF50",marginTop:5},children:"  "})]}),m.jsx("button",{style:{...Nt.saveExitBtn,background:O?"#ffb347":"#fff",cursor:O?"wait":"pointer"},onClick:async()=>{if(O)return;J(!0);const rt=setTimeout(()=>{N()},5e3);try{w&&await w(),clearTimeout(rt),N()}catch{N()}finally{J(!1)}},children:O?"   ...":"    "})]}),_t&&m.jsx("div",{style:ue.overlay,children:m.jsxs("div",{id:"manager-modal-scroll",style:ue.container,children:[m.jsxs("div",{style:ue.header,children:[m.jsx("h2",{style:{color:"#ffb347"},children:pt?"  ":"  "}),m.jsx("button",{onClick:()=>{se(!1),vt(null),$(M)},style:ue.closeBtn,children:""})]}),m.jsxs("div",{style:ue.formBox,children:[m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[m.jsx("select",{value:K.region,onChange:rt=>ii(rt.target.value),style:ue.select,children:At.map(rt=>m.jsx("option",{value:rt,children:rt},rt))}),m.jsx("select",{value:K.loc,onChange:rt=>$({...K,loc:rt.target.value}),style:ue.select,children:I[K.region].map(rt=>m.jsx("option",{value:rt,children:rt},rt))})]}),m.jsxs("div",{style:{display:"flex",gap:10},children:[m.jsx("input",{style:{...ue.input,flex:2},placeholder:" ",value:K.name,onChange:rt=>$({...K,name:rt.target.value})}),m.jsx("input",{style:{...ue.input,flex:1},placeholder:"",value:K.age,onChange:rt=>$({...K,age:rt.target.value})})]}),m.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10,marginTop:10},children:[m.jsx("input",{style:ue.input,placeholder:" (cm)",value:K.height,onChange:rt=>$({...K,height:rt.target.value})}),m.jsx("input",{style:ue.input,placeholder:" (kg)",value:K.weight,onChange:rt=>$({...K,weight:rt.target.value})}),m.jsx("input",{style:ue.input,placeholder:" ()",value:K.bust,onChange:rt=>$({...K,bust:rt.target.value})})]}),m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10,marginTop:10},children:[m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),m.jsx("input",{type:"file",accept:"image/*",onChange:rt=>re(rt,"image",wt=>$({...K,img:wt}))}),K.img&&m.jsx("img",{src:K.img,style:ue.previewImg,alt:"p"})]}),m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{fontSize:11,color:"#ffb347",margin:"0 0 5px 0"},children:" "}),m.jsx("input",{type:"file",accept:"video/*",onChange:rt=>re(rt,"video",wt=>$({...K,video:wt}))}),K.video&&m.jsx("video",{src:K.video,style:ue.previewImg,controls:!0})]})]}),m.jsx("button",{onClick:Ai,style:ue.actionBtn,children:pt?" ":" "})]}),m.jsx("div",{style:ue.list,children:B.map(rt=>m.jsxs("div",{style:ue.listItem,children:[m.jsxs("span",{children:["[",rt.loc,"] ",rt.name," (",rt.age?rt.age+"":"",")"]}),m.jsxs("div",{children:[m.jsx("button",{onClick:()=>Ei(rt),style:ue.editBtn,children:""}),m.jsx("button",{onClick:async()=>{if(confirm("?")){const wt=B.filter(St=>St.id!==rt.id);U(wt),await j({members:wt})}},style:ue.delBtn,children:""})]})]},rt.id))})]})}),Xt&&m.jsx("div",{style:ue.overlay,children:m.jsxs("div",{id:"video-modal-scroll",style:{...ue.container,border:"2px solid #2196F3"},children:[m.jsxs("div",{style:ue.header,children:[m.jsx("h2",{style:{color:"#2196F3"},children:zn?"  ":"  "}),m.jsx("button",{onClick:()=>{vn(!1),Un(null),dt(""),bn("")},style:ue.closeBtn,children:""})]}),m.jsxs("div",{style:ue.formBox,children:[m.jsx("select",{value:at,onChange:rt=>ht(rt.target.value),style:ue.select,children:Ft.map(rt=>m.jsx("option",{value:rt,children:rt},rt))}),m.jsx("input",{style:{...ue.input,marginTop:10},placeholder:" ",value:gt,onChange:rt=>dt(rt.target.value)}),m.jsx("input",{type:"file",accept:"video/*",onChange:rt=>re(rt,"video",wt=>bn(wt))}),xn&&m.jsx("video",{src:xn,style:{width:"100%",maxHeight:150,marginTop:10},controls:!0}),m.jsx("button",{onClick:ys,style:{...ue.actionBtn,background:"#2196F3"},children:" "})]}),m.jsx("div",{style:ue.list,children:q.map(rt=>m.jsxs("div",{style:ue.listItem,children:[m.jsx("video",{src:rt.url,style:{width:60,height:40,objectFit:"cover",borderRadius:4}}),m.jsx("div",{style:{flex:1,marginLeft:10},children:m.jsx("p",{style:{fontSize:10,color:"#888",margin:0},children:rt.description})}),m.jsx("button",{onClick:async()=>{if(confirm("?")){const wt=q.filter(St=>St.id!==rt.id);G(wt),await j({videos:wt})}},style:ue.delBtn,children:""})]},rt.id))})]})})]})}const Nt={cms:{position:"fixed",right:0,top:0,height:"100vh",width:"340px",background:"#111",borderLeft:"1px solid #333",zIndex:11e3,color:"#fff",boxSizing:"border-box",overflowY:"auto"},toggleArea:{display:"flex",background:"#000",padding:"10px",gap:"5px",position:"sticky",top:0,zIndex:12e3},tabBtn:{flex:1,padding:"12px 5px",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",transition:"0.2s"},mainTitle:{color:"#ffb347",fontSize:"1.1rem",borderBottom:"1px solid #333",paddingBottom:10,marginBottom:20,textAlign:"center"},sectionBox:{background:"rgba(255,255,255,0.02)",border:"1px solid #333",padding:"15px",borderRadius:"12px",marginBottom:20},sectionLabel:{fontSize:"13px",fontWeight:"bold",color:"#ffb347",display:"block",marginBottom:15},modeBtn:{flex:1,padding:"8px",fontSize:"11px",borderRadius:"5px",border:"none",fontWeight:"bold",cursor:"pointer"},fieldGroup:{marginBottom:15,paddingBottom:10,borderBottom:"1px solid #222"},fieldLabel:{fontSize:"11px",color:"#aaa",display:"block",marginBottom:5},fileInput:{width:"100%",fontSize:"11px",color:"#888"},checkText:{fontSize:"10px",color:"#4CAF50",margin:"5px 0"},rangeRow:{display:"flex",justifyContent:"space-between",fontSize:"10px",marginTop:10,color:"#888"},rangeGrid:{display:"flex",gap:10,marginTop:10,fontSize:"10px",color:"#888"},bannerList:{display:"flex",gap:8,overflowX:"auto",marginTop:10,paddingBottom:5},bannerThumb:{position:"relative",flexShrink:0,width:80,height:45,borderRadius:4,overflow:"hidden",border:"1px solid #444"},bannerDelBtn:{position:"absolute",top:2,right:2,background:"rgba(255,0,0,0.8)",color:"#fff",border:"none",borderRadius:"50%",width:18,height:18,fontSize:"10px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10},modalOpenBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},textInput:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",fontSize:"12px",boxSizing:"border-box"},saveExitBtn:{width:"100%",padding:"18px",background:"#fff",color:"#000",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10}},ue={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",zIndex:12e3,display:"flex",justifyContent:"center",alignItems:"center",padding:20},container:{width:"100%",maxWidth:"550px",maxHeight:"90vh",background:"#111",padding:"25px",borderRadius:"20px",border:"2px solid #ffb347",overflowY:"auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeBtn:{background:"#ff4d4d",color:"#fff",border:"none",padding:"8px 15px",borderRadius:"6px",cursor:"pointer"},formBox:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:"12px",marginBottom:20},select:{flex:1,padding:"10px",background:"#000",color:"#fff",border:"1px solid #444",borderRadius:"6px"},input:{width:"100%",padding:"12px",background:"#000",border:"1px solid #333",color:"#fff",borderRadius:"8px",boxSizing:"border-box"},previewImg:{width:"100%",height:100,objectFit:"contain",background:"#000",marginTop:10,borderRadius:8},actionBtn:{width:"100%",padding:"15px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer",marginTop:10},list:{background:"#000",borderRadius:"10px",border:"1px solid #222"},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",borderBottom:"1px solid #111"},editBtn:{background:"none",color:"#4CAF50",border:"none",cursor:"pointer",fontWeight:"bold"},delBtn:{background:"none",color:"#ff4d4d",border:"none",cursor:"pointer",marginLeft:10}},xt={container:{display:"flex",height:"100vh",background:"#000",color:"#fff",position:"fixed",inset:0,zIndex:2e4},sidebar:{width:"280px",background:"#111",padding:"30px 20px",borderRight:"1px solid #222",overflowY:"auto"},title:{color:"#ffb347",marginBottom:"30px",fontSize:"22px",fontWeight:"900",letterSpacing:"1px"},onlineBadge:{background:"#222",padding:"15px",borderRadius:"12px",marginBottom:30,textAlign:"center",border:"1px solid #333"},menu:{padding:"12px 10px",cursor:"pointer",color:"#888",fontSize:"15px",fontWeight:"700",borderRadius:"8px",transition:"0.2s"},menuActive:{padding:"12px 10px",cursor:"pointer",color:"#000",background:"#ffb347",fontWeight:"900",fontSize:"15px",borderRadius:"8px",marginBottom:"2px"},countTag:{background:"#ff3b30",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",float:"right",marginTop:2},main:{flex:1,padding:"40px",overflowY:"auto",background:"#050505"},card:{background:"#111",padding:"30px",borderRadius:"25px",border:"1px solid #222",marginBottom:30},bigTabTitle:{fontSize:"28px",marginBottom:"30px",fontWeight:"900",color:"#fff"},monitorBox:{display:"flex",gap:"30px",background:"#000",padding:"20px",borderRadius:"15px",border:"1px solid #333",alignItems:"center"},table:{width:"100%",borderCollapse:"collapse",textAlign:"left"},adminInput:{background:"#1a1a1a",border:"1px solid #333",color:"#ffb347",padding:"15px",borderRadius:"10px",fontSize:"20px",width:"200px"},searchInputField:{background:"#000",border:"1px solid #333",color:"#fff",padding:"10px",borderRadius:"10px",fontSize:"16px",flex:1},adminItemCard:{padding:"30px 5px",borderRadius:"15px",textAlign:"center",cursor:"pointer",transition:"0.2s",fontWeight:"900",display:"flex",flexDirection:"column",justifyContent:"center",height:"120px"},applyBtn:{marginTop:"20px",width:"100%",padding:"20px",background:"#ffb347",color:"#000",border:"none",borderRadius:"15px",fontWeight:"900",fontSize:"18px",cursor:"pointer"},giantInput:{background:"#222",border:"1px solid #444",color:"#fff",padding:"10px",width:"100%",borderRadius:"8px",fontSize:"16px",textAlign:"center"},giantBtn:{background:"#ffb347",border:"none",padding:"10px 15px",borderRadius:"8px",cursor:"pointer",fontWeight:"800",fontSize:14},delBtn:{background:"#333",color:"#ff3b30",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginLeft:"auto"},exitBtn:{marginTop:"40px",width:"100%",padding:"15px",background:"#222",color:"#888",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},queueRow:{background:"#222",padding:"15px",borderRadius:8,marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"}},Do={ROUND_DURATION:65,BASE_ROUND:1824231,START_TIME:new Date("2024-01-01T00:00:00Z").getTime()},aO=(n,t)=>{const[i,r]=F.useState({currentRound:0,timeLeft:0,isDrawing:!1}),[o,u]=F.useState(0),[c,d]=F.useState({}),[g,y]=F.useState([]),[v,b]=F.useState([]),[S,D]=F.useState([]),[N,B]=F.useState([]),[U,Q]=F.useState([]),[L,q]=F.useState([]),[G,tt]=F.useState(""),[et,R]=F.useState(""),A=F.useMemo(()=>{const $=Date.now();return n.filter(pt=>pt.lastActive&&$-pt.lastActive<6e4)},[n]),w=async $=>{const pt=JSON.parse(JSON.stringify($));await Bf(Le(Jt,"settings","global"),{users:pt},{merge:!0})};return F.useEffect(()=>{const $=Ls(Zn(Jt,"event_manipulation"),gt=>{const dt={};gt.forEach(_t=>{dt[_t.id]=_t.data().winner||_t.data().items}),d(dt)}),pt=Ls(Ca(Zn(Jt,"event_bets"),Rf("round","desc"),Ab(100)),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),dt.length>0&&b(dt)}),vt=Ls(Ca(Zn(Jt,"deposit_requests"),Rf("timestamp","desc")),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),D(dt)}),O=Ls(Ca(Zn(Jt,"withdraw_requests"),Rf("timestamp","desc")),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),B(dt)}),J=Ls(Ca(Zn(Jt,"finance_history"),Rf("completedAt","desc"),Ab(50)),gt=>{const dt=[];gt.forEach(_t=>dt.push({id:_t.id,..._t.data()})),Q(dt)});q(JSON.parse(localStorage.getItem("daisy_agents")||"[]"));const at=JSON.parse(localStorage.getItem("event_total_history")||"[]");y(at.sort((gt,dt)=>dt.round-gt.round));const ht=setInterval(()=>{const dt=Date.now()-Do.START_TIME,_t=Do.BASE_ROUND+Math.floor(dt/(Do.ROUND_DURATION*1e3)),se=Do.ROUND_DURATION*1e3-dt%(Do.ROUND_DURATION*1e3);let Xt=Math.floor(se/1e3);Xt>=Do.ROUND_DURATION&&(Xt=0),r({currentRound:_t,timeLeft:Xt,isDrawing:Xt<=5}),u(vn=>vn===0?_t+1:vn)},1e3);return()=>{$(),pt(),vt(),O(),J(),clearInterval(ht)}},[]),{currentInfo:i,targetRound:o,setTargetRound:u,queue:c,deleteQueue:async $=>{try{await tm(Le(Jt,"event_manipulation",String($)));const pt={...c};delete pt[$],d(pt)}catch{alert(" ")}},gameHistory:g,sponsorships:v,activeUsers:A,depositRequests:S,withdrawRequests:N,financeHistory:U,approveDeposit:async $=>{if(window.confirm(`${$.userId} ${$.amount.toLocaleString()} DIA  ?`))try{const pt=Le(Jt,"settings","global"),vt=await Er(pt),O=vt.exists()?vt.data().users||[]:[],J=O.find(dt=>dt.id===$.userId),ht=(J&&J.diamond||0)+$.amount,gt=O.map(dt=>dt.id===$.userId?{...dt,diamond:ht}:dt);t(gt),await w(gt);try{await Ar(Le(Jt,"users",$.userId),{diamond:ht})}catch{}await Vu(Zn(Jt,"finance_history"),{...$,type:"",status:"",completedAt:new Date().toISOString()}),await tm(Le(Jt,"deposit_requests",$.id)),alert("  !")}catch(pt){alert(" : "+pt.message)}},approveWithdraw:async $=>{if(window.confirm(`${$.userId}  () ?`))try{const pt=Le(Jt,"settings","global"),vt=await Er(pt),O=vt.exists()?vt.data().users||[]:[],J=O.find(dt=>dt.id===$.userId),at=J&&J.diamond||0;if(at<$.amount&&!window.confirm(`[]  (${at}) (${$.amount}) . ?`))return;const ht=at-$.amount,gt=O.map(dt=>dt.id===$.userId?{...dt,diamond:ht}:dt);t(gt),await w(gt);try{await Ar(Le(Jt,"users",$.userId),{diamond:ht})}catch{}await Vu(Zn(Jt,"finance_history"),{...$,type:"",status:"",completedAt:new Date().toISOString()}),await tm(Le(Jt,"withdraw_requests",$.id)),alert("    !")}catch(pt){alert(" : "+pt.message)}},agents:L,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:R,addAgent:()=>{if(!G)return;const $=[...L,{name:G,code:et,id:Date.now()}];q($),localStorage.setItem("daisy_agents",JSON.stringify($)),tt(""),R("")},handleApplyManipulation:async $=>{if(!$)return alert(" .");try{return await Bf(Le(Jt,"event_manipulation",String(o)),{winner:$,updatedAt:new Date().toISOString()}),d({...c,[o]:$}),alert(`[${o}]  [${$}] !`),!0}catch(pt){return alert(": "+pt.message),!1}},updateFullUserInfo:async($,pt,vt,O)=>{const J=parseInt(pt);if(isNaN(J))return alert(" .");try{const at=n.map(ht=>ht.id===$?{...ht,diamond:J,refCode:vt||"",referral:O||""}:ht);t(at),localStorage.setItem("users",JSON.stringify(at)),await w(at);try{await Ar(Le(Jt,"users",$),{diamond:J,refCode:vt||"",referral:O||""})}catch{}alert(`[${$}]   `)}catch(at){alert(" : "+at.message)}},handleChangeUserPassword:async $=>{const pt=window.prompt(`[${$}]   :`);if(pt)try{const vt=n.map(O=>O.id===$?{...O,password:pt}:O);t(vt),localStorage.setItem("users",JSON.stringify(vt)),await w(vt);try{await Ar(Le(Jt,"users",$),{password:pt})}catch{}alert("  ")}catch{alert(" ")}},handleChangeAdminPassword:async()=>{const $=window.prompt(" ' (game)'   :");if($)try{await Bf(Le(Jt,"settings","global"),{gamePw:$},{merge:!0}),localStorage.setItem("daisy_game_password",$),alert(`     ! 
: ${$}`)}catch(pt){alert(" : "+pt.message)}}}},oO=({depositRequests:n,withdrawRequests:t,approveDeposit:i,approveWithdraw:r})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:" /  "}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:40},children:[m.jsxs("div",{children:[m.jsxs("h3",{style:{color:"#00ff00",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",n.length,")"]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):n.map(o=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsxs("td",{children:[m.jsx("b",{children:o.userId}),m.jsx("br",{}),m.jsx("span",{style:{fontSize:12,color:"#888"},children:o.depositName})]}),m.jsx("td",{style:{color:"#00ff00",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),m.jsx("td",{children:m.jsx("button",{onClick:()=>i(o),style:xt.giantBtn,children:""})})]},o.id))})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{style:{color:"#ff3b30",marginTop:0,borderBottom:"1px solid #333",paddingBottom:10},children:["   (",t.length,")"]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:t.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"3",style:{padding:20,color:"#555"},children:""})}):t.map(o=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsxs("td",{children:[m.jsx("b",{children:o.userId}),m.jsx("br",{}),m.jsx("span",{style:{fontSize:12,color:"#888"},children:o.bankInfo?.bank})]}),m.jsx("td",{style:{color:"#ff3b30",fontSize:18,fontWeight:"bold"},children:o.amount.toLocaleString()}),m.jsx("td",{children:m.jsx("button",{onClick:()=>r(o),style:{...xt.giantBtn,background:"#ff3b30",color:"#fff"},children:""})})]},o.id))})]})]})]})]}),lO=({financeHistory:n})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  /  "}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:"ID"}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",style:{padding:30,textAlign:"center"},children:" "})}):n.map(t=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{style:{color:"#888",fontSize:13},children:new Date(t.completedAt).toLocaleString()}),m.jsx("td",{style:{fontWeight:"bold"},children:t.userId}),m.jsx("td",{children:m.jsx("span",{style:{background:t.type===""?"rgba(0,255,0,0.1)":"rgba(255,59,48,0.1)",color:t.type===""?"#00ff00":"#ff3b30",padding:"3px 8px",borderRadius:"5px",fontSize:12,fontWeight:"bold"},children:t.type})}),m.jsx("td",{style:{fontSize:16,fontWeight:"bold"},children:t.amount.toLocaleString()}),m.jsx("td",{style:{color:"#4cd137",fontWeight:"bold"},children:t.status})]},t.id))})]})]}),uO=({currentInfo:n,targetRound:t,setTargetRound:i,queue:r,deleteQueue:o,handleApplyManipulation:u})=>{const[c,d]=F.useState(null);return m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"   "}),m.jsxs("div",{style:xt.monitorBox,children:[m.jsxs("div",{children:[" : ",m.jsxs("b",{style:{fontSize:"24px",color:"#fff"},children:[n.currentRound,""]})]}),m.jsxs("div",{children:[" : ",m.jsxs("b",{style:{fontSize:"24px",color:n.timeLeft<=5?"#ff3b30":"#00ff00"},children:[n.timeLeft,""]})]})]}),m.jsxs("div",{style:{marginTop:30},children:[m.jsx("div",{style:{marginBottom:"10px",color:"#888"},children:"  ():"}),m.jsx("input",{type:"number",placeholder:"",value:t,onChange:g=>i(parseInt(g.target.value)),style:xt.adminInput}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.5fr 1fr",gap:"20px",marginTop:"30px"},children:[m.jsxs("div",{onClick:()=>d("PLAYER"),style:{...xt.adminItemCard,border:c==="PLAYER"?"4px solid #4d94ff":"1px solid #333",background:c==="PLAYER"?"#4d94ff":"#1a1a1a",color:c==="PLAYER"?"#000":"#4d94ff"},children:[m.jsx("div",{style:{fontSize:"20px"},children:"PLAYER"}),m.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x2.0)"})]}),m.jsxs("div",{onClick:()=>d("TIE"),style:{...xt.adminItemCard,border:c==="TIE"?"4px solid #00e676":"1px solid #333",background:c==="TIE"?"#00e676":"#1a1a1a",color:c==="TIE"?"#000":"#00e676"},children:[m.jsx("div",{style:{fontSize:"20px"},children:"TIE"}),m.jsx("div",{style:{fontSize:"12px",opacity:.8},children:" (x9.0)"})]}),m.jsxs("div",{onClick:()=>d("BANKER"),style:{...xt.adminItemCard,border:c==="BANKER"?"4px solid #ff4d4d":"1px solid #333",background:c==="BANKER"?"#ff4d4d":"#1a1a1a",color:c==="BANKER"?"#000":"#ff4d4d"},children:[m.jsx("div",{style:{fontSize:"20px"},children:"BANKER"}),m.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"  (x1.95)"})]})]}),m.jsxs("button",{onClick:()=>{if(!c)return alert(" ");u(c).then(g=>{g&&d(null)})},style:{...xt.applyBtn,background:c?"#fff":"#333",color:"#000",opacity:c?1:.5},children:[t,"  ",m.jsxs("b",{children:["[",c,"]"]})," "]})]}),m.jsxs("div",{style:{marginTop:30,borderTop:"1px solid #333",paddingTop:20},children:[m.jsx("h3",{style:{color:"#888"},children:"   "}),Object.entries(r).length===0?m.jsx("div",{style:{color:"#555"},children:" "}):Object.entries(r).map(([g,y])=>m.jsxs("div",{style:xt.queueRow,children:[m.jsxs("div",{children:[m.jsxs("b",{style:{marginRight:10,color:"#fff"},children:[g,""]}),m.jsxs("span",{style:{fontWeight:"bold",color:y==="PLAYER"?"#4d94ff":y==="BANKER"?"#ff4d4d":"#00e676"},children:[y," WIN"]})]}),m.jsx("button",{onClick:()=>o(g),style:xt.delBtn,children:""})]},g))]})]})},cO=({users:n,updateFullUserInfo:t,handleChangeUserPassword:i})=>{const[r,o]=F.useState(""),u=n.filter(c=>(c.id||"").toLowerCase().includes(r.toLowerCase()));return m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[m.jsx("span",{style:{fontSize:24},children:""}),m.jsx("input",{placeholder:" ...",value:r,onChange:c=>o(c.target.value),style:xt.searchInputField})]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:u.map(c=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{children:c.lastActive&&Date.now()-c.lastActive<6e4?m.jsx("span",{style:{color:"#0f0"},children:""}):m.jsx("span",{style:{color:"#444"},children:""})}),m.jsx("td",{style:{fontWeight:"bold",fontSize:18},children:c.id}),m.jsxs("td",{style:{color:"#ffb347"},children:[" ",c.diamond?.toLocaleString()]}),m.jsx("td",{children:m.jsx("input",{id:`pt-${c.id}`,defaultValue:c.diamond,style:xt.giantInput})}),m.jsxs("td",{style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0"},children:[m.jsx("button",{onClick:()=>t(c.id,document.getElementById(`pt-${c.id}`).value,c.refCode,c.referral),style:xt.giantBtn,children:""}),m.jsx("button",{onClick:()=>i(c.id),style:{...xt.giantBtn,background:"#5856d6",color:"#fff"},children:""})]})]},c.id))})]})]})},fO=({agents:n,users:t,newAgentName:i,setNewAgentName:r,newAgentCode:o,setNewAgentCode:u,addAgent:c,setAgents:d})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[m.jsx("input",{placeholder:"",value:i,onChange:g=>r(g.target.value),style:xt.giantInput}),m.jsx("input",{placeholder:"",value:o,onChange:g=>u(g.target.value),style:xt.giantInput}),m.jsx("button",{onClick:c,style:xt.giantBtn,children:""})]}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map(g=>{const y=t.filter(v=>v.referral===g.code);return m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{style:{color:"#ffb347",fontSize:18},children:g.name}),m.jsx("td",{children:g.code}),m.jsx("td",{style:{color:"#00ff00"},children:y.length}),m.jsx("td",{style:{fontSize:12,color:"#888",maxWidth:300},children:y.map(v=>v.id).join(", ")}),m.jsx("td",{children:m.jsx("button",{onClick:()=>{const v=n.filter(b=>b.id!==g.id);d(v),localStorage.setItem("daisy_agents",JSON.stringify(v))},style:xt.delBtn,children:""})})]},g.id)})})]})]}),hO=({users:n,updateFullUserInfo:t})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:" "}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map(i=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{children:i.id}),m.jsx("td",{children:m.jsx("input",{id:`rc-${i.id}`,defaultValue:i.refCode||"",style:xt.giantInput})}),m.jsx("td",{children:m.jsx("input",{id:`rf-${i.id}`,defaultValue:i.referral||"",style:{...xt.giantInput,color:"#0ff"}})}),m.jsx("td",{children:m.jsx("button",{onClick:()=>t(i.id,i.diamond,document.getElementById(`rc-${i.id}`).value,document.getElementById(`rf-${i.id}`).value),style:xt.giantBtn,children:""})})]},i.id))})]})]}),dO=({gameHistory:n})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map(t=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsxs("td",{style:{color:"#ffb347"},children:[t.round,""]}),m.jsxs("td",{style:{fontWeight:"bold",color:t.result==="PLAYER"?"#4d94ff":t.result==="BANKER"?"#ff4d4d":"#00e676"},children:[t.result," (",t.pScore,":",t.bScore,")"]})]},t.round))})]})]}),pO=({sponsorships:n})=>m.jsxs("div",{style:xt.card,children:[m.jsx("h1",{style:xt.bigTabTitle,children:"  "}),m.jsx("div",{style:{maxHeight:600,overflowY:"auto"},children:m.jsxs("table",{style:xt.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:""}),m.jsx("th",{children:"ID"}),m.jsx("th",{children:""}),m.jsx("th",{children:""}),m.jsx("th",{children:""})]})}),m.jsx("tbody",{children:n.map((t,i)=>m.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[m.jsx("td",{style:{color:"#ffb347"},children:t.round}),m.jsx("td",{children:m.jsx("b",{children:t.userId})}),m.jsx("td",{style:{color:t.pick==="PLAYER"?"#4d94ff":t.pick==="BANKER"?"#ff4d4d":"#00e676",fontWeight:"bold"},children:t.pick}),m.jsx("td",{style:{color:"#fff"},children:t.betAmount?.toLocaleString()}),m.jsx("td",{children:t.win===null?m.jsx("span",{style:{color:"#888"},children:""}):t.win?m.jsx("span",{style:{color:"#0f0"},children:""}):m.jsx("span",{style:{color:"#f00"},children:""})})]},i))})]})})]});function mO({users:n,setUsers:t,onExit:i}){const[r,o]=F.useState("requests"),{currentInfo:u,targetRound:c,setTargetRound:d,queue:g,deleteQueue:y,gameHistory:v,sponsorships:b,activeUsers:S,depositRequests:D,withdrawRequests:N,financeHistory:B,approveDeposit:U,approveWithdraw:Q,agents:L,setAgents:q,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:R,addAgent:A,handleApplyManipulation:w,updateFullUserInfo:j,handleChangeUserPassword:V,handleChangeAdminPassword:k}=aO(n,t);return m.jsxs("div",{style:xt.container,children:[m.jsxs("aside",{style:xt.sidebar,children:[m.jsx("h2",{style:xt.title,children:"CASINO MASTER"}),m.jsxs("div",{style:xt.onlineBadge,children:[m.jsx("div",{style:{color:"#888",fontSize:13,marginBottom:5},children:"NOW ONLINE"}),m.jsxs("div",{style:{color:"#00ff00",fontSize:22,fontWeight:"bold"},children:[" ",S.length,""]})]}),m.jsxs("div",{onClick:()=>o("requests"),style:r==="requests"?xt.menuActive:xt.menu,children:[" /  ",m.jsx("span",{style:xt.countTag,children:D.length+N.length})]}),m.jsx("div",{onClick:()=>o("finance"),style:r==="finance"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{style:{height:1,background:"#333",margin:"10px 0"}}),m.jsx("div",{onClick:()=>o("event"),style:r==="event"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("users"),style:r==="users"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("referrals"),style:r==="referrals"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("agents"),style:r==="agents"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("history"),style:r==="history"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{onClick:()=>o("sponsorships"),style:r==="sponsorships"?xt.menuActive:xt.menu,children:"  "}),m.jsx("div",{style:{marginTop:30,marginBottom:10,borderTop:"1px solid #333",paddingTop:20},children:m.jsx("button",{onClick:k,style:{...xt.menu,background:"none",border:"none",width:"100%",textAlign:"left",fontSize:16},children:"   "})}),m.jsx("button",{onClick:i,style:xt.exitBtn,children:" "})]}),m.jsxs("main",{style:xt.main,children:[r==="requests"&&m.jsx(oO,{depositRequests:D,withdrawRequests:N,approveDeposit:U,approveWithdraw:Q}),r==="finance"&&m.jsx(lO,{financeHistory:B}),r==="event"&&m.jsx(uO,{currentInfo:u,targetRound:c,setTargetRound:d,queue:g,deleteQueue:y,handleApplyManipulation:w}),r==="users"&&m.jsx(cO,{users:n,updateFullUserInfo:j,handleChangeUserPassword:V}),r==="referrals"&&m.jsx(hO,{users:n,updateFullUserInfo:j}),r==="agents"&&m.jsx(fO,{agents:L,setAgents:q,users:n,newAgentName:G,setNewAgentName:tt,newAgentCode:et,setNewAgentCode:R,addAgent:A}),r==="history"&&m.jsx(dO,{gameHistory:v}),r==="sponsorships"&&m.jsx(pO,{sponsorships:b})]})]})}const gO=new BroadcastChannel("daisy_global_channel"),eT=[""," "," ","","","","","","",""],nT=["","","","",""],rn=(n,t)=>{try{const i=localStorage.getItem(n);if(!i)return t;const r=JSON.parse(i);return r===null?t:r}catch{return t}},an=(n,t)=>{try{if(t===void 0)return;localStorage.setItem(n,JSON.stringify(t))}catch(i){i.name==="QuotaExceededError"&&alert("Storage quota exceeded! Please reduce image sizes.")}},iT={ko:{login:"",signup:"",id:"",pw:"",ref:" ",guest:" ",logout:"",home:"",manager:"",event:"",video:"",mypage:"",welcome:"     !",desc_suffix:" .",prepare:"  .",close:""},en:{login:"LOGIN",signup:"SIGN UP",id:"ID",pw:"PASSWORD",ref:"REFERRAL CODE",guest:"START AS GUEST",logout:"LOGOUT",home:"HOME",manager:"MODELS",event:"GAMES",video:"GALLERY",mypage:"MY PAGE",welcome:" Welcome to DAISY CLUB!",desc_suffix:" Page Content.",prepare:"Coming Soon.",close:"CLOSE"}};function yO(){const[n,t]=F.useState(()=>rn("lang","ko")),[i,r]=F.useState(()=>rn("loggedIn",!1)),[o,u]=F.useState(()=>rn("isAdmin",!1)),[c,d]=F.useState(()=>rn("isGuest",!1)),[g,y]=F.useState(()=>rn("users",[])),[v,b]=F.useState(()=>rn("currentUser",null)),[S,D]=F.useState(null),[N,B]=F.useState(0),[U,Q]=F.useState(!1),[L,q]=F.useState(()=>rn("adminPw","123456")),[G,tt]=F.useState(()=>rn("gamePw","1234")),[et,R]=F.useState(()=>rn("telegramLink","https://t.me/DAISY_CORE_OFFICIAL")),[A,w]=F.useState(!0),[j,V]=F.useState(!1),[k,I]=F.useState(()=>rn("members",[])),[At,Ft]=F.useState(()=>rn("slideImages",[])),[M,K]=F.useState(()=>rn("hero",{mode:"image",imageSrc:null,title:{ko:"DAISY CORE",en:"DAISY CORE"},desc:{ko:"    ",en:"Private connections for the chosen few"}})),[$,pt]=F.useState(()=>rn("videoURL",null)),[vt,O]=F.useState(()=>rn("videos",[])),[J,at]=F.useState(()=>rn("logo",null)),[ht,gt]=F.useState(()=>rn("logoSize",140)),[dt,_t]=F.useState(()=>rn("logoPos",{x:0,y:0})),[se,Xt]=F.useState(()=>rn("innerLogo",null)),[vn,zn]=F.useState("dashboard"),Un=F.useMemo(()=>iT[n]||iT.ko,[n]);F.useEffect(()=>{const rt=Ls(Le(Jt,"settings","global"),wt=>{if(wt.exists()){const St=wt.data();St.hero&&K(St.hero),St.videoURL!==void 0&&pt(St.videoURL),St.logo!==void 0&&at(St.logo),St.logoSize&&gt(St.logoSize),St.logoPos&&_t(St.logoPos),St.members&&I(St.members),St.slideImages&&Ft(St.slideImages),St.videos&&O(St.videos),St.innerLogo!==void 0&&Xt(St.innerLogo),St.adminPassword?q(St.adminPassword):St.adminPw&&q(St.adminPw),St.gamePw&&tt(St.gamePw),St.telegramLink&&R(St.telegramLink),St.users&&y(St.users)}});return()=>rt()},[]);const xn=async rt=>{try{const wt={hero:M,videoURL:$,logo:J,logoSize:ht,logoPos:dt,members:k,slideImages:At,videos:vt,innerLogo:se,adminPw:L,gamePw:G,telegramLink:et,users:g,...rt};return await Bf(Le(Jt,"settings","global"),wt),console.log(" Server Sync Complete"),!0}catch(wt){return console.error(" Sync Failed:",wt),!1}},bn=async()=>await xn({}),ii=F.useCallback((rt,wt,St,te)=>{y(ae=>ae.map(ee=>ee.id===rt?{...ee,diamond:wt,refCode:St,referral:te}:ee)),b(ae=>ae?.id===rt?{...ae,diamond:wt,refCode:St,referral:te}:ae)},[]);F.useEffect(()=>{gO.onmessage=wt=>{const{type:St,userId:te,point:ae,refCode:ee,referral:si}=wt.data||{};(St==="USER_UPDATE"||St==="POINT_UPDATE")&&te&&ii(te,ae,ee,si)};const rt=wt=>{const{userId:St,point:te,refCode:ae,referral:ee}=wt.detail||{};St&&ii(St,te,ae,ee)};return window.addEventListener("user_point_update",rt),()=>window.removeEventListener("user_point_update",rt)},[ii]),F.useEffect(()=>{an("lang",n),an("loggedIn",i),an("isAdmin",o),an("isGuest",c),an("users",g),an("currentUser",v),an("members",k),an("hero",M),an("logo",J),an("logoSize",ht),an("logoPos",dt),an("slideImages",At),an("videoURL",$),an("videos",vt),an("innerLogo",se),an("adminPw",L),an("gamePw",G),an("telegramLink",et)},[n,i,o,c,g,v,M,J,ht,dt,k,At,$,vt,se,L,G,et]);const Ei=async(rt,wt)=>{let St=L,te=G;try{const ee=await Er(Le(Jt,"settings","global"));if(ee.exists()){const si=ee.data();si.adminPw&&(St=si.adminPw),si.gamePw&&(te=si.gamePw),q(St),tt(te)}}catch{console.error("   ")}if(rt==="game")if(wt===te){Q(!0),r(!0);return}else return alert("   .");if(rt==="admin")if(wt===St){u(!0),r(!0),b({id:"admin",no:"000001",diamond:999999,rewards:0,refCode:"MASTER"}),zn("dashboard");return}else return alert("   .");const ae=g.find(ee=>ee.id===rt&&ee.pw===wt);if(!ae)return alert(n==="ko"?"  .":"Login Failed");b({...ae}),r(!0),d(!1)},Ai=()=>{r(!1),u(!1),d(!1),Q(!1),b(null)},ys=(rt,wt)=>{D(rt),B(wt)};if(U)return m.jsx(mO,{users:g,setUsers:y,onExit:Ai});const re=i&&v,be=!re||o&&vn==="landing";return m.jsxs("div",{style:{...Sa.app,height:"100vh",overflow:"hidden"},children:[A&&!o&&re&&!be&&m.jsx("div",{style:Sa.popupOverlay,children:m.jsxs("div",{style:Sa.popupContent,children:[m.jsx("h2",{style:{color:"#ffb347",marginBottom:"15px"},children:"NOTICE"}),m.jsx("p",{style:{color:"#fff",fontSize:"0.9rem",marginBottom:"25px"},children:"  ."}),m.jsx("button",{onClick:()=>w(!1),style:Sa.popupBtn,children:Un.close})]})}),be?m.jsx("div",{style:{height:"100%",overflowY:"auto"},children:m.jsx(ej,{t:Un,lang:n,users:g,setUsers:y,hero:M,videoURL:$,logo:J,logoSize:ht,logoPos:dt,styles:Sa,isAdmin:o,setLang:t,onLogin:Ei,onGuestLogin:()=>{b({id:"GUEST",no:"G-1",diamond:0,rewards:0,refCode:""}),r(!0),u(!1),d(!0)},syncToFirebase:xn})}):m.jsx(nO,{user:v,onUpdatePoint:rt=>ii(v.id,rt,v.refCode,v.referral),appAvatarImage:S,appAvatarIdx:N,onAvatarChange:ys,t:Un,lang:n,isGuest:c,members:k,regions:eT,slideImages:At,videos:vt,videoCategories:nT,innerLogo:se,telegramLink:et,onLogout:Ai,dashStyles:vO}),o&&m.jsx(rO,{adminPreviewMode:vn,setAdminPreviewMode:zn,hero:M,setHero:K,setVideoURL:pt,videoURL:$,logo:J,setLogo:at,logoSize:ht,setLogoSize:gt,logoPos:dt,setLogoPos:_t,members:k,setMembers:I,regions:eT,slideImages:At,setSlideImages:Ft,videos:vt,setVideos:O,videoCategories:nT,innerLogo:se,setInnerLogo:Xt,onExit:Ai,styles:Sa,adminPw:L,setAdminPw:q,telegramLink:et,setTelegramLink:R,openIndependent:()=>Q(!0),saveToFirebase:bn,syncToFirebase:xn}),!o&&be&&m.jsx("header",{style:{position:"fixed",top:20,right:20,zIndex:10002},children:m.jsx("button",{style:Sa.langBtn,onClick:()=>t(n==="ko"?"en":"ko"),children:n==="ko"?"ENGLISH":""})})]})}const Sa={app:{width:"100%",background:"#000",fontFamily:"'Inter', sans-serif",color:"#fff",position:"relative"},bgWrap:{position:"fixed",inset:0,zIndex:0},bgOverlay:{position:"absolute",inset:0,background:"radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%)",zIndex:1},bgImage:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center"},bgVideo:{width:"100%",height:"100%",objectFit:"cover"},logoContainer:{position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},defaultLogo:{fontSize:32,letterSpacing:4,fontWeight:900,color:"#fff",textShadow:"0 0 20px rgba(255,179,71,0.5)"},landingWrapper:{minHeight:"100vh",position:"relative",zIndex:1},mainContent:{position:"relative",zIndex:5,paddingTop:"15vh"},heroSection:{textAlign:"center",marginBottom:40},mainTitle:{fontSize:"4rem",fontWeight:900,letterSpacing:-2,margin:0,color:"#fff"},subTitle:{fontSize:"1.2rem",opacity:.7,color:"#fff",fontWeight:300,marginTop:10},authWrap:{display:"flex",justifyContent:"center",padding:"0 20px"},authCard:{width:"100%",maxWidth:380,padding:40,borderRadius:30,background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},authTitle:{textAlign:"center",marginBottom:25,fontSize:24,fontWeight:700},authInput:{width:"100%",padding:"15px 20px",marginBottom:15,borderRadius:15,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:16,boxSizing:"border-box"},primaryBtn:{width:"100%",padding:15,borderRadius:15,fontWeight:700,background:"#fff",color:"#000",border:"none",cursor:"pointer",fontSize:16},guestBtn:{width:"100%",padding:15,marginTop:10,borderRadius:15,background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontSize:14},authToggle:{marginTop:20,textAlign:"center",fontSize:13,opacity:.6,cursor:"pointer",textDecoration:"underline"},langBtn:{padding:"8px 16px",borderRadius:20,background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,backdropFilter:"blur(5px)"},popupOverlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(5px)"},popupContent:{width:"90%",maxWidth:"350px",backgroundColor:"#111",border:"2px solid #ffb347",borderRadius:"25px",padding:"30px",textAlign:"center",boxShadow:"0 0 30px rgba(255,179,71,0.4)"},popupBtn:{width:"100%",padding:"12px",background:"#ffb347",border:"none",borderRadius:"12px",fontWeight:"bold",color:"#000",cursor:"pointer"}},vO={container:{position:"relative",zIndex:10,width:"100%",maxWidth:500,margin:"0 auto",background:"#000",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},contentArea:{flex:1,overflowY:"auto",paddingBottom:20,WebkitOverflowScrolling:"touch"},bottomNav:{position:"relative",width:"100%",maxWidth:500,height:80,background:"rgba(20,20,20,0.95)",display:"flex",justifyContent:"space-around",alignItems:"center",borderTop:"1px solid #222",backdropFilter:"blur(10px)",flexShrink:0},navItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},logoutBtn:{padding:"12px 30px",borderRadius:15,background:"rgba(255,45,85,0.1)",color:"#ff2d55",border:"1px solid #ff2d55",fontWeight:700,cursor:"pointer"}};L2.createRoot(document.getElementById("root")).render(m.jsx(F.StrictMode,{children:m.jsx(yO,{})}));
